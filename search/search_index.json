{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"ossa \u5f00\u6e90\u5b89\u5168\u67b6\u6784 \u5982\u679c\u613f\u610f\u5206\u4eab\u6216\u8005\u60f3\u7ed9\u6211\u4e00\u4e9b\u66f4\u591a\u7684\u610f\u89c1\uff0c\u6b22\u8fce\u52a0\u6211\u5fae\u4fe1\uff1a Lzero2012 \u81f4\u8fc7\u53bb \u672c\u9879\u76ee\u4ece2018-10-08\u53f7\u5f00\u59cb\u521b\u5efa\uff0c\u622a\u6b62\u76ee\u524d2\u4e2a\u6708\u591a\u4e00\u70b9\uff0cstar\u76ee\u524d\u5728400+\uff0c\u5f88\u611f\u8c22\u5927\u5bb6\u7684\u652f\u6301\uff0c\u5199\u4e1c\u897f\u4e00\u76f4\u662f\u4e00\u4ef6\u5f88\u7d2f\u7684\u4e8b\u60c5\uff0c\u4f46\u662f\u6211\u4e00\u76f4\u5728\u52aa\u529b\u4e0b\u53bb\u3002 \u8fc7\u53bb\u76842\u4e2a\u6708\u5199\u4e86\u5f88\u591a\u5f00\u6e90\u5b89\u5168\u5de5\u5177\u7684\u5b89\u88c5\u4e0e\u4f7f\u7528\uff0c\u4e5f\u6709\u5f88\u591a\u4eba\u63d0\u51fa\u4e86\u8d28\u7591\"\u4e0d\u5e94\u8be5\u628a\u9879\u76ee\u5199\u6210\u4e86\u5de5\u5177\u6587\u7ae0\"\uff0c\u5957\u7528\u524d\u51e0\u5929\u770b\u5230\u7684\u4e00\u53e5\u8bdd\uff1a\"\u5b89\u88c5\u4e0e\u4f7f\u7528\u6211\u4e0d\u4f1a\u53bb\u770b\u5b98\u65b9\u6587\u6863\u561b\"\u3002\u8fd9\u91cc\u7ed9\u81ea\u5df1\u89e3\u91ca\u4e00\u4e0b\uff0c\u4e00\u5f00\u59cb\u6211\u7684\u65b9\u5411\u5c31\u662f\u5229\u7528\u5f00\u6e90\u5de5\u5177\u6765\u5efa\u8bbe\u4e2d\u5c0f\u578b\u4f01\u4e1a\u7684\u5b89\u5168\uff0c\u8fd9\u7c7b\u578b\u7684\u5f88\u591a\u516c\u53f8\u53ef\u80fd\u6ca1\u6709\u4e13\u4e1a\u7684\u5b89\u5168\uff0c\u6216\u8005\u662f\u4e00\u4e2a\u4eba\u7684\u5b89\u5168\u90e8\uff0c\u6240\u4ee5\u6211\u5728\u7b2c\u4e00\u9636\u6bb5\u5c31\u662f\u54ea\u4e9b\u5b89\u5168\u9690\u60a3\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4ec0\u4e48\u6837\u7684\u5de5\u5177\u6765\u89e3\u51b3\u3002\u4ece\u7b2c\u4e8c\u9636\u6bb5\u5230\u7b2c\u4e09\u9636\u6bb5\u5c06\u4f1a\u662f\u8fd9\u4e9b\u5de5\u5177\u5728\u4f01\u4e1a\u7684\u843d\u5730\u7ecf\u9a8c\uff08\u4e00\u4e2a\u4eba\u7684\u7ecf\u9a8c\u59cb\u7ec8\u662f\u6709\u9650\u7684\uff0c\u6211\u6709\u65f6\u95f4\u4e5f\u4f1a\u53bb\u627e\u4e00\u4e9b\u7532\u65b9\u7684\u670b\u53cb\u6765\u78b0\u649e\u601d\u8def\u6574\u7406\u4ee5\u540e\u53d1\u51fa\u6765\uff09\u3002 2018/10/12-2018/12/07 \u521d\u59cb\u7248\u672c\u6574\u4f53\u67b6\u6784\u5b89\u6392\uff1b V1.0\u7248\u672c\u76ee\u5f55\u91cd\u6784\uff1b \u5e94\u7528\u5b89\u5168\u57fa\u7840\u77e5\u8bc6\uff1a\u5b89\u5168\u6d4b\u8bd5\u3001\u626b\u63cf\u7b49\uff1b DoS/DDoS/CC\u3001\u5165\u4fb5\u68c0\u6d4b\u4e0e\u9632\u5fa1\uff1b \u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b\u3001\u65e5\u5fd7\u5206\u6790\uff1b \u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b\u3001\u65e5\u5fd7\u5206\u6790\u3001\u871c\u7f50\u3001\u767b\u5f55\u767b\u5f55\u8ba4\u8bc1\uff1b \u65e5\u5fd7\u5206\u6790\u8e29\u5751\u3001\u871c\u7f50MHN\u3001jumpserver\uff1b LDAP+Cas\u8eab\u4efd\u4e0e\u8bbf\u95ee\u5b89\u5168\uff1b \u9493\u9c7c\u5e73\u53f0gophish\uff1b Now \u7b2c\u4e00\u9636\u6bb5\u6301\u7eed\u4e862\u4e2a\u591a\u6708\uff0c\u672c\u4ee5\u4e3a\u8fd9\u4e2a\u65f6\u95f4\u4f1a\u66f4\u957f\u4e00\u4e9b\uff0c\u770b\u6765\u81ea\u5df1\u8fd8\u662f\u771f\u7684\u5f88\u62fc\u4e86\uff08\u5199\u5de5\u5177\u5b89\u88c5\u4f7f\u7528\u5176\u5b9e\u662f\u4e00\u4e2a\u4f53\u529b\u6d3b\uff0c\u8111\u529b\u6d3b\u66f4\u591a\u4f53\u73b0\u5728\u5bf9\u5de5\u5177\u7684\u601d\u8003\u4e0e\u8e29\u5751\uff09\u3002\u76ee\u524d\u539f\u9879\u76ee\u88ab\u6211\u5220\u9664\u4e86\uff0c\u4ece\u660e\u5929\u5f00\u59cb\u9879\u76ee\u4f1a\u51fa\u73b0\u4e00\u4e9b\u53d8\u5316\uff0c\u5f88\u591a\u5b50\u9879\u76ee\u5c06\u4f1a\u4ee5\u5982\u4f55\u5728\u4f01\u4e1a\u4e2d\u843d\u5730\u7684\u5f62\u5f0f\u5c55\u73b0\u7ed9\u5927\u5bb6\uff0c\u5e0c\u671b\u5927\u5bb6\u80fd\u7ed9\u6211\u66f4\u591a\u7684\u610f\u89c1\u3002 2018-12-16\uff1a\u5b89\u5168\u6d4b\u8bd5\u6982\u8ff0\u3001\u6f0f\u6d1e\u7ba1\u7406\u6982\u8ff0\u3001\u5b89\u5168\u626b\u63cf\u6982\u8ff0 2018-12-21\uff1a\u9879\u76ee\u8fc1\u79fb 2018-12-27\uff1a\u9879\u76ee\u8fc1\u79fb\u57fa\u672c\u5b8c\u6210\uff0c2019\u5e74\u4ece\u4ee5\u6bcf\u5468\u5468\u592924\u70b9\u4e3a\u65f6\u95f4\u8282\u70b9\uff0c\u6bcf\u5468\u4ea7\u51fa\u4e00\u7bc7\u6df1\u5ea6\u6280\u672f\u6587\u7ae0\u3002 2019-01-13\uff1a\u5b89\u5168\u7ba1\u7406\u5e73\u53f0 2019-01-20\uff1a\u8d44\u4ea7\u7ba1\u7406\u5e73\u53f0 \u611f\u8c22 \u6392\u540d\u4e0d\u5206\u524d\u540e\uff0c\u975e\u5e38\u8c22\u8c22\u5927\u5bb6\u4f19\u7684\u652f\u6301\uff01 aerfa atiger77 bsmali4 cf_hb elknot@meituan hblf hiw0rld LostManiac ourren Rozero Sophone \u5343\u57df\u5343\u5bfb SecWiki \u52fe\u9648\u5b89\u5168\u5b9e\u9a8c\u5ba4","title":"ossa"},{"location":"#ossa","text":"\u5f00\u6e90\u5b89\u5168\u67b6\u6784 \u5982\u679c\u613f\u610f\u5206\u4eab\u6216\u8005\u60f3\u7ed9\u6211\u4e00\u4e9b\u66f4\u591a\u7684\u610f\u89c1\uff0c\u6b22\u8fce\u52a0\u6211\u5fae\u4fe1\uff1a Lzero2012","title":"ossa"},{"location":"#_1","text":"\u672c\u9879\u76ee\u4ece2018-10-08\u53f7\u5f00\u59cb\u521b\u5efa\uff0c\u622a\u6b62\u76ee\u524d2\u4e2a\u6708\u591a\u4e00\u70b9\uff0cstar\u76ee\u524d\u5728400+\uff0c\u5f88\u611f\u8c22\u5927\u5bb6\u7684\u652f\u6301\uff0c\u5199\u4e1c\u897f\u4e00\u76f4\u662f\u4e00\u4ef6\u5f88\u7d2f\u7684\u4e8b\u60c5\uff0c\u4f46\u662f\u6211\u4e00\u76f4\u5728\u52aa\u529b\u4e0b\u53bb\u3002 \u8fc7\u53bb\u76842\u4e2a\u6708\u5199\u4e86\u5f88\u591a\u5f00\u6e90\u5b89\u5168\u5de5\u5177\u7684\u5b89\u88c5\u4e0e\u4f7f\u7528\uff0c\u4e5f\u6709\u5f88\u591a\u4eba\u63d0\u51fa\u4e86\u8d28\u7591\"\u4e0d\u5e94\u8be5\u628a\u9879\u76ee\u5199\u6210\u4e86\u5de5\u5177\u6587\u7ae0\"\uff0c\u5957\u7528\u524d\u51e0\u5929\u770b\u5230\u7684\u4e00\u53e5\u8bdd\uff1a\"\u5b89\u88c5\u4e0e\u4f7f\u7528\u6211\u4e0d\u4f1a\u53bb\u770b\u5b98\u65b9\u6587\u6863\u561b\"\u3002\u8fd9\u91cc\u7ed9\u81ea\u5df1\u89e3\u91ca\u4e00\u4e0b\uff0c\u4e00\u5f00\u59cb\u6211\u7684\u65b9\u5411\u5c31\u662f\u5229\u7528\u5f00\u6e90\u5de5\u5177\u6765\u5efa\u8bbe\u4e2d\u5c0f\u578b\u4f01\u4e1a\u7684\u5b89\u5168\uff0c\u8fd9\u7c7b\u578b\u7684\u5f88\u591a\u516c\u53f8\u53ef\u80fd\u6ca1\u6709\u4e13\u4e1a\u7684\u5b89\u5168\uff0c\u6216\u8005\u662f\u4e00\u4e2a\u4eba\u7684\u5b89\u5168\u90e8\uff0c\u6240\u4ee5\u6211\u5728\u7b2c\u4e00\u9636\u6bb5\u5c31\u662f\u54ea\u4e9b\u5b89\u5168\u9690\u60a3\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4ec0\u4e48\u6837\u7684\u5de5\u5177\u6765\u89e3\u51b3\u3002\u4ece\u7b2c\u4e8c\u9636\u6bb5\u5230\u7b2c\u4e09\u9636\u6bb5\u5c06\u4f1a\u662f\u8fd9\u4e9b\u5de5\u5177\u5728\u4f01\u4e1a\u7684\u843d\u5730\u7ecf\u9a8c\uff08\u4e00\u4e2a\u4eba\u7684\u7ecf\u9a8c\u59cb\u7ec8\u662f\u6709\u9650\u7684\uff0c\u6211\u6709\u65f6\u95f4\u4e5f\u4f1a\u53bb\u627e\u4e00\u4e9b\u7532\u65b9\u7684\u670b\u53cb\u6765\u78b0\u649e\u601d\u8def\u6574\u7406\u4ee5\u540e\u53d1\u51fa\u6765\uff09\u3002","title":"\u81f4\u8fc7\u53bb"},{"location":"#20181012-20181207","text":"\u521d\u59cb\u7248\u672c\u6574\u4f53\u67b6\u6784\u5b89\u6392\uff1b V1.0\u7248\u672c\u76ee\u5f55\u91cd\u6784\uff1b \u5e94\u7528\u5b89\u5168\u57fa\u7840\u77e5\u8bc6\uff1a\u5b89\u5168\u6d4b\u8bd5\u3001\u626b\u63cf\u7b49\uff1b DoS/DDoS/CC\u3001\u5165\u4fb5\u68c0\u6d4b\u4e0e\u9632\u5fa1\uff1b \u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b\u3001\u65e5\u5fd7\u5206\u6790\uff1b \u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b\u3001\u65e5\u5fd7\u5206\u6790\u3001\u871c\u7f50\u3001\u767b\u5f55\u767b\u5f55\u8ba4\u8bc1\uff1b \u65e5\u5fd7\u5206\u6790\u8e29\u5751\u3001\u871c\u7f50MHN\u3001jumpserver\uff1b LDAP+Cas\u8eab\u4efd\u4e0e\u8bbf\u95ee\u5b89\u5168\uff1b \u9493\u9c7c\u5e73\u53f0gophish\uff1b","title":"2018/10/12-2018/12/07"},{"location":"#now","text":"\u7b2c\u4e00\u9636\u6bb5\u6301\u7eed\u4e862\u4e2a\u591a\u6708\uff0c\u672c\u4ee5\u4e3a\u8fd9\u4e2a\u65f6\u95f4\u4f1a\u66f4\u957f\u4e00\u4e9b\uff0c\u770b\u6765\u81ea\u5df1\u8fd8\u662f\u771f\u7684\u5f88\u62fc\u4e86\uff08\u5199\u5de5\u5177\u5b89\u88c5\u4f7f\u7528\u5176\u5b9e\u662f\u4e00\u4e2a\u4f53\u529b\u6d3b\uff0c\u8111\u529b\u6d3b\u66f4\u591a\u4f53\u73b0\u5728\u5bf9\u5de5\u5177\u7684\u601d\u8003\u4e0e\u8e29\u5751\uff09\u3002\u76ee\u524d\u539f\u9879\u76ee\u88ab\u6211\u5220\u9664\u4e86\uff0c\u4ece\u660e\u5929\u5f00\u59cb\u9879\u76ee\u4f1a\u51fa\u73b0\u4e00\u4e9b\u53d8\u5316\uff0c\u5f88\u591a\u5b50\u9879\u76ee\u5c06\u4f1a\u4ee5\u5982\u4f55\u5728\u4f01\u4e1a\u4e2d\u843d\u5730\u7684\u5f62\u5f0f\u5c55\u73b0\u7ed9\u5927\u5bb6\uff0c\u5e0c\u671b\u5927\u5bb6\u80fd\u7ed9\u6211\u66f4\u591a\u7684\u610f\u89c1\u3002 2018-12-16\uff1a\u5b89\u5168\u6d4b\u8bd5\u6982\u8ff0\u3001\u6f0f\u6d1e\u7ba1\u7406\u6982\u8ff0\u3001\u5b89\u5168\u626b\u63cf\u6982\u8ff0 2018-12-21\uff1a\u9879\u76ee\u8fc1\u79fb 2018-12-27\uff1a\u9879\u76ee\u8fc1\u79fb\u57fa\u672c\u5b8c\u6210\uff0c2019\u5e74\u4ece\u4ee5\u6bcf\u5468\u5468\u592924\u70b9\u4e3a\u65f6\u95f4\u8282\u70b9\uff0c\u6bcf\u5468\u4ea7\u51fa\u4e00\u7bc7\u6df1\u5ea6\u6280\u672f\u6587\u7ae0\u3002 2019-01-13\uff1a\u5b89\u5168\u7ba1\u7406\u5e73\u53f0 2019-01-20\uff1a\u8d44\u4ea7\u7ba1\u7406\u5e73\u53f0","title":"Now"},{"location":"#_2","text":"\u6392\u540d\u4e0d\u5206\u524d\u540e\uff0c\u975e\u5e38\u8c22\u8c22\u5927\u5bb6\u4f19\u7684\u652f\u6301\uff01 aerfa atiger77 bsmali4 cf_hb elknot@meituan hblf hiw0rld LostManiac ourren Rozero Sophone \u5343\u57df\u5343\u5bfb SecWiki \u52fe\u9648\u5b89\u5168\u5b9e\u9a8c\u5ba4","title":"\u611f\u8c22"},{"location":"application-security/","text":"\u5e94\u7528\u5b89\u5168 \u53c2\u8003\u8d44\u6599 The Basics of Web Application Security Web \u5e94\u7528\u5b89\u5168\u57fa\u7840 \u7b2c\u4e00\u7ae0 \u4e92\u8054\u7f51\u4f01\u4e1a\u4e3a\u4ec0\u4e48\u5fc5\u987b\u5173\u6ce8\u5e94\u7528\u5b89\u5168 \u7b2c\u4e8c\u7ae0 \u5e94\u7528\u5b89\u5168\u80fd\u529b\u5efa\u8bbe\u76ee\u6807\u4e0e\u7b56\u7565 \u7b2c\u4e09\u7ae0 \u5e94\u7528\u5b89\u5168\u7ba1\u7406\u6a21\u578b","title":"\u5e94\u7528\u5b89\u5168"},{"location":"application-security/#_1","text":"","title":"\u5e94\u7528\u5b89\u5168"},{"location":"application-security/#_2","text":"The Basics of Web Application Security Web \u5e94\u7528\u5b89\u5168\u57fa\u7840 \u7b2c\u4e00\u7ae0 \u4e92\u8054\u7f51\u4f01\u4e1a\u4e3a\u4ec0\u4e48\u5fc5\u987b\u5173\u6ce8\u5e94\u7528\u5b89\u5168 \u7b2c\u4e8c\u7ae0 \u5e94\u7528\u5b89\u5168\u80fd\u529b\u5efa\u8bbe\u76ee\u6807\u4e0e\u7b56\u7565 \u7b2c\u4e09\u7ae0 \u5e94\u7528\u5b89\u5168\u7ba1\u7406\u6a21\u578b","title":"\u53c2\u8003\u8d44\u6599"},{"location":"application-security/code-audit/","text":"\u4ee3\u7801\u5ba1\u8ba1 \u4ee3\u7801\u5ba1\u8ba1\u7684\u51e0\u4e2a\u95ee\u9898 \u4e3a\u4ec0\u4e48\u8981\u8fdb\u884c\u4ee3\u7801\u5ba1\u8ba1 \u5982\u4f55\u628a\u4ee3\u7801\u5ba1\u8ba1\u878d\u5165\u6574\u4f53\u7684DevOps\u6d41\u7a0b\u4e2d \u8986\u76d6\u7387\u3001\u6f0f\u62a5\u7387\u3001\u8bef\u62a5\u7387\u3001\u5904\u7406\u7387\u5982\u6765\u5e73\u8861 \u5982\u4f55\u5904\u7406\u4ee3\u7406\u5ba1\u8ba1\u4e2d\u7684\u8bef\u62a5\u3001\u6f0f\u62a5 \u8c01\u6765\u770b\u4ee3\u7801\u5ba1\u8ba1\u62a5\u544a\u3001\u5ba1\u8ba1\u7684\u95ee\u9898\u5982\u4f55\u63a8\u52a8\u4fee\u590d \u5f00\u6e90 \u514d\u8d39\u4ee3\u7801\u5ba1\u8ba1 cobra cobra\uff1a\u9759\u6001\u4ee3\u7801\u5206\u6790\u5de5\u5177\u3002 github\u5730\u5740 \u5b89\u88c5\u6587\u6863 cobra\u5b89\u88c5 # \u89e3\u51b3\u4f9d\u8d56 yum install flex bison phantomjs -y # \u5b89\u88c5 git clone https://github.com/WhaleShark-Team/cobra.git cd cobra pip install -r requirements.txt python cobra.py --help cobra\u89c4\u5219 cobra/rules # \u9ed8\u8ba4\u81ea\u5e26\u89c4\u5219 rats \u5b98\u7f51\u5730\u5740 findbugs findbugs\uff1a\u63d2\u4ef6\u5f0f\u9759\u6001\u5206\u6790\u5de5\u5177\u3002 \u5b98\u7f51\u5730\u5740 \u4e0b\u8f7d\u5730\u5740 findbugs\u5b89\u88c5 \u76f4\u63a5\u5728\u5f00\u53d1\u5de5\u5177\u7684\u63d2\u4ef6\u4e2d\u8fdb\u884c\u5b89\u88c5\uff0c\u6216\u8005\u4e0b\u8f7d\u4ee5\u540e\u5bfc\u5165\u3002 rips rips\uff1a\u9759\u6001\u6df1\u5ea6\u5206\u6790\u6e90\u4ee3\u7801\u6f0f\u6d1e\u7684\u5de5\u5177\uff0c\u80fd\u81ea\u52a8\u5316\u6316\u6398PHP\u4ee3\u7801\u6f0f\u6d1e\u3002 \u4e0b\u8f7d\u5730\u5740 \u5b89\u88c5\u4e0e\u4f7f\u7528 yum install php httpd.x86_64 -y systemctl start httpd.service wget https://nchc.dl.sourceforge.net/project/rips-scanner/rips-0.55.zip unzip rips-0.55.zip # \u586b\u5199\u6e90\u4ee3\u7801\u8def\u5f84\u5c31\u53ef\u4ee5\u5f00\u59cb\u626b\u63cf\u4e86 \u5fc3\u5f97 \u5bf9PHP\u9879\u76ee\u652f\u6301\u6bd4\u8f83\u53cb\u597d\uff0c\u5176\u5b83\u8bed\u8a00\u5ba1\u8ba1\u6548\u679c\u4e00\u822c\uff1b \u4e0eseay\u6cd5\u5e08\u7684\u5ba1\u8ba1\u5de5\u5177\u5f88\u7c7b\u4f3c\uff1b \u53c2\u8003\u8d44\u6599 RIPS\u6e90\u7801\u7cbe\u8bfb\uff1a\u903b\u8f91\u6d41\u7a0b\u53calib\u6587\u4ef6\u5939\u5927\u81f4\u8bf4\u660e RIPS\u6e90\u7801\u7cbe\u8bfb\uff1a\u626b\u63cf\u5bf9\u8c61\u7684\u5b9e\u4f8b\u5316\u53catoken\u4fe1\u606f\u7684\u751f\u6210 vcg VCG\uff1a\u7b80\u6d01\u7684\u98ce\u9669\u51fd\u6570\u626b\u63cf\u5b9a\u4f4d\u5de5\u5177\uff0c\u57fa\u4e8e\u5b57\u5178\u5b9e\u73b0\u626b\u63cf\u529f\u80fd\u3002 \u4e0b\u8f7d\u5730\u5740 \u4ee3\u7801\u5ba1\u8ba1\u5546\u4e1a\u8f6f\u4ef6\u5bf9\u6bd4 \u5907\u6ce8\uff1a\u5982\u679c\u56fe\u7247\u6709\u4fb5\u6743\u884c\u4e3a\uff0c\u8bf7\u8054\u7cfb\u6211\uff01","title":"\u4ee3\u7801\u5ba1\u8ba1"},{"location":"application-security/code-audit/#_1","text":"","title":"\u4ee3\u7801\u5ba1\u8ba1"},{"location":"application-security/code-audit/#_2","text":"\u4e3a\u4ec0\u4e48\u8981\u8fdb\u884c\u4ee3\u7801\u5ba1\u8ba1 \u5982\u4f55\u628a\u4ee3\u7801\u5ba1\u8ba1\u878d\u5165\u6574\u4f53\u7684DevOps\u6d41\u7a0b\u4e2d \u8986\u76d6\u7387\u3001\u6f0f\u62a5\u7387\u3001\u8bef\u62a5\u7387\u3001\u5904\u7406\u7387\u5982\u6765\u5e73\u8861 \u5982\u4f55\u5904\u7406\u4ee3\u7406\u5ba1\u8ba1\u4e2d\u7684\u8bef\u62a5\u3001\u6f0f\u62a5 \u8c01\u6765\u770b\u4ee3\u7801\u5ba1\u8ba1\u62a5\u544a\u3001\u5ba1\u8ba1\u7684\u95ee\u9898\u5982\u4f55\u63a8\u52a8\u4fee\u590d","title":"\u4ee3\u7801\u5ba1\u8ba1\u7684\u51e0\u4e2a\u95ee\u9898"},{"location":"application-security/code-audit/#_3","text":"","title":"\u5f00\u6e90&amp;\u514d\u8d39\u4ee3\u7801\u5ba1\u8ba1"},{"location":"application-security/code-audit/#cobra","text":"cobra\uff1a\u9759\u6001\u4ee3\u7801\u5206\u6790\u5de5\u5177\u3002 github\u5730\u5740 \u5b89\u88c5\u6587\u6863 cobra\u5b89\u88c5 # \u89e3\u51b3\u4f9d\u8d56 yum install flex bison phantomjs -y # \u5b89\u88c5 git clone https://github.com/WhaleShark-Team/cobra.git cd cobra pip install -r requirements.txt python cobra.py --help cobra\u89c4\u5219 cobra/rules # \u9ed8\u8ba4\u81ea\u5e26\u89c4\u5219","title":"cobra"},{"location":"application-security/code-audit/#rats","text":"\u5b98\u7f51\u5730\u5740","title":"rats"},{"location":"application-security/code-audit/#findbugs","text":"findbugs\uff1a\u63d2\u4ef6\u5f0f\u9759\u6001\u5206\u6790\u5de5\u5177\u3002 \u5b98\u7f51\u5730\u5740 \u4e0b\u8f7d\u5730\u5740 findbugs\u5b89\u88c5 \u76f4\u63a5\u5728\u5f00\u53d1\u5de5\u5177\u7684\u63d2\u4ef6\u4e2d\u8fdb\u884c\u5b89\u88c5\uff0c\u6216\u8005\u4e0b\u8f7d\u4ee5\u540e\u5bfc\u5165\u3002","title":"findbugs"},{"location":"application-security/code-audit/#rips","text":"rips\uff1a\u9759\u6001\u6df1\u5ea6\u5206\u6790\u6e90\u4ee3\u7801\u6f0f\u6d1e\u7684\u5de5\u5177\uff0c\u80fd\u81ea\u52a8\u5316\u6316\u6398PHP\u4ee3\u7801\u6f0f\u6d1e\u3002 \u4e0b\u8f7d\u5730\u5740 \u5b89\u88c5\u4e0e\u4f7f\u7528 yum install php httpd.x86_64 -y systemctl start httpd.service wget https://nchc.dl.sourceforge.net/project/rips-scanner/rips-0.55.zip unzip rips-0.55.zip # \u586b\u5199\u6e90\u4ee3\u7801\u8def\u5f84\u5c31\u53ef\u4ee5\u5f00\u59cb\u626b\u63cf\u4e86 \u5fc3\u5f97 \u5bf9PHP\u9879\u76ee\u652f\u6301\u6bd4\u8f83\u53cb\u597d\uff0c\u5176\u5b83\u8bed\u8a00\u5ba1\u8ba1\u6548\u679c\u4e00\u822c\uff1b \u4e0eseay\u6cd5\u5e08\u7684\u5ba1\u8ba1\u5de5\u5177\u5f88\u7c7b\u4f3c\uff1b \u53c2\u8003\u8d44\u6599 RIPS\u6e90\u7801\u7cbe\u8bfb\uff1a\u903b\u8f91\u6d41\u7a0b\u53calib\u6587\u4ef6\u5939\u5927\u81f4\u8bf4\u660e RIPS\u6e90\u7801\u7cbe\u8bfb\uff1a\u626b\u63cf\u5bf9\u8c61\u7684\u5b9e\u4f8b\u5316\u53catoken\u4fe1\u606f\u7684\u751f\u6210","title":"rips"},{"location":"application-security/code-audit/#vcg","text":"VCG\uff1a\u7b80\u6d01\u7684\u98ce\u9669\u51fd\u6570\u626b\u63cf\u5b9a\u4f4d\u5de5\u5177\uff0c\u57fa\u4e8e\u5b57\u5178\u5b9e\u73b0\u626b\u63cf\u529f\u80fd\u3002 \u4e0b\u8f7d\u5730\u5740","title":"vcg"},{"location":"application-security/code-audit/#_4","text":"\u5907\u6ce8\uff1a\u5982\u679c\u56fe\u7247\u6709\u4fb5\u6743\u884c\u4e3a\uff0c\u8bf7\u8054\u7cfb\u6211\uff01","title":"\u4ee3\u7801\u5ba1\u8ba1\u5546\u4e1a\u8f6f\u4ef6\u5bf9\u6bd4"},{"location":"application-security/code-audit/ethereum-smart-contracts-code-audit/","text":"\u667a\u80fd\u5408\u7ea6\u4ee3\u7801\u5ba1\u8ba1 mythril\u5b89\u88c5\u4e0e\u4f7f\u7528 github\u5730\u5740 \u5b89\u88c5solitity github\u5730\u5740 \u5b98\u65b9\u5b89\u88c5\u6587\u6863 Ubuntu\u5b89\u88c5 sudo add-apt-repository ppa:ethereum/ethereum sudo apt-get update sudo apt-get install solc \u5b89\u88c5mythril sudo apt-get update sudo apt-get install -y software-properties-common sudo add-apt-repository -y ppa:ethereum/ethereum sudo apt-get update sudo apt-get install -y solc sudo apt-get install libssl-dev sudo apt-get install -y python3-pip=9.0.1-2 python3-dev sudo ln -s /usr/bin/python3 /usr/local/bin/python sudo apt-get install -y pandoc sudo apt-get install -y git pip3 install mythril \u4f7f\u7528mythril myth -x *.sol:contract -o markdown","title":"\u667a\u80fd\u5408\u7ea6\u4ee3\u7801\u5ba1\u8ba1"},{"location":"application-security/code-audit/ethereum-smart-contracts-code-audit/#_1","text":"","title":"\u667a\u80fd\u5408\u7ea6\u4ee3\u7801\u5ba1\u8ba1"},{"location":"application-security/code-audit/ethereum-smart-contracts-code-audit/#mythril","text":"github\u5730\u5740","title":"mythril\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"application-security/code-audit/ethereum-smart-contracts-code-audit/#solitity","text":"github\u5730\u5740 \u5b98\u65b9\u5b89\u88c5\u6587\u6863 Ubuntu\u5b89\u88c5 sudo add-apt-repository ppa:ethereum/ethereum sudo apt-get update sudo apt-get install solc","title":"\u5b89\u88c5solitity"},{"location":"application-security/code-audit/ethereum-smart-contracts-code-audit/#mythril_1","text":"sudo apt-get update sudo apt-get install -y software-properties-common sudo add-apt-repository -y ppa:ethereum/ethereum sudo apt-get update sudo apt-get install -y solc sudo apt-get install libssl-dev sudo apt-get install -y python3-pip=9.0.1-2 python3-dev sudo ln -s /usr/bin/python3 /usr/local/bin/python sudo apt-get install -y pandoc sudo apt-get install -y git pip3 install mythril","title":"\u5b89\u88c5mythril"},{"location":"application-security/code-audit/ethereum-smart-contracts-code-audit/#mythril_2","text":"myth -x *.sol:contract -o markdown","title":"\u4f7f\u7528mythril"},{"location":"application-security/code-audit/sonarqube/","text":"sonarqube\uff1a\u4ee3\u7801\u8d28\u91cf\u7ba1\u7406\u5e73\u53f0 \u5b98\u7f51\u5730\u5740 \u5b98\u65b9\u6587\u6863 SonarQube\u5b89\u88c5\u4e0e\u4f7f\u7528 Centos7\u5b89\u88c5SonarQube \u6570\u636e\u5e93\u4e0d\u8981\u4f7f\u7528mariadb \u4e0d\u8981\u4f7f\u7528root\u8fdb\u884c\u5b89\u88c5\uff0ces\u4f1a\u63d0\u793a\"can not run elasticsearch as root\" \u89e3\u51b3\u4f9d\u8d56 # \u5b89\u88c5jvm\u73af\u5883 yum install java-1.8.0-openjdk.x86_64 java-1.8.0-openjdk-devel.x86_64 -y # \u5b89\u88c5\u6570\u636e\u5e93 wget -i -c http://dev.mysql.com/get/mysql57-community-release-el7-10.noarch.rpm rpm -ivh mysql57-community-release-el7-10.noarch.rpm yum install mysql-community-server.x86_64 -y # \u914d\u7f6e\u6570\u636e\u5e93 systemctl start mysqld.service # \u6570\u636e\u5e93\u521d\u59cb\u5bc6\u7801 grep password /var/log/mysqld.log # \u4fee\u6539\u6570\u636e\u5e93\u5bc6\u7801 ALTER USER 'root'@'localhost' IDENTIFIED BY 'new password'; # \u521b\u5efa\u6570\u636e\u5e93sonar create database sonar; \u5b89\u88c5SonarQube # \u4e0b\u8f7d\uff0c\u4ece\u8fd9\u91cc\u5f00\u59cb\u5e94\u8be5\u4f7f\u7528\u666e\u901a\u7528\u6237\u64cd\u4f5c wget https://binaries.sonarsource.com/Distribution/sonarqube/sonarqube-7.3.zip # \u89e3\u538b unzip sonarqube-7.3.zip # \u542f\u52a8sonarqube cd sonarqube-7.3/ ./bin/linux-x86-64/sonar.sh start # \u8bbf\u95ee\uff1ahttp://10.10.10.5:9000/sessions/new # \u8d26\u53f7\uff1aadmin \u5bc6\u7801\uff1aadmin \u914d\u7f6eSonarQube \u914d\u7f6e\u6570\u636e\u5e93 vim ./conf/sonar.properties # \u6ce8\u91ca\u5982\u4e0b\u4e09\u884c\uff0c\u5e76\u6dfb\u52a0\u6570\u636e\u5e93\u8d26\u53f7\u5bc6\u7801 sonar.jdbc.username=root sonar.jdbc.password=password sonar.jdbc.url=jdbc:mysql://localhost:3306/sonar?useUnicode=true characterEncoding=utf8 rewriteBatchedStatements=true useConfigs=maxPerformance useSSL=false # \u91cd\u542f\u670d\u52a1 ./bin/linux-x86-64/sonar.sh restart \u6c49\u5316 \u5728Administration\u83dc\u5355\u680f\uff0c\u9009\u62e9Marketplace\u6807\u9898\uff0c\u5728\u641c\u7d22\u6846\u8f93\u5165chinese\u8fdb\u884c\u641c\u7d22\uff0c\u7136\u540e\u8fdb\u884c\u5b89\u88c5 \u5b89\u88c5\u5b8c\u6210\u540e\u91cd\u542f SonarQube Scanner SonarQube Scanner\u5b89\u88c5 # \u4e0b\u8f7d wget https://binaries.sonarsource.com/Distribution/sonar-scanner-cli/sonar-scanner-cli-3.2.0.1227-linux.zip # \u89e3\u538b unzip sonar-scanner-cli-3.2.0.1227-linux.zip # \u6dfb\u52a0\u73af\u5883\u53d8\u91cf cd sonar-scanner-3.2.0.1227-linux/ vim /etc/profile export SONAR_SCANNER_HOME=/home/bloodzer0/sonar-scanner-3.2.0.1227-linux export PATH=$PATH:$SONAR_SCANNER_HOME/bin source /etc/profile # \u9a8c\u8bc1\u5b89\u88c5 sonar-scanner -v SonarQube Scanner\u6267\u884c\u5206\u6790 token\u5728Web\u9875\u9762\u751f\u6210\uff0c\u70b9\u51fb\u9879\u76ee--\u5206\u6790\u65b0\u9879\u76ee\u3002 JS\u3001Python\u3001PHP\u7b49\u8bed\u8a00 sonar-scanner \\ -Dsonar.projectKey=security-test \\ -Dsonar.sources=. \\ -Dsonar.host.url=http://10.10.10.5:9000 \\ -Dsonar.login=token \u6d4b\u8bd5\u5206\u6790sqlmap\u4ee3\u7801 git clone https://github.com/sqlmapproject/sqlmap.git cd sqlmap # \u6267\u884c\u4e0a\u9762\u7684\u4ee3\u7801 # \u5206\u6790\u5b8c\u6210\u540e\uff0c\u5728web\u754c\u9762\u67e5\u770b\u5206\u6790\u7ed3\u679c Java-Maven mvn sonar:sonar \\ -Dsonar.host.url=http://10.10.10.5:9000 \\ -Dsonar.login=token Java-Gradle # \u5728build.gradle\u6587\u4ef6\u4e2d\u58f0\u660e plugins { id org.sonarqube version 2.6 } # \u7136\u540e\u6267\u884c\u547d\u4ee4 ./gradlew sonarqube \\ -Dsonar.host.url=http://192.168.199.5:9000 \\ -Dsonar.login=token C# \u6216 VB.NET SonarScanner.MSBuild.exe begin /k: test /d:sonar.host.url= http://192.168.199.5:9000 /d:sonar.login= token MsBuild.exe /t:Rebuild SonarScanner.MSBuild.exe end /d:sonar.login= token \u4f7f\u7528\u914d\u7f6e\u6587\u4ef6\u8fdb\u884c\u626b\u63cf \u5728\u9879\u76ee\u76ee\u5f55\u65b0\u5efasonar-project.properties\u6587\u4ef6 # must be unique in a given SonarQube instance sonar.projectKey=my:project # this is the name and version displayed in the SonarQube UI. Was mandatory prior to SonarQube 6.1. sonar.projectName=My project sonar.projectVersion=1.0 # Path is relative to the sonar-project.properties file. Replace \\ by / on Windows. # This property is optional if sonar.modules is set. sonar.sources=. # Encoding of the source code. Default is default system encoding #sonar.sourceEncoding=UTF-8","title":"sonarqube\uff1a\u4ee3\u7801\u8d28\u91cf\u7ba1\u7406\u5e73\u53f0"},{"location":"application-security/code-audit/sonarqube/#sonarqube","text":"\u5b98\u7f51\u5730\u5740 \u5b98\u65b9\u6587\u6863","title":"sonarqube\uff1a\u4ee3\u7801\u8d28\u91cf\u7ba1\u7406\u5e73\u53f0"},{"location":"application-security/code-audit/sonarqube/#sonarqube_1","text":"","title":"SonarQube\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"application-security/code-audit/sonarqube/#centos7sonarqube","text":"\u6570\u636e\u5e93\u4e0d\u8981\u4f7f\u7528mariadb \u4e0d\u8981\u4f7f\u7528root\u8fdb\u884c\u5b89\u88c5\uff0ces\u4f1a\u63d0\u793a\"can not run elasticsearch as root\" \u89e3\u51b3\u4f9d\u8d56 # \u5b89\u88c5jvm\u73af\u5883 yum install java-1.8.0-openjdk.x86_64 java-1.8.0-openjdk-devel.x86_64 -y # \u5b89\u88c5\u6570\u636e\u5e93 wget -i -c http://dev.mysql.com/get/mysql57-community-release-el7-10.noarch.rpm rpm -ivh mysql57-community-release-el7-10.noarch.rpm yum install mysql-community-server.x86_64 -y # \u914d\u7f6e\u6570\u636e\u5e93 systemctl start mysqld.service # \u6570\u636e\u5e93\u521d\u59cb\u5bc6\u7801 grep password /var/log/mysqld.log # \u4fee\u6539\u6570\u636e\u5e93\u5bc6\u7801 ALTER USER 'root'@'localhost' IDENTIFIED BY 'new password'; # \u521b\u5efa\u6570\u636e\u5e93sonar create database sonar; \u5b89\u88c5SonarQube # \u4e0b\u8f7d\uff0c\u4ece\u8fd9\u91cc\u5f00\u59cb\u5e94\u8be5\u4f7f\u7528\u666e\u901a\u7528\u6237\u64cd\u4f5c wget https://binaries.sonarsource.com/Distribution/sonarqube/sonarqube-7.3.zip # \u89e3\u538b unzip sonarqube-7.3.zip # \u542f\u52a8sonarqube cd sonarqube-7.3/ ./bin/linux-x86-64/sonar.sh start # \u8bbf\u95ee\uff1ahttp://10.10.10.5:9000/sessions/new # \u8d26\u53f7\uff1aadmin \u5bc6\u7801\uff1aadmin","title":"Centos7\u5b89\u88c5SonarQube"},{"location":"application-security/code-audit/sonarqube/#sonarqube_2","text":"\u914d\u7f6e\u6570\u636e\u5e93 vim ./conf/sonar.properties # \u6ce8\u91ca\u5982\u4e0b\u4e09\u884c\uff0c\u5e76\u6dfb\u52a0\u6570\u636e\u5e93\u8d26\u53f7\u5bc6\u7801 sonar.jdbc.username=root sonar.jdbc.password=password sonar.jdbc.url=jdbc:mysql://localhost:3306/sonar?useUnicode=true characterEncoding=utf8 rewriteBatchedStatements=true useConfigs=maxPerformance useSSL=false # \u91cd\u542f\u670d\u52a1 ./bin/linux-x86-64/sonar.sh restart \u6c49\u5316 \u5728Administration\u83dc\u5355\u680f\uff0c\u9009\u62e9Marketplace\u6807\u9898\uff0c\u5728\u641c\u7d22\u6846\u8f93\u5165chinese\u8fdb\u884c\u641c\u7d22\uff0c\u7136\u540e\u8fdb\u884c\u5b89\u88c5 \u5b89\u88c5\u5b8c\u6210\u540e\u91cd\u542f","title":"\u914d\u7f6eSonarQube"},{"location":"application-security/code-audit/sonarqube/#sonarqube-scanner","text":"","title":"SonarQube Scanner"},{"location":"application-security/code-audit/sonarqube/#sonarqube-scanner_1","text":"# \u4e0b\u8f7d wget https://binaries.sonarsource.com/Distribution/sonar-scanner-cli/sonar-scanner-cli-3.2.0.1227-linux.zip # \u89e3\u538b unzip sonar-scanner-cli-3.2.0.1227-linux.zip # \u6dfb\u52a0\u73af\u5883\u53d8\u91cf cd sonar-scanner-3.2.0.1227-linux/ vim /etc/profile export SONAR_SCANNER_HOME=/home/bloodzer0/sonar-scanner-3.2.0.1227-linux export PATH=$PATH:$SONAR_SCANNER_HOME/bin source /etc/profile # \u9a8c\u8bc1\u5b89\u88c5 sonar-scanner -v","title":"SonarQube Scanner\u5b89\u88c5"},{"location":"application-security/code-audit/sonarqube/#sonarqube-scanner_2","text":"token\u5728Web\u9875\u9762\u751f\u6210\uff0c\u70b9\u51fb\u9879\u76ee--\u5206\u6790\u65b0\u9879\u76ee\u3002 JS\u3001Python\u3001PHP\u7b49\u8bed\u8a00 sonar-scanner \\ -Dsonar.projectKey=security-test \\ -Dsonar.sources=. \\ -Dsonar.host.url=http://10.10.10.5:9000 \\ -Dsonar.login=token \u6d4b\u8bd5\u5206\u6790sqlmap\u4ee3\u7801 git clone https://github.com/sqlmapproject/sqlmap.git cd sqlmap # \u6267\u884c\u4e0a\u9762\u7684\u4ee3\u7801 # \u5206\u6790\u5b8c\u6210\u540e\uff0c\u5728web\u754c\u9762\u67e5\u770b\u5206\u6790\u7ed3\u679c Java-Maven mvn sonar:sonar \\ -Dsonar.host.url=http://10.10.10.5:9000 \\ -Dsonar.login=token Java-Gradle # \u5728build.gradle\u6587\u4ef6\u4e2d\u58f0\u660e plugins { id org.sonarqube version 2.6 } # \u7136\u540e\u6267\u884c\u547d\u4ee4 ./gradlew sonarqube \\ -Dsonar.host.url=http://192.168.199.5:9000 \\ -Dsonar.login=token C# \u6216 VB.NET SonarScanner.MSBuild.exe begin /k: test /d:sonar.host.url= http://192.168.199.5:9000 /d:sonar.login= token MsBuild.exe /t:Rebuild SonarScanner.MSBuild.exe end /d:sonar.login= token \u4f7f\u7528\u914d\u7f6e\u6587\u4ef6\u8fdb\u884c\u626b\u63cf \u5728\u9879\u76ee\u76ee\u5f55\u65b0\u5efasonar-project.properties\u6587\u4ef6 # must be unique in a given SonarQube instance sonar.projectKey=my:project # this is the name and version displayed in the SonarQube UI. Was mandatory prior to SonarQube 6.1. sonar.projectName=My project sonar.projectVersion=1.0 # Path is relative to the sonar-project.properties file. Replace \\ by / on Windows. # This property is optional if sonar.modules is set. sonar.sources=. # Encoding of the source code. Default is default system encoding #sonar.sourceEncoding=UTF-8","title":"SonarQube Scanner\u6267\u884c\u5206\u6790"},{"location":"application-security/mobile-security/","text":"\u79fb\u52a8\u5b89\u5168 \u53c2\u8003\u8d44\u6599 \u4e92\u8054\u7f51\u516c\u53f8\u79fb\u52a8\u5b89\u5168\u9886\u57df\u7684\u63a2\u7d22\u4e0e\u5b9e\u8df5 \u79fb\u52a8APP\u6f0f\u6d1e\u81ea\u52a8\u5316\u68c0\u6d4b\u5e73\u53f0\u5efa\u8bbe","title":"\u79fb\u52a8\u5b89\u5168"},{"location":"application-security/mobile-security/#_1","text":"","title":"\u79fb\u52a8\u5b89\u5168"},{"location":"application-security/mobile-security/#_2","text":"\u4e92\u8054\u7f51\u516c\u53f8\u79fb\u52a8\u5b89\u5168\u9886\u57df\u7684\u63a2\u7d22\u4e0e\u5b9e\u8df5 \u79fb\u52a8APP\u6f0f\u6d1e\u81ea\u52a8\u5316\u68c0\u6d4b\u5e73\u53f0\u5efa\u8bbe","title":"\u53c2\u8003\u8d44\u6599"},{"location":"application-security/mobile-security/mobile-security-scanner/","text":"\u79fb\u52a8\u5b89\u5168\u626b\u63cf \u5229\u7528MobSF\u5b9e\u73b0\u81ea\u52a8\u5316\u626b\u63cf \u8c08\u5230MobSF\uff0c\u5927\u5bb6\u6700\u76f4\u89c2\u7684\u770b\u6cd5\u53ef\u80fd\u5c31\u662f\u9488\u5bf9Android/IOS/Windows\u81ea\u52a8\u6d4b\u8bd5\u6846\u67b6\uff0c\u80fd\u591f\u8fdb\u884c\u9759\u6001\u4e0e\u52a8\u6001\u5206\u6790\u3002 \u5728\u4e59\u65b9\uff0c\u66f4\u591a\u7684\u5b89\u5168\u5de5\u7a0b\u5e08\u628aMobSF\u4f5c\u4e3a\u4e00\u4e2a\u5b89\u5168\u6d4b\u8bd5\u5de5\u5177\u6765\u6316\u6398\u79fb\u52a8\u7aef\u7684\u6f0f\u6d1e\uff0c\u5728\u7532\u65b9\u4e5f\u66f4\u591a\u7684\u7528\u4e8e\u5b89\u5168\u6d4b\u8bd5\u5de5\u4f5c\u3002\u73b0\u5728\u7f51\u7edc\u4e0a\u516c\u5f00\u7684\u5173\u4e8eMobSF\u76f8\u5173\u6587\u6863\u4e5f\u4e3b\u8981\u662f\u5b89\u88c5\u4e0e\u57fa\u7840\u4f7f\u7528\uff0c\u5e76\u6ca1\u6709\u5f88\u597d\u7684\u5f62\u6210\u4e00\u4e2a\u6d41\u7a0b\u3002 \u4e3a\u4ec0\u4e48MobSF\u6ca1\u6709\u5728\u7532\u65b9\u63a8\u52a8\u8d77\u6765\uff1a\u6d4b\u8bd5\u53d1\u73b0\u7684\u5f88\u591a\u6f0f\u6d1e\u4e1a\u52a1\u90fd\u4f1a\u5ffd\u7565\u3002 \u90a3\u4e48\u5982\u4f55\u628aMobSF\u4f5c\u4e3a\u7532\u65b9\u79fb\u52a8\u5b89\u5168\u6d41\u7a0b\u4e2d\u7684\u4e00\u4e2a\u5173\u952e\u70b9\uff0c\u9996\u5148\u6211\u4eec\u8981\u601d\u8003\u51e0\u4e2a\u95ee\u9898\uff1a MobSF\u7cfb\u7edf\u8fd0\u884c\u7684\u7a33\u5b9a\u6027\uff1b \u5982\u4f55\u8fdb\u884c\u81ea\u52a8\u5316\u626b\u63cf\uff1b \u626b\u63cf\u7ed3\u679c\u5b58\u5728\u7684\u6f0f\u62a5\u3001\u8bef\u62a5\uff1b\u6216\u8005\u662f\u7cfb\u7edf\u8ba4\u4e3a\u5b58\u5728\u95ee\u9898\uff0c\u4f46\u662f\u5b9e\u9645\u5728\u4e1a\u52a1\u4e2d\u4efb\u52a1\u4e0d\u5b58\u5728\u5b89\u5168\u9690\u60a3\uff1b \u5982\u4f55\u5bf9\u7b2c\u4e09\u70b9\u63cf\u8ff0\u7684\u95ee\u9898\u8fdb\u884c\u5904\u7406\uff1b \u5904\u7406\u540e\u7684\u7ed3\u679c\u5982\u4f55\u81ea\u52a8\u63a8\u9001\u7ed9\u76f8\u5e94\u7684\u4e1a\u52a1/\u7814\u53d1\uff1b \u540e\u9762\u6211\u4eec\u5c31\u6839\u636e\u8fd9\u51e0\u70b9\u7684\u95ee\u9898\u6765\u601d\u8003\u89e3\u51b3\u65b9\u6848\uff08\u4ec5\u9650\u4e8e\u9759\u6001\u5206\u6790\u90e8\u5206\uff09 MobSF\u81ea\u52a8\u5316\u5b9e\u73b0 MobSF\u8fd0\u884c\u5206\u4e3a\u4e24\u79cd\u7c7b\u578b\uff1aDocker\u8fd0\u884c\u3001\u5b89\u88c5\u5728\u670d\u52a1\u5668/PC\u4e0a\uff0c\u63a8\u8350\u4f7f\u7528Docker\uff1a\u90e8\u7f72\u65b9\u4fbf\u3002 \u5229\u7528MobSF API\u8fdb\u884c\u81ea\u52a8\u5316\u626b\u63cf\uff1a API\u6587\u6863 \u6216\u8005\u4f7f\u7528MobSF CI\u9879\u76ee\u8fdb\u884c\uff1a MobSF-CI \u878d\u5165APP\u53d1\u5e03\u6d41\u7a0b\u4e2d\uff1a\u672a\u5b8c\u5f85\u7eed \u6392\u9664\u8bef\u62a5\u4e0e\u65e0\u7528\u6f0f\u6d1e \u76ee\u524d\u9488\u5bf9MobSF\u626b\u63cf\u51fa\u6765\u7684\u6f0f\u6d1e\uff0c\u6211\u4eec\u6700\u597d\u7684\u529e\u6cd5\u5c31\u662f\u5c06JSON\u683c\u5f0f\u7684report\u901a\u8fc7\u6b63\u5219\u8fdb\u884c\u4e8c\u6b21\u5904\u7406\uff0c\u6392\u9664\u6211\u4eec\u4e0d\u60f3\u8fdb\u884c\u9884\u8b66\u7684\u9009\u9879\u3002 \u5173\u4e8eMobSF\u7684\u603b\u7ed3 \u4ee3\u7801\u5ba1\u8ba1\u4e0e\u626b\u63cf\u90fd\u662f\u4e00\u4e2a\u9700\u8981\u4eba\u6765\u8fdb\u884c\u8fd0\u8425\u7684\u4e1c\u897f\uff0c\u5982\u679c\u5728\u6ca1\u6709\u7cbe\u529b\u80fd\u591f\u6295\u5165\u8fd9\u4e2a\u7248\u5757\u65f6\uff0c\u5b89\u5b89\u5fc3\u5fc3\u628aMobSF\u4f5c\u4e3a\u4e00\u4e2a\u6f0f\u6d1e\u6316\u6398\u5de5\u5177\u5c31\u597d\u4e86\u3002","title":"\u79fb\u52a8\u5b89\u5168\u626b\u63cf"},{"location":"application-security/mobile-security/mobile-security-scanner/#_1","text":"","title":"\u79fb\u52a8\u5b89\u5168\u626b\u63cf"},{"location":"application-security/mobile-security/mobile-security-scanner/#mobsf","text":"\u8c08\u5230MobSF\uff0c\u5927\u5bb6\u6700\u76f4\u89c2\u7684\u770b\u6cd5\u53ef\u80fd\u5c31\u662f\u9488\u5bf9Android/IOS/Windows\u81ea\u52a8\u6d4b\u8bd5\u6846\u67b6\uff0c\u80fd\u591f\u8fdb\u884c\u9759\u6001\u4e0e\u52a8\u6001\u5206\u6790\u3002 \u5728\u4e59\u65b9\uff0c\u66f4\u591a\u7684\u5b89\u5168\u5de5\u7a0b\u5e08\u628aMobSF\u4f5c\u4e3a\u4e00\u4e2a\u5b89\u5168\u6d4b\u8bd5\u5de5\u5177\u6765\u6316\u6398\u79fb\u52a8\u7aef\u7684\u6f0f\u6d1e\uff0c\u5728\u7532\u65b9\u4e5f\u66f4\u591a\u7684\u7528\u4e8e\u5b89\u5168\u6d4b\u8bd5\u5de5\u4f5c\u3002\u73b0\u5728\u7f51\u7edc\u4e0a\u516c\u5f00\u7684\u5173\u4e8eMobSF\u76f8\u5173\u6587\u6863\u4e5f\u4e3b\u8981\u662f\u5b89\u88c5\u4e0e\u57fa\u7840\u4f7f\u7528\uff0c\u5e76\u6ca1\u6709\u5f88\u597d\u7684\u5f62\u6210\u4e00\u4e2a\u6d41\u7a0b\u3002 \u4e3a\u4ec0\u4e48MobSF\u6ca1\u6709\u5728\u7532\u65b9\u63a8\u52a8\u8d77\u6765\uff1a\u6d4b\u8bd5\u53d1\u73b0\u7684\u5f88\u591a\u6f0f\u6d1e\u4e1a\u52a1\u90fd\u4f1a\u5ffd\u7565\u3002 \u90a3\u4e48\u5982\u4f55\u628aMobSF\u4f5c\u4e3a\u7532\u65b9\u79fb\u52a8\u5b89\u5168\u6d41\u7a0b\u4e2d\u7684\u4e00\u4e2a\u5173\u952e\u70b9\uff0c\u9996\u5148\u6211\u4eec\u8981\u601d\u8003\u51e0\u4e2a\u95ee\u9898\uff1a MobSF\u7cfb\u7edf\u8fd0\u884c\u7684\u7a33\u5b9a\u6027\uff1b \u5982\u4f55\u8fdb\u884c\u81ea\u52a8\u5316\u626b\u63cf\uff1b \u626b\u63cf\u7ed3\u679c\u5b58\u5728\u7684\u6f0f\u62a5\u3001\u8bef\u62a5\uff1b\u6216\u8005\u662f\u7cfb\u7edf\u8ba4\u4e3a\u5b58\u5728\u95ee\u9898\uff0c\u4f46\u662f\u5b9e\u9645\u5728\u4e1a\u52a1\u4e2d\u4efb\u52a1\u4e0d\u5b58\u5728\u5b89\u5168\u9690\u60a3\uff1b \u5982\u4f55\u5bf9\u7b2c\u4e09\u70b9\u63cf\u8ff0\u7684\u95ee\u9898\u8fdb\u884c\u5904\u7406\uff1b \u5904\u7406\u540e\u7684\u7ed3\u679c\u5982\u4f55\u81ea\u52a8\u63a8\u9001\u7ed9\u76f8\u5e94\u7684\u4e1a\u52a1/\u7814\u53d1\uff1b \u540e\u9762\u6211\u4eec\u5c31\u6839\u636e\u8fd9\u51e0\u70b9\u7684\u95ee\u9898\u6765\u601d\u8003\u89e3\u51b3\u65b9\u6848\uff08\u4ec5\u9650\u4e8e\u9759\u6001\u5206\u6790\u90e8\u5206\uff09","title":"\u5229\u7528MobSF\u5b9e\u73b0\u81ea\u52a8\u5316\u626b\u63cf"},{"location":"application-security/mobile-security/mobile-security-scanner/#mobsf_1","text":"MobSF\u8fd0\u884c\u5206\u4e3a\u4e24\u79cd\u7c7b\u578b\uff1aDocker\u8fd0\u884c\u3001\u5b89\u88c5\u5728\u670d\u52a1\u5668/PC\u4e0a\uff0c\u63a8\u8350\u4f7f\u7528Docker\uff1a\u90e8\u7f72\u65b9\u4fbf\u3002 \u5229\u7528MobSF API\u8fdb\u884c\u81ea\u52a8\u5316\u626b\u63cf\uff1a API\u6587\u6863 \u6216\u8005\u4f7f\u7528MobSF CI\u9879\u76ee\u8fdb\u884c\uff1a MobSF-CI \u878d\u5165APP\u53d1\u5e03\u6d41\u7a0b\u4e2d\uff1a\u672a\u5b8c\u5f85\u7eed","title":"MobSF\u81ea\u52a8\u5316\u5b9e\u73b0"},{"location":"application-security/mobile-security/mobile-security-scanner/#_2","text":"\u76ee\u524d\u9488\u5bf9MobSF\u626b\u63cf\u51fa\u6765\u7684\u6f0f\u6d1e\uff0c\u6211\u4eec\u6700\u597d\u7684\u529e\u6cd5\u5c31\u662f\u5c06JSON\u683c\u5f0f\u7684report\u901a\u8fc7\u6b63\u5219\u8fdb\u884c\u4e8c\u6b21\u5904\u7406\uff0c\u6392\u9664\u6211\u4eec\u4e0d\u60f3\u8fdb\u884c\u9884\u8b66\u7684\u9009\u9879\u3002","title":"\u6392\u9664\u8bef\u62a5\u4e0e\u65e0\u7528\u6f0f\u6d1e"},{"location":"application-security/mobile-security/mobile-security-scanner/#mobsf_2","text":"\u4ee3\u7801\u5ba1\u8ba1\u4e0e\u626b\u63cf\u90fd\u662f\u4e00\u4e2a\u9700\u8981\u4eba\u6765\u8fdb\u884c\u8fd0\u8425\u7684\u4e1c\u897f\uff0c\u5982\u679c\u5728\u6ca1\u6709\u7cbe\u529b\u80fd\u591f\u6295\u5165\u8fd9\u4e2a\u7248\u5757\u65f6\uff0c\u5b89\u5b89\u5fc3\u5fc3\u628aMobSF\u4f5c\u4e3a\u4e00\u4e2a\u6f0f\u6d1e\u6316\u6398\u5de5\u5177\u5c31\u597d\u4e86\u3002","title":"\u5173\u4e8eMobSF\u7684\u603b\u7ed3"},{"location":"application-security/mobile-security/mobile-tools/","text":"\u79fb\u52a8\u5b89\u5168\u5de5\u5177 Android MobSF \u79fb\u52a8\u5b89\u5168\u6846\u67b6\uff0c\u652f\u6301\uff1a\u9759\u6001\u5206\u6790APK\u3001IPA\u3001APPX\u6587\u4ef6\uff0c\u52a8\u6001\u5206\u6790APK\u4e0e\u5206\u6790Web API\u3002 github\u5730\u5740 Centos7\u5b89\u88c5MobSF # \u5b89\u88c5java\u73af\u5883 yum install java-1.8.0-openjdk.x86_64 java-1.8.0-openjdk-devel.x86_64 -y # \u5b89\u88c5python3 yum install https://centos7.iuscommunity.org/ius-release.rpm -y yum install python36u.x86_64 python36u-pip.noarch python36u-devel.x86_64 -y # \u5b89\u88c5MobSF git clone https://github.com/MobSF/Mobile-Security-Framework-MobSF.git cd Mobile-Security-Framework-MobSF pip3.6 install -r requirements.txt # \u542f\u52a8MobSF python3.6 manage.py runserver 0.0.0.0:8080 \u8e29\u5751\u8bb0 \u5bfc\u51fa\u62a5\u544a\u62a5\u9519 Don't Play Around. An Error just popped in! Attribute not found. 'bool' object has no attribute 'dumps' \u89e3\u51b3\u65b9\u6848 drozer \u5b98\u7f51\u5730\u5740 github\u5730\u5740 Jeb ApkIDE github\u5730\u5740 Android Killer jadx github\u5730\u5740 marvin github\u5730\u5740 Marvin-Django\uff1a\u5305\u542b\u524d\u7aefUI\u754c\u9762\u4e0e\u6570\u636e\u5e93\u90e8\u5206 Marvin static Analyzer\uff1a\u57fa\u4e8eAndroguard\u548cStatic Android Analysis Framework Marvin Dynamic Analyzer\uff1a\u57fa\u4e8eOpenNebula\u548cAndroid-x86\u6a21\u62df\u5668\uff0c\u53ef\u642d\u5efa\u5206\u5e03\u5f0f\u5206\u6790\u7cfb\u7edf\uff0c\u7528\u4e8e\u590d\u73b0\u9759\u6001\u5206\u6790\u53d1\u5e03\u7684\u6f0f\u6d1e\u4e0e\u52a8\u6001\u68c0\u6d4b\u6f0f\u6d1e Marvin toqueton\uff1a\u81ea\u52a8\u5316\u904d\u5386APP UI\u7684\u5de5\u5177\uff0c\u7528\u4e8e\u5206\u6790APP UI\u63a7\u4ef6\u5e76\u8fdb\u884c\u81ea\u52a8\u5316\u4ea4\u4e92\u904d\u5386\uff0c\u8f85\u52a9\u52a8\u6001\u5206\u6790\uff1b IOS needle Needle\u5730\u5740 \u5f00\u6e90\u7684IOS\u5b89\u5168\u6d4b\u8bd5\u6846\u67b6\u3002 \u6d4b\u8bd5\u8303\u56f4\u5305\u62ec\uff1a\u6570\u636e\u5b58\u50a8\u3001\u8fdb\u7a0b\u901a\u4fe1\u3001\u7f51\u7edc\u901a\u4fe1\u3001\u9759\u6001\u4ee3\u7801\u5206\u6790 idb \u5b98\u7f51\u5730\u5740 github\u5730\u5740","title":"\u79fb\u52a8\u5b89\u5168\u5de5\u5177"},{"location":"application-security/mobile-security/mobile-tools/#_1","text":"","title":"\u79fb\u52a8\u5b89\u5168\u5de5\u5177"},{"location":"application-security/mobile-security/mobile-tools/#android","text":"","title":"Android"},{"location":"application-security/mobile-security/mobile-tools/#mobsf","text":"\u79fb\u52a8\u5b89\u5168\u6846\u67b6\uff0c\u652f\u6301\uff1a\u9759\u6001\u5206\u6790APK\u3001IPA\u3001APPX\u6587\u4ef6\uff0c\u52a8\u6001\u5206\u6790APK\u4e0e\u5206\u6790Web API\u3002 github\u5730\u5740 Centos7\u5b89\u88c5MobSF # \u5b89\u88c5java\u73af\u5883 yum install java-1.8.0-openjdk.x86_64 java-1.8.0-openjdk-devel.x86_64 -y # \u5b89\u88c5python3 yum install https://centos7.iuscommunity.org/ius-release.rpm -y yum install python36u.x86_64 python36u-pip.noarch python36u-devel.x86_64 -y # \u5b89\u88c5MobSF git clone https://github.com/MobSF/Mobile-Security-Framework-MobSF.git cd Mobile-Security-Framework-MobSF pip3.6 install -r requirements.txt # \u542f\u52a8MobSF python3.6 manage.py runserver 0.0.0.0:8080 \u8e29\u5751\u8bb0 \u5bfc\u51fa\u62a5\u544a\u62a5\u9519 Don't Play Around. An Error just popped in! Attribute not found. 'bool' object has no attribute 'dumps' \u89e3\u51b3\u65b9\u6848","title":"MobSF"},{"location":"application-security/mobile-security/mobile-tools/#drozer","text":"\u5b98\u7f51\u5730\u5740 github\u5730\u5740","title":"drozer"},{"location":"application-security/mobile-security/mobile-tools/#jeb","text":"","title":"Jeb"},{"location":"application-security/mobile-security/mobile-tools/#apkide","text":"github\u5730\u5740","title":"ApkIDE"},{"location":"application-security/mobile-security/mobile-tools/#android-killer","text":"","title":"Android Killer"},{"location":"application-security/mobile-security/mobile-tools/#jadx","text":"github\u5730\u5740","title":"jadx"},{"location":"application-security/mobile-security/mobile-tools/#marvin","text":"github\u5730\u5740 Marvin-Django\uff1a\u5305\u542b\u524d\u7aefUI\u754c\u9762\u4e0e\u6570\u636e\u5e93\u90e8\u5206 Marvin static Analyzer\uff1a\u57fa\u4e8eAndroguard\u548cStatic Android Analysis Framework Marvin Dynamic Analyzer\uff1a\u57fa\u4e8eOpenNebula\u548cAndroid-x86\u6a21\u62df\u5668\uff0c\u53ef\u642d\u5efa\u5206\u5e03\u5f0f\u5206\u6790\u7cfb\u7edf\uff0c\u7528\u4e8e\u590d\u73b0\u9759\u6001\u5206\u6790\u53d1\u5e03\u7684\u6f0f\u6d1e\u4e0e\u52a8\u6001\u68c0\u6d4b\u6f0f\u6d1e Marvin toqueton\uff1a\u81ea\u52a8\u5316\u904d\u5386APP UI\u7684\u5de5\u5177\uff0c\u7528\u4e8e\u5206\u6790APP UI\u63a7\u4ef6\u5e76\u8fdb\u884c\u81ea\u52a8\u5316\u4ea4\u4e92\u904d\u5386\uff0c\u8f85\u52a9\u52a8\u6001\u5206\u6790\uff1b","title":"marvin"},{"location":"application-security/mobile-security/mobile-tools/#ios","text":"","title":"IOS"},{"location":"application-security/mobile-security/mobile-tools/#needle","text":"Needle\u5730\u5740 \u5f00\u6e90\u7684IOS\u5b89\u5168\u6d4b\u8bd5\u6846\u67b6\u3002 \u6d4b\u8bd5\u8303\u56f4\u5305\u62ec\uff1a\u6570\u636e\u5b58\u50a8\u3001\u8fdb\u7a0b\u901a\u4fe1\u3001\u7f51\u7edc\u901a\u4fe1\u3001\u9759\u6001\u4ee3\u7801\u5206\u6790","title":"needle"},{"location":"application-security/mobile-security/mobile-tools/#idb","text":"\u5b98\u7f51\u5730\u5740 github\u5730\u5740","title":"idb"},{"location":"application-security/sdl/api-gateway/","text":"API\u7f51\u5173 \u5f00\u6e90API\u7f51\u5173\uff1aKong \u5b98\u7f51\u5730\u5740 \u5b89\u88c5 \u5b98\u65b9\u5b89\u88c5\u6587\u6863 # \u64cd\u4f5c\u7cfb\u7edf\uff1aCentos7 wget https://bintray.com/kong/kong-community-edition-rpm/download_file?file_path=centos/7/kong-community-edition-0.14.1.el7.noarch.rpm rpm -ivh kong-community-edition-0.14.1.el7.noarch.rpm yum install epel-release -y # \u914d\u7f6e\u6570\u636e\u5e93\uff0c\u6211\u8fd9\u91cc\u4f7f\u7528\u7684\u662fPostgreSQL # \u5207\u6362\u5230postgres\u7528\u6237\u6267\u884c\uff0cpsql\u5c31\u53ef\u4ee5\u8fdb\u884c su - postgres psql create user kong; create database kong owner kong; # kong\u8fc1\u79fb kong migrations up \u62a5\u9519\u5904\u7406\u8bb0\u5f55 \u6700\u597d\u662f\u5728 github issue \u8fdb\u884c\u641c\u7d22 \u62a5\u95191 Error: [postgres error] could not retrieve current migrations: [postgres error] FATAL: Ident authentication failed for user kong \u89e3\u51b3\u65b9\u6848\uff1a vim /var/lib/pgsql/data/pg_hba.conf # \u6211\u662fcentos7 \u6240\u4ee5\u6587\u4ef6\u4f4d\u7f6e\u5728\u8fd9\u91cc\uff0c\u5982\u679c\u4f60\u4e0d\u662f\u53ef\u4ee5\u4f7f\u7528find\u67e5\u627e\u4e00\u4e0b # \u4fee\u6539\u5b8c\u6210\u540e\u91cd\u542f\u670d\u52a1 \u62a5\u95192 Error: [postgres error] could not retrieve current migrations: [postgres error] ERROR: function to_regclass(unknown) does not exist (8) \u89e3\u51b3\u65b9\u6848\uff1a # \u62a5\u8fd9\u4e2a\u9519\u8bef\u610f\u5473\u7740PostgreSQL\u7248\u672c\u4e0d\u9002\u914d\uff0c\u6240\u4ee5\u91cd\u65b0\u5b89\u88c5PostgreSQL\u5427\u3002Kong\u8981\u6c429.5+ # Centos7 PostgreSQL10\u7684yum\u6e90\uff1ahttps://download.postgresql.org/pub/repos/yum/10/redhat/rhel-7-x86_64/pgdg-centos10-10-2.noarch.rpm \u8fc1\u79fb\u5b8c\u6210\u540e\uff0c\u542f\u52a8kong kong start # \u6d4b\u8bd5kong curl -i http://localhost:8001 # kong\u63d0\u4f9b\u5916\u7f51\u8bbf\u95ee cp /etc/kong/kong.conf.default /etc/kong/kong.conf vim /etc/kong/kong.conf # \u53d6\u6d88\u6ce8\u91ca\u8fd9\u4e00\u884c\uff0c\u5e76\u4fee\u6539\u5982\u4e0b admin_listen = 0.0.0.0:8001, 0.0.0.0:8444 ssl # \u91cd\u542fkong","title":"API\u7f51\u5173"},{"location":"application-security/sdl/api-gateway/#api","text":"","title":"API\u7f51\u5173"},{"location":"application-security/sdl/api-gateway/#apikong","text":"\u5b98\u7f51\u5730\u5740","title":"\u5f00\u6e90API\u7f51\u5173\uff1aKong"},{"location":"application-security/sdl/api-gateway/#_1","text":"\u5b98\u65b9\u5b89\u88c5\u6587\u6863 # \u64cd\u4f5c\u7cfb\u7edf\uff1aCentos7 wget https://bintray.com/kong/kong-community-edition-rpm/download_file?file_path=centos/7/kong-community-edition-0.14.1.el7.noarch.rpm rpm -ivh kong-community-edition-0.14.1.el7.noarch.rpm yum install epel-release -y # \u914d\u7f6e\u6570\u636e\u5e93\uff0c\u6211\u8fd9\u91cc\u4f7f\u7528\u7684\u662fPostgreSQL # \u5207\u6362\u5230postgres\u7528\u6237\u6267\u884c\uff0cpsql\u5c31\u53ef\u4ee5\u8fdb\u884c su - postgres psql create user kong; create database kong owner kong; # kong\u8fc1\u79fb kong migrations up \u62a5\u9519\u5904\u7406\u8bb0\u5f55 \u6700\u597d\u662f\u5728 github issue \u8fdb\u884c\u641c\u7d22 \u62a5\u95191 Error: [postgres error] could not retrieve current migrations: [postgres error] FATAL: Ident authentication failed for user kong \u89e3\u51b3\u65b9\u6848\uff1a vim /var/lib/pgsql/data/pg_hba.conf # \u6211\u662fcentos7 \u6240\u4ee5\u6587\u4ef6\u4f4d\u7f6e\u5728\u8fd9\u91cc\uff0c\u5982\u679c\u4f60\u4e0d\u662f\u53ef\u4ee5\u4f7f\u7528find\u67e5\u627e\u4e00\u4e0b # \u4fee\u6539\u5b8c\u6210\u540e\u91cd\u542f\u670d\u52a1 \u62a5\u95192 Error: [postgres error] could not retrieve current migrations: [postgres error] ERROR: function to_regclass(unknown) does not exist (8) \u89e3\u51b3\u65b9\u6848\uff1a # \u62a5\u8fd9\u4e2a\u9519\u8bef\u610f\u5473\u7740PostgreSQL\u7248\u672c\u4e0d\u9002\u914d\uff0c\u6240\u4ee5\u91cd\u65b0\u5b89\u88c5PostgreSQL\u5427\u3002Kong\u8981\u6c429.5+ # Centos7 PostgreSQL10\u7684yum\u6e90\uff1ahttps://download.postgresql.org/pub/repos/yum/10/redhat/rhel-7-x86_64/pgdg-centos10-10-2.noarch.rpm \u8fc1\u79fb\u5b8c\u6210\u540e\uff0c\u542f\u52a8kong kong start # \u6d4b\u8bd5kong curl -i http://localhost:8001 # kong\u63d0\u4f9b\u5916\u7f51\u8bbf\u95ee cp /etc/kong/kong.conf.default /etc/kong/kong.conf vim /etc/kong/kong.conf # \u53d6\u6d88\u6ce8\u91ca\u8fd9\u4e00\u884c\uff0c\u5e76\u4fee\u6539\u5982\u4e0b admin_listen = 0.0.0.0:8001, 0.0.0.0:8444 ssl # \u91cd\u542fkong","title":"\u5b89\u88c5"},{"location":"application-security/sdl/api-security-design/","text":"API\u7f51\u5173\u8bbe\u8ba1 \u975e\u539f\u521b API\u6240\u9700\u5b89\u5168\u529f\u80fd \u8eab\u4efd\u548c\u8bbf\u95ee\u63a7\u5236 \u8ba4\u8bc1 HTTP Basic\uff1a API Key\uff1a\u5ba2\u6237\u7aef\u4f20\u9012\uff08\u53c2\u6570+Key+Sign\uff09\u5230\u670d\u52a1\u7aef\uff08\u4f7f\u7528\u53c2\u6570\u8ba1\u7b97Sign\uff0c\u6bd4\u8f83\u4e24\u4e2aSign\uff09 OAuth\uff1a\u6700\u53d7\u6b22\u8fce\u7684\u7f51\u5173\u9a8c\u8bc1\u534f\u8bae JWT\uff1a \u6388\u6743 RBAC\uff1a\u57fa\u4e8e\u89d2\u8272\u7684\u8bbf\u95ee\u63a7\u5236 ABAC\uff1a\u57fa\u4e8e\u5c5e\u6027\u7684\u8bbf\u95ee\u63a7\u5236 \u901a\u4fe1\u5b89\u5168 \u5a01\u80c1\u9632\u62a4 \u8f93\u5165\u63a7\u5236 \u6d88\u606f\u9650\u5236 SQL\u6ce8\u5165 JSON\u9632\u62a4 XML\u9632\u62a4 \u8f93\u51fa\u63a7\u5236 \u8f93\u51fa\u7f16\u7801 \u65e5\u5fd7\u8bb0\u5f55 \u8ba4\u8bc1\u65e5\u5fd7\uff1a \u64cd\u4f5c\u65e5\u5fd7\uff1a \u9ed1\u767d\u540d\u5355 API\u76d1\u63a7 API\u9650\u901f API\u63a5\u53e3\u8c03\u7528\u65b9\u5f0f HTTP+\u8bf7\u6c42\u7b7e\u540d\u673a\u5236 \u7279\u70b9 \u6240\u6709\u643a\u5e26\u63a5\u53e3\u4fe1\u606f\u7684HTTP\u5934\u5185\u5bb9\u90fd\u5fc5\u987b\u53c2\u4e0e\u7b7e\u540d\u8ba1\u7b97 \u4e0d\u540cHTTP\u5934\u5185\u5bb9\u4e5f\u9700\u8981\u6309\u7167\u4e00\u5b9a\u89c4\u5219\u6392\u5e8f \u4f18\u70b9 \u7f3a\u70b9 \u7b7e\u540d\u7b97\u6cd5\u592a\u590d\u6742\uff0c\u6613\u7528\u6027\u8d3c\u5dee \u54cd\u5e94\u5305\u53ef\u88ab\u7a83\u542c\u3001\u4f2a\u9020\u3001\u9700\u8981\u9632\u8303Replay\uff08\u91cd\u653e\uff09\u653b\u51fb HTTP+\u53c2\u6570\u7b7e\u540d\u673a\u5236 \u7279\u70b9 \u53ea\u6709GET\u548cPOST\u53c2\u6570\u7684\u5185\u5bb9\u9700\u8981\u53c2\u4e0e\u7b7e\u540d\u8ba1\u7b97 \u4f18\u70b9 \u7b7e\u540d\u7b97\u6cd5\u60f3\u5bf9\u7b80\u5355\uff0c\u6613\u7528\u6027\u6709\u8f83\u5927\u63d0\u5347 \u7f3a\u70b9 \u54cd\u5e94\u5305\u53ef\u88ab\u7a83\u542c\u3001\u4f2a\u9020\u3001\u9700\u8981\u9632\u8303Replay\uff08\u91cd\u653e\uff09\u653b\u51fb HTTPS+\u8bbf\u95ee\u4ee4\u724c\u673a\u5236 \u7279\u70b9 \u65e0\u9700\u7b7e\u540d\u8ba1\u7b97 \u4f9d\u9760\u4f20\u8f93\u5c42\u52a0\u5bc6\u548c\u8bbf\u95ee\u4ee4\u724c\u7684\u4e0d\u53ef\u4f2a\u9020\u6027\u4fdd\u8bc1\u5b89\u5168 \u4f18\u70b9 \u76f8\u5bf9\u5b89\u5168\uff0c\u65e0\u6cd5\u901a\u8fc7\u7f51\u7edc\u6293\u5305\u65b9\u5f0f\u7a83\u542c\u6216\u4f2a\u9020\u6570\u636e \u6613\u7528\u6027\u9ad8\uff0c\u65e0\u9700\u518d\u4e3a\u7b7e\u540d\u5934\u75bc\uff0c\u65e0\u9700\u8003\u8651Replay\u653b\u51fb \u7f3a\u70b9 \u5b89\u5168\u6027\u5efa\u7acb\u5728\u7528\u6237\u4e0d\u88ab\u4e2d\u95f4\u4eba\u653b\u51fb\u548c\u4ee4\u724c\u4e0d\u88ab\u6cc4\u6f0f\u7684\u60c5\u51b5\u4e0b \u66f4\u597d\u7684\u65b9\u6848 \u727a\u7272\u6613\u7528\u6027\u6362\u53d6\u5b89\u5168\u6027 HTTPS+\u5185\u5bb9\u7b7e\u540d\u673a\u5236 HTTPS+\u5185\u5bb9\u52a0\u5bc6\u673a\u5236 \u964d\u4f4e\u4ee4\u724c\u6cc4\u6f0f\u5e26\u6765\u7684\u98ce\u9669 \u4e3a\u5f00\u53d1\u8005\u63d0\u4f9b\u7ed1\u5b9a\u670d\u52a1\u5668IP\u5217\u8868\u3001\u9650\u5236refer\u7b49\u652f\u6301 \u9488\u5bf9\u4e0d\u540c\u5e94\u7528\u573a\u666f\u9881\u53d1\u4e0d\u540c\u6709\u6548\u671f\u7b49\u8bbf\u95ee\u4ee4\u724c \u9488\u5bf9\u4e0d\u540c\u5b89\u5168\u7ea7\u522b\u7684\u6570\u636e\u6388\u6743\u9881\u53d1\u4e0d\u540c\u6709\u6548\u671f\u7684\u8bbf\u95ee\u4ee4\u724c \u4e3a\u5f00\u53d1\u8005\u548c\u7528\u6237\u63d0\u4f9b\u4ee4\u724c\u4f5c\u5e9f\u652f\u6301 \u5173\u4e8e\u8ba4\u8bc1 JWT JWT\uff1aJson Web Token \u8de8\u57df\u8ba4\u8bc1\u89e3\u51b3\u65b9\u6848 JWT\u6570\u636e\u683c\u5f0f \u4ee5\u4e00\u4e2a\u5f88\u957f\u7684\u5b57\u7b26\u4e32\u4ee3\u8868\uff0c\u4e2d\u95f4\u7528.\u5206\u5272\u6210\u4e09\u4e2a\u90e8\u5206 Header.Payload.Signature Header\uff1a\u5934\u90e8 alg\uff1a\u7b7e\u540d\u7b97\u6cd5\uff08algorithm\uff09\uff0c\u9ed8\u8ba4\u662fHMAC SHA256\uff1b typ\uff1a\u8868\u793a\u4ee4\u724c\uff08token\uff09\u7684\u7c7b\u578b\uff0cJWT\u4ee4\u724c\u7edf\u4e00\u4e3aJWT\uff1b Payload\uff1a\u8d1f\u8f7d\uff08\u9ed8\u8ba4\u5b57\u6bb5\u6709\u4ee5\u4e0b7\u4e2a\uff0c\u8fd8\u53ef\u4ee5\u81ea\u5b9a\u4e49\u5b57\u6bb5\uff09 iss\uff08issuer\uff09\uff1a\u7b7e\u53d1\u4eba exp\uff08expiration\uff09\uff1a\u8fc7\u671f\u65f6\u95f4 sub\uff08subject\uff09\uff1a\u4e3b\u9898 aud\uff08audience\uff09\uff1a\u53d7\u4f17 nbf\uff08Not Before\uff09\uff1a\u751f\u6548\u65f6\u95f4 iat\uff08Issued At\uff09\uff1a\u7b7e\u53d1\u65f6\u95f4 jti\uff08JWT ID\uff09\uff1a\u7f16\u53f7 Signature\uff1a\u7b7e\u540d\uff08\u6307\u5b9a\u4e00\u4e2a\u5bc6\u94a5\uff09 sign=HMACSHA256\uff08base64UrlEncode(header)+ . +baseUrlEncode(payload),secret\uff09 \u5173\u4e8eBase64URL =\uff1a\u88ab\u7701\u7565 +\uff1a\u66ff\u6362\u4e3a- /\uff1a\u66ff\u6362\u4e3a_ JWT\u7279\u70b9 \u9ed8\u8ba4\u4e0d\u52a0\u5bc6\uff0c\u4f46\u662f\u4e5f\u53ef\u4ee5\u52a0\u5bc6\uff1b JWT\u4e0d\u52a0\u5bc6\u7684\u60c5\u51b5\u4e0b\uff0c\u4e0d\u80fd\u5c06\u654f\u611f\u6570\u636e\u5199\u5165JWT\uff1b JWT\u4e0d\u4ec5\u53ef\u4ee5\u7528\u4e8e\u8ba4\u8bc1\uff0c\u8fd8\u53ef\u4ee5\u7528\u4e8e\u4ea4\u6362\u4fe1\u606f\uff1b JWT\u7684\u7f3a\u70b9\uff1a\u7531\u4e8e\u670d\u52a1\u5668\u4e0d\u4fdd\u5b58session\u72b6\u6001\uff0c\u56e0\u6b64\u65e0\u6cd5\u5728\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u5e9f\u6b62\u67d0\u4e2atoken\uff0c\u6216\u8005\u66f4\u6539token\u7684\u6743\u9650\u3002\u4e5f\u5c31\u662f\u8bf4JWT\u4e00\u65e6\u7b7e\u53d1\uff0c\u5230\u8fc7\u671f\u4e4b\u524d\u90fd\u6709\u6548\uff1b JWT\u672c\u8eab\u5305\u542b\u4e86\u8ba4\u8bc1\u4fe1\u606f\uff0c\u4e00\u65e6\u6cc4\u6f0f\uff0c\u4efb\u4f55\u4eba\u90fd\u53ef\u4ee5\u83b7\u5f97\u8be5\u4ee4\u724c\u7684\u6240\u6709\u6743\u9650\u3002\u5e94\u8be5\u5c06\u6709\u6548\u671f\u8bbe\u7f6e\u7684\u77ed\u4e00\u4e9b\uff1b \u4e3a\u4e86\u51cf\u5c11\u76d7\u7528JWT\uff0c\u5e94\u8be5\u5c3d\u53ef\u80fd\u4f7f\u7528HTTPS\u534f\u8bae\u4f20\u8f93\uff1b OAuth \u53c2\u8003\u8d44\u6599 \u7f51\u5173\u5728API\u5b89\u5168\u4e2d\u7684\u4f5c\u7528 REST API \u5b89\u5168\u8bbe\u8ba1\u6307\u5357 HTTP API\u63a5\u53e3\u5b89\u5168\u8bbe\u8ba1 \u5f00\u53d1\u5b89\u5168\u7684 API \u6240\u9700\u8981\u6838\u5bf9\u7684\u6e05\u5355 \u79fb\u52a8APP\u7f51\u5173\u5b89\u5168\u8bbe\u8ba1 JSON Web Token \u5165\u95e8\u6559\u7a0b \u7406\u89e3OAuth2.0","title":"API\u7f51\u5173\u8bbe\u8ba1"},{"location":"application-security/sdl/api-security-design/#api","text":"\u975e\u539f\u521b","title":"API\u7f51\u5173\u8bbe\u8ba1"},{"location":"application-security/sdl/api-security-design/#api_1","text":"","title":"API\u6240\u9700\u5b89\u5168\u529f\u80fd"},{"location":"application-security/sdl/api-security-design/#_1","text":"\u8ba4\u8bc1 HTTP Basic\uff1a API Key\uff1a\u5ba2\u6237\u7aef\u4f20\u9012\uff08\u53c2\u6570+Key+Sign\uff09\u5230\u670d\u52a1\u7aef\uff08\u4f7f\u7528\u53c2\u6570\u8ba1\u7b97Sign\uff0c\u6bd4\u8f83\u4e24\u4e2aSign\uff09 OAuth\uff1a\u6700\u53d7\u6b22\u8fce\u7684\u7f51\u5173\u9a8c\u8bc1\u534f\u8bae JWT\uff1a \u6388\u6743 RBAC\uff1a\u57fa\u4e8e\u89d2\u8272\u7684\u8bbf\u95ee\u63a7\u5236 ABAC\uff1a\u57fa\u4e8e\u5c5e\u6027\u7684\u8bbf\u95ee\u63a7\u5236","title":"\u8eab\u4efd\u548c\u8bbf\u95ee\u63a7\u5236"},{"location":"application-security/sdl/api-security-design/#_2","text":"","title":"\u901a\u4fe1\u5b89\u5168"},{"location":"application-security/sdl/api-security-design/#_3","text":"\u8f93\u5165\u63a7\u5236 \u6d88\u606f\u9650\u5236 SQL\u6ce8\u5165 JSON\u9632\u62a4 XML\u9632\u62a4 \u8f93\u51fa\u63a7\u5236 \u8f93\u51fa\u7f16\u7801","title":"\u5a01\u80c1\u9632\u62a4"},{"location":"application-security/sdl/api-security-design/#_4","text":"\u8ba4\u8bc1\u65e5\u5fd7\uff1a \u64cd\u4f5c\u65e5\u5fd7\uff1a","title":"\u65e5\u5fd7\u8bb0\u5f55"},{"location":"application-security/sdl/api-security-design/#_5","text":"","title":"\u9ed1\u767d\u540d\u5355"},{"location":"application-security/sdl/api-security-design/#api_2","text":"","title":"API\u76d1\u63a7"},{"location":"application-security/sdl/api-security-design/#api_3","text":"","title":"API\u9650\u901f"},{"location":"application-security/sdl/api-security-design/#api_4","text":"","title":"API\u63a5\u53e3\u8c03\u7528\u65b9\u5f0f"},{"location":"application-security/sdl/api-security-design/#http","text":"\u7279\u70b9 \u6240\u6709\u643a\u5e26\u63a5\u53e3\u4fe1\u606f\u7684HTTP\u5934\u5185\u5bb9\u90fd\u5fc5\u987b\u53c2\u4e0e\u7b7e\u540d\u8ba1\u7b97 \u4e0d\u540cHTTP\u5934\u5185\u5bb9\u4e5f\u9700\u8981\u6309\u7167\u4e00\u5b9a\u89c4\u5219\u6392\u5e8f \u4f18\u70b9 \u7f3a\u70b9 \u7b7e\u540d\u7b97\u6cd5\u592a\u590d\u6742\uff0c\u6613\u7528\u6027\u8d3c\u5dee \u54cd\u5e94\u5305\u53ef\u88ab\u7a83\u542c\u3001\u4f2a\u9020\u3001\u9700\u8981\u9632\u8303Replay\uff08\u91cd\u653e\uff09\u653b\u51fb","title":"HTTP+\u8bf7\u6c42\u7b7e\u540d\u673a\u5236"},{"location":"application-security/sdl/api-security-design/#http_1","text":"\u7279\u70b9 \u53ea\u6709GET\u548cPOST\u53c2\u6570\u7684\u5185\u5bb9\u9700\u8981\u53c2\u4e0e\u7b7e\u540d\u8ba1\u7b97 \u4f18\u70b9 \u7b7e\u540d\u7b97\u6cd5\u60f3\u5bf9\u7b80\u5355\uff0c\u6613\u7528\u6027\u6709\u8f83\u5927\u63d0\u5347 \u7f3a\u70b9 \u54cd\u5e94\u5305\u53ef\u88ab\u7a83\u542c\u3001\u4f2a\u9020\u3001\u9700\u8981\u9632\u8303Replay\uff08\u91cd\u653e\uff09\u653b\u51fb","title":"HTTP+\u53c2\u6570\u7b7e\u540d\u673a\u5236"},{"location":"application-security/sdl/api-security-design/#https","text":"\u7279\u70b9 \u65e0\u9700\u7b7e\u540d\u8ba1\u7b97 \u4f9d\u9760\u4f20\u8f93\u5c42\u52a0\u5bc6\u548c\u8bbf\u95ee\u4ee4\u724c\u7684\u4e0d\u53ef\u4f2a\u9020\u6027\u4fdd\u8bc1\u5b89\u5168 \u4f18\u70b9 \u76f8\u5bf9\u5b89\u5168\uff0c\u65e0\u6cd5\u901a\u8fc7\u7f51\u7edc\u6293\u5305\u65b9\u5f0f\u7a83\u542c\u6216\u4f2a\u9020\u6570\u636e \u6613\u7528\u6027\u9ad8\uff0c\u65e0\u9700\u518d\u4e3a\u7b7e\u540d\u5934\u75bc\uff0c\u65e0\u9700\u8003\u8651Replay\u653b\u51fb \u7f3a\u70b9 \u5b89\u5168\u6027\u5efa\u7acb\u5728\u7528\u6237\u4e0d\u88ab\u4e2d\u95f4\u4eba\u653b\u51fb\u548c\u4ee4\u724c\u4e0d\u88ab\u6cc4\u6f0f\u7684\u60c5\u51b5\u4e0b","title":"HTTPS+\u8bbf\u95ee\u4ee4\u724c\u673a\u5236"},{"location":"application-security/sdl/api-security-design/#_6","text":"\u727a\u7272\u6613\u7528\u6027\u6362\u53d6\u5b89\u5168\u6027 HTTPS+\u5185\u5bb9\u7b7e\u540d\u673a\u5236 HTTPS+\u5185\u5bb9\u52a0\u5bc6\u673a\u5236 \u964d\u4f4e\u4ee4\u724c\u6cc4\u6f0f\u5e26\u6765\u7684\u98ce\u9669 \u4e3a\u5f00\u53d1\u8005\u63d0\u4f9b\u7ed1\u5b9a\u670d\u52a1\u5668IP\u5217\u8868\u3001\u9650\u5236refer\u7b49\u652f\u6301 \u9488\u5bf9\u4e0d\u540c\u5e94\u7528\u573a\u666f\u9881\u53d1\u4e0d\u540c\u6709\u6548\u671f\u7b49\u8bbf\u95ee\u4ee4\u724c \u9488\u5bf9\u4e0d\u540c\u5b89\u5168\u7ea7\u522b\u7684\u6570\u636e\u6388\u6743\u9881\u53d1\u4e0d\u540c\u6709\u6548\u671f\u7684\u8bbf\u95ee\u4ee4\u724c \u4e3a\u5f00\u53d1\u8005\u548c\u7528\u6237\u63d0\u4f9b\u4ee4\u724c\u4f5c\u5e9f\u652f\u6301","title":"\u66f4\u597d\u7684\u65b9\u6848"},{"location":"application-security/sdl/api-security-design/#_7","text":"","title":"\u5173\u4e8e\u8ba4\u8bc1"},{"location":"application-security/sdl/api-security-design/#jwt","text":"JWT\uff1aJson Web Token \u8de8\u57df\u8ba4\u8bc1\u89e3\u51b3\u65b9\u6848 JWT\u6570\u636e\u683c\u5f0f \u4ee5\u4e00\u4e2a\u5f88\u957f\u7684\u5b57\u7b26\u4e32\u4ee3\u8868\uff0c\u4e2d\u95f4\u7528.\u5206\u5272\u6210\u4e09\u4e2a\u90e8\u5206 Header.Payload.Signature Header\uff1a\u5934\u90e8 alg\uff1a\u7b7e\u540d\u7b97\u6cd5\uff08algorithm\uff09\uff0c\u9ed8\u8ba4\u662fHMAC SHA256\uff1b typ\uff1a\u8868\u793a\u4ee4\u724c\uff08token\uff09\u7684\u7c7b\u578b\uff0cJWT\u4ee4\u724c\u7edf\u4e00\u4e3aJWT\uff1b Payload\uff1a\u8d1f\u8f7d\uff08\u9ed8\u8ba4\u5b57\u6bb5\u6709\u4ee5\u4e0b7\u4e2a\uff0c\u8fd8\u53ef\u4ee5\u81ea\u5b9a\u4e49\u5b57\u6bb5\uff09 iss\uff08issuer\uff09\uff1a\u7b7e\u53d1\u4eba exp\uff08expiration\uff09\uff1a\u8fc7\u671f\u65f6\u95f4 sub\uff08subject\uff09\uff1a\u4e3b\u9898 aud\uff08audience\uff09\uff1a\u53d7\u4f17 nbf\uff08Not Before\uff09\uff1a\u751f\u6548\u65f6\u95f4 iat\uff08Issued At\uff09\uff1a\u7b7e\u53d1\u65f6\u95f4 jti\uff08JWT ID\uff09\uff1a\u7f16\u53f7 Signature\uff1a\u7b7e\u540d\uff08\u6307\u5b9a\u4e00\u4e2a\u5bc6\u94a5\uff09 sign=HMACSHA256\uff08base64UrlEncode(header)+ . +baseUrlEncode(payload),secret\uff09 \u5173\u4e8eBase64URL =\uff1a\u88ab\u7701\u7565 +\uff1a\u66ff\u6362\u4e3a- /\uff1a\u66ff\u6362\u4e3a_ JWT\u7279\u70b9 \u9ed8\u8ba4\u4e0d\u52a0\u5bc6\uff0c\u4f46\u662f\u4e5f\u53ef\u4ee5\u52a0\u5bc6\uff1b JWT\u4e0d\u52a0\u5bc6\u7684\u60c5\u51b5\u4e0b\uff0c\u4e0d\u80fd\u5c06\u654f\u611f\u6570\u636e\u5199\u5165JWT\uff1b JWT\u4e0d\u4ec5\u53ef\u4ee5\u7528\u4e8e\u8ba4\u8bc1\uff0c\u8fd8\u53ef\u4ee5\u7528\u4e8e\u4ea4\u6362\u4fe1\u606f\uff1b JWT\u7684\u7f3a\u70b9\uff1a\u7531\u4e8e\u670d\u52a1\u5668\u4e0d\u4fdd\u5b58session\u72b6\u6001\uff0c\u56e0\u6b64\u65e0\u6cd5\u5728\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u5e9f\u6b62\u67d0\u4e2atoken\uff0c\u6216\u8005\u66f4\u6539token\u7684\u6743\u9650\u3002\u4e5f\u5c31\u662f\u8bf4JWT\u4e00\u65e6\u7b7e\u53d1\uff0c\u5230\u8fc7\u671f\u4e4b\u524d\u90fd\u6709\u6548\uff1b JWT\u672c\u8eab\u5305\u542b\u4e86\u8ba4\u8bc1\u4fe1\u606f\uff0c\u4e00\u65e6\u6cc4\u6f0f\uff0c\u4efb\u4f55\u4eba\u90fd\u53ef\u4ee5\u83b7\u5f97\u8be5\u4ee4\u724c\u7684\u6240\u6709\u6743\u9650\u3002\u5e94\u8be5\u5c06\u6709\u6548\u671f\u8bbe\u7f6e\u7684\u77ed\u4e00\u4e9b\uff1b \u4e3a\u4e86\u51cf\u5c11\u76d7\u7528JWT\uff0c\u5e94\u8be5\u5c3d\u53ef\u80fd\u4f7f\u7528HTTPS\u534f\u8bae\u4f20\u8f93\uff1b","title":"JWT"},{"location":"application-security/sdl/api-security-design/#oauth","text":"","title":"OAuth"},{"location":"application-security/sdl/api-security-design/#_8","text":"\u7f51\u5173\u5728API\u5b89\u5168\u4e2d\u7684\u4f5c\u7528 REST API \u5b89\u5168\u8bbe\u8ba1\u6307\u5357 HTTP API\u63a5\u53e3\u5b89\u5168\u8bbe\u8ba1 \u5f00\u53d1\u5b89\u5168\u7684 API \u6240\u9700\u8981\u6838\u5bf9\u7684\u6e05\u5355 \u79fb\u52a8APP\u7f51\u5173\u5b89\u5168\u8bbe\u8ba1 JSON Web Token \u5165\u95e8\u6559\u7a0b \u7406\u89e3OAuth2.0","title":"\u53c2\u8003\u8d44\u6599"},{"location":"application-security/security-defense/https/","text":"\u5168\u7ad9https \u4e3a\u4ec0\u4e48\u4f7f\u7528https http\u7684\u7f3a\u70b9 \u901a\u4fe1\u660e\u6587\u4f20\u8f93\uff0c\u5185\u5bb9\u53ef\u80fd\u88ab\u7a83\u542c\uff1b \u65e0\u6cd5\u9a8c\u8bc1\u5ba2\u6237\u7aef\u8eab\u4efd\uff0c\u53ef\u80fd\u88ab\u4f2a\u88c5\uff1b \u65e0\u6cd5\u9a8c\u8bc1\u6570\u636e\u7684\u5b8c\u6574\u6027\uff0c\u53ef\u80fd\u88ab\u7be1\u6539\uff1b \u5982\u4f55\u89e3\u51b3http\u7684\u7f3a\u70b9 \u52a0\u5bc6\u9632\u6b62\u7a83\u542c\uff1b \u901a\u4fe1\u52a0\u5bc6\uff1ahttp\u672c\u8eab\u6ca1\u6709\u52a0\u5bc6\u673a\u5236\uff0c\u53ef\u4ee5\u7ec4\u5408\u4f7f\u7528SSL(\u5b89\u5168\u5957\u63a5\u5c42)\u548cTLS(\u5b89\u5168\u4f20\u8f93\u5c42)\u6280\u672f\u5b9e\u73b0\u901a\u4fe1\u7684\u6574\u4e2a\u52a0\u5bc6\uff1b \u4f7f\u7528\u8bc1\u4e66\u67e5\u660e\u5bf9\u65b9\u8eab\u4efd\uff0c\u8bc1\u4e66\u7531\u503c\u5f97\u4fe1\u8d56\u7684\u7b2c\u4e09\u65b9\u673a\u6784\u9881\u53d1\uff1b \u4f7f\u7528SSL\u63d0\u4f9b\u6458\u8981\u529f\u80fd\uff1b \u884d\u751f\u7684https http+\u52a0\u5bc6+\u8ba4\u8bc1+\u5b8c\u6574\u6027\u4fdd\u62a4=https\uff1b https\u4e0d\u662f\u5e94\u7528\u5c42\u7684\u4e00\u79cd\u65b0\u534f\u8bae\uff0c\u53ea\u662fhttp\u901a\u4fe1\u63a5\u53e3\u90e8\u5206\u7528ssl\u6216tls\u534f\u8bae\u66ff\u6362\uff0c\u901a\u4fd7\u7684\u8bf4https\u5c31\u662fhttp\u5916\u8fb9\u5957\u4e86\u4e00\u5c42\u58f3\uff1b https\u7684\u7b97\u6cd5 \u5bf9\u79f0\u7b97\u6cd5\uff1a\u52a0\u89e3\u5bc6\u4f7f\u7528\u540c\u4e00\u4e2a\u5bc6\u94a5\uff0c\u52a0\u89e3\u5bc6\u901f\u5ea6\u5feb\uff0c\u4ee3\u8868\uff1aDES\u3001AES\uff1b \u975e\u5bf9\u79f0\u7b97\u6cd5\uff1a\u5bc6\u94a5\u6210\u5bf9\u51fa\u73b0\uff0c\u52a0\u89e3\u5bc6\u4f7f\u7528\u4e0d\u540c\u7684\u5bc6\u94a5\uff0c\u516c\u94a5\u52a0\u5bc6\u79c1\u94a5\u89e3\u5bc6\uff0c\u79c1\u94a5\u52a0\u5bc6\u516c\u94a5\u89e3\u5bc6\uff0c\u52a0\u5bc6\u901f\u5ea6\u6162\uff0c\u4ee3\u8868\uff1aRSA\u3001DSA\uff1b https\u7684\u4f20\u8f93\u8fc7\u7a0b \u5ba2\u6237\u7aef\u53d1\u9001\u4e00\u4e2a\u8fde\u63a5\u8bf7\u6c42\u7ed9\u670d\u52a1\u5668\uff1b \u670d\u52a1\u5668\u5c06\u81ea\u5df1\u7684\u8bc1\u4e66(\u7531CA\u7b7e\u53d1\uff0c\u540c\u65f6\u5305\u542b\u670d\u52a1\u5668\u516c\u94a5)\u3001\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\u79cd\u7c7b\u53ca\u5176\u4ed6\u76f8\u5173\u4fe1\u606f\u8fd4\u56de\u5ba2\u6237\u7aef\uff1b \u5ba2\u6237\u7aef\u6d4f\u89c8\u5668\u6bd4\u8f83\u8bc1\u4e66\u91cc\u7684\u4fe1\u606f\uff0c\u5982\u8bc1\u4e66\u6709\u6548\u671f\u3001\u670d\u52a1\u5668\u57df\u540d\u548c\u516c\u94a5\uff0c\u662f\u5426\u7531\u4fe1\u4efb\u7684CA\u7b7e\u53d1\uff0c\u5982\u679c\u4e00\u81f4\uff0c\u5219\u6d4f\u89c8\u5668\u5b8c\u6210\u5bf9\u670d\u52a1\u5668\u7684\u8eab\u4efd\u8ba4\u8bc1\u3002\u5426\u5219\u7ed9\u5ba2\u6237\u4e00\u4e2a\u8b66\u544a\u4fe1\u606f\uff1a\u8be2\u95ee\u662f\u5426\u7ee7\u7eed\u8bbf\u95ee\uff1b \u5ba2\u6237\u7aef\u5411\u670d\u52a1\u5668\u53d1\u9001\u5ba2\u6237\u7aef\u8bc1\u4e66\uff08\u5305\u542b\u5ba2\u6237\u7aef\u516c\u94a5\uff09\u3001\u652f\u6301\u7684\u5bf9\u79f0\u52a0\u5bc6\u65b9\u6848\u53ca\u5176\u4ed6\u4fe1\u606f\u3002\u670d\u52a1\u5668\u6536\u5230\u540e\uff0c\u8fdb\u884c\u76f8\u540c\u7684\u8eab\u4efd\u8ba4\u8bc1\uff0c\u82e5\u6ca1\u6709\u901a\u8fc7\u9a8c\u8bc1\uff0c\u5219\u62d2\u7edd\u8fde\u63a5\uff1b \u670d\u52a1\u5668\u6839\u636e\u5ba2\u6237\u7aef\u6d4f\u89c8\u5668\u53d1\u9001\u7684\u5bc6\u7801\u79cd\u7c7b\uff0c\u9009\u62e9\u4e00\u79cd\u52a0\u5bc6\u65b9\u6848\uff0c\u7528\u5ba2\u6237\u7aef\u516c\u94a5\u52a0\u5bc6\u540e\u901a\u77e5\u5230\u5ba2\u6237\u7aef\u6d4f\u89c8\u5668\uff1b \u5ba2\u6237\u7aef\u901a\u8fc7\u79c1\u94a5\u89e3\u5bc6\u540e\uff0c\u5f97\u77e5\u670d\u52a1\u5668\u9009\u62e9\u7684\u52a0\u5bc6\u65b9\u6848\uff0c\u5e76\u9009\u62e9\u968f\u673a\u751f\u6210\u4e00\u4e2a\u4f1a\u8bdd\u5bc6\u94a5\uff0c\u63a5\u7740\u7528\u670d\u52a1\u5668\u516c\u94a5\u52a0\u5bc6\u540e\u53d1\u9001\u7ed9\u670d\u52a1\u5668\uff1b \u670d\u52a1\u5668\u63a5\u6536\u5230\u6d4f\u89c8\u5668\u4f20\u9001\u7684\u6d88\u606f\uff0c\u7528\u79c1\u94a5\u89e3\u5bc6\uff0c\u83b7\u5f97\u901a\u8bdd\u5bc6\u94a5key\uff1b \u63a5\u4e0b\u6765\u7684\u6570\u636e\u4f20\u8f93\u90fd\u4f7f\u7528\u8be5\u5bf9\u79f0\u5bc6\u94a5key\u8fdb\u884c\u52a0\u5bc6\uff1b \u53c2\u8003\u8d44\u6599 \u5168\u7ad9 HTTPS \u6ca1\u4f60\u60f3\u8c61\u7684\u90a3\u4e48\u7b80\u5355 \u5168\u7ad9HTTPS\u7684\u90a3\u4e9b\u5751 \u542f\u7528\u5168\u7ad9HTTPS\u540e\u4e0d\u4ec5\u66f4\u5b89\u5168\u800c\u4e14\u66f4\u5feb \u770b\u6dd8\u5b9d\u662f\u5982\u4f55\u505a\u5230\u7684","title":"\u5168\u7ad9https"},{"location":"application-security/security-defense/https/#https","text":"","title":"\u5168\u7ad9https"},{"location":"application-security/security-defense/https/#https_1","text":"","title":"\u4e3a\u4ec0\u4e48\u4f7f\u7528https"},{"location":"application-security/security-defense/https/#http","text":"\u901a\u4fe1\u660e\u6587\u4f20\u8f93\uff0c\u5185\u5bb9\u53ef\u80fd\u88ab\u7a83\u542c\uff1b \u65e0\u6cd5\u9a8c\u8bc1\u5ba2\u6237\u7aef\u8eab\u4efd\uff0c\u53ef\u80fd\u88ab\u4f2a\u88c5\uff1b \u65e0\u6cd5\u9a8c\u8bc1\u6570\u636e\u7684\u5b8c\u6574\u6027\uff0c\u53ef\u80fd\u88ab\u7be1\u6539\uff1b","title":"http\u7684\u7f3a\u70b9"},{"location":"application-security/security-defense/https/#http_1","text":"\u52a0\u5bc6\u9632\u6b62\u7a83\u542c\uff1b \u901a\u4fe1\u52a0\u5bc6\uff1ahttp\u672c\u8eab\u6ca1\u6709\u52a0\u5bc6\u673a\u5236\uff0c\u53ef\u4ee5\u7ec4\u5408\u4f7f\u7528SSL(\u5b89\u5168\u5957\u63a5\u5c42)\u548cTLS(\u5b89\u5168\u4f20\u8f93\u5c42)\u6280\u672f\u5b9e\u73b0\u901a\u4fe1\u7684\u6574\u4e2a\u52a0\u5bc6\uff1b \u4f7f\u7528\u8bc1\u4e66\u67e5\u660e\u5bf9\u65b9\u8eab\u4efd\uff0c\u8bc1\u4e66\u7531\u503c\u5f97\u4fe1\u8d56\u7684\u7b2c\u4e09\u65b9\u673a\u6784\u9881\u53d1\uff1b \u4f7f\u7528SSL\u63d0\u4f9b\u6458\u8981\u529f\u80fd\uff1b","title":"\u5982\u4f55\u89e3\u51b3http\u7684\u7f3a\u70b9"},{"location":"application-security/security-defense/https/#https_2","text":"http+\u52a0\u5bc6+\u8ba4\u8bc1+\u5b8c\u6574\u6027\u4fdd\u62a4=https\uff1b https\u4e0d\u662f\u5e94\u7528\u5c42\u7684\u4e00\u79cd\u65b0\u534f\u8bae\uff0c\u53ea\u662fhttp\u901a\u4fe1\u63a5\u53e3\u90e8\u5206\u7528ssl\u6216tls\u534f\u8bae\u66ff\u6362\uff0c\u901a\u4fd7\u7684\u8bf4https\u5c31\u662fhttp\u5916\u8fb9\u5957\u4e86\u4e00\u5c42\u58f3\uff1b","title":"\u884d\u751f\u7684https"},{"location":"application-security/security-defense/https/#https_3","text":"\u5bf9\u79f0\u7b97\u6cd5\uff1a\u52a0\u89e3\u5bc6\u4f7f\u7528\u540c\u4e00\u4e2a\u5bc6\u94a5\uff0c\u52a0\u89e3\u5bc6\u901f\u5ea6\u5feb\uff0c\u4ee3\u8868\uff1aDES\u3001AES\uff1b \u975e\u5bf9\u79f0\u7b97\u6cd5\uff1a\u5bc6\u94a5\u6210\u5bf9\u51fa\u73b0\uff0c\u52a0\u89e3\u5bc6\u4f7f\u7528\u4e0d\u540c\u7684\u5bc6\u94a5\uff0c\u516c\u94a5\u52a0\u5bc6\u79c1\u94a5\u89e3\u5bc6\uff0c\u79c1\u94a5\u52a0\u5bc6\u516c\u94a5\u89e3\u5bc6\uff0c\u52a0\u5bc6\u901f\u5ea6\u6162\uff0c\u4ee3\u8868\uff1aRSA\u3001DSA\uff1b","title":"https\u7684\u7b97\u6cd5"},{"location":"application-security/security-defense/https/#https_4","text":"\u5ba2\u6237\u7aef\u53d1\u9001\u4e00\u4e2a\u8fde\u63a5\u8bf7\u6c42\u7ed9\u670d\u52a1\u5668\uff1b \u670d\u52a1\u5668\u5c06\u81ea\u5df1\u7684\u8bc1\u4e66(\u7531CA\u7b7e\u53d1\uff0c\u540c\u65f6\u5305\u542b\u670d\u52a1\u5668\u516c\u94a5)\u3001\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\u79cd\u7c7b\u53ca\u5176\u4ed6\u76f8\u5173\u4fe1\u606f\u8fd4\u56de\u5ba2\u6237\u7aef\uff1b \u5ba2\u6237\u7aef\u6d4f\u89c8\u5668\u6bd4\u8f83\u8bc1\u4e66\u91cc\u7684\u4fe1\u606f\uff0c\u5982\u8bc1\u4e66\u6709\u6548\u671f\u3001\u670d\u52a1\u5668\u57df\u540d\u548c\u516c\u94a5\uff0c\u662f\u5426\u7531\u4fe1\u4efb\u7684CA\u7b7e\u53d1\uff0c\u5982\u679c\u4e00\u81f4\uff0c\u5219\u6d4f\u89c8\u5668\u5b8c\u6210\u5bf9\u670d\u52a1\u5668\u7684\u8eab\u4efd\u8ba4\u8bc1\u3002\u5426\u5219\u7ed9\u5ba2\u6237\u4e00\u4e2a\u8b66\u544a\u4fe1\u606f\uff1a\u8be2\u95ee\u662f\u5426\u7ee7\u7eed\u8bbf\u95ee\uff1b \u5ba2\u6237\u7aef\u5411\u670d\u52a1\u5668\u53d1\u9001\u5ba2\u6237\u7aef\u8bc1\u4e66\uff08\u5305\u542b\u5ba2\u6237\u7aef\u516c\u94a5\uff09\u3001\u652f\u6301\u7684\u5bf9\u79f0\u52a0\u5bc6\u65b9\u6848\u53ca\u5176\u4ed6\u4fe1\u606f\u3002\u670d\u52a1\u5668\u6536\u5230\u540e\uff0c\u8fdb\u884c\u76f8\u540c\u7684\u8eab\u4efd\u8ba4\u8bc1\uff0c\u82e5\u6ca1\u6709\u901a\u8fc7\u9a8c\u8bc1\uff0c\u5219\u62d2\u7edd\u8fde\u63a5\uff1b \u670d\u52a1\u5668\u6839\u636e\u5ba2\u6237\u7aef\u6d4f\u89c8\u5668\u53d1\u9001\u7684\u5bc6\u7801\u79cd\u7c7b\uff0c\u9009\u62e9\u4e00\u79cd\u52a0\u5bc6\u65b9\u6848\uff0c\u7528\u5ba2\u6237\u7aef\u516c\u94a5\u52a0\u5bc6\u540e\u901a\u77e5\u5230\u5ba2\u6237\u7aef\u6d4f\u89c8\u5668\uff1b \u5ba2\u6237\u7aef\u901a\u8fc7\u79c1\u94a5\u89e3\u5bc6\u540e\uff0c\u5f97\u77e5\u670d\u52a1\u5668\u9009\u62e9\u7684\u52a0\u5bc6\u65b9\u6848\uff0c\u5e76\u9009\u62e9\u968f\u673a\u751f\u6210\u4e00\u4e2a\u4f1a\u8bdd\u5bc6\u94a5\uff0c\u63a5\u7740\u7528\u670d\u52a1\u5668\u516c\u94a5\u52a0\u5bc6\u540e\u53d1\u9001\u7ed9\u670d\u52a1\u5668\uff1b \u670d\u52a1\u5668\u63a5\u6536\u5230\u6d4f\u89c8\u5668\u4f20\u9001\u7684\u6d88\u606f\uff0c\u7528\u79c1\u94a5\u89e3\u5bc6\uff0c\u83b7\u5f97\u901a\u8bdd\u5bc6\u94a5key\uff1b \u63a5\u4e0b\u6765\u7684\u6570\u636e\u4f20\u8f93\u90fd\u4f7f\u7528\u8be5\u5bf9\u79f0\u5bc6\u94a5key\u8fdb\u884c\u52a0\u5bc6\uff1b","title":"https\u7684\u4f20\u8f93\u8fc7\u7a0b"},{"location":"application-security/security-defense/https/#_1","text":"\u5168\u7ad9 HTTPS \u6ca1\u4f60\u60f3\u8c61\u7684\u90a3\u4e48\u7b80\u5355 \u5168\u7ad9HTTPS\u7684\u90a3\u4e9b\u5751 \u542f\u7528\u5168\u7ad9HTTPS\u540e\u4e0d\u4ec5\u66f4\u5b89\u5168\u800c\u4e14\u66f4\u5feb \u770b\u6dd8\u5b9d\u662f\u5982\u4f55\u505a\u5230\u7684","title":"\u53c2\u8003\u8d44\u6599"},{"location":"application-security/security-defense/iptables-waf/","text":"iptables-waf iptables\u5de5\u4f5c\u5728\u4e3b\u673a\u5c42\u9762\uff0c\u5bf9\u4e8e\u8fdb\u51fa\u7684\u7f51\u7edc\u6216\u8005\u4e3b\u673a\u7684\u6570\u636e\u62a5\u6587\uff0c\u6839\u636e\u4e8b\u5148\u8bbe\u5b9a\u597d\u7684\u68c0\u67e5\u89c4\u5219\u5bf9\u5176\u68c0\u67e5\uff0c\u5e76\u4f5c\u51fa\u76f8\u5e94\u7684\u5904\u7406\u3002 iptables\u5b9e\u73b0waf iptables\u62e6\u622aip # \u62e6\u622aip iptables -A INPUT -p tcp --dport 80 -s 192.168.199.1 -j DROP # \u5220\u9664\u62e6\u622a iptables -D INPUT -p tcp --dport 80 -s 192.168.199.1 -j DROP \u5229\u7528ipset\u8fdb\u884c\u6279\u91cfIP\u62e6\u622a # \u521b\u5efaip\u96c6 ipset create bloodzer0 hash:ip # \u67e5\u770bip\u96c6 ipset list # \u6dfb\u52a0\u6210\u5458 ipset add bloodzer0 ip # \u5220\u9664\u6210\u5458 ipset del bloodzer0 ip # \u5c06ipset\u4fdd\u5b58\u4e3a\u6587\u4ef6 ipset save bloodzer0 -f bloodzer0.txt # iptables\u4e0eipset\u7ed3\u5408 iptables -A INPUT -m set --match-set bloodzer0 src -p tcp --dport 80 -j DROP \u95ee\u9898\u601d\u8003 iptables\u5c01\u7981IP\uff0c\u662f\u5c01\u7981\u7684\u76f4\u8fdeIP\uff0c\u4e5f\u5c31\u662f\u76f4\u63a5\u4e0e\u670d\u52a1\u5668\u901a\u4fe1\u7684IP\u3002\u4f46\u662f\u6211\u4eec\u4e00\u822c\u7684\u7f51\u7edc\u67b6\u6784\u662f\uff1aCDN--SLB--Server\u6216\u8005CDN--Server\uff0c\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u4f7f\u7528\u4e0a\u9762\u7684\u65b9\u5f0f\u5c31\u5931\u6548\u4e86\uff0c\u6240\u4ee5\u6211\u4eec\u91c7\u7528\u65b0\u7684\u65b9\u5f0f\uff1a\u6839\u636eXFF\u6765\u5c01\u7981IP\u3002 \u6839\u636eXFF+iptables\u5c01\u7981IP iptables -A INPUT -p tcp --dport 80 -m string --algo kmp --string X-Forwarded-For: IP -j DROP \u5907\u6ce8\uff1aXFF\u5f88\u597d\u4f2a\u9020\u7ed5\u8fc7\u3002 \u8e29\u5751\u8bb0 XFF+iptables\u5b9e\u73b0waf\u6027\u80fd\u74f6\u9888 \u8fd9\u79cd\u65b9\u5f0f\u5c31\u4e0d\u80fd\u4f7f\u7528ipset\uff0c\u6240\u4ee5\u5982\u679c\u662f\u4e1a\u52a1\u91cf\u5f88\u5927\u7684\u65f6\u5019\uff0c\u4e0d\u5efa\u8bae\u91c7\u7528\u8fd9\u79cd\u65b9\u5f0f\uff0c\u56e0\u4e3a\u4e00\u4e2aIP\u4e00\u6761\u89c4\u5219\uff0c\u800ciptables\u4f1a\u9488\u5bf9INPUT\u6bcf\u4e00\u4e2a\u6570\u636e\u5305\u8fdb\u884c\u89e3\u6790\u5224\u65ad\u3002 \u6211\u6d4b\u8bd5\u8fc7\u4e00\u53f02\u683816G\u7684\u670d\u52a1\u5668\uff0c\u5728\u89c4\u5219\u6570\u91cf\u8fbe\u52302300+\u7684\u65f6\u5019\uff0cQPS\u7a0d\u5fae\u4e00\u5927\uff0c\u670d\u52a1\u5668CPU\u5bb9\u6613\u98d9\u523090%\u4ee5\u4e0a\u3002 \u53c2\u8003\u8d44\u6599","title":"iptables-waf"},{"location":"application-security/security-defense/iptables-waf/#iptables-waf","text":"iptables\u5de5\u4f5c\u5728\u4e3b\u673a\u5c42\u9762\uff0c\u5bf9\u4e8e\u8fdb\u51fa\u7684\u7f51\u7edc\u6216\u8005\u4e3b\u673a\u7684\u6570\u636e\u62a5\u6587\uff0c\u6839\u636e\u4e8b\u5148\u8bbe\u5b9a\u597d\u7684\u68c0\u67e5\u89c4\u5219\u5bf9\u5176\u68c0\u67e5\uff0c\u5e76\u4f5c\u51fa\u76f8\u5e94\u7684\u5904\u7406\u3002","title":"iptables-waf"},{"location":"application-security/security-defense/iptables-waf/#iptableswaf","text":"","title":"iptables\u5b9e\u73b0waf"},{"location":"application-security/security-defense/iptables-waf/#iptablesip","text":"# \u62e6\u622aip iptables -A INPUT -p tcp --dport 80 -s 192.168.199.1 -j DROP # \u5220\u9664\u62e6\u622a iptables -D INPUT -p tcp --dport 80 -s 192.168.199.1 -j DROP","title":"iptables\u62e6\u622aip"},{"location":"application-security/security-defense/iptables-waf/#ipsetip","text":"# \u521b\u5efaip\u96c6 ipset create bloodzer0 hash:ip # \u67e5\u770bip\u96c6 ipset list # \u6dfb\u52a0\u6210\u5458 ipset add bloodzer0 ip # \u5220\u9664\u6210\u5458 ipset del bloodzer0 ip # \u5c06ipset\u4fdd\u5b58\u4e3a\u6587\u4ef6 ipset save bloodzer0 -f bloodzer0.txt # iptables\u4e0eipset\u7ed3\u5408 iptables -A INPUT -m set --match-set bloodzer0 src -p tcp --dport 80 -j DROP","title":"\u5229\u7528ipset\u8fdb\u884c\u6279\u91cfIP\u62e6\u622a"},{"location":"application-security/security-defense/iptables-waf/#_1","text":"iptables\u5c01\u7981IP\uff0c\u662f\u5c01\u7981\u7684\u76f4\u8fdeIP\uff0c\u4e5f\u5c31\u662f\u76f4\u63a5\u4e0e\u670d\u52a1\u5668\u901a\u4fe1\u7684IP\u3002\u4f46\u662f\u6211\u4eec\u4e00\u822c\u7684\u7f51\u7edc\u67b6\u6784\u662f\uff1aCDN--SLB--Server\u6216\u8005CDN--Server\uff0c\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u4f7f\u7528\u4e0a\u9762\u7684\u65b9\u5f0f\u5c31\u5931\u6548\u4e86\uff0c\u6240\u4ee5\u6211\u4eec\u91c7\u7528\u65b0\u7684\u65b9\u5f0f\uff1a\u6839\u636eXFF\u6765\u5c01\u7981IP\u3002","title":"\u95ee\u9898\u601d\u8003"},{"location":"application-security/security-defense/iptables-waf/#xffiptablesip","text":"iptables -A INPUT -p tcp --dport 80 -m string --algo kmp --string X-Forwarded-For: IP -j DROP \u5907\u6ce8\uff1aXFF\u5f88\u597d\u4f2a\u9020\u7ed5\u8fc7\u3002","title":"\u6839\u636eXFF+iptables\u5c01\u7981IP"},{"location":"application-security/security-defense/iptables-waf/#_2","text":"","title":"\u8e29\u5751\u8bb0"},{"location":"application-security/security-defense/iptables-waf/#xffiptableswaf","text":"\u8fd9\u79cd\u65b9\u5f0f\u5c31\u4e0d\u80fd\u4f7f\u7528ipset\uff0c\u6240\u4ee5\u5982\u679c\u662f\u4e1a\u52a1\u91cf\u5f88\u5927\u7684\u65f6\u5019\uff0c\u4e0d\u5efa\u8bae\u91c7\u7528\u8fd9\u79cd\u65b9\u5f0f\uff0c\u56e0\u4e3a\u4e00\u4e2aIP\u4e00\u6761\u89c4\u5219\uff0c\u800ciptables\u4f1a\u9488\u5bf9INPUT\u6bcf\u4e00\u4e2a\u6570\u636e\u5305\u8fdb\u884c\u89e3\u6790\u5224\u65ad\u3002 \u6211\u6d4b\u8bd5\u8fc7\u4e00\u53f02\u683816G\u7684\u670d\u52a1\u5668\uff0c\u5728\u89c4\u5219\u6570\u91cf\u8fbe\u52302300+\u7684\u65f6\u5019\uff0cQPS\u7a0d\u5fae\u4e00\u5927\uff0c\u670d\u52a1\u5668CPU\u5bb9\u6613\u98d9\u523090%\u4ee5\u4e0a\u3002","title":"XFF+iptables\u5b9e\u73b0waf\u6027\u80fd\u74f6\u9888"},{"location":"application-security/security-defense/iptables-waf/#_3","text":"","title":"\u53c2\u8003\u8d44\u6599"},{"location":"application-security/security-defense/modsecurity-waf/","text":"modsecurity-waf \u5b89\u88c5\u4e0e\u4f7f\u7528 # \u64cd\u4f5c\u7cfb\u7edf\uff1aCentos7 # \u89e3\u51b3\u4f9d\u8d56\u73af\u5883 yum install gcc.x86_64 libxml2-devel.x86_64 httpd.x86_64 httpd-devel.x86_64 pcre2.x86_64 pcre2-devel.x86_64 -y # \u5b89\u88c5mod_security yum install mod_security.x86_64 -y # \u67e5\u770bhttp \u6a21\u5757\uff0c\u7ed3\u679c\u5982\u56fe httpd -M | grep security # \u542f\u52a8\u670d\u52a1 systemctl start httpd.service # mod_security\u914d\u7f6e\u6587\u4ef6 /etc/httpd/conf.d/mod_security.conf # \u89c4\u5219\u76ee\u5f55 /etc/httpd/modsecurity.d/activated_rules # \u5b89\u88c5mod_security\u89c4\u5219 yum -y install mod_security_crs # \u67e5\u770b\u89c4\u5219 # \u6d4b\u8bd5url\uff1ahttp://10.10.10.5/ script # \u67e5\u770b\u65e5\u5fd7 tail -n 1 -f /etc/httpd/logs/error_log # \u67e5\u770b\u6a21\u5757\u65e5\u5fd7 tail -f /var/log/httpd/modsec_audit.log ModSecurity\u63a7\u5236\u53f0waf-fle \u5b98\u7f51\u5730\u5740 \u5728\u7ebf\u6d4b\u8bd5\u5730\u5740 \u6d4b\u8bd5\u8d26\u53f7\uff1awaffle-demo \u6d4b\u8bd5\u5bc6\u7801\uff1awaffle-demo \u53c2\u8003\u8d44\u6599 owasp mod_security","title":"modsecurity-waf"},{"location":"application-security/security-defense/modsecurity-waf/#modsecurity-waf","text":"","title":"modsecurity-waf"},{"location":"application-security/security-defense/modsecurity-waf/#_1","text":"# \u64cd\u4f5c\u7cfb\u7edf\uff1aCentos7 # \u89e3\u51b3\u4f9d\u8d56\u73af\u5883 yum install gcc.x86_64 libxml2-devel.x86_64 httpd.x86_64 httpd-devel.x86_64 pcre2.x86_64 pcre2-devel.x86_64 -y # \u5b89\u88c5mod_security yum install mod_security.x86_64 -y # \u67e5\u770bhttp \u6a21\u5757\uff0c\u7ed3\u679c\u5982\u56fe httpd -M | grep security # \u542f\u52a8\u670d\u52a1 systemctl start httpd.service # mod_security\u914d\u7f6e\u6587\u4ef6 /etc/httpd/conf.d/mod_security.conf # \u89c4\u5219\u76ee\u5f55 /etc/httpd/modsecurity.d/activated_rules # \u5b89\u88c5mod_security\u89c4\u5219 yum -y install mod_security_crs # \u67e5\u770b\u89c4\u5219 # \u6d4b\u8bd5url\uff1ahttp://10.10.10.5/ script # \u67e5\u770b\u65e5\u5fd7 tail -n 1 -f /etc/httpd/logs/error_log # \u67e5\u770b\u6a21\u5757\u65e5\u5fd7 tail -f /var/log/httpd/modsec_audit.log","title":"\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"application-security/security-defense/modsecurity-waf/#modsecuritywaf-fle","text":"\u5b98\u7f51\u5730\u5740 \u5728\u7ebf\u6d4b\u8bd5\u5730\u5740 \u6d4b\u8bd5\u8d26\u53f7\uff1awaffle-demo \u6d4b\u8bd5\u5bc6\u7801\uff1awaffle-demo","title":"ModSecurity\u63a7\u5236\u53f0waf-fle"},{"location":"application-security/security-defense/modsecurity-waf/#_2","text":"owasp mod_security","title":"\u53c2\u8003\u8d44\u6599"},{"location":"application-security/security-defense/openresty-waf/","text":"openresty-waf \u5b89\u88c5\u4e0e\u4f7f\u7528 # \u64cd\u4f5c\u7cfb\u7edf\uff1acentos7 # \u89e3\u51b3\u4f9d\u8d56 yum install gcc.x86_64 gcc-c++.x86_64 openssl-devel.x86_64 pcre-devel.x86_64 -y # \u4e0b\u8f7dOpenResty wget https://openresty.org/download/openresty-1.13.6.2.tar.gz # \u5b89\u88c5OpenResty tar -xf openresty-1.13.6.2.tar.gz cd openresty-1.13.6.2 ./configure gmake gmake install # \u542f\u52a8\u670d\u52a1 /usr/local/openresty/nginx/sbin/nginx # \u505c\u6b62\u670d\u52a1 /usr/local/openresty/nginx/sbin/nginx -s quit # \u6d4b\u8bd5OpenResty vim /usr/local/openresty/nginx/conf/nginx.conf location /hello { default_type text/html; content_by_lua_block { ngx.say( hello world ) } } # \u91cd\u65b0\u8f7d\u5165\u914d\u7f6e\u6587\u4ef6 /usr/local/openresty/nginx/sbin/nginx -s reload # \u8bbf\u95ee\u9875\u9762\uff1ahttp://10.10.10.5/hello \u5b9e\u73b0waf # \u4e0b\u8f7dwaf git clone https://github.com/unixhot/waf # \u590d\u5236\u5230\u5bf9\u5e94\u76ee\u5f55 mkdir /usr/local/openresty/nginx/conf/waf cp -r waf/waf/* /usr/local/openresty/nginx/conf/waf # \u521b\u5efawaf\u65e5\u5fd7\u76ee\u5f55 mkdir /tmp/waf-log chmod 777 /tmp/waf-log # \u4fee\u6539waf\u914d\u7f6e\uff0c\u4fee\u6539\u65e5\u5fd7\u76ee\u5f55 vim /usr/local/openresty/nginx/conf/waf/config.lua config_log_dir = /tmp/waf-log \u914d\u7f6ewaf vim /usr/local/openresty/nginx/conf/nginx.conf lua_shared_dict limit 50m; lua_package_path /usr/local/openresty/nginx/conf/waf/?.lua ; init_by_lua_file /usr/local/openresty/nginx/conf/waf/init.lua ; access_by_lua_file /usr/local/openresty/nginx/conf/waf/access.lua ; # \u91cd\u542f\u670d\u52a1 # \u8bbf\u95ee\u6d4b\u8bd5\u9875\u9762\uff1ahttp://10.10.10.5/hello.sql waf\u7684\u8bf4\u660e \u89c4\u5219\u8bf4\u660e waf\u89c4\u5219\u6587\u4ef6\u76ee\u5f55\uff1a/usr/local/openresty/nginx/conf/waf/rule-config \u89c4\u5219\u6587\u4ef6\u8bf4\u660e\uff1a\u53ef\u4ee5\u5728\u76f8\u5e94\u7684\u89c4\u5219\u4e2d\u6dfb\u52a0\u5bf9\u5e94\u7684\u503c args.rule\uff1a\u53c2\u6570\u503c\u89c4\u5219 blackip.rule\uff1a\u9ed1\u540d\u5355IP cookie.rule\uff1aCookie\u503c\u89c4\u5219 post.rule\uff1aPost\u6570\u636e\u89c4\u5219 url.rule\uff1aURL\u89c4\u5219 useragent.rule\uff1aUser-Agent\u89c4\u5219 whiteip.rule\uff1a\u767d\u540d\u5355IP whiteurl.rule\uff1a\u767d\u540d\u5355URL \u914d\u7f6e\u8bf4\u660e # waf\u7684\u72b6\u6001\uff0con\u4e3a\u5f00\u542f\uff0coff\u4e3a\u5173\u95ed config_waf_enable = on # \u65e5\u5fd7\u6587\u4ef6\u8def\u5f84 config_log_dir = /tmp/waf-log # \u89c4\u5219\u6587\u4ef6\u8def\u5f84 config_rule_dir = /usr/local/openresty/nginx/conf/waf/rule-config # \u662f\u5426\u542f\u7528\u767d\u540d\u5355url\u68c0\u6d4b config_white_url_check = on # \u662f\u5426\u542f\u7528\u767d\u540d\u5355ip\u68c0\u6d4b config_white_ip_check = on # \u662f\u5426\u542f\u7528\u9ed1\u540d\u5355ip\u68c0\u6d4b config_black_ip_check = on # \u662f\u5426\u542f\u7528url\u68c0\u6d4b config_url_check = on # \u662f\u5426\u542f\u7528\u53c2\u6570\u68c0\u6d4b config_url_args_check = on # \u662f\u5426\u542f\u7528user-agent\u68c0\u6d4b config_user_agent_check = on # \u662f\u5426\u542f\u7528cookie\u68c0\u6d4b config_cookie_check = on # \u662f\u5426\u542f\u7528cc\u68c0\u6d4b config_cc_check = on # CC\u68c0\u6d4b\u9891\u7387\u8bbe\u7f6e\uff0cnum/time config_cc_rate = 10/60 # \u662f\u5426\u542f\u7528post\u6570\u636e\u68c0\u6d4b config_post_check = on \u6839\u636e\u914d\u7f6e\u53ef\u5f97\uff0cwaf\u89c4\u5219\u7684\u4f18\u5148\u7ea7\u4e3a\uff1a\u767d\u540d\u5355--\u9ed1\u540d\u5355--\u89c4\u5219\u68c0\u6d4b\uff08allow deny\uff09 \u53c2\u8003\u8d44\u6599 \u5176\u5b83\u5f00\u6e90waf loveshell nginx lua waf jx-sec \u9526\u8863\u76fe","title":"openresty-waf"},{"location":"application-security/security-defense/openresty-waf/#openresty-waf","text":"","title":"openresty-waf"},{"location":"application-security/security-defense/openresty-waf/#_1","text":"# \u64cd\u4f5c\u7cfb\u7edf\uff1acentos7 # \u89e3\u51b3\u4f9d\u8d56 yum install gcc.x86_64 gcc-c++.x86_64 openssl-devel.x86_64 pcre-devel.x86_64 -y # \u4e0b\u8f7dOpenResty wget https://openresty.org/download/openresty-1.13.6.2.tar.gz # \u5b89\u88c5OpenResty tar -xf openresty-1.13.6.2.tar.gz cd openresty-1.13.6.2 ./configure gmake gmake install # \u542f\u52a8\u670d\u52a1 /usr/local/openresty/nginx/sbin/nginx # \u505c\u6b62\u670d\u52a1 /usr/local/openresty/nginx/sbin/nginx -s quit # \u6d4b\u8bd5OpenResty vim /usr/local/openresty/nginx/conf/nginx.conf location /hello { default_type text/html; content_by_lua_block { ngx.say( hello world ) } } # \u91cd\u65b0\u8f7d\u5165\u914d\u7f6e\u6587\u4ef6 /usr/local/openresty/nginx/sbin/nginx -s reload # \u8bbf\u95ee\u9875\u9762\uff1ahttp://10.10.10.5/hello","title":"\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"application-security/security-defense/openresty-waf/#waf","text":"# \u4e0b\u8f7dwaf git clone https://github.com/unixhot/waf # \u590d\u5236\u5230\u5bf9\u5e94\u76ee\u5f55 mkdir /usr/local/openresty/nginx/conf/waf cp -r waf/waf/* /usr/local/openresty/nginx/conf/waf # \u521b\u5efawaf\u65e5\u5fd7\u76ee\u5f55 mkdir /tmp/waf-log chmod 777 /tmp/waf-log # \u4fee\u6539waf\u914d\u7f6e\uff0c\u4fee\u6539\u65e5\u5fd7\u76ee\u5f55 vim /usr/local/openresty/nginx/conf/waf/config.lua config_log_dir = /tmp/waf-log","title":"\u5b9e\u73b0waf"},{"location":"application-security/security-defense/openresty-waf/#waf_1","text":"vim /usr/local/openresty/nginx/conf/nginx.conf lua_shared_dict limit 50m; lua_package_path /usr/local/openresty/nginx/conf/waf/?.lua ; init_by_lua_file /usr/local/openresty/nginx/conf/waf/init.lua ; access_by_lua_file /usr/local/openresty/nginx/conf/waf/access.lua ; # \u91cd\u542f\u670d\u52a1 # \u8bbf\u95ee\u6d4b\u8bd5\u9875\u9762\uff1ahttp://10.10.10.5/hello.sql","title":"\u914d\u7f6ewaf"},{"location":"application-security/security-defense/openresty-waf/#waf_2","text":"","title":"waf\u7684\u8bf4\u660e"},{"location":"application-security/security-defense/openresty-waf/#_2","text":"waf\u89c4\u5219\u6587\u4ef6\u76ee\u5f55\uff1a/usr/local/openresty/nginx/conf/waf/rule-config \u89c4\u5219\u6587\u4ef6\u8bf4\u660e\uff1a\u53ef\u4ee5\u5728\u76f8\u5e94\u7684\u89c4\u5219\u4e2d\u6dfb\u52a0\u5bf9\u5e94\u7684\u503c args.rule\uff1a\u53c2\u6570\u503c\u89c4\u5219 blackip.rule\uff1a\u9ed1\u540d\u5355IP cookie.rule\uff1aCookie\u503c\u89c4\u5219 post.rule\uff1aPost\u6570\u636e\u89c4\u5219 url.rule\uff1aURL\u89c4\u5219 useragent.rule\uff1aUser-Agent\u89c4\u5219 whiteip.rule\uff1a\u767d\u540d\u5355IP whiteurl.rule\uff1a\u767d\u540d\u5355URL","title":"\u89c4\u5219\u8bf4\u660e"},{"location":"application-security/security-defense/openresty-waf/#_3","text":"# waf\u7684\u72b6\u6001\uff0con\u4e3a\u5f00\u542f\uff0coff\u4e3a\u5173\u95ed config_waf_enable = on # \u65e5\u5fd7\u6587\u4ef6\u8def\u5f84 config_log_dir = /tmp/waf-log # \u89c4\u5219\u6587\u4ef6\u8def\u5f84 config_rule_dir = /usr/local/openresty/nginx/conf/waf/rule-config # \u662f\u5426\u542f\u7528\u767d\u540d\u5355url\u68c0\u6d4b config_white_url_check = on # \u662f\u5426\u542f\u7528\u767d\u540d\u5355ip\u68c0\u6d4b config_white_ip_check = on # \u662f\u5426\u542f\u7528\u9ed1\u540d\u5355ip\u68c0\u6d4b config_black_ip_check = on # \u662f\u5426\u542f\u7528url\u68c0\u6d4b config_url_check = on # \u662f\u5426\u542f\u7528\u53c2\u6570\u68c0\u6d4b config_url_args_check = on # \u662f\u5426\u542f\u7528user-agent\u68c0\u6d4b config_user_agent_check = on # \u662f\u5426\u542f\u7528cookie\u68c0\u6d4b config_cookie_check = on # \u662f\u5426\u542f\u7528cc\u68c0\u6d4b config_cc_check = on # CC\u68c0\u6d4b\u9891\u7387\u8bbe\u7f6e\uff0cnum/time config_cc_rate = 10/60 # \u662f\u5426\u542f\u7528post\u6570\u636e\u68c0\u6d4b config_post_check = on \u6839\u636e\u914d\u7f6e\u53ef\u5f97\uff0cwaf\u89c4\u5219\u7684\u4f18\u5148\u7ea7\u4e3a\uff1a\u767d\u540d\u5355--\u9ed1\u540d\u5355--\u89c4\u5219\u68c0\u6d4b\uff08allow deny\uff09","title":"\u914d\u7f6e\u8bf4\u660e"},{"location":"application-security/security-defense/openresty-waf/#_4","text":"","title":"\u53c2\u8003\u8d44\u6599"},{"location":"application-security/security-defense/openresty-waf/#waf_3","text":"loveshell nginx lua waf jx-sec \u9526\u8863\u76fe","title":"\u5176\u5b83\u5f00\u6e90waf"},{"location":"application-security/security-defense/waf/","text":"Web\u5e94\u7528\u9632\u706b\u5899 waf\u7684\u90e8\u7f72\u65b9\u5f0f \u6839\u636e\u90e8\u7f72\u903b\u8f91 \u4e3b\u8981\u5206\u4e3a\u4e32\u8054\u4e0e\u5e76\u8054\u4e24\u79cd\u5f62\u5f0f\u3002 \u63a8\u8350\u9009\u62e9\uff1a\u7269\u7406\u5e76\u8054\u903b\u8f91\u4e32\u8054\u7684\u90e8\u7f72\u65b9\u5f0f\uff0c\u5bf9\u4e1a\u52a1\u7684\u5f71\u54cd\u8f83\u4f4e\u5e76\u5bb9\u6613\u505a\u964d\u7ea7\u65b9\u6848\u3002 \u6839\u636e\u90e8\u7f72\u65b9\u5f0f cname\u90e8\u7f72\uff08\u4ee3\u7406\u6a21\u5f0f\uff09\u3001module\u90e8\u7f72\uff08\u4e3b\u673a\u6a21\u5f0f\uff09\u3001\u7f51\u7edc\u5c42\u90e8\u7f72\uff08\u7f51\u7edc\u6a21\u5f0f\uff09 \u4f01\u4e1a\u4e0awaf\u65f6\u7684\u601d\u8003 \u5355\u53f0waf\u80fd\u627f\u53d7\u7684QPS\u4e0a\u9650\u662f\u591a\u5c11\uff1f \u90e8\u7f72waf\u5bf9\u7cfb\u7edf\u6027\u80fd\u9020\u6210\u7684\u5f71\u54cd\u662f\u591a\u5c11\uff1f waf\u7684\u8bef\u62a5\u7387\u4e0e\u6f0f\u62a5\u7387\u662f\u5426\u80fd\u8fbe\u5230\u9884\u671f\u7684\u5e73\u8861\u503c\uff08\u5e73\u8861\u503c\uff1a\u4efb\u4f55\u5b89\u5168\u8bbe\u5907\u90fd\u4fdd\u969c\u4e0d\u4e86\u4f4e\u6f0f\u62a5\u3001\u4f4e\u8bef\u62a5\uff0c\u53ea\u80fd\u5728\u8bef\u62a5\u4e0e\u6f0f\u62a5\u4e4b\u95f4\u5747\u8861\uff0c\u8fbe\u5230\u5fc3\u4e2d\u7684\u5e73\u8861\u5c31\u662f\u6700\u597d\u7684\uff09\uff1f \u53c2\u8003\u8d44\u6599 \u4e92\u8054\u7f51\u516c\u53f8WAF\u7cfb\u7edf\u8bbe\u8ba1 \u4f7f\u7528OpenResty\u642d\u5efaWAF\u5e94\u7528 \u4f7f\u7528NGINX+Openresty\u5b9e\u73b0WAF\u529f\u80fd","title":"Web\u5e94\u7528\u9632\u706b\u5899"},{"location":"application-security/security-defense/waf/#web","text":"","title":"Web\u5e94\u7528\u9632\u706b\u5899"},{"location":"application-security/security-defense/waf/#waf","text":"\u6839\u636e\u90e8\u7f72\u903b\u8f91 \u4e3b\u8981\u5206\u4e3a\u4e32\u8054\u4e0e\u5e76\u8054\u4e24\u79cd\u5f62\u5f0f\u3002 \u63a8\u8350\u9009\u62e9\uff1a\u7269\u7406\u5e76\u8054\u903b\u8f91\u4e32\u8054\u7684\u90e8\u7f72\u65b9\u5f0f\uff0c\u5bf9\u4e1a\u52a1\u7684\u5f71\u54cd\u8f83\u4f4e\u5e76\u5bb9\u6613\u505a\u964d\u7ea7\u65b9\u6848\u3002 \u6839\u636e\u90e8\u7f72\u65b9\u5f0f cname\u90e8\u7f72\uff08\u4ee3\u7406\u6a21\u5f0f\uff09\u3001module\u90e8\u7f72\uff08\u4e3b\u673a\u6a21\u5f0f\uff09\u3001\u7f51\u7edc\u5c42\u90e8\u7f72\uff08\u7f51\u7edc\u6a21\u5f0f\uff09","title":"waf\u7684\u90e8\u7f72\u65b9\u5f0f"},{"location":"application-security/security-defense/waf/#waf_1","text":"\u5355\u53f0waf\u80fd\u627f\u53d7\u7684QPS\u4e0a\u9650\u662f\u591a\u5c11\uff1f \u90e8\u7f72waf\u5bf9\u7cfb\u7edf\u6027\u80fd\u9020\u6210\u7684\u5f71\u54cd\u662f\u591a\u5c11\uff1f waf\u7684\u8bef\u62a5\u7387\u4e0e\u6f0f\u62a5\u7387\u662f\u5426\u80fd\u8fbe\u5230\u9884\u671f\u7684\u5e73\u8861\u503c\uff08\u5e73\u8861\u503c\uff1a\u4efb\u4f55\u5b89\u5168\u8bbe\u5907\u90fd\u4fdd\u969c\u4e0d\u4e86\u4f4e\u6f0f\u62a5\u3001\u4f4e\u8bef\u62a5\uff0c\u53ea\u80fd\u5728\u8bef\u62a5\u4e0e\u6f0f\u62a5\u4e4b\u95f4\u5747\u8861\uff0c\u8fbe\u5230\u5fc3\u4e2d\u7684\u5e73\u8861\u5c31\u662f\u6700\u597d\u7684\uff09\uff1f","title":"\u4f01\u4e1a\u4e0awaf\u65f6\u7684\u601d\u8003"},{"location":"application-security/security-defense/waf/#_1","text":"\u4e92\u8054\u7f51\u516c\u53f8WAF\u7cfb\u7edf\u8bbe\u8ba1 \u4f7f\u7528OpenResty\u642d\u5efaWAF\u5e94\u7528 \u4f7f\u7528NGINX+Openresty\u5b9e\u73b0WAF\u529f\u80fd","title":"\u53c2\u8003\u8d44\u6599"},{"location":"application-security/security-testing/","text":"\u5b89\u5168\u6d4b\u8bd5 \u5b89\u5168\u6d4b\u8bd5\u4e0e\u6e17\u900f\u7684\u533a\u522b \u5b89\u5168\u6d4b\u8bd5\uff1a\u4fa7\u91cd\u4e8e\u5b89\u5168\u5a01\u80c1\u7684\u5efa\u6a21\uff0c\u7cfb\u7edf\u5bf9\u6765\u81ea\u5404\u4e2a\u65b9\u9762\u3001\u5404\u4e2a\u5c42\u9762\u5a01\u80c1\u7684\u5168\u9762\u8003\u91cf\u3002\u4e0d\u5c40\u9650\u4e8eWeb\u5e94\u7528\u7cfb\u7edf\uff0c\u53ef\u4ee5\u5e94\u7528\u4e8e\u4efb\u4f55\u8f6f\u786c\u4ef6\u7cfb\u7edf\u3002 \u6e17\u900f\u6d4b\u8bd5\uff1a\u4fa7\u91cd\u4e8e\u51e0\u4e2a\u70b9\u7684\u7a7f\u900f\u653b\u51fb\uff0c\u4ee5\u9ed1\u5ba2\u653b\u51fb\u624b\u6cd5\u4ece\u5355\u70b9\u627e\u5230\u5229\u7528\u9014\u5f84\uff0c\u8bc1\u660e\u7cfb\u7edf\u5b58\u5728\u95ee\u9898\u3002 \u5b89\u5168\u6d4b\u8bd5\u5206\u7c7b \u767d\u76d2\u6d4b\u8bd5 \u7070\u76d2\u6d4b\u8bd5 \u9ed1\u76d2\u6d4b\u8bd5 \u5b89\u5168\u6d4b\u8bd5\u6d41\u7a0b \u5f88\u591a\u4e2d\u5c0f\u578b\u4f01\u4e1a\u662f\u6ca1\u6709\u5408\u7406\u7684\u5b89\u5168\u6d4b\u8bd5\u6d41\u7a0b\u7684\uff0c\u539f\u56e0\u4e3b\u8981\u6709\u4ee5\u4e0b2\u70b9\uff1a \u5b89\u5168\u4e0e\u4e1a\u52a1\u6c9f\u901a\u534f\u4f5c\u4e0d\u5f53\uff0c\u4e1a\u52a1\u4e0d\u77e5\u9053\u4ec0\u4e48\u65f6\u5019\u9700\u8981\u8fdb\u884c\u5b89\u5168\u6d4b\u8bd5\uff0c\u5b89\u5168\u5bf9\u4e1a\u52a1\u4e86\u89e3\u592a\u5c11\uff1b \u5b89\u5168\u963b\u788d\u4e86\u4e1a\u52a1\u7684\u53d1\u5c55\uff08\u8fd9\u662f\u5f88\u591a\u4e1a\u52a1\u7684\u76f4\u89c2\u8ba4\u4e3a\uff0c\u4e5f\u662f\u5b89\u5168\u5de5\u4f5c\u4e0d\u5230\u4f4d\u7684\u4f53\u73b0\uff09\uff0c\u5982\uff1a\u5b89\u5168\u6d4b\u8bd5\u6240\u9700\u65f6\u95f4\u3001\u5b89\u5168\u6d4b\u8bd5\u53d1\u73b0\u7684\u95ee\u9898\u9700\u8981\u4fee\u590d\u7b49\u7b49\u8fd9\u4e9b\u90fd\u963b\u788d\u4e86\u7cfb\u7edf\u7684\u9884\u671f\u4e0a\u7ebf\u65f6\u95f4\uff1b \u5f53\u7136\u4e00\u4e2a\u597d\u7684\u5b89\u5168\u6d4b\u8bd5\u6d41\u7a0b\u9700\u8981\uff1a\u4e0d\u65ad\u7684\u6c9f\u901a\u534f\u8c03\uff0c\u4e00\u4e2a\u5b8c\u5584\u7cfb\u7edf\u5982\uff1a\u90ae\u4ef6(\u6ca1\u6709IT\u7cfb\u7edf\u7684\u60c5\u51b5\u4e0b)\u3001JIRA\u3001\u7985\u9053\u7b49\u3002 \u4e00\u822c\u800c\u8a00\uff0c\u5b89\u5168\u6d4b\u8bd52\u79cd\u60c5\u51b5\uff0c\u8fd9\u91cc\u9ed8\u8ba4\u5ffd\u7565\uff1a\u6ca1\u6709\u6d41\u7a0b\uff0c\u5b89\u5168\u6d4b\u8bd5\u4eba\u5458\u76f4\u63a5\u786c\u6760\u7684\u60c5\u51b5\u3002 \u4e3b\u52a8\u578b\u5b89\u5168\u6d4b\u8bd5\u6d41\u7a0b \u88ab\u52a8\u578b\u5b89\u5168\u6d4b\u8bd5\u6d41\u7a0b \u4e24\u79cd\u6d41\u7a0b\u4e3b\u8981\u662f\u63d0\u51fa\u9700\u6c42\u7684\u4eba\u5458\u89d2\u8272\u4e0d\u4e00\u81f4\uff0c\u5728\u63d0\u51fa\u7684\u9700\u6c42\u4e2d\uff0c\u9700\u8981\u660e\u786e\u5982\u4e0b\u7684\u4e1c\u897f\uff1a # \u5b89\u5168\u6d4b\u8bd5\u4eba\u5458\u63d0\u51fa\u9700\u6c42\u5ba1\u6279 1.\u9700\u8981\u6d4b\u8bd5\u7684\u5bf9\u8c61\uff1a\u5730\u5740\u3001\u662f\u5426\u9700\u8981\u4e1a\u52a1\u65b9\u914d\u5408\uff08\u5ba1\u6838\u6ce8\u518c\u7528\u6237\u7b49\uff09\u3001\u662f\u5426\u9700\u8981\u63d0\u4f9b\u6d4b\u8bd5\u8d26\u53f7\u5bc6\u7801\u7b49\u4fe1\u606f\uff1b 2.\u6d4b\u8bd5\u6240\u9700\u7684\u65f6\u95f4\uff1a 3.\u6d4b\u8bd5\u53ef\u80fd\u9020\u6210\u7684\u5f71\u54cd\uff1a 4.\u5b89\u5168\u6d4b\u8bd5\u7528\u4f8b\uff1a\u5982\u679c\u53ef\u80fd\u63d0\u4f9b\u4e00\u4efd\u5b89\u5168\u6d4b\u8bd5\u7528\u4f8b\u8fd9\u6837\u53ef\u4ee5\u8ba9\u4e1a\u52a1\u65b9\u77e5\u6653\u5b89\u5168\u4f1a\u8fdb\u884c\u54ea\u4e9b\u653b\u51fb\uff1b # \u4e1a\u52a1\u65b9\u63d0\u51fa\u5b89\u5168\u6d4b\u8bd5\u9700\u6c42 1.\u9700\u8981\u6d4b\u8bd5\u7684\u5bf9\u8c61\uff1a\u4e00\u822c\u6211\u9047\u5230\u90fd\u662f\u63a5\u53e3\u6d4b\u8bd5\uff0c\u5c31\u9700\u8981\u63d0\u4f9b\u63a5\u53e3\u6587\u6863\uff1b 2.\u7cfb\u7edf\u4e0a\u7ebf\u65f6\u95f4\uff1a\u5b89\u5168\u6d4b\u8bd5\u9700\u8981\u6839\u636e\u4e0a\u7ebf\u65f6\u95f4\u6765\u5b89\u6392\u6d4b\u8bd5\u65f6\u95f4\uff0c\u4fdd\u969c\u65f6\u95f4\u7684\u5145\u88d5\uff1b \u5b89\u5168\u6d4b\u8bd5\u5468\u671f \u5b89\u5168\u6d4b\u8bd5\u6574\u4f53\u800c\u8a00\u5206\u4e3a\u4e24\u7c7b\uff1a\u5185\u90e8\u5b89\u5168\u56e2\u961f\u3001\u5916\u90e8\u7b2c\u4e09\u65b9\uff08\u5305\u62ec\u4f17\u6d4b\uff09 \u5185\u90e8\u5b89\u5168\u6d4b\u8bd5 \u5b9a\u671f\u8fdb\u884c\u5b89\u5168\u6d4b\u8bd5\uff1a\u7ebf\u4e0a\u7cfb\u7edf\u5168\u91cf\u8986\u76d6\u6d4b\u8bd5\uff1b \u4e1a\u52a1\u53d8\u66f4\u5b89\u5168\u6d4b\u8bd5\uff1a\u65b0\u4e1a\u52a1\u3001\u65b0\u7cfb\u7edf\u3001\u4e1a\u52a1\u53d8\u66f4\u7b49\u4e0a\u7ebf\u524d\u7684\u5b89\u5168\u6d4b\u8bd5\uff0c\u8981\u6c42\u5feb\u901f\u4ea4\u4ed8\uff0c\u4fa7\u91cd\u4e8e\u9ad8\u5371\u3001\u4e25\u91cd\u6f0f\u6d1e\u7684\u6d4b\u8bd5\uff1b \u5916\u90e8\u5b89\u5168\u6d4b\u8bd5 \u91c7\u8d2d\u7b2c\u4e09\u65b9\u5b89\u5168\u670d\u52a1\u6216\u8005\u53c2\u4e0e\u4f17\u6d4b\uff0c\u5177\u4f53\u7684\u65f6\u95f4\u5468\u671f\u9700\u8981\u6839\u636e\u516c\u53f8\u5728\u5b89\u5168\u6d4b\u8bd5\u4e0a\u6240\u6295\u5165\u7684\u8d44\u91d1\u4ee5\u53ca\u5185\u90e8\u5b89\u5168\u56e2\u961f\u60c5\u51b5\u6765\u5408\u7406\u5b89\u6392\u3002\uff08\u6ce8\u610f\u9488\u5bf9\u4e92\u8054\u7f51\u4f01\u4e1a\uff09 \u6ca1\u6709\u5185\u90e8\u5b89\u5168\u56e2\u961f\uff1a\u4e00\u4e2a\u5b63\u5ea6\uff0c\u6216\u8005\u6700\u591a\u534a\u5e74\u5e94\u8be5\u8fdb\u884c\u4e00\u6b21\u5916\u90e8\u7b2c\u4e09\u65b9\u5b89\u5168\u6d4b\u8bd5\uff1b \u6709\u5185\u90e8\u5b89\u5168\u56e2\u961f(\u4eba\u6570\u8f83\u5c11)\uff1a\u534a\u5e74\u6216\u8005\u4e00\u5e74\uff1b \u6210\u719f\u7684\u5185\u90e8\u5b89\u5168\u56e2\u961f\uff1a\u4e00\u5e74\uff0c\u5982\u679c\u5bf9\u56e2\u961f\u6709\u4fe1\u5fc3\uff0c\u5728\u6ca1\u6709\u5408\u89c4\u7b49\u4fdd\u8981\u6c42\u4e0b\u53ef\u4ee5\u4e0d\u505a\uff1b \u5b89\u5168\u6d4b\u8bd5\u7684\u6ce8\u610f\u4e8b\u9879 \u5bf9\u7cfb\u7edf\u9020\u6210\u4e0d\u53ef\u7528\u5f71\u54cd\uff1b\u5982\uff1a\u5bf9server\u7684\u6ea2\u51fa\u64cd\u4f5c\uff0c\u9ad8\u9891\u7387\u722c\u866b\uff1b \u8fdb\u884c\u4e00\u4e9b\u53ef\u80fd\u9020\u6210\u6570\u636e\u4e22\u5931\u6216\u4ea7\u751f\u810f\u6570\u636e\u7684\u6d4b\u8bd5\u5c3d\u53ef\u80fd\u5728\u6d4b\u8bd5\u73af\u5883\u8fdb\u884c\uff0c\u6d4b\u8bd5\u73af\u5883\u9700\u8981\u505a\u597d\u5907\u4efd\u65b9\u4fbf\u56de\u6eda\uff1b\u6bd4\u5982\uff1a\u626b\u63cf\u8fc7\u6ee4POST\u8bf7\u6c42\u3002 \u5982\u679c\u6709\u5b89\u5168\u9632\u62a4\u7cfb\u7edf\uff0c\u6d4b\u8bd5\u671f\u95f4\u5c3d\u53ef\u80fd\u5bf9\u5b89\u5168\u6d4b\u8bd5\u8005\u7684IP\u8fdb\u884c\u52a0\u767d\uff0c\u5c0f\u5fc3\u529e\u516c\u7f51\u6d4b\u8bd5\u62c9\u9ed1\u6574\u4e2a\u529e\u516c\u5ba4\u7684\u4eba\u3002 \u6d4b\u8bd5\u4e8b\u540e\u5904\u7406\uff1a\u5b89\u5168\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u9020\u6210\u7684\u6d4b\u8bd5\u6570\u636e\u5220\u9664\uff0c\u4ee5\u53ca\u9a8c\u8bc1\u95ee\u9898\u5b58\u5728\u7684\u540e\u95e8\u5220\u9664\uff1b \u53c2\u8003\u8d44\u6599 \u5b89\u5168\u6d4b\u8bd5\u548c\u6e17\u900f\u6d4b\u8bd5\u533a\u522b \u643a\u7a0b\u5b89\u5168\u81ea\u52a8\u5316\u6d4b\u8bd5\u4e4b\u8def","title":"\u5b89\u5168\u6d4b\u8bd5"},{"location":"application-security/security-testing/#_1","text":"","title":"\u5b89\u5168\u6d4b\u8bd5"},{"location":"application-security/security-testing/#_2","text":"\u5b89\u5168\u6d4b\u8bd5\uff1a\u4fa7\u91cd\u4e8e\u5b89\u5168\u5a01\u80c1\u7684\u5efa\u6a21\uff0c\u7cfb\u7edf\u5bf9\u6765\u81ea\u5404\u4e2a\u65b9\u9762\u3001\u5404\u4e2a\u5c42\u9762\u5a01\u80c1\u7684\u5168\u9762\u8003\u91cf\u3002\u4e0d\u5c40\u9650\u4e8eWeb\u5e94\u7528\u7cfb\u7edf\uff0c\u53ef\u4ee5\u5e94\u7528\u4e8e\u4efb\u4f55\u8f6f\u786c\u4ef6\u7cfb\u7edf\u3002 \u6e17\u900f\u6d4b\u8bd5\uff1a\u4fa7\u91cd\u4e8e\u51e0\u4e2a\u70b9\u7684\u7a7f\u900f\u653b\u51fb\uff0c\u4ee5\u9ed1\u5ba2\u653b\u51fb\u624b\u6cd5\u4ece\u5355\u70b9\u627e\u5230\u5229\u7528\u9014\u5f84\uff0c\u8bc1\u660e\u7cfb\u7edf\u5b58\u5728\u95ee\u9898\u3002","title":"\u5b89\u5168\u6d4b\u8bd5\u4e0e\u6e17\u900f\u7684\u533a\u522b"},{"location":"application-security/security-testing/#_3","text":"\u767d\u76d2\u6d4b\u8bd5 \u7070\u76d2\u6d4b\u8bd5 \u9ed1\u76d2\u6d4b\u8bd5","title":"\u5b89\u5168\u6d4b\u8bd5\u5206\u7c7b"},{"location":"application-security/security-testing/#_4","text":"\u5f88\u591a\u4e2d\u5c0f\u578b\u4f01\u4e1a\u662f\u6ca1\u6709\u5408\u7406\u7684\u5b89\u5168\u6d4b\u8bd5\u6d41\u7a0b\u7684\uff0c\u539f\u56e0\u4e3b\u8981\u6709\u4ee5\u4e0b2\u70b9\uff1a \u5b89\u5168\u4e0e\u4e1a\u52a1\u6c9f\u901a\u534f\u4f5c\u4e0d\u5f53\uff0c\u4e1a\u52a1\u4e0d\u77e5\u9053\u4ec0\u4e48\u65f6\u5019\u9700\u8981\u8fdb\u884c\u5b89\u5168\u6d4b\u8bd5\uff0c\u5b89\u5168\u5bf9\u4e1a\u52a1\u4e86\u89e3\u592a\u5c11\uff1b \u5b89\u5168\u963b\u788d\u4e86\u4e1a\u52a1\u7684\u53d1\u5c55\uff08\u8fd9\u662f\u5f88\u591a\u4e1a\u52a1\u7684\u76f4\u89c2\u8ba4\u4e3a\uff0c\u4e5f\u662f\u5b89\u5168\u5de5\u4f5c\u4e0d\u5230\u4f4d\u7684\u4f53\u73b0\uff09\uff0c\u5982\uff1a\u5b89\u5168\u6d4b\u8bd5\u6240\u9700\u65f6\u95f4\u3001\u5b89\u5168\u6d4b\u8bd5\u53d1\u73b0\u7684\u95ee\u9898\u9700\u8981\u4fee\u590d\u7b49\u7b49\u8fd9\u4e9b\u90fd\u963b\u788d\u4e86\u7cfb\u7edf\u7684\u9884\u671f\u4e0a\u7ebf\u65f6\u95f4\uff1b \u5f53\u7136\u4e00\u4e2a\u597d\u7684\u5b89\u5168\u6d4b\u8bd5\u6d41\u7a0b\u9700\u8981\uff1a\u4e0d\u65ad\u7684\u6c9f\u901a\u534f\u8c03\uff0c\u4e00\u4e2a\u5b8c\u5584\u7cfb\u7edf\u5982\uff1a\u90ae\u4ef6(\u6ca1\u6709IT\u7cfb\u7edf\u7684\u60c5\u51b5\u4e0b)\u3001JIRA\u3001\u7985\u9053\u7b49\u3002 \u4e00\u822c\u800c\u8a00\uff0c\u5b89\u5168\u6d4b\u8bd52\u79cd\u60c5\u51b5\uff0c\u8fd9\u91cc\u9ed8\u8ba4\u5ffd\u7565\uff1a\u6ca1\u6709\u6d41\u7a0b\uff0c\u5b89\u5168\u6d4b\u8bd5\u4eba\u5458\u76f4\u63a5\u786c\u6760\u7684\u60c5\u51b5\u3002","title":"\u5b89\u5168\u6d4b\u8bd5\u6d41\u7a0b"},{"location":"application-security/security-testing/#_5","text":"","title":"\u4e3b\u52a8\u578b\u5b89\u5168\u6d4b\u8bd5\u6d41\u7a0b"},{"location":"application-security/security-testing/#_6","text":"\u4e24\u79cd\u6d41\u7a0b\u4e3b\u8981\u662f\u63d0\u51fa\u9700\u6c42\u7684\u4eba\u5458\u89d2\u8272\u4e0d\u4e00\u81f4\uff0c\u5728\u63d0\u51fa\u7684\u9700\u6c42\u4e2d\uff0c\u9700\u8981\u660e\u786e\u5982\u4e0b\u7684\u4e1c\u897f\uff1a # \u5b89\u5168\u6d4b\u8bd5\u4eba\u5458\u63d0\u51fa\u9700\u6c42\u5ba1\u6279 1.\u9700\u8981\u6d4b\u8bd5\u7684\u5bf9\u8c61\uff1a\u5730\u5740\u3001\u662f\u5426\u9700\u8981\u4e1a\u52a1\u65b9\u914d\u5408\uff08\u5ba1\u6838\u6ce8\u518c\u7528\u6237\u7b49\uff09\u3001\u662f\u5426\u9700\u8981\u63d0\u4f9b\u6d4b\u8bd5\u8d26\u53f7\u5bc6\u7801\u7b49\u4fe1\u606f\uff1b 2.\u6d4b\u8bd5\u6240\u9700\u7684\u65f6\u95f4\uff1a 3.\u6d4b\u8bd5\u53ef\u80fd\u9020\u6210\u7684\u5f71\u54cd\uff1a 4.\u5b89\u5168\u6d4b\u8bd5\u7528\u4f8b\uff1a\u5982\u679c\u53ef\u80fd\u63d0\u4f9b\u4e00\u4efd\u5b89\u5168\u6d4b\u8bd5\u7528\u4f8b\u8fd9\u6837\u53ef\u4ee5\u8ba9\u4e1a\u52a1\u65b9\u77e5\u6653\u5b89\u5168\u4f1a\u8fdb\u884c\u54ea\u4e9b\u653b\u51fb\uff1b # \u4e1a\u52a1\u65b9\u63d0\u51fa\u5b89\u5168\u6d4b\u8bd5\u9700\u6c42 1.\u9700\u8981\u6d4b\u8bd5\u7684\u5bf9\u8c61\uff1a\u4e00\u822c\u6211\u9047\u5230\u90fd\u662f\u63a5\u53e3\u6d4b\u8bd5\uff0c\u5c31\u9700\u8981\u63d0\u4f9b\u63a5\u53e3\u6587\u6863\uff1b 2.\u7cfb\u7edf\u4e0a\u7ebf\u65f6\u95f4\uff1a\u5b89\u5168\u6d4b\u8bd5\u9700\u8981\u6839\u636e\u4e0a\u7ebf\u65f6\u95f4\u6765\u5b89\u6392\u6d4b\u8bd5\u65f6\u95f4\uff0c\u4fdd\u969c\u65f6\u95f4\u7684\u5145\u88d5\uff1b","title":"\u88ab\u52a8\u578b\u5b89\u5168\u6d4b\u8bd5\u6d41\u7a0b"},{"location":"application-security/security-testing/#_7","text":"\u5b89\u5168\u6d4b\u8bd5\u6574\u4f53\u800c\u8a00\u5206\u4e3a\u4e24\u7c7b\uff1a\u5185\u90e8\u5b89\u5168\u56e2\u961f\u3001\u5916\u90e8\u7b2c\u4e09\u65b9\uff08\u5305\u62ec\u4f17\u6d4b\uff09","title":"\u5b89\u5168\u6d4b\u8bd5\u5468\u671f"},{"location":"application-security/security-testing/#_8","text":"\u5b9a\u671f\u8fdb\u884c\u5b89\u5168\u6d4b\u8bd5\uff1a\u7ebf\u4e0a\u7cfb\u7edf\u5168\u91cf\u8986\u76d6\u6d4b\u8bd5\uff1b \u4e1a\u52a1\u53d8\u66f4\u5b89\u5168\u6d4b\u8bd5\uff1a\u65b0\u4e1a\u52a1\u3001\u65b0\u7cfb\u7edf\u3001\u4e1a\u52a1\u53d8\u66f4\u7b49\u4e0a\u7ebf\u524d\u7684\u5b89\u5168\u6d4b\u8bd5\uff0c\u8981\u6c42\u5feb\u901f\u4ea4\u4ed8\uff0c\u4fa7\u91cd\u4e8e\u9ad8\u5371\u3001\u4e25\u91cd\u6f0f\u6d1e\u7684\u6d4b\u8bd5\uff1b","title":"\u5185\u90e8\u5b89\u5168\u6d4b\u8bd5"},{"location":"application-security/security-testing/#_9","text":"\u91c7\u8d2d\u7b2c\u4e09\u65b9\u5b89\u5168\u670d\u52a1\u6216\u8005\u53c2\u4e0e\u4f17\u6d4b\uff0c\u5177\u4f53\u7684\u65f6\u95f4\u5468\u671f\u9700\u8981\u6839\u636e\u516c\u53f8\u5728\u5b89\u5168\u6d4b\u8bd5\u4e0a\u6240\u6295\u5165\u7684\u8d44\u91d1\u4ee5\u53ca\u5185\u90e8\u5b89\u5168\u56e2\u961f\u60c5\u51b5\u6765\u5408\u7406\u5b89\u6392\u3002\uff08\u6ce8\u610f\u9488\u5bf9\u4e92\u8054\u7f51\u4f01\u4e1a\uff09 \u6ca1\u6709\u5185\u90e8\u5b89\u5168\u56e2\u961f\uff1a\u4e00\u4e2a\u5b63\u5ea6\uff0c\u6216\u8005\u6700\u591a\u534a\u5e74\u5e94\u8be5\u8fdb\u884c\u4e00\u6b21\u5916\u90e8\u7b2c\u4e09\u65b9\u5b89\u5168\u6d4b\u8bd5\uff1b \u6709\u5185\u90e8\u5b89\u5168\u56e2\u961f(\u4eba\u6570\u8f83\u5c11)\uff1a\u534a\u5e74\u6216\u8005\u4e00\u5e74\uff1b \u6210\u719f\u7684\u5185\u90e8\u5b89\u5168\u56e2\u961f\uff1a\u4e00\u5e74\uff0c\u5982\u679c\u5bf9\u56e2\u961f\u6709\u4fe1\u5fc3\uff0c\u5728\u6ca1\u6709\u5408\u89c4\u7b49\u4fdd\u8981\u6c42\u4e0b\u53ef\u4ee5\u4e0d\u505a\uff1b","title":"\u5916\u90e8\u5b89\u5168\u6d4b\u8bd5"},{"location":"application-security/security-testing/#_10","text":"\u5bf9\u7cfb\u7edf\u9020\u6210\u4e0d\u53ef\u7528\u5f71\u54cd\uff1b\u5982\uff1a\u5bf9server\u7684\u6ea2\u51fa\u64cd\u4f5c\uff0c\u9ad8\u9891\u7387\u722c\u866b\uff1b \u8fdb\u884c\u4e00\u4e9b\u53ef\u80fd\u9020\u6210\u6570\u636e\u4e22\u5931\u6216\u4ea7\u751f\u810f\u6570\u636e\u7684\u6d4b\u8bd5\u5c3d\u53ef\u80fd\u5728\u6d4b\u8bd5\u73af\u5883\u8fdb\u884c\uff0c\u6d4b\u8bd5\u73af\u5883\u9700\u8981\u505a\u597d\u5907\u4efd\u65b9\u4fbf\u56de\u6eda\uff1b\u6bd4\u5982\uff1a\u626b\u63cf\u8fc7\u6ee4POST\u8bf7\u6c42\u3002 \u5982\u679c\u6709\u5b89\u5168\u9632\u62a4\u7cfb\u7edf\uff0c\u6d4b\u8bd5\u671f\u95f4\u5c3d\u53ef\u80fd\u5bf9\u5b89\u5168\u6d4b\u8bd5\u8005\u7684IP\u8fdb\u884c\u52a0\u767d\uff0c\u5c0f\u5fc3\u529e\u516c\u7f51\u6d4b\u8bd5\u62c9\u9ed1\u6574\u4e2a\u529e\u516c\u5ba4\u7684\u4eba\u3002 \u6d4b\u8bd5\u4e8b\u540e\u5904\u7406\uff1a\u5b89\u5168\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u9020\u6210\u7684\u6d4b\u8bd5\u6570\u636e\u5220\u9664\uff0c\u4ee5\u53ca\u9a8c\u8bc1\u95ee\u9898\u5b58\u5728\u7684\u540e\u95e8\u5220\u9664\uff1b","title":"\u5b89\u5168\u6d4b\u8bd5\u7684\u6ce8\u610f\u4e8b\u9879"},{"location":"application-security/security-testing/#_11","text":"\u5b89\u5168\u6d4b\u8bd5\u548c\u6e17\u900f\u6d4b\u8bd5\u533a\u522b \u643a\u7a0b\u5b89\u5168\u81ea\u52a8\u5316\u6d4b\u8bd5\u4e4b\u8def","title":"\u53c2\u8003\u8d44\u6599"},{"location":"application-security/security-testing/api-security-testing/","text":"API\u5b89\u5168\u6d4b\u8bd5 API\u5b89\u5168\u98ce\u9669 \u975e\u6cd5\u4fe1\u606f\u7a83\u53d6 HTTP/HTTPS\u55c5\u63a2\u3001\u4f1a\u8bdd\u52ab\u6301 \u5ba2\u6237\u7aef\u8bc1\u4e66\u6709\u6548\u6027 API\u5e38\u89c4\u6f0f\u6d1e XSS\u3001CSRF\u3001XXE JSON\u52ab\u6301 API\u4e1a\u52a1\u6f0f\u6d1e \u53c2\u6570\u7be1\u6539 \u91cd\u653e\u653b\u51fb \u6743\u9650\u9650\u5236\u9519\u8bef\uff1a\u8d8a\u6743\u8bbf\u95ee API\u8bbf\u95ee\u9891\u7387\u9650\u5236\u9519\u8bef API DoS\uff1a\u9488\u5bf9API\u63a5\u53e3\u7684DoS\u653b\u51fb\uff0c\u5982\uff1a\u70b8\u5f39\u653b\u51fb\u3001\u6279\u91cf\u6ce8\u518c HTTP\u5934\u90e8\u8bbe\u65bd\u4e0d\u5f53 API\u5b89\u5168\u6d4b\u8bd5\u5de5\u5177 Postman Fuzzapi Astra \uff1aAPI\u81ea\u52a8\u5316\u5b89\u5168\u6d4b\u8bd5\u5de5\u5177 Google\u63d2\u4ef6\uff1aRestlet Client\u3001APIDebug Firefox\u63d2\u4ef6\uff1aRESTClient burpsuite","title":"API\u5b89\u5168\u6d4b\u8bd5"},{"location":"application-security/security-testing/api-security-testing/#api","text":"","title":"API\u5b89\u5168\u6d4b\u8bd5"},{"location":"application-security/security-testing/api-security-testing/#api_1","text":"","title":"API\u5b89\u5168\u98ce\u9669"},{"location":"application-security/security-testing/api-security-testing/#_1","text":"HTTP/HTTPS\u55c5\u63a2\u3001\u4f1a\u8bdd\u52ab\u6301 \u5ba2\u6237\u7aef\u8bc1\u4e66\u6709\u6548\u6027","title":"\u975e\u6cd5\u4fe1\u606f\u7a83\u53d6"},{"location":"application-security/security-testing/api-security-testing/#api_2","text":"XSS\u3001CSRF\u3001XXE JSON\u52ab\u6301","title":"API\u5e38\u89c4\u6f0f\u6d1e"},{"location":"application-security/security-testing/api-security-testing/#api_3","text":"\u53c2\u6570\u7be1\u6539 \u91cd\u653e\u653b\u51fb \u6743\u9650\u9650\u5236\u9519\u8bef\uff1a\u8d8a\u6743\u8bbf\u95ee","title":"API\u4e1a\u52a1\u6f0f\u6d1e"},{"location":"application-security/security-testing/api-security-testing/#api_4","text":"API DoS\uff1a\u9488\u5bf9API\u63a5\u53e3\u7684DoS\u653b\u51fb\uff0c\u5982\uff1a\u70b8\u5f39\u653b\u51fb\u3001\u6279\u91cf\u6ce8\u518c","title":"API\u8bbf\u95ee\u9891\u7387\u9650\u5236\u9519\u8bef"},{"location":"application-security/security-testing/api-security-testing/#http","text":"","title":"HTTP\u5934\u90e8\u8bbe\u65bd\u4e0d\u5f53"},{"location":"application-security/security-testing/api-security-testing/#api_5","text":"Postman Fuzzapi Astra \uff1aAPI\u81ea\u52a8\u5316\u5b89\u5168\u6d4b\u8bd5\u5de5\u5177 Google\u63d2\u4ef6\uff1aRestlet Client\u3001APIDebug Firefox\u63d2\u4ef6\uff1aRESTClient burpsuite","title":"API\u5b89\u5168\u6d4b\u8bd5\u5de5\u5177"},{"location":"application-security/security-testing/app-security-testing/","text":"APP\u5b89\u5168\u6d4b\u8bd5 \u5173\u4e8eAPP\u7684\u5b89\u5168\u6d4b\u8bd5\u4e0eWeb\u5b89\u5168\u6d4b\u8bd5\u5f88\u7c7b\u4f3c\uff0c\u5206\u4e3a\u4ee3\u7801\u5c42\u9762\u4e0e\u5e94\u7528\u5c42\u9762\uff1a \u4ee3\u7801\u5c42\u9762\uff1a\u4ee3\u7801\u6df7\u6dc6\u3001\u53cd\u8c03\u8bd5\u3001\u53cd\u6a21\u62df\u5668\uff1b \u5e94\u7528\u5c42\u9762\uff1a\u4e0eWeb\u5b89\u5168\u6d4b\u8bd5\u4e00\u81f4\uff0c\u6d89\u53casign\u9700\u8981\u9006\u5411\u7b97\u6cd5\uff1b\u6d89\u53cahttps\u9700\u8981\u4f7f\u7528xposed\u3001frida\u6216\u8005SSL Kill switch2\u8fdb\u884c\u7ed5\u8fc7\uff1b \u5e38\u89c1\u7684APP\u6f0f\u6d1e \u4efb\u610f\u7528\u6237\u767b\u5f55 token\u751f\u6210\u7b97\u6cd5\u53ef\u9006\uff08token\u751f\u6210\u7b97\u6cd5\u5728\u672c\u5730\uff0c\u4e14app\u672a\u52a0\u56fa\u5bfc\u81f4\u53ef\u4ee5\u53cd\u7f16\u8bd1\u76f4\u63a5\u751f\u6210\u4efb\u610ftoken\uff09\uff1b \u5728shared_prefs\u76ee\u5f55\u4e2d\uff0c\u5b58\u5728\u4e00\u4e2a\u7528\u6237\u767b\u5f55\u4fe1\u606f\u6587\u4ef6\uff0c\u91cc\u9762\u6709\u7528\u6237\u540d\u5bc6\u7801\uff0c\u6211\u4eec\u628a\u7528\u6237\u540d\u4fee\u6539\u4e3a\u4e00\u4e2a\u5176\u4ed6\u7684\u5df2\u77e5\u5b58\u5728\u7684\u7528\u6237\u540d\uff0c\u5bc6\u7801\u4efb\u610f\u3002\u91cd\u65b0\u6253\u5f00app\uff0c\u53d1\u73b0\u7528\u6237\u767b\u5f55\u6210\u529f\uff1b Android App AllowBackup application android:allowBackup= true # \u5907\u4efd\u8bed\u53e5 adb backup -nosystem -noshared -apk -f com.*.ab(\u5907\u4efd\u540d\u5b57) com.package(\u4f60\u8981\u5907\u4efd\u7684\u5305) # \u6062\u590d\u8bed\u53e5 adb restore com.*.ab \u65e5\u5fd7\u5b89\u5168 \u65e5\u5fd7\u6cc4\u6f0f\u8d26\u53f7\u5bc6\u7801\uff1b \u65e5\u5fd7\u6cc4\u6f0fhttp\u8bf7\u6c42\uff08\u6709\u7684\u65f6\u5019\u53ef\u4ee5\u7528\u6b64\u65b9\u6cd5\u6765\u7ed5\u8fc7https\u4e0d\u80fd\u6293\u5305\u7684\u95ee\u9898\uff09\uff1b \u652f\u4ed8\u7ed5\u8fc7 \u901a\u8fc7\u9006\u5411\uff0c\u7ed5\u8fc7\u652f\u4ed8\uff1b \u4e00\u4e2a\u65b0\u624b\u7684\u9006\u5411\u4e4b\u8def\uff0c\u8bb0\u5f55\u4e0b\u6211\u641e\u4e0b \u4fe1\u606f\u6cc4\u6f0f apk\u6e90\u7801\u4e2d\u5b58\u653e\u90ae\u7bb1\u8d26\u53f7\u5bc6\u7801\u3001\u5185\u7f51\u5730\u5740\u3001\u63a5\u53e3\u4fe1\u606f\u7b49\uff1b \u672c\u5730\u6570\u636e\u5e93\u4e2d\u5b58\u653e\u7528\u6237\u4fe1\u606f\uff1b \u65e5\u5fd7\u4e2d\u663e\u793a\u767b\u5f55\u4fe1\u606f\uff1b \u6743\u9650\u95ee\u9898 \u6b63\u5e38\u7684\uff1a\u6587\u4ef6\u6743\u9650rw-rw----\uff0c\u76ee\u5f55\u6743\u9650rwxrwx--- APP\u6f0f\u6d1e\u5371\u5bb3 \u7ec4\u4ef6\u6cc4\u6f0f \u6f0f\u6d1e\uff1a \u7ec4\u4ef6\u5728\u88ab\u8c03\u7528\u65f6\u672a\u505a\u9a8c\u8bc1\uff1b \u5728\u8c03\u7528\u5176\u4ed6\u7ec4\u4ef6\u65f6\u672a\u505a\u9a8c\u8bc1\uff1b \u5229\u7528\uff1a \u8c03\u7528\u66b4\u9732\u7684\u7ec4\u4ef6\uff0c\u8fbe\u5230\u67d0\u79cd\u6548\u679c\uff0c\u83b7\u53d6\u67d0\u4e9b\u4fe1\u606f\uff0c\u6784\u9020\u67d0\u4e9b\u6570\u636e\u3002\uff08\u6bd4\u5982\uff1a\u8c03\u7528\u66b4\u9732\u7684\u7ec4\u4ef6\u53d1\u77ed\u4fe1\u3001\u5fae\u535a\u7b49\uff09\uff1b \u76d1\u542c\u66b4\u9732\u7ec4\u4ef6\uff0c\u8bfb\u53d6\u6570\u636e\uff1b \u5efa\u8bae\uff1a \u9a8c\u8bc1\u8f93\u5165\u4fe1\u606f\u3001\u9a8c\u8bc1\u7ec4\u4ef6\u8c03\u7528\u7b49\u3002android:exported\u8bbe\u7f6e\u4e3a false\uff1b \u4f7f\u7528 android:protectionLevel= signature \u9a8c\u8bc1\u8c03\u7528\u6765\u6e90\uff1b \u53cd\u7f16\u8bd1 \u6f0f\u6d1e\uff1aAPK\u5305\u975e\u5e38\u5bb9\u6613\u88ab\u53cd\u7f16\u8bd1\u6210\u53ef\u8bfb\u6587\u4ef6\uff0c\u7a0d\u52a0\u4fee\u6539\u5c31\u80fd\u91cd\u65b0\u6253\u5305\u6210\u65b0\u7684APK; \u5229\u7528\uff1a\u8f6f\u4ef6\u7834\u89e3\uff0c\u5185\u8d2d\u7834\u89e3\uff0c\u8f6f\u4ef6\u903b\u8f91\u4fee\u6539\uff0c\u63d2\u5165\u6076\u610f\u4ee3\u7801\uff0c\u66ff\u6362\u5e7f\u544a\u5546ID; \u5efa\u8bae\uff1a\u4f7f\u7528ProGuard\u7b49\u5de5\u5177\u6df7\u6dc6\u4ee3\u7801\uff0c\u91cd\u8981\u903b\u8f91\u7528NDK\u5b9e\u73b0\u3002 \u4f8b\u5b50\uff1a\u53cd\u7f16\u8bd1\u91cd\u6253\u5305FlappyBird\uff0c\u628a\u5e7f\u544a\u5546ID\u6362\u4e86\uff0c\u6e38\u620f\u6539\u52a0\u63d2\u4e00\u6bb5\u6076\u610f\u4ee3\u7801\u7b49\u7b49\u3002 \u6570\u636e\u7684\u5b58\u50a8\u4e0e\u4f20\u8f93 \u6f0f\u6d1e\uff1a\u5916\u90e8\u5b58\u50a8\uff08SD\u5361\uff09\u4e0a\u7684\u6587\u4ef6\u6ca1\u6709\u6743\u9650\u7ba1\u7406\uff0c\u6240\u6709\u5e94\u7528\u90fd\u53ef\u8bfb\u53ef\u5199\u3002\u5f00\u53d1\u8005\u628a\u654f\u611f\u4fe1\u606f\u660e\u6587\u5b58\u5728SD\u5361\u4e0a\uff0c\u6216\u8005\u52a8\u6001\u52a0\u8f7d\u7684payload\u653e\u5728SD\u5361\u4e0a\u3002 \u5229\u7528\uff1a\u7a83\u53d6\u654f\u611f\u4fe1\u606f\uff0c\u7be1\u6539\u914d\u7f6e\u6587\u4ef6\uff0c\u4fee\u6539payload\u903b\u8f91\u5e76\u91cd\u6253\u5305\uff1b \u5efa\u8bae\uff1a\u4e0d\u8981\u628a\u654f\u611f\u4fe1\u606f\u653e\u5728\u5916\u90e8\u5b58\u50a8\u4e0a\u9762\uff1b\u5728\u52a8\u6001\u52a0\u8f7d\u5916\u90e8\u8d44\u6e90\u7684\u65f6\u5019\u9a8c\u8bc1\u6587\u4ef6\u5b8c\u6574\u6027\uff1b \u6f0f\u6d1e\uff1a\u4f7f\u7528\u5168\u5c40\u53ef\u8bfb\u5199\uff08MODE_WORLD_READABLE\uff0cMODE_WORLD_WRITEABLE\uff09\u7684\u5185\u90e8\u5b58\u50a8\u65b9\u5f0f\uff0c\u6216\u660e\u6587\u5b58\u50a8\u654f\u611f\u4fe1\u606f\uff08\u7528\u6237\u8d26\u53f7\u5bc6\u7801\u7b49\uff09\uff1b \u5229\u7528\uff1a\u5168\u5c40\u8bfb\u5199\u654f\u611f\u4fe1\u606f\uff0c\u6216 root \u540e\u8bfb\u53d6\u660e\u6587\u4fe1\u606f\uff1b \u5efa\u8bae\uff1a\u4e0d\u9002\u7528\u5168\u5c40\u53ef\u8bfb\u5199\u7684\u5185\u90e8\u5b58\u50a8\u65b9\u5f0f\uff0c\u4e0d\u660e\u6587\u5b58\u50a8\u7528\u6237\u8d26\u53f7\u5bc6\u7801\uff1b \u5bc6\u7801\u6cc4\u6f0f \u6f0f\u6d1e\uff1a\u5bc6\u7801\u660e\u6587\u5b58\u50a8\uff0c\u4f20\u8f93\uff1b \u5229\u7528\uff1a root \u540e\u53ef\u8bfb\u5199\u5185\u90e8\u5b58\u50a8\uff1b SD \u5361\u5168\u5c40\u53ef\u8bfb\u5199\uff1b \u516c\u5171 WiFi \u6293\u5305\u83b7\u53d6\u8d26\u53f7\u5bc6\u7801\uff1b \u5efa\u8bae\uff1a\u5b9e\u7528\u6210\u719f\u7684\u52a0\u5bc6\u65b9\u6848\u3002\u4e0d\u8981\u628a\u5bc6\u7801\u660e\u6587\u5b58\u50a8\u5728SD\u5361\u4e0a\uff1b WebView \u6f0f\u6d1e\uff1a \u6076\u610fAPP\u53ef\u4ee5\u6ce8\u5165JavaScript\u4ee3\u7801\u8fdb\u5165WebView\u4e2d\u7684\u7f51\u9875\uff0c\u7f51\u9875\u672a\u4f5c\u9a8c\u8bc1\uff1b \u6076\u610f\u7f51\u9875\u53ef\u4ee5\u6267\u884cJavaScript\u53cd\u8fc7\u6765\u8c03\u7528App\u4e2d\u6ce8\u518c\u8fc7\u7684\u65b9\u6cd5\uff0c\u6216\u8005\u4f7f\u7528\u8d44\u6e90\uff1b \u5229\u7528\uff1a \u6076\u610f\u7a0b\u5e8f\u5d4c\u5165Web APP\uff0c\u7136\u540e\u7a83\u53d6\u7528\u6237\u4fe1\u606f\uff1b \u6076\u610f\u7f51\u9875\u8fdc\u7a0b\u8c03\u7528APP\u4ee3\u7801\u3002\u66f4\u6709\u751a\u8005\uff0c\u901a\u8fc7Java Reflection\u8c03\u7528Runtime\u6267\u884c\u4efb\u610f\u4ee3\u7801\u3002 \u5efa\u8bae\uff1a\u4e0d\u4f7f\u7528 WebView \u4e2d\u7684 setJavaScriptEnabled(true)\uff0c\u6216\u8005\u4f7f\u7528\u65f6\u5bf9\u8f93\u5165\u8fdb\u884c\u9a8c\u8bc1\u3002 \u5176\u5b83\u6f0f\u6d1e ROOT\u540e\u7684\u624b\u673a\u53ef\u4ee5\u4fee\u6539APP\u7684\u5185\u8d2d\uff0c\u6216\u8005\u5b89\u88c5\u5916\u6302APP\u7b49\uff1b Logcat\u6cc4\u9732\u7528\u6237\u654f\u611f\u4fe1\u606f\uff1b \u6076\u610f\u7684\u5e7f\u544a\u5305\uff1b \u5229\u7528 next Intent\uff1b","title":"APP\u5b89\u5168\u6d4b\u8bd5"},{"location":"application-security/security-testing/app-security-testing/#app","text":"\u5173\u4e8eAPP\u7684\u5b89\u5168\u6d4b\u8bd5\u4e0eWeb\u5b89\u5168\u6d4b\u8bd5\u5f88\u7c7b\u4f3c\uff0c\u5206\u4e3a\u4ee3\u7801\u5c42\u9762\u4e0e\u5e94\u7528\u5c42\u9762\uff1a \u4ee3\u7801\u5c42\u9762\uff1a\u4ee3\u7801\u6df7\u6dc6\u3001\u53cd\u8c03\u8bd5\u3001\u53cd\u6a21\u62df\u5668\uff1b \u5e94\u7528\u5c42\u9762\uff1a\u4e0eWeb\u5b89\u5168\u6d4b\u8bd5\u4e00\u81f4\uff0c\u6d89\u53casign\u9700\u8981\u9006\u5411\u7b97\u6cd5\uff1b\u6d89\u53cahttps\u9700\u8981\u4f7f\u7528xposed\u3001frida\u6216\u8005SSL Kill switch2\u8fdb\u884c\u7ed5\u8fc7\uff1b","title":"APP\u5b89\u5168\u6d4b\u8bd5"},{"location":"application-security/security-testing/app-security-testing/#app_1","text":"","title":"\u5e38\u89c1\u7684APP\u6f0f\u6d1e"},{"location":"application-security/security-testing/app-security-testing/#_1","text":"token\u751f\u6210\u7b97\u6cd5\u53ef\u9006\uff08token\u751f\u6210\u7b97\u6cd5\u5728\u672c\u5730\uff0c\u4e14app\u672a\u52a0\u56fa\u5bfc\u81f4\u53ef\u4ee5\u53cd\u7f16\u8bd1\u76f4\u63a5\u751f\u6210\u4efb\u610ftoken\uff09\uff1b \u5728shared_prefs\u76ee\u5f55\u4e2d\uff0c\u5b58\u5728\u4e00\u4e2a\u7528\u6237\u767b\u5f55\u4fe1\u606f\u6587\u4ef6\uff0c\u91cc\u9762\u6709\u7528\u6237\u540d\u5bc6\u7801\uff0c\u6211\u4eec\u628a\u7528\u6237\u540d\u4fee\u6539\u4e3a\u4e00\u4e2a\u5176\u4ed6\u7684\u5df2\u77e5\u5b58\u5728\u7684\u7528\u6237\u540d\uff0c\u5bc6\u7801\u4efb\u610f\u3002\u91cd\u65b0\u6253\u5f00app\uff0c\u53d1\u73b0\u7528\u6237\u767b\u5f55\u6210\u529f\uff1b","title":"\u4efb\u610f\u7528\u6237\u767b\u5f55"},{"location":"application-security/security-testing/app-security-testing/#android-app-allowbackup","text":"application android:allowBackup= true # \u5907\u4efd\u8bed\u53e5 adb backup -nosystem -noshared -apk -f com.*.ab(\u5907\u4efd\u540d\u5b57) com.package(\u4f60\u8981\u5907\u4efd\u7684\u5305) # \u6062\u590d\u8bed\u53e5 adb restore com.*.ab","title":"Android App AllowBackup"},{"location":"application-security/security-testing/app-security-testing/#_2","text":"\u65e5\u5fd7\u6cc4\u6f0f\u8d26\u53f7\u5bc6\u7801\uff1b \u65e5\u5fd7\u6cc4\u6f0fhttp\u8bf7\u6c42\uff08\u6709\u7684\u65f6\u5019\u53ef\u4ee5\u7528\u6b64\u65b9\u6cd5\u6765\u7ed5\u8fc7https\u4e0d\u80fd\u6293\u5305\u7684\u95ee\u9898\uff09\uff1b","title":"\u65e5\u5fd7\u5b89\u5168"},{"location":"application-security/security-testing/app-security-testing/#_3","text":"\u901a\u8fc7\u9006\u5411\uff0c\u7ed5\u8fc7\u652f\u4ed8\uff1b \u4e00\u4e2a\u65b0\u624b\u7684\u9006\u5411\u4e4b\u8def\uff0c\u8bb0\u5f55\u4e0b\u6211\u641e\u4e0b","title":"\u652f\u4ed8\u7ed5\u8fc7"},{"location":"application-security/security-testing/app-security-testing/#_4","text":"apk\u6e90\u7801\u4e2d\u5b58\u653e\u90ae\u7bb1\u8d26\u53f7\u5bc6\u7801\u3001\u5185\u7f51\u5730\u5740\u3001\u63a5\u53e3\u4fe1\u606f\u7b49\uff1b \u672c\u5730\u6570\u636e\u5e93\u4e2d\u5b58\u653e\u7528\u6237\u4fe1\u606f\uff1b \u65e5\u5fd7\u4e2d\u663e\u793a\u767b\u5f55\u4fe1\u606f\uff1b","title":"\u4fe1\u606f\u6cc4\u6f0f"},{"location":"application-security/security-testing/app-security-testing/#_5","text":"\u6b63\u5e38\u7684\uff1a\u6587\u4ef6\u6743\u9650rw-rw----\uff0c\u76ee\u5f55\u6743\u9650rwxrwx---","title":"\u6743\u9650\u95ee\u9898"},{"location":"application-security/security-testing/app-security-testing/#app_2","text":"","title":"APP\u6f0f\u6d1e\u5371\u5bb3"},{"location":"application-security/security-testing/app-security-testing/#_6","text":"\u6f0f\u6d1e\uff1a \u7ec4\u4ef6\u5728\u88ab\u8c03\u7528\u65f6\u672a\u505a\u9a8c\u8bc1\uff1b \u5728\u8c03\u7528\u5176\u4ed6\u7ec4\u4ef6\u65f6\u672a\u505a\u9a8c\u8bc1\uff1b \u5229\u7528\uff1a \u8c03\u7528\u66b4\u9732\u7684\u7ec4\u4ef6\uff0c\u8fbe\u5230\u67d0\u79cd\u6548\u679c\uff0c\u83b7\u53d6\u67d0\u4e9b\u4fe1\u606f\uff0c\u6784\u9020\u67d0\u4e9b\u6570\u636e\u3002\uff08\u6bd4\u5982\uff1a\u8c03\u7528\u66b4\u9732\u7684\u7ec4\u4ef6\u53d1\u77ed\u4fe1\u3001\u5fae\u535a\u7b49\uff09\uff1b \u76d1\u542c\u66b4\u9732\u7ec4\u4ef6\uff0c\u8bfb\u53d6\u6570\u636e\uff1b \u5efa\u8bae\uff1a \u9a8c\u8bc1\u8f93\u5165\u4fe1\u606f\u3001\u9a8c\u8bc1\u7ec4\u4ef6\u8c03\u7528\u7b49\u3002android:exported\u8bbe\u7f6e\u4e3a false\uff1b \u4f7f\u7528 android:protectionLevel= signature \u9a8c\u8bc1\u8c03\u7528\u6765\u6e90\uff1b","title":"\u7ec4\u4ef6\u6cc4\u6f0f"},{"location":"application-security/security-testing/app-security-testing/#_7","text":"\u6f0f\u6d1e\uff1aAPK\u5305\u975e\u5e38\u5bb9\u6613\u88ab\u53cd\u7f16\u8bd1\u6210\u53ef\u8bfb\u6587\u4ef6\uff0c\u7a0d\u52a0\u4fee\u6539\u5c31\u80fd\u91cd\u65b0\u6253\u5305\u6210\u65b0\u7684APK; \u5229\u7528\uff1a\u8f6f\u4ef6\u7834\u89e3\uff0c\u5185\u8d2d\u7834\u89e3\uff0c\u8f6f\u4ef6\u903b\u8f91\u4fee\u6539\uff0c\u63d2\u5165\u6076\u610f\u4ee3\u7801\uff0c\u66ff\u6362\u5e7f\u544a\u5546ID; \u5efa\u8bae\uff1a\u4f7f\u7528ProGuard\u7b49\u5de5\u5177\u6df7\u6dc6\u4ee3\u7801\uff0c\u91cd\u8981\u903b\u8f91\u7528NDK\u5b9e\u73b0\u3002 \u4f8b\u5b50\uff1a\u53cd\u7f16\u8bd1\u91cd\u6253\u5305FlappyBird\uff0c\u628a\u5e7f\u544a\u5546ID\u6362\u4e86\uff0c\u6e38\u620f\u6539\u52a0\u63d2\u4e00\u6bb5\u6076\u610f\u4ee3\u7801\u7b49\u7b49\u3002","title":"\u53cd\u7f16\u8bd1"},{"location":"application-security/security-testing/app-security-testing/#_8","text":"\u6f0f\u6d1e\uff1a\u5916\u90e8\u5b58\u50a8\uff08SD\u5361\uff09\u4e0a\u7684\u6587\u4ef6\u6ca1\u6709\u6743\u9650\u7ba1\u7406\uff0c\u6240\u6709\u5e94\u7528\u90fd\u53ef\u8bfb\u53ef\u5199\u3002\u5f00\u53d1\u8005\u628a\u654f\u611f\u4fe1\u606f\u660e\u6587\u5b58\u5728SD\u5361\u4e0a\uff0c\u6216\u8005\u52a8\u6001\u52a0\u8f7d\u7684payload\u653e\u5728SD\u5361\u4e0a\u3002 \u5229\u7528\uff1a\u7a83\u53d6\u654f\u611f\u4fe1\u606f\uff0c\u7be1\u6539\u914d\u7f6e\u6587\u4ef6\uff0c\u4fee\u6539payload\u903b\u8f91\u5e76\u91cd\u6253\u5305\uff1b \u5efa\u8bae\uff1a\u4e0d\u8981\u628a\u654f\u611f\u4fe1\u606f\u653e\u5728\u5916\u90e8\u5b58\u50a8\u4e0a\u9762\uff1b\u5728\u52a8\u6001\u52a0\u8f7d\u5916\u90e8\u8d44\u6e90\u7684\u65f6\u5019\u9a8c\u8bc1\u6587\u4ef6\u5b8c\u6574\u6027\uff1b \u6f0f\u6d1e\uff1a\u4f7f\u7528\u5168\u5c40\u53ef\u8bfb\u5199\uff08MODE_WORLD_READABLE\uff0cMODE_WORLD_WRITEABLE\uff09\u7684\u5185\u90e8\u5b58\u50a8\u65b9\u5f0f\uff0c\u6216\u660e\u6587\u5b58\u50a8\u654f\u611f\u4fe1\u606f\uff08\u7528\u6237\u8d26\u53f7\u5bc6\u7801\u7b49\uff09\uff1b \u5229\u7528\uff1a\u5168\u5c40\u8bfb\u5199\u654f\u611f\u4fe1\u606f\uff0c\u6216 root \u540e\u8bfb\u53d6\u660e\u6587\u4fe1\u606f\uff1b \u5efa\u8bae\uff1a\u4e0d\u9002\u7528\u5168\u5c40\u53ef\u8bfb\u5199\u7684\u5185\u90e8\u5b58\u50a8\u65b9\u5f0f\uff0c\u4e0d\u660e\u6587\u5b58\u50a8\u7528\u6237\u8d26\u53f7\u5bc6\u7801\uff1b","title":"\u6570\u636e\u7684\u5b58\u50a8\u4e0e\u4f20\u8f93"},{"location":"application-security/security-testing/app-security-testing/#_9","text":"\u6f0f\u6d1e\uff1a\u5bc6\u7801\u660e\u6587\u5b58\u50a8\uff0c\u4f20\u8f93\uff1b \u5229\u7528\uff1a root \u540e\u53ef\u8bfb\u5199\u5185\u90e8\u5b58\u50a8\uff1b SD \u5361\u5168\u5c40\u53ef\u8bfb\u5199\uff1b \u516c\u5171 WiFi \u6293\u5305\u83b7\u53d6\u8d26\u53f7\u5bc6\u7801\uff1b \u5efa\u8bae\uff1a\u5b9e\u7528\u6210\u719f\u7684\u52a0\u5bc6\u65b9\u6848\u3002\u4e0d\u8981\u628a\u5bc6\u7801\u660e\u6587\u5b58\u50a8\u5728SD\u5361\u4e0a\uff1b","title":"\u5bc6\u7801\u6cc4\u6f0f"},{"location":"application-security/security-testing/app-security-testing/#webview","text":"\u6f0f\u6d1e\uff1a \u6076\u610fAPP\u53ef\u4ee5\u6ce8\u5165JavaScript\u4ee3\u7801\u8fdb\u5165WebView\u4e2d\u7684\u7f51\u9875\uff0c\u7f51\u9875\u672a\u4f5c\u9a8c\u8bc1\uff1b \u6076\u610f\u7f51\u9875\u53ef\u4ee5\u6267\u884cJavaScript\u53cd\u8fc7\u6765\u8c03\u7528App\u4e2d\u6ce8\u518c\u8fc7\u7684\u65b9\u6cd5\uff0c\u6216\u8005\u4f7f\u7528\u8d44\u6e90\uff1b \u5229\u7528\uff1a \u6076\u610f\u7a0b\u5e8f\u5d4c\u5165Web APP\uff0c\u7136\u540e\u7a83\u53d6\u7528\u6237\u4fe1\u606f\uff1b \u6076\u610f\u7f51\u9875\u8fdc\u7a0b\u8c03\u7528APP\u4ee3\u7801\u3002\u66f4\u6709\u751a\u8005\uff0c\u901a\u8fc7Java Reflection\u8c03\u7528Runtime\u6267\u884c\u4efb\u610f\u4ee3\u7801\u3002 \u5efa\u8bae\uff1a\u4e0d\u4f7f\u7528 WebView \u4e2d\u7684 setJavaScriptEnabled(true)\uff0c\u6216\u8005\u4f7f\u7528\u65f6\u5bf9\u8f93\u5165\u8fdb\u884c\u9a8c\u8bc1\u3002","title":"WebView"},{"location":"application-security/security-testing/app-security-testing/#_10","text":"ROOT\u540e\u7684\u624b\u673a\u53ef\u4ee5\u4fee\u6539APP\u7684\u5185\u8d2d\uff0c\u6216\u8005\u5b89\u88c5\u5916\u6302APP\u7b49\uff1b Logcat\u6cc4\u9732\u7528\u6237\u654f\u611f\u4fe1\u606f\uff1b \u6076\u610f\u7684\u5e7f\u544a\u5305\uff1b \u5229\u7528 next Intent\uff1b","title":"\u5176\u5b83\u6f0f\u6d1e"},{"location":"application-security/security-testing/checklist/","text":"\u5b89\u5168\u6d4b\u8bd5checklist OWASP CheckList \u4fe1\u606f\u6536\u96c6\u6d4b\u8bd5 \u641c\u7d22\u5f15\u64ce\u4fe1\u606f\u6536\u96c6 Web\u670d\u52a1\u5668\u6307\u7eb9\u8bc6\u522b Web\u670d\u52a1\u5668\u5143\u6587\u4ef6\u4fe1\u606f\u6cc4\u6f0f \u679a\u4e3eWeb\u670d\u52a1\u5668\u7684\u5e94\u7528 \u6ce8\u91ca\u548c\u5143\u6570\u636e\u4fe1\u606f\u6cc4\u6f0f \u8bc6\u522b\u5e94\u7528\u7684\u5165\u53e3 \u6620\u5c04\u5e94\u7528\u7a0b\u5e8f\u7684\u6267\u884c\u8def\u5f84 \u8bc6\u522bWeb\u5e94\u7528\u6846\u67b6 \u8bc6\u522bWeb\u5e94\u7528\u7a0b\u5e8f \u6620\u5c04\u5e94\u7528\u67b6\u6784 \u914d\u7f6e\u7ba1\u7406\u6d4b\u8bd5 \u5fd8\u4e86\u548c\u57fa\u7840\u8bbe\u65bd\u914d\u7f6e\u6d4b\u8bd5 \u5e94\u7528\u5e73\u53f0\u914d\u7f6e\u6d4b\u8bd5 \u654f\u611f\u4fe1\u606f\u6587\u4ef6\u6269\u5c55\u5904\u7406\u6d4b\u8bd5 \u5bf9\u65e7\u6587\u4ef6\u3001\u5907\u4efd\u548c\u672a\u88ab\u5f15\u7528\u6587\u4ef6\u7684\u654f\u611f\u4fe1\u606f\u7684\u5ba1\u67e5 \u679a\u4e3e\u57fa\u7840\u8bbe\u65bd\u548c\u5e94\u7528\u7a0b\u5e8f\u7ba1\u7406\u754c\u9762 HTTP\u65b9\u6cd5\u6d4b\u8bd5 HTTP\u5f3a\u5236\u5b89\u5168\u4f20\u8f93\u6d4b\u8bd5 RIA\u8de8\u57df\u7b56\u7565\u6d4b\u8bd5 \u8eab\u4efd\u7ba1\u7406\u6d4b\u8bd5 \u89d2\u8272\u5b9a\u4e49\u6d4b\u8bd5 \u7528\u6237\u6ce8\u518c\u6d41\u7a0b\u6d4b\u8bd5 \u8d26\u6237\u914d\u7f6e\u8fc7\u7a0b\u6d4b\u8bd5 \u8d26\u6237\u679a\u4e3e\u548c\u53ef\u731c\u6d4b\u7684\u7528\u6237\u8d26\u6237\u6d4b\u8bd5 \u5f31\u7684\u6216\u672a\u5b9e\u65bd\u7684\u7528\u6237\u7b56\u7565\u6d4b\u8bd5 \u8ba4\u8bc1\u6d4b\u8bd5 \u51ed\u8bc1\u5728\u52a0\u5bc6\u901a\u9053\u4e2d\u7684\u4f20\u8f93\u6d4b\u8bd5 \u9ed8\u8ba4\u7528\u6237\u51ed\u8bc1\u6d4b\u8bd5 \u5f31\u9501\u5b9a\u673a\u5236\u6d4b\u8bd5 \u8ba4\u8bc1\u6a21\u5f0f\u7ed5\u8fc7\u6d4b\u8bd5 \u8bb0\u5fc6\u5bc6\u7801\u529f\u80fd\u5b58\u5728\u5a01\u80c1\u6d4b\u8bd5 \u6d4f\u89c8\u5668\u7f13\u5b58\u5a01\u80c1\u6d4b\u8bd5 \u5f31\u5bc6\u7801\u7b56\u7565\u6d4b\u8bd5 \u5f31\u5b89\u5168\u95ee\u7b54\u6d4b\u8bd5 \u5f31\u5bc6\u7801\u7684\u66f4\u6539\u6216\u91cd\u8bbe\u529f\u80fd\u6d4b\u8bd5 \u5728\u8f85\u52a9\u4fe1\u9053\u4e2d\u8f83\u5f31\u8ba4\u8bc1\u6d4b\u8bd5 \u6388\u6743\u6d4b\u8bd5 \u76ee\u5f55\u904d\u5386/\u6587\u4ef6\u5305\u542b\u6d4b\u8bd5 \u7ed5\u8fc7\u6388\u6743\u6a21\u5f0f\u6d4b\u8bd5 \u6743\u9650\u63d0\u5347\u6d4b\u8bd5 \u4e0d\u5b89\u5168\u5bf9\u8c61\u5f15\u7528\u6d4b\u8bd5 \u4f1a\u8bdd\u7ba1\u7406\u6d4b\u8bd5 \u4f1a\u5f88\u7ba1\u7406\u67b6\u6784\u7ed5\u8fc7\u6d4b\u8bd5 Cookie\u5c5e\u6027\u6d4b\u8bd5 \u4f1a\u8bdd\u56fa\u5b9a\u6d4b\u8bd5 \u4f1a\u8bdd\u53d8\u91cf\u6cc4\u6f0f\u6d4b\u8bd5 \u8de8\u7ad9\u8bf7\u6c42\u4f2a\u9020CSRF\u6d4b\u8bd5 \u8f93\u5165\u9a8c\u8bc1\u6d4b\u8bd5 \u53cd\u5c04\u578b\u8de8\u7ad9\u811a\u672c\u6d4b\u8bd5 \u5b58\u50a8\u578b\u8de8\u7ad9\u811a\u672c\u6d4b\u8bd5 HTTP\u65b9\u6cd5\u7be1\u6539\u6d4b\u8bd5 HTTP\u53c2\u6570\u6c61\u67d3\u6d4b\u8bd5 SQL\u6ce8\u5165\u6d4b\u8bd5 LDAP\u6d4b\u8bd5 ORM\u6ce8\u5165\u6d4b\u8bd5 XML\u6ce8\u5165\u6d4b\u8bd5 SSI\u6ce8\u5165\u6d4b\u8bd5 XPath\u6ce8\u5165\u6d4b\u8bd5 IMAP/SMTP\u6ce8\u5165\u6d4b\u8bd5 \u4ee3\u7801\u6ce8\u5165\u6d4b\u8bd5 \u547d\u4ee4\u6ce8\u5165\u6d4b\u8bd5 \u7f13\u51b2\u533a\u6ea2\u51fa\u6d4b\u8bd5 \u6f5c\u4f0f\u5f0f\u6f0f\u6d1e\u6d4b\u8bd5 HTTP\u62c6\u5206/\u8d70\u79c1\u6d4b\u8bd5 \u9519\u8bef\u5904\u7406\u6d4b\u8bd5 \u62a5\u9519\u4fe1\u606f\u6d4b\u8bd5 \u5806\u6808\u8f68\u8ff9\u6d4b\u8bd5 \u52a0\u5bc6\u4f53\u7cfb\u8106\u5f31\u6027\u6d4b\u8bd5 SSL/TLS\u5f31\u52a0\u5bc6\u3001\u4f20\u8f93\u5c42\u534f\u8bae\u7f3a\u9677\u6d4b\u8bd5 Padding Oracle\u653b\u51fb\u6d4b\u8bd5 \u901a\u8fc7\u672a\u52a0\u5bc6\u4fe1\u9053\u53d1\u9001\u654f\u611f\u6570\u636e\u6d4b\u8bd5 \u4e1a\u52a1\u903b\u8f91\u6d4b\u8bd5 \u4e1a\u52a1\u903b\u8f91\u6570\u636e\u9a8c\u8bc1\u6d4b\u8bd5 \u4f2a\u9020\u8bf7\u6c42\u7684\u6d4b\u8bd5 \u5b8c\u6574\u6027\u68c0\u67e5\u7684\u6d4b\u8bd5 \u5904\u7406\u8017\u65f6\u6d4b\u8bd5 \u529f\u80fd\u4f7f\u7528\u6b21\u6570\u9650\u5236 \u5de5\u4f5c\u6d41\u7a0b\u9003\u9038\u7684\u6d4b\u8bd5 \u9632\u5fa1\u5e94\u7528\u7a0b\u5e8f\u6ee5\u7528\u6d4b\u8bd5 \u610f\u5916\u6587\u4ef6\u7c7b\u578b\u4e0a\u4f20\u6d4b\u8bd5 \u6076\u610f\u6587\u4ef6\u4e0a\u4f20\u6d4b\u8bd5 \u5ba2\u6237\u7aef\u6d4b\u8bd5 \u57fa\u4e8eDOM\u7684\u8de8\u7ad9\u811a\u672c\u6d4b\u8bd5 JavaScript\u6267\u884c\u6d4b\u8bd5 HTML\u6ce8\u5165\u6d4b\u8bd5 \u5ba2\u6237\u7aefURL\u91cd\u5b9a\u5411\u6d4b\u8bd5 CSS\u6ce8\u5165\u6d4b\u8bd5 \u5ba2\u6237\u7aef\u8d44\u6e90\u5904\u7406\u6d4b\u8bd5 \u8de8\u57df\u8d44\u6e90\u5171\u4eab\u6d4b\u8bd5 \u8de8\u7ad9Flash\u6d4b\u8bd5 \u70b9\u51fb\u52ab\u6301\u6d4b\u8bd5 WebSocket\u6d4b\u8bd5 Web\u6d88\u606f\u6d4b\u8bd5 \u672c\u5730\u5b58\u50a8\u6d4b\u8bd5 \u53c2\u8003\u8d44\u6599 security-checklist","title":"\u5b89\u5168\u6d4b\u8bd5checklist"},{"location":"application-security/security-testing/checklist/#checklist","text":"","title":"\u5b89\u5168\u6d4b\u8bd5checklist"},{"location":"application-security/security-testing/checklist/#owasp-checklist","text":"","title":"OWASP CheckList"},{"location":"application-security/security-testing/checklist/#_1","text":"\u641c\u7d22\u5f15\u64ce\u4fe1\u606f\u6536\u96c6 Web\u670d\u52a1\u5668\u6307\u7eb9\u8bc6\u522b Web\u670d\u52a1\u5668\u5143\u6587\u4ef6\u4fe1\u606f\u6cc4\u6f0f \u679a\u4e3eWeb\u670d\u52a1\u5668\u7684\u5e94\u7528 \u6ce8\u91ca\u548c\u5143\u6570\u636e\u4fe1\u606f\u6cc4\u6f0f \u8bc6\u522b\u5e94\u7528\u7684\u5165\u53e3 \u6620\u5c04\u5e94\u7528\u7a0b\u5e8f\u7684\u6267\u884c\u8def\u5f84 \u8bc6\u522bWeb\u5e94\u7528\u6846\u67b6 \u8bc6\u522bWeb\u5e94\u7528\u7a0b\u5e8f \u6620\u5c04\u5e94\u7528\u67b6\u6784","title":"\u4fe1\u606f\u6536\u96c6\u6d4b\u8bd5"},{"location":"application-security/security-testing/checklist/#_2","text":"\u5fd8\u4e86\u548c\u57fa\u7840\u8bbe\u65bd\u914d\u7f6e\u6d4b\u8bd5 \u5e94\u7528\u5e73\u53f0\u914d\u7f6e\u6d4b\u8bd5 \u654f\u611f\u4fe1\u606f\u6587\u4ef6\u6269\u5c55\u5904\u7406\u6d4b\u8bd5 \u5bf9\u65e7\u6587\u4ef6\u3001\u5907\u4efd\u548c\u672a\u88ab\u5f15\u7528\u6587\u4ef6\u7684\u654f\u611f\u4fe1\u606f\u7684\u5ba1\u67e5 \u679a\u4e3e\u57fa\u7840\u8bbe\u65bd\u548c\u5e94\u7528\u7a0b\u5e8f\u7ba1\u7406\u754c\u9762 HTTP\u65b9\u6cd5\u6d4b\u8bd5 HTTP\u5f3a\u5236\u5b89\u5168\u4f20\u8f93\u6d4b\u8bd5 RIA\u8de8\u57df\u7b56\u7565\u6d4b\u8bd5","title":"\u914d\u7f6e\u7ba1\u7406\u6d4b\u8bd5"},{"location":"application-security/security-testing/checklist/#_3","text":"\u89d2\u8272\u5b9a\u4e49\u6d4b\u8bd5 \u7528\u6237\u6ce8\u518c\u6d41\u7a0b\u6d4b\u8bd5 \u8d26\u6237\u914d\u7f6e\u8fc7\u7a0b\u6d4b\u8bd5 \u8d26\u6237\u679a\u4e3e\u548c\u53ef\u731c\u6d4b\u7684\u7528\u6237\u8d26\u6237\u6d4b\u8bd5 \u5f31\u7684\u6216\u672a\u5b9e\u65bd\u7684\u7528\u6237\u7b56\u7565\u6d4b\u8bd5","title":"\u8eab\u4efd\u7ba1\u7406\u6d4b\u8bd5"},{"location":"application-security/security-testing/checklist/#_4","text":"\u51ed\u8bc1\u5728\u52a0\u5bc6\u901a\u9053\u4e2d\u7684\u4f20\u8f93\u6d4b\u8bd5 \u9ed8\u8ba4\u7528\u6237\u51ed\u8bc1\u6d4b\u8bd5 \u5f31\u9501\u5b9a\u673a\u5236\u6d4b\u8bd5 \u8ba4\u8bc1\u6a21\u5f0f\u7ed5\u8fc7\u6d4b\u8bd5 \u8bb0\u5fc6\u5bc6\u7801\u529f\u80fd\u5b58\u5728\u5a01\u80c1\u6d4b\u8bd5 \u6d4f\u89c8\u5668\u7f13\u5b58\u5a01\u80c1\u6d4b\u8bd5 \u5f31\u5bc6\u7801\u7b56\u7565\u6d4b\u8bd5 \u5f31\u5b89\u5168\u95ee\u7b54\u6d4b\u8bd5 \u5f31\u5bc6\u7801\u7684\u66f4\u6539\u6216\u91cd\u8bbe\u529f\u80fd\u6d4b\u8bd5 \u5728\u8f85\u52a9\u4fe1\u9053\u4e2d\u8f83\u5f31\u8ba4\u8bc1\u6d4b\u8bd5","title":"\u8ba4\u8bc1\u6d4b\u8bd5"},{"location":"application-security/security-testing/checklist/#_5","text":"\u76ee\u5f55\u904d\u5386/\u6587\u4ef6\u5305\u542b\u6d4b\u8bd5 \u7ed5\u8fc7\u6388\u6743\u6a21\u5f0f\u6d4b\u8bd5 \u6743\u9650\u63d0\u5347\u6d4b\u8bd5 \u4e0d\u5b89\u5168\u5bf9\u8c61\u5f15\u7528\u6d4b\u8bd5","title":"\u6388\u6743\u6d4b\u8bd5"},{"location":"application-security/security-testing/checklist/#_6","text":"\u4f1a\u5f88\u7ba1\u7406\u67b6\u6784\u7ed5\u8fc7\u6d4b\u8bd5 Cookie\u5c5e\u6027\u6d4b\u8bd5 \u4f1a\u8bdd\u56fa\u5b9a\u6d4b\u8bd5 \u4f1a\u8bdd\u53d8\u91cf\u6cc4\u6f0f\u6d4b\u8bd5 \u8de8\u7ad9\u8bf7\u6c42\u4f2a\u9020CSRF\u6d4b\u8bd5","title":"\u4f1a\u8bdd\u7ba1\u7406\u6d4b\u8bd5"},{"location":"application-security/security-testing/checklist/#_7","text":"\u53cd\u5c04\u578b\u8de8\u7ad9\u811a\u672c\u6d4b\u8bd5 \u5b58\u50a8\u578b\u8de8\u7ad9\u811a\u672c\u6d4b\u8bd5 HTTP\u65b9\u6cd5\u7be1\u6539\u6d4b\u8bd5 HTTP\u53c2\u6570\u6c61\u67d3\u6d4b\u8bd5 SQL\u6ce8\u5165\u6d4b\u8bd5 LDAP\u6d4b\u8bd5 ORM\u6ce8\u5165\u6d4b\u8bd5 XML\u6ce8\u5165\u6d4b\u8bd5 SSI\u6ce8\u5165\u6d4b\u8bd5 XPath\u6ce8\u5165\u6d4b\u8bd5 IMAP/SMTP\u6ce8\u5165\u6d4b\u8bd5 \u4ee3\u7801\u6ce8\u5165\u6d4b\u8bd5 \u547d\u4ee4\u6ce8\u5165\u6d4b\u8bd5 \u7f13\u51b2\u533a\u6ea2\u51fa\u6d4b\u8bd5 \u6f5c\u4f0f\u5f0f\u6f0f\u6d1e\u6d4b\u8bd5 HTTP\u62c6\u5206/\u8d70\u79c1\u6d4b\u8bd5","title":"\u8f93\u5165\u9a8c\u8bc1\u6d4b\u8bd5"},{"location":"application-security/security-testing/checklist/#_8","text":"\u62a5\u9519\u4fe1\u606f\u6d4b\u8bd5 \u5806\u6808\u8f68\u8ff9\u6d4b\u8bd5","title":"\u9519\u8bef\u5904\u7406\u6d4b\u8bd5"},{"location":"application-security/security-testing/checklist/#_9","text":"SSL/TLS\u5f31\u52a0\u5bc6\u3001\u4f20\u8f93\u5c42\u534f\u8bae\u7f3a\u9677\u6d4b\u8bd5 Padding Oracle\u653b\u51fb\u6d4b\u8bd5 \u901a\u8fc7\u672a\u52a0\u5bc6\u4fe1\u9053\u53d1\u9001\u654f\u611f\u6570\u636e\u6d4b\u8bd5","title":"\u52a0\u5bc6\u4f53\u7cfb\u8106\u5f31\u6027\u6d4b\u8bd5"},{"location":"application-security/security-testing/checklist/#_10","text":"\u4e1a\u52a1\u903b\u8f91\u6570\u636e\u9a8c\u8bc1\u6d4b\u8bd5 \u4f2a\u9020\u8bf7\u6c42\u7684\u6d4b\u8bd5 \u5b8c\u6574\u6027\u68c0\u67e5\u7684\u6d4b\u8bd5 \u5904\u7406\u8017\u65f6\u6d4b\u8bd5 \u529f\u80fd\u4f7f\u7528\u6b21\u6570\u9650\u5236 \u5de5\u4f5c\u6d41\u7a0b\u9003\u9038\u7684\u6d4b\u8bd5 \u9632\u5fa1\u5e94\u7528\u7a0b\u5e8f\u6ee5\u7528\u6d4b\u8bd5 \u610f\u5916\u6587\u4ef6\u7c7b\u578b\u4e0a\u4f20\u6d4b\u8bd5 \u6076\u610f\u6587\u4ef6\u4e0a\u4f20\u6d4b\u8bd5","title":"\u4e1a\u52a1\u903b\u8f91\u6d4b\u8bd5"},{"location":"application-security/security-testing/checklist/#_11","text":"\u57fa\u4e8eDOM\u7684\u8de8\u7ad9\u811a\u672c\u6d4b\u8bd5 JavaScript\u6267\u884c\u6d4b\u8bd5 HTML\u6ce8\u5165\u6d4b\u8bd5 \u5ba2\u6237\u7aefURL\u91cd\u5b9a\u5411\u6d4b\u8bd5 CSS\u6ce8\u5165\u6d4b\u8bd5 \u5ba2\u6237\u7aef\u8d44\u6e90\u5904\u7406\u6d4b\u8bd5 \u8de8\u57df\u8d44\u6e90\u5171\u4eab\u6d4b\u8bd5 \u8de8\u7ad9Flash\u6d4b\u8bd5 \u70b9\u51fb\u52ab\u6301\u6d4b\u8bd5 WebSocket\u6d4b\u8bd5 Web\u6d88\u606f\u6d4b\u8bd5 \u672c\u5730\u5b58\u50a8\u6d4b\u8bd5","title":"\u5ba2\u6237\u7aef\u6d4b\u8bd5"},{"location":"application-security/security-testing/checklist/#_12","text":"security-checklist","title":"\u53c2\u8003\u8d44\u6599"},{"location":"application-security/security-testing/dast-iast-sast/","text":"DAST SAST IAST SAST\uff1a\u9759\u6001\u5e94\u7528\u5b89\u5168\u6d4b\u8bd5\uff0c\u68c0\u67e5\u5e94\u7528\u7684\u6e90\u4ee3\u7801\u4ee5\u6307\u51fa\u53ef\u80fd\u7684\u5b89\u5168\u7f3a\u9677\uff0c\u4e5f\u88ab\u79f0\u4e3a\u767d\u76d2\u6d4b\u8bd5\uff1b DAST\uff1a\u52a8\u6001\u5e94\u7528\u5b89\u5168\u6d4b\u8bd5\uff0c\u5728\u5e94\u7528\u7684\u8fd0\u884c\u72b6\u6001\u4e2d\u6d4b\u8bd5\u5e94\u7528\uff0c\u4e5f\u88ab\u79f0\u4e3a\u9ed1\u76d2\u6d4b\u8bd5\uff1b IAST\uff1a\u4ea4\u4e92\u5e94\u7528\u5b89\u5168\u6d4b\u8bd5\uff0c\u4e0eWebServer\u96c6\u6210\uff0c\u57fa\u4e8e\u6269\u5c55\u83b7\u53d6\u5230\u7684\u6570\u636e\u8fdb\u884c\u6d4b\u8bd5\uff1b SAST vs DAST vs IAST SAST DAST IAST \u767d\u76d2\u5b89\u5168\u6d4b\u8bd5 \u9ed1\u76d2\u5b89\u5168\u6d4b\u8bd5 \u9700\u8981\u6e90\u4ee3\u7801 \u9700\u8981\u4e00\u4e2a\u8fd0\u884c\u73af\u5883 \u53c2\u8003\u8d44\u6599 \u8c08\u8c08SAST/IDAST/IAST SAST vs. DAST: What\u2019s the best method for application security testing?","title":"DAST&SAST&IAST"},{"location":"application-security/security-testing/dast-iast-sast/#dastsastiast","text":"SAST\uff1a\u9759\u6001\u5e94\u7528\u5b89\u5168\u6d4b\u8bd5\uff0c\u68c0\u67e5\u5e94\u7528\u7684\u6e90\u4ee3\u7801\u4ee5\u6307\u51fa\u53ef\u80fd\u7684\u5b89\u5168\u7f3a\u9677\uff0c\u4e5f\u88ab\u79f0\u4e3a\u767d\u76d2\u6d4b\u8bd5\uff1b DAST\uff1a\u52a8\u6001\u5e94\u7528\u5b89\u5168\u6d4b\u8bd5\uff0c\u5728\u5e94\u7528\u7684\u8fd0\u884c\u72b6\u6001\u4e2d\u6d4b\u8bd5\u5e94\u7528\uff0c\u4e5f\u88ab\u79f0\u4e3a\u9ed1\u76d2\u6d4b\u8bd5\uff1b IAST\uff1a\u4ea4\u4e92\u5e94\u7528\u5b89\u5168\u6d4b\u8bd5\uff0c\u4e0eWebServer\u96c6\u6210\uff0c\u57fa\u4e8e\u6269\u5c55\u83b7\u53d6\u5230\u7684\u6570\u636e\u8fdb\u884c\u6d4b\u8bd5\uff1b","title":"DAST&amp;SAST&amp;IAST"},{"location":"application-security/security-testing/dast-iast-sast/#sast-vs-dast-vs-iast","text":"SAST DAST IAST \u767d\u76d2\u5b89\u5168\u6d4b\u8bd5 \u9ed1\u76d2\u5b89\u5168\u6d4b\u8bd5 \u9700\u8981\u6e90\u4ee3\u7801 \u9700\u8981\u4e00\u4e2a\u8fd0\u884c\u73af\u5883","title":"SAST vs DAST vs IAST"},{"location":"application-security/security-testing/dast-iast-sast/#_1","text":"\u8c08\u8c08SAST/IDAST/IAST SAST vs. DAST: What\u2019s the best method for application security testing?","title":"\u53c2\u8003\u8d44\u6599"},{"location":"application-security/security-testing/tools-skills/app/","text":"APP\u8131\u58f3\u6280\u5de7 \u5229\u7528FDex2\u8131360 \u73af\u5883\uff1aGoogle Nesus 7\uff08\u6a21\u62df\u5668\uff09Android 5.1 \u5b89\u88c5VirtualXposed\uff0c \u4e0b\u8f7d\u5730\u5740 \u4e0b\u8f7dFDex2\u5e76\u5b89\u88c5\u5728\u6a21\u62df\u5668\u4e0a\uff0c \u4e0b\u8f7d\u5730\u5740 \u5bc6\u7801\uff1adk4v \u540c\u65f6\u5b89\u88c5\u9700\u8981\u8131\u58f3\u7684\u5e94\u7528\u5728\u6a21\u62df\u5668\u4e0a \u542f\u52a8VirtualXposed\uff0c\u70b9\u51fbAdd APP\u5b89\u88c5FDex2\uff0c\u4ee5\u53ca\u4f60\u9700\u8981\u7834\u89e3\u7684\u5305 \u6fc0\u6d3bFDex2\uff0c\u70b9\u51fbManage Xposed Module\uff0c\u52fe\u9009FDex2 adb install VirtualXposed_0.16.0.apk adb install FDex2_1.1.apk adb install *.apk \u7136\u540e\u5728VirtualXposed\u6253\u5f00FDex2\uff0c\u5bf9\u9700\u8981\u8131\u58f3\u7684\u5e94\u7528\u8fdb\u884c\u8131\u58f3\u5373\u53ef\uff1b \u53c2\u8003\u8d44\u6599 \u79fb\u52a8APP\u6f0f\u6d1e\u81ea\u52a8\u5316\u68c0\u6d4b\u5e73\u53f0\u5efa\u8bbe \u6253\u9020\u81ea\u5df1\u7684Android\u5b89\u5168\u6d4b\u8bd5\u73af\u5883 Android APK\u8131\u58f3--\u817e\u8baf\u4e50\u56fa\u3001360\u52a0\u56fa\u4e00\u952e\u8131\u58f3","title":"APP\u8131\u58f3\u6280\u5de7"},{"location":"application-security/security-testing/tools-skills/app/#app","text":"","title":"APP\u8131\u58f3\u6280\u5de7"},{"location":"application-security/security-testing/tools-skills/app/#fdex2360","text":"\u73af\u5883\uff1aGoogle Nesus 7\uff08\u6a21\u62df\u5668\uff09Android 5.1 \u5b89\u88c5VirtualXposed\uff0c \u4e0b\u8f7d\u5730\u5740 \u4e0b\u8f7dFDex2\u5e76\u5b89\u88c5\u5728\u6a21\u62df\u5668\u4e0a\uff0c \u4e0b\u8f7d\u5730\u5740 \u5bc6\u7801\uff1adk4v \u540c\u65f6\u5b89\u88c5\u9700\u8981\u8131\u58f3\u7684\u5e94\u7528\u5728\u6a21\u62df\u5668\u4e0a \u542f\u52a8VirtualXposed\uff0c\u70b9\u51fbAdd APP\u5b89\u88c5FDex2\uff0c\u4ee5\u53ca\u4f60\u9700\u8981\u7834\u89e3\u7684\u5305 \u6fc0\u6d3bFDex2\uff0c\u70b9\u51fbManage Xposed Module\uff0c\u52fe\u9009FDex2 adb install VirtualXposed_0.16.0.apk adb install FDex2_1.1.apk adb install *.apk \u7136\u540e\u5728VirtualXposed\u6253\u5f00FDex2\uff0c\u5bf9\u9700\u8981\u8131\u58f3\u7684\u5e94\u7528\u8fdb\u884c\u8131\u58f3\u5373\u53ef\uff1b","title":"\u5229\u7528FDex2\u8131360"},{"location":"application-security/security-testing/tools-skills/app/#_1","text":"\u79fb\u52a8APP\u6f0f\u6d1e\u81ea\u52a8\u5316\u68c0\u6d4b\u5e73\u53f0\u5efa\u8bbe \u6253\u9020\u81ea\u5df1\u7684Android\u5b89\u5168\u6d4b\u8bd5\u73af\u5883 Android APK\u8131\u58f3--\u817e\u8baf\u4e50\u56fa\u3001360\u52a0\u56fa\u4e00\u952e\u8131\u58f3","title":"\u53c2\u8003\u8d44\u6599"},{"location":"application-security/security-testing/tools-skills/capture-https/","text":"https\u6293\u5305 \u5e38\u7528\u6293\u5305\u5de5\u5177 burpsuite fiddler charles https\u5355\u5411\u8ba4\u8bc1\u4e0e\u53cc\u5411\u8ba4\u8bc1 \u5982\u4f55\u6293\u53d6https\u7684\u5305 \u63a5\u53d7\u6240\u6709\u8bc1\u4e66\u7684app \u4e0d\u5bf9\u8bc1\u4e66\u505a\u4e25\u91cd\uff0c\u76f4\u63a5\u901a\u8fc7\u4ee3\u7406\u5c31\u53ef\u4ee5\u6293\u5305\uff1b \u4f7f\u7528\u7cfb\u7edf\u8bc1\u4e66\u8fdb\u884c\u6821\u9a8c\u7684app \u5c06\u4ee3\u7406\u5de5\u5177\u7684\u8bc1\u4e66\u5bfc\u51fa\u4e3acer\u683c\u5f0f\uff1b \u5c06\u5bfc\u51fa\u7684\u8bc1\u4e66\u5b89\u88c5\u5230\u624b\u673a\u6216\u6d4f\u89c8\u5668\u4e2d\uff1b \u7ed5\u8fc7\u8bc1\u4e66\u7684SSL Pinning xposed + Just Trust Me \u5907\u6ce8\uff1amac\u7535\u8111\u5347\u7ea7\u5230Majave\u7248\u672c\u540e\uff0c\u591c\u795e\u6a21\u62df\u5668\u6709bug\uff0c\u63a8\u8350\u4f7f\u7528mumu\u6216\u8005Genymotion\u6a21\u62df\u5668\u3002 \u8fd9\u91cc\u8bf4\u4e00\u4e0bmumu\u6a21\u62df\u5668\u5b89\u88c5Xposed+Just Trust Me\u7684\u8fc7\u7a0b\uff1a Xposed\u4e0b\u8f7d\u5730\u5740 Just Trust Me\u4e0b\u8f7d\u5730\u5740 \u5b89\u88c5\u6700\u65b0\u7248\u7684xposed\u6846\u67b6\u4f1a\u62a5\u9519\u5982\u4e0b\uff1a \u9700\u8981\u4f7f\u7528\u5982\u4e0b\u7248\u672c\u7684xposed\uff1a \u4f20\u9001\u95e8 \u5907\u6ce8\uff1amumu\u6a21\u62df\u5668\u9700\u8981\u5728\u8bbe\u7f6e--\u5e94\u7528\u517c\u5bb9\u6027--\u5173\u95ed \u5b89\u88c5\u5b8c\u6210\u5982\u56fe\u6240\u793a\uff1a frida\u7ed5\u8fc7 IOS\u7ed5\u8fc7SSL Pinning \u624b\u673a\u8d8a\u72f1\u540e\uff0c\u4f7f\u7528SSL Kill Switch2 ssl-kill-switch2\u4e0b\u8f7d\u5730\u5740 \u53c2\u8003\u8d44\u6599 \u7a81\u7834https-https\u6293\u5305","title":"https\u6293\u5305"},{"location":"application-security/security-testing/tools-skills/capture-https/#https","text":"","title":"https\u6293\u5305"},{"location":"application-security/security-testing/tools-skills/capture-https/#_1","text":"burpsuite fiddler charles","title":"\u5e38\u7528\u6293\u5305\u5de5\u5177"},{"location":"application-security/security-testing/tools-skills/capture-https/#https_1","text":"","title":"https\u5355\u5411\u8ba4\u8bc1\u4e0e\u53cc\u5411\u8ba4\u8bc1"},{"location":"application-security/security-testing/tools-skills/capture-https/#https_2","text":"","title":"\u5982\u4f55\u6293\u53d6https\u7684\u5305"},{"location":"application-security/security-testing/tools-skills/capture-https/#app","text":"\u4e0d\u5bf9\u8bc1\u4e66\u505a\u4e25\u91cd\uff0c\u76f4\u63a5\u901a\u8fc7\u4ee3\u7406\u5c31\u53ef\u4ee5\u6293\u5305\uff1b","title":"\u63a5\u53d7\u6240\u6709\u8bc1\u4e66\u7684app"},{"location":"application-security/security-testing/tools-skills/capture-https/#app_1","text":"\u5c06\u4ee3\u7406\u5de5\u5177\u7684\u8bc1\u4e66\u5bfc\u51fa\u4e3acer\u683c\u5f0f\uff1b \u5c06\u5bfc\u51fa\u7684\u8bc1\u4e66\u5b89\u88c5\u5230\u624b\u673a\u6216\u6d4f\u89c8\u5668\u4e2d\uff1b","title":"\u4f7f\u7528\u7cfb\u7edf\u8bc1\u4e66\u8fdb\u884c\u6821\u9a8c\u7684app"},{"location":"application-security/security-testing/tools-skills/capture-https/#ssl-pinning","text":"xposed + Just Trust Me \u5907\u6ce8\uff1amac\u7535\u8111\u5347\u7ea7\u5230Majave\u7248\u672c\u540e\uff0c\u591c\u795e\u6a21\u62df\u5668\u6709bug\uff0c\u63a8\u8350\u4f7f\u7528mumu\u6216\u8005Genymotion\u6a21\u62df\u5668\u3002 \u8fd9\u91cc\u8bf4\u4e00\u4e0bmumu\u6a21\u62df\u5668\u5b89\u88c5Xposed+Just Trust Me\u7684\u8fc7\u7a0b\uff1a Xposed\u4e0b\u8f7d\u5730\u5740 Just Trust Me\u4e0b\u8f7d\u5730\u5740 \u5b89\u88c5\u6700\u65b0\u7248\u7684xposed\u6846\u67b6\u4f1a\u62a5\u9519\u5982\u4e0b\uff1a \u9700\u8981\u4f7f\u7528\u5982\u4e0b\u7248\u672c\u7684xposed\uff1a \u4f20\u9001\u95e8 \u5907\u6ce8\uff1amumu\u6a21\u62df\u5668\u9700\u8981\u5728\u8bbe\u7f6e--\u5e94\u7528\u517c\u5bb9\u6027--\u5173\u95ed \u5b89\u88c5\u5b8c\u6210\u5982\u56fe\u6240\u793a\uff1a frida\u7ed5\u8fc7","title":"\u7ed5\u8fc7\u8bc1\u4e66\u7684SSL Pinning"},{"location":"application-security/security-testing/tools-skills/capture-https/#iosssl-pinning","text":"\u624b\u673a\u8d8a\u72f1\u540e\uff0c\u4f7f\u7528SSL Kill Switch2 ssl-kill-switch2\u4e0b\u8f7d\u5730\u5740","title":"IOS\u7ed5\u8fc7SSL Pinning"},{"location":"application-security/security-testing/tools-skills/capture-https/#_2","text":"\u7a81\u7834https-https\u6293\u5305","title":"\u53c2\u8003\u8d44\u6599"},{"location":"application-security/security-testing/tools-skills/capture-skills/","text":"\u6293\u5305\u6280\u5de7 \u5fae\u4fe1\u516c\u4f17\u53f7H5\u6293\u5305 \u611f\u8c22CF_HB\u5e08\u5085 \u624b\u673a\u7248\u672c\uff1aAndroid\u7248\u672c 9 \u5fae\u4fe1\u7248\u672c\uff1a7.0 chrome://inspect/#devices http://debugx5.qq.com spy-debugger\u7ecf\u8fc7\u6d4b\u8bd5\u53d1\u73b0\u4e0d\u884c\uff1b \u652f\u4ed8\u5b9d\u5b89\u5168\u4ee3\u7406\u5f00\u5173 \u5173\u95ed\u5b89\u5168\u4ee3\u7406 \u5c06\u94fe\u63a5\u751f\u6210\u4e00\u4e2a\u4e8c\u7ef4\u7801\uff0c\u6211\u8fd9\u91cc\u751f\u6210\u597d\u4e86\uff0c\u4f7f\u7528\u652f\u4ed8\u5b9d\u626b\u63cf\u540e\uff0c\u5173\u95ed\u5b89\u5168\u4ee3\u7406\u3002\u7406\u8bba\u4e0a\u8fd9\u4e2a\u4e1c\u897f\u5173\u4e86\u5c31\u53d8\u6210\u6b63\u5e38\u7684http\u8bf7\u6c42\u4e86\uff0c\u7136\u540e\u5c31\u662f\u7ed5\u8fc7\u5404\u79cd\u68c0\u6d4b\u3002 \u53c2\u8003\u8d44\u6599 \u5fae\u4fe1\u516c\u4f17\u53f7\u6d4b\u8bd5tip\u2014\u2014Chrome\u8c03\u8bd5\u5fae\u4fe1\u516c\u4f17\u53f7H5\u9875\u9762 spy-debugger","title":"\u6293\u5305\u6280\u5de7"},{"location":"application-security/security-testing/tools-skills/capture-skills/#_1","text":"","title":"\u6293\u5305\u6280\u5de7"},{"location":"application-security/security-testing/tools-skills/capture-skills/#h5","text":"\u611f\u8c22CF_HB\u5e08\u5085 \u624b\u673a\u7248\u672c\uff1aAndroid\u7248\u672c 9 \u5fae\u4fe1\u7248\u672c\uff1a7.0 chrome://inspect/#devices http://debugx5.qq.com spy-debugger\u7ecf\u8fc7\u6d4b\u8bd5\u53d1\u73b0\u4e0d\u884c\uff1b","title":"\u5fae\u4fe1\u516c\u4f17\u53f7H5\u6293\u5305"},{"location":"application-security/security-testing/tools-skills/capture-skills/#_2","text":"\u5173\u95ed\u5b89\u5168\u4ee3\u7406 \u5c06\u94fe\u63a5\u751f\u6210\u4e00\u4e2a\u4e8c\u7ef4\u7801\uff0c\u6211\u8fd9\u91cc\u751f\u6210\u597d\u4e86\uff0c\u4f7f\u7528\u652f\u4ed8\u5b9d\u626b\u63cf\u540e\uff0c\u5173\u95ed\u5b89\u5168\u4ee3\u7406\u3002\u7406\u8bba\u4e0a\u8fd9\u4e2a\u4e1c\u897f\u5173\u4e86\u5c31\u53d8\u6210\u6b63\u5e38\u7684http\u8bf7\u6c42\u4e86\uff0c\u7136\u540e\u5c31\u662f\u7ed5\u8fc7\u5404\u79cd\u68c0\u6d4b\u3002","title":"\u652f\u4ed8\u5b9d\u5b89\u5168\u4ee3\u7406\u5f00\u5173"},{"location":"application-security/security-testing/tools-skills/capture-skills/#_3","text":"\u5fae\u4fe1\u516c\u4f17\u53f7\u6d4b\u8bd5tip\u2014\u2014Chrome\u8c03\u8bd5\u5fae\u4fe1\u516c\u4f17\u53f7H5\u9875\u9762 spy-debugger","title":"\u53c2\u8003\u8d44\u6599"},{"location":"application-security/security-testing/tools-skills/information-leakage/","text":"\u4fe1\u606f\u6cc4\u6f0f\u6f0f\u6d1e\u5229\u7528 \u5fae\u4fe1AppId\u4e0eSecret\u6cc4\u6f0f \u63a5\u53e3\u8c03\u7528\u8bf7\u6c42\u8bf4\u660e # \u83b7\u53d6token https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential appid=APPID secret=APPSECRET # \u67e5\u8be2\u6240\u6709\u5206\u7ec4 https://api.weixin.qq.com/cgi-bin/groups/get?access_token=ACCESS_TOKEN \u4f7f\u7528\u5b98\u7f51\u63d0\u4f9b\u5e73\u53f0 https://mp.weixin.qq.com/debug/","title":"\u4fe1\u606f\u6cc4\u6f0f\u6f0f\u6d1e\u5229\u7528"},{"location":"application-security/security-testing/tools-skills/information-leakage/#_1","text":"","title":"\u4fe1\u606f\u6cc4\u6f0f\u6f0f\u6d1e\u5229\u7528"},{"location":"application-security/security-testing/tools-skills/information-leakage/#appidsecret","text":"\u63a5\u53e3\u8c03\u7528\u8bf7\u6c42\u8bf4\u660e # \u83b7\u53d6token https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential appid=APPID secret=APPSECRET # \u67e5\u8be2\u6240\u6709\u5206\u7ec4 https://api.weixin.qq.com/cgi-bin/groups/get?access_token=ACCESS_TOKEN \u4f7f\u7528\u5b98\u7f51\u63d0\u4f9b\u5e73\u53f0 https://mp.weixin.qq.com/debug/","title":"\u5fae\u4fe1AppId\u4e0eSecret\u6cc4\u6f0f"},{"location":"application-security/security-testing/tools-skills/web-tools/","text":"Web\u5b89\u5168\u5de5\u5177 burpsuite sqlmap \u5b98\u7f51\u5730\u5740 \u7528\u6237\u4f7f\u7528\u624b\u518c","title":"Web\u5b89\u5168\u5de5\u5177"},{"location":"application-security/security-testing/tools-skills/web-tools/#web","text":"","title":"Web\u5b89\u5168\u5de5\u5177"},{"location":"application-security/security-testing/tools-skills/web-tools/#burpsuite","text":"","title":"burpsuite"},{"location":"application-security/security-testing/tools-skills/web-tools/#sqlmap","text":"\u5b98\u7f51\u5730\u5740 \u7528\u6237\u4f7f\u7528\u624b\u518c","title":"sqlmap"},{"location":"application-security/vulnerability-management/","text":"\u6f0f\u6d1e\u7ba1\u7406 \u8ba1\u7b97\u673a\u5b89\u5168\u9690\u60a3(vulnerability)\u4fd7\u79f0\u6f0f\u6d1e(security hole)\uff0c\u6307\u8ba1\u7b97\u673a\u7cfb\u7edf\u5b89\u5168\u65b9\u9762\u7684\u7f3a\u9677\uff0c\u4f7f\u5f97\u7cfb\u7edf\u6216\u5176\u5b83\u5e94\u7528\u6570\u636e\u7684\u4fdd\u5bc6\u6027\u3001\u5b8c\u6574\u6027\u3001\u53ef\u7528\u6027\u3001\u8bbf\u95ee\u63a7\u5236\u548c\u76d1\u6d4b\u673a\u5236\u7b49\u9762\u4e34\u5a01\u80c1\u3002 \u6f0f\u6d1e\u7ba1\u7406\u5c31\u662f\u9886\u5148\u6f0f\u6d1e\u4e00\u6b65\uff0c\u8ba9\u4fee\u590d\u66f4\u9891\u7e41\u66f4\u6709\u6548\u7684\u4e00\u4e2a\u8fc7\u7a0b\u3002 \u5f53\u516c\u53f8\u4e1a\u52a1\u8f83\u5c11\u65f6\uff0c\u4e00\u4e2a\u8868\u683c\u5c31\u53ef\u4ee5\u5904\u7406\u5b8c\u6f0f\u6d1e\u7ba1\u7406\u7684\u6d41\u7a0b\u3002\u4f46\u662f\u5f53\u4e1a\u52a1\u7cfb\u7edf\u589e\u591a\uff0c\u5b89\u5168\u62a5\u544a\u589e\u5927\u65f6\u5c31\u9700\u8981\u4e00\u4e2a\u597d\u7684\u6f0f\u6d1e\u7ba1\u7406\u5de5\u5177\u6765\u8fdb\u884c\u7ba1\u7406\u3002 \u629b\u4e00\u4e2a\u95ee\u9898\uff1a\u5b89\u5168\u6d4b\u8bd5\u56e2\u961f\u5230\u5e95\u5e94\u4e0d\u5e94\u8be5\u4e3a\u6f0f\u6d1e\u6570\u91cf\u8d1f\u8d23\uff0c\u5982\u679c\u9700\u8981\u8d1f\u8d23\uff0c\u90a3\u4e48\u591a\u597d\u8fd8\u662f\u5c11\u597d\uff1f \u6f0f\u6d1e\u751f\u547d\u5468\u671f\u7ba1\u7406 \u6f0f\u6d1e\u7684\u6765\u6e90 \u5185\u90e8\u5b89\u5168\u56e2\u961f\u53d1\u73b0\uff1a\u901a\u8fc7\u5b89\u5168\u626b\u63cf\u3001\u5b89\u5168\u6d4b\u8bd5\u7b49\u624b\u6bb5\u53d1\u73b0\u6f0f\u6d1e\uff1b \u5185\u90e8\u975e\u5b89\u5168\u56e2\u961f\u53d1\u73b0\uff1a\u5de5\u4f5c\u8fc7\u7a0b\u4e2d\u53d1\u73b0\u7684\u5b89\u5168\u95ee\u9898\uff1b \u5916\u90e8\u53d1\u73b0\uff1a\u4f17\u6d4b\u5e73\u53f0\u3001\u5b89\u5168\u670d\u52a1\u3001\u4e2a\u4eba\u63d0\u4ea4\uff1b \u6f0f\u6d1e\u7ba1\u7406\u7684\u95ee\u9898 \u6f0f\u6d1e\u5982\u4f55\u4e0e\u5177\u4f53\u4e1a\u52a1\u5173\u8054 \u5f53\u516c\u53f8\u89c4\u6a21\u8f83\u5c0f\u6c9f\u901a\u9760\u55d3\u95e8\u7684\u65f6\u5019\u4e0d\u7528\u8003\u8651\u8fd9\u4e2a\u95ee\u9898\uff0c\u800c\u4e14\u4e1a\u52a1\u56e2\u961f\u5212\u5206\u4e5f\u6ca1\u6709\u5f88\u6e05\u6670\u6240\u4ee5\u8fd9\u4e2a\u65f6\u5019\u53ef\u4ee5\u76f4\u63a5\u4e22\u7ed9\u4e1a\u52a1\u65b9\u8ba9\u4ed6\u4eec\u5b89\u6392\u4fee\u590d\u3002\u5f53\u516c\u53f8\u8fbe\u5230\u4e00\u5b9a\u89c4\u6a21\u4e1a\u52a1\u589e\u591a\u7684\u65f6\u5019\uff0c\u6211\u4eec\u5982\u679c\u5355\u7eaf\u4f9d\u9760\u4eba\u529b\u6765\u627e\u6f0f\u6d1e\u5c5e\u4e8e\u54ea\u4e2a\u4e1a\u52a1\u662f\u5f88\u8d39\u529b\u7684\uff0c\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u5176\u5b9e\u5f88\u9700\u8981\u5b89\u5168\u7684\u8d44\u4ea7\u7ba1\u7406\u6765\u76f4\u63a5\u5b9a\u4f4d\u5230\u4e1a\u52a1\u65b9\uff0c\u518d\u6765\u627e\u5230\u5173\u8054\u7684\u4eba\uff0c\u5f53\u7136\u5b89\u5168\u8d44\u4ea7\u7ba1\u7406\u4e0d\u662f\u672c\u7bc7\u7684\u8ba8\u8bba\uff0c\u540e\u9762\u4f1a\u6709\u4e00\u7bc7\u4e13\u95e8\u6765\u4ecb\u7ecd\u3002 \u89e3\u51b3\u65b9\u6848\uff1a\u6f0f\u6d1e\u7ba1\u7406\u7cfb\u7edf\u4e0e\u8d44\u4ea7\u7ba1\u7406\u7cfb\u7edf\u90e8\u5206\u6570\u636e\u6253\u901a\u3002 \u786e\u4fdd\u6f0f\u6d1e\u4fee\u590d\u5b8c\u6210 \u5728\u5f88\u591a\u516c\u53f8\u9047\u5230\u8fc7\u4e00\u4e2a\u60c5\u51b5\uff1a\u4e25\u91cd\u9ad8\u5371\u7684\u6f0f\u6d1e\u8fd8\u597d\uff0c\u4f46\u662f\u7ecf\u5e38\u51fa\u73b0\u4e2d\u4f4e\u5371\u7684\u6f0f\u6d1e\u63d0\u4ea4\u4e00\u4e2a\u6708\u751a\u81f3\u534a\u5e74\u6ca1\u6709\u4fee\u590d\u3002 \u89e3\u51b3\u65b9\u6848\uff1a\u5b89\u5168\u8bed\u4e1a\u52a1\u7edf\u4e00\u5236\u5b9a\u4e00\u4e2a\u6f0f\u6d1e\u751f\u547d\u5468\u671f\u7ba1\u7406\u6807\u51c6\uff0c\u4e0d\u540c\u7b49\u7ea7\u7684\u6f0f\u6d1e\u4fee\u590d\u65f6\u95f4\u662f\u591a\u4e45\u3002 \u6f0f\u6d1e\u62a5\u544a\u7684\u7559\u5b58 \u4f01\u4e1a\u5185\u90e8\u9700\u8981\u5bf9\u6f0f\u6d1e\u6709\u4e00\u4e2a\u6e05\u6670\u7684\u6574\u7406\u5f52\u6863\u6765\u4f5c\u4e3a\u6570\u636e\u7eac\u5ea6\u5c55\u793a\u516c\u53f8\u5b89\u5168\u53d1\u5c55\u7684\u72b6\u6001\u3002\u5b89\u5168\u6d4b\u8bd5\u4eba\u5458\u53d1\u73b0\u6f0f\u6d1e\u9700\u8981\u90ae\u4ef6\u7ed9\u4e1a\u52a1\u65b9\uff0c\u5e76\u4e14\u9700\u8981\u4f7f\u7528Excel\u6765\u603b\u7ed3\uff0c\u5f53\u6d4b\u8bd5\u4eba\u5458\u5f88\u591a\u65f6\uff0c\u8fd8\u9700\u8981\u505a\u4e00\u4e2a\u6c47\u603b\uff0c\u8fd9\u4e9b\u90fd\u4f1a\u9020\u6210\u66f4\u591a\u7684\u4e0d\u4fbf\u3002 \u89e3\u51b3\u65b9\u6848\uff1a\u6f0f\u6d1e\u7ba1\u7406\u5e73\u53f0\u9700\u8981\u5bf9\u4e0d\u540c\u65f6\u95f4\u6bb5\u63d0\u4ea4\u7684\u4e0d\u540c\u6f0f\u6d1e\u7b49\u7ea7\u8fdb\u884c\u6570\u636e\u91cf\u5316\u3002 \u540c\u4e00\u4e2a\u4e1a\u52a1\u56e2\u961f\u8d1f\u8d23\u7684\u4ea7\u54c1\u4e2d\u591a\u6b21\u51fa\u73b0\u540c\u6837\u7684\u6f0f\u6d1e \u89e3\u51b3\u65b9\u6848\uff1a\u4e1a\u52a1\u56e2\u961f\u81ea\u8eab\u7684\u4e0d\u65ad\u6574\u7406\u4e0e\u603b\u7ed3\uff0c\u5b89\u5168\u56e2\u961f\u5bf9\u4e1a\u52a1\u56e2\u961f\u8fdb\u884c\u5b89\u5168\u57f9\u8bad\uff08\u53ef\u4ee5\u7ed3\u5408\u5728SDL\u4e2d\u8fdb\u884c\uff09\u3002 \u6f0f\u6d1e\u5ba1\u6838\u4eba\u529bDoS \u5982\u679c\u4f01\u4e1a\u5728\u4e00\u4e9b\u7c7b\u4f3cSRC\u7684\u5e73\u53f0\uff0c\u7531\u4e8e\u76ee\u524d\u767d\u5e3d\u5b50\u6c34\u5e73\u5c42\u6b21\u4e0d\u9f50\uff0c\u7ecf\u5e38\u4f1a\u63d0\u4ea4\u4e00\u4e9bbug\u4f5c\u4e3a\u6f0f\u6d1e\uff0c\u6216\u8005\u6545\u610f\u63d0\u9ad8\u6f0f\u6d1e\u7b49\u7ea7\uff0cSRC\u5e73\u53f0\u5728\u5904\u7406\u8fd9\u4e9b\u65f6\u4e0e\u767d\u5e3d\u5b50\u53d1\u751f\u4e89\u6267\u4ea7\u751f\u7684\u4eba\u529b\u6d88\u8017\u3002 \u89e3\u51b3\u65b9\u6848\uff1a\u5f85\u89e3\u51b3 \u6f0f\u6d1e\u7ba1\u7406\u7684\u601d\u8003 \u5b89\u5168\u6f0f\u6d1e\u751f\u547d\u5468\u671f\u7684\u7406\u89e3 \u539f\u6587\u5730\u5740 \u5907\u6ce8\uff1a\u672c\u8282\u5185\u5bb9\u5f15\u7528\u81ea\u5b89\u5168\u6f0f\u6d1e\u751f\u547d\u5468\u671f\u7684\u7406\u89e3\uff0c\u975e\u539f\u521b \u4ece\u4ea7\u54c1\u89d2\u5ea6\u7406\u89e3\u5b89\u5168\u6f0f\u6d1e\u751f\u547d\u5468\u671f \u6f0f\u6d1e\u53d1\u73b0\uff1a\u901a\u8fc7\u4eba\u5de5\u6216\u8005\u81ea\u52a8\u5316\u7b49\u65b9\u5f0f\u5206\u6790\u3001\u6316\u6398\u51fa\u6f0f\u6d1e\u7684\u8fc7\u7a0b\uff0c\u5e76\u4e14\u8be5\u6f0f\u6d1e\u53ef\u4ee5\u88ab\u9a8c\u8bc1\u548c\u91cd\u73b0\uff1b \u6f0f\u6d1e\u5229\u7528\uff1a\u5229\u7528\u6f0f\u6d1e\u5bf9\u8ba1\u7b97\u673a\u4fe1\u606f\u7cfb\u7edf\u7684\u4fdd\u5bc6\u6027\u3001\u5b8c\u6574\u6027\u548c\u53ef\u7528\u6027\u9020\u6210\u635f\u5bb3\u7684\u8fc7\u7a0b\uff1b \u6f0f\u6d1e\u4fee\u590d\uff1a\u901a\u8fc7\u8865\u4e01\u3001\u5347\u7ea7\u7248\u672c\u6216\u914d\u7f6e\u7b56\u7565\u7b49\u5bf9\u6f0f\u6d1e\u8fdb\u884c\u4fee\u8865\u7684\u8fc7\u7a0b\uff0c\u4f7f\u5f97\u8be5\u6f0f\u6d1e\u4e0d\u80fd\u591f\u88ab\u6076\u610f\u4e3b\u9898\u6240\u5229\u7528\uff1b \u6f0f\u6d1e\u516c\u5f00\uff1a\u901a\u8fc7\u516c\u5f00\u6e20\u9053\uff08\u5982\uff1a\u7f51\u7ad9\u3001\u90ae\u4ef6\u5217\u8868\u7b49\uff09\uff1b \u4ece\u4fe1\u606f\u7cfb\u7edf\u89d2\u5ea6\u7406\u89e3\u5b89\u5168\u6f0f\u6d1e\u751f\u547d\u5468\u671f \u6f0f\u6d1e\u8bc6\u522b\uff1a\u901a\u8fc7\u81ea\u8eab\u6d4b\u8bd5\u3001\u76d1\u63a7\u3001\u5916\u90e8\u7b2c\u4e09\u65b9\u901a\u62a5\u3001\u5ba2\u6237\u6295\u8bc9\u7b49\u65b9\u5f0f\uff0c\u83b7\u77e5\u6f0f\u6d1e\u7684\u5b58\u5728\uff1b \u6f0f\u6d1e\u8bc4\u4f30\uff1a\u901a\u8fc7\u81ea\u8eab\u6d4b\u8bd5\u3001\u76d1\u63a7\u3001\u5916\u90e8\u7b2c\u4e09\u65b9\u901a\u62a5\u3001\u5ba2\u6237\u6295\u8bc9\u7b49\u65b9\u5f0f\uff0c\u83b7\u77e5\u6f0f\u6d1e\u7684\u5b58\u5728\uff1b \u6f0f\u6d1e\u901a\u62a5\uff1a\u5b89\u5168\u7ba1\u7406\u8005\u5c06\u6f0f\u6d1e\u4fe1\u606f\u548c\u4fee\u590d\u5efa\u8bae\u5185\u90e8\u901a\u62a5\u7ed9\u4fe1\u606f\u7cfb\u7edf\u7ef4\u62a4/\u5e94\u7528/\u5f00\u53d1\u7b49\u76f8\u5173\u4eba\u5458\uff1b \u6f0f\u6d1e\u6d4b\u8bd5\uff1a\u4fe1\u606f\u7cfb\u7edf\u76f8\u5173\u4eba\u5458\u5bf9\u7cfb\u7edf\u6f0f\u6d1e\u4fee\u8865\u8fdb\u884c\u6d4b\u8bd5\uff1b \u6f0f\u6d1e\u4fee\u590d\uff1a\u4fe1\u606f\u7cfb\u7edf\u76f8\u5173\u4eba\u5458\u5bf9\u7cfb\u7edf\u6f0f\u6d1e\u8fdb\u884c\u4fee\u590d\uff1b \u6f0f\u6d1e\u56de\u9000\uff1a\u6f0f\u6d1e\u7684\u4fee\u590d\u82e5\u5f71\u54cd\u4e1a\u52a1\uff0c\u5bf9\u4fee\u590d\u8fdb\u884c\u56de\u9000\uff0c\u591a\u65b9\u91cd\u65b0\u5bf9\u6f0f\u6d1e\u8fdb\u884c\u8bc4\u4f30\uff0c\u751a\u81f3\u63a5\u53d7\u8be5\u6f0f\u6d1e\uff1b \u4ece\u5b89\u5168\u653b\u9632\u89d2\u5ea6\u7406\u89e3\u5b89\u5168\u6f0f\u6d1e\u751f\u547d\u5468\u671f \u6f0f\u6d1e\u7814\u7a76\u4e0e\u6316\u6398\uff1a\u5229\u7528\u6e90\u4ee3\u7801\u5ba1\u6838\uff08\u767d\u76d2\u6d4b\u8bd5\uff09\u3001\u9006\u5411\u5de5\u7a0b\uff08\u7070\u76d2\u6d4b\u8bd5\uff09\u3001Fuzz\u6d4b\u8bd5\uff08\u9ed1\u76d2\u6d4b\u8bd5\uff09\u3001\u6d41\u91cf\u5206\u6790\uff08\u9ed1\u76d2\u6d4b\u8bd5\uff09\u7b49\u65b9\u6cd5\uff1b POC/EXP\u5f00\u53d1\u4e0e\u6d4b\u8bd5\uff1a\u5f00\u53d1\u6982\u5ff5\u9a8c\u8bc1\u6027\u6e17\u900f\u653b\u51fb\u4ee3\u7801\uff08POC\uff09\u6216\u6f0f\u6d1e\u653b\u51fb\u5229\u7528\u4ee3\u7801\uff08EXP\uff09\uff0c\u5e76\u6d4b\u8bd5\u6f0f\u6d1e\u662f\u5426\u53ef\u88ab\u5229\u7528\uff1b \u901a\u62a5\u5382\u5546\u6216\u5c0f\u89c4\u6a21\u6d41\u4f20\uff1a\u767d\u5e3d\u5b50\u901a\u77e5\u5382\u5546\u8fdb\u884c\u4fee\u8865\uff0c\u7ed9\u51fa\u8865\u4e01\u540e\u516c\u5e03\uff1b\u9ed1\u5e3d\u5b50\u5728\u5c01\u95ed\u5c0f\u89c4\u6a21\u56e2\u961f\u5171\u4eab\u6d41\u4f20\uff1b \u6f0f\u6d1e\u6269\u6563\uff1a\u6f0f\u6d1ePOC\u6216EXP\u4ee3\u7801\u5728\u4e92\u8054\u7f51\u4e0a\u516c\u5e03\uff0c\u5927\u4f17\u9ed1\u5e3d\u5b50\u5feb\u901f\u638c\u63e1\u3001\u5e94\u7528\u548c\u4f20\u64ad\u6269\u6563\uff1b \u653b\u51fb\u5de5\u5177/\u6076\u610f\u7a0b\u5e8f\u4f20\u64ad\uff1a\u5f00\u53d1\u51fa\u81ea\u52a8\u5316\u653b\u51fb\u5de5\u5177/\u6076\u610f\u7a0b\u5e8f\uff0c\u5728\u4e92\u8054\u7f51\u8fdb\u884c\u4f20\u64ad\u3002\u5382\u5546\u5b8c\u6210\u8865\u4e01\u7a0b\u5e8f\u5f00\u53d1\u548c\u6d4b\u8bd5\u5e76\u8fdb\u884c\u53d1\u5e03\uff1b \u5927\u89c4\u6a21\u4f20\u64ad\uff1a\u5382\u5546\u53d1\u5e03\u8865\u4e01\u7a0b\u5e8f\u548c\u5b89\u5168\u8b66\u62a5\uff0c\u6e17\u900f\u4ee3\u7801/\u6076\u610f\u7a0b\u5e8f\u5927\u89c4\u6a21\u4f20\u64ad\u5371\u5bb3\u4e92\u8054\u7f51\uff1b \u6f0f\u6d1e/\u653b\u51fb\u4ee3\u7801\u9010\u6e10\u6d88\u4ea1\uff1a\u5728\u5382\u5546\u8865\u4e01\u7a0b\u5e8f\u5e7f\u6cdb\u5e94\u7528\u540e\uff0c\u76f8\u5e94\u7684\u6f0f\u6d1e\u6e17\u900f\u4ee3\u7801/\u6076\u610f\u7a0b\u5e8f\u9010\u6e10\u629b\u5f03\u4ece\u800c\u6d88\u4ea1\uff1b \u6211\u7684\u4e00\u4e9b\u601d\u8003 \u5bf9\u4e8e\u4f01\u4e1a\uff0c\u6211\u4eec\u5e94\u8be5\u5173\u6ce8\u4e0e\u4f01\u4e1a\u5185\u90e8\u76f8\u5173\uff0c\u751a\u81f3\u5173\u6ce8\u6211\u4eec\u6240\u4f7f\u7528\u7684\u4ea7\u54c1\u3001\u670d\u52a1\u76f8\u5173\u7684\u6f0f\u6d1e\u3002\u4ece\u6f0f\u6d1e\u7206\u53d1\u3001\u6f0f\u6d1e\u4f20\u64ad\u3001\u6f0f\u6d1e\u5229\u7528\u5de5\u5177\u4f20\u64ad\u5230\u6f0f\u6d1e\u4fee\u590d\u6574\u4e2a\u6d41\u7a0b\u4e2d\uff0c\u6211\u4eec\u5e94\u8be5\u601d\u8003\u5982\u4e0b\u51e0\u4e2a\u95ee\u9898\uff1a \u5982\u4f55\u5feb\u901f\u83b7\u53d6\u6f0f\u6d1e\u60c5\u62a5\uff1a\u722c\u866b\u3001\u60c5\u62a5\u7fa4\u3001\u793e\u533a\u7f51\u7ad9\u7b49\uff1b \u6f0f\u6d1e\u60c5\u62a5\u5982\u4f55\u8bc4\u4f30\u5f71\u54cd\uff1a\u516c\u53f8\u5185\u6709\u591a\u5c11\u4e1a\u52a1\u53d7\u5230\u5f71\u54cd\uff1b \u6f0f\u6d1e\u5229\u7528\u7206\u53d1\u65f6\u7684\u89e3\u51b3\u65b9\u6848\uff1a\u6f0f\u6d1e\u8be6\u60c5\u662f\u5426\u6709\u7ed9\u51fa\u4e34\u65f6\u89e3\u51b3\u65b9\u6848\uff1b\u6ca1\u6709\u4e34\u65f6\u89e3\u51b3\u65b9\u6848\u5982\u4f55\u63a7\u5236\u98ce\u9669\uff1b \u6f0f\u6d1e\u4fee\u590d\u65f6\u7684\u98ce\u9669\u8bc4\u4f30\uff1a\u4fee\u590d\u65b9\u6848\u5bf9\u4e1a\u52a1\u5f71\u54cd\u662f\u5426\u53ef\u4ee5\u63a5\u53d7\uff1b \u6f0f\u6d1e\u4fee\u590d\u5b8c\u6210\u5982\u4f55\u505a\u5230\u6301\u7eed\u76d1\u63a7\uff1a\u9632\u6b62\u6f0f\u6d1e\u7684\u91cd\u590d\u51fa\u73b0\uff1b \u4e59\u65b9\u4ea7\u54c1\u7684\u6f0f\u6d1e\u751f\u547d\u5468\u671f\u7ba1\u7406 \u5f00\u6e90\u4ea7\u54c1\u7684\u6f0f\u6d1e\u751f\u547d\u5468\u671f\u7ba1\u7406 \u53c2\u8003\u8d44\u6599 \u7532\u65b9\u4f01\u4e1a\u6f0f\u6d1e\u7ba1\u7406\u6d3b\u52a8\u768450\u4e2a\u75db\u70b9\u603b\u7ed3 \u6f0f\u6d1e\u7ba1\u7406\u7684\u5b9a\u4e49\u4e0e\u6700\u4f73\u5b9e\u8df5 The Five Stages of Vulnerability Management \u57fa\u4e8eDREAD\u6a21\u578b\u7684\u6f0f\u6d1e\u7b49\u7ea7\u8ba1\u7b97 \u5f00\u6e90\u6f0f\u6d1e\u7ba1\u7406\u7cfb\u7edf SRCMS \u6d1e\u5bdf defectdojo","title":"\u6f0f\u6d1e\u7ba1\u7406"},{"location":"application-security/vulnerability-management/#_1","text":"\u8ba1\u7b97\u673a\u5b89\u5168\u9690\u60a3(vulnerability)\u4fd7\u79f0\u6f0f\u6d1e(security hole)\uff0c\u6307\u8ba1\u7b97\u673a\u7cfb\u7edf\u5b89\u5168\u65b9\u9762\u7684\u7f3a\u9677\uff0c\u4f7f\u5f97\u7cfb\u7edf\u6216\u5176\u5b83\u5e94\u7528\u6570\u636e\u7684\u4fdd\u5bc6\u6027\u3001\u5b8c\u6574\u6027\u3001\u53ef\u7528\u6027\u3001\u8bbf\u95ee\u63a7\u5236\u548c\u76d1\u6d4b\u673a\u5236\u7b49\u9762\u4e34\u5a01\u80c1\u3002 \u6f0f\u6d1e\u7ba1\u7406\u5c31\u662f\u9886\u5148\u6f0f\u6d1e\u4e00\u6b65\uff0c\u8ba9\u4fee\u590d\u66f4\u9891\u7e41\u66f4\u6709\u6548\u7684\u4e00\u4e2a\u8fc7\u7a0b\u3002 \u5f53\u516c\u53f8\u4e1a\u52a1\u8f83\u5c11\u65f6\uff0c\u4e00\u4e2a\u8868\u683c\u5c31\u53ef\u4ee5\u5904\u7406\u5b8c\u6f0f\u6d1e\u7ba1\u7406\u7684\u6d41\u7a0b\u3002\u4f46\u662f\u5f53\u4e1a\u52a1\u7cfb\u7edf\u589e\u591a\uff0c\u5b89\u5168\u62a5\u544a\u589e\u5927\u65f6\u5c31\u9700\u8981\u4e00\u4e2a\u597d\u7684\u6f0f\u6d1e\u7ba1\u7406\u5de5\u5177\u6765\u8fdb\u884c\u7ba1\u7406\u3002 \u629b\u4e00\u4e2a\u95ee\u9898\uff1a\u5b89\u5168\u6d4b\u8bd5\u56e2\u961f\u5230\u5e95\u5e94\u4e0d\u5e94\u8be5\u4e3a\u6f0f\u6d1e\u6570\u91cf\u8d1f\u8d23\uff0c\u5982\u679c\u9700\u8981\u8d1f\u8d23\uff0c\u90a3\u4e48\u591a\u597d\u8fd8\u662f\u5c11\u597d\uff1f","title":"\u6f0f\u6d1e\u7ba1\u7406"},{"location":"application-security/vulnerability-management/#_2","text":"","title":"\u6f0f\u6d1e\u751f\u547d\u5468\u671f\u7ba1\u7406"},{"location":"application-security/vulnerability-management/#_3","text":"\u5185\u90e8\u5b89\u5168\u56e2\u961f\u53d1\u73b0\uff1a\u901a\u8fc7\u5b89\u5168\u626b\u63cf\u3001\u5b89\u5168\u6d4b\u8bd5\u7b49\u624b\u6bb5\u53d1\u73b0\u6f0f\u6d1e\uff1b \u5185\u90e8\u975e\u5b89\u5168\u56e2\u961f\u53d1\u73b0\uff1a\u5de5\u4f5c\u8fc7\u7a0b\u4e2d\u53d1\u73b0\u7684\u5b89\u5168\u95ee\u9898\uff1b \u5916\u90e8\u53d1\u73b0\uff1a\u4f17\u6d4b\u5e73\u53f0\u3001\u5b89\u5168\u670d\u52a1\u3001\u4e2a\u4eba\u63d0\u4ea4\uff1b","title":"\u6f0f\u6d1e\u7684\u6765\u6e90"},{"location":"application-security/vulnerability-management/#_4","text":"\u6f0f\u6d1e\u5982\u4f55\u4e0e\u5177\u4f53\u4e1a\u52a1\u5173\u8054 \u5f53\u516c\u53f8\u89c4\u6a21\u8f83\u5c0f\u6c9f\u901a\u9760\u55d3\u95e8\u7684\u65f6\u5019\u4e0d\u7528\u8003\u8651\u8fd9\u4e2a\u95ee\u9898\uff0c\u800c\u4e14\u4e1a\u52a1\u56e2\u961f\u5212\u5206\u4e5f\u6ca1\u6709\u5f88\u6e05\u6670\u6240\u4ee5\u8fd9\u4e2a\u65f6\u5019\u53ef\u4ee5\u76f4\u63a5\u4e22\u7ed9\u4e1a\u52a1\u65b9\u8ba9\u4ed6\u4eec\u5b89\u6392\u4fee\u590d\u3002\u5f53\u516c\u53f8\u8fbe\u5230\u4e00\u5b9a\u89c4\u6a21\u4e1a\u52a1\u589e\u591a\u7684\u65f6\u5019\uff0c\u6211\u4eec\u5982\u679c\u5355\u7eaf\u4f9d\u9760\u4eba\u529b\u6765\u627e\u6f0f\u6d1e\u5c5e\u4e8e\u54ea\u4e2a\u4e1a\u52a1\u662f\u5f88\u8d39\u529b\u7684\uff0c\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u5176\u5b9e\u5f88\u9700\u8981\u5b89\u5168\u7684\u8d44\u4ea7\u7ba1\u7406\u6765\u76f4\u63a5\u5b9a\u4f4d\u5230\u4e1a\u52a1\u65b9\uff0c\u518d\u6765\u627e\u5230\u5173\u8054\u7684\u4eba\uff0c\u5f53\u7136\u5b89\u5168\u8d44\u4ea7\u7ba1\u7406\u4e0d\u662f\u672c\u7bc7\u7684\u8ba8\u8bba\uff0c\u540e\u9762\u4f1a\u6709\u4e00\u7bc7\u4e13\u95e8\u6765\u4ecb\u7ecd\u3002 \u89e3\u51b3\u65b9\u6848\uff1a\u6f0f\u6d1e\u7ba1\u7406\u7cfb\u7edf\u4e0e\u8d44\u4ea7\u7ba1\u7406\u7cfb\u7edf\u90e8\u5206\u6570\u636e\u6253\u901a\u3002 \u786e\u4fdd\u6f0f\u6d1e\u4fee\u590d\u5b8c\u6210 \u5728\u5f88\u591a\u516c\u53f8\u9047\u5230\u8fc7\u4e00\u4e2a\u60c5\u51b5\uff1a\u4e25\u91cd\u9ad8\u5371\u7684\u6f0f\u6d1e\u8fd8\u597d\uff0c\u4f46\u662f\u7ecf\u5e38\u51fa\u73b0\u4e2d\u4f4e\u5371\u7684\u6f0f\u6d1e\u63d0\u4ea4\u4e00\u4e2a\u6708\u751a\u81f3\u534a\u5e74\u6ca1\u6709\u4fee\u590d\u3002 \u89e3\u51b3\u65b9\u6848\uff1a\u5b89\u5168\u8bed\u4e1a\u52a1\u7edf\u4e00\u5236\u5b9a\u4e00\u4e2a\u6f0f\u6d1e\u751f\u547d\u5468\u671f\u7ba1\u7406\u6807\u51c6\uff0c\u4e0d\u540c\u7b49\u7ea7\u7684\u6f0f\u6d1e\u4fee\u590d\u65f6\u95f4\u662f\u591a\u4e45\u3002 \u6f0f\u6d1e\u62a5\u544a\u7684\u7559\u5b58 \u4f01\u4e1a\u5185\u90e8\u9700\u8981\u5bf9\u6f0f\u6d1e\u6709\u4e00\u4e2a\u6e05\u6670\u7684\u6574\u7406\u5f52\u6863\u6765\u4f5c\u4e3a\u6570\u636e\u7eac\u5ea6\u5c55\u793a\u516c\u53f8\u5b89\u5168\u53d1\u5c55\u7684\u72b6\u6001\u3002\u5b89\u5168\u6d4b\u8bd5\u4eba\u5458\u53d1\u73b0\u6f0f\u6d1e\u9700\u8981\u90ae\u4ef6\u7ed9\u4e1a\u52a1\u65b9\uff0c\u5e76\u4e14\u9700\u8981\u4f7f\u7528Excel\u6765\u603b\u7ed3\uff0c\u5f53\u6d4b\u8bd5\u4eba\u5458\u5f88\u591a\u65f6\uff0c\u8fd8\u9700\u8981\u505a\u4e00\u4e2a\u6c47\u603b\uff0c\u8fd9\u4e9b\u90fd\u4f1a\u9020\u6210\u66f4\u591a\u7684\u4e0d\u4fbf\u3002 \u89e3\u51b3\u65b9\u6848\uff1a\u6f0f\u6d1e\u7ba1\u7406\u5e73\u53f0\u9700\u8981\u5bf9\u4e0d\u540c\u65f6\u95f4\u6bb5\u63d0\u4ea4\u7684\u4e0d\u540c\u6f0f\u6d1e\u7b49\u7ea7\u8fdb\u884c\u6570\u636e\u91cf\u5316\u3002 \u540c\u4e00\u4e2a\u4e1a\u52a1\u56e2\u961f\u8d1f\u8d23\u7684\u4ea7\u54c1\u4e2d\u591a\u6b21\u51fa\u73b0\u540c\u6837\u7684\u6f0f\u6d1e \u89e3\u51b3\u65b9\u6848\uff1a\u4e1a\u52a1\u56e2\u961f\u81ea\u8eab\u7684\u4e0d\u65ad\u6574\u7406\u4e0e\u603b\u7ed3\uff0c\u5b89\u5168\u56e2\u961f\u5bf9\u4e1a\u52a1\u56e2\u961f\u8fdb\u884c\u5b89\u5168\u57f9\u8bad\uff08\u53ef\u4ee5\u7ed3\u5408\u5728SDL\u4e2d\u8fdb\u884c\uff09\u3002 \u6f0f\u6d1e\u5ba1\u6838\u4eba\u529bDoS \u5982\u679c\u4f01\u4e1a\u5728\u4e00\u4e9b\u7c7b\u4f3cSRC\u7684\u5e73\u53f0\uff0c\u7531\u4e8e\u76ee\u524d\u767d\u5e3d\u5b50\u6c34\u5e73\u5c42\u6b21\u4e0d\u9f50\uff0c\u7ecf\u5e38\u4f1a\u63d0\u4ea4\u4e00\u4e9bbug\u4f5c\u4e3a\u6f0f\u6d1e\uff0c\u6216\u8005\u6545\u610f\u63d0\u9ad8\u6f0f\u6d1e\u7b49\u7ea7\uff0cSRC\u5e73\u53f0\u5728\u5904\u7406\u8fd9\u4e9b\u65f6\u4e0e\u767d\u5e3d\u5b50\u53d1\u751f\u4e89\u6267\u4ea7\u751f\u7684\u4eba\u529b\u6d88\u8017\u3002 \u89e3\u51b3\u65b9\u6848\uff1a\u5f85\u89e3\u51b3","title":"\u6f0f\u6d1e\u7ba1\u7406\u7684\u95ee\u9898"},{"location":"application-security/vulnerability-management/#_5","text":"","title":"\u6f0f\u6d1e\u7ba1\u7406\u7684\u601d\u8003"},{"location":"application-security/vulnerability-management/#_6","text":"\u539f\u6587\u5730\u5740 \u5907\u6ce8\uff1a\u672c\u8282\u5185\u5bb9\u5f15\u7528\u81ea\u5b89\u5168\u6f0f\u6d1e\u751f\u547d\u5468\u671f\u7684\u7406\u89e3\uff0c\u975e\u539f\u521b \u4ece\u4ea7\u54c1\u89d2\u5ea6\u7406\u89e3\u5b89\u5168\u6f0f\u6d1e\u751f\u547d\u5468\u671f \u6f0f\u6d1e\u53d1\u73b0\uff1a\u901a\u8fc7\u4eba\u5de5\u6216\u8005\u81ea\u52a8\u5316\u7b49\u65b9\u5f0f\u5206\u6790\u3001\u6316\u6398\u51fa\u6f0f\u6d1e\u7684\u8fc7\u7a0b\uff0c\u5e76\u4e14\u8be5\u6f0f\u6d1e\u53ef\u4ee5\u88ab\u9a8c\u8bc1\u548c\u91cd\u73b0\uff1b \u6f0f\u6d1e\u5229\u7528\uff1a\u5229\u7528\u6f0f\u6d1e\u5bf9\u8ba1\u7b97\u673a\u4fe1\u606f\u7cfb\u7edf\u7684\u4fdd\u5bc6\u6027\u3001\u5b8c\u6574\u6027\u548c\u53ef\u7528\u6027\u9020\u6210\u635f\u5bb3\u7684\u8fc7\u7a0b\uff1b \u6f0f\u6d1e\u4fee\u590d\uff1a\u901a\u8fc7\u8865\u4e01\u3001\u5347\u7ea7\u7248\u672c\u6216\u914d\u7f6e\u7b56\u7565\u7b49\u5bf9\u6f0f\u6d1e\u8fdb\u884c\u4fee\u8865\u7684\u8fc7\u7a0b\uff0c\u4f7f\u5f97\u8be5\u6f0f\u6d1e\u4e0d\u80fd\u591f\u88ab\u6076\u610f\u4e3b\u9898\u6240\u5229\u7528\uff1b \u6f0f\u6d1e\u516c\u5f00\uff1a\u901a\u8fc7\u516c\u5f00\u6e20\u9053\uff08\u5982\uff1a\u7f51\u7ad9\u3001\u90ae\u4ef6\u5217\u8868\u7b49\uff09\uff1b \u4ece\u4fe1\u606f\u7cfb\u7edf\u89d2\u5ea6\u7406\u89e3\u5b89\u5168\u6f0f\u6d1e\u751f\u547d\u5468\u671f \u6f0f\u6d1e\u8bc6\u522b\uff1a\u901a\u8fc7\u81ea\u8eab\u6d4b\u8bd5\u3001\u76d1\u63a7\u3001\u5916\u90e8\u7b2c\u4e09\u65b9\u901a\u62a5\u3001\u5ba2\u6237\u6295\u8bc9\u7b49\u65b9\u5f0f\uff0c\u83b7\u77e5\u6f0f\u6d1e\u7684\u5b58\u5728\uff1b \u6f0f\u6d1e\u8bc4\u4f30\uff1a\u901a\u8fc7\u81ea\u8eab\u6d4b\u8bd5\u3001\u76d1\u63a7\u3001\u5916\u90e8\u7b2c\u4e09\u65b9\u901a\u62a5\u3001\u5ba2\u6237\u6295\u8bc9\u7b49\u65b9\u5f0f\uff0c\u83b7\u77e5\u6f0f\u6d1e\u7684\u5b58\u5728\uff1b \u6f0f\u6d1e\u901a\u62a5\uff1a\u5b89\u5168\u7ba1\u7406\u8005\u5c06\u6f0f\u6d1e\u4fe1\u606f\u548c\u4fee\u590d\u5efa\u8bae\u5185\u90e8\u901a\u62a5\u7ed9\u4fe1\u606f\u7cfb\u7edf\u7ef4\u62a4/\u5e94\u7528/\u5f00\u53d1\u7b49\u76f8\u5173\u4eba\u5458\uff1b \u6f0f\u6d1e\u6d4b\u8bd5\uff1a\u4fe1\u606f\u7cfb\u7edf\u76f8\u5173\u4eba\u5458\u5bf9\u7cfb\u7edf\u6f0f\u6d1e\u4fee\u8865\u8fdb\u884c\u6d4b\u8bd5\uff1b \u6f0f\u6d1e\u4fee\u590d\uff1a\u4fe1\u606f\u7cfb\u7edf\u76f8\u5173\u4eba\u5458\u5bf9\u7cfb\u7edf\u6f0f\u6d1e\u8fdb\u884c\u4fee\u590d\uff1b \u6f0f\u6d1e\u56de\u9000\uff1a\u6f0f\u6d1e\u7684\u4fee\u590d\u82e5\u5f71\u54cd\u4e1a\u52a1\uff0c\u5bf9\u4fee\u590d\u8fdb\u884c\u56de\u9000\uff0c\u591a\u65b9\u91cd\u65b0\u5bf9\u6f0f\u6d1e\u8fdb\u884c\u8bc4\u4f30\uff0c\u751a\u81f3\u63a5\u53d7\u8be5\u6f0f\u6d1e\uff1b \u4ece\u5b89\u5168\u653b\u9632\u89d2\u5ea6\u7406\u89e3\u5b89\u5168\u6f0f\u6d1e\u751f\u547d\u5468\u671f \u6f0f\u6d1e\u7814\u7a76\u4e0e\u6316\u6398\uff1a\u5229\u7528\u6e90\u4ee3\u7801\u5ba1\u6838\uff08\u767d\u76d2\u6d4b\u8bd5\uff09\u3001\u9006\u5411\u5de5\u7a0b\uff08\u7070\u76d2\u6d4b\u8bd5\uff09\u3001Fuzz\u6d4b\u8bd5\uff08\u9ed1\u76d2\u6d4b\u8bd5\uff09\u3001\u6d41\u91cf\u5206\u6790\uff08\u9ed1\u76d2\u6d4b\u8bd5\uff09\u7b49\u65b9\u6cd5\uff1b POC/EXP\u5f00\u53d1\u4e0e\u6d4b\u8bd5\uff1a\u5f00\u53d1\u6982\u5ff5\u9a8c\u8bc1\u6027\u6e17\u900f\u653b\u51fb\u4ee3\u7801\uff08POC\uff09\u6216\u6f0f\u6d1e\u653b\u51fb\u5229\u7528\u4ee3\u7801\uff08EXP\uff09\uff0c\u5e76\u6d4b\u8bd5\u6f0f\u6d1e\u662f\u5426\u53ef\u88ab\u5229\u7528\uff1b \u901a\u62a5\u5382\u5546\u6216\u5c0f\u89c4\u6a21\u6d41\u4f20\uff1a\u767d\u5e3d\u5b50\u901a\u77e5\u5382\u5546\u8fdb\u884c\u4fee\u8865\uff0c\u7ed9\u51fa\u8865\u4e01\u540e\u516c\u5e03\uff1b\u9ed1\u5e3d\u5b50\u5728\u5c01\u95ed\u5c0f\u89c4\u6a21\u56e2\u961f\u5171\u4eab\u6d41\u4f20\uff1b \u6f0f\u6d1e\u6269\u6563\uff1a\u6f0f\u6d1ePOC\u6216EXP\u4ee3\u7801\u5728\u4e92\u8054\u7f51\u4e0a\u516c\u5e03\uff0c\u5927\u4f17\u9ed1\u5e3d\u5b50\u5feb\u901f\u638c\u63e1\u3001\u5e94\u7528\u548c\u4f20\u64ad\u6269\u6563\uff1b \u653b\u51fb\u5de5\u5177/\u6076\u610f\u7a0b\u5e8f\u4f20\u64ad\uff1a\u5f00\u53d1\u51fa\u81ea\u52a8\u5316\u653b\u51fb\u5de5\u5177/\u6076\u610f\u7a0b\u5e8f\uff0c\u5728\u4e92\u8054\u7f51\u8fdb\u884c\u4f20\u64ad\u3002\u5382\u5546\u5b8c\u6210\u8865\u4e01\u7a0b\u5e8f\u5f00\u53d1\u548c\u6d4b\u8bd5\u5e76\u8fdb\u884c\u53d1\u5e03\uff1b \u5927\u89c4\u6a21\u4f20\u64ad\uff1a\u5382\u5546\u53d1\u5e03\u8865\u4e01\u7a0b\u5e8f\u548c\u5b89\u5168\u8b66\u62a5\uff0c\u6e17\u900f\u4ee3\u7801/\u6076\u610f\u7a0b\u5e8f\u5927\u89c4\u6a21\u4f20\u64ad\u5371\u5bb3\u4e92\u8054\u7f51\uff1b \u6f0f\u6d1e/\u653b\u51fb\u4ee3\u7801\u9010\u6e10\u6d88\u4ea1\uff1a\u5728\u5382\u5546\u8865\u4e01\u7a0b\u5e8f\u5e7f\u6cdb\u5e94\u7528\u540e\uff0c\u76f8\u5e94\u7684\u6f0f\u6d1e\u6e17\u900f\u4ee3\u7801/\u6076\u610f\u7a0b\u5e8f\u9010\u6e10\u629b\u5f03\u4ece\u800c\u6d88\u4ea1\uff1b","title":"\u5b89\u5168\u6f0f\u6d1e\u751f\u547d\u5468\u671f\u7684\u7406\u89e3"},{"location":"application-security/vulnerability-management/#_7","text":"\u5bf9\u4e8e\u4f01\u4e1a\uff0c\u6211\u4eec\u5e94\u8be5\u5173\u6ce8\u4e0e\u4f01\u4e1a\u5185\u90e8\u76f8\u5173\uff0c\u751a\u81f3\u5173\u6ce8\u6211\u4eec\u6240\u4f7f\u7528\u7684\u4ea7\u54c1\u3001\u670d\u52a1\u76f8\u5173\u7684\u6f0f\u6d1e\u3002\u4ece\u6f0f\u6d1e\u7206\u53d1\u3001\u6f0f\u6d1e\u4f20\u64ad\u3001\u6f0f\u6d1e\u5229\u7528\u5de5\u5177\u4f20\u64ad\u5230\u6f0f\u6d1e\u4fee\u590d\u6574\u4e2a\u6d41\u7a0b\u4e2d\uff0c\u6211\u4eec\u5e94\u8be5\u601d\u8003\u5982\u4e0b\u51e0\u4e2a\u95ee\u9898\uff1a \u5982\u4f55\u5feb\u901f\u83b7\u53d6\u6f0f\u6d1e\u60c5\u62a5\uff1a\u722c\u866b\u3001\u60c5\u62a5\u7fa4\u3001\u793e\u533a\u7f51\u7ad9\u7b49\uff1b \u6f0f\u6d1e\u60c5\u62a5\u5982\u4f55\u8bc4\u4f30\u5f71\u54cd\uff1a\u516c\u53f8\u5185\u6709\u591a\u5c11\u4e1a\u52a1\u53d7\u5230\u5f71\u54cd\uff1b \u6f0f\u6d1e\u5229\u7528\u7206\u53d1\u65f6\u7684\u89e3\u51b3\u65b9\u6848\uff1a\u6f0f\u6d1e\u8be6\u60c5\u662f\u5426\u6709\u7ed9\u51fa\u4e34\u65f6\u89e3\u51b3\u65b9\u6848\uff1b\u6ca1\u6709\u4e34\u65f6\u89e3\u51b3\u65b9\u6848\u5982\u4f55\u63a7\u5236\u98ce\u9669\uff1b \u6f0f\u6d1e\u4fee\u590d\u65f6\u7684\u98ce\u9669\u8bc4\u4f30\uff1a\u4fee\u590d\u65b9\u6848\u5bf9\u4e1a\u52a1\u5f71\u54cd\u662f\u5426\u53ef\u4ee5\u63a5\u53d7\uff1b \u6f0f\u6d1e\u4fee\u590d\u5b8c\u6210\u5982\u4f55\u505a\u5230\u6301\u7eed\u76d1\u63a7\uff1a\u9632\u6b62\u6f0f\u6d1e\u7684\u91cd\u590d\u51fa\u73b0\uff1b \u4e59\u65b9\u4ea7\u54c1\u7684\u6f0f\u6d1e\u751f\u547d\u5468\u671f\u7ba1\u7406 \u5f00\u6e90\u4ea7\u54c1\u7684\u6f0f\u6d1e\u751f\u547d\u5468\u671f\u7ba1\u7406","title":"\u6211\u7684\u4e00\u4e9b\u601d\u8003"},{"location":"application-security/vulnerability-management/#_8","text":"\u7532\u65b9\u4f01\u4e1a\u6f0f\u6d1e\u7ba1\u7406\u6d3b\u52a8\u768450\u4e2a\u75db\u70b9\u603b\u7ed3 \u6f0f\u6d1e\u7ba1\u7406\u7684\u5b9a\u4e49\u4e0e\u6700\u4f73\u5b9e\u8df5 The Five Stages of Vulnerability Management \u57fa\u4e8eDREAD\u6a21\u578b\u7684\u6f0f\u6d1e\u7b49\u7ea7\u8ba1\u7b97","title":"\u53c2\u8003\u8d44\u6599"},{"location":"application-security/vulnerability-management/#_9","text":"SRCMS \u6d1e\u5bdf defectdojo","title":"\u5f00\u6e90\u6f0f\u6d1e\u7ba1\u7406\u7cfb\u7edf"},{"location":"application-security/vulnerability-management/vm-tools-defectdojo/","text":"defectdojo DefectDojo\uff1a\u5f00\u6e90\u5e94\u7528\u7a0b\u5e8f\u6f0f\u6d1e\u5173\u8054\u548c\u5b89\u5168\u7f16\u6392\u5de5\u5177\u3002 github\u5730\u5740 \u5b89\u88c5\u4e0e\u914d\u7f6e # \u64cd\u4f5c\u7cfb\u7edf\uff1aCentos7 # \u4e0b\u8f7d git clone https://github.com/DefectDojo/django-DefectDojo # \u8fdb\u5165\u76ee\u5f55\u5e76\u6267\u884c cd django-DefectDojo ./setup.bash # \u6570\u636e\u5e93\u9009\u62e9mysql\uff0c\u4e0d\u7528\u81ea\u5df1\u5b89\u88c5\uff0c\u5b89\u88c5\u8fdb\u884c\u4f1a\u5e2e\u4f60\u5b89\u88c5\u597d # \u5df2\u77e5\u786e\u8ba4\u4e0b\u53bb\uff0c\u76f4\u5230\u51fa\u73b0\u6570\u636e\u5e93\u914d\u7f6e\u4fe1\u606f # \u542f\u52a8\u6570\u636e\u5e93 systemctl start mariadb.service # \u914d\u7f6e\u6570\u636e\u5e93\u8d26\u53f7\u5bc6\u7801 mysql_secure_installation # \u914d\u7f6e\u540e\u53f0\u7ba1\u7406\u8d26\u53f7\u5bc6\u7801 # \u542f\u52a8\u670d\u52a1 python manage.py runserver 0.0.0.0:80 # \u6b64\u65f6\u8bbf\u95ee\u4f1a\u62a5\u9519 # \u89e3\u51b3\u65b9\u6848\uff0c\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u7b2c68\u884c vim django-DefectDojo/dojo/settings/settings.py # ALLOWED_HOSTS = [] # \u6ce8\u91ca\u8fd9\u4e00\u884c ALLOWED_HOSTS = ['*'] # \u6dfb\u52a0\u8fd9\u4e00\u884c # \u91cd\u542f\u670d\u52a1 \u4f7f\u7528\u5fc3\u5f97 \u6838\u5fc3\u5185\u5bb9 \u4ea7\u54c1\u7ba1\u7406 \u65b0\u589e\u4ea7\u54c1 \u4ea7\u54c1\u7c7b\u578b\uff1a \u9879\u76ee\u7ba1\u7406 \u4ea7\u54c1\u65b0\u589e\u9879\u76ee\uff1a \u6d4b\u8bd5\u7c7b\u578b\uff1a \u73af\u5883\u7ba1\u7406\uff1a \u65b0\u589e\u6d4b\u8bd5\uff1a \u65b0\u589e\u6f0f\u6d1e\uff1a \u7528\u6237\u7ba1\u7406 \u6807\u51c6\u7684Django\u7ba1\u7406\u7528\u6237\u65b9\u5f0f\u3002 \u4ea7\u54c1\u8bc4\u4ef7 \u7f3a\u70b9 \u4e0d\u652f\u6301\u4e2d\u6587\u771f\u7684\u5f88\u5751\uff0c\u9700\u8981\u6c49\u5316\uff1b Python Django\u7684\u6846\u67b6\uff0c\u6709\u5f88\u591a\u9700\u8981\u8e29\u5751\u7684\u5730\u65b9\uff0c\u6211\u8fd9\u91cc\u8e29\u4e00\u4e9b\uff0c\u5927\u5bb6\u53ef\u4ee5\u8865\u5145\uff1b \u7cfb\u7edf\u6574\u4f53\u67b6\u6784\u4e0d\u9002\u5408\u56fd\u4eba\u7b80\u5355\u6613\u7528\u7684\u4e60\u60ef\uff1b \u2026\u2026 \u4f18\u70b9 \u5b8c\u5584\u7684\u4efb\u52a1\u5206\u914d\u7cfb\u7edf\uff0c\u4e0d\u540c\u4efb\u52a1\u5206\u914d\u7ed9\u4e0d\u540c\u4eba\u5458\u8fdb\u884c\u6d4b\u8bd5\uff1b \u5bf9\u4e0d\u540c\u4ea7\u54c1\u3001\u4e0d\u540c\u9879\u76ee\u8fdb\u884c\u7ba1\u7406\uff0c\u53ef\u4ee5\u67e5\u770b\u5404\u81ea\u7684\u6f0f\u6d1e\u60c5\u51b5\uff1b \u652f\u6301LDAP\u3001JIRA\u96c6\u6210\uff1b \u2026\u2026 \u8e29\u5751\u8bb0 \u4e2d\u6587\u4e71\u7801 \u5728defectdojo\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u914d\u7f6e\u6570\u636e\u5e93\u4fe1\u606f\u4e4b\u524d\uff0c\u4e5f\u5c31\u662f\u542f\u52a8MySQL\u6570\u636e\u5e93\u65f6\uff0c\u9700\u8981\u4fee\u6539MySQL\u914d\u7f6e\u6587\u4ef6\uff1a vim /etc/my.cnf # [mysqld] \u4e0b\u9762\u6dfb\u52a0\u4ee5\u4e0b\u4e09\u884c character-set-server=utf8 collation-server=utf8_general_ci skip-character-set-client-handshake # \u91cd\u542fMySQL\u670d\u52a1 \u65b0\u589e\u6f0f\u6d1e\u65f6\uff0c\u6f0f\u6d1e\u540d\u79f0\u4e3a\u4e2d\u6587\u65f6\u62a5\u9519 \u5907\u6ce8\uff1a\u8fd9\u91cc\u867d\u7136\u62a5\u9519\uff0c\u4f46\u662f\u5b9e\u9645\u4e0a\u65b0\u589e\u6f0f\u6d1e\u6210\u529f \u5982\u4f55\u89e3\u51b3\u8fd9\u4e2a\u62a5\u9519\u95ee\u9898 vim django-DefectDojo/dojo/models.py # \u8df3\u8f6c\u52301049\u884c # hash_string = hash_string.decode('utf-8').strip() # \u6ce8\u91ca\u6b64\u884c hash_string = hash_string.strip() # \u65b0\u589e\u6b64\u884c \u6c49\u5316Django vim django-DefectDojo/dojo/settings/settings.py # \u641c\u7d22LANGUAGE_CODE\uff0c\u4fee\u6539\u4e3a\u5982\u4e0b LANGUAGE_CODE = 'zh-Hans' \u53c2\u8003\u8d44\u6599 Django Authentication Using LDAP \u5f00\u6e90\u6f0f\u6d1e\u7ba1\u7406\u5de5\u5177DefectDojo\uff08\u4e8c\uff09\u4f7f\u7528\u6307\u5357\uff1a\u57fa\u672c\u4f7f\u7528","title":"defectdojo"},{"location":"application-security/vulnerability-management/vm-tools-defectdojo/#defectdojo","text":"DefectDojo\uff1a\u5f00\u6e90\u5e94\u7528\u7a0b\u5e8f\u6f0f\u6d1e\u5173\u8054\u548c\u5b89\u5168\u7f16\u6392\u5de5\u5177\u3002 github\u5730\u5740","title":"defectdojo"},{"location":"application-security/vulnerability-management/vm-tools-defectdojo/#_1","text":"# \u64cd\u4f5c\u7cfb\u7edf\uff1aCentos7 # \u4e0b\u8f7d git clone https://github.com/DefectDojo/django-DefectDojo # \u8fdb\u5165\u76ee\u5f55\u5e76\u6267\u884c cd django-DefectDojo ./setup.bash # \u6570\u636e\u5e93\u9009\u62e9mysql\uff0c\u4e0d\u7528\u81ea\u5df1\u5b89\u88c5\uff0c\u5b89\u88c5\u8fdb\u884c\u4f1a\u5e2e\u4f60\u5b89\u88c5\u597d # \u5df2\u77e5\u786e\u8ba4\u4e0b\u53bb\uff0c\u76f4\u5230\u51fa\u73b0\u6570\u636e\u5e93\u914d\u7f6e\u4fe1\u606f # \u542f\u52a8\u6570\u636e\u5e93 systemctl start mariadb.service # \u914d\u7f6e\u6570\u636e\u5e93\u8d26\u53f7\u5bc6\u7801 mysql_secure_installation # \u914d\u7f6e\u540e\u53f0\u7ba1\u7406\u8d26\u53f7\u5bc6\u7801 # \u542f\u52a8\u670d\u52a1 python manage.py runserver 0.0.0.0:80 # \u6b64\u65f6\u8bbf\u95ee\u4f1a\u62a5\u9519 # \u89e3\u51b3\u65b9\u6848\uff0c\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u7b2c68\u884c vim django-DefectDojo/dojo/settings/settings.py # ALLOWED_HOSTS = [] # \u6ce8\u91ca\u8fd9\u4e00\u884c ALLOWED_HOSTS = ['*'] # \u6dfb\u52a0\u8fd9\u4e00\u884c # \u91cd\u542f\u670d\u52a1","title":"\u5b89\u88c5\u4e0e\u914d\u7f6e"},{"location":"application-security/vulnerability-management/vm-tools-defectdojo/#_2","text":"","title":"\u4f7f\u7528\u5fc3\u5f97"},{"location":"application-security/vulnerability-management/vm-tools-defectdojo/#_3","text":"\u4ea7\u54c1\u7ba1\u7406 \u65b0\u589e\u4ea7\u54c1 \u4ea7\u54c1\u7c7b\u578b\uff1a \u9879\u76ee\u7ba1\u7406 \u4ea7\u54c1\u65b0\u589e\u9879\u76ee\uff1a \u6d4b\u8bd5\u7c7b\u578b\uff1a \u73af\u5883\u7ba1\u7406\uff1a \u65b0\u589e\u6d4b\u8bd5\uff1a \u65b0\u589e\u6f0f\u6d1e\uff1a \u7528\u6237\u7ba1\u7406 \u6807\u51c6\u7684Django\u7ba1\u7406\u7528\u6237\u65b9\u5f0f\u3002","title":"\u6838\u5fc3\u5185\u5bb9"},{"location":"application-security/vulnerability-management/vm-tools-defectdojo/#_4","text":"\u7f3a\u70b9 \u4e0d\u652f\u6301\u4e2d\u6587\u771f\u7684\u5f88\u5751\uff0c\u9700\u8981\u6c49\u5316\uff1b Python Django\u7684\u6846\u67b6\uff0c\u6709\u5f88\u591a\u9700\u8981\u8e29\u5751\u7684\u5730\u65b9\uff0c\u6211\u8fd9\u91cc\u8e29\u4e00\u4e9b\uff0c\u5927\u5bb6\u53ef\u4ee5\u8865\u5145\uff1b \u7cfb\u7edf\u6574\u4f53\u67b6\u6784\u4e0d\u9002\u5408\u56fd\u4eba\u7b80\u5355\u6613\u7528\u7684\u4e60\u60ef\uff1b \u2026\u2026 \u4f18\u70b9 \u5b8c\u5584\u7684\u4efb\u52a1\u5206\u914d\u7cfb\u7edf\uff0c\u4e0d\u540c\u4efb\u52a1\u5206\u914d\u7ed9\u4e0d\u540c\u4eba\u5458\u8fdb\u884c\u6d4b\u8bd5\uff1b \u5bf9\u4e0d\u540c\u4ea7\u54c1\u3001\u4e0d\u540c\u9879\u76ee\u8fdb\u884c\u7ba1\u7406\uff0c\u53ef\u4ee5\u67e5\u770b\u5404\u81ea\u7684\u6f0f\u6d1e\u60c5\u51b5\uff1b \u652f\u6301LDAP\u3001JIRA\u96c6\u6210\uff1b \u2026\u2026","title":"\u4ea7\u54c1\u8bc4\u4ef7"},{"location":"application-security/vulnerability-management/vm-tools-defectdojo/#_5","text":"","title":"\u8e29\u5751\u8bb0"},{"location":"application-security/vulnerability-management/vm-tools-defectdojo/#_6","text":"\u5728defectdojo\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u914d\u7f6e\u6570\u636e\u5e93\u4fe1\u606f\u4e4b\u524d\uff0c\u4e5f\u5c31\u662f\u542f\u52a8MySQL\u6570\u636e\u5e93\u65f6\uff0c\u9700\u8981\u4fee\u6539MySQL\u914d\u7f6e\u6587\u4ef6\uff1a vim /etc/my.cnf # [mysqld] \u4e0b\u9762\u6dfb\u52a0\u4ee5\u4e0b\u4e09\u884c character-set-server=utf8 collation-server=utf8_general_ci skip-character-set-client-handshake # \u91cd\u542fMySQL\u670d\u52a1","title":"\u4e2d\u6587\u4e71\u7801"},{"location":"application-security/vulnerability-management/vm-tools-defectdojo/#_7","text":"\u5907\u6ce8\uff1a\u8fd9\u91cc\u867d\u7136\u62a5\u9519\uff0c\u4f46\u662f\u5b9e\u9645\u4e0a\u65b0\u589e\u6f0f\u6d1e\u6210\u529f \u5982\u4f55\u89e3\u51b3\u8fd9\u4e2a\u62a5\u9519\u95ee\u9898 vim django-DefectDojo/dojo/models.py # \u8df3\u8f6c\u52301049\u884c # hash_string = hash_string.decode('utf-8').strip() # \u6ce8\u91ca\u6b64\u884c hash_string = hash_string.strip() # \u65b0\u589e\u6b64\u884c","title":"\u65b0\u589e\u6f0f\u6d1e\u65f6\uff0c\u6f0f\u6d1e\u540d\u79f0\u4e3a\u4e2d\u6587\u65f6\u62a5\u9519"},{"location":"application-security/vulnerability-management/vm-tools-defectdojo/#django","text":"vim django-DefectDojo/dojo/settings/settings.py # \u641c\u7d22LANGUAGE_CODE\uff0c\u4fee\u6539\u4e3a\u5982\u4e0b LANGUAGE_CODE = 'zh-Hans'","title":"\u6c49\u5316Django"},{"location":"application-security/vulnerability-management/vm-tools-defectdojo/#_8","text":"Django Authentication Using LDAP \u5f00\u6e90\u6f0f\u6d1e\u7ba1\u7406\u5de5\u5177DefectDojo\uff08\u4e8c\uff09\u4f7f\u7528\u6307\u5357\uff1a\u57fa\u672c\u4f7f\u7528","title":"\u53c2\u8003\u8d44\u6599"},{"location":"application-security/web-security-scan/","text":"Web\u5b89\u5168\u626b\u63cf \u5b89\u5168\u626b\u63cf\uff1a\u9488\u5bf9Web\u5e94\u7528\u8106\u5f31\u6027\u8bc6\u522b\u7684\u4e00\u79cd\u884c\u4e3a\u3002 \u4e3a\u4ec0\u4e48\u9700\u8981\u505aWeb\u5b89\u5168\u626b\u63cf\uff1f \u624b\u5de5\u5b89\u5168\u6d4b\u8bd5\u6240\u9700\u65f6\u95f4\u5468\u671f\u8f83\u957f\uff0c\u4e0d\u80fd\u6ee1\u8db3\u5feb\u901f\u4ea4\u4ed8\u7684\u9700\u6c42\uff1b \u5f25\u8865\u5b89\u5168\u6d4b\u8bd5\u4eba\u5458\u77e5\u8bc6\u6280\u80fd\u5c42\u9762\u4e0d\u8db3\uff1b \u907f\u514d\u5b89\u5168\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u7684\u7531\u4e8e\u6d4b\u8bd5\u4eba\u5458\u60f0\u6027\u9020\u6210\u7684\u9057\u6f0f\uff1b \u76ee\u524dWeb\u626b\u63cf\u5668\u80fd\u505a\u5230\u4ec0\u4e48\uff1f \u57fa\u4e8eOWASP Top 10\u7684\u5e38\u89c4\u6f0f\u6d1e\u68c0\u6d4b\uff1b \u57fa\u4e8e\u7279\u5b9a\u7684\u6f0f\u6d1e\u68c0\u6d4b\uff0c\u5982\uff1astruts2 \u76ee\u524dWeb\u626b\u63cf\u5668\u7684\u7f3a\u70b9\u662f\u4ec0\u4e48\uff1f \u8bef\u62a5\u4e25\u91cd\uff0c\u4e5f\u5b58\u5728\u4e00\u5b9a\u7a0b\u5ea6\u7684\u6f0f\u62a5\uff0c\u4e3b\u8981\u662f\u7531\u4e8e\u626b\u63cf\u89c4\u5219\u5bfc\u81f4\uff1b \u4e0d\u80fd\u5b8c\u7f8e\u652f\u6301\u4e1a\u52a1\u903b\u8f91\u6f0f\u6d1e\u7684\u63a2\u6d4b\uff1b \u5bf9\u7cfb\u7edf\u9020\u6210\u810f\u6570\u636e\u3001\u670d\u52a1\u4e0d\u53ef\u7528\u7b49\u5b89\u5168\u98ce\u9669\uff1b \u5982\u4f55\u6539\u8fdbWeb\u626b\u63cf\u5668\u7684\u7f3a\u70b9\uff1f \u9488\u5bf9\u626b\u63cf\u89c4\u5219\uff1a\u5b8c\u5584\u5e38\u89c4\u6f0f\u6d1e\u68c0\u6d4b\u89c4\u5219+\u4e1a\u52a1\u903b\u8f91\u6f0f\u6d1e\u6a21\u5f0f\uff08\u8fd9\u662f\u4e00\u4e2a\u4f53\u529b\u6d3b\uff09\uff1b \u9488\u5bf9\u626b\u63cf\u8bef\u62a5\u7387\uff1a\u53d1\u73b0\u6f0f\u6d1e\u8fdb\u884c\u4e8c\u6b21\u9a8c\u8bc1\uff0c\u5982\uff1aawvs+sqlmap\u9a8c\u8bc1sql\u6ce8\u5165\u6f0f\u6d1e\uff1b \u9488\u5bf9\u9020\u6210\u810f\u6570\u636e\uff1a\u4f7f\u7528\u626b\u63cf\u5668\u65f6\uff0c\u8fc7\u6ee4POST\u63d0\u4ea4\u53c2\u6570\u8bf7\u6c42\uff1b \u9488\u5bf9\u9020\u6210\u670d\u52a1\u4e0d\u53ef\u7528\uff1a\u5408\u7406\u9009\u62e9\u626b\u63cf\u7b56\u7565\uff0c\u907f\u5f00\u4e1a\u52a1\u9ad8\u5cf0\u671f\u626b\u63cf\uff1b Web\u626b\u63cf\u5668\u7684\u5206\u7c7b \u6839\u636e\u626b\u63cf\u884c\u4e3a\u5206\u7c7b \u4e3b\u52a8\u626b\u63cf\uff1a\u901a\u8fc7\u722c\u866b\u83b7\u53d6URL\u4fe1\u606f\uff1b \u534a\u88ab\u52a8\u626b\u63cf\uff1a\u901a\u8fc7\u65e5\u5fd7\u83b7\u53d6URL\u4fe1\u606f\uff1b\u901a\u8fc7\u6d41\u91cf\u83b7\u53d6URL\u4fe1\u606f\uff1b\u901a\u8fc7\u4ee3\u7406\u83b7\u53d6URL\u4fe1\u606f\uff1b \u5168\u88ab\u52a8\u626b\u63cf\uff1a \u6839\u636e\u626b\u63cf\u65b9\u5f0f\u5206\u7c7b \u81ea\u52a8\u626b\u63cf\uff1a\u5b9a\u671f\u6267\u884c\u626b\u63cf\u53ef\u4ee5\u9009\u62e9\u5168\u91cf\u7b56\u7565\uff0c\u626b\u63cf\u65f6\u95f4\u8f83\u957f\u9700\u8981\u907f\u5f00\u4e1a\u52a1\u9ad8\u5cf0\u671f\uff1b \u624b\u52a8\u626b\u63cf\uff1a\u624b\u5de5\u6267\u884c\u626b\u63cf\uff0c\u9009\u62e9\u9488\u5bf9\u6027\u7684\u626b\u63cf\u7b56\u7565\uff1b \u4f01\u4e1a\u662f\u5426\u9700\u8981\u81ea\u7814Web\u626b\u63cf\u5668\uff1f \u7efc\u5408\u7b54\u6848\u662f\uff1a\u4e0d\u8981 \u4e3a\u4ec0\u4e48\u5f88\u591a\u4f01\u4e1a\u89c9\u5f97\u9700\u8981\u81ea\u7814 \u5546\u7528\u626b\u63cf\u5668\u90fd\u662f\u901a\u7528\u578b\u7684\uff0c\u4e0d\u540c\u4f01\u4e1a\u5728\u90e8\u7f72\u65b9\u5f0f\u3001\u540e\u7eed\u670d\u52a1\u7b49\u65b9\u9762\u5b58\u5728\u517c\u5bb9\u6027\u95ee\u9898\u3002 \u4e3a\u4ec0\u4e48\u4e0d\u8981\u8f7b\u6613\u81ea\u7814Web\u626b\u63cf\u5668 Web\u626b\u63cf\u5668\u81ea\u7814\u6210\u672c\u592a\u5927\uff0c\u96be\u70b9\u66f4\u591a\u5728\u4e8e\uff1a\u89c4\u5219\u7684\u7ef4\u62a4\u7b49\u3002 \u5229\u7528\u514d\u8d39\u6216\u7834\u89e3\u7684\u626b\u63cf\u5668API \u4e3a\u4e86\u89e3\u51b3\u4f01\u4e1a\u7cfb\u7edf\u591a\u4e1a\u52a1\u7e41\u6742\u7684Web\u626b\u63cf\uff0c\u66f4\u591a\u6211\u4eec\u5229\u7528API\u505a\u6210\u5206\u5e03\u5f0f\u961f\u5217\u7684\u5f62\u5f0f\u6765\u505a\u6210\u4e00\u4e2a\u626b\u63cf\u5668\u3002 \u53c2\u8003\u8d44\u6599 \u4e2d\u901a\u5206\u5e03\u5f0f\u88ab\u52a8\u5b89\u5168\u626b\u63cf\u5b9e\u8df5","title":"Web\u5b89\u5168\u626b\u63cf"},{"location":"application-security/web-security-scan/#web","text":"\u5b89\u5168\u626b\u63cf\uff1a\u9488\u5bf9Web\u5e94\u7528\u8106\u5f31\u6027\u8bc6\u522b\u7684\u4e00\u79cd\u884c\u4e3a\u3002","title":"Web\u5b89\u5168\u626b\u63cf"},{"location":"application-security/web-security-scan/#web_1","text":"\u624b\u5de5\u5b89\u5168\u6d4b\u8bd5\u6240\u9700\u65f6\u95f4\u5468\u671f\u8f83\u957f\uff0c\u4e0d\u80fd\u6ee1\u8db3\u5feb\u901f\u4ea4\u4ed8\u7684\u9700\u6c42\uff1b \u5f25\u8865\u5b89\u5168\u6d4b\u8bd5\u4eba\u5458\u77e5\u8bc6\u6280\u80fd\u5c42\u9762\u4e0d\u8db3\uff1b \u907f\u514d\u5b89\u5168\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u7684\u7531\u4e8e\u6d4b\u8bd5\u4eba\u5458\u60f0\u6027\u9020\u6210\u7684\u9057\u6f0f\uff1b","title":"\u4e3a\u4ec0\u4e48\u9700\u8981\u505aWeb\u5b89\u5168\u626b\u63cf\uff1f"},{"location":"application-security/web-security-scan/#web_2","text":"\u57fa\u4e8eOWASP Top 10\u7684\u5e38\u89c4\u6f0f\u6d1e\u68c0\u6d4b\uff1b \u57fa\u4e8e\u7279\u5b9a\u7684\u6f0f\u6d1e\u68c0\u6d4b\uff0c\u5982\uff1astruts2","title":"\u76ee\u524dWeb\u626b\u63cf\u5668\u80fd\u505a\u5230\u4ec0\u4e48\uff1f"},{"location":"application-security/web-security-scan/#web_3","text":"\u8bef\u62a5\u4e25\u91cd\uff0c\u4e5f\u5b58\u5728\u4e00\u5b9a\u7a0b\u5ea6\u7684\u6f0f\u62a5\uff0c\u4e3b\u8981\u662f\u7531\u4e8e\u626b\u63cf\u89c4\u5219\u5bfc\u81f4\uff1b \u4e0d\u80fd\u5b8c\u7f8e\u652f\u6301\u4e1a\u52a1\u903b\u8f91\u6f0f\u6d1e\u7684\u63a2\u6d4b\uff1b \u5bf9\u7cfb\u7edf\u9020\u6210\u810f\u6570\u636e\u3001\u670d\u52a1\u4e0d\u53ef\u7528\u7b49\u5b89\u5168\u98ce\u9669\uff1b","title":"\u76ee\u524dWeb\u626b\u63cf\u5668\u7684\u7f3a\u70b9\u662f\u4ec0\u4e48\uff1f"},{"location":"application-security/web-security-scan/#web_4","text":"\u9488\u5bf9\u626b\u63cf\u89c4\u5219\uff1a\u5b8c\u5584\u5e38\u89c4\u6f0f\u6d1e\u68c0\u6d4b\u89c4\u5219+\u4e1a\u52a1\u903b\u8f91\u6f0f\u6d1e\u6a21\u5f0f\uff08\u8fd9\u662f\u4e00\u4e2a\u4f53\u529b\u6d3b\uff09\uff1b \u9488\u5bf9\u626b\u63cf\u8bef\u62a5\u7387\uff1a\u53d1\u73b0\u6f0f\u6d1e\u8fdb\u884c\u4e8c\u6b21\u9a8c\u8bc1\uff0c\u5982\uff1aawvs+sqlmap\u9a8c\u8bc1sql\u6ce8\u5165\u6f0f\u6d1e\uff1b \u9488\u5bf9\u9020\u6210\u810f\u6570\u636e\uff1a\u4f7f\u7528\u626b\u63cf\u5668\u65f6\uff0c\u8fc7\u6ee4POST\u63d0\u4ea4\u53c2\u6570\u8bf7\u6c42\uff1b \u9488\u5bf9\u9020\u6210\u670d\u52a1\u4e0d\u53ef\u7528\uff1a\u5408\u7406\u9009\u62e9\u626b\u63cf\u7b56\u7565\uff0c\u907f\u5f00\u4e1a\u52a1\u9ad8\u5cf0\u671f\u626b\u63cf\uff1b","title":"\u5982\u4f55\u6539\u8fdbWeb\u626b\u63cf\u5668\u7684\u7f3a\u70b9\uff1f"},{"location":"application-security/web-security-scan/#web_5","text":"","title":"Web\u626b\u63cf\u5668\u7684\u5206\u7c7b"},{"location":"application-security/web-security-scan/#_1","text":"\u4e3b\u52a8\u626b\u63cf\uff1a\u901a\u8fc7\u722c\u866b\u83b7\u53d6URL\u4fe1\u606f\uff1b \u534a\u88ab\u52a8\u626b\u63cf\uff1a\u901a\u8fc7\u65e5\u5fd7\u83b7\u53d6URL\u4fe1\u606f\uff1b\u901a\u8fc7\u6d41\u91cf\u83b7\u53d6URL\u4fe1\u606f\uff1b\u901a\u8fc7\u4ee3\u7406\u83b7\u53d6URL\u4fe1\u606f\uff1b \u5168\u88ab\u52a8\u626b\u63cf\uff1a","title":"\u6839\u636e\u626b\u63cf\u884c\u4e3a\u5206\u7c7b"},{"location":"application-security/web-security-scan/#_2","text":"\u81ea\u52a8\u626b\u63cf\uff1a\u5b9a\u671f\u6267\u884c\u626b\u63cf\u53ef\u4ee5\u9009\u62e9\u5168\u91cf\u7b56\u7565\uff0c\u626b\u63cf\u65f6\u95f4\u8f83\u957f\u9700\u8981\u907f\u5f00\u4e1a\u52a1\u9ad8\u5cf0\u671f\uff1b \u624b\u52a8\u626b\u63cf\uff1a\u624b\u5de5\u6267\u884c\u626b\u63cf\uff0c\u9009\u62e9\u9488\u5bf9\u6027\u7684\u626b\u63cf\u7b56\u7565\uff1b","title":"\u6839\u636e\u626b\u63cf\u65b9\u5f0f\u5206\u7c7b"},{"location":"application-security/web-security-scan/#web_6","text":"\u7efc\u5408\u7b54\u6848\u662f\uff1a\u4e0d\u8981","title":"\u4f01\u4e1a\u662f\u5426\u9700\u8981\u81ea\u7814Web\u626b\u63cf\u5668\uff1f"},{"location":"application-security/web-security-scan/#_3","text":"\u5546\u7528\u626b\u63cf\u5668\u90fd\u662f\u901a\u7528\u578b\u7684\uff0c\u4e0d\u540c\u4f01\u4e1a\u5728\u90e8\u7f72\u65b9\u5f0f\u3001\u540e\u7eed\u670d\u52a1\u7b49\u65b9\u9762\u5b58\u5728\u517c\u5bb9\u6027\u95ee\u9898\u3002","title":"\u4e3a\u4ec0\u4e48\u5f88\u591a\u4f01\u4e1a\u89c9\u5f97\u9700\u8981\u81ea\u7814"},{"location":"application-security/web-security-scan/#web_7","text":"Web\u626b\u63cf\u5668\u81ea\u7814\u6210\u672c\u592a\u5927\uff0c\u96be\u70b9\u66f4\u591a\u5728\u4e8e\uff1a\u89c4\u5219\u7684\u7ef4\u62a4\u7b49\u3002","title":"\u4e3a\u4ec0\u4e48\u4e0d\u8981\u8f7b\u6613\u81ea\u7814Web\u626b\u63cf\u5668"},{"location":"application-security/web-security-scan/#api","text":"\u4e3a\u4e86\u89e3\u51b3\u4f01\u4e1a\u7cfb\u7edf\u591a\u4e1a\u52a1\u7e41\u6742\u7684Web\u626b\u63cf\uff0c\u66f4\u591a\u6211\u4eec\u5229\u7528API\u505a\u6210\u5206\u5e03\u5f0f\u961f\u5217\u7684\u5f62\u5f0f\u6765\u505a\u6210\u4e00\u4e2a\u626b\u63cf\u5668\u3002","title":"\u5229\u7528\u514d\u8d39\u6216\u7834\u89e3\u7684\u626b\u63cf\u5668API"},{"location":"application-security/web-security-scan/#_4","text":"\u4e2d\u901a\u5206\u5e03\u5f0f\u88ab\u52a8\u5b89\u5168\u626b\u63cf\u5b9e\u8df5","title":"\u53c2\u8003\u8d44\u6599"},{"location":"infrastructure-security/","text":"\u57fa\u7840\u8bbe\u65bd\u5b89\u5168 \u53c2\u8003\u8d44\u6599 \u4f01\u4e1a\u5b89\u5168\u5efa\u8bbe\u4e4b\u57fa\u7840\u5b89\u5168\u5efa\u8bbe","title":"\u57fa\u7840\u8bbe\u65bd\u5b89\u5168"},{"location":"infrastructure-security/#_1","text":"","title":"\u57fa\u7840\u8bbe\u65bd\u5b89\u5168"},{"location":"infrastructure-security/#_2","text":"\u4f01\u4e1a\u5b89\u5168\u5efa\u8bbe\u4e4b\u57fa\u7840\u5b89\u5168\u5efa\u8bbe","title":"\u53c2\u8003\u8d44\u6599"},{"location":"infrastructure-security/host-security/","text":"\u4e3b\u673a\u5b89\u5168","title":"\u4e3b\u673a\u5b89\u5168"},{"location":"infrastructure-security/host-security/#_1","text":"","title":"\u4e3b\u673a\u5b89\u5168"},{"location":"infrastructure-security/host-security/fortress-machine/jumpserver/","text":"jumpserver \u5f00\u6e90\u5821\u5792\u673a \u5b98\u7f51\u5730\u5740 \u5b89\u88c5\u4e0e\u4f7f\u7528 \u5b98\u65b9\u5b89\u88c5\u6587\u6863 Centos7\u5b89\u88c5Jumpserver # \u5173\u95ed\u9632\u706b\u5899\u4e0eSELinux systemctl disable firewalld.service systemctl stop firewalld.service vim /etc/selinux/config # \u4fee\u6539\u5b57\u7b26\u96c6\uff0c\u5426\u5219\u53ef\u80fd\u62a5 input/output error\u7684\u95ee\u9898\uff0c\u56e0\u4e3a\u65e5\u5fd7\u91cc\u6253\u5370\u4e86\u4e2d\u6587\u3002 localedef -c -f UTF-8 -i zh_CN zh_CN.UTF-8 export LC_ALL=zh_CN.UTF-8 echo 'LANG= zh_CN.UTF-8 ' /etc/locale.conf \u51c6\u5907python3\u548c\u865a\u62df\u73af\u5883 yum install epel-release gcc.x86_64 -y yum install python36.x86_64 python36-devel.x86_64 -y # \u5efa\u7acbpython\u865a\u62df\u73af\u5883 cd /opt/ python3.6 -m venv py3 source /opt/py3/bin/activate # \u81ea\u52a8\u8f7d\u5165python\u865a\u62df\u73af\u5883\u914d\u7f6e\uff08\u4e2a\u4eba\u89c9\u5f97\u6ca1\u6709\u5fc5\u8981\uff09 \u5b89\u88c5Jumpserver git clone https://github.com/jumpserver/jumpserver.git # \u89e3\u51b3\u73af\u5883\u4f9d\u8d56 cd /opt/jumpserver/requirements yum install $(cat rpm_requirements.txt) -y # rpm\u5305\u4f9d\u8d56 pip install --upgrade pip setuptools pip install -r requirements.txt # python\u5e93\u4f9d\u8d56 # \u5b89\u88c5Redis yum install redis.x86_64 -y systemctl start redis.service # \u5b89\u88c5MySQL yum install mariadb-devel.x86_64 mariadb-libs.x86_64 mariadb-server.x86_64 mariadb.x86_64 -y # \u914d\u7f6e\u6570\u636e\u5e93 # \u6570\u636e\u5e93\uff1ajumpserver create database jumpserver default charset 'utf8'; # \u4fee\u6539jumpserver\u914d\u7f6e\u6587\u4ef6 cd /opt/jumpserver/ cp config_example.py config.py # \u4fee\u6539\u6570\u636e\u5e93\u90e8\u5206\uff0c\u6309\u7167\u5b98\u7f51\u6765\u8fdb\u884c\u4fee\u6539 # \u521d\u59cb\u5316\u6570\u636e\u5e93 cd /opt/jumpserver/utils/ bash make_migrations.sh # \u8fd0\u884cJumpserver cd /opt/jumpserver ./jms start all # \u540e\u53f0\u8fd0\u884c\u6307\u5b9a-d\u53c2\u6570 # \u8bbf\u95ee\uff1aadmin/admin # \u6211\u8fd9\u91cc\u56e0\u4e3ajumpserver\u548cfreeipa\u5728\u540c\u4e00\u53f0\u670d\u52a1\u5668\u4e0a\uff0c\u4e3a\u4e86\u79ef\u6781\u7aef\u53e3\u51b2\u7a81\uff0c\u6211\u4fee\u6539\u4e3a8888\u7aef\u53e3 \u5907\u6ce8\uff1a\u914d\u7f6e\u6587\u4ef6\u4fee\u6539\u8bf4\u660e # \u6d4b\u8bd5\u4f7f\u7528\u53ef\u4ee5\u53ea\u4fee\u6539\u6570\u636e\u5e93\u914d\u7f6e\u90e8\u5206 # \u751f\u4ea7\u4f7f\u7528\u9700\u8981\u914d\u7f6e\u4ee5\u4e0b\u53c2\u6570\uff1a SECRET_KEY = '****' BOOTSTRAP_TOKEN = '*****' \u5b89\u88c5SSH Server \u548c WebSocket Server # \u6fc0\u6d3bpython3\u73af\u5883 cd /opt git clone https://github.com/jumpserver/coco.git # \u5b89\u88c5\u4f9d\u8d56 cd /opt/coco/requirements/ yum install $(cat rpm_requirements.txt) -y pip install -r requirements.txt # \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 cd /opt/coco mkdir keys logs cp conf_example.py conf.py vim conf.py # \u6309\u7167\u5b98\u7f51\u8fdb\u884c\u914d\u7f6e # \u8fd9\u91cc\u7684BOOTSTRAP_TOKEN\u8bb0\u5f97\u4e0ejumpserver\u7684BOOTSTRAP_TOKEN\u4e00\u81f4 # \u4e00\u5b9a\u8981\u4fee\u6539jumpserver\u7684\u5730\u5740 # \u542f\u52a8 cd /opt/coco/ ./cocod start # -d \u540e\u53f0\u8fd0\u884c # \u505c\u6b62\u4efb\u52a1 ./cocod stop # \u8bbf\u95eejumpserver\u63a5\u53d7coco\u6ce8\u518c\uff1a\u4f1a\u8bdd\u7ba1\u7406-\u7ec8\u7aef\u7ba1\u7406 # \u6d4b\u8bd5coco ssh -p 2222 admin@ipa.bloodzer0.com # \u5bc6\u7801\u5c31\u662fadmin\u7684\u5bc6\u7801 \u914d\u7f6e\u5f00\u673a\u81ea\u542f jumpserver sed -i s/START_TIMEOUT = 15/START_TIMEOUT = 40/g /opt/jumpserver/jms vim /usr/lib/systemd/system/jms.service [Unit] Description=jms After=network.target mariadb.service redis.service [Service] Type=forking Environment= PATH=/opt/py3/bin ExecStart=/opt/jumpserver/jms start all -d ExecReload= ExecStop=/opt/jumpserver/jms stop [Install] WantedBy=multi-user.target coco vim /usr/lib/systemd/system/coco.service [Unit] Description=coco After=network.target jms.service [Service] Type=forking Environment= PATH=/opt/py3/bin ExecStart=/opt/coco/cocod start -d ExecReload= ExecStop=/opt/coco/cocod stop [Install] WantedBy=multi-user.target \u7cfb\u7edf\u4f7f\u7528 \u7528\u6237\u7ba1\u7406 \u521b\u5efa\u7ba1\u7406\u7528\u6237\uff1a\u7ba1\u7406\u7528\u6237\u662f\u670d\u52a1\u5668\u7684 root,\u6216\u62e5\u6709 NOPASSWD: ALL sudo \u6743\u9650\u7684\u7528\u6237,Jumpserver \u4f7f\u7528\u8be5\u7528\u6237\u6765\u63a8\u9001\u7cfb\u7edf\u7528\u6237\u3001\u83b7\u53d6\u8d44\u4ea7\u786c\u4ef6\u4fe1\u606f\u7b49\u3002 \u521b\u5efa\u7cfb\u7edf\u7528\u6237\uff1a\u521b\u5efa\u4e00\u4e2a\u7cfb\u7edf\u7528\u6237\uff1a\u7cfb\u7edf\u7528\u6237\u662f Jumpserver \u8df3\u8f6c\u767b\u5f55\u8d44\u4ea7\u65f6\u4f7f\u7528\u7684\u7528\u6237,\u53ef\u4ee5\u7406\u89e3\u4e3a\u767b\u5f55\u8d44\u4ea7\u7528\u6237,\u5982 web, sa, dba\u3002\uff08\u6b64\u7528\u6237\u9700\u8981\u5728\u7cfb\u7edf\u521d\u59cb\u5316\u7684\u65f6\u5019\u5b89\u88c5\u597d\uff09 \u6dfb\u52a0\u666e\u901a\u7528\u6237\uff1a\u6b64\u7528\u6237\u7528\u4e8e\u767b\u5f55jumpserver LDAP\u914d\u7f6e freeipa\u5b89\u88c5 \u76f4\u63a5\u901a\u8fc7\u754c\u9762\u914d\u7f6e\uff1a\u7cfb\u7edf\u8bbe\u7f6e-LDAP\u8bbe\u7f6e LDAP\u5730\u5740\uff1aldap://ipa.bloodzer0.com:389 \u7ed1\u5b9aDN\uff1acn=users,cn=accounts,dc=bloodzer0,dc=com \u5bc6\u7801\uff1a# \u4f60\u8bbe\u7f6e\u7684LDAP\u5bc6\u7801 \u7528\u6237OU\uff1acn=users,cn=accounts,dc=bloodzer0,dc=com \u7528\u6237\u8fc7\u6ee4\u5668\uff1a(uid=%(user)s) LDAP\u5c5e\u6027\u6620\u5c04\uff1a{ username : uid , name : cn , email : mail } \u5728freeipa\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u7528\u6237\u5373\u4f7f\u7528\u8be5\u7528\u6237\u8fdb\u884cjumpserver\u8ba4\u8bc1\u3002","title":"jumpserver \u5f00\u6e90\u5821\u5792\u673a"},{"location":"infrastructure-security/host-security/fortress-machine/jumpserver/#jumpserver","text":"\u5b98\u7f51\u5730\u5740","title":"jumpserver \u5f00\u6e90\u5821\u5792\u673a"},{"location":"infrastructure-security/host-security/fortress-machine/jumpserver/#_1","text":"\u5b98\u65b9\u5b89\u88c5\u6587\u6863","title":"\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"infrastructure-security/host-security/fortress-machine/jumpserver/#centos7jumpserver","text":"# \u5173\u95ed\u9632\u706b\u5899\u4e0eSELinux systemctl disable firewalld.service systemctl stop firewalld.service vim /etc/selinux/config # \u4fee\u6539\u5b57\u7b26\u96c6\uff0c\u5426\u5219\u53ef\u80fd\u62a5 input/output error\u7684\u95ee\u9898\uff0c\u56e0\u4e3a\u65e5\u5fd7\u91cc\u6253\u5370\u4e86\u4e2d\u6587\u3002 localedef -c -f UTF-8 -i zh_CN zh_CN.UTF-8 export LC_ALL=zh_CN.UTF-8 echo 'LANG= zh_CN.UTF-8 ' /etc/locale.conf \u51c6\u5907python3\u548c\u865a\u62df\u73af\u5883 yum install epel-release gcc.x86_64 -y yum install python36.x86_64 python36-devel.x86_64 -y # \u5efa\u7acbpython\u865a\u62df\u73af\u5883 cd /opt/ python3.6 -m venv py3 source /opt/py3/bin/activate # \u81ea\u52a8\u8f7d\u5165python\u865a\u62df\u73af\u5883\u914d\u7f6e\uff08\u4e2a\u4eba\u89c9\u5f97\u6ca1\u6709\u5fc5\u8981\uff09 \u5b89\u88c5Jumpserver git clone https://github.com/jumpserver/jumpserver.git # \u89e3\u51b3\u73af\u5883\u4f9d\u8d56 cd /opt/jumpserver/requirements yum install $(cat rpm_requirements.txt) -y # rpm\u5305\u4f9d\u8d56 pip install --upgrade pip setuptools pip install -r requirements.txt # python\u5e93\u4f9d\u8d56 # \u5b89\u88c5Redis yum install redis.x86_64 -y systemctl start redis.service # \u5b89\u88c5MySQL yum install mariadb-devel.x86_64 mariadb-libs.x86_64 mariadb-server.x86_64 mariadb.x86_64 -y # \u914d\u7f6e\u6570\u636e\u5e93 # \u6570\u636e\u5e93\uff1ajumpserver create database jumpserver default charset 'utf8'; # \u4fee\u6539jumpserver\u914d\u7f6e\u6587\u4ef6 cd /opt/jumpserver/ cp config_example.py config.py # \u4fee\u6539\u6570\u636e\u5e93\u90e8\u5206\uff0c\u6309\u7167\u5b98\u7f51\u6765\u8fdb\u884c\u4fee\u6539 # \u521d\u59cb\u5316\u6570\u636e\u5e93 cd /opt/jumpserver/utils/ bash make_migrations.sh # \u8fd0\u884cJumpserver cd /opt/jumpserver ./jms start all # \u540e\u53f0\u8fd0\u884c\u6307\u5b9a-d\u53c2\u6570 # \u8bbf\u95ee\uff1aadmin/admin # \u6211\u8fd9\u91cc\u56e0\u4e3ajumpserver\u548cfreeipa\u5728\u540c\u4e00\u53f0\u670d\u52a1\u5668\u4e0a\uff0c\u4e3a\u4e86\u79ef\u6781\u7aef\u53e3\u51b2\u7a81\uff0c\u6211\u4fee\u6539\u4e3a8888\u7aef\u53e3 \u5907\u6ce8\uff1a\u914d\u7f6e\u6587\u4ef6\u4fee\u6539\u8bf4\u660e # \u6d4b\u8bd5\u4f7f\u7528\u53ef\u4ee5\u53ea\u4fee\u6539\u6570\u636e\u5e93\u914d\u7f6e\u90e8\u5206 # \u751f\u4ea7\u4f7f\u7528\u9700\u8981\u914d\u7f6e\u4ee5\u4e0b\u53c2\u6570\uff1a SECRET_KEY = '****' BOOTSTRAP_TOKEN = '*****'","title":"Centos7\u5b89\u88c5Jumpserver"},{"location":"infrastructure-security/host-security/fortress-machine/jumpserver/#ssh-server-websocket-server","text":"# \u6fc0\u6d3bpython3\u73af\u5883 cd /opt git clone https://github.com/jumpserver/coco.git # \u5b89\u88c5\u4f9d\u8d56 cd /opt/coco/requirements/ yum install $(cat rpm_requirements.txt) -y pip install -r requirements.txt # \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 cd /opt/coco mkdir keys logs cp conf_example.py conf.py vim conf.py # \u6309\u7167\u5b98\u7f51\u8fdb\u884c\u914d\u7f6e # \u8fd9\u91cc\u7684BOOTSTRAP_TOKEN\u8bb0\u5f97\u4e0ejumpserver\u7684BOOTSTRAP_TOKEN\u4e00\u81f4 # \u4e00\u5b9a\u8981\u4fee\u6539jumpserver\u7684\u5730\u5740 # \u542f\u52a8 cd /opt/coco/ ./cocod start # -d \u540e\u53f0\u8fd0\u884c # \u505c\u6b62\u4efb\u52a1 ./cocod stop # \u8bbf\u95eejumpserver\u63a5\u53d7coco\u6ce8\u518c\uff1a\u4f1a\u8bdd\u7ba1\u7406-\u7ec8\u7aef\u7ba1\u7406 # \u6d4b\u8bd5coco ssh -p 2222 admin@ipa.bloodzer0.com # \u5bc6\u7801\u5c31\u662fadmin\u7684\u5bc6\u7801","title":"\u5b89\u88c5SSH Server \u548c WebSocket Server"},{"location":"infrastructure-security/host-security/fortress-machine/jumpserver/#_2","text":"jumpserver sed -i s/START_TIMEOUT = 15/START_TIMEOUT = 40/g /opt/jumpserver/jms vim /usr/lib/systemd/system/jms.service [Unit] Description=jms After=network.target mariadb.service redis.service [Service] Type=forking Environment= PATH=/opt/py3/bin ExecStart=/opt/jumpserver/jms start all -d ExecReload= ExecStop=/opt/jumpserver/jms stop [Install] WantedBy=multi-user.target coco vim /usr/lib/systemd/system/coco.service [Unit] Description=coco After=network.target jms.service [Service] Type=forking Environment= PATH=/opt/py3/bin ExecStart=/opt/coco/cocod start -d ExecReload= ExecStop=/opt/coco/cocod stop [Install] WantedBy=multi-user.target","title":"\u914d\u7f6e\u5f00\u673a\u81ea\u542f"},{"location":"infrastructure-security/host-security/fortress-machine/jumpserver/#_3","text":"\u7528\u6237\u7ba1\u7406 \u521b\u5efa\u7ba1\u7406\u7528\u6237\uff1a\u7ba1\u7406\u7528\u6237\u662f\u670d\u52a1\u5668\u7684 root,\u6216\u62e5\u6709 NOPASSWD: ALL sudo \u6743\u9650\u7684\u7528\u6237,Jumpserver \u4f7f\u7528\u8be5\u7528\u6237\u6765\u63a8\u9001\u7cfb\u7edf\u7528\u6237\u3001\u83b7\u53d6\u8d44\u4ea7\u786c\u4ef6\u4fe1\u606f\u7b49\u3002 \u521b\u5efa\u7cfb\u7edf\u7528\u6237\uff1a\u521b\u5efa\u4e00\u4e2a\u7cfb\u7edf\u7528\u6237\uff1a\u7cfb\u7edf\u7528\u6237\u662f Jumpserver \u8df3\u8f6c\u767b\u5f55\u8d44\u4ea7\u65f6\u4f7f\u7528\u7684\u7528\u6237,\u53ef\u4ee5\u7406\u89e3\u4e3a\u767b\u5f55\u8d44\u4ea7\u7528\u6237,\u5982 web, sa, dba\u3002\uff08\u6b64\u7528\u6237\u9700\u8981\u5728\u7cfb\u7edf\u521d\u59cb\u5316\u7684\u65f6\u5019\u5b89\u88c5\u597d\uff09 \u6dfb\u52a0\u666e\u901a\u7528\u6237\uff1a\u6b64\u7528\u6237\u7528\u4e8e\u767b\u5f55jumpserver","title":"\u7cfb\u7edf\u4f7f\u7528"},{"location":"infrastructure-security/host-security/fortress-machine/jumpserver/#ldap","text":"freeipa\u5b89\u88c5 \u76f4\u63a5\u901a\u8fc7\u754c\u9762\u914d\u7f6e\uff1a\u7cfb\u7edf\u8bbe\u7f6e-LDAP\u8bbe\u7f6e LDAP\u5730\u5740\uff1aldap://ipa.bloodzer0.com:389 \u7ed1\u5b9aDN\uff1acn=users,cn=accounts,dc=bloodzer0,dc=com \u5bc6\u7801\uff1a# \u4f60\u8bbe\u7f6e\u7684LDAP\u5bc6\u7801 \u7528\u6237OU\uff1acn=users,cn=accounts,dc=bloodzer0,dc=com \u7528\u6237\u8fc7\u6ee4\u5668\uff1a(uid=%(user)s) LDAP\u5c5e\u6027\u6620\u5c04\uff1a{ username : uid , name : cn , email : mail } \u5728freeipa\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u7528\u6237\u5373\u4f7f\u7528\u8be5\u7528\u6237\u8fdb\u884cjumpserver\u8ba4\u8bc1\u3002","title":"LDAP\u914d\u7f6e"},{"location":"infrastructure-security/host-security/honeypot/","text":"\u871c\u7f50\u6280\u672f \u871c\u7f50\u53ef\u4ee5\u5b58\u5728\u4e8e\u5404\u79cd\u573a\u666f\u4e4b\u4e2d\uff08\u673a\u623f\u3001\u5185\u7f51\u3001\u4e91\u73af\u5883\uff09\uff1b \u871c\u7f50\u4ea7\u54c1\u7684\u601d\u8003\u5e94\u8be5\u662f\u5728\u9632\u706b\u5899\u3001\u5165\u4fb5\u68c0\u6d4b\u4e4b\u540e\uff0c\u5c5e\u4e8e\u63d0\u9ad8\u4f01\u4e1a\u5b89\u5168\u6c34\u5e73\u7684\u8f85\u52a9\u4ea7\u54c1\uff1b \u871c\u7f50\u4e3b\u8981\u90e8\u7f72\u5728\u4f01\u4e1a\u5185\u7f51\uff0c\u8d77\u5230\u9884\u8b66\u4e0e\u4e86\u89e3\u653b\u51fb\u4e2d\u5165\u4fb5\u7684\u60c5\u51b5\u7684\u4f5c\u7528\uff0c\u5982\uff1a\u53d1\u73b0\u5458\u5de5PC\u4e2d\u6bd2\u5bf9\u5185\u7f51\u7684\u5165\u4fb5\u3001\u8f6c\u79fb\u653b\u51fb\u8005\u6ce8\u610f\u529b\u7b49\u7b49\uff1b \u871c\u7f50\u4e0d\u80fd\u8bbe\u7f6e\u7684\u592a\u8fc7\u7b80\u5355\uff0c\u4e5f\u4e0d\u80fd\u8bbe\u7f6e\u592a\u8fc7\u590d\u6742\uff1b \u53c2\u8003\u8d44\u6599 \u5b89\u5168\u51b3\u7b56\u96be\u9898\uff1a\u90e8\u7f72\u871c\u7f50\u65f6\u9700\u8981\u505a\u51fa\u7684\u5341\u9879\u91cd\u8981\u5224\u65ad 10 decisions you'll face when deploying a honeypot \u4e3a\u4ec0\u4e48\u8fd9\u4e48\u591a\u521b\u4e1a\u516c\u53f8\u90fd\u5728\u505a\u201c\u871c\u7f50\u201d\uff1f\u4e5f\u8bb8\u8fd9\u7bc7\u6587\u7ae0\u80fd\u544a\u8bc9\u4f60 \u4f01\u4e1a\u5b89\u5168\u5efa\u8bbe\u2014\u6a21\u5757\u5316\u871c\u7f50\u5e73\u53f0\u7684\u8bbe\u8ba1\u601d\u8def\u4e0e\u60f3\u6cd5 \u91d1\u878d\u884c\u4e1a\u5fae\u871c\u7f50\u7cfb\u7edf\u5e94\u7528\u601d\u8003","title":"\u871c\u7f50\u6280\u672f"},{"location":"infrastructure-security/host-security/honeypot/#_1","text":"\u871c\u7f50\u53ef\u4ee5\u5b58\u5728\u4e8e\u5404\u79cd\u573a\u666f\u4e4b\u4e2d\uff08\u673a\u623f\u3001\u5185\u7f51\u3001\u4e91\u73af\u5883\uff09\uff1b \u871c\u7f50\u4ea7\u54c1\u7684\u601d\u8003\u5e94\u8be5\u662f\u5728\u9632\u706b\u5899\u3001\u5165\u4fb5\u68c0\u6d4b\u4e4b\u540e\uff0c\u5c5e\u4e8e\u63d0\u9ad8\u4f01\u4e1a\u5b89\u5168\u6c34\u5e73\u7684\u8f85\u52a9\u4ea7\u54c1\uff1b \u871c\u7f50\u4e3b\u8981\u90e8\u7f72\u5728\u4f01\u4e1a\u5185\u7f51\uff0c\u8d77\u5230\u9884\u8b66\u4e0e\u4e86\u89e3\u653b\u51fb\u4e2d\u5165\u4fb5\u7684\u60c5\u51b5\u7684\u4f5c\u7528\uff0c\u5982\uff1a\u53d1\u73b0\u5458\u5de5PC\u4e2d\u6bd2\u5bf9\u5185\u7f51\u7684\u5165\u4fb5\u3001\u8f6c\u79fb\u653b\u51fb\u8005\u6ce8\u610f\u529b\u7b49\u7b49\uff1b \u871c\u7f50\u4e0d\u80fd\u8bbe\u7f6e\u7684\u592a\u8fc7\u7b80\u5355\uff0c\u4e5f\u4e0d\u80fd\u8bbe\u7f6e\u592a\u8fc7\u590d\u6742\uff1b","title":"\u871c\u7f50\u6280\u672f"},{"location":"infrastructure-security/host-security/honeypot/#_2","text":"\u5b89\u5168\u51b3\u7b56\u96be\u9898\uff1a\u90e8\u7f72\u871c\u7f50\u65f6\u9700\u8981\u505a\u51fa\u7684\u5341\u9879\u91cd\u8981\u5224\u65ad 10 decisions you'll face when deploying a honeypot \u4e3a\u4ec0\u4e48\u8fd9\u4e48\u591a\u521b\u4e1a\u516c\u53f8\u90fd\u5728\u505a\u201c\u871c\u7f50\u201d\uff1f\u4e5f\u8bb8\u8fd9\u7bc7\u6587\u7ae0\u80fd\u544a\u8bc9\u4f60 \u4f01\u4e1a\u5b89\u5168\u5efa\u8bbe\u2014\u6a21\u5757\u5316\u871c\u7f50\u5e73\u53f0\u7684\u8bbe\u8ba1\u601d\u8def\u4e0e\u60f3\u6cd5 \u91d1\u878d\u884c\u4e1a\u5fae\u871c\u7f50\u7cfb\u7edf\u5e94\u7528\u601d\u8003","title":"\u53c2\u8003\u8d44\u6599"},{"location":"infrastructure-security/host-security/honeypot/mhn-honeypot/","text":"MHN\u871c\u7f50 MHN\uff08Modern Honey Network\uff09\uff1a\u5f00\u6e90\u871c\u7f50\uff0c\u7b80\u5316\u871c\u7f50\u7684\u90e8\u7f72\uff0c\u540c\u65f6\u4fbf\u4e8e\u6536\u96c6\u548c\u7edf\u8ba1\u871c\u7f50\u7684\u6570\u636e\u3002\u7528ThreatStream\u6765\u90e8\u7f72\uff0c\u6570\u636e\u5b58\u50a8\u5728MOngoDB\u4e2d\uff0c\u5b89\u88c5\u4e86\u5165\u4fb5\u68c0\u6d4b\u7cfb\u7edf\u7684\u90e8\u7f72\u4f20\u611f\u5668Snort\u3001Kippo\u3001Conpot\u548cDionaea\u3002\u6536\u96c6\u7684\u4fe1\u606f\u53ef\u4ee5\u901a\u8fc7Web\u63a5\u53e3\u8fdb\u884c\u5c55\u793a\u3002 github\u5730\u5740 \u652f\u6301\u871c\u7f50\u7c7b\u578b Snort Suricata Dionaea Conpot Kippo Amun Glastopf WordPot ShaockPot P0f MHN\u67b6\u6784 MHN\u5b89\u88c5\u4e0e\u4f7f\u7528 Ubuntu\u5b89\u88c5MHN # \u64cd\u4f5c\u7cfb\u7edf\uff1aubuntu16.04 # \u4e0b\u8f7d git clone https://github.com/threatstream/mhn.git # \u5b89\u88c5\u8fc7\u7a0b\u6709\u70b9\u4e45\uff0c\u9700\u8981\u5b89\u88c5\u5f88\u591a\u8f6f\u4ef6\u5305 cd mhn sudo ./install.sh # \u914d\u7f6e\u670d\u52a1\u5668\u4fe1\u606f\uff0c\u8fd9\u91cc\u7684\u90ae\u7bb1\u4e0e\u5bc6\u7801\u5c31\u662f\u5b89\u88c5\u5b8c\u6210\u540e\u7684Web\u540e\u53f0\u5bc6\u7801 # \u914d\u7f6esplunk\u4e0eELK\uff0c\u6211\u8fd9\u91cc\u9009\u62e9\u4e0d\u914d\u7f6e MHN\u914d\u7f6e \u90e8\u7f72\u871c\u7f50 \u5728Deploy\u9009\u9879\u4e2d\uff0c\u9009\u62e9\u6211\u4eec\u9700\u8981\u90e8\u7f72\u7684\u871c\u7f50\u7c7b\u578b\uff0c\u590d\u5236\u90e8\u7f72\u811a\u672c\u8fdb\u884c\u5b89\u88c5\u3002 \u96c6\u6210Splunk\u4e0eArcSight cd mhn/scripts/ sudo ./install_hpfeeds-logger-splunk.sh sudo ./install_hpfeeds-logger-arcsight.sh tail -f /var/log/mhn/mhn-splunk.log tail -f /var/log/mhn/mhn-arcsight.log \u7981\u6b62\u6570\u636e\u4e0a\u62a5 MHN Server\u4f1a\u9ed8\u8ba4\u5c06\u5206\u6790\u6570\u636e\u4e0a\u62a5\u7ed9Anomali\uff0c\u5982\u679c\u9700\u8981\u7981\u7528\u6b64\u914d\u7f6e\uff0c\u8fd0\u884c\u5982\u4e0b\u547d\u4ee4\uff1a cd mhn/scripts/ sudo ./disable_collector.sh \u5229\u7528MHN\u90e8\u7f72\u871c\u7f50 \u871c\u7f50\u6d4b\u8bd5 # \u871c\u7f50\u90e8\u7f72\u673a\u5668\uff1a10.10.10.5 # \u90e8\u7f72\u871c\u7f50\uff1adionaea wget http://10.10.10.8/api/script/?text=true script_id=4 -O deploy.sh sudo bash deploy.sh http://10.10.10.8 pp8D4gPI # \u5c1d\u8bd5\u66b4\u529b\u7834\u89e3\u653b\u51fb hydra -l root -P password.txt mssql://10.10.10.5 \u5fc3\u5f97\u4f53\u4f1a \u4f18\u70b9 \u5185\u7f6e\u96c6\u6210\u5927\u91cf\u7684\u871c\u7f50\u7cfb\u7edf\uff0c\u4e14\u63d0\u4f9b\u4e00\u952e\u90e8\u7f72\u871c\u7f50\u7684\u65b9\u5f0f\uff1b \u652f\u6301\u871c\u7f50\u653b\u51fb\u6548\u679c\u56fe\u5c55\u793a\uff0c\u4e0eArcSight\u6216Splunk\u96c6\u6210\u53cb\u597d\uff1b \u7f3a\u70b9 \u90e8\u7f72\u65f6\u95f4\u9700\u8981\u5f88\u957f\u65f6\u95f4\uff08\u4e0d\u7b97\u7f3a\u70b9\u5427\uff0c\u7f51\u901f\u7ed9\u529b\u60c5\u51b5\u4e0b\u4e0d\u5b58\u5728\u8fd9\u4e2a\u95ee\u9898\uff09\uff1b \u4e0d\u652f\u6301\u5bf9\u871c\u7f50\u7684\u96c6\u4e2d\u7ba1\u7406\uff1b \u53c2\u8003\u8d44\u6599 Build Your Own Honeypot Network In Under An Hour","title":"MHN\u871c\u7f50"},{"location":"infrastructure-security/host-security/honeypot/mhn-honeypot/#mhn","text":"MHN\uff08Modern Honey Network\uff09\uff1a\u5f00\u6e90\u871c\u7f50\uff0c\u7b80\u5316\u871c\u7f50\u7684\u90e8\u7f72\uff0c\u540c\u65f6\u4fbf\u4e8e\u6536\u96c6\u548c\u7edf\u8ba1\u871c\u7f50\u7684\u6570\u636e\u3002\u7528ThreatStream\u6765\u90e8\u7f72\uff0c\u6570\u636e\u5b58\u50a8\u5728MOngoDB\u4e2d\uff0c\u5b89\u88c5\u4e86\u5165\u4fb5\u68c0\u6d4b\u7cfb\u7edf\u7684\u90e8\u7f72\u4f20\u611f\u5668Snort\u3001Kippo\u3001Conpot\u548cDionaea\u3002\u6536\u96c6\u7684\u4fe1\u606f\u53ef\u4ee5\u901a\u8fc7Web\u63a5\u53e3\u8fdb\u884c\u5c55\u793a\u3002 github\u5730\u5740","title":"MHN\u871c\u7f50"},{"location":"infrastructure-security/host-security/honeypot/mhn-honeypot/#_1","text":"Snort Suricata Dionaea Conpot Kippo Amun Glastopf WordPot ShaockPot P0f","title":"\u652f\u6301\u871c\u7f50\u7c7b\u578b"},{"location":"infrastructure-security/host-security/honeypot/mhn-honeypot/#mhn_1","text":"","title":"MHN\u67b6\u6784"},{"location":"infrastructure-security/host-security/honeypot/mhn-honeypot/#mhn_2","text":"","title":"MHN\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"infrastructure-security/host-security/honeypot/mhn-honeypot/#ubuntumhn","text":"# \u64cd\u4f5c\u7cfb\u7edf\uff1aubuntu16.04 # \u4e0b\u8f7d git clone https://github.com/threatstream/mhn.git # \u5b89\u88c5\u8fc7\u7a0b\u6709\u70b9\u4e45\uff0c\u9700\u8981\u5b89\u88c5\u5f88\u591a\u8f6f\u4ef6\u5305 cd mhn sudo ./install.sh # \u914d\u7f6e\u670d\u52a1\u5668\u4fe1\u606f\uff0c\u8fd9\u91cc\u7684\u90ae\u7bb1\u4e0e\u5bc6\u7801\u5c31\u662f\u5b89\u88c5\u5b8c\u6210\u540e\u7684Web\u540e\u53f0\u5bc6\u7801 # \u914d\u7f6esplunk\u4e0eELK\uff0c\u6211\u8fd9\u91cc\u9009\u62e9\u4e0d\u914d\u7f6e","title":"Ubuntu\u5b89\u88c5MHN"},{"location":"infrastructure-security/host-security/honeypot/mhn-honeypot/#mhn_3","text":"\u90e8\u7f72\u871c\u7f50 \u5728Deploy\u9009\u9879\u4e2d\uff0c\u9009\u62e9\u6211\u4eec\u9700\u8981\u90e8\u7f72\u7684\u871c\u7f50\u7c7b\u578b\uff0c\u590d\u5236\u90e8\u7f72\u811a\u672c\u8fdb\u884c\u5b89\u88c5\u3002 \u96c6\u6210Splunk\u4e0eArcSight cd mhn/scripts/ sudo ./install_hpfeeds-logger-splunk.sh sudo ./install_hpfeeds-logger-arcsight.sh tail -f /var/log/mhn/mhn-splunk.log tail -f /var/log/mhn/mhn-arcsight.log \u7981\u6b62\u6570\u636e\u4e0a\u62a5 MHN Server\u4f1a\u9ed8\u8ba4\u5c06\u5206\u6790\u6570\u636e\u4e0a\u62a5\u7ed9Anomali\uff0c\u5982\u679c\u9700\u8981\u7981\u7528\u6b64\u914d\u7f6e\uff0c\u8fd0\u884c\u5982\u4e0b\u547d\u4ee4\uff1a cd mhn/scripts/ sudo ./disable_collector.sh","title":"MHN\u914d\u7f6e"},{"location":"infrastructure-security/host-security/honeypot/mhn-honeypot/#mhn_4","text":"","title":"\u5229\u7528MHN\u90e8\u7f72\u871c\u7f50"},{"location":"infrastructure-security/host-security/honeypot/mhn-honeypot/#_2","text":"# \u871c\u7f50\u90e8\u7f72\u673a\u5668\uff1a10.10.10.5 # \u90e8\u7f72\u871c\u7f50\uff1adionaea wget http://10.10.10.8/api/script/?text=true script_id=4 -O deploy.sh sudo bash deploy.sh http://10.10.10.8 pp8D4gPI # \u5c1d\u8bd5\u66b4\u529b\u7834\u89e3\u653b\u51fb hydra -l root -P password.txt mssql://10.10.10.5","title":"\u871c\u7f50\u6d4b\u8bd5"},{"location":"infrastructure-security/host-security/honeypot/mhn-honeypot/#_3","text":"","title":"\u5fc3\u5f97\u4f53\u4f1a"},{"location":"infrastructure-security/host-security/honeypot/mhn-honeypot/#_4","text":"\u5185\u7f6e\u96c6\u6210\u5927\u91cf\u7684\u871c\u7f50\u7cfb\u7edf\uff0c\u4e14\u63d0\u4f9b\u4e00\u952e\u90e8\u7f72\u871c\u7f50\u7684\u65b9\u5f0f\uff1b \u652f\u6301\u871c\u7f50\u653b\u51fb\u6548\u679c\u56fe\u5c55\u793a\uff0c\u4e0eArcSight\u6216Splunk\u96c6\u6210\u53cb\u597d\uff1b","title":"\u4f18\u70b9"},{"location":"infrastructure-security/host-security/honeypot/mhn-honeypot/#_5","text":"\u90e8\u7f72\u65f6\u95f4\u9700\u8981\u5f88\u957f\u65f6\u95f4\uff08\u4e0d\u7b97\u7f3a\u70b9\u5427\uff0c\u7f51\u901f\u7ed9\u529b\u60c5\u51b5\u4e0b\u4e0d\u5b58\u5728\u8fd9\u4e2a\u95ee\u9898\uff09\uff1b \u4e0d\u652f\u6301\u5bf9\u871c\u7f50\u7684\u96c6\u4e2d\u7ba1\u7406\uff1b","title":"\u7f3a\u70b9"},{"location":"infrastructure-security/host-security/honeypot/mhn-honeypot/#_6","text":"Build Your Own Honeypot Network In Under An Hour","title":"\u53c2\u8003\u8d44\u6599"},{"location":"infrastructure-security/host-security/host-security-scan/","text":"\u4e3b\u673a\u5b89\u5168\u626b\u63cf \u9488\u5bf9\u4e3b\u673a\u5b89\u5168\u626b\u63cf\u4e3b\u8981\u5305\u62ec\uff1a\u7aef\u53e3\u5f00\u653e\u626b\u63cf\u4e0e\u8bbf\u95ee\u63a7\u5236\u626b\u63cf\u3001\u6f0f\u6d1e\u626b\u63cf\u4e0e\u5f31\u53e3\u4ee4\u626b\u63cf\u3002 \u9488\u5bf9\u4f01\u4e1a\u5185\u90e8\u5b89\u5168\u626b\u63cf\u5e94\u8be5\u5206\u4e3a\u4e24\u79cd\u7c7b\u578b\uff1a\u5185\u90e8\u626b\u63cf\u4e0e\u5916\u90e8\u626b\u63cf\uff0c\u8fd9\u91cc\u7684\u5185\u5316\u5212\u5206\u5e94\u8be5\u662f\u7f51\u7edc\u5206\u754c\u7684\u5212\u5206\uff1b\u5185\u90e8\u626b\u63cf\u4e3b\u8981\u7528\u4e8e\u53d1\u73b0\u5185\u90e8\u7684\u5b89\u5168\u9690\u60a3\uff0c\u5916\u90e8\u626b\u63cf\u4e3b\u8981\u662f\u7ad9\u5728\u653b\u51fb\u8005\u7684\u89d2\u5ea6\u53d1\u73b0\u5b89\u5168\u9690\u60a3\u3002 \u6f0f\u6d1e\u626b\u63cf\u5de5\u5177 Nessus Nessus\u4e0b\u8f7d\u5730\u5740 Nessus\u6ce8\u518c\u5730\u5740 Centos7 \u5b89\u88c5nessus # \u4e0b\u8f7drpm\u5305\u8fdb\u884c\u5b89\u88c5 #\u542f\u52a8\u670d\u52a1 systemctl start nessusd.service # \u6fc0\u6d3b /opt/nessus/sbin/nessuscli fetch --register ****-****-****-****-**** # \u6ce8\u518c\u7528\u6237 /opt/nessus/sbin/nessuscli adduser # \u8bbf\u95ee\uff1ahttps://localhost:8834 \u5982\u679c\u7f51\u7edc\u5f88\u5dee\uff0c\u4e5f\u53ef\u4ee5\u8fdb\u884c\u79bb\u7ebf\u66f4\u65b0\u5b89\u88c5\u5305\uff1a \u5b98\u65b9\u6587\u6863 # \u751f\u6210licenses # https://plugins.nessus.org/v2/offline.php /opt/nessus/sbin/nessuscli fetch --challenge # \u590d\u5236\u751f\u6210\u7684code\u4e0e\u6ce8\u518c\u7801\uff0c\u8fdb\u884c\u751f\u6210\u4f1a\u751f\u6210\u4e0b\u8f7d\u5730\u5740\u548clicenses\u6587\u4ef6\uff0c\u8fdb\u884c\u6ce8\u518c /opt/nessus/sbin/nessuscli fetch --register-offline nessus.license # \u91cd\u542fnessus systemctl restart nessusd.service # \u8bbf\u95ee\uff0c\u4f7f\u7528\u8d26\u53f7\u5bc6\u7801\u767b\u5f55 # \u66f4\u65b0\u63d2\u4ef6 /opt/nessus/sbin/nessuscli update all-2.0.tar.gz OpenVAS \u5b98\u7f51\u5730\u5740 \u4e0d\u63a8\u8350\u4f7f\u7528\u3002 \u5f31\u53e3\u4ee4\u626b\u63cf \u5f31\u53e3\u4ee4\u626b\u63cf\u4e5f\u662f\u6f0f\u6d1e\u626b\u63cf\u7684\u4e00\u79cd\uff0c\u53ea\u4e0d\u8fc7\u5f31\u53e3\u4ee4\u626b\u63cf\u7b97\u662f\u6bd4\u8f83\u7279\u6b8a\u7684\u4e00\u7c7b\u6f0f\u6d1e\u3002 \u5f31\u53e3\u4ee4\u626b\u63cf\u5de5\u5177 hydra centos7 \u5b89\u88c5 hydra\uff1a Linux\u7248\u672c yum install epel-release -y yum install hydra.x86_64 -y windows \u5b89\u88c5 hydra\uff1a hydra Windows\u7248\u672c hydra \u5e38\u7528\u547d\u4ee4 hydra -l user -P passlist.txt ftp://192.168.0.1 hydra -L user.txt -P pass.txt protocol://ip medusa \u4e0ehydra\u7c7b\u4f3c\u7684\u5de5\u5177\uff0c\u4f7f\u7528\u65b9\u5f0f\u4e5f\u7c7b\u4f3c\u3002 x-scan bruter \u4e0b\u8f7d\u5730\u5740 \u53c2\u8003\u8d44\u6599","title":"\u4e3b\u673a\u5b89\u5168\u626b\u63cf"},{"location":"infrastructure-security/host-security/host-security-scan/#_1","text":"\u9488\u5bf9\u4e3b\u673a\u5b89\u5168\u626b\u63cf\u4e3b\u8981\u5305\u62ec\uff1a\u7aef\u53e3\u5f00\u653e\u626b\u63cf\u4e0e\u8bbf\u95ee\u63a7\u5236\u626b\u63cf\u3001\u6f0f\u6d1e\u626b\u63cf\u4e0e\u5f31\u53e3\u4ee4\u626b\u63cf\u3002 \u9488\u5bf9\u4f01\u4e1a\u5185\u90e8\u5b89\u5168\u626b\u63cf\u5e94\u8be5\u5206\u4e3a\u4e24\u79cd\u7c7b\u578b\uff1a\u5185\u90e8\u626b\u63cf\u4e0e\u5916\u90e8\u626b\u63cf\uff0c\u8fd9\u91cc\u7684\u5185\u5316\u5212\u5206\u5e94\u8be5\u662f\u7f51\u7edc\u5206\u754c\u7684\u5212\u5206\uff1b\u5185\u90e8\u626b\u63cf\u4e3b\u8981\u7528\u4e8e\u53d1\u73b0\u5185\u90e8\u7684\u5b89\u5168\u9690\u60a3\uff0c\u5916\u90e8\u626b\u63cf\u4e3b\u8981\u662f\u7ad9\u5728\u653b\u51fb\u8005\u7684\u89d2\u5ea6\u53d1\u73b0\u5b89\u5168\u9690\u60a3\u3002","title":"\u4e3b\u673a\u5b89\u5168\u626b\u63cf"},{"location":"infrastructure-security/host-security/host-security-scan/#_2","text":"Nessus Nessus\u4e0b\u8f7d\u5730\u5740 Nessus\u6ce8\u518c\u5730\u5740 Centos7 \u5b89\u88c5nessus # \u4e0b\u8f7drpm\u5305\u8fdb\u884c\u5b89\u88c5 #\u542f\u52a8\u670d\u52a1 systemctl start nessusd.service # \u6fc0\u6d3b /opt/nessus/sbin/nessuscli fetch --register ****-****-****-****-**** # \u6ce8\u518c\u7528\u6237 /opt/nessus/sbin/nessuscli adduser # \u8bbf\u95ee\uff1ahttps://localhost:8834 \u5982\u679c\u7f51\u7edc\u5f88\u5dee\uff0c\u4e5f\u53ef\u4ee5\u8fdb\u884c\u79bb\u7ebf\u66f4\u65b0\u5b89\u88c5\u5305\uff1a \u5b98\u65b9\u6587\u6863 # \u751f\u6210licenses # https://plugins.nessus.org/v2/offline.php /opt/nessus/sbin/nessuscli fetch --challenge # \u590d\u5236\u751f\u6210\u7684code\u4e0e\u6ce8\u518c\u7801\uff0c\u8fdb\u884c\u751f\u6210\u4f1a\u751f\u6210\u4e0b\u8f7d\u5730\u5740\u548clicenses\u6587\u4ef6\uff0c\u8fdb\u884c\u6ce8\u518c /opt/nessus/sbin/nessuscli fetch --register-offline nessus.license # \u91cd\u542fnessus systemctl restart nessusd.service # \u8bbf\u95ee\uff0c\u4f7f\u7528\u8d26\u53f7\u5bc6\u7801\u767b\u5f55 # \u66f4\u65b0\u63d2\u4ef6 /opt/nessus/sbin/nessuscli update all-2.0.tar.gz OpenVAS \u5b98\u7f51\u5730\u5740 \u4e0d\u63a8\u8350\u4f7f\u7528\u3002","title":"\u6f0f\u6d1e\u626b\u63cf\u5de5\u5177"},{"location":"infrastructure-security/host-security/host-security-scan/#_3","text":"\u5f31\u53e3\u4ee4\u626b\u63cf\u4e5f\u662f\u6f0f\u6d1e\u626b\u63cf\u7684\u4e00\u79cd\uff0c\u53ea\u4e0d\u8fc7\u5f31\u53e3\u4ee4\u626b\u63cf\u7b97\u662f\u6bd4\u8f83\u7279\u6b8a\u7684\u4e00\u7c7b\u6f0f\u6d1e\u3002","title":"\u5f31\u53e3\u4ee4\u626b\u63cf"},{"location":"infrastructure-security/host-security/host-security-scan/#_4","text":"hydra centos7 \u5b89\u88c5 hydra\uff1a Linux\u7248\u672c yum install epel-release -y yum install hydra.x86_64 -y windows \u5b89\u88c5 hydra\uff1a hydra Windows\u7248\u672c hydra \u5e38\u7528\u547d\u4ee4 hydra -l user -P passlist.txt ftp://192.168.0.1 hydra -L user.txt -P pass.txt protocol://ip medusa \u4e0ehydra\u7c7b\u4f3c\u7684\u5de5\u5177\uff0c\u4f7f\u7528\u65b9\u5f0f\u4e5f\u7c7b\u4f3c\u3002 x-scan bruter \u4e0b\u8f7d\u5730\u5740","title":"\u5f31\u53e3\u4ee4\u626b\u63cf\u5de5\u5177"},{"location":"infrastructure-security/host-security/host-security-scan/#_5","text":"","title":"\u53c2\u8003\u8d44\u6599"},{"location":"infrastructure-security/host-security/host-security-scan/open-source-scanner/","text":"\u5f00\u6e90\u626b\u63cf\u5668 \u5de1\u98ce github\u5730\u5740 \u4f0f\u7fb2 github\u5730\u5740","title":"\u5f00\u6e90\u626b\u63cf\u5668"},{"location":"infrastructure-security/host-security/host-security-scan/open-source-scanner/#_1","text":"","title":"\u5f00\u6e90\u626b\u63cf\u5668"},{"location":"infrastructure-security/host-security/host-security-scan/open-source-scanner/#_2","text":"github\u5730\u5740","title":"\u5de1\u98ce"},{"location":"infrastructure-security/host-security/host-security-scan/open-source-scanner/#_3","text":"github\u5730\u5740","title":"\u4f0f\u7fb2"},{"location":"infrastructure-security/host-security/host-security-scan/port/","text":"\u7aef\u53e3\u5b89\u5168 \u4e00\u7bc7\u8001\u6587\u7ae0\uff0c\u56de\u7089\u6539\u9020\u4e00\u4e0b\uff1a \u7aef\u53e3\u6e17\u900f\u603b\u7ed3 \u7aef\u53e3\u4ecb\u7ecd \u7aef\u53e3 \u670d\u52a1 20 ftp\u6570\u636e\u7aef\u53e3 21 ftp\u63a7\u5236\u7aef\u53e3 22 ssh 23 telnet 25 smtp 53 dns 67-68 dhcp 69 tftp\u5c0f\u578b\u6587\u4ef6\u4f20\u8f93 80-89 Web 109-110 pop2\u3001pop3 137 NetBIOS Name Service NetBIOS\u540d\u79f0\u670d\u52a1 139 NetBIOS Session Service \u63d0\u4f9bSamba 143 imap 161 snmp 210 Oracle XDB FTP 389 ldap 443 Web 465 smtps 512-514 Linux R 546 dhcp failover\u53cc\u673a\u70ed\u5907 873 rsync 993 imaps 995 pop3s 1080 \u4ee3\u7406 1090-1099 JBoss 1158 Oracle EMCTL 1352 Lotus 1433-1434 MSSQL 1521 Oracle 2049 nfs 2181 zookeeper 2222 ssh 2888 zookeeper\u96c6\u7fa4\u5185\u901a\u8baf 3306-3308 MySQL 3389 rdp Windows\u8fdc\u7a0b\u8fde\u63a5 3700 GlassFish IIOP 3888 zookeeper\u9009\u4e3eLeader 4040 4100 SysBase\u76d1\u542c\u7aef\u53e3 4200 SysBase\u5907\u4efd\u7aef\u53e3 4444-4445 4848 GlassFish\u63a7\u5236\u53f0 5000 SysBase\u3001DB2 5006 5432 PostgreSQL 5601 Kibana 5632 PyAnyWhere 5900-5905 VNC (\u6700\u540e\u4e00\u4f4d\u4ee3\u8868\u684c\u9762ID) 6379 Redis 7001 WebLogic\u63a7\u5236\u53f0 7077 7180-7182 8000-8099 Axis2\u3001Tomcat\u3001JBoss\u3001GlassFish\u3001Jenkins\u3001Resin\u3001Jetty\u3001zabbix 8019 ZKFC 8020 \u9ad8\u53ef\u7528\u7684HDFS RPC 8088 Yarn Web UI 8480 8485 JournalNode\u7684RPC 8888 Web 9000 \u975e\u9ad8\u53ef\u7528\u7684HDFS RPC 9080-9090 WebSphere\u63a7\u5236\u53f0\u4e0e\u5e94\u7528 9083 Hive metastore\u9ed8\u8ba4\u76d1\u542c 9092 Kafka\u96c6\u7fa4\u8282\u70b9\u95f4\u901a\u4fe1 9200 elasticsearch 9300 elasticsearch 9418 10000 10020 11211 memcache 18080 19888 27017 MongoDB 50070 HDFS Web UI 50010-50090 Hadoop 60010 HBase master\u7684Web UI 60030 HBase regionServer\u7684Web UI \u7aef\u53e3\u626b\u63cf \u5e38\u89c1\u7684\u7aef\u53e3\u626b\u63cf\u5217\u8868\uff1a 20-25,53,67-69,80-89,109-110,137-139,143,161,210,389,443,465,512-514,546,873,993-995,1080,1090-1099,1158,1352,1433-1434,1521,2049,2181,2222,2888,3306-3308,3389,3690,3700,3888,4040,4100,4200,4444-4445,4848,5000,5006,5432,5601,5632,5900-5905,6379,7001,7077,7180-7182,8000-8099,8480,8485,8888,9000,9080-9090,9092,9200,9300,9418,10000,10020,11211,18080,19888,27017-27019,50010-50090,50470,50475,60000,60010,60020,60030 \u7aef\u53e3\u626b\u63cf\u601d\u8def \u4e3b\u673a\u5b58\u6d3b\u6027\u626b\u63cf\uff1a\u5229\u7528nmap\u8fdb\u884c\u4e3b\u673a\u5b58\u6d3b\u6027\u63a2\u6d4b\uff1b \u5b58\u6d3b\u6027\u4e3b\u673a\u7aef\u53e3\u5f00\u653e\u626b\u63cf\uff1a\u5229\u7528masscan\u5bf9\u4e0a\u4e00\u6b65\u5224\u65ad\u5b58\u6d3b\u7684\u4e3b\u673a\u8fdb\u884c\u5168\u7aef\u53e3\u5f00\u653e\u6027\u626b\u63cf\uff1b \u5229\u7528\u7f51\u7edc\u670d\u52a1\u63a2\u6d4b\u7aef\u53e3\uff1a\u5229\u7528\u5982\uff1ashodan\u7b49\u7f51\u7edc\u670d\u52a1\u63a2\u6d4b\u4e3b\u673a\u7aef\u53e3\uff1b \u7aef\u53e3\u670d\u52a1\u626b\u63cf\uff1a\u5229\u7528nmap\u5bf9\u5f00\u653e\u7684\u7aef\u53e3\u8fdb\u884c\u670d\u52a1\u63a2\u6d4b\uff1b \u626b\u63cf\u7ed3\u679c\u5165\u5e93\uff1a\u5bf9\u626b\u63cf\u540e\u7684\u7ed3\u679c\u63d0\u53d6\u6211\u4eec\u9700\u8981\u7684\u5b57\u6bb5\u5b58\u5165\u6570\u636e\u5e93\u4e2d\u8fdb\u884c\u5c55\u793a\uff1b \u5176\u5b83\u65b9\u5f0f \u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b\u83b7\u53d6\u7aef\u53e3\u5f00\u653e\u4fe1\u606f\uff1a\u6b64\u4fe1\u606f\u4e0d\u7cbe\u81f4\uff0c\u56e0\u4e3a\u9488\u5bf9\u5916\u90e8\u653b\u51fb\u8005\u4e3b\u673a\u5f00\u653e\u7684\u7aef\u53e3\u5e76\u4e0d\u4e00\u5b9a\u5168\u90e8\u5bf9\u5916\u5f00\u653e\uff1b masscan github\u5730\u5740 ubuntu/debian \u5b89\u88c5 masscan sudo apt-get install git gcc make libpcap-dev git clone https://github.com/robertdavidgraham/masscan cd masscan make centos7 \u5b89\u88c5 masscan # \u4e0b\u8f7d\u5730\u5740\uff1ahttps://pkgs.org/download/masscan # \u5229\u7528\u4e0b\u8f7d\u7684RPM\u5305\u76f4\u63a5\u8fdb\u884c\u5b89\u88c5 wget http://dl.fedoraproject.org/pub/epel/7/x86_64/Packages/m/masscan-1.0.3-5.el7.x86_64.rpm yum install libpcap-devel.x86_64 -y rpm -ivh masscan-1.0.3-5.el7.x86_64.rpm # yum\u8fdb\u884c\u5b89\u88c5 vim /etc/yum.repos.d/nux-misc.repo [nux-misc] name=Nux Misc baseurl=http://li.nux.ro/download/nux/misc/el7/x86_64/ enabled=0 gpgcheck=1 gpgkey=http://li.nux.ro/download/nux/RPM-GPG-KEY-nux.ro # \u5b89\u88c5 yum --enablerepo=nux-misc install masscan mac\u5b89\u88c5masscan \u5b98\u7f51\u5730\u5740 ruby -e $(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install) /dev/null 2 /dev/null brew install masscan masscan\u626b\u63cf def port_masscan(): command = masscan -p20-25,53,67-69,80-89,109-111,137-139,143,161,210,389,443,465,512-514,546,873,993-995, \\ 1080,1090-1099,1158,1352,1433-1434,1521,2049,2181,2222,2888,3306-3308,3389,3690,3700,3888,4040,4100,4200, \\ 4444-4445,4848,5000,5006,5432,5601,5632,5900-5905,6379,7001,7077,7180-7182,8000-8099,8480,8485,8888,9000, \\ 9080-9090,9092,9200,9300,9418,10000,10020,11211,18080,19888,27017-27019,50010-50090,50470,50475,60000,60010,60020,60030 \\ --rate=50 -iL tmp/ip_tmp.txt -oX tmp/output.xml os.popen(command) nmap centos7\u5b89\u88c5nmap yum install nmap.x86_64 -y nmap\u5e38\u7528\u547d\u4ee4 nmap -sS -sV -p1-65535 --max-scan-delay 10 --max-retries 2 -T4 --min-rate 300 --open nmap\u626b\u63cf import nmap nm = nmap.PortScanner() def port_scan(ip,port): try: nm.scan(ip,str(port),arguments='-sV -Pn -T4 --max-rate 1000 --max-retries 1 --max-rtt-timeout 100ms --open') service = nm[ip]['tcp'][int(port)]['product'] version = nm[ip]['tcp'][int(port)]['version'] print ip,port,service,version except Exception as e: print e zmap \u4e0d\u63a8\u8350\u4f7f\u7528 github\u5730\u5740 centos7\u5b89\u88c5zmap yum install zmap.x86_64 -y \u7aef\u53e3\u5e38\u89c1\u653b\u51fb\u65b9\u5f0f \u66b4\u529b\u7834\u89e3\u6cd5 hydra\u6ee1\u8db3\u5e38\u89c1\u7684\u670d\u52a1\u66b4\u529b\u7834\u89e3\uff0c\u4f46\u662f\u9700\u8981\u6ce8\u610f\u7684\u662f\u73b0\u5728\u5f88\u591a\u670d\u52a1\u90fd\u9ed8\u8ba4\u652f\u6301\u7206\u7834\u9632\u5fa1\u3002 \u7aef\u53e3\u6f0f\u6d1e\u6cd5 \u6301\u7eed\u66f4\u65b0 \u7aef\u53e3+\u670d\u52a1+\u7248\u672c \u6f0f\u6d1e\u8be6\u60c5 \u53c2\u8003\u8d44\u6599 \u5927\u6570\u636e\u7ec4\u4ef6\u5e38\u7528\u7aef\u53e3\u603b\u7ed3\uff08\u4e0d\u65ad\u66f4\u65b0\uff09 \u5927\u6570\u636e\u5e38\u89c1\u7aef\u53e3\u6c47\u603b-hadoop\u3001hbase\u3001hive\u3001spark\u3001kafka\u3001zookeeper\u7b49\uff08\u6301\u7eed\u66f4\u65b0\uff09","title":"\u7aef\u53e3\u5b89\u5168"},{"location":"infrastructure-security/host-security/host-security-scan/port/#_1","text":"\u4e00\u7bc7\u8001\u6587\u7ae0\uff0c\u56de\u7089\u6539\u9020\u4e00\u4e0b\uff1a \u7aef\u53e3\u6e17\u900f\u603b\u7ed3","title":"\u7aef\u53e3\u5b89\u5168"},{"location":"infrastructure-security/host-security/host-security-scan/port/#_2","text":"\u7aef\u53e3 \u670d\u52a1 20 ftp\u6570\u636e\u7aef\u53e3 21 ftp\u63a7\u5236\u7aef\u53e3 22 ssh 23 telnet 25 smtp 53 dns 67-68 dhcp 69 tftp\u5c0f\u578b\u6587\u4ef6\u4f20\u8f93 80-89 Web 109-110 pop2\u3001pop3 137 NetBIOS Name Service NetBIOS\u540d\u79f0\u670d\u52a1 139 NetBIOS Session Service \u63d0\u4f9bSamba 143 imap 161 snmp 210 Oracle XDB FTP 389 ldap 443 Web 465 smtps 512-514 Linux R 546 dhcp failover\u53cc\u673a\u70ed\u5907 873 rsync 993 imaps 995 pop3s 1080 \u4ee3\u7406 1090-1099 JBoss 1158 Oracle EMCTL 1352 Lotus 1433-1434 MSSQL 1521 Oracle 2049 nfs 2181 zookeeper 2222 ssh 2888 zookeeper\u96c6\u7fa4\u5185\u901a\u8baf 3306-3308 MySQL 3389 rdp Windows\u8fdc\u7a0b\u8fde\u63a5 3700 GlassFish IIOP 3888 zookeeper\u9009\u4e3eLeader 4040 4100 SysBase\u76d1\u542c\u7aef\u53e3 4200 SysBase\u5907\u4efd\u7aef\u53e3 4444-4445 4848 GlassFish\u63a7\u5236\u53f0 5000 SysBase\u3001DB2 5006 5432 PostgreSQL 5601 Kibana 5632 PyAnyWhere 5900-5905 VNC (\u6700\u540e\u4e00\u4f4d\u4ee3\u8868\u684c\u9762ID) 6379 Redis 7001 WebLogic\u63a7\u5236\u53f0 7077 7180-7182 8000-8099 Axis2\u3001Tomcat\u3001JBoss\u3001GlassFish\u3001Jenkins\u3001Resin\u3001Jetty\u3001zabbix 8019 ZKFC 8020 \u9ad8\u53ef\u7528\u7684HDFS RPC 8088 Yarn Web UI 8480 8485 JournalNode\u7684RPC 8888 Web 9000 \u975e\u9ad8\u53ef\u7528\u7684HDFS RPC 9080-9090 WebSphere\u63a7\u5236\u53f0\u4e0e\u5e94\u7528 9083 Hive metastore\u9ed8\u8ba4\u76d1\u542c 9092 Kafka\u96c6\u7fa4\u8282\u70b9\u95f4\u901a\u4fe1 9200 elasticsearch 9300 elasticsearch 9418 10000 10020 11211 memcache 18080 19888 27017 MongoDB 50070 HDFS Web UI 50010-50090 Hadoop 60010 HBase master\u7684Web UI 60030 HBase regionServer\u7684Web UI","title":"\u7aef\u53e3\u4ecb\u7ecd"},{"location":"infrastructure-security/host-security/host-security-scan/port/#_3","text":"\u5e38\u89c1\u7684\u7aef\u53e3\u626b\u63cf\u5217\u8868\uff1a 20-25,53,67-69,80-89,109-110,137-139,143,161,210,389,443,465,512-514,546,873,993-995,1080,1090-1099,1158,1352,1433-1434,1521,2049,2181,2222,2888,3306-3308,3389,3690,3700,3888,4040,4100,4200,4444-4445,4848,5000,5006,5432,5601,5632,5900-5905,6379,7001,7077,7180-7182,8000-8099,8480,8485,8888,9000,9080-9090,9092,9200,9300,9418,10000,10020,11211,18080,19888,27017-27019,50010-50090,50470,50475,60000,60010,60020,60030","title":"\u7aef\u53e3\u626b\u63cf"},{"location":"infrastructure-security/host-security/host-security-scan/port/#_4","text":"\u4e3b\u673a\u5b58\u6d3b\u6027\u626b\u63cf\uff1a\u5229\u7528nmap\u8fdb\u884c\u4e3b\u673a\u5b58\u6d3b\u6027\u63a2\u6d4b\uff1b \u5b58\u6d3b\u6027\u4e3b\u673a\u7aef\u53e3\u5f00\u653e\u626b\u63cf\uff1a\u5229\u7528masscan\u5bf9\u4e0a\u4e00\u6b65\u5224\u65ad\u5b58\u6d3b\u7684\u4e3b\u673a\u8fdb\u884c\u5168\u7aef\u53e3\u5f00\u653e\u6027\u626b\u63cf\uff1b \u5229\u7528\u7f51\u7edc\u670d\u52a1\u63a2\u6d4b\u7aef\u53e3\uff1a\u5229\u7528\u5982\uff1ashodan\u7b49\u7f51\u7edc\u670d\u52a1\u63a2\u6d4b\u4e3b\u673a\u7aef\u53e3\uff1b \u7aef\u53e3\u670d\u52a1\u626b\u63cf\uff1a\u5229\u7528nmap\u5bf9\u5f00\u653e\u7684\u7aef\u53e3\u8fdb\u884c\u670d\u52a1\u63a2\u6d4b\uff1b \u626b\u63cf\u7ed3\u679c\u5165\u5e93\uff1a\u5bf9\u626b\u63cf\u540e\u7684\u7ed3\u679c\u63d0\u53d6\u6211\u4eec\u9700\u8981\u7684\u5b57\u6bb5\u5b58\u5165\u6570\u636e\u5e93\u4e2d\u8fdb\u884c\u5c55\u793a\uff1b \u5176\u5b83\u65b9\u5f0f \u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b\u83b7\u53d6\u7aef\u53e3\u5f00\u653e\u4fe1\u606f\uff1a\u6b64\u4fe1\u606f\u4e0d\u7cbe\u81f4\uff0c\u56e0\u4e3a\u9488\u5bf9\u5916\u90e8\u653b\u51fb\u8005\u4e3b\u673a\u5f00\u653e\u7684\u7aef\u53e3\u5e76\u4e0d\u4e00\u5b9a\u5168\u90e8\u5bf9\u5916\u5f00\u653e\uff1b","title":"\u7aef\u53e3\u626b\u63cf\u601d\u8def"},{"location":"infrastructure-security/host-security/host-security-scan/port/#masscan","text":"github\u5730\u5740 ubuntu/debian \u5b89\u88c5 masscan sudo apt-get install git gcc make libpcap-dev git clone https://github.com/robertdavidgraham/masscan cd masscan make centos7 \u5b89\u88c5 masscan # \u4e0b\u8f7d\u5730\u5740\uff1ahttps://pkgs.org/download/masscan # \u5229\u7528\u4e0b\u8f7d\u7684RPM\u5305\u76f4\u63a5\u8fdb\u884c\u5b89\u88c5 wget http://dl.fedoraproject.org/pub/epel/7/x86_64/Packages/m/masscan-1.0.3-5.el7.x86_64.rpm yum install libpcap-devel.x86_64 -y rpm -ivh masscan-1.0.3-5.el7.x86_64.rpm # yum\u8fdb\u884c\u5b89\u88c5 vim /etc/yum.repos.d/nux-misc.repo [nux-misc] name=Nux Misc baseurl=http://li.nux.ro/download/nux/misc/el7/x86_64/ enabled=0 gpgcheck=1 gpgkey=http://li.nux.ro/download/nux/RPM-GPG-KEY-nux.ro # \u5b89\u88c5 yum --enablerepo=nux-misc install masscan mac\u5b89\u88c5masscan \u5b98\u7f51\u5730\u5740 ruby -e $(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install) /dev/null 2 /dev/null brew install masscan masscan\u626b\u63cf def port_masscan(): command = masscan -p20-25,53,67-69,80-89,109-111,137-139,143,161,210,389,443,465,512-514,546,873,993-995, \\ 1080,1090-1099,1158,1352,1433-1434,1521,2049,2181,2222,2888,3306-3308,3389,3690,3700,3888,4040,4100,4200, \\ 4444-4445,4848,5000,5006,5432,5601,5632,5900-5905,6379,7001,7077,7180-7182,8000-8099,8480,8485,8888,9000, \\ 9080-9090,9092,9200,9300,9418,10000,10020,11211,18080,19888,27017-27019,50010-50090,50470,50475,60000,60010,60020,60030 \\ --rate=50 -iL tmp/ip_tmp.txt -oX tmp/output.xml os.popen(command)","title":"masscan"},{"location":"infrastructure-security/host-security/host-security-scan/port/#nmap","text":"centos7\u5b89\u88c5nmap yum install nmap.x86_64 -y nmap\u5e38\u7528\u547d\u4ee4 nmap -sS -sV -p1-65535 --max-scan-delay 10 --max-retries 2 -T4 --min-rate 300 --open nmap\u626b\u63cf import nmap nm = nmap.PortScanner() def port_scan(ip,port): try: nm.scan(ip,str(port),arguments='-sV -Pn -T4 --max-rate 1000 --max-retries 1 --max-rtt-timeout 100ms --open') service = nm[ip]['tcp'][int(port)]['product'] version = nm[ip]['tcp'][int(port)]['version'] print ip,port,service,version except Exception as e: print e","title":"nmap"},{"location":"infrastructure-security/host-security/host-security-scan/port/#zmap","text":"\u4e0d\u63a8\u8350\u4f7f\u7528 github\u5730\u5740 centos7\u5b89\u88c5zmap yum install zmap.x86_64 -y","title":"zmap"},{"location":"infrastructure-security/host-security/host-security-scan/port/#_5","text":"","title":"\u7aef\u53e3\u5e38\u89c1\u653b\u51fb\u65b9\u5f0f"},{"location":"infrastructure-security/host-security/host-security-scan/port/#_6","text":"hydra\u6ee1\u8db3\u5e38\u89c1\u7684\u670d\u52a1\u66b4\u529b\u7834\u89e3\uff0c\u4f46\u662f\u9700\u8981\u6ce8\u610f\u7684\u662f\u73b0\u5728\u5f88\u591a\u670d\u52a1\u90fd\u9ed8\u8ba4\u652f\u6301\u7206\u7834\u9632\u5fa1\u3002","title":"\u66b4\u529b\u7834\u89e3\u6cd5"},{"location":"infrastructure-security/host-security/host-security-scan/port/#_7","text":"\u6301\u7eed\u66f4\u65b0 \u7aef\u53e3+\u670d\u52a1+\u7248\u672c \u6f0f\u6d1e\u8be6\u60c5","title":"\u7aef\u53e3\u6f0f\u6d1e\u6cd5"},{"location":"infrastructure-security/host-security/host-security-scan/port/#_8","text":"\u5927\u6570\u636e\u7ec4\u4ef6\u5e38\u7528\u7aef\u53e3\u603b\u7ed3\uff08\u4e0d\u65ad\u66f4\u65b0\uff09 \u5927\u6570\u636e\u5e38\u89c1\u7aef\u53e3\u6c47\u603b-hadoop\u3001hbase\u3001hive\u3001spark\u3001kafka\u3001zookeeper\u7b49\uff08\u6301\u7eed\u66f4\u65b0\uff09","title":"\u53c2\u8003\u8d44\u6599"},{"location":"infrastructure-security/host-security/ids-ips/","text":"\u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b \u9632\u5fa1\u7cfb\u7edf IDS IPS\u5206\u7c7b \u6839\u636e\u5e94\u7528\u573a\u666f\u5206\u7c7b \u7f51\u7edc\u578b\uff1aNIDS\u3001NIPS \u4e3b\u673a\u578b\uff1aHIDS\u3001HIPS \u5206\u5e03\u5f0f\uff1aDIDS\u3001DIPS \u6839\u636e\u68c0\u6d4b\u7b56\u7565\u5206\u7c7b \u6ee5\u7528\u68c0\u6d4b\uff1a \u5f02\u5e38\u68c0\u6d4b\uff1a \u5b8c\u6574\u6027\u5206\u6790\uff1a \u6839\u636e\u68c0\u6d4b\u7c7b\u578b\u5206\u7c7b \u57fa\u4e8e\u6587\u4ef6\uff1a \u57fa\u4e8e\u8fdb\u7a0b\uff1a \u57fa\u4e8e\u64cd\u4f5c \u5f00\u6e90\u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b \u9632\u5fa1 yulong-hids \u5b98\u7f51\u5730\u5740 \u53c2\u8003\u8d44\u6599 \u9a6d\u9f99\u5f00\u6e90\u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b\u7cfb\u7edf","title":"\u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b&\u9632\u5fa1\u7cfb\u7edf"},{"location":"infrastructure-security/host-security/ids-ips/#_1","text":"","title":"\u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b&amp;\u9632\u5fa1\u7cfb\u7edf"},{"location":"infrastructure-security/host-security/ids-ips/#idsips","text":"","title":"IDS&amp;IPS\u5206\u7c7b"},{"location":"infrastructure-security/host-security/ids-ips/#_2","text":"\u7f51\u7edc\u578b\uff1aNIDS\u3001NIPS \u4e3b\u673a\u578b\uff1aHIDS\u3001HIPS \u5206\u5e03\u5f0f\uff1aDIDS\u3001DIPS","title":"\u6839\u636e\u5e94\u7528\u573a\u666f\u5206\u7c7b"},{"location":"infrastructure-security/host-security/ids-ips/#_3","text":"\u6ee5\u7528\u68c0\u6d4b\uff1a \u5f02\u5e38\u68c0\u6d4b\uff1a \u5b8c\u6574\u6027\u5206\u6790\uff1a","title":"\u6839\u636e\u68c0\u6d4b\u7b56\u7565\u5206\u7c7b"},{"location":"infrastructure-security/host-security/ids-ips/#_4","text":"\u57fa\u4e8e\u6587\u4ef6\uff1a \u57fa\u4e8e\u8fdb\u7a0b\uff1a \u57fa\u4e8e\u64cd\u4f5c","title":"\u6839\u636e\u68c0\u6d4b\u7c7b\u578b\u5206\u7c7b"},{"location":"infrastructure-security/host-security/ids-ips/#_5","text":"","title":"\u5f00\u6e90\u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b&amp;\u9632\u5fa1"},{"location":"infrastructure-security/host-security/ids-ips/#yulong-hids","text":"\u5b98\u7f51\u5730\u5740 \u53c2\u8003\u8d44\u6599 \u9a6d\u9f99\u5f00\u6e90\u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b\u7cfb\u7edf","title":"yulong-hids"},{"location":"infrastructure-security/host-security/ids-ips/aide/","text":"aide \u6587\u4ef6\u548c\u76ee\u5f55\u5b8c\u6574\u6027\u5165\u7fa4\u68c0\u6d4b AIDE\uff08Advanced Intrusion Detection Environment\uff09\uff1a\u9ad8\u7ea7\u5165\u4fb5\u68c0\u6d4b\u73af\u5883 \u5b98\u7f51\u5730\u5740 \u4e0b\u8f7d\u5730\u5740 \u5b89\u88c5\u4e0e\u4f7f\u7528 aide\u5b89\u88c5 # \u64cd\u4f5c\u7cfb\u7edf\uff1aCentos7 yum install aide.x86_64 -y aide\u4f7f\u7528 # \u521d\u59cb\u5316\u6570\u636e\u5e93 aide -i # \u5c06\u521d\u59cb\u5316\u6570\u636e\u5e93\u6539\u540d\u4e3a\u9ed8\u8ba4\u6570\u636e\u5e93 mv /var/lib/aide/aide.db.new.gz /var/lib/aide/aide.db.gz # \u68c0\u67e5 aide -C # \u66f4\u65b0\u6570\u636e\u5e93\uff0c\u66f4\u65b0\u5b8c\u6210\u4ee5\u540e\u9700\u8981\u5c06\u65b0\u7684\u6570\u636e\u5e93\u6587\u4ef6\u590d\u5236\u4e3a\u6570\u636e\u5e93 aide -u mv /var/lib/aide/aide.db.new.gz /var/lib/aide/aide.db.gz # \u68c0\u67e5\u914d\u7f6e\u6587\u4ef6 aide -D --config-check \u914d\u7f6e\u6587\u4ef6\u8bf4\u660e vim /etc/aide.conf # \u6587\u4ef6\u5c5e\u6027 p:\u6743\u9650 i:\u8282\u70b9 n:\u94fe\u63a5\u6570 u:\u7528\u6237 g:\u7ec4 s:\u5927\u5c0f S:\u6587\u4ef6\u589e\u957f\u5927\u5c0f b:\u5757\u6570\u91cf m:\u4fee\u6539\u65f6\u95f4 a:\u8bbf\u95ee\u65f6\u95f4 c:\u521b\u5efa\u65f6\u95f4 # \u7f16\u8bd1\u652f\u6301 acl:\u6587\u4ef6\u7684acl\u8bbf\u95ee\u63a7\u5236\u5217\u8868 selinux: xattrs: # \u6458\u8981\u7b97\u6cd5 md5: sha1: sha256: sha512: rmd160: tiger: crc32: whirlpool: haval: gost: aide\u6848\u4f8b \u6bcf\u5929\u6267\u884c\u4e00\u6b21aide\uff0c\u5e76\u5c06\u7ed3\u679c\u53d1\u9001\u5230\u90ae\u7bb1 0 0 * * * /usr/sbin/aide --check | /usr/bin/mail -s AIDE run for $HOSTNAME your@email.com","title":"aide \u6587\u4ef6\u548c\u76ee\u5f55\u5b8c\u6574\u6027\u5165\u7fa4\u68c0\u6d4b"},{"location":"infrastructure-security/host-security/ids-ips/aide/#aide","text":"AIDE\uff08Advanced Intrusion Detection Environment\uff09\uff1a\u9ad8\u7ea7\u5165\u4fb5\u68c0\u6d4b\u73af\u5883 \u5b98\u7f51\u5730\u5740 \u4e0b\u8f7d\u5730\u5740","title":"aide \u6587\u4ef6\u548c\u76ee\u5f55\u5b8c\u6574\u6027\u5165\u7fa4\u68c0\u6d4b"},{"location":"infrastructure-security/host-security/ids-ips/aide/#_1","text":"","title":"\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"infrastructure-security/host-security/ids-ips/aide/#aide_1","text":"# \u64cd\u4f5c\u7cfb\u7edf\uff1aCentos7 yum install aide.x86_64 -y","title":"aide\u5b89\u88c5"},{"location":"infrastructure-security/host-security/ids-ips/aide/#aide_2","text":"# \u521d\u59cb\u5316\u6570\u636e\u5e93 aide -i # \u5c06\u521d\u59cb\u5316\u6570\u636e\u5e93\u6539\u540d\u4e3a\u9ed8\u8ba4\u6570\u636e\u5e93 mv /var/lib/aide/aide.db.new.gz /var/lib/aide/aide.db.gz # \u68c0\u67e5 aide -C # \u66f4\u65b0\u6570\u636e\u5e93\uff0c\u66f4\u65b0\u5b8c\u6210\u4ee5\u540e\u9700\u8981\u5c06\u65b0\u7684\u6570\u636e\u5e93\u6587\u4ef6\u590d\u5236\u4e3a\u6570\u636e\u5e93 aide -u mv /var/lib/aide/aide.db.new.gz /var/lib/aide/aide.db.gz # \u68c0\u67e5\u914d\u7f6e\u6587\u4ef6 aide -D --config-check","title":"aide\u4f7f\u7528"},{"location":"infrastructure-security/host-security/ids-ips/aide/#_2","text":"vim /etc/aide.conf # \u6587\u4ef6\u5c5e\u6027 p:\u6743\u9650 i:\u8282\u70b9 n:\u94fe\u63a5\u6570 u:\u7528\u6237 g:\u7ec4 s:\u5927\u5c0f S:\u6587\u4ef6\u589e\u957f\u5927\u5c0f b:\u5757\u6570\u91cf m:\u4fee\u6539\u65f6\u95f4 a:\u8bbf\u95ee\u65f6\u95f4 c:\u521b\u5efa\u65f6\u95f4 # \u7f16\u8bd1\u652f\u6301 acl:\u6587\u4ef6\u7684acl\u8bbf\u95ee\u63a7\u5236\u5217\u8868 selinux: xattrs: # \u6458\u8981\u7b97\u6cd5 md5: sha1: sha256: sha512: rmd160: tiger: crc32: whirlpool: haval: gost:","title":"\u914d\u7f6e\u6587\u4ef6\u8bf4\u660e"},{"location":"infrastructure-security/host-security/ids-ips/aide/#aide_3","text":"\u6bcf\u5929\u6267\u884c\u4e00\u6b21aide\uff0c\u5e76\u5c06\u7ed3\u679c\u53d1\u9001\u5230\u90ae\u7bb1 0 0 * * * /usr/sbin/aide --check | /usr/bin/mail -s AIDE run for $HOSTNAME your@email.com","title":"aide\u6848\u4f8b"},{"location":"infrastructure-security/host-security/ids-ips/osquery/","text":"osquery \u64cd\u4f5c\u7cfb\u7edf\u68c0\u6d4b\u4e0e\u5206\u6790 \u5b98\u7f51\u5730\u5740 \u5b89\u88c5\u4e0e\u4f7f\u7528 \u5b98\u65b9\u5b89\u88c5\u6587\u6863 Centos7\u5b89\u88c5osquery # \u5b89\u88c5yum\u6e90 rpm -ivh https://osquery-packages.s3.amazonaws.com/centos7/noarch/osquery-s3-centos7-repo-1-0.0.noarch.rpm # \u5b89\u88c5 yum install osquery.x86_64 -y # \u914d\u7f6e cp /usr/share/osquery/osquery.example.conf /etc/osquery/osquery.conf # \u542f\u52a8 systemctl start osqueryd # \u6267\u884c osqueryi \u914d\u7f6e\u6587\u4ef6 \u914d\u7f6e\u6587\u4ef6\u5b98\u65b9\u6587\u6863 vim /etc/osquery/osquery.conf options\uff1a\u5305\u542bosquery daemon\u7684\u4e00\u4e9b\u914d\u7f6e schedule\uff1a\u5b9a\u65f6\u6267\u884c\u7684\u4efb\u52a1 decorators\uff1a\u8bb0\u5f55result\u7684\u65f6\u5019\uff0c\u6dfb\u52a0\u989d\u5916\u7684\u4fe1\u606f\u5230decorations\u4e2d packs\uff1a\u7b49\u4ef7\u4e8e\u4e00\u7cfb\u5217schedule\u7684\u96c6\u5408 osquery\u8868 schema\u5b98\u65b9\u6587\u6863 \u5728osqueryi\u547d\u4ee4\u884c\u4e0b\u8f93\u5165.table\u67e5\u770b\u6240\u6709\u8868\u3002 \u8fd4\u56de\u5360\u7528\u5185\u5b58\u6700\u5927\u768410\u4e2a\u8fdb\u7a0b select pid, name, uid, resident_size from processes order by resident_size desc limit 10; \u8fd4\u56de\u6700\u6d3b\u8dc3\u768410\u4e2a\u8fdb\u7a0b select count(pid) as total, name from processes group by name order by total desc limit 10; \u67e5\u770b\u7f51\u7edc\u7aef\u53e3\u7684\u8fdb\u7a0b SELECT DISTINCT process.name, listening.port, listening.address, process.pid FROM processes AS process JOIN listening_ports AS listening ON process.pid = listening.pid; \u67e5\u770b\u52a0\u8f7d\u7684\u5185\u6838\u6a21\u5757 select name from kernel_modules; \u57fa\u7840\u6848\u4f8b vim /etc/osquery/osquery.conf { options : { config_plugin : filesystem , logger_plugin : filesystem , logger_path : /var/log/osquery }, schedule : { cpu_time : { query : SELECT * FROM cpu_time; , interval : 60 } } } \u67e5\u770b\u65e5\u5fd7\u6587\u4ef6\uff1a tail -f /var/log/osquery/osqueryd.results.log osquery+python \u5b98\u7f51\u5730\u5740 osquery+ELK+Kolide Fleet \u539f\u6587\u5730\u5740 Osquery\uff1a\u57fa\u4e8eSQL\u7684\u4e3b\u673a\u7ba1\u7406\u5de5\u5177\uff1b Kolide Fleet\uff1a\u7528\u4e8e\u63a7\u5236Osquery\u5217\u8868\u7684\u7075\u6d3b\u670d\u52a1\u5668\uff0c\u5141\u8bb8\u6211\u4eec\u6309\u9700\u67e5\u8be2\u591a\u4e2a\u4e3b\u673a\uff0c\u4ee5\u53ca\u521b\u5efa\u67e5\u8be2\u5305\uff0c\u6784\u5efa\u67e5\u8be2\u8ba1\u5212\u4e0e\u7ba1\u7406\u6211\u4eec\u7684\u4e3b\u673a\uff1b Elastic Stack\uff1aELK\u5141\u8bb8\u6536\u96c6\u3001\u5904\u7406\u548c\u53ef\u89c6\u5316\u65e5\u5fd7\u7684\u5de5\u5177\uff1b \u57fa\u4e8eCentos7\u642d\u5efa\u73af\u5883 \u9ed8\u8ba4Osquery\u4e0eELK\u5df2\u7ecf\u5b89\u88c5\u5b8c\u6210\uff0c\u672c\u7bc7\u4e2d\u4e0d\u8d58\u8ff0\u5b83\u4eec\u7684\u5b89\u88c5\u8fc7\u7a0b ELK\u5b89\u88c5 \u5b89\u88c5Kolide Fleet \u5b98\u65b9\u5b89\u88c5\u5730\u5740 # \u5b89\u88c5mysql # \u4e0b\u8f7dyum\u6e90 wget https://repo.mysql.com//mysql80-community-release-el7-1.noarch.rpm # \u5b89\u88c5yum\u6e90 rpm -ivh mysql80-community-release-el7-1.noarch.rpm # \u5b89\u88c5\u6570\u636e\u5e93 yum install mysql-community-server.x86_64 mysql-community-client.x86_64 -y # \u521b\u5efa\u6570\u636e\u5e93 create database kolide; # \u5b89\u88c5redis # \u5b89\u88c5\u6e90 yum install epel-release -y # \u5b89\u88c5redis yum install redis.x86_64 -y # \u542f\u52a8\u670d\u52a1 systemctl start redis.service # \u5b89\u88c5Fleet # \u4e0b\u8f7d wget https://dl.kolide.co/bin/fleet_latest.zip # \u89e3\u538b unzip fleet_latest.zip 'linux/*' -d fleet # \u62f7\u8d1d\u6267\u884c\u547d\u4ee4\u5230bin\u76ee\u5f55 cp fleet/linux/fleet /usr/bin/fleet cp fleet/linux/fleetctl /usr/bin/fleetctl # \u8fde\u63a5\u6570\u636e\u5e93 /usr/bin/fleet prepare db --mysql_address=127.0.0.1:3306 --mysql_database=kolide --mysql_username=root --mysql_password=password # \u914d\u7f6e\u8bc1\u4e66 openssl genrsa -out /etc/pki/tls/private/server.key 4096 openssl req -new -key /etc/pki/tls/private/server.key -out /etc/pki/tls/certs/server.csr openssl x509 -req -days 366 -in /etc/pki/tls/certs/server.csr -signkey /etc/pki/tls/private/server.key -out /etc/pki/tls/certs/server.cert # \u542f\u52a8Fleet Server # \u521b\u5efa\u65e5\u5fd7\u76ee\u5f55 mkdir /var/log/kolide # \u542f\u52a8\u670d\u52a1 /usr/bin/fleet serve \\ --mysql_address=127.0.0.1:3306 \\ --mysql_database=kolide \\ --mysql_username=root \\ --mysql_password=password \\ --redis_address=127.0.0.1:6379 \\ --server_cert=/etc/pki/tls/certs/server.cert \\ --server_key=/etc/pki/tls/private/server.key \\ --logging_json \\ --osquery_result_log_file=/var/log/kolide/osquery_result \\ --osquery_status_log_file=/var/log/kolide/osquery_status # \u8fd9\u4e2a\u65f6\u5019\u4f1a\u518d\u6b21\u62a5\u9519\u5982\u4e0b\u56fe \u6211\u4eec\u4f7f\u7528\u5b83\u63a8\u8350\u7684--auth_jwt_key /usr/bin/fleet serve \\ --mysql_address=127.0.0.1:3306 \\ --mysql_database=kolide \\ --mysql_username=root \\ --mysql_password==password \\ --redis_address=127.0.0.1:6379 \\ --server_cert=/etc/pki/tls/certs/server.cert \\ --server_key=/etc/pki/tls/private/server.key \\ --logging_json \\ --osquery_result_log_file=/var/log/kolide/osquery_result \\ --osquery_status_log_file=/var/log/kolide/osquery_status \\ --auth_jwt_key=zJ+TKjgtGqCFX6XcF5SmDDsy4BCSReLH # \u6210\u529f\u5982\u4e0b\u56fe # \u8bbf\u95eeWeb\u754c\u9762\u8fdb\u884c\u5b89\u88c5 # https://10.10.10.5:8080/ \u63a8\u9001\u4e3b\u673a\u5230Fleet Server \u5229\u7528Fleet Launcher\u63a8\u9001\u4e3b\u673a \u5b98\u65b9\u6587\u6863 \u4ee5\u4e0b\u64cd\u4f5c\u5728\u5ba2\u6237\u7aef\u673a\u5668\u4e0a\u5b8c\u6210\uff0c\u6211\u8fd9\u91cc\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u7aef\u662f\u540c\u4e00\u53f0\u673a\u5668 # \u4e0b\u8f7d wget https://github.com/kolide/launcher/releases/download/0.5.0/launcher_0.5.0.zip # \u89e3\u538b unzip launcher_0.5.0.zip # \u6267\u884c\uff0c\u6700\u7b80\u5355\u7684\u6a21\u5f0f cd linux/ ./launcher --hostname=localhost:8080 --enroll_secret=OB+ltcnAmEqykZXNthWNRv4qQMh9Rp0b --insecure # \u6267\u884c\u5b8c\u6210\u4ee5\u540e\uff0c\u5728Web\u754c\u9762\u80fd\u770b\u5230\u65b0\u589e\u7684\u4e3b\u673a \u53c2\u6570\u89e3\u91ca\uff1a --hostname:Fleet Server\u4e3b\u673a\u7684\u5730\u5740 --enroll_secret:Fleet Server\u7684\u5bc6\u94a5\uff0c\u5bc6\u94a5\u5730\u5740\u5982\u56fe --insecure:\u65e0\u6548\u7684CA\u8bc1\u4e66\u9700\u8981\u4f7f\u7528\u6b64\u53c2\u6570 \u603b\u7ed3\uff1a Launcher\u63a8\u9001\u8fdb\u7a0b\u4e0d\u80fd\u7ec8\u6b62\uff0c\u4f1a\u5bfc\u81f4Fleet\u63a5\u53d7\u4e0d\u5230\u5ba2\u6237\u7aef\u4fe1\u606f\uff1b \u5229\u7528osquery\u63a8\u9001\u4e3b\u673a \u8fd9\u91cc\u53e6\u5916\u5f00\u4e00\u53f0client\uff0c\u6267\u884c\u5982\u4e0b\u64cd\u4f5c\uff1a # \u521b\u5efa\u5bc6\u94a5 echo 'OB+ltcnAmEqykZXNthWNRv4qQMh9Rp0b' /var/osquery/enroll_secret # \u914d\u7f6e\u8bc1\u4e66\uff0c\u8bc1\u4e66\u4e0b\u8f7d\u4f4d\u7f6e\u5982\u56fe\uff0c\u4e0b\u8f7d\u5b8c\u6210\u540e\u8fdb\u884c\u6539\u540d mv 10.10.10.5_8080.pem /var/osquery/server.pem # \u6267\u884cosqueryd /usr/bin/osqueryd \\ --enroll_secret_path=/var/osquery/enroll_secret \\ --tls_server_certs=/var/osquery/server.pem \\ --tls_hostname=10.10.10.5:8080 \\ --host_identifier=hostname \\ --enroll_tls_endpoint=/api/v1/osquery/enroll \\ --config_plugin=tls \\ --config_tls_endpoint=/api/v1/osquery/config \\ --config_tls_refresh=10 \\ --disable_distributed=false \\ --distributed_plugin=tls \\ --distributed_interval=3 \\ --distributed_tls_max_attempts=3 \\ --distributed_tls_read_endpoint=/api/v1/osquery/distributed/read \\ --distributed_tls_write_endpoint=/api/v1/osquery/distributed/write \\ --logger_plugin=tls \\ --logger_tls_endpoint=/api/v1/osquery/log \\ --logger_tls_period=10 ELK\u5c55\u793a\u65e5\u5fd7 \u521b\u5efa\u4e00\u4e2a\u67e5\u8be2 \u521b\u5efa\u4e00\u4e2apack \u5229\u7528ELK\u89e3\u6790\u5e76\u5c55\u793a\u65e5\u5fd7 vim /etc/logstash/conf.d/fleet.conf input { file { path = [ /var/log/kolide/osquery_result ] codec = json } } output { elasticsearch { hosts = [ 127.0.0.1:9200 ] index = logstash-fleet-%{+YYYY.MM.dd} } } \u53c2\u8003\u8d44\u6599 \u4f01\u4e1a\u5b89\u5168\u5efa\u8bbe\u4e4b\u4e3b\u673a\u8d44\u4ea7\u7ba1\u7406\u4e0e\u5206\u6790 Facebook\u5f00\u6e90\u7684\u57fa\u4e8eSQL\u7684\u64cd\u4f5c\u7cfb\u7edf\u68c0\u6d4b\u548c\u76d1\u63a7\u6846\u67b6:osquery daemon\u8be6\u89e3 Windows \u5e38\u89c1\u914d\u7f6e\u6587\u4ef6\u7f16\u5199","title":"osquery \u64cd\u4f5c\u7cfb\u7edf\u68c0\u6d4b\u4e0e\u5206\u6790"},{"location":"infrastructure-security/host-security/ids-ips/osquery/#osquery","text":"\u5b98\u7f51\u5730\u5740","title":"osquery \u64cd\u4f5c\u7cfb\u7edf\u68c0\u6d4b\u4e0e\u5206\u6790"},{"location":"infrastructure-security/host-security/ids-ips/osquery/#_1","text":"\u5b98\u65b9\u5b89\u88c5\u6587\u6863","title":"\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"infrastructure-security/host-security/ids-ips/osquery/#centos7osquery","text":"# \u5b89\u88c5yum\u6e90 rpm -ivh https://osquery-packages.s3.amazonaws.com/centos7/noarch/osquery-s3-centos7-repo-1-0.0.noarch.rpm # \u5b89\u88c5 yum install osquery.x86_64 -y # \u914d\u7f6e cp /usr/share/osquery/osquery.example.conf /etc/osquery/osquery.conf # \u542f\u52a8 systemctl start osqueryd # \u6267\u884c osqueryi","title":"Centos7\u5b89\u88c5osquery"},{"location":"infrastructure-security/host-security/ids-ips/osquery/#_2","text":"\u914d\u7f6e\u6587\u4ef6\u5b98\u65b9\u6587\u6863 vim /etc/osquery/osquery.conf options\uff1a\u5305\u542bosquery daemon\u7684\u4e00\u4e9b\u914d\u7f6e schedule\uff1a\u5b9a\u65f6\u6267\u884c\u7684\u4efb\u52a1 decorators\uff1a\u8bb0\u5f55result\u7684\u65f6\u5019\uff0c\u6dfb\u52a0\u989d\u5916\u7684\u4fe1\u606f\u5230decorations\u4e2d packs\uff1a\u7b49\u4ef7\u4e8e\u4e00\u7cfb\u5217schedule\u7684\u96c6\u5408","title":"\u914d\u7f6e\u6587\u4ef6"},{"location":"infrastructure-security/host-security/ids-ips/osquery/#osquery_1","text":"schema\u5b98\u65b9\u6587\u6863 \u5728osqueryi\u547d\u4ee4\u884c\u4e0b\u8f93\u5165.table\u67e5\u770b\u6240\u6709\u8868\u3002 \u8fd4\u56de\u5360\u7528\u5185\u5b58\u6700\u5927\u768410\u4e2a\u8fdb\u7a0b select pid, name, uid, resident_size from processes order by resident_size desc limit 10; \u8fd4\u56de\u6700\u6d3b\u8dc3\u768410\u4e2a\u8fdb\u7a0b select count(pid) as total, name from processes group by name order by total desc limit 10; \u67e5\u770b\u7f51\u7edc\u7aef\u53e3\u7684\u8fdb\u7a0b SELECT DISTINCT process.name, listening.port, listening.address, process.pid FROM processes AS process JOIN listening_ports AS listening ON process.pid = listening.pid; \u67e5\u770b\u52a0\u8f7d\u7684\u5185\u6838\u6a21\u5757 select name from kernel_modules;","title":"osquery\u8868"},{"location":"infrastructure-security/host-security/ids-ips/osquery/#_3","text":"vim /etc/osquery/osquery.conf { options : { config_plugin : filesystem , logger_plugin : filesystem , logger_path : /var/log/osquery }, schedule : { cpu_time : { query : SELECT * FROM cpu_time; , interval : 60 } } } \u67e5\u770b\u65e5\u5fd7\u6587\u4ef6\uff1a tail -f /var/log/osquery/osqueryd.results.log","title":"\u57fa\u7840\u6848\u4f8b"},{"location":"infrastructure-security/host-security/ids-ips/osquery/#osquerypython","text":"\u5b98\u7f51\u5730\u5740","title":"osquery+python"},{"location":"infrastructure-security/host-security/ids-ips/osquery/#osqueryelkkolide-fleet","text":"\u539f\u6587\u5730\u5740 Osquery\uff1a\u57fa\u4e8eSQL\u7684\u4e3b\u673a\u7ba1\u7406\u5de5\u5177\uff1b Kolide Fleet\uff1a\u7528\u4e8e\u63a7\u5236Osquery\u5217\u8868\u7684\u7075\u6d3b\u670d\u52a1\u5668\uff0c\u5141\u8bb8\u6211\u4eec\u6309\u9700\u67e5\u8be2\u591a\u4e2a\u4e3b\u673a\uff0c\u4ee5\u53ca\u521b\u5efa\u67e5\u8be2\u5305\uff0c\u6784\u5efa\u67e5\u8be2\u8ba1\u5212\u4e0e\u7ba1\u7406\u6211\u4eec\u7684\u4e3b\u673a\uff1b Elastic Stack\uff1aELK\u5141\u8bb8\u6536\u96c6\u3001\u5904\u7406\u548c\u53ef\u89c6\u5316\u65e5\u5fd7\u7684\u5de5\u5177\uff1b","title":"osquery+ELK+Kolide Fleet"},{"location":"infrastructure-security/host-security/ids-ips/osquery/#centos7","text":"\u9ed8\u8ba4Osquery\u4e0eELK\u5df2\u7ecf\u5b89\u88c5\u5b8c\u6210\uff0c\u672c\u7bc7\u4e2d\u4e0d\u8d58\u8ff0\u5b83\u4eec\u7684\u5b89\u88c5\u8fc7\u7a0b ELK\u5b89\u88c5 \u5b89\u88c5Kolide Fleet \u5b98\u65b9\u5b89\u88c5\u5730\u5740 # \u5b89\u88c5mysql # \u4e0b\u8f7dyum\u6e90 wget https://repo.mysql.com//mysql80-community-release-el7-1.noarch.rpm # \u5b89\u88c5yum\u6e90 rpm -ivh mysql80-community-release-el7-1.noarch.rpm # \u5b89\u88c5\u6570\u636e\u5e93 yum install mysql-community-server.x86_64 mysql-community-client.x86_64 -y # \u521b\u5efa\u6570\u636e\u5e93 create database kolide; # \u5b89\u88c5redis # \u5b89\u88c5\u6e90 yum install epel-release -y # \u5b89\u88c5redis yum install redis.x86_64 -y # \u542f\u52a8\u670d\u52a1 systemctl start redis.service # \u5b89\u88c5Fleet # \u4e0b\u8f7d wget https://dl.kolide.co/bin/fleet_latest.zip # \u89e3\u538b unzip fleet_latest.zip 'linux/*' -d fleet # \u62f7\u8d1d\u6267\u884c\u547d\u4ee4\u5230bin\u76ee\u5f55 cp fleet/linux/fleet /usr/bin/fleet cp fleet/linux/fleetctl /usr/bin/fleetctl # \u8fde\u63a5\u6570\u636e\u5e93 /usr/bin/fleet prepare db --mysql_address=127.0.0.1:3306 --mysql_database=kolide --mysql_username=root --mysql_password=password # \u914d\u7f6e\u8bc1\u4e66 openssl genrsa -out /etc/pki/tls/private/server.key 4096 openssl req -new -key /etc/pki/tls/private/server.key -out /etc/pki/tls/certs/server.csr openssl x509 -req -days 366 -in /etc/pki/tls/certs/server.csr -signkey /etc/pki/tls/private/server.key -out /etc/pki/tls/certs/server.cert # \u542f\u52a8Fleet Server # \u521b\u5efa\u65e5\u5fd7\u76ee\u5f55 mkdir /var/log/kolide # \u542f\u52a8\u670d\u52a1 /usr/bin/fleet serve \\ --mysql_address=127.0.0.1:3306 \\ --mysql_database=kolide \\ --mysql_username=root \\ --mysql_password=password \\ --redis_address=127.0.0.1:6379 \\ --server_cert=/etc/pki/tls/certs/server.cert \\ --server_key=/etc/pki/tls/private/server.key \\ --logging_json \\ --osquery_result_log_file=/var/log/kolide/osquery_result \\ --osquery_status_log_file=/var/log/kolide/osquery_status # \u8fd9\u4e2a\u65f6\u5019\u4f1a\u518d\u6b21\u62a5\u9519\u5982\u4e0b\u56fe \u6211\u4eec\u4f7f\u7528\u5b83\u63a8\u8350\u7684--auth_jwt_key /usr/bin/fleet serve \\ --mysql_address=127.0.0.1:3306 \\ --mysql_database=kolide \\ --mysql_username=root \\ --mysql_password==password \\ --redis_address=127.0.0.1:6379 \\ --server_cert=/etc/pki/tls/certs/server.cert \\ --server_key=/etc/pki/tls/private/server.key \\ --logging_json \\ --osquery_result_log_file=/var/log/kolide/osquery_result \\ --osquery_status_log_file=/var/log/kolide/osquery_status \\ --auth_jwt_key=zJ+TKjgtGqCFX6XcF5SmDDsy4BCSReLH # \u6210\u529f\u5982\u4e0b\u56fe # \u8bbf\u95eeWeb\u754c\u9762\u8fdb\u884c\u5b89\u88c5 # https://10.10.10.5:8080/","title":"\u57fa\u4e8eCentos7\u642d\u5efa\u73af\u5883"},{"location":"infrastructure-security/host-security/ids-ips/osquery/#fleet-server","text":"\u5229\u7528Fleet Launcher\u63a8\u9001\u4e3b\u673a \u5b98\u65b9\u6587\u6863 \u4ee5\u4e0b\u64cd\u4f5c\u5728\u5ba2\u6237\u7aef\u673a\u5668\u4e0a\u5b8c\u6210\uff0c\u6211\u8fd9\u91cc\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u7aef\u662f\u540c\u4e00\u53f0\u673a\u5668 # \u4e0b\u8f7d wget https://github.com/kolide/launcher/releases/download/0.5.0/launcher_0.5.0.zip # \u89e3\u538b unzip launcher_0.5.0.zip # \u6267\u884c\uff0c\u6700\u7b80\u5355\u7684\u6a21\u5f0f cd linux/ ./launcher --hostname=localhost:8080 --enroll_secret=OB+ltcnAmEqykZXNthWNRv4qQMh9Rp0b --insecure # \u6267\u884c\u5b8c\u6210\u4ee5\u540e\uff0c\u5728Web\u754c\u9762\u80fd\u770b\u5230\u65b0\u589e\u7684\u4e3b\u673a \u53c2\u6570\u89e3\u91ca\uff1a --hostname:Fleet Server\u4e3b\u673a\u7684\u5730\u5740 --enroll_secret:Fleet Server\u7684\u5bc6\u94a5\uff0c\u5bc6\u94a5\u5730\u5740\u5982\u56fe --insecure:\u65e0\u6548\u7684CA\u8bc1\u4e66\u9700\u8981\u4f7f\u7528\u6b64\u53c2\u6570 \u603b\u7ed3\uff1a Launcher\u63a8\u9001\u8fdb\u7a0b\u4e0d\u80fd\u7ec8\u6b62\uff0c\u4f1a\u5bfc\u81f4Fleet\u63a5\u53d7\u4e0d\u5230\u5ba2\u6237\u7aef\u4fe1\u606f\uff1b \u5229\u7528osquery\u63a8\u9001\u4e3b\u673a \u8fd9\u91cc\u53e6\u5916\u5f00\u4e00\u53f0client\uff0c\u6267\u884c\u5982\u4e0b\u64cd\u4f5c\uff1a # \u521b\u5efa\u5bc6\u94a5 echo 'OB+ltcnAmEqykZXNthWNRv4qQMh9Rp0b' /var/osquery/enroll_secret # \u914d\u7f6e\u8bc1\u4e66\uff0c\u8bc1\u4e66\u4e0b\u8f7d\u4f4d\u7f6e\u5982\u56fe\uff0c\u4e0b\u8f7d\u5b8c\u6210\u540e\u8fdb\u884c\u6539\u540d mv 10.10.10.5_8080.pem /var/osquery/server.pem # \u6267\u884cosqueryd /usr/bin/osqueryd \\ --enroll_secret_path=/var/osquery/enroll_secret \\ --tls_server_certs=/var/osquery/server.pem \\ --tls_hostname=10.10.10.5:8080 \\ --host_identifier=hostname \\ --enroll_tls_endpoint=/api/v1/osquery/enroll \\ --config_plugin=tls \\ --config_tls_endpoint=/api/v1/osquery/config \\ --config_tls_refresh=10 \\ --disable_distributed=false \\ --distributed_plugin=tls \\ --distributed_interval=3 \\ --distributed_tls_max_attempts=3 \\ --distributed_tls_read_endpoint=/api/v1/osquery/distributed/read \\ --distributed_tls_write_endpoint=/api/v1/osquery/distributed/write \\ --logger_plugin=tls \\ --logger_tls_endpoint=/api/v1/osquery/log \\ --logger_tls_period=10","title":"\u63a8\u9001\u4e3b\u673a\u5230Fleet Server"},{"location":"infrastructure-security/host-security/ids-ips/osquery/#elk","text":"\u521b\u5efa\u4e00\u4e2a\u67e5\u8be2 \u521b\u5efa\u4e00\u4e2apack \u5229\u7528ELK\u89e3\u6790\u5e76\u5c55\u793a\u65e5\u5fd7 vim /etc/logstash/conf.d/fleet.conf input { file { path = [ /var/log/kolide/osquery_result ] codec = json } } output { elasticsearch { hosts = [ 127.0.0.1:9200 ] index = logstash-fleet-%{+YYYY.MM.dd} } }","title":"ELK\u5c55\u793a\u65e5\u5fd7"},{"location":"infrastructure-security/host-security/ids-ips/osquery/#_4","text":"\u4f01\u4e1a\u5b89\u5168\u5efa\u8bbe\u4e4b\u4e3b\u673a\u8d44\u4ea7\u7ba1\u7406\u4e0e\u5206\u6790 Facebook\u5f00\u6e90\u7684\u57fa\u4e8eSQL\u7684\u64cd\u4f5c\u7cfb\u7edf\u68c0\u6d4b\u548c\u76d1\u63a7\u6846\u67b6:osquery daemon\u8be6\u89e3 Windows \u5e38\u89c1\u914d\u7f6e\u6587\u4ef6\u7f16\u5199","title":"\u53c2\u8003\u8d44\u6599"},{"location":"infrastructure-security/host-security/ids-ips/wazuh/","text":"wazuh \u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b\u7cfb\u7edf \u5b98\u7f51\u5730\u5740 \u5b98\u65b9\u6587\u6863 \u5b89\u88c5\u4e0e\u4f7f\u7528 wazuh server\u5b89\u88c5 rpm -ivh wazuh-manager-3.3.1-1.x86_64.rpm # \u542f\u52a8\u670d\u52a1 systemctl start wazuh-manager.service systemctl status wazuh-manager.service wazuh api\u5b89\u88c5 \u5b89\u88c5nodejs wget -qO- https://rpm.nodesource.com/setup_8.x | bash - # \u8fd9\u91cc\u7684\u7248\u672c\u4f1a\u5bfc\u81f4\u540e\u9762\u7684\u62a5\u9519 yum install nodejs.x86_64 \u5b89\u88c5python2\uff08Centos7\u9ed8\u8ba4python2\uff09 \u5b89\u88c5wazuh api rpm -ivh wazuh-api-3.3.1-1.x86_64.rpm systemctl start wazuh-api.service systemctl status wazuh-api.service wazuh client\u5b89\u88c5 rpm -ivh wazuh-agent-3.3.1-1.x86_64.rpm # \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 vim /var/ossec/etc/ossec.conf # \u5bfc\u5165\u5bc6\u94a5 /var/ossec/bin/manage_agents # \u542f\u52a8\u670d\u52a1 /var/ossec/bin/ossec-control start ELK\u5b89\u88c5 \u5b89\u88c5ElasticSearch # \u5b89\u88c5java yum install java-1.8.0-openjdk.x86_64 java-1.8.0-openjdk-devel.x86_64 -y # \u5b89\u88c5es rpm -ivh elasticsearch-6.3.0.rpm # \u542f\u52a8\u670d\u52a1 systemctl start elasticsearch.service # \u521b\u5efatemplate curl https://raw.githubusercontent.com/wazuh/wazuh/3.3/extensions/elasticsearch/wazuh-elastic6-template-alerts.json | curl -XPUT 'http://localhost:9200/_template/wazuh' -H 'Content-Type: application/json' -d @- \u5b89\u88c5Logstash # \u5b89\u88c5Logstash ln -s /usr/share/jdk1.8.0_171/bin/java /usr/sbin/java rpm -ivh logstash-6.3.0.rpm # Logstash\u914d\u7f6e\u6587\u4ef6 wget https://raw.githubusercontent.com/wazuh/wazuh/3.3/extensions/logstash/01-wazuh-local.conf -O /etc/logstash/conf.d/01-wazuh.conf # \u542f\u52a8\u670d\u52a1 systemctl start logstash.service \u5b89\u88c5Kibana rpm -ivh kibana-6.3.0-x86_64.rpm # \u5b89\u88c5\u63d2\u4ef6 export NODE_OPTIONS= --max-old-space-size=3072 /usr/share/kibana/bin/kibana-plugin install https://packages.wazuh.com/wazuhapp/wazuhapp-3.3.1_6.3.0.zip #\u5378\u8f7d\u63d2\u4ef6 /usr/share/kibana/bin/kibana-plugin remove wazuh \u5907\u6ce8\uff1a\u5b89\u88c5Kibana\u63d2\u4ef6\u4f1a\u62a5\u9519 DeprecationWarning: os.tmpDir() is deprecated. Use os.tmpdir() instead. \u89e3\u51b3\u65b9\u6848\uff1a \u4f7f\u7528nodejs\u7248\u672c10 wget -qO- https://rpm.nodesource.com/setup_10.x | bash - # \u914d\u7f6enodejs\u6e90 wazuh+ELK+Filebeat \u914d\u7f6efilebeat vim /etc/filebeat/filebeat.yml filebeat.yml\u6587\u4ef6\u5185\u5bb9\uff1a filebeat.inputs: - type: log paths: - /var/ossec/logs/alerts/alerts.json document_type: json json.message_key: log json.keys_under_root: true json.overwrite_keys: true output.logstash: hosts: [ localhost:5044 ] \u914d\u7f6elogstash vim /etc/logstash/conf.d/wazuh.conf wazuh.conf\u6587\u4ef6\u5185\u5bb9\uff1a input { beats { port = 5044 codec = json_lines } } filter { if [data][srcip] { mutate { add_field = [ @src_ip , %{[data][srcip]} ] } } if [data][aws][sourceIPAddress] { mutate { add_field = [ @src_ip , %{[data][aws][sourceIPAddress]} ] } } } filter { geoip { source = @src_ip target = GeoLocation fields = [ city_name , country_name , region_name , location ] } date { match = [ timestamp , ISO8601 ] target = @timestamp } mutate { remove_field = [ timestamp , beat , input_type , tags , count , @version , log , offset , type , @src_ip , host ] } } output { elasticsearch { hosts = [ localhost:9200 ] index = wazuh-alerts-3.x-%{+YYYY.MM.dd} document_type = wazuh } } wazuh\u5ba2\u6237\u7aef\u81ea\u52a8\u5316\u90e8\u7f72 \u5bf9\u4e8e\u4e92\u8054\u7f51\u516c\u53f8\u6765\u8bf4\uff0c\u4f01\u4e1a\u670d\u52a1\u5668\u5f88\u591a\u65f6\u5019\u53d8\u5316\u5f88\u9891\u7e41\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u505a\u5230\u81ea\u52a8\u5316\u6765\u90e8\u7f72agent\uff0c\u540c\u6837\u5728\u670d\u52a1\u5668\u91cf\u7ea7\u5f88\u5927\u7684\u65f6\u5019\u6211\u4eec\u4e5f\u9700\u8981\u4e00\u952e\u90e8\u7f72\u3002 \u5bf9\u4e8eagent\u6bd4\u8f83\u91cd\u8981\u7684\u5c31\u662f\u670d\u52a1\u7aef\u5148\u751f\u6210\u5bc6\u94a5\uff0c\u7136\u540e\u5ba2\u6237\u7aef\u83b7\u53d6\u5bc6\u94a5\u5bfc\u5165\u6587\u4ef6\u4e2d\u3002 \u53c2\u8003\u5730\u5740 \u4ee3\u7801\u5b9e\u73b0 \u4ee3\u7801\u5730\u5740 \u5927\u5bb6\u53ef\u4ee5\u6839\u636e\u9700\u6c42\u6765\u8fdb\u884c\u4fee\u6539\uff0c\u4fee\u6539\u5b8c\u6210\u4ee5\u540e\u5c31\u53ef\u4ee5\u4e0e\u8fd0\u7ef4\u534f\u8c03\u5728\u7cfb\u7edf\u521d\u59cb\u5316\u7684\u65f6\u5019\u52a0\u5165\u5ba2\u6237\u7aef\u81ea\u52a8\u90e8\u7f72\u7684\u4ee3\u7801\u3002","title":"wazuh \u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b\u7cfb\u7edf"},{"location":"infrastructure-security/host-security/ids-ips/wazuh/#wazuh","text":"\u5b98\u7f51\u5730\u5740 \u5b98\u65b9\u6587\u6863","title":"wazuh \u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b\u7cfb\u7edf"},{"location":"infrastructure-security/host-security/ids-ips/wazuh/#_1","text":"","title":"\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"infrastructure-security/host-security/ids-ips/wazuh/#wazuh-server","text":"rpm -ivh wazuh-manager-3.3.1-1.x86_64.rpm # \u542f\u52a8\u670d\u52a1 systemctl start wazuh-manager.service systemctl status wazuh-manager.service","title":"wazuh server\u5b89\u88c5"},{"location":"infrastructure-security/host-security/ids-ips/wazuh/#wazuh-api","text":"\u5b89\u88c5nodejs wget -qO- https://rpm.nodesource.com/setup_8.x | bash - # \u8fd9\u91cc\u7684\u7248\u672c\u4f1a\u5bfc\u81f4\u540e\u9762\u7684\u62a5\u9519 yum install nodejs.x86_64 \u5b89\u88c5python2\uff08Centos7\u9ed8\u8ba4python2\uff09 \u5b89\u88c5wazuh api rpm -ivh wazuh-api-3.3.1-1.x86_64.rpm systemctl start wazuh-api.service systemctl status wazuh-api.service","title":"wazuh api\u5b89\u88c5"},{"location":"infrastructure-security/host-security/ids-ips/wazuh/#wazuh-client","text":"rpm -ivh wazuh-agent-3.3.1-1.x86_64.rpm # \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 vim /var/ossec/etc/ossec.conf # \u5bfc\u5165\u5bc6\u94a5 /var/ossec/bin/manage_agents # \u542f\u52a8\u670d\u52a1 /var/ossec/bin/ossec-control start","title":"wazuh client\u5b89\u88c5"},{"location":"infrastructure-security/host-security/ids-ips/wazuh/#elk","text":"\u5b89\u88c5ElasticSearch # \u5b89\u88c5java yum install java-1.8.0-openjdk.x86_64 java-1.8.0-openjdk-devel.x86_64 -y # \u5b89\u88c5es rpm -ivh elasticsearch-6.3.0.rpm # \u542f\u52a8\u670d\u52a1 systemctl start elasticsearch.service # \u521b\u5efatemplate curl https://raw.githubusercontent.com/wazuh/wazuh/3.3/extensions/elasticsearch/wazuh-elastic6-template-alerts.json | curl -XPUT 'http://localhost:9200/_template/wazuh' -H 'Content-Type: application/json' -d @- \u5b89\u88c5Logstash # \u5b89\u88c5Logstash ln -s /usr/share/jdk1.8.0_171/bin/java /usr/sbin/java rpm -ivh logstash-6.3.0.rpm # Logstash\u914d\u7f6e\u6587\u4ef6 wget https://raw.githubusercontent.com/wazuh/wazuh/3.3/extensions/logstash/01-wazuh-local.conf -O /etc/logstash/conf.d/01-wazuh.conf # \u542f\u52a8\u670d\u52a1 systemctl start logstash.service \u5b89\u88c5Kibana rpm -ivh kibana-6.3.0-x86_64.rpm # \u5b89\u88c5\u63d2\u4ef6 export NODE_OPTIONS= --max-old-space-size=3072 /usr/share/kibana/bin/kibana-plugin install https://packages.wazuh.com/wazuhapp/wazuhapp-3.3.1_6.3.0.zip #\u5378\u8f7d\u63d2\u4ef6 /usr/share/kibana/bin/kibana-plugin remove wazuh \u5907\u6ce8\uff1a\u5b89\u88c5Kibana\u63d2\u4ef6\u4f1a\u62a5\u9519 DeprecationWarning: os.tmpDir() is deprecated. Use os.tmpdir() instead. \u89e3\u51b3\u65b9\u6848\uff1a \u4f7f\u7528nodejs\u7248\u672c10 wget -qO- https://rpm.nodesource.com/setup_10.x | bash - # \u914d\u7f6enodejs\u6e90","title":"ELK\u5b89\u88c5"},{"location":"infrastructure-security/host-security/ids-ips/wazuh/#wazuhelkfilebeat","text":"","title":"wazuh+ELK+Filebeat"},{"location":"infrastructure-security/host-security/ids-ips/wazuh/#filebeat","text":"vim /etc/filebeat/filebeat.yml filebeat.yml\u6587\u4ef6\u5185\u5bb9\uff1a filebeat.inputs: - type: log paths: - /var/ossec/logs/alerts/alerts.json document_type: json json.message_key: log json.keys_under_root: true json.overwrite_keys: true output.logstash: hosts: [ localhost:5044 ]","title":"\u914d\u7f6efilebeat"},{"location":"infrastructure-security/host-security/ids-ips/wazuh/#logstash","text":"vim /etc/logstash/conf.d/wazuh.conf wazuh.conf\u6587\u4ef6\u5185\u5bb9\uff1a input { beats { port = 5044 codec = json_lines } } filter { if [data][srcip] { mutate { add_field = [ @src_ip , %{[data][srcip]} ] } } if [data][aws][sourceIPAddress] { mutate { add_field = [ @src_ip , %{[data][aws][sourceIPAddress]} ] } } } filter { geoip { source = @src_ip target = GeoLocation fields = [ city_name , country_name , region_name , location ] } date { match = [ timestamp , ISO8601 ] target = @timestamp } mutate { remove_field = [ timestamp , beat , input_type , tags , count , @version , log , offset , type , @src_ip , host ] } } output { elasticsearch { hosts = [ localhost:9200 ] index = wazuh-alerts-3.x-%{+YYYY.MM.dd} document_type = wazuh } }","title":"\u914d\u7f6elogstash"},{"location":"infrastructure-security/host-security/ids-ips/wazuh/#wazuh_1","text":"\u5bf9\u4e8e\u4e92\u8054\u7f51\u516c\u53f8\u6765\u8bf4\uff0c\u4f01\u4e1a\u670d\u52a1\u5668\u5f88\u591a\u65f6\u5019\u53d8\u5316\u5f88\u9891\u7e41\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u505a\u5230\u81ea\u52a8\u5316\u6765\u90e8\u7f72agent\uff0c\u540c\u6837\u5728\u670d\u52a1\u5668\u91cf\u7ea7\u5f88\u5927\u7684\u65f6\u5019\u6211\u4eec\u4e5f\u9700\u8981\u4e00\u952e\u90e8\u7f72\u3002 \u5bf9\u4e8eagent\u6bd4\u8f83\u91cd\u8981\u7684\u5c31\u662f\u670d\u52a1\u7aef\u5148\u751f\u6210\u5bc6\u94a5\uff0c\u7136\u540e\u5ba2\u6237\u7aef\u83b7\u53d6\u5bc6\u94a5\u5bfc\u5165\u6587\u4ef6\u4e2d\u3002 \u53c2\u8003\u5730\u5740","title":"wazuh\u5ba2\u6237\u7aef\u81ea\u52a8\u5316\u90e8\u7f72"},{"location":"infrastructure-security/host-security/ids-ips/wazuh/#_2","text":"\u4ee3\u7801\u5730\u5740 \u5927\u5bb6\u53ef\u4ee5\u6839\u636e\u9700\u6c42\u6765\u8fdb\u884c\u4fee\u6539\uff0c\u4fee\u6539\u5b8c\u6210\u4ee5\u540e\u5c31\u53ef\u4ee5\u4e0e\u8fd0\u7ef4\u534f\u8c03\u5728\u7cfb\u7edf\u521d\u59cb\u5316\u7684\u65f6\u5019\u52a0\u5165\u5ba2\u6237\u7aef\u81ea\u52a8\u90e8\u7f72\u7684\u4ee3\u7801\u3002","title":"\u4ee3\u7801\u5b9e\u73b0"},{"location":"infrastructure-security/host-security/log-analysis/","text":"\u65e5\u5fd7\u5206\u6790 Web\u65e5\u5fd7\u5206\u6790\u76ee\u6807 \u8fd4\u56de\u72b6\u6001\u7801\u5206\u5e03\u56fe\uff1a\u9488\u5bf9Java\u51fa\u73b0\u5927\u91cf500\u7684\u60c5\u51b5\u9700\u8981\u6ce8\u610f\uff1b PV\u8d8b\u52bf\u56fe\uff1a \u6e90IP\u5206\u5e03\u56fe\uff1a \u6765\u6e90\u56fd\u5bb6\u6392\u884c\uff1a \u6765\u6e90\u57ce\u5e02\u6392\u884c\uff1a \u72ec\u7acbIP\u8bbf\u95ee\u8d8b\u52bf\u56fe\uff1a \u8bbf\u95ee\u8def\u5f84\u6392\u884c\uff1a \u8bbf\u95ee\u6765\u6e90\u6392\u884c\uff1a \u6d4f\u89c8\u5668\u5206\u5e03\u56fe\uff1a \u7279\u5b9a\u63a5\u53e3\u8bbf\u95ee\u56fe\uff1a \u65e5\u5fd7\u5206\u6790\u67b6\u6784 \u6211\u4eec\u4f01\u4e1a\u5185\u90e8\u4f7f\u7528\u7684\u67b6\u6784\uff1a \u65e5\u5fd7\u6e90-- rsyslog client-- rsyslog server-- kafka cluster-- ELK cluster rsyslog client # \u5bfc\u5165\u6a21\u5757 module(load= imfile mode= inotify ) # \u8bbe\u7f6e\u5de5\u4f5c\u76ee\u5f55 $WorkDirectory /var/lib/rsyslog $ActionQueueWorkerThreads 1 $ActionQueueDequeueBatchSize 30 $ActionQueueDequeueSlowdown 300 $ActionQueueDiscardSeverity 8 $ActionQueueFileName action_queue_buffer_bitun_nginx_access $ActionQueueMaxDiskSpace 10m $ActionQueueSaveOnShutdown on $MaxMessageSize 64k input(type= imfile File= log-path Tag= tag_name Severity= info PersistStateInterval= 20000 reopenOnTruncate= on ) if $programname == 'tag_name' then @@Rsyslog Server IP:Port if $programname == 'tag_name' then stop rsyslog server module(load= omkafka ) $SystemLogSocketFlowControl on #\u5982\u679c\u961f\u5217\u6ee1\u4e86\uff0c\u4f1a\u6682\u505c\u4e00\u4f1a\u7b49\u5f85\u961f\u5217\u6d88\u8017 $SystemLogRateLimitInterval 0 #default 0 \u901f\u7387\u9650\u5236\uff0c\u6539\u4e3a0\u4e0d\u9650\u5236 $ActionQueueType LinkedList # use asynchronous processing $ActionQueueFileName backup_local # set file name, also enables disk mode $ActionResumeRetryCount -1 # infinite retries on insert failure $ActionQueueSaveOnShutdown on $ActionQueueMaxFileSize 500m $ActionQueueMaxDiskSpace 10g $template l7_msg, %msg:1:$% :rawmsg, contains, tag_name action( type= omkafka broker= Kafka Server IP:Port(\u9ed8\u8ba49092) topic= topic_name partitions.number= 10 confParam=[ socket.keepalive.enable=true ] template= l7_msg action.resumeretrycount= 1 ) kafka cluster # \u521b\u5efa\u597dtopic Logstash input { kafka { bootstrap_servers = [ Kakfa Server IP:Port(\u9ed8\u8ba49092) ] topics = [ topic_name ] type = httpd } } output { elasticsearch { hosts = [ ElasticSearch Server IP:Port(\u9ed8\u8ba49200) ] index = httpd-%{+YYYY.MM} } } \u65e5\u5fd7\u6e90 \u65e5\u5fd7\u91c7\u96c6 rsyslog \u53c2\u8003\uff1a\u65e5\u5fd7\u5206\u6790\u67b6\u6784\u4e00\u8282 \u5b98\u65b9\u6587\u6863 Beats Filebeat\uff1a Packetbeat\uff1a Metricbeat\uff1a Winlogbeat\uff1a Beats\u5b89\u88c5 \u5b89\u88c5\u6587\u6863 Beats\u914d\u7f6e Input \u914d\u7f6e Output \u914d\u7f6e Beats\u6848\u4f8b Flume source\uff1a channel\uff1a sink\uff1a Flume\u5b89\u88c5 # \u89e3\u51b3\u4f9d\u8d56 tar -xf jdk-8u191-linux-x64.tar.gz -C /app/ vim /etc/profile export JAVA_HOME=/app/jdk1.8.0_191 export PATH=$JAVA_HOME/bin:$PATH source /etc/profile # \u9a8c\u8bc1java\u662f\u5426\u5b89\u88c5\u6210\u529f java -version # \u4e0b\u8f7dflume\uff0c\u89e3\u538b\u5230\u6307\u5b9a\u76ee\u5f55 tar -xf apache-flume-1.8.0-bin.tar.gz -C /app/ # \u914d\u7f6e\u73af\u5883\u53d8\u91cf vim /etc/profile /etc/profile\u6587\u4ef6\u5185\u5bb9\uff1a export FLUME_HOME=/app/apache-flume-1.8.0-bin export PATH=$FLUME_HOME/bin:$PATH source /etc/profile # \u914d\u7f6eflume\u8fd0\u884c\u73af\u5883\u6587\u4ef6 cp /app/apache-flume-1.8.0-bin/conf/flume-env.sh.template /app/apache-flume-1.8.0-bin/conf/flume-env.sh vim /app/apache-flume-1.8.0-bin/conf/flume-env.sh flume-env.sh\u6587\u4ef6\u5185\u5bb9\uff1a export JAVA_HOME=JAVA_PATH # \u67e5\u770b\u662f\u5426\u5b89\u88c5\u5b8c\u6210 flume-ng version Flume\u6848\u4f8b\uff1a\u4ece\u6307\u5b9a\u7f51\u7edc\u7aef\u53e3\u91c7\u96c6\u6570\u636e\u8f93\u51fa\u5230\u63a7\u5236\u53f0 \u5b98\u65b9\u6587\u6863 \u521b\u5efa\u914d\u7f6e\u6587\u4ef6\uff1a vim /app/apache-flume-1.8.0-bin/conf/example-1.conf example-1.conf\u6587\u4ef6\u5185\u5bb9\uff1a # a1:agent\u540d\u79f0 # r1:source\u540d\u79f0 # c1:channel\u540d\u79f0 # k1:sink\u540d\u79f0 # Name the components on this agent a1.sources = r1 a1.channels = c1 a1.sinks = k1 # Describe/configure the source a1.sources.r1.type = netcat a1.sources.r1.bind = localhost a1.sources.r1.port = 44444 # Describe the sink a1.sinks.k1.type = logger # Use a channel which buffers events in memory a1.channels.c1.type = memory a1.channels.c1.capacity = 1000 a1.channels.c1.transactionCapacity = 100 # Bind the source and sink to the channel a1.sources.r1.channels = c1 a1.sinks.k1.channel = c1 \u6267\u884c\u547d\u4ee4\uff1a flume-ng agent --name a1 --conf /app/apache-flume-1.8.0-bin/conf \\ --conf-file /app/apache-flume-1.8.0-bin/conf/example-1.conf \\ -Dflume.root.logger=INFO,console # \u5907\u6ce8\uff1a-Dflume.root.logger=INFO,console\uff08java\u53c2\u6570\uff0cINFO\u8f93\u51fa\u5230\u63a7\u5236\u53f0\uff09 \u5bf9\u8f93\u51fa\u7ed3\u679c\u7684\u8bf4\u660e\uff1a Event\u662fFlume\u6570\u636e\u4f20\u8f93\u7684\u57fa\u672c\u5355\u5143\uff0cEvent=[header(\u53ef\u9009)] + body(\u5fc5\u9009) Flume\u6848\u4f8b\uff1a\u5b9e\u65f6\u76d1\u63a7\u6587\u4ef6\u65b0\u589e\u6570\u636e\u8f93\u51fa\u5230\u63a7\u5236\u53f0 \u521b\u5efa\u914d\u7f6e\u6587\u4ef6\uff1a vim /app/apache-flume-1.8.0-bin/conf/example-2.conf example-2.conf\u6587\u4ef6\u5185\u5bb9\uff1a # Name the components on this agent a1.sources = r1 a1.sinks = k1 a1.channels = c1 # Describe/configure the source a1.sources.r1.type = exec a1.sources.r1.command = tail -F /var/log/messages a1.sources.r1.shell = /bin/sh -c # Describe the sink a1.sinks.k1.type = logger # Use a channel which buffers events in memory a1.channels.c1.type = memory a1.channels.c1.capacity = 1000 a1.channels.c1.transactionCapacity = 100 # Bind the source and sink to the channel a1.sources.r1.channels = c1 a1.sinks.k1.channel = c1 \u6267\u884c\u547d\u4ee4\uff1a flume-ng agent --name a1 --conf /app/apache-flume-1.8.0-bin/conf \\ --conf-file /app/apache-flume-1.8.0-bin/conf/example-2.conf \\ -Dflume.root.logger=INFO,console Flume\u6848\u4f8b\uff1a\u5c06Server1\u7684\u65e5\u5fd7\u4f20\u8f93\u5230Server2\u7684\u63a7\u5236\u53f0 \u5728sever1\u521b\u5efa\u914d\u7f6e\u6587\u4ef6\uff1a vim /app/apache-flume-1.8.0-bin/conf/exec-memory-avro.conf exec-memory-avro.conf\u6587\u4ef6\u5185\u5bb9\uff1a exec-memory-avro.sources = exec-source exec-memory-avro.sinks = avro-sink exec-memory-avro.channels = memory-channel exec-memory-avro.sources.exec-source.type = exec exec-memory-avro.sources.exec-source.command = tail -F /var/log/messages exec-memory-avro.sources.exec-source.shell = /bin/sh -c exec-memory-avro.sinks.avro-sink.type = avro exec-memory-avro.sinks.avro-sink.hostname = localhost exec-memory-avro.sinks.avro-sink.port = 44444 exec-memory-avro.channels.memory-channel.type = memory exec-memory-avro.channels.memory-channel.capacity = 1000 exec-memory-avro.channels.memory-channel.transactionCapacity = 100 exec-memory-avro.sources.exec-source.channels = memory-channel exec-memory-avro.sinks.avro-sink.channel = memory-channel \u5728server2\u521b\u5efa\u914d\u7f6e\u6587\u4ef6\uff1a vim /app/apache-flume-1.8.0-bin/conf/avro-memory-logger.conf avro-memory-logger.conf\u6587\u4ef6\u5185\u5bb9\uff1a avro-memory-logger.sources = avro-source avro-memory-logger.sinks = logger-sink avro-memory-logger.channels = memory-channel avro-memory-logger.sources.avro-source.type = avro avro-memory-logger.sources.avro-source.bind = localhost avro-memory-logger.sources.avro-source.port = 44444 avro-memory-logger.sinks.logger-sink.type = logger avro-memory-logger.channels.memory-channel.type = memory avro-memory-logger.channels.memory-channel.capacity = 1000 avro-memory-logger.channels.memory-channel.transactionCapacity = 100 avro-memory-logger.sources.avro-source.channels = memory-channel avro-memory-logger.sinks.logger-sink.channel = memory-channel \u6267\u884c\u547d\u4ee4\uff1a \u5148\u5728server2\u6267\u884c\uff0c\u518d\u6267\u884cserver1 flume-ng agent --name avro-memory-logger --conf /app/apache-flume-1.8.0-bin/conf \\ --conf-file /app/apache-flume-1.8.0-bin/conf/avro-memory-logger.conf \\ -Dflume.root.logger=INFO,console flume-ng agent --name exec-memory-avro --conf /app/apache-flume-1.8.0-bin/conf \\ --conf-file /app/apache-flume-1.8.0-bin/conf/exec-memory-avro.conf \\ -Dflume.root.logger=INFO,console Logstash \u5b98\u65b9\u6587\u6863 \u65e5\u5fd7\u5904\u7406 Logstash filter Spark or Storm \u65e5\u5fd7\u5b58\u50a8 Database ElasticSearch Hive HBase \u53ef\u89c6\u5316\u5c55\u793a(\u65e5\u5fd7\u4ef7\u503c) Kibana Graylog \u65e5\u5fd7\u5206\u6790\u5e73\u53f0\u5bf9\u6bd4 \u53c2\u8003\u8d44\u6599 \u51e0\u5341\u6761\u4e1a\u52a1\u7ebf\u65e5\u5fd7\u7cfb\u7edf\u5982\u4f55\u6536\u96c6\u5904\u7406\uff1f Splunk vs ELK","title":"\u65e5\u5fd7\u5206\u6790"},{"location":"infrastructure-security/host-security/log-analysis/#_1","text":"","title":"\u65e5\u5fd7\u5206\u6790"},{"location":"infrastructure-security/host-security/log-analysis/#web","text":"\u8fd4\u56de\u72b6\u6001\u7801\u5206\u5e03\u56fe\uff1a\u9488\u5bf9Java\u51fa\u73b0\u5927\u91cf500\u7684\u60c5\u51b5\u9700\u8981\u6ce8\u610f\uff1b PV\u8d8b\u52bf\u56fe\uff1a \u6e90IP\u5206\u5e03\u56fe\uff1a \u6765\u6e90\u56fd\u5bb6\u6392\u884c\uff1a \u6765\u6e90\u57ce\u5e02\u6392\u884c\uff1a \u72ec\u7acbIP\u8bbf\u95ee\u8d8b\u52bf\u56fe\uff1a \u8bbf\u95ee\u8def\u5f84\u6392\u884c\uff1a \u8bbf\u95ee\u6765\u6e90\u6392\u884c\uff1a \u6d4f\u89c8\u5668\u5206\u5e03\u56fe\uff1a \u7279\u5b9a\u63a5\u53e3\u8bbf\u95ee\u56fe\uff1a","title":"Web\u65e5\u5fd7\u5206\u6790\u76ee\u6807"},{"location":"infrastructure-security/host-security/log-analysis/#_2","text":"\u6211\u4eec\u4f01\u4e1a\u5185\u90e8\u4f7f\u7528\u7684\u67b6\u6784\uff1a \u65e5\u5fd7\u6e90-- rsyslog client-- rsyslog server-- kafka cluster-- ELK cluster rsyslog client # \u5bfc\u5165\u6a21\u5757 module(load= imfile mode= inotify ) # \u8bbe\u7f6e\u5de5\u4f5c\u76ee\u5f55 $WorkDirectory /var/lib/rsyslog $ActionQueueWorkerThreads 1 $ActionQueueDequeueBatchSize 30 $ActionQueueDequeueSlowdown 300 $ActionQueueDiscardSeverity 8 $ActionQueueFileName action_queue_buffer_bitun_nginx_access $ActionQueueMaxDiskSpace 10m $ActionQueueSaveOnShutdown on $MaxMessageSize 64k input(type= imfile File= log-path Tag= tag_name Severity= info PersistStateInterval= 20000 reopenOnTruncate= on ) if $programname == 'tag_name' then @@Rsyslog Server IP:Port if $programname == 'tag_name' then stop rsyslog server module(load= omkafka ) $SystemLogSocketFlowControl on #\u5982\u679c\u961f\u5217\u6ee1\u4e86\uff0c\u4f1a\u6682\u505c\u4e00\u4f1a\u7b49\u5f85\u961f\u5217\u6d88\u8017 $SystemLogRateLimitInterval 0 #default 0 \u901f\u7387\u9650\u5236\uff0c\u6539\u4e3a0\u4e0d\u9650\u5236 $ActionQueueType LinkedList # use asynchronous processing $ActionQueueFileName backup_local # set file name, also enables disk mode $ActionResumeRetryCount -1 # infinite retries on insert failure $ActionQueueSaveOnShutdown on $ActionQueueMaxFileSize 500m $ActionQueueMaxDiskSpace 10g $template l7_msg, %msg:1:$% :rawmsg, contains, tag_name action( type= omkafka broker= Kafka Server IP:Port(\u9ed8\u8ba49092) topic= topic_name partitions.number= 10 confParam=[ socket.keepalive.enable=true ] template= l7_msg action.resumeretrycount= 1 ) kafka cluster # \u521b\u5efa\u597dtopic Logstash input { kafka { bootstrap_servers = [ Kakfa Server IP:Port(\u9ed8\u8ba49092) ] topics = [ topic_name ] type = httpd } } output { elasticsearch { hosts = [ ElasticSearch Server IP:Port(\u9ed8\u8ba49200) ] index = httpd-%{+YYYY.MM} } }","title":"\u65e5\u5fd7\u5206\u6790\u67b6\u6784"},{"location":"infrastructure-security/host-security/log-analysis/#_3","text":"","title":"\u65e5\u5fd7\u6e90"},{"location":"infrastructure-security/host-security/log-analysis/#_4","text":"","title":"\u65e5\u5fd7\u91c7\u96c6"},{"location":"infrastructure-security/host-security/log-analysis/#rsyslog","text":"\u53c2\u8003\uff1a\u65e5\u5fd7\u5206\u6790\u67b6\u6784\u4e00\u8282 \u5b98\u65b9\u6587\u6863","title":"rsyslog"},{"location":"infrastructure-security/host-security/log-analysis/#beats","text":"Filebeat\uff1a Packetbeat\uff1a Metricbeat\uff1a Winlogbeat\uff1a Beats\u5b89\u88c5 \u5b89\u88c5\u6587\u6863 Beats\u914d\u7f6e Input \u914d\u7f6e Output \u914d\u7f6e Beats\u6848\u4f8b","title":"Beats"},{"location":"infrastructure-security/host-security/log-analysis/#flume","text":"source\uff1a channel\uff1a sink\uff1a Flume\u5b89\u88c5 # \u89e3\u51b3\u4f9d\u8d56 tar -xf jdk-8u191-linux-x64.tar.gz -C /app/ vim /etc/profile export JAVA_HOME=/app/jdk1.8.0_191 export PATH=$JAVA_HOME/bin:$PATH source /etc/profile # \u9a8c\u8bc1java\u662f\u5426\u5b89\u88c5\u6210\u529f java -version # \u4e0b\u8f7dflume\uff0c\u89e3\u538b\u5230\u6307\u5b9a\u76ee\u5f55 tar -xf apache-flume-1.8.0-bin.tar.gz -C /app/ # \u914d\u7f6e\u73af\u5883\u53d8\u91cf vim /etc/profile /etc/profile\u6587\u4ef6\u5185\u5bb9\uff1a export FLUME_HOME=/app/apache-flume-1.8.0-bin export PATH=$FLUME_HOME/bin:$PATH source /etc/profile # \u914d\u7f6eflume\u8fd0\u884c\u73af\u5883\u6587\u4ef6 cp /app/apache-flume-1.8.0-bin/conf/flume-env.sh.template /app/apache-flume-1.8.0-bin/conf/flume-env.sh vim /app/apache-flume-1.8.0-bin/conf/flume-env.sh flume-env.sh\u6587\u4ef6\u5185\u5bb9\uff1a export JAVA_HOME=JAVA_PATH # \u67e5\u770b\u662f\u5426\u5b89\u88c5\u5b8c\u6210 flume-ng version Flume\u6848\u4f8b\uff1a\u4ece\u6307\u5b9a\u7f51\u7edc\u7aef\u53e3\u91c7\u96c6\u6570\u636e\u8f93\u51fa\u5230\u63a7\u5236\u53f0 \u5b98\u65b9\u6587\u6863 \u521b\u5efa\u914d\u7f6e\u6587\u4ef6\uff1a vim /app/apache-flume-1.8.0-bin/conf/example-1.conf example-1.conf\u6587\u4ef6\u5185\u5bb9\uff1a # a1:agent\u540d\u79f0 # r1:source\u540d\u79f0 # c1:channel\u540d\u79f0 # k1:sink\u540d\u79f0 # Name the components on this agent a1.sources = r1 a1.channels = c1 a1.sinks = k1 # Describe/configure the source a1.sources.r1.type = netcat a1.sources.r1.bind = localhost a1.sources.r1.port = 44444 # Describe the sink a1.sinks.k1.type = logger # Use a channel which buffers events in memory a1.channels.c1.type = memory a1.channels.c1.capacity = 1000 a1.channels.c1.transactionCapacity = 100 # Bind the source and sink to the channel a1.sources.r1.channels = c1 a1.sinks.k1.channel = c1 \u6267\u884c\u547d\u4ee4\uff1a flume-ng agent --name a1 --conf /app/apache-flume-1.8.0-bin/conf \\ --conf-file /app/apache-flume-1.8.0-bin/conf/example-1.conf \\ -Dflume.root.logger=INFO,console # \u5907\u6ce8\uff1a-Dflume.root.logger=INFO,console\uff08java\u53c2\u6570\uff0cINFO\u8f93\u51fa\u5230\u63a7\u5236\u53f0\uff09 \u5bf9\u8f93\u51fa\u7ed3\u679c\u7684\u8bf4\u660e\uff1a Event\u662fFlume\u6570\u636e\u4f20\u8f93\u7684\u57fa\u672c\u5355\u5143\uff0cEvent=[header(\u53ef\u9009)] + body(\u5fc5\u9009) Flume\u6848\u4f8b\uff1a\u5b9e\u65f6\u76d1\u63a7\u6587\u4ef6\u65b0\u589e\u6570\u636e\u8f93\u51fa\u5230\u63a7\u5236\u53f0 \u521b\u5efa\u914d\u7f6e\u6587\u4ef6\uff1a vim /app/apache-flume-1.8.0-bin/conf/example-2.conf example-2.conf\u6587\u4ef6\u5185\u5bb9\uff1a # Name the components on this agent a1.sources = r1 a1.sinks = k1 a1.channels = c1 # Describe/configure the source a1.sources.r1.type = exec a1.sources.r1.command = tail -F /var/log/messages a1.sources.r1.shell = /bin/sh -c # Describe the sink a1.sinks.k1.type = logger # Use a channel which buffers events in memory a1.channels.c1.type = memory a1.channels.c1.capacity = 1000 a1.channels.c1.transactionCapacity = 100 # Bind the source and sink to the channel a1.sources.r1.channels = c1 a1.sinks.k1.channel = c1 \u6267\u884c\u547d\u4ee4\uff1a flume-ng agent --name a1 --conf /app/apache-flume-1.8.0-bin/conf \\ --conf-file /app/apache-flume-1.8.0-bin/conf/example-2.conf \\ -Dflume.root.logger=INFO,console Flume\u6848\u4f8b\uff1a\u5c06Server1\u7684\u65e5\u5fd7\u4f20\u8f93\u5230Server2\u7684\u63a7\u5236\u53f0 \u5728sever1\u521b\u5efa\u914d\u7f6e\u6587\u4ef6\uff1a vim /app/apache-flume-1.8.0-bin/conf/exec-memory-avro.conf exec-memory-avro.conf\u6587\u4ef6\u5185\u5bb9\uff1a exec-memory-avro.sources = exec-source exec-memory-avro.sinks = avro-sink exec-memory-avro.channels = memory-channel exec-memory-avro.sources.exec-source.type = exec exec-memory-avro.sources.exec-source.command = tail -F /var/log/messages exec-memory-avro.sources.exec-source.shell = /bin/sh -c exec-memory-avro.sinks.avro-sink.type = avro exec-memory-avro.sinks.avro-sink.hostname = localhost exec-memory-avro.sinks.avro-sink.port = 44444 exec-memory-avro.channels.memory-channel.type = memory exec-memory-avro.channels.memory-channel.capacity = 1000 exec-memory-avro.channels.memory-channel.transactionCapacity = 100 exec-memory-avro.sources.exec-source.channels = memory-channel exec-memory-avro.sinks.avro-sink.channel = memory-channel \u5728server2\u521b\u5efa\u914d\u7f6e\u6587\u4ef6\uff1a vim /app/apache-flume-1.8.0-bin/conf/avro-memory-logger.conf avro-memory-logger.conf\u6587\u4ef6\u5185\u5bb9\uff1a avro-memory-logger.sources = avro-source avro-memory-logger.sinks = logger-sink avro-memory-logger.channels = memory-channel avro-memory-logger.sources.avro-source.type = avro avro-memory-logger.sources.avro-source.bind = localhost avro-memory-logger.sources.avro-source.port = 44444 avro-memory-logger.sinks.logger-sink.type = logger avro-memory-logger.channels.memory-channel.type = memory avro-memory-logger.channels.memory-channel.capacity = 1000 avro-memory-logger.channels.memory-channel.transactionCapacity = 100 avro-memory-logger.sources.avro-source.channels = memory-channel avro-memory-logger.sinks.logger-sink.channel = memory-channel \u6267\u884c\u547d\u4ee4\uff1a \u5148\u5728server2\u6267\u884c\uff0c\u518d\u6267\u884cserver1 flume-ng agent --name avro-memory-logger --conf /app/apache-flume-1.8.0-bin/conf \\ --conf-file /app/apache-flume-1.8.0-bin/conf/avro-memory-logger.conf \\ -Dflume.root.logger=INFO,console flume-ng agent --name exec-memory-avro --conf /app/apache-flume-1.8.0-bin/conf \\ --conf-file /app/apache-flume-1.8.0-bin/conf/exec-memory-avro.conf \\ -Dflume.root.logger=INFO,console","title":"Flume"},{"location":"infrastructure-security/host-security/log-analysis/#logstash","text":"\u5b98\u65b9\u6587\u6863","title":"Logstash"},{"location":"infrastructure-security/host-security/log-analysis/#_5","text":"","title":"\u65e5\u5fd7\u5904\u7406"},{"location":"infrastructure-security/host-security/log-analysis/#logstash-filter","text":"","title":"Logstash filter"},{"location":"infrastructure-security/host-security/log-analysis/#spark-or-storm","text":"","title":"Spark or Storm"},{"location":"infrastructure-security/host-security/log-analysis/#_6","text":"","title":"\u65e5\u5fd7\u5b58\u50a8"},{"location":"infrastructure-security/host-security/log-analysis/#database","text":"","title":"Database"},{"location":"infrastructure-security/host-security/log-analysis/#elasticsearch","text":"","title":"ElasticSearch"},{"location":"infrastructure-security/host-security/log-analysis/#hive","text":"","title":"Hive"},{"location":"infrastructure-security/host-security/log-analysis/#hbase","text":"","title":"HBase"},{"location":"infrastructure-security/host-security/log-analysis/#_7","text":"","title":"\u53ef\u89c6\u5316\u5c55\u793a(\u65e5\u5fd7\u4ef7\u503c)"},{"location":"infrastructure-security/host-security/log-analysis/#kibana","text":"","title":"Kibana"},{"location":"infrastructure-security/host-security/log-analysis/#graylog","text":"","title":"Graylog"},{"location":"infrastructure-security/host-security/log-analysis/#_8","text":"","title":"\u65e5\u5fd7\u5206\u6790\u5e73\u53f0\u5bf9\u6bd4"},{"location":"infrastructure-security/host-security/log-analysis/#_9","text":"\u51e0\u5341\u6761\u4e1a\u52a1\u7ebf\u65e5\u5fd7\u7cfb\u7edf\u5982\u4f55\u6536\u96c6\u5904\u7406\uff1f Splunk vs ELK","title":"\u53c2\u8003\u8d44\u6599"},{"location":"infrastructure-security/host-security/log-analysis/elk1/","text":"ELK\u65e5\u5fd7\u5206\u6790\u7cfb\u7edf \u5b98\u7f51\u5730\u5740 ElasticSearch \uff1a\u662f\u5b9e\u65f6\u5168\u6587\u641c\u7d22\u548c\u5206\u6790\u5f15\u64ce\uff0c\u63d0\u4f9b\u641c\u96c6\u3001\u5206\u6790\u3001\u5b58\u50a8\u6570\u636e\u4e09\u5927\u529f\u80fd\uff1b\u662f\u4e00\u5957\u5f00\u653eREST\u548cJAVA API\u7b49\u7ed3\u6784\u63d0\u4f9b\u9ad8\u6548\u641c\u7d22\u529f\u80fd\uff0c\u53ef\u6269\u5c55\u7684\u5206\u5e03\u5f0f\u7cfb\u7edf\u3002\u5b83\u6784\u5efa\u4e8eApache Lucene\u641c\u7d22\u5f15\u64ce\u5e93\u4e4b\u4e0a\u3002 Logstash \uff1a\u662f\u4e00\u4e2a\u7528\u6765\u641c\u96c6\u3001\u5206\u6790\u3001\u8fc7\u6ee4\u65e5\u5fd7\u7684\u5de5\u5177\u3002\u5b83\u652f\u6301\u51e0\u4e4e\u4efb\u4f55\u7c7b\u578b\u7684\u65e5\u5fd7\uff0c\u5305\u62ec\u7cfb\u7edf\u65e5\u5fd7\u3001\u9519\u8bef\u65e5\u5fd7\u548c\u81ea\u5b9a\u4e49\u5e94\u7528\u7a0b\u5e8f\u65e5\u5fd7\u3002\u5b83\u53ef\u4ee5\u4ece\u8bb8\u591a\u6765\u6e90\u63a5\u6536\u65e5\u5fd7\uff0c\u8fd9\u4e9b\u6765\u6e90\u5305\u62ecsyslog\u3001\u6d88\u606f\u4f20\u9012\uff08\u4f8b\u5982\uff1aRabbitMQ\uff09\u548cJMX\uff0c\u5b83\u80fd\u591f\u4ee5\u591a\u79cd\u65b9\u5f0f\u8f93\u51fa\u6570\u636e\uff0c\u5305\u62ec\u7535\u5b50\u90ae\u4ef6\u3001WebSocket\u548cElasticSearch\u7b49\u3002 Kibana \uff1a\u662f\u4e00\u4e2a\u57fa\u4e8eWeb\u7684\u56fe\u5f62\u754c\u9762\uff0c\u7528\u4e8e\u641c\u7d22\u3001\u5206\u6790\u548c\u53ef\u89c6\u5316\u5b58\u50a8\u5728ElasticSearch\u6307\u6807\u4e2d\u7684\u65e5\u5fd7\u6570\u636e\u3002\u5b83\u5229\u7528Elasticsearch\u7684REST\u63a5\u53e3\u6765\u68c0\u7d22\u6570\u636e\uff0c\u4e0d\u4ec5\u5141\u8bb8\u7528\u6237\u521b\u5efa\u4ed6\u4eec\u81ea\u5df1\u7684\u6570\u636e\u7684\u5b9a\u5236\u4eea\u8868\u677f\u89c6\u56fe\uff0c\u8fd8\u5141\u8bb8\u4ed6\u4eec\u4ee5\u7279\u6b8a\u7684\u65b9\u5f0f\u67e5\u8be2\u548c\u8fc7\u6ee4\u6570\u636e\u3002 \u67b6\u6784\u5206\u6790 ELK\u57fa\u7840\u67b6\u6784 \u6982\u8ff0\uff1a\u7531Logstash\u5206\u5e03\u4e8e\u5404\u4e2a\u8282\u70b9\u4e0a\u641c\u96c6\u76f8\u5173\u65e5\u5fd7\u3001\u6570\u636e\uff0c\u5e76\u7ecf\u8fc7\u5206\u6790\u3001\u8fc7\u6ee4\u540e\u53d1\u9001\u7ed9\u8fdc\u7aef\u670d\u52a1\u5668\u4e0a\u7684Elasticsearch\u8fdb\u884c\u5b58\u50a8\u3002Elasticsearch\u5c06\u6570\u636e\u4ee5\u5206\u7247\u7684\u5f62\u5f0f\u538b\u7f29\u5b58\u50a8\u5e76\u63d0\u4f9b\u591a\u79cdAPI\u4f9b\u7528\u6237\u67e5\u8be2\uff0c\u64cd\u4f5c\u3002 \u4f18\u70b9\uff1a\u642d\u5efa\u7b80\u5355\u3001\u6613\u4e8e\u4e0a\u624b\u3002 \u7f3a\u70b9\uff1aLogstash\u6d88\u8017\u8d44\u6e90\u8f83\u5927\uff0c\u8fd0\u884c\u5360\u7528CPU\u548c\u5185\u5b58\u9ad8\uff0c\u6ca1\u6709\u6d88\u606f\u961f\u5217\u7f13\u5b58\uff0c\u5b58\u50a8\u6570\u636e\u4e22\u5931\u9690\u60a3\u3002 \u9002\u7528\u573a\u666f\uff1a\u5c0f\u89c4\u6a21\u96c6\u7fa4\u6216\u8005\u5b66\u4e60\u8005\u4f7f\u7528 \u5f15\u5165\u6d88\u606f\u961f\u5217 \u6982\u8ff0\uff1a\u5f15\u5165\u6d88\u606f\u961f\u5217\u673a\u5236\uff0c\u4f4d\u4e8e\u5404\u4e2a\u8282\u70b9\u4e0a\u7684Logstash Agent\u5148\u5c06\u6570\u636e\u4f20\u9012\u5230Kafka\u6216Redis\uff0c\u5e76\u5c06\u961f\u5217\u4e2d\u6d88\u606f\u6216\u6570\u636e\u95f4\u63a5\u4f20\u9012\u7ed9Logstash Server\uff0cLogstash Server\u5206\u6790\u3001\u8fc7\u6ee4\u540e\u5c06\u6570\u636e\u4f20\u9012\u7ed9ES\u5b58\u50a8\u3002 \u4f18\u70b9\uff1a\u5f15\u5165\u6d88\u606f\u961f\u5217\u673a\u5236\uff0c\u5373\u4f7fLogstash Server\u56e0\u6545\u969c\u505c\u6b62\u8fd0\u884c\uff0c\u6570\u636e\u5c06\u4f1a\u5148\u88ab\u6d88\u606f\u961f\u5217\u5b58\u50a8\u4e0b\u6765\uff0c\u4ece\u800c\u907f\u514d\u6570\u636e\u4e22\u5931 \u7f3a\u70b9\uff1a\u7531\u4e8eLogstash\u4e2d\u5fc3\u8282\u70b9\u548cES\u7684\u8d1f\u8377\u4f1a\u6bd4\u8f83\u91cd\uff0c\u53ef\u5c06\u5b83\u4eec\u914d\u7f6e\u4e3a\u96c6\u7fa4\u6a21\u5f0f\uff0c\u4ee5\u5206\u62c5\u8d1f\u8377 \u9002\u7528\u573a\u666f\uff1a\u8f83\u5927\u96c6\u7fa4\u7684\u89e3\u51b3\u65b9\u6848 \u5f15\u5165Logstash-Forwarder \u6982\u8ff0\uff1a\u5f15\u5165Logstash-Forwarder\uff0c\u9996\u5148Logstash-Forwarder\u5c06\u65e5\u5fd7\u6570\u636e\u7edf\u4e00\u53d1\u9001\u7ed9Logstash\uff0c\u7ecf\u8fc7\u5206\u6790\u3001\u8fc7\u6ee4\u540e\u53d1\u9001\u5230ES\u8fdb\u884c\u5b58\u50a8\u3002 \u4f18\u70b9\uff1a\u89e3\u51b3\u4e86Logstash\u5728\u5404\u673a\u5668\u4e0a\u5360\u7528\u7cfb\u7edf\u8d44\u6e90\u8f83\u9ad8\u7684\u95ee\u9898\uff0cLogstash-Forwarder\u4e0eLogstash\u4e4b\u95f4\u7684\u901a\u4fe1\u662f\u901a\u8fc7SSL\u52a0\u5bc6\u4f20\u8f93\uff0c\u8d77\u5230\u5b89\u5168\u4fdd\u969c \u7f3a\u70b9\uff1a\u7531\u4e8eSSL\u52a0\u5bc6\u4f20\u8f93\u5bfc\u81f4\u7684\u9650\u5236\u6027 \u5f15\u5165Beats \u5b89\u88c5\u4e0e\u4f7f\u7528 yum\u5b89\u88c5ELK # \u5bfc\u5165\u79c1\u94a5 rpm --import https://artifacts.elastic.co/GPG-KEY-elasticsearch # \u6dfb\u52a0yum\u6e90 vim /etc/yum.repos.d/es.repo es.repo\u6587\u4ef6\u5185\u5bb9\uff1a [elasticsearch-6.x] name=Elasticsearch repository for 6.x packages baseurl=https://artifacts.elastic.co/packages/6.x/yum gpgcheck=1 gpgkey=https://artifacts.elastic.co/GPG-KEY-elasticsearch enabled=1 autorefresh=1 type=rpm-md # \u5b89\u88c5java + ELK yum install java-1.8.0-openjdk.x86_64 java-1.8.0-openjdk-devel.x86_64 -y yum install elasticsearch.noarch kibana.x86_64 logstash.noarch -y # \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 vim /etc/logstash/logstash.yml vim /etc/elasticsearch/elasticsearch.yml vim /etc/kibana/kibana.yml # \u542f\u52a8\u670d\u52a1 systemctl start logstash.service elasticsearch.service kibana.service # \u67e5\u770b\u72b6\u6001 systemctl status logstash.service elasticsearch.service kibana.service rpm\u5b89\u88c5ELK # \u5b89\u88c5java\u5e76\u914d\u7f6e\u73af\u5883\u53d8\u91cf # \u5b89\u88c5es rpm -ivh elasticsearch-6.2.4.rpm # \u4fee\u6539es\u7684java\u73af\u5883\u53d8\u91cf vim /etc/sysconfig/elasticsearch JAVA_HOME=/usr/share/jdk1.8.0_171 source /etc/sysconfig/elasticsearch # \u5b89\u88c5kibana rpm -ivh kibana-6.2.4-x86_64.rpm # \u5b89\u88c5logstash # \u521b\u5efajava\u8f6f\u94fe\u63a5 ln -s /usr/share/jdk1.8.0_171/bin/java /usr/bin/java rpm -ivh logstash-6.2.4.rpm \u66f4\u65b0ELK # \u505c\u6b62\u670d\u52a1 systemctl stop logstash.service systemctl stop kibana.service systemctl stop elasticsearch.service # \u66f4\u65b0 yum update elasticsearch.noarch -y yum update logstash.noarch -y yum update kibana.x86_64 -y # \u91cd\u65b0\u52a0\u8f7d systemctl daemon-reload # \u542f\u52a8\u670d\u52a1 systemctl start elasticsearch.service logstash.service kibana.service systemctl status elasticsearch.service logstash.service kibana.service \u914d\u7f6e\u6587\u4ef6\u8bf4\u660e elasticsearch.yml cluster.name: my-application # \u96c6\u7fa4\u540d\u79f0 node.name: node-1 # \u8282\u70b9\u540d\u79f0 node.attr.rack: r1 # \u8282\u70b9\u5c5e\u6027 path.data: /var/lib/elasticsearch # \u6570\u636e\u5b58\u50a8\u76ee\u5f55 path.logs: /var/log/elasticsearch # \u65e5\u5fd7\u5b58\u50a8\u76ee\u5f55 bootstrap.memory_lock: true # \u5185\u5b58\u9501\u5b9a\uff0c\u7981\u7528\u865a\u62df\u5185\u5b58 network.host: 0.0.0.0 # \u7ed1\u5b9a\u4e3b\u673a http.port: 9200 # \u7ed1\u5b9a\u7aef\u53e3 discovery.zen.ping.unicast.hosts: [ host1 , host2 ] # \u542f\u52a8\u65b0\u8282\u70b9\u65f6\uff0c\u4f20\u9012\u521d\u59cb\u4e3b\u673a\u5217\u8868\u7528\u4e8e\u53d1\u73b0\u4e3b\u673a discovery.zen.minimum_master_nodes: # \u914d\u7f6e\u8282\u70b9\u6570\u9632\u6b62\u8111\u88c2 gateway.recover_after_nodes: 3 # \u5728N\u4e2a\u8282\u70b9\u540e\u963b\u585e\u6062\u590d action.destructive_requires_name: true # \u5220\u9664\u7d22\u5f15\u9700\u8981\u663e\u793a\u540d\u79f0 logstash.yml node.name: test # \u8282\u70b9\u540d\u79f0 path.data: /var/lib/logstash # \u6570\u636e\u5b58\u50a8\u76ee\u5f55 path.logs: /var/log/logstash # \u65e5\u5fd7\u5b58\u50a8\u76ee\u5f55 pipeline.id: main # pipeline ID pipeline.workers: 2 # \u8f93\u51fa\u901a\u9053\u7684worker\u6570\u91cf\uff0c\u9ed8\u8ba4\u4e3aCPU\u6838\u6570 pipeline.batch.size: 125 # \u8bbe\u5b9a\u6279\u5904\u7406\u6570\u636e\u7684\u5927\u5c0f pipeline.batch.delay: 50 # \u8bbe\u5b9a\u6279\u5904\u7406\u6570\u636e\u7684\u5ef6\u8fdf pipeline.unsafe_shutdown: false # path.config: # \u8fc7\u6ee4\u914d\u7f6e\u6587\u4ef6\u76ee\u5f55 path.plugins: # \u81ea\u5b9a\u4e49\u63d2\u4ef6\u76ee\u5f55 config.string: # config.test_and_exit: false # config.reload.automatic: false # \u81ea\u52a8\u91cd\u8f7d\u88ab\u4fee\u6539\u7684\u914d\u7f6e\u6587\u4ef6 config.reload.interval: 3s # \u914d\u7f6e\u6587\u4ef6\u68c0\u67e5\u65f6\u95f4 http.host # \u7ed1\u5b9a\u4e3b\u673a http.port # \u7ed1\u5b9a\u7aef\u53e3 log.level: # \u65e5\u5fd7\u8f93\u51fa\u7ea7\u522b\uff0c\u5982\u679cconfie.dubug\u5f00\u542f\uff0c\u8fd9\u91cc\u4e00\u5b9a\u8981\u5339\u914ddebug config.debug: false # log.format # \u65e5\u5fd7\u683c\u5f0f config.support_escapes: false # kibana.yml server.port: 5601 # \u7ed1\u5b9a\u7aef\u53e3 server.host: 0.0.0.0 # \u7ed1\u5b9a\u4e3b\u673a server.basePath: # server.name: your-hostname # hostname\u540d\u79f0 elasticsearch.url: http://localhost:9200 # ElasticSearch\u5730\u5740 ELK\u6d4b\u8bd5 logstash\u914d\u7f6e\u6587\u4ef6 input { file { path = [ /var/log/httpd/access_log ] type = httpd } } filter { grok { match = { message = %{COMBINEDAPACHELOG} } } } output { elasticsearch { hosts = [ 127.0.0.1:9200 ] index = logstash-httpd-%{+YYYY.MM.dd} } } \u4f7f\u7528\u5fc3\u5f97 \u9002\u7528\u573a\u666f \u7528\u4e8e\u8fdb\u884c\u65e5\u5fd7\u5206\u6790\uff1a\u5305\u62ec\u7528\u6237\u884c\u4e3a\u65e5\u5fd7\u3001Web\u65e5\u5fd7\u3001\u670d\u52a1\u5668\u5b89\u5168\u65e5\u5fd7\u3001\u9632\u706b\u5899\u6216\u5176\u4ed6\u5b89\u5168\u8bbe\u5907\u65e5\u5fd7\u7b49\u3002 \u5f53\u6211\u4eec\u9700\u8981\u89e3\u51b3\u5982\u4e0b\u95ee\u9898\u7684\u65f6\u5019\uff0c\u90fd\u662fELK\u7684\u9002\u7528\u573a\u666f\uff1a \u65e5\u5fd7\u6536\u96c6\u3001\u5904\u7406\u3001\u5206\u6790\u3001\u5c55\u793a \u7a0b\u5e8f\u8fd0\u884c\u95ee\u9898\u6392\u67e5 \u670d\u52a1\u5668\u6027\u80fd\u76d1\u63a7\u3001\u5e94\u7528\u76d1\u63a7\u3001\u5b89\u5168\u76d1\u63a7\u3001\u9519\u8bef\u62a5\u8b66 \u7528\u6237\u884c\u4e3a\u5206\u6790\u3001\u6f0f\u6d1e\u5206\u6790\u7b49\u7b49 \u4f18\u70b9 \u5f3a\u5927\u7684\u641c\u7d22\u529f\u80fd\uff1aElasticSearch\u652f\u6301DSL\u7684\u8bed\u6cd5\u6765\u8fdb\u884c\u5feb\u901f\u641c\u7d22\uff0c\u5e76\u4e14\u652f\u6301\u5206\u5e03\u5f0f\u68c0\u7d22\u65b9\u5f0f\u3002 \u652f\u6301\u5206\u5e03\u5f0f\u6269\u5c55\uff1aElasticSearch\u4e0eLogstash\u90fd\u652f\u6301\u5206\u5e03\u5f0f\uff0c\u53ef\u4ee5\u8fdb\u884c\u6a2a\u5411\u6269\u5c55\uff0c\u80fd\u89e3\u51b3\u5927\u578b\u96c6\u7fa4\u7684\u5f88\u591a\u95ee\u9898\u3002 \u5b8c\u5584\u7684\u5c55\u793a\u529f\u80fd\uff1aKibana\u652f\u6301\u975e\u5e38\u8be6\u7ec6\u7684\u56fe\u8868\u4fe1\u606f\uff0c\u540c\u65f6\u4e5f\u53ef\u4ee5\u5b9a\u5236\u5c55\u793a\u5185\u5bb9\uff0c\u5b9e\u73b0\u9ad8\u6548\u7684\u6570\u636e\u53ef\u89c6\u5316\u3002 \u7b80\u5355\u7684\u57fa\u7840\u914d\u7f6e\uff1a\u5b66\u4e60\u6210\u672c\u4f4e\uff0c\u80fd\u591f\u6ee1\u8db3\u67e5\u8be2\u79d2\u7ea7\u54cd\u5e94\u3002 \u7f3a\u70b9 \u9700\u8981\u6295\u5165\u4eba\u529b\u8fdb\u884c\u8fd0\u8425\uff1a\u8fd0\u8425\u6210\u672c\u3002 \u6570\u636e\u7684\u5b89\u5168\u6027\u4fdd\u969c\u8f83\u4f4e\uff0c\u56e0\u4e3a\u9488\u5bf9\u8ba4\u8bc1\u7684Xpack\u6a21\u5757\u662f\u6536\u8d39\u7684\uff0c\u4f20\u8f93\u5b89\u5168\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6eSSL\u6765\u4fdd\u969c\u3002 \u6570\u636e\u5173\u8054\u5206\u6790\u6548\u679c\u8f83\u5dee\uff1a\u76ee\u524d\u5728ELK\u4e2d\u5b9e\u73b0\u5173\u8054\u5206\u6790\u662f\u6bd4\u8f83\u96be\u7684\u3002 \u53c2\u8003\u8d44\u6599 ELK\u7b80\u4ecb\u53ca\u67b6\u6784\u5206\u6790 \u642d\u5efa\u5b89\u5168\u8ba4\u8bc1\u7684ELK\u65e5\u5fd7\u7cfb\u7edf","title":"ELK\u65e5\u5fd7\u5206\u6790\u7cfb\u7edf"},{"location":"infrastructure-security/host-security/log-analysis/elk1/#elk","text":"\u5b98\u7f51\u5730\u5740 ElasticSearch \uff1a\u662f\u5b9e\u65f6\u5168\u6587\u641c\u7d22\u548c\u5206\u6790\u5f15\u64ce\uff0c\u63d0\u4f9b\u641c\u96c6\u3001\u5206\u6790\u3001\u5b58\u50a8\u6570\u636e\u4e09\u5927\u529f\u80fd\uff1b\u662f\u4e00\u5957\u5f00\u653eREST\u548cJAVA API\u7b49\u7ed3\u6784\u63d0\u4f9b\u9ad8\u6548\u641c\u7d22\u529f\u80fd\uff0c\u53ef\u6269\u5c55\u7684\u5206\u5e03\u5f0f\u7cfb\u7edf\u3002\u5b83\u6784\u5efa\u4e8eApache Lucene\u641c\u7d22\u5f15\u64ce\u5e93\u4e4b\u4e0a\u3002 Logstash \uff1a\u662f\u4e00\u4e2a\u7528\u6765\u641c\u96c6\u3001\u5206\u6790\u3001\u8fc7\u6ee4\u65e5\u5fd7\u7684\u5de5\u5177\u3002\u5b83\u652f\u6301\u51e0\u4e4e\u4efb\u4f55\u7c7b\u578b\u7684\u65e5\u5fd7\uff0c\u5305\u62ec\u7cfb\u7edf\u65e5\u5fd7\u3001\u9519\u8bef\u65e5\u5fd7\u548c\u81ea\u5b9a\u4e49\u5e94\u7528\u7a0b\u5e8f\u65e5\u5fd7\u3002\u5b83\u53ef\u4ee5\u4ece\u8bb8\u591a\u6765\u6e90\u63a5\u6536\u65e5\u5fd7\uff0c\u8fd9\u4e9b\u6765\u6e90\u5305\u62ecsyslog\u3001\u6d88\u606f\u4f20\u9012\uff08\u4f8b\u5982\uff1aRabbitMQ\uff09\u548cJMX\uff0c\u5b83\u80fd\u591f\u4ee5\u591a\u79cd\u65b9\u5f0f\u8f93\u51fa\u6570\u636e\uff0c\u5305\u62ec\u7535\u5b50\u90ae\u4ef6\u3001WebSocket\u548cElasticSearch\u7b49\u3002 Kibana \uff1a\u662f\u4e00\u4e2a\u57fa\u4e8eWeb\u7684\u56fe\u5f62\u754c\u9762\uff0c\u7528\u4e8e\u641c\u7d22\u3001\u5206\u6790\u548c\u53ef\u89c6\u5316\u5b58\u50a8\u5728ElasticSearch\u6307\u6807\u4e2d\u7684\u65e5\u5fd7\u6570\u636e\u3002\u5b83\u5229\u7528Elasticsearch\u7684REST\u63a5\u53e3\u6765\u68c0\u7d22\u6570\u636e\uff0c\u4e0d\u4ec5\u5141\u8bb8\u7528\u6237\u521b\u5efa\u4ed6\u4eec\u81ea\u5df1\u7684\u6570\u636e\u7684\u5b9a\u5236\u4eea\u8868\u677f\u89c6\u56fe\uff0c\u8fd8\u5141\u8bb8\u4ed6\u4eec\u4ee5\u7279\u6b8a\u7684\u65b9\u5f0f\u67e5\u8be2\u548c\u8fc7\u6ee4\u6570\u636e\u3002","title":"ELK\u65e5\u5fd7\u5206\u6790\u7cfb\u7edf"},{"location":"infrastructure-security/host-security/log-analysis/elk1/#_1","text":"","title":"\u67b6\u6784\u5206\u6790"},{"location":"infrastructure-security/host-security/log-analysis/elk1/#elk_1","text":"\u6982\u8ff0\uff1a\u7531Logstash\u5206\u5e03\u4e8e\u5404\u4e2a\u8282\u70b9\u4e0a\u641c\u96c6\u76f8\u5173\u65e5\u5fd7\u3001\u6570\u636e\uff0c\u5e76\u7ecf\u8fc7\u5206\u6790\u3001\u8fc7\u6ee4\u540e\u53d1\u9001\u7ed9\u8fdc\u7aef\u670d\u52a1\u5668\u4e0a\u7684Elasticsearch\u8fdb\u884c\u5b58\u50a8\u3002Elasticsearch\u5c06\u6570\u636e\u4ee5\u5206\u7247\u7684\u5f62\u5f0f\u538b\u7f29\u5b58\u50a8\u5e76\u63d0\u4f9b\u591a\u79cdAPI\u4f9b\u7528\u6237\u67e5\u8be2\uff0c\u64cd\u4f5c\u3002 \u4f18\u70b9\uff1a\u642d\u5efa\u7b80\u5355\u3001\u6613\u4e8e\u4e0a\u624b\u3002 \u7f3a\u70b9\uff1aLogstash\u6d88\u8017\u8d44\u6e90\u8f83\u5927\uff0c\u8fd0\u884c\u5360\u7528CPU\u548c\u5185\u5b58\u9ad8\uff0c\u6ca1\u6709\u6d88\u606f\u961f\u5217\u7f13\u5b58\uff0c\u5b58\u50a8\u6570\u636e\u4e22\u5931\u9690\u60a3\u3002 \u9002\u7528\u573a\u666f\uff1a\u5c0f\u89c4\u6a21\u96c6\u7fa4\u6216\u8005\u5b66\u4e60\u8005\u4f7f\u7528","title":"ELK\u57fa\u7840\u67b6\u6784"},{"location":"infrastructure-security/host-security/log-analysis/elk1/#_2","text":"\u6982\u8ff0\uff1a\u5f15\u5165\u6d88\u606f\u961f\u5217\u673a\u5236\uff0c\u4f4d\u4e8e\u5404\u4e2a\u8282\u70b9\u4e0a\u7684Logstash Agent\u5148\u5c06\u6570\u636e\u4f20\u9012\u5230Kafka\u6216Redis\uff0c\u5e76\u5c06\u961f\u5217\u4e2d\u6d88\u606f\u6216\u6570\u636e\u95f4\u63a5\u4f20\u9012\u7ed9Logstash Server\uff0cLogstash Server\u5206\u6790\u3001\u8fc7\u6ee4\u540e\u5c06\u6570\u636e\u4f20\u9012\u7ed9ES\u5b58\u50a8\u3002 \u4f18\u70b9\uff1a\u5f15\u5165\u6d88\u606f\u961f\u5217\u673a\u5236\uff0c\u5373\u4f7fLogstash Server\u56e0\u6545\u969c\u505c\u6b62\u8fd0\u884c\uff0c\u6570\u636e\u5c06\u4f1a\u5148\u88ab\u6d88\u606f\u961f\u5217\u5b58\u50a8\u4e0b\u6765\uff0c\u4ece\u800c\u907f\u514d\u6570\u636e\u4e22\u5931 \u7f3a\u70b9\uff1a\u7531\u4e8eLogstash\u4e2d\u5fc3\u8282\u70b9\u548cES\u7684\u8d1f\u8377\u4f1a\u6bd4\u8f83\u91cd\uff0c\u53ef\u5c06\u5b83\u4eec\u914d\u7f6e\u4e3a\u96c6\u7fa4\u6a21\u5f0f\uff0c\u4ee5\u5206\u62c5\u8d1f\u8377 \u9002\u7528\u573a\u666f\uff1a\u8f83\u5927\u96c6\u7fa4\u7684\u89e3\u51b3\u65b9\u6848","title":"\u5f15\u5165\u6d88\u606f\u961f\u5217"},{"location":"infrastructure-security/host-security/log-analysis/elk1/#logstash-forwarder","text":"\u6982\u8ff0\uff1a\u5f15\u5165Logstash-Forwarder\uff0c\u9996\u5148Logstash-Forwarder\u5c06\u65e5\u5fd7\u6570\u636e\u7edf\u4e00\u53d1\u9001\u7ed9Logstash\uff0c\u7ecf\u8fc7\u5206\u6790\u3001\u8fc7\u6ee4\u540e\u53d1\u9001\u5230ES\u8fdb\u884c\u5b58\u50a8\u3002 \u4f18\u70b9\uff1a\u89e3\u51b3\u4e86Logstash\u5728\u5404\u673a\u5668\u4e0a\u5360\u7528\u7cfb\u7edf\u8d44\u6e90\u8f83\u9ad8\u7684\u95ee\u9898\uff0cLogstash-Forwarder\u4e0eLogstash\u4e4b\u95f4\u7684\u901a\u4fe1\u662f\u901a\u8fc7SSL\u52a0\u5bc6\u4f20\u8f93\uff0c\u8d77\u5230\u5b89\u5168\u4fdd\u969c \u7f3a\u70b9\uff1a\u7531\u4e8eSSL\u52a0\u5bc6\u4f20\u8f93\u5bfc\u81f4\u7684\u9650\u5236\u6027","title":"\u5f15\u5165Logstash-Forwarder"},{"location":"infrastructure-security/host-security/log-analysis/elk1/#beats","text":"","title":"\u5f15\u5165Beats"},{"location":"infrastructure-security/host-security/log-analysis/elk1/#_3","text":"","title":"\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"infrastructure-security/host-security/log-analysis/elk1/#yumelk","text":"# \u5bfc\u5165\u79c1\u94a5 rpm --import https://artifacts.elastic.co/GPG-KEY-elasticsearch # \u6dfb\u52a0yum\u6e90 vim /etc/yum.repos.d/es.repo es.repo\u6587\u4ef6\u5185\u5bb9\uff1a [elasticsearch-6.x] name=Elasticsearch repository for 6.x packages baseurl=https://artifacts.elastic.co/packages/6.x/yum gpgcheck=1 gpgkey=https://artifacts.elastic.co/GPG-KEY-elasticsearch enabled=1 autorefresh=1 type=rpm-md # \u5b89\u88c5java + ELK yum install java-1.8.0-openjdk.x86_64 java-1.8.0-openjdk-devel.x86_64 -y yum install elasticsearch.noarch kibana.x86_64 logstash.noarch -y # \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 vim /etc/logstash/logstash.yml vim /etc/elasticsearch/elasticsearch.yml vim /etc/kibana/kibana.yml # \u542f\u52a8\u670d\u52a1 systemctl start logstash.service elasticsearch.service kibana.service # \u67e5\u770b\u72b6\u6001 systemctl status logstash.service elasticsearch.service kibana.service","title":"yum\u5b89\u88c5ELK"},{"location":"infrastructure-security/host-security/log-analysis/elk1/#rpmelk","text":"# \u5b89\u88c5java\u5e76\u914d\u7f6e\u73af\u5883\u53d8\u91cf # \u5b89\u88c5es rpm -ivh elasticsearch-6.2.4.rpm # \u4fee\u6539es\u7684java\u73af\u5883\u53d8\u91cf vim /etc/sysconfig/elasticsearch JAVA_HOME=/usr/share/jdk1.8.0_171 source /etc/sysconfig/elasticsearch # \u5b89\u88c5kibana rpm -ivh kibana-6.2.4-x86_64.rpm # \u5b89\u88c5logstash # \u521b\u5efajava\u8f6f\u94fe\u63a5 ln -s /usr/share/jdk1.8.0_171/bin/java /usr/bin/java rpm -ivh logstash-6.2.4.rpm","title":"rpm\u5b89\u88c5ELK"},{"location":"infrastructure-security/host-security/log-analysis/elk1/#elk_2","text":"# \u505c\u6b62\u670d\u52a1 systemctl stop logstash.service systemctl stop kibana.service systemctl stop elasticsearch.service # \u66f4\u65b0 yum update elasticsearch.noarch -y yum update logstash.noarch -y yum update kibana.x86_64 -y # \u91cd\u65b0\u52a0\u8f7d systemctl daemon-reload # \u542f\u52a8\u670d\u52a1 systemctl start elasticsearch.service logstash.service kibana.service systemctl status elasticsearch.service logstash.service kibana.service","title":"\u66f4\u65b0ELK"},{"location":"infrastructure-security/host-security/log-analysis/elk1/#_4","text":"elasticsearch.yml cluster.name: my-application # \u96c6\u7fa4\u540d\u79f0 node.name: node-1 # \u8282\u70b9\u540d\u79f0 node.attr.rack: r1 # \u8282\u70b9\u5c5e\u6027 path.data: /var/lib/elasticsearch # \u6570\u636e\u5b58\u50a8\u76ee\u5f55 path.logs: /var/log/elasticsearch # \u65e5\u5fd7\u5b58\u50a8\u76ee\u5f55 bootstrap.memory_lock: true # \u5185\u5b58\u9501\u5b9a\uff0c\u7981\u7528\u865a\u62df\u5185\u5b58 network.host: 0.0.0.0 # \u7ed1\u5b9a\u4e3b\u673a http.port: 9200 # \u7ed1\u5b9a\u7aef\u53e3 discovery.zen.ping.unicast.hosts: [ host1 , host2 ] # \u542f\u52a8\u65b0\u8282\u70b9\u65f6\uff0c\u4f20\u9012\u521d\u59cb\u4e3b\u673a\u5217\u8868\u7528\u4e8e\u53d1\u73b0\u4e3b\u673a discovery.zen.minimum_master_nodes: # \u914d\u7f6e\u8282\u70b9\u6570\u9632\u6b62\u8111\u88c2 gateway.recover_after_nodes: 3 # \u5728N\u4e2a\u8282\u70b9\u540e\u963b\u585e\u6062\u590d action.destructive_requires_name: true # \u5220\u9664\u7d22\u5f15\u9700\u8981\u663e\u793a\u540d\u79f0 logstash.yml node.name: test # \u8282\u70b9\u540d\u79f0 path.data: /var/lib/logstash # \u6570\u636e\u5b58\u50a8\u76ee\u5f55 path.logs: /var/log/logstash # \u65e5\u5fd7\u5b58\u50a8\u76ee\u5f55 pipeline.id: main # pipeline ID pipeline.workers: 2 # \u8f93\u51fa\u901a\u9053\u7684worker\u6570\u91cf\uff0c\u9ed8\u8ba4\u4e3aCPU\u6838\u6570 pipeline.batch.size: 125 # \u8bbe\u5b9a\u6279\u5904\u7406\u6570\u636e\u7684\u5927\u5c0f pipeline.batch.delay: 50 # \u8bbe\u5b9a\u6279\u5904\u7406\u6570\u636e\u7684\u5ef6\u8fdf pipeline.unsafe_shutdown: false # path.config: # \u8fc7\u6ee4\u914d\u7f6e\u6587\u4ef6\u76ee\u5f55 path.plugins: # \u81ea\u5b9a\u4e49\u63d2\u4ef6\u76ee\u5f55 config.string: # config.test_and_exit: false # config.reload.automatic: false # \u81ea\u52a8\u91cd\u8f7d\u88ab\u4fee\u6539\u7684\u914d\u7f6e\u6587\u4ef6 config.reload.interval: 3s # \u914d\u7f6e\u6587\u4ef6\u68c0\u67e5\u65f6\u95f4 http.host # \u7ed1\u5b9a\u4e3b\u673a http.port # \u7ed1\u5b9a\u7aef\u53e3 log.level: # \u65e5\u5fd7\u8f93\u51fa\u7ea7\u522b\uff0c\u5982\u679cconfie.dubug\u5f00\u542f\uff0c\u8fd9\u91cc\u4e00\u5b9a\u8981\u5339\u914ddebug config.debug: false # log.format # \u65e5\u5fd7\u683c\u5f0f config.support_escapes: false # kibana.yml server.port: 5601 # \u7ed1\u5b9a\u7aef\u53e3 server.host: 0.0.0.0 # \u7ed1\u5b9a\u4e3b\u673a server.basePath: # server.name: your-hostname # hostname\u540d\u79f0 elasticsearch.url: http://localhost:9200 # ElasticSearch\u5730\u5740","title":"\u914d\u7f6e\u6587\u4ef6\u8bf4\u660e"},{"location":"infrastructure-security/host-security/log-analysis/elk1/#elk_3","text":"logstash\u914d\u7f6e\u6587\u4ef6 input { file { path = [ /var/log/httpd/access_log ] type = httpd } } filter { grok { match = { message = %{COMBINEDAPACHELOG} } } } output { elasticsearch { hosts = [ 127.0.0.1:9200 ] index = logstash-httpd-%{+YYYY.MM.dd} } }","title":"ELK\u6d4b\u8bd5"},{"location":"infrastructure-security/host-security/log-analysis/elk1/#_5","text":"","title":"\u4f7f\u7528\u5fc3\u5f97"},{"location":"infrastructure-security/host-security/log-analysis/elk1/#_6","text":"\u7528\u4e8e\u8fdb\u884c\u65e5\u5fd7\u5206\u6790\uff1a\u5305\u62ec\u7528\u6237\u884c\u4e3a\u65e5\u5fd7\u3001Web\u65e5\u5fd7\u3001\u670d\u52a1\u5668\u5b89\u5168\u65e5\u5fd7\u3001\u9632\u706b\u5899\u6216\u5176\u4ed6\u5b89\u5168\u8bbe\u5907\u65e5\u5fd7\u7b49\u3002 \u5f53\u6211\u4eec\u9700\u8981\u89e3\u51b3\u5982\u4e0b\u95ee\u9898\u7684\u65f6\u5019\uff0c\u90fd\u662fELK\u7684\u9002\u7528\u573a\u666f\uff1a \u65e5\u5fd7\u6536\u96c6\u3001\u5904\u7406\u3001\u5206\u6790\u3001\u5c55\u793a \u7a0b\u5e8f\u8fd0\u884c\u95ee\u9898\u6392\u67e5 \u670d\u52a1\u5668\u6027\u80fd\u76d1\u63a7\u3001\u5e94\u7528\u76d1\u63a7\u3001\u5b89\u5168\u76d1\u63a7\u3001\u9519\u8bef\u62a5\u8b66 \u7528\u6237\u884c\u4e3a\u5206\u6790\u3001\u6f0f\u6d1e\u5206\u6790\u7b49\u7b49","title":"\u9002\u7528\u573a\u666f"},{"location":"infrastructure-security/host-security/log-analysis/elk1/#_7","text":"\u5f3a\u5927\u7684\u641c\u7d22\u529f\u80fd\uff1aElasticSearch\u652f\u6301DSL\u7684\u8bed\u6cd5\u6765\u8fdb\u884c\u5feb\u901f\u641c\u7d22\uff0c\u5e76\u4e14\u652f\u6301\u5206\u5e03\u5f0f\u68c0\u7d22\u65b9\u5f0f\u3002 \u652f\u6301\u5206\u5e03\u5f0f\u6269\u5c55\uff1aElasticSearch\u4e0eLogstash\u90fd\u652f\u6301\u5206\u5e03\u5f0f\uff0c\u53ef\u4ee5\u8fdb\u884c\u6a2a\u5411\u6269\u5c55\uff0c\u80fd\u89e3\u51b3\u5927\u578b\u96c6\u7fa4\u7684\u5f88\u591a\u95ee\u9898\u3002 \u5b8c\u5584\u7684\u5c55\u793a\u529f\u80fd\uff1aKibana\u652f\u6301\u975e\u5e38\u8be6\u7ec6\u7684\u56fe\u8868\u4fe1\u606f\uff0c\u540c\u65f6\u4e5f\u53ef\u4ee5\u5b9a\u5236\u5c55\u793a\u5185\u5bb9\uff0c\u5b9e\u73b0\u9ad8\u6548\u7684\u6570\u636e\u53ef\u89c6\u5316\u3002 \u7b80\u5355\u7684\u57fa\u7840\u914d\u7f6e\uff1a\u5b66\u4e60\u6210\u672c\u4f4e\uff0c\u80fd\u591f\u6ee1\u8db3\u67e5\u8be2\u79d2\u7ea7\u54cd\u5e94\u3002","title":"\u4f18\u70b9"},{"location":"infrastructure-security/host-security/log-analysis/elk1/#_8","text":"\u9700\u8981\u6295\u5165\u4eba\u529b\u8fdb\u884c\u8fd0\u8425\uff1a\u8fd0\u8425\u6210\u672c\u3002 \u6570\u636e\u7684\u5b89\u5168\u6027\u4fdd\u969c\u8f83\u4f4e\uff0c\u56e0\u4e3a\u9488\u5bf9\u8ba4\u8bc1\u7684Xpack\u6a21\u5757\u662f\u6536\u8d39\u7684\uff0c\u4f20\u8f93\u5b89\u5168\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6eSSL\u6765\u4fdd\u969c\u3002 \u6570\u636e\u5173\u8054\u5206\u6790\u6548\u679c\u8f83\u5dee\uff1a\u76ee\u524d\u5728ELK\u4e2d\u5b9e\u73b0\u5173\u8054\u5206\u6790\u662f\u6bd4\u8f83\u96be\u7684\u3002","title":"\u7f3a\u70b9"},{"location":"infrastructure-security/host-security/log-analysis/elk1/#_9","text":"ELK\u7b80\u4ecb\u53ca\u67b6\u6784\u5206\u6790 \u642d\u5efa\u5b89\u5168\u8ba4\u8bc1\u7684ELK\u65e5\u5fd7\u7cfb\u7edf","title":"\u53c2\u8003\u8d44\u6599"},{"location":"infrastructure-security/host-security/log-analysis/elk2-advanced/","text":"ELK\u9ad8\u7ea7\u4f7f\u7528 ElasticSearch ES\u63d2\u4ef6 Head \u5b98\u7f51\u5730\u5740 Chrome\u63d2\u4ef6\uff1aElasticSearch Head ElasticHD ElasticSearch\u521b\u5efatemplate curl -XPUT 'http://host/_template/primeledger' \\ -H Content-Type: application/json \\ -d '{ order : 0, template : template_name* , settings : \\ { index.number_of_shards : 3, number_of_replicas : 1}}' ElasticSearch\u5b9a\u671f\u6e05\u7406\u7d22\u5f15 #!/usr/bin/env python # -*- coding: utf-8 -*- # Time : 2018/6/8 \u4e0a\u534811:20 # Author : bloodzer0 # File : delete_index.py import os import datetime week_ago = (datetime.datetime.now() - datetime.timedelta(days=3)).strftime( %Y.%m.%d ) command = 'curl -XDELETE http://hostname/index-%s ' % week_ago os.system(command) Logstash \u5e38\u7528\u547d\u4ee4 Command Note --config.reload.automatic \u81ea\u52a8\u91cd\u8f7d\u88ab\u4fee\u6539\u7684\u914d\u7f6e\u6587\u4ef6 -f \u52a0\u8f7d\u914d\u7f6e\u6587\u4ef6 -t \u6d4b\u8bd5\u914d\u7f6e\u6587\u4ef6 \u914d\u7f6e\u6587\u4ef6 \u89e3\u6790IP filter { geoip { source = \u4ee3\u8868IP\u7684\u5b57\u6bb5\u540d\u79f0 } } \u591a\u884c\u5408\u5e76 input { file { path = [ log_path ] codec = multiline { pattern = ^%{TIMESTAMP_ISO8601} # \u4e0d\u4ee5\u6807\u51c6\u65f6\u95f4\u683c\u5f0f\u5f00\u5934\u7684\u884c\u5408\u5e76\u4e3a\u4e00\u884c negate = true what = previous } } } Kibana Kibana\u63d2\u4ef6 \u6c49\u5316 github\u5730\u5740 Kibana\u767b\u5f55\u9274\u6743 \u5229\u7528nginx\u4ee3\u7406\u8fdb\u884c\u8bbf\u95ee\u8ba4\u8bc1 # \u5b89\u88c5nginx\u4e0enginx\u8ba4\u8bc1\u6a21\u5757 yum install epel-release -y yum install nginx.x86_64 httpd-tools.x86_64 -y # \u4fee\u6539nginx\u914d\u7f6e\u6587\u4ef6 vim /etc/nginx/nginx.conf # \u6ce8\u91ca\u6389server\u5185\u7684\u5185\u5bb9\uff0c\u5e76\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9 server { listen 8080; server_name kibana; auth_basic Restricted Access ; auth_basic_user_file /etc/nginx/kibana-user; location / { proxy_pass http://hostname:5601; proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection 'upgrade'; proxy_set_header Host $host; proxy_cache_bypass $http_upgrade; } } \u914d\u7f6e\u8d26\u53f7\u5bc6\u7801 # \u8bbe\u7f6e\u8d26\u53f7\u5bc6\u7801 htpasswd -cm /etc/nginx/kibana-user username # \u91cd\u542fnginx\u670d\u52a1 systemctl restart nginx.service \u5229\u7528xpack\u8fdb\u884c\u8bbf\u95ee\u8ba4\u8bc1 xpack\u7834\u89e3\u5730\u5740 \u53c2\u8003\u8d44\u6599 Elasticsearch\u53f2\u4e0a\u6700\u5168\u6700\u5e38\u7528\u5de5\u5177\u6e05\u5355","title":"ELK\u9ad8\u7ea7\u4f7f\u7528"},{"location":"infrastructure-security/host-security/log-analysis/elk2-advanced/#elk","text":"","title":"ELK\u9ad8\u7ea7\u4f7f\u7528"},{"location":"infrastructure-security/host-security/log-analysis/elk2-advanced/#elasticsearch","text":"","title":"ElasticSearch"},{"location":"infrastructure-security/host-security/log-analysis/elk2-advanced/#es","text":"Head \u5b98\u7f51\u5730\u5740 Chrome\u63d2\u4ef6\uff1aElasticSearch Head ElasticHD","title":"ES\u63d2\u4ef6"},{"location":"infrastructure-security/host-security/log-analysis/elk2-advanced/#elasticsearchtemplate","text":"curl -XPUT 'http://host/_template/primeledger' \\ -H Content-Type: application/json \\ -d '{ order : 0, template : template_name* , settings : \\ { index.number_of_shards : 3, number_of_replicas : 1}}'","title":"ElasticSearch\u521b\u5efatemplate"},{"location":"infrastructure-security/host-security/log-analysis/elk2-advanced/#elasticsearch_1","text":"#!/usr/bin/env python # -*- coding: utf-8 -*- # Time : 2018/6/8 \u4e0a\u534811:20 # Author : bloodzer0 # File : delete_index.py import os import datetime week_ago = (datetime.datetime.now() - datetime.timedelta(days=3)).strftime( %Y.%m.%d ) command = 'curl -XDELETE http://hostname/index-%s ' % week_ago os.system(command)","title":"ElasticSearch\u5b9a\u671f\u6e05\u7406\u7d22\u5f15"},{"location":"infrastructure-security/host-security/log-analysis/elk2-advanced/#logstash","text":"","title":"Logstash"},{"location":"infrastructure-security/host-security/log-analysis/elk2-advanced/#_1","text":"Command Note --config.reload.automatic \u81ea\u52a8\u91cd\u8f7d\u88ab\u4fee\u6539\u7684\u914d\u7f6e\u6587\u4ef6 -f \u52a0\u8f7d\u914d\u7f6e\u6587\u4ef6 -t \u6d4b\u8bd5\u914d\u7f6e\u6587\u4ef6","title":"\u5e38\u7528\u547d\u4ee4"},{"location":"infrastructure-security/host-security/log-analysis/elk2-advanced/#_2","text":"\u89e3\u6790IP filter { geoip { source = \u4ee3\u8868IP\u7684\u5b57\u6bb5\u540d\u79f0 } } \u591a\u884c\u5408\u5e76 input { file { path = [ log_path ] codec = multiline { pattern = ^%{TIMESTAMP_ISO8601} # \u4e0d\u4ee5\u6807\u51c6\u65f6\u95f4\u683c\u5f0f\u5f00\u5934\u7684\u884c\u5408\u5e76\u4e3a\u4e00\u884c negate = true what = previous } } }","title":"\u914d\u7f6e\u6587\u4ef6"},{"location":"infrastructure-security/host-security/log-analysis/elk2-advanced/#kibana","text":"","title":"Kibana"},{"location":"infrastructure-security/host-security/log-analysis/elk2-advanced/#kibana_1","text":"\u6c49\u5316 github\u5730\u5740","title":"Kibana\u63d2\u4ef6"},{"location":"infrastructure-security/host-security/log-analysis/elk2-advanced/#kibana_2","text":"\u5229\u7528nginx\u4ee3\u7406\u8fdb\u884c\u8bbf\u95ee\u8ba4\u8bc1 # \u5b89\u88c5nginx\u4e0enginx\u8ba4\u8bc1\u6a21\u5757 yum install epel-release -y yum install nginx.x86_64 httpd-tools.x86_64 -y # \u4fee\u6539nginx\u914d\u7f6e\u6587\u4ef6 vim /etc/nginx/nginx.conf # \u6ce8\u91ca\u6389server\u5185\u7684\u5185\u5bb9\uff0c\u5e76\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9 server { listen 8080; server_name kibana; auth_basic Restricted Access ; auth_basic_user_file /etc/nginx/kibana-user; location / { proxy_pass http://hostname:5601; proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection 'upgrade'; proxy_set_header Host $host; proxy_cache_bypass $http_upgrade; } } \u914d\u7f6e\u8d26\u53f7\u5bc6\u7801 # \u8bbe\u7f6e\u8d26\u53f7\u5bc6\u7801 htpasswd -cm /etc/nginx/kibana-user username # \u91cd\u542fnginx\u670d\u52a1 systemctl restart nginx.service \u5229\u7528xpack\u8fdb\u884c\u8bbf\u95ee\u8ba4\u8bc1 xpack\u7834\u89e3\u5730\u5740","title":"Kibana\u767b\u5f55\u9274\u6743"},{"location":"infrastructure-security/host-security/log-analysis/elk2-advanced/#_3","text":"Elasticsearch\u53f2\u4e0a\u6700\u5168\u6700\u5e38\u7528\u5de5\u5177\u6e05\u5355","title":"\u53c2\u8003\u8d44\u6599"},{"location":"infrastructure-security/host-security/log-analysis/elk3-problem/","text":"ELK\u95ee\u9898\u8e29\u5751 ES\u8111\u88c2 \u8111\u88c2\u53ef\u80fd\u7684\u539f\u56e0 \u7f51\u7edc\u95ee\u9898\uff1a\u96c6\u7fa4\u95f4\u7684\u7f51\u7edc\u5ef6\u8fdf\u5bfc\u81f4\u4e00\u4e9b\u8282\u70b9\u8bbf\u95ee\u4e0d\u5230master\uff0c\u8ba4\u4e3amaster\u6302\u6389\u4e86\u4ece\u800c\u9009\u4e3e\u51fa\u65b0\u7684master\uff0c\u5e76\u5bf9master\u4e0a\u7684\u5206\u7247\u548c\u526f\u672c\u6807\u7ea2\uff0c\u5206\u914d\u65b0\u7684\u4e3b\u5206\u7247\u3002 \u8282\u70b9\u8d1f\u8f7d\uff1a\u4e3b\u8282\u70b9\u7684\u89d2\u8272\u65e2\u4e3amaster\u53c8\u4e3adata\uff0c\u8bbf\u95ee\u91cf\u8f83\u5927\u65f6\u53ef\u80fd\u4f1a\u5bfc\u81f4ES\u505c\u6b62\u54cd\u5e94\u9020\u6210\u5927\u9762\u79ef\u5ef6\u8fdf\uff0c\u6b64\u65f6\u5176\u4ed6\u8282\u70b9\u5f97\u4e0d\u5230\u4e3b\u8282\u70b9\u7684\u54cd\u5e94\u8ba4\u4e3a\u4e3b\u8282\u70b9\u6302\u6389\u4e86\uff0c\u4f1a\u91cd\u65b0\u9009\u53d6\u4e3b\u8282\u70b9\u3002 \u5185\u5b58\u56de\u6536\uff1adata\u8282\u70b9\u4e0a\u7684ES\u8fdb\u7a0b\u5360\u7528\u7684\u5185\u5b58\u8f83\u5927\uff0c\u5f15\u53d1JVM\u7684\u5927\u89c4\u6a21\u5185\u5b58\u56de\u6536\uff0c\u9020\u6210ES\u8fdb\u7a0b\u5931\u53bb\u54cd\u5e94\u3002 \u89e3\u51b3\u8111\u88c2 \u51cf\u5c11\u8bef\u5224\uff1adiscovery.zen.ping_timeout\u8282\u70b9\u72b6\u6001\u7684\u54cd\u5e94\u65f6\u95f4\uff0c\u9ed8\u8ba4\u4e3a3s\uff0c\u53ef\u4ee5\u9002\u5f53\u8c03\u5927\uff0c\u5982\u679cmaster\u5728\u8be5\u54cd\u5e94\u65f6\u95f4\u7684\u8303\u56f4\u5185\u6ca1\u6709\u505a\u51fa\u54cd\u5e94\u5e94\u7b54\uff0c\u4f1a\u5224\u65ad\u8be5\u8282\u70b9\u5df2\u7ecf\u6302\u6389\u4e86\u3002\uff08\u8c03\u6574\u53c2\u6570\u4e3a\uff1a6s\uff0cdiscovery.zen.ping_timeout:6\uff0c\u53ef\u9002\u5f53\u51cf\u5c11\u8bef\u5224\u3002\uff09 \u9009\u4e3e\u89e6\u53d1\uff1adiscovery.zen.minimum_master_nodes:1\uff0c\u5f53\u5907\u9009\u4e3b\u8282\u70b9\u7684\u4e2a\u6570\u5927\u4e8e\u7b49\u4e8e\u8be5\u53c2\u6570\u7684\u503c\uff0c\u4e14\u5907\u9009\u4e3b\u8282\u70b9\u4e2d\u6709\u8be5\u53c2\u6570\u4e2a\u8282\u70b9\u8ba4\u4e3a\u4e3b\u8282\u70b9\u6302\u4e86\uff0c\u8fdb\u884c\u9009\u4e3e\u3002\u5b98\u65b9\u5efa\u8bae\u4e3a(N/2)+1\uff0cN\u4e3a\u4e3b\u8282\u70b9\u4e2a\u6570\uff08\u5373\u6709\u8d44\u683c\u6210\u4e3a\u4e3b\u8282\u70b9\u7684\u8282\u70b9\u4e2a\u6570\uff09 \u89d2\u8272\u5206\u79bb\uff1a\u5373master\u8282\u70b9\u4e0edata\u8282\u70b9\u5206\u79bb\uff0c\u9650\u5236\u89d2\u8272 # \u4e3b\u8282\u70b9 node.master: true node.data: false # \u4ece\u8282\u70b9 node.master: false node.data: true \u53c2\u8003\u8d44\u6599 ES\u8111\u88c2\u95ee\u9898\u5206\u6790\u53ca\u4f18\u5316","title":"ELK\u95ee\u9898\u8e29\u5751"},{"location":"infrastructure-security/host-security/log-analysis/elk3-problem/#elk","text":"","title":"ELK\u95ee\u9898\u8e29\u5751"},{"location":"infrastructure-security/host-security/log-analysis/elk3-problem/#es","text":"","title":"ES\u8111\u88c2"},{"location":"infrastructure-security/host-security/log-analysis/elk3-problem/#_1","text":"\u7f51\u7edc\u95ee\u9898\uff1a\u96c6\u7fa4\u95f4\u7684\u7f51\u7edc\u5ef6\u8fdf\u5bfc\u81f4\u4e00\u4e9b\u8282\u70b9\u8bbf\u95ee\u4e0d\u5230master\uff0c\u8ba4\u4e3amaster\u6302\u6389\u4e86\u4ece\u800c\u9009\u4e3e\u51fa\u65b0\u7684master\uff0c\u5e76\u5bf9master\u4e0a\u7684\u5206\u7247\u548c\u526f\u672c\u6807\u7ea2\uff0c\u5206\u914d\u65b0\u7684\u4e3b\u5206\u7247\u3002 \u8282\u70b9\u8d1f\u8f7d\uff1a\u4e3b\u8282\u70b9\u7684\u89d2\u8272\u65e2\u4e3amaster\u53c8\u4e3adata\uff0c\u8bbf\u95ee\u91cf\u8f83\u5927\u65f6\u53ef\u80fd\u4f1a\u5bfc\u81f4ES\u505c\u6b62\u54cd\u5e94\u9020\u6210\u5927\u9762\u79ef\u5ef6\u8fdf\uff0c\u6b64\u65f6\u5176\u4ed6\u8282\u70b9\u5f97\u4e0d\u5230\u4e3b\u8282\u70b9\u7684\u54cd\u5e94\u8ba4\u4e3a\u4e3b\u8282\u70b9\u6302\u6389\u4e86\uff0c\u4f1a\u91cd\u65b0\u9009\u53d6\u4e3b\u8282\u70b9\u3002 \u5185\u5b58\u56de\u6536\uff1adata\u8282\u70b9\u4e0a\u7684ES\u8fdb\u7a0b\u5360\u7528\u7684\u5185\u5b58\u8f83\u5927\uff0c\u5f15\u53d1JVM\u7684\u5927\u89c4\u6a21\u5185\u5b58\u56de\u6536\uff0c\u9020\u6210ES\u8fdb\u7a0b\u5931\u53bb\u54cd\u5e94\u3002","title":"\u8111\u88c2\u53ef\u80fd\u7684\u539f\u56e0"},{"location":"infrastructure-security/host-security/log-analysis/elk3-problem/#_2","text":"\u51cf\u5c11\u8bef\u5224\uff1adiscovery.zen.ping_timeout\u8282\u70b9\u72b6\u6001\u7684\u54cd\u5e94\u65f6\u95f4\uff0c\u9ed8\u8ba4\u4e3a3s\uff0c\u53ef\u4ee5\u9002\u5f53\u8c03\u5927\uff0c\u5982\u679cmaster\u5728\u8be5\u54cd\u5e94\u65f6\u95f4\u7684\u8303\u56f4\u5185\u6ca1\u6709\u505a\u51fa\u54cd\u5e94\u5e94\u7b54\uff0c\u4f1a\u5224\u65ad\u8be5\u8282\u70b9\u5df2\u7ecf\u6302\u6389\u4e86\u3002\uff08\u8c03\u6574\u53c2\u6570\u4e3a\uff1a6s\uff0cdiscovery.zen.ping_timeout:6\uff0c\u53ef\u9002\u5f53\u51cf\u5c11\u8bef\u5224\u3002\uff09 \u9009\u4e3e\u89e6\u53d1\uff1adiscovery.zen.minimum_master_nodes:1\uff0c\u5f53\u5907\u9009\u4e3b\u8282\u70b9\u7684\u4e2a\u6570\u5927\u4e8e\u7b49\u4e8e\u8be5\u53c2\u6570\u7684\u503c\uff0c\u4e14\u5907\u9009\u4e3b\u8282\u70b9\u4e2d\u6709\u8be5\u53c2\u6570\u4e2a\u8282\u70b9\u8ba4\u4e3a\u4e3b\u8282\u70b9\u6302\u4e86\uff0c\u8fdb\u884c\u9009\u4e3e\u3002\u5b98\u65b9\u5efa\u8bae\u4e3a(N/2)+1\uff0cN\u4e3a\u4e3b\u8282\u70b9\u4e2a\u6570\uff08\u5373\u6709\u8d44\u683c\u6210\u4e3a\u4e3b\u8282\u70b9\u7684\u8282\u70b9\u4e2a\u6570\uff09 \u89d2\u8272\u5206\u79bb\uff1a\u5373master\u8282\u70b9\u4e0edata\u8282\u70b9\u5206\u79bb\uff0c\u9650\u5236\u89d2\u8272 # \u4e3b\u8282\u70b9 node.master: true node.data: false # \u4ece\u8282\u70b9 node.master: false node.data: true","title":"\u89e3\u51b3\u8111\u88c2"},{"location":"infrastructure-security/host-security/log-analysis/elk3-problem/#_3","text":"ES\u8111\u88c2\u95ee\u9898\u5206\u6790\u53ca\u4f18\u5316","title":"\u53c2\u8003\u8d44\u6599"},{"location":"infrastructure-security/host-security/log-analysis/elk4-grokdebug/","text":"Logstash Patterns \u5b98\u65b9\u6587\u6863 Centos7\u5b89\u88c5GrokDebug github\u5730\u5740 # \u5b89\u88c5\u4f9d\u8d56 yum install openssl-devel.x86_64 gcc.x86_64 -y # \u4e0b\u8f7druby wget https://ruby.taobao.org/mirrors/ruby/2.1/ruby-2.1.7.tar.gz # \u5b89\u88c5ruby tar -zxvf ruby-2.1.7.tar.gz cd ruby-2.1.7/ ./configure --prefix=/usr/local/ruby2.1.7 make make install # \u914d\u7f6e\u73af\u5883\u53d8\u91cf echo 'export PATH=/usr/local/ruby2.1.7/bin:$PATH' /etc/profile source /etc/profile # \u5b89\u88c5rubygem wget http://rubygems.global.ssl.fastly.net/rubygems/rubygems-2.6.2.tgz tar -zxvf rubygems-2.6.2.tgz cd rubygems-2.6.2/ ruby setup.rb # \u66ff\u6362gem\u6e90 gem sources --add https://gems.ruby-china.com/ --remove https://rubygems.org/ gem sources -l # \u521b\u5efa\u5b89\u88c5\u76ee\u5f55\u4e0e\u4e0b\u8f7dgrokdebug mkdir /usr/local/grokdebug cd /usr/local/grokdebug git clone https://github.com/nickethier/grokdebug.git mv grokdebug/* . rm -rf grokdebug/ # \u67e5\u770b\u7f3a\u5c11\u7684\u7ec4\u4ef6 ruby config.ru # \u5b89\u88c5\u7ec4\u4ef6 gem install bundler gem install cabin -v=0.5.0 gem install haml -v=3.1.7 gem install jls-grok -v=0.10.10 gem install json -v=1.7.5 gem install kgio -v=2.8.0 gem install rack -v=1.4.1 gem install rack-protection -v=1.2.0 gem install raindrops -v=0.11.0 gem install shotgun -v=0.9 gem install tilt -v=1.3.3 gem install sinatra -v=1.3.3 gem install unicorn -v=4.6.3 \u542f\u52a8grokdebug nohup bundle exec unicorn -p 8081 -c ./unicorn","title":"Logstash Patterns"},{"location":"infrastructure-security/host-security/log-analysis/elk4-grokdebug/#logstash-patterns","text":"\u5b98\u65b9\u6587\u6863","title":"Logstash Patterns"},{"location":"infrastructure-security/host-security/log-analysis/elk4-grokdebug/#centos7grokdebug","text":"github\u5730\u5740 # \u5b89\u88c5\u4f9d\u8d56 yum install openssl-devel.x86_64 gcc.x86_64 -y # \u4e0b\u8f7druby wget https://ruby.taobao.org/mirrors/ruby/2.1/ruby-2.1.7.tar.gz # \u5b89\u88c5ruby tar -zxvf ruby-2.1.7.tar.gz cd ruby-2.1.7/ ./configure --prefix=/usr/local/ruby2.1.7 make make install # \u914d\u7f6e\u73af\u5883\u53d8\u91cf echo 'export PATH=/usr/local/ruby2.1.7/bin:$PATH' /etc/profile source /etc/profile # \u5b89\u88c5rubygem wget http://rubygems.global.ssl.fastly.net/rubygems/rubygems-2.6.2.tgz tar -zxvf rubygems-2.6.2.tgz cd rubygems-2.6.2/ ruby setup.rb # \u66ff\u6362gem\u6e90 gem sources --add https://gems.ruby-china.com/ --remove https://rubygems.org/ gem sources -l # \u521b\u5efa\u5b89\u88c5\u76ee\u5f55\u4e0e\u4e0b\u8f7dgrokdebug mkdir /usr/local/grokdebug cd /usr/local/grokdebug git clone https://github.com/nickethier/grokdebug.git mv grokdebug/* . rm -rf grokdebug/ # \u67e5\u770b\u7f3a\u5c11\u7684\u7ec4\u4ef6 ruby config.ru # \u5b89\u88c5\u7ec4\u4ef6 gem install bundler gem install cabin -v=0.5.0 gem install haml -v=3.1.7 gem install jls-grok -v=0.10.10 gem install json -v=1.7.5 gem install kgio -v=2.8.0 gem install rack -v=1.4.1 gem install rack-protection -v=1.2.0 gem install raindrops -v=0.11.0 gem install shotgun -v=0.9 gem install tilt -v=1.3.3 gem install sinatra -v=1.3.3 gem install unicorn -v=4.6.3 \u542f\u52a8grokdebug nohup bundle exec unicorn -p 8081 -c ./unicorn","title":"Centos7\u5b89\u88c5GrokDebug"},{"location":"infrastructure-security/host-security/log-analysis/elk5-elastalert/","text":"ELK\u76d1\u63a7\u62a5\u8b66\u7cfb\u7edf-elastalert github\u5730\u5740 elastalert\u5b89\u88c5 # \u64cd\u4f5c\u7cfb\u7edf\uff1aCentos7 # \u89e3\u51b3python\u4f9d\u8d56 yum install epel-release -y yum install python2-pip.noarch gcc.x86_64 python-devel.x86_64 libffi-devel.x86_64 git.x86_64 -y pip install --upgrade pip pip install setuptools =11.3 pip install elasticsearch =5.0.0 # \u5b89\u88c5 git clone https://github.com/Yelp/elastalert.git cd elastalert/ pip install -r requirements.txt python setup.py install \u4f7f\u7528 \u521b\u5efa\u7d22\u5f15 elastalert-create-index \u6d4b\u8bd5\u89c4\u5219\u6587\u4ef6 elastalert-test-rule rule.yaml \u542f\u52a8\u76d1\u63a7\u62a5\u8b66 python -m elastalert.elastalert --verbose --rule /root/elastalert/example_rules/rule.yaml \u4ee5\u670d\u52a1\u542f\u52a8elastalert mkdir /etc/elastalert cp /root/elastalert/config.yaml.example /etc/elastalert/config.yaml # \u521b\u5efa\u89c4\u5219\u76ee\u5f55 mkdir /etc/elastalert/rules cp /root/elastalert/example_rules/example_frequency.yaml /etc/elastalert/rules/ cp /root/elastalert/example_rules/example_frequency.yaml /etc/elastalert/rules/rule.yaml # \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 vim /etc/elastalert/config.yaml rules_folder: /etc/elastalert/rules # \u521b\u5efaelastalert\u670d\u52a1\u6587\u4ef6 vim /etc/systemd/system/elastalert.service elastalert.service\u6587\u4ef6\u5185\u5bb9\uff1a [Unit] Description=elastalert After=elasticsearch.service [Service] Type=simple User=root Group=root Restart=on-failure WorkingDirectory=/opt ExecStart=/usr/bin/python -m elastalert.elastalert --config /etc/elastalert/config.yaml --rule /etc/elastalert/rules/rule.yaml Install] WantedBy=multi-user.target \u542f\u52a8\u670d\u52a1\uff1a systemctl start elastalert.service config.yaml\u914d\u7f6e\u6587\u4ef6\u8bf4\u660e rules_folder: /etc/elastalert/rules # \u89c4\u5219\u76ee\u5f55 run_every: # \u591a\u4e45\u4eceES\u4e2d\u67e5\u8be2\u4e00\u6b21 minutes: 1 es_host: 172.16.64.171 es_port: 9200 writeback_index: elastalert_status # elastalert\u7d22\u5f15\u540d\u79f0 alert_time_limit: # \u5931\u8d25\u91cd\u8bd5\u9650\u5236 days: 2 \u90ae\u7bb1\u62a5\u8b66 vim /etc/elastalert/rules/rule.yaml rule.yaml\u6587\u4ef6\u5185\u5bb9\uff1a es_host: 127.0.0.1 es_port: 9200 # \u89c4\u5219\u540d\u5b57\uff0c\u552f\u4e00\u503c name: security test # \u62a5\u8b66\u7c7b\u578b\uff0c\u53c2\u8003\u5370\u8c61\u7b14\u8bb0 type: any # es\u7d22\u5f15 index: logstash-* # \u8fc7\u6ee4 filter: - query: query_string: query: message:test # \u62a5\u8b66\u7c7b\u578b alert: - email smtp_host: smtp.126.com smtp_port: 25 smtp_auth_file: smtp_auth_file.yaml email_reply_to: email1_address from_addr: email1_address # \u63a5\u53d7\u90ae\u7bb1 email: - email2_address \u521b\u5efa\u90ae\u7bb1\u5bc6\u7801\u6587\u4ef6: vim /etc/elastalert/rules/smtp_auth_file.yaml smtp_auth_file.yaml\u6587\u4ef6\u5185\u5bb9\uff1a user: username password: password \u9489\u9489\u62a5\u8b66 github\u5730\u5740 \u9489\u9489\u6d4b\u8bd5 curl 'https://oapi.dingtalk.com/robot/send?access_token=token\u503c' \\ -d '{ msgtype : text , text :{ content : test }}' \\ -H 'Content-Type:application/json' \u5b89\u88c5\u63d2\u4ef6 # \u4e0b\u8f7d git clone https://github.com/xuyaoqiang/elastalert-dingtalk-plugin.git # \u590d\u5236\u63d2\u4ef6\u5230elastalert\u4e2d cp -r elastalert-dingtalk-plugin/elastalert_modules/ /etc/elastalert/ \u914d\u7f6e\u89c4\u5219 vim /etc/elastalert/rules/rule.yaml rule.yaml\u6587\u4ef6\u5185\u5bb9\uff1a es_host: 127.0.0.1 es_port: 9200 name: security type: any index: logstash # \u67e5\u8be2\u6a21\u5f0f filter: - query: query_string: query: message:test # \u62a5\u8b66\u6a21\u5f0f alert: - elastalert_modules.dingtalk_alert.DingTalkAlerter # \u9489\u9489\u7684webhook\u63a5\u53e3 dingtalk_webhook: dingtalk_msgtype: text \u542f\u52a8\u76d1\u63a7\u62a5\u8b66: python -m elastalert.elastalert --verbose --config /etc/elastalert/config.yaml --rule /etc/elastalert/rules/rule.yaml \u914d\u7f6e\u670d\u52a1\u542f\u52a8 vim /etc/systemd/system/elastalert.service elastalert.service\u6587\u4ef6\u5185\u5bb9\uff1a [Unit] Description=elastalert After=elasticsearch.service [Service] Type=simple User=root Group=root Restart=on-failure WorkingDirectory=/opt ExecStart=cd /etc/elastalert /usr/bin/python -m elastalert.elastalert --config /etc/elastalert/config.yaml --rule /etc/elastalert/rules/rule.yaml Install] WantedBy=multi-user.target \u4f18\u5316\u62a5\u8b66\u683c\u5f0f # \u6ce8\u610f\u4e0a\u4e0b\u5b57\u6bb5\u5bf9\u5e94 alert_text: | kibana_url: https://hostname:5601/app/kibana alarm_reason: 1\u5206\u949f\u5185login.php\u81f3\u5c11\u88ab\u8bbf\u95ee10\u6b21 alarm_name: {} request_uri: {} request_ip: {} response_status: {} alert_text_args: - name - request - clientip - response alert_text_type: alert_text_only elastalert-kibana-plugin github\u5730\u5740 \u53c2\u8003\u8d44\u6599 \u4e00\u4e2a\u4eba\u7684\u5b89\u5168\u90e8\u4e4bELK\u63a5\u6536Paloalto\u65e5\u5fd7\u5e76\u7528\u9489\u9489\u544a\u8b66 \u57fa\u4e8eElastalert\u7684\u5b89\u5168\u544a\u8b66\u5256\u6790","title":"ELK\u76d1\u63a7\u62a5\u8b66\u7cfb\u7edf-elastalert"},{"location":"infrastructure-security/host-security/log-analysis/elk5-elastalert/#elk-elastalert","text":"github\u5730\u5740","title":"ELK\u76d1\u63a7\u62a5\u8b66\u7cfb\u7edf-elastalert"},{"location":"infrastructure-security/host-security/log-analysis/elk5-elastalert/#elastalert","text":"# \u64cd\u4f5c\u7cfb\u7edf\uff1aCentos7 # \u89e3\u51b3python\u4f9d\u8d56 yum install epel-release -y yum install python2-pip.noarch gcc.x86_64 python-devel.x86_64 libffi-devel.x86_64 git.x86_64 -y pip install --upgrade pip pip install setuptools =11.3 pip install elasticsearch =5.0.0 # \u5b89\u88c5 git clone https://github.com/Yelp/elastalert.git cd elastalert/ pip install -r requirements.txt python setup.py install","title":"elastalert\u5b89\u88c5"},{"location":"infrastructure-security/host-security/log-analysis/elk5-elastalert/#_1","text":"\u521b\u5efa\u7d22\u5f15 elastalert-create-index \u6d4b\u8bd5\u89c4\u5219\u6587\u4ef6 elastalert-test-rule rule.yaml \u542f\u52a8\u76d1\u63a7\u62a5\u8b66 python -m elastalert.elastalert --verbose --rule /root/elastalert/example_rules/rule.yaml","title":"\u4f7f\u7528"},{"location":"infrastructure-security/host-security/log-analysis/elk5-elastalert/#elastalert_1","text":"mkdir /etc/elastalert cp /root/elastalert/config.yaml.example /etc/elastalert/config.yaml # \u521b\u5efa\u89c4\u5219\u76ee\u5f55 mkdir /etc/elastalert/rules cp /root/elastalert/example_rules/example_frequency.yaml /etc/elastalert/rules/ cp /root/elastalert/example_rules/example_frequency.yaml /etc/elastalert/rules/rule.yaml # \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 vim /etc/elastalert/config.yaml rules_folder: /etc/elastalert/rules # \u521b\u5efaelastalert\u670d\u52a1\u6587\u4ef6 vim /etc/systemd/system/elastalert.service elastalert.service\u6587\u4ef6\u5185\u5bb9\uff1a [Unit] Description=elastalert After=elasticsearch.service [Service] Type=simple User=root Group=root Restart=on-failure WorkingDirectory=/opt ExecStart=/usr/bin/python -m elastalert.elastalert --config /etc/elastalert/config.yaml --rule /etc/elastalert/rules/rule.yaml Install] WantedBy=multi-user.target \u542f\u52a8\u670d\u52a1\uff1a systemctl start elastalert.service","title":"\u4ee5\u670d\u52a1\u542f\u52a8elastalert"},{"location":"infrastructure-security/host-security/log-analysis/elk5-elastalert/#configyaml","text":"rules_folder: /etc/elastalert/rules # \u89c4\u5219\u76ee\u5f55 run_every: # \u591a\u4e45\u4eceES\u4e2d\u67e5\u8be2\u4e00\u6b21 minutes: 1 es_host: 172.16.64.171 es_port: 9200 writeback_index: elastalert_status # elastalert\u7d22\u5f15\u540d\u79f0 alert_time_limit: # \u5931\u8d25\u91cd\u8bd5\u9650\u5236 days: 2","title":"config.yaml\u914d\u7f6e\u6587\u4ef6\u8bf4\u660e"},{"location":"infrastructure-security/host-security/log-analysis/elk5-elastalert/#_2","text":"vim /etc/elastalert/rules/rule.yaml rule.yaml\u6587\u4ef6\u5185\u5bb9\uff1a es_host: 127.0.0.1 es_port: 9200 # \u89c4\u5219\u540d\u5b57\uff0c\u552f\u4e00\u503c name: security test # \u62a5\u8b66\u7c7b\u578b\uff0c\u53c2\u8003\u5370\u8c61\u7b14\u8bb0 type: any # es\u7d22\u5f15 index: logstash-* # \u8fc7\u6ee4 filter: - query: query_string: query: message:test # \u62a5\u8b66\u7c7b\u578b alert: - email smtp_host: smtp.126.com smtp_port: 25 smtp_auth_file: smtp_auth_file.yaml email_reply_to: email1_address from_addr: email1_address # \u63a5\u53d7\u90ae\u7bb1 email: - email2_address \u521b\u5efa\u90ae\u7bb1\u5bc6\u7801\u6587\u4ef6: vim /etc/elastalert/rules/smtp_auth_file.yaml smtp_auth_file.yaml\u6587\u4ef6\u5185\u5bb9\uff1a user: username password: password","title":"\u90ae\u7bb1\u62a5\u8b66"},{"location":"infrastructure-security/host-security/log-analysis/elk5-elastalert/#_3","text":"github\u5730\u5740 \u9489\u9489\u6d4b\u8bd5 curl 'https://oapi.dingtalk.com/robot/send?access_token=token\u503c' \\ -d '{ msgtype : text , text :{ content : test }}' \\ -H 'Content-Type:application/json' \u5b89\u88c5\u63d2\u4ef6 # \u4e0b\u8f7d git clone https://github.com/xuyaoqiang/elastalert-dingtalk-plugin.git # \u590d\u5236\u63d2\u4ef6\u5230elastalert\u4e2d cp -r elastalert-dingtalk-plugin/elastalert_modules/ /etc/elastalert/ \u914d\u7f6e\u89c4\u5219 vim /etc/elastalert/rules/rule.yaml rule.yaml\u6587\u4ef6\u5185\u5bb9\uff1a es_host: 127.0.0.1 es_port: 9200 name: security type: any index: logstash # \u67e5\u8be2\u6a21\u5f0f filter: - query: query_string: query: message:test # \u62a5\u8b66\u6a21\u5f0f alert: - elastalert_modules.dingtalk_alert.DingTalkAlerter # \u9489\u9489\u7684webhook\u63a5\u53e3 dingtalk_webhook: dingtalk_msgtype: text \u542f\u52a8\u76d1\u63a7\u62a5\u8b66: python -m elastalert.elastalert --verbose --config /etc/elastalert/config.yaml --rule /etc/elastalert/rules/rule.yaml \u914d\u7f6e\u670d\u52a1\u542f\u52a8 vim /etc/systemd/system/elastalert.service elastalert.service\u6587\u4ef6\u5185\u5bb9\uff1a [Unit] Description=elastalert After=elasticsearch.service [Service] Type=simple User=root Group=root Restart=on-failure WorkingDirectory=/opt ExecStart=cd /etc/elastalert /usr/bin/python -m elastalert.elastalert --config /etc/elastalert/config.yaml --rule /etc/elastalert/rules/rule.yaml Install] WantedBy=multi-user.target \u4f18\u5316\u62a5\u8b66\u683c\u5f0f # \u6ce8\u610f\u4e0a\u4e0b\u5b57\u6bb5\u5bf9\u5e94 alert_text: | kibana_url: https://hostname:5601/app/kibana alarm_reason: 1\u5206\u949f\u5185login.php\u81f3\u5c11\u88ab\u8bbf\u95ee10\u6b21 alarm_name: {} request_uri: {} request_ip: {} response_status: {} alert_text_args: - name - request - clientip - response alert_text_type: alert_text_only","title":"\u9489\u9489\u62a5\u8b66"},{"location":"infrastructure-security/host-security/log-analysis/elk5-elastalert/#elastalert-kibana-plugin","text":"github\u5730\u5740","title":"elastalert-kibana-plugin"},{"location":"infrastructure-security/host-security/log-analysis/elk5-elastalert/#_4","text":"\u4e00\u4e2a\u4eba\u7684\u5b89\u5168\u90e8\u4e4bELK\u63a5\u6536Paloalto\u65e5\u5fd7\u5e76\u7528\u9489\u9489\u544a\u8b66 \u57fa\u4e8eElastalert\u7684\u5b89\u5168\u544a\u8b66\u5256\u6790","title":"\u53c2\u8003\u8d44\u6599"},{"location":"infrastructure-security/host-security/log-analysis/graylog1/","text":"Graylog\u65e5\u5fd7\u7ba1\u7406\u7cfb\u7edf \u5b98\u7f51\u5730\u5740 \u5b98\u65b9\u6587\u6863 \u5b89\u88c5\u4e0e\u4f7f\u7528 \u5b89\u88c5graylog \u89e3\u51b3\u4f9d\u8d56 # java =8 yum install java-1.8.0-openjdk.x86_64 java-1.8.0-openjdk-devel.x86_64 -y # MongoDB =2.4 yum install epel-release -y yum install mongodb.x86_64 mongodb-server.x86_64 -y # \u542f\u52a8MongoDB systemctl start mongod.service # ElasticSearch =2.x and = 6.x rpm -ivh elasticsearch-5.6.13.rpm # \u542f\u52a8ElasticSearch systemctl start elasticsearch.service \u5b89\u88c5graylog rpm -Uvh https://packages.graylog2.org/repo/packages/graylog-2.4-repository_latest.rpm yum install graylog-server -y \u914d\u7f6e\u6587\u4ef6 vim /etc/graylog/server/server.conf # \u5e38\u89c4\u914d\u7f6e is_master = true # \u662f\u5426\u662f\u4e3b\u8282\u70b9 password+secret = secret # \u8bbe\u7f6e\u5bc6\u94a5 root_username = admin # \u9ed8\u8ba4\u7528\u6237 root_password_sha2 = SHA2 # \u5bc6\u7801\u7684SHA2 hash\u503c # REST API\u5730\u5740 rest_listen_uri = http://0.0.0.0:9000/api/ # Web\u5730\u5740 web_listen_uri = http://0.0.0.0:9000/ # ES\u5730\u5740 elasticsearch_hosts = http://node1:9200 # MongoDB\u914d\u7f6e mongodb_uri = mongodb://localhost/graylog \u751f\u6210\u5bc6\u94a5 yum install pwgen.x86_64 -y pwgen -N 1 -s 96 \u751f\u6210\u5bc6\u7801\u7684SHA2 echo -n Enter Password: head -1 /dev/stdin | tr -d '\\n' | sha256sum | cut -d -f1 \u542f\u52a8\u670d\u52a1 systemctl start graylog-server \u914d\u7f6e\u5f55\u5165\u6570\u636e system/overview-inputs \u914d\u7f6ersyslog vim /etc/rsyslog.d/graylog.conf graylog.conf\u6587\u4ef6\u5185\u5bb9 *.* @@10.10.10.5:5140;RSYSLOG_SyslogProtocol23Format \u91cd\u542frsyslog\u670d\u52a1 systemctl restart rsyslog.service \u70b9\u51fb\uff1ashow received messages \u53c2\u8003\u8d44\u6599 Sending syslog from Linux systems into Graylog","title":"Graylog\u65e5\u5fd7\u7ba1\u7406\u7cfb\u7edf"},{"location":"infrastructure-security/host-security/log-analysis/graylog1/#graylog","text":"\u5b98\u7f51\u5730\u5740 \u5b98\u65b9\u6587\u6863","title":"Graylog\u65e5\u5fd7\u7ba1\u7406\u7cfb\u7edf"},{"location":"infrastructure-security/host-security/log-analysis/graylog1/#_1","text":"","title":"\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"infrastructure-security/host-security/log-analysis/graylog1/#graylog_1","text":"\u89e3\u51b3\u4f9d\u8d56 # java =8 yum install java-1.8.0-openjdk.x86_64 java-1.8.0-openjdk-devel.x86_64 -y # MongoDB =2.4 yum install epel-release -y yum install mongodb.x86_64 mongodb-server.x86_64 -y # \u542f\u52a8MongoDB systemctl start mongod.service # ElasticSearch =2.x and = 6.x rpm -ivh elasticsearch-5.6.13.rpm # \u542f\u52a8ElasticSearch systemctl start elasticsearch.service \u5b89\u88c5graylog rpm -Uvh https://packages.graylog2.org/repo/packages/graylog-2.4-repository_latest.rpm yum install graylog-server -y","title":"\u5b89\u88c5graylog"},{"location":"infrastructure-security/host-security/log-analysis/graylog1/#_2","text":"vim /etc/graylog/server/server.conf # \u5e38\u89c4\u914d\u7f6e is_master = true # \u662f\u5426\u662f\u4e3b\u8282\u70b9 password+secret = secret # \u8bbe\u7f6e\u5bc6\u94a5 root_username = admin # \u9ed8\u8ba4\u7528\u6237 root_password_sha2 = SHA2 # \u5bc6\u7801\u7684SHA2 hash\u503c # REST API\u5730\u5740 rest_listen_uri = http://0.0.0.0:9000/api/ # Web\u5730\u5740 web_listen_uri = http://0.0.0.0:9000/ # ES\u5730\u5740 elasticsearch_hosts = http://node1:9200 # MongoDB\u914d\u7f6e mongodb_uri = mongodb://localhost/graylog \u751f\u6210\u5bc6\u94a5 yum install pwgen.x86_64 -y pwgen -N 1 -s 96 \u751f\u6210\u5bc6\u7801\u7684SHA2 echo -n Enter Password: head -1 /dev/stdin | tr -d '\\n' | sha256sum | cut -d -f1 \u542f\u52a8\u670d\u52a1 systemctl start graylog-server","title":"\u914d\u7f6e\u6587\u4ef6"},{"location":"infrastructure-security/host-security/log-analysis/graylog1/#_3","text":"system/overview-inputs \u914d\u7f6ersyslog vim /etc/rsyslog.d/graylog.conf graylog.conf\u6587\u4ef6\u5185\u5bb9 *.* @@10.10.10.5:5140;RSYSLOG_SyslogProtocol23Format \u91cd\u542frsyslog\u670d\u52a1 systemctl restart rsyslog.service \u70b9\u51fb\uff1ashow received messages","title":"\u914d\u7f6e\u5f55\u5165\u6570\u636e"},{"location":"infrastructure-security/host-security/log-analysis/graylog1/#_4","text":"Sending syslog from Linux systems into Graylog","title":"\u53c2\u8003\u8d44\u6599"},{"location":"infrastructure-security/host-security/log-analysis/graylog2-advanced/","text":"Graylog\u9ad8\u7ea7\u4f7f\u7528 Graylog\u89e3\u6790Nginx\u65e5\u5fd7 \u6570\u636e\u6d41\u5411\uff1aFilebeat- Collector- Filebeat-Graylog Server \u521b\u5efa\u4e00\u4e2aBeats\u7c7b\u578b\u7684Inputs system/overview-Inputs \u914d\u7f6eCollector\u6536\u96c6\u65e5\u5fd7 system/overview-Collector-Mange Configurations-Create configration \u4fee\u6539\u914d\u7f6e-Create Output-Filebeat Output \u4fee\u6539\u914d\u7f6e-Create Input-Filebeat Input\uff0c\u8bb0\u5f97\u4fee\u6539Nginx\u65e5\u5fd7\u6587\u4ef6\u8def\u5f84 \u4fee\u6539\u6807\u7b7e Collector\u914d\u7f6e \u5b89\u88c5collector wget https://github.com/Graylog2/collector-sidecar/releases/download/0.1.7/collector-sidecar-0.1.7-1.x86_64.rpm rpm -ivh collector-sidecar-0.1.7-1.x86_64.rpm \u914d\u7f6ecollector vim /etc/graylog/collector-sidecar/collector_sidecar.yml # \u4fee\u6539tag\u6807\u7b7e\u5c31\u597d\u4e86 \u542f\u52a8collector graylog-collector-sidecar install \u914d\u7f6e\u89e3\u6790IP \u4e0b\u8f7d\u89e3\u6790\u6587\u4ef6 \u4e0b\u8f7d\u5730\u5740 # \u89e3\u538b\u5e76\u5b58\u653e\u6587\u4ef6\u5230\u6307\u5b9a\u8def\u5f84 tar -xf GeoLite2-City.tar.gz mv GeoLite2-City_20181218/GeoLite2-City.mmdb /etc/graylog/server/ tar -xf GeoLite2-Country.tar.gz mv GeoLite2-Country_20181218/GeoLite2-Country.mmdb /etc/graylog/server/ \u4fee\u6539Inputs\u7684Manage Extractors Add extractor-Load Message\uff08\u5907\u6ce8\uff1a\u518d\u6b21\u4e4b\u524d\uff0c\u5fc5\u987b\u4fdd\u8bc1\u4f60\u7684Ningx\u65e5\u5fd7\u6587\u4ef6\u4e2d\u6709\u65e5\u5fd7\u4fe1\u606f\uff09 \u5728message\u7684\u53f3\u4fa7\uff0c\u9009\u62e9Select extractor tyep\u4e3aGrok Pattern \u914d\u7f6e\u89e3\u6790\u5e93 system/overview-Configurations-Geo-Location Processor \u70b9\u51fbupdate \u6548\u679c\u56fe \u53c2\u8003\u8d44\u6599 Graylog\u5206\u6790Nginx\u65e5\u5fd7\u5e76\u901a\u8fc7GeoIP2\u83b7\u53d6\u8bbf\u95ee\u8005IP\u7684\u5730\u7406\u4f4d\u7f6e\u4fe1\u606f","title":"Graylog\u9ad8\u7ea7\u4f7f\u7528"},{"location":"infrastructure-security/host-security/log-analysis/graylog2-advanced/#graylog","text":"","title":"Graylog\u9ad8\u7ea7\u4f7f\u7528"},{"location":"infrastructure-security/host-security/log-analysis/graylog2-advanced/#graylognginx","text":"\u6570\u636e\u6d41\u5411\uff1aFilebeat- Collector- Filebeat-Graylog Server","title":"Graylog\u89e3\u6790Nginx\u65e5\u5fd7"},{"location":"infrastructure-security/host-security/log-analysis/graylog2-advanced/#beatsinputs","text":"system/overview-Inputs","title":"\u521b\u5efa\u4e00\u4e2aBeats\u7c7b\u578b\u7684Inputs"},{"location":"infrastructure-security/host-security/log-analysis/graylog2-advanced/#collector","text":"system/overview-Collector-Mange Configurations-Create configration \u4fee\u6539\u914d\u7f6e-Create Output-Filebeat Output \u4fee\u6539\u914d\u7f6e-Create Input-Filebeat Input\uff0c\u8bb0\u5f97\u4fee\u6539Nginx\u65e5\u5fd7\u6587\u4ef6\u8def\u5f84 \u4fee\u6539\u6807\u7b7e","title":"\u914d\u7f6eCollector\u6536\u96c6\u65e5\u5fd7"},{"location":"infrastructure-security/host-security/log-analysis/graylog2-advanced/#collector_1","text":"\u5b89\u88c5collector wget https://github.com/Graylog2/collector-sidecar/releases/download/0.1.7/collector-sidecar-0.1.7-1.x86_64.rpm rpm -ivh collector-sidecar-0.1.7-1.x86_64.rpm \u914d\u7f6ecollector vim /etc/graylog/collector-sidecar/collector_sidecar.yml # \u4fee\u6539tag\u6807\u7b7e\u5c31\u597d\u4e86 \u542f\u52a8collector graylog-collector-sidecar install","title":"Collector\u914d\u7f6e"},{"location":"infrastructure-security/host-security/log-analysis/graylog2-advanced/#ip","text":"\u4e0b\u8f7d\u89e3\u6790\u6587\u4ef6 \u4e0b\u8f7d\u5730\u5740 # \u89e3\u538b\u5e76\u5b58\u653e\u6587\u4ef6\u5230\u6307\u5b9a\u8def\u5f84 tar -xf GeoLite2-City.tar.gz mv GeoLite2-City_20181218/GeoLite2-City.mmdb /etc/graylog/server/ tar -xf GeoLite2-Country.tar.gz mv GeoLite2-Country_20181218/GeoLite2-Country.mmdb /etc/graylog/server/ \u4fee\u6539Inputs\u7684Manage Extractors Add extractor-Load Message\uff08\u5907\u6ce8\uff1a\u518d\u6b21\u4e4b\u524d\uff0c\u5fc5\u987b\u4fdd\u8bc1\u4f60\u7684Ningx\u65e5\u5fd7\u6587\u4ef6\u4e2d\u6709\u65e5\u5fd7\u4fe1\u606f\uff09 \u5728message\u7684\u53f3\u4fa7\uff0c\u9009\u62e9Select extractor tyep\u4e3aGrok Pattern \u914d\u7f6e\u89e3\u6790\u5e93 system/overview-Configurations-Geo-Location Processor \u70b9\u51fbupdate \u6548\u679c\u56fe","title":"\u914d\u7f6e\u89e3\u6790IP"},{"location":"infrastructure-security/host-security/log-analysis/graylog2-advanced/#_1","text":"Graylog\u5206\u6790Nginx\u65e5\u5fd7\u5e76\u901a\u8fc7GeoIP2\u83b7\u53d6\u8bbf\u95ee\u8005IP\u7684\u5730\u7406\u4f4d\u7f6e\u4fe1\u606f","title":"\u53c2\u8003\u8d44\u6599"},{"location":"infrastructure-security/network-security/","text":"\u7f51\u7edc\u5b89\u5168","title":"\u7f51\u7edc\u5b89\u5168"},{"location":"infrastructure-security/network-security/#_1","text":"","title":"\u7f51\u7edc\u5b89\u5168"},{"location":"infrastructure-security/network-security/cc-dos-ddos/cc/","text":"\u5e94\u7528\u5c42\u62d2\u7edd\u670d\u52a1\u653b\u51fb CC\uff08Chanllenge Collapsar\uff09\uff1aCC\u5c31\u662fDDoS\u7684\u4e00\u79cd\u3002 \u901a\u8fc7\u63a7\u5236\u67d0\u4e9b\u4e3b\u673a\u8865\u4e01\u53d1\u9001\u5927\u91cf\u6570\u636e\u5305\u7ed9\u670d\u52a1\u5668\u9020\u6210\u670d\u52a1\u5668\u8d44\u6e90\u8017\u5c3d\uff0c\u4e00\u76f4\u5230\u5b95\u673a\u5d29\u6e83\uff0c\u5e38\u7528\u4e8e\u653b\u51fb\u9875\u9762\u3002 \u5e94\u7528\u5c42\u62d2\u7edd\u670d\u52a1\u653b\u51fb\u5206\u7c7b Get-Flood \u76f4\u63a5\u5bf9\u8f83\u4e3a\u6d88\u8017\u8d44\u6e90\u7684URL\u8fdb\u884c\u5927\u91cf\u7684\u8bf7\u6c42\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u591a\u4e2aURL\u5e76\u53d1\uff0c\u5355\u4e00URL\u5e76\u53d1\u8bf7\u6c42\uff0c\u968f\u673aURL\u8bf7\u6c42\u7b49\u3002 SlowLoris \u4e5f\u79f0\u4e3aslow headers\uff0c\u653b\u51fb\u8005\u59cb\u7ec8\u6784\u9020\u4e0d\u5b8c\u6574\u7684http header\u53d1\u9001\uff0c\u540c\u65f6\u8fd8\u95f4\u9694\u4e00\u5b9a\u65f6\u95f4\u518d\u53d1\u9001\u6570\u636e\uff0c\u5bfc\u81f4\u670d\u52a1\u5668\u4e00\u76f4\u5904\u4e8e\u7b49\u5f85\u72b6\u6001\u3002 SlowPost \u4e5f\u79f0\u4e3aslow body\uff0c\u653b\u51fb\u7684\u91cd\u70b9\u5728POST\u6570\u636e\u4e0a\uff0c\u901a\u8fc7\u5c06HTTP Header\u4e2d\u7684Content-Length\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u8f83\u5927\u7684\u503c\uff0c\u540c\u65f6\u8fd8\u95f4\u9694\u4e00\u5b9a\u65f6\u95f4\u518d\u53d1\u9001\u6570\u636e\uff0c\u5bfc\u81f4\u670d\u52a1\u5668\u4e00\u76f4\u5904\u4e8e\u7b49\u5f85\u72b6\u6001\u4e2d\u3002 SlowRead \u628awindow\u7a97\u53e3\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u975e\u5e38\u5c0f\u7684\u503c\uff0c\u8ba9\u670d\u52a1\u5668\u59cb\u7ec8\u51c6\u5907\u56de\u5e94\u6570\u636e\u3002 HashDos \u6d4b\u8bd5\u5de5\u5177 SlowHTTPTest github\u5730\u5740 Centos7\u7f16\u8bd1\u5b89\u88c5SlowHTTPTest yum install gcc.x86_64 gcc-c++.x86_64 openssl-devel.x86_64 -y yum install automake.noarch autoconf.noarch -y git clone https://github.com/shekyan/slowhttptest cd slowhttptest ./configure autoreconf -ivf make make install SlowHTTPTest\u4f7f\u7528 -H SlowLoris\u6a21\u5f0f -B SlowPost\u6a21\u5f0f -R Range Header\u6a21\u5f0f -X Slow Read\u6a21\u5f0f -g \u751f\u6210\u7edf\u8ba1\u4fe1\u606f -o \u6307\u5b9a\u8f93\u51fa\u6587\u4ef6\u540d -v \u65e5\u5fd7\u7b49\u7ea7 -c \u5efa\u7acb\u7684\u8fde\u63a5\u6570\uff0c\u9ed8\u8ba4\u4e3a50 -i \u5728SlowLoris\u548cSlow Post\u6a21\u5f0f\u4e2d\uff0c\u6570\u636e\u53d1\u9001\u7684\u95f4\u9694\uff0c\u9ed8\u8ba4\u4e3a10 -l \u6d4b\u8bd5\u7ef4\u6301\u65f6\u95f4\uff0c\u9ed8\u8ba4\u4e3a240 -r \u6bcf\u79d2\u8fde\u63a5\u4e2a\u6570\uff0c\u9ed8\u8ba4\u4e3a50 -s \u58f0\u660eContent-Length header\u503c\uff0c\u9ed8\u8ba4\u4e3a4096 -t http verb\u5728\u8bf7\u6c42\u65f6\u4f7f\u7528\u4ec0\u4e48\u64cd\u4f5c\uff0c\u9ed8\u8ba4\u4e3aGET -u \u6307\u5b9a\u76ee\u6807URL -x \u5728SlowLoris\u548cSlow Post\u6a21\u5f0f\u4e2d\uff0c\u6307\u5b9a\u53d1\u9001\u7684\u6700\u5927\u6570\u636e\u5c42\u822a\u90fd -y \u5728Slow Read\u6a21\u5f0f\u4e2d\u6307\u5b9atcp\u7a97\u53e3\u8303\u56f4\u4e0a\u9650\uff0c\u9ed8\u8ba4\u4e3a32 -f \u6307\u5b9aContent-Type Header\uff0c\u9ed8\u8ba4\u4e3aapplication/x-www-form-urlencoded -m \u6307\u5b9aAccept Header\uff0c\u9ed8\u8ba4\u4e3atext/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5 -d \u4e3a\u6240\u6709\u8fde\u63a5\u6307\u5b9a\u4ee3\u7406 -e \u4e3a\u63a2\u6d4b\u8fde\u63a5\u6307\u5b9a\u4ee3\u7406 -p \u6307\u5b9a\u7b49\u5f85\u65f6\u95f4\u6765\u786e\u8ba4\u653b\u51fb\u5df2\u7ecf\u6210\u529f SlowHTTPTest\u4f7f\u7528\u6848\u4f8b # slowloris\u6a21\u5f0f slowhttptest -c 1000 -H -g -o my_header_stats -i 10 -r 200 -t GET -u URL -x 24 -p 3 # slowpost\u6a21\u5f0f slowhttptest -c 3000 -B -g -o my_body_stats -i 110 -r 200 -s 8192 -t POST -u URL -x 10 -p 3 # slowread\u6a21\u5f0f slowhttptest -c 8000 -X -r 200 -w 512 -y 1024 -n 5 -z 32 -k 3 -u URL -p 3 slowloris slowloris\u5b89\u88c5 # pip\u5b89\u88c5 pip3 install slowloris slowloris example.com # git\u4e0b\u8f7d git clone https://github.com/gkbrk/slowloris.git cd slowloris python3 slowloris.py example.com slwoloris\u4f7f\u7528 -p PORT \u6307\u5b9a\u7aef\u53e3\uff0c\u9ed8\u8ba480 -s SOCKETS \u5957\u63a5\u5b57\u6570\u91cf\uff0c\u9ed8\u8ba4150 -v \u589e\u52a0\u65e5\u5fd7\u8bb0\u5f55 -ua \u5bf9\u6bcf\u4e2a\u8bf7\u6c42\u968f\u673a\u5316UA\u53c2\u6570 --proxy-host PROXY_HOST SocketS5\u4ee3\u7406\u4e3b\u673a\uff0c\u9ed8\u8ba4127.0.0.1 --porxy-port PROXY_PORT SocketS5\u4ee3\u7406\u7aef\u53e3\uff0c\u9ed8\u8ba48080 --https \u5bf9\u8bf7\u6c42\u4f7f\u7528https # SocketS5\u4ee3\u7406\u652f\u6301\uff0c\u9700\u8981\u989d\u5916\u5b89\u88c5PySocks Python\u6a21\u5757 pip3 install PySocks slwoloris\u4f7f\u7528\u6848\u4f8b python slowloris.py IP # \u653b\u51fbhttp 80\u7aef\u53e3 python slowloris.py -p 443 --https IP # \u653b\u51fbhttps 443\u7aef\u53e3 CC\u653b\u51fb\u9632\u5fa1 \u5224\u65adUA\u5b57\u6bb5\uff08\u4e0d\u53ef\u9760\uff0c\u53ef\u4ee5\u968f\u610f\u6784\u9020\u7ed5\u8fc7\uff09\uff1b \u7f51\u9875\u4e2d\u5d4c\u5165JS\u4ee3\u7801\uff08\u4e0d\u53ef\u9760\uff0c\u722c\u866b\u53ef\u4ee5\u643a\u5e26\u6d4f\u89c8\u5668\u5f15\u64ce\uff0c\u6216\u8005\u52a0\u8f7dJS\uff09\uff1b \u9488\u5bf9IP+Cookie\u9650\u5236\u8bbf\u95ee\u9891\u7387\uff08\u4e0d\u53ef\u9760\uff0cCookie\u53ef\u4ee5\u4f2a\u9020\uff0cIP\u5b58\u5728\u4ee3\u7406\u6c60\u95ee\u9898\uff09\uff1b \u5173\u95edApache\u6700\u5927\u8fde\u63a5\u6570\u7b49\uff0c\u5408\u7406\u914d\u7f6e\u4e2d\u95f4\u4ef6\uff0c\u7f13\u89e3DDoS\u653b\u51fb\uff1b \u9875\u9762\u4e2d\u6dfb\u52a0\u9a8c\u8bc1\u7801\uff1b \u5408\u7406\u4f18\u5316\u4ee3\u7801\uff0c\u5408\u7406\u4f7f\u7528\u7f13\u5b58\u6280\u672f\uff0c\u51cf\u5c11\u6570\u636e\u5e93\u7684\u8bfb\u5199\u64cd\u4f5c\uff1b","title":"\u5e94\u7528\u5c42\u62d2\u7edd\u670d\u52a1\u653b\u51fb"},{"location":"infrastructure-security/network-security/cc-dos-ddos/cc/#_1","text":"CC\uff08Chanllenge Collapsar\uff09\uff1aCC\u5c31\u662fDDoS\u7684\u4e00\u79cd\u3002 \u901a\u8fc7\u63a7\u5236\u67d0\u4e9b\u4e3b\u673a\u8865\u4e01\u53d1\u9001\u5927\u91cf\u6570\u636e\u5305\u7ed9\u670d\u52a1\u5668\u9020\u6210\u670d\u52a1\u5668\u8d44\u6e90\u8017\u5c3d\uff0c\u4e00\u76f4\u5230\u5b95\u673a\u5d29\u6e83\uff0c\u5e38\u7528\u4e8e\u653b\u51fb\u9875\u9762\u3002","title":"\u5e94\u7528\u5c42\u62d2\u7edd\u670d\u52a1\u653b\u51fb"},{"location":"infrastructure-security/network-security/cc-dos-ddos/cc/#_2","text":"","title":"\u5e94\u7528\u5c42\u62d2\u7edd\u670d\u52a1\u653b\u51fb\u5206\u7c7b"},{"location":"infrastructure-security/network-security/cc-dos-ddos/cc/#get-flood","text":"\u76f4\u63a5\u5bf9\u8f83\u4e3a\u6d88\u8017\u8d44\u6e90\u7684URL\u8fdb\u884c\u5927\u91cf\u7684\u8bf7\u6c42\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u591a\u4e2aURL\u5e76\u53d1\uff0c\u5355\u4e00URL\u5e76\u53d1\u8bf7\u6c42\uff0c\u968f\u673aURL\u8bf7\u6c42\u7b49\u3002","title":"Get-Flood"},{"location":"infrastructure-security/network-security/cc-dos-ddos/cc/#slowloris","text":"\u4e5f\u79f0\u4e3aslow headers\uff0c\u653b\u51fb\u8005\u59cb\u7ec8\u6784\u9020\u4e0d\u5b8c\u6574\u7684http header\u53d1\u9001\uff0c\u540c\u65f6\u8fd8\u95f4\u9694\u4e00\u5b9a\u65f6\u95f4\u518d\u53d1\u9001\u6570\u636e\uff0c\u5bfc\u81f4\u670d\u52a1\u5668\u4e00\u76f4\u5904\u4e8e\u7b49\u5f85\u72b6\u6001\u3002","title":"SlowLoris"},{"location":"infrastructure-security/network-security/cc-dos-ddos/cc/#slowpost","text":"\u4e5f\u79f0\u4e3aslow body\uff0c\u653b\u51fb\u7684\u91cd\u70b9\u5728POST\u6570\u636e\u4e0a\uff0c\u901a\u8fc7\u5c06HTTP Header\u4e2d\u7684Content-Length\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u8f83\u5927\u7684\u503c\uff0c\u540c\u65f6\u8fd8\u95f4\u9694\u4e00\u5b9a\u65f6\u95f4\u518d\u53d1\u9001\u6570\u636e\uff0c\u5bfc\u81f4\u670d\u52a1\u5668\u4e00\u76f4\u5904\u4e8e\u7b49\u5f85\u72b6\u6001\u4e2d\u3002","title":"SlowPost"},{"location":"infrastructure-security/network-security/cc-dos-ddos/cc/#slowread","text":"\u628awindow\u7a97\u53e3\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u975e\u5e38\u5c0f\u7684\u503c\uff0c\u8ba9\u670d\u52a1\u5668\u59cb\u7ec8\u51c6\u5907\u56de\u5e94\u6570\u636e\u3002","title":"SlowRead"},{"location":"infrastructure-security/network-security/cc-dos-ddos/cc/#hashdos","text":"","title":"HashDos"},{"location":"infrastructure-security/network-security/cc-dos-ddos/cc/#_3","text":"","title":"\u6d4b\u8bd5\u5de5\u5177"},{"location":"infrastructure-security/network-security/cc-dos-ddos/cc/#slowhttptest","text":"github\u5730\u5740 Centos7\u7f16\u8bd1\u5b89\u88c5SlowHTTPTest yum install gcc.x86_64 gcc-c++.x86_64 openssl-devel.x86_64 -y yum install automake.noarch autoconf.noarch -y git clone https://github.com/shekyan/slowhttptest cd slowhttptest ./configure autoreconf -ivf make make install SlowHTTPTest\u4f7f\u7528 -H SlowLoris\u6a21\u5f0f -B SlowPost\u6a21\u5f0f -R Range Header\u6a21\u5f0f -X Slow Read\u6a21\u5f0f -g \u751f\u6210\u7edf\u8ba1\u4fe1\u606f -o \u6307\u5b9a\u8f93\u51fa\u6587\u4ef6\u540d -v \u65e5\u5fd7\u7b49\u7ea7 -c \u5efa\u7acb\u7684\u8fde\u63a5\u6570\uff0c\u9ed8\u8ba4\u4e3a50 -i \u5728SlowLoris\u548cSlow Post\u6a21\u5f0f\u4e2d\uff0c\u6570\u636e\u53d1\u9001\u7684\u95f4\u9694\uff0c\u9ed8\u8ba4\u4e3a10 -l \u6d4b\u8bd5\u7ef4\u6301\u65f6\u95f4\uff0c\u9ed8\u8ba4\u4e3a240 -r \u6bcf\u79d2\u8fde\u63a5\u4e2a\u6570\uff0c\u9ed8\u8ba4\u4e3a50 -s \u58f0\u660eContent-Length header\u503c\uff0c\u9ed8\u8ba4\u4e3a4096 -t http verb\u5728\u8bf7\u6c42\u65f6\u4f7f\u7528\u4ec0\u4e48\u64cd\u4f5c\uff0c\u9ed8\u8ba4\u4e3aGET -u \u6307\u5b9a\u76ee\u6807URL -x \u5728SlowLoris\u548cSlow Post\u6a21\u5f0f\u4e2d\uff0c\u6307\u5b9a\u53d1\u9001\u7684\u6700\u5927\u6570\u636e\u5c42\u822a\u90fd -y \u5728Slow Read\u6a21\u5f0f\u4e2d\u6307\u5b9atcp\u7a97\u53e3\u8303\u56f4\u4e0a\u9650\uff0c\u9ed8\u8ba4\u4e3a32 -f \u6307\u5b9aContent-Type Header\uff0c\u9ed8\u8ba4\u4e3aapplication/x-www-form-urlencoded -m \u6307\u5b9aAccept Header\uff0c\u9ed8\u8ba4\u4e3atext/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5 -d \u4e3a\u6240\u6709\u8fde\u63a5\u6307\u5b9a\u4ee3\u7406 -e \u4e3a\u63a2\u6d4b\u8fde\u63a5\u6307\u5b9a\u4ee3\u7406 -p \u6307\u5b9a\u7b49\u5f85\u65f6\u95f4\u6765\u786e\u8ba4\u653b\u51fb\u5df2\u7ecf\u6210\u529f SlowHTTPTest\u4f7f\u7528\u6848\u4f8b # slowloris\u6a21\u5f0f slowhttptest -c 1000 -H -g -o my_header_stats -i 10 -r 200 -t GET -u URL -x 24 -p 3 # slowpost\u6a21\u5f0f slowhttptest -c 3000 -B -g -o my_body_stats -i 110 -r 200 -s 8192 -t POST -u URL -x 10 -p 3 # slowread\u6a21\u5f0f slowhttptest -c 8000 -X -r 200 -w 512 -y 1024 -n 5 -z 32 -k 3 -u URL -p 3","title":"SlowHTTPTest"},{"location":"infrastructure-security/network-security/cc-dos-ddos/cc/#slowloris_1","text":"slowloris\u5b89\u88c5 # pip\u5b89\u88c5 pip3 install slowloris slowloris example.com # git\u4e0b\u8f7d git clone https://github.com/gkbrk/slowloris.git cd slowloris python3 slowloris.py example.com slwoloris\u4f7f\u7528 -p PORT \u6307\u5b9a\u7aef\u53e3\uff0c\u9ed8\u8ba480 -s SOCKETS \u5957\u63a5\u5b57\u6570\u91cf\uff0c\u9ed8\u8ba4150 -v \u589e\u52a0\u65e5\u5fd7\u8bb0\u5f55 -ua \u5bf9\u6bcf\u4e2a\u8bf7\u6c42\u968f\u673a\u5316UA\u53c2\u6570 --proxy-host PROXY_HOST SocketS5\u4ee3\u7406\u4e3b\u673a\uff0c\u9ed8\u8ba4127.0.0.1 --porxy-port PROXY_PORT SocketS5\u4ee3\u7406\u7aef\u53e3\uff0c\u9ed8\u8ba48080 --https \u5bf9\u8bf7\u6c42\u4f7f\u7528https # SocketS5\u4ee3\u7406\u652f\u6301\uff0c\u9700\u8981\u989d\u5916\u5b89\u88c5PySocks Python\u6a21\u5757 pip3 install PySocks slwoloris\u4f7f\u7528\u6848\u4f8b python slowloris.py IP # \u653b\u51fbhttp 80\u7aef\u53e3 python slowloris.py -p 443 --https IP # \u653b\u51fbhttps 443\u7aef\u53e3","title":"slowloris"},{"location":"infrastructure-security/network-security/cc-dos-ddos/cc/#cc","text":"\u5224\u65adUA\u5b57\u6bb5\uff08\u4e0d\u53ef\u9760\uff0c\u53ef\u4ee5\u968f\u610f\u6784\u9020\u7ed5\u8fc7\uff09\uff1b \u7f51\u9875\u4e2d\u5d4c\u5165JS\u4ee3\u7801\uff08\u4e0d\u53ef\u9760\uff0c\u722c\u866b\u53ef\u4ee5\u643a\u5e26\u6d4f\u89c8\u5668\u5f15\u64ce\uff0c\u6216\u8005\u52a0\u8f7dJS\uff09\uff1b \u9488\u5bf9IP+Cookie\u9650\u5236\u8bbf\u95ee\u9891\u7387\uff08\u4e0d\u53ef\u9760\uff0cCookie\u53ef\u4ee5\u4f2a\u9020\uff0cIP\u5b58\u5728\u4ee3\u7406\u6c60\u95ee\u9898\uff09\uff1b \u5173\u95edApache\u6700\u5927\u8fde\u63a5\u6570\u7b49\uff0c\u5408\u7406\u914d\u7f6e\u4e2d\u95f4\u4ef6\uff0c\u7f13\u89e3DDoS\u653b\u51fb\uff1b \u9875\u9762\u4e2d\u6dfb\u52a0\u9a8c\u8bc1\u7801\uff1b \u5408\u7406\u4f18\u5316\u4ee3\u7801\uff0c\u5408\u7406\u4f7f\u7528\u7f13\u5b58\u6280\u672f\uff0c\u51cf\u5c11\u6570\u636e\u5e93\u7684\u8bfb\u5199\u64cd\u4f5c\uff1b","title":"CC\u653b\u51fb\u9632\u5fa1"},{"location":"infrastructure-security/network-security/cc-dos-ddos/dos-ddos/","text":"\u62d2\u7edd\u670d\u52a1\u653b\u51fb DoS\uff08Denial of Service\uff09\uff1a\u62d2\u7edd\u670d\u52a1 \u901a\u8fc7\u5bf9\u4e3b\u673a\u7279\u5b9a\u6f0f\u6d1e\u7684\u5229\u7528\u653b\u51fb\u5bfc\u81f4\u7f51\u7edc\u6808\u5931\u6548\u3001\u7cfb\u7edf\u5954\u6e83\u3001\u4e3b\u673a\u6b7b\u673a\u7b49\u800c\u65e0\u6cd5\u63d0\u4f9b\u6b63\u5e38\u7684\u7f51\u7edc\u670d\u52a1\u529f\u80fd\uff0c\u4ece\u800c\u9020\u6210\u62d2\u7edd\u670d\u52a1\u3002 DDoS\uff08Distributed Denial of Service\uff09\uff1a\u5206\u5e03\u5f0f\u62d2\u7edd\u670d\u52a1 \u901a\u8fc7\u5f88\u591a\"\u50f5\u5c38\u4e3b\u673a\"\u5411\u53d7\u5bb3\u4e3b\u673a\u53d1\u9001\u5927\u91cf\u770b\u4f3c\u6b63\u5e38\u7684\u7f51\u7edc\u5305\uff0c\u4ece\u800c\u9020\u6210\u7f51\u7edc\u963b\u585e\u6216\u670d\u52a1\u5668\u8d44\u6e90\u8017\u5c3d\u800c\u5bfc\u81f4\u62d2\u7edd\u670d\u52a1\u3002 \u62d2\u7edd\u670d\u52a1\u653b\u51fb\u5206\u7c7b \u7f51\u7edc\u5c42\u653b\u51fb UDP-Flood \u7531\u4e8eUDP\u534f\u8bae\u662f\u4e00\u79cd\u65e0\u8fde\u63a5\u7684\u670d\u52a1\uff0c\u5728UDPFLOOD\u653b\u51fb\u4e2d\uff0c\u653b\u51fb\u8005\u53ef\u53d1\u9001\u5927\u91cf\u4f2a\u9020\u6e90IP\u5730\u5740\u7684\u5c0fUDP\u5305\u3002\u4f46\u662f\uff0c\u7531\u4e8eUDP\u534f\u8bae\u662f\u65e0\u8fde\u63a5\u6027\u7684\uff0c\u6240\u4ee5\u53ea\u8981\u5f00\u4e86\u4e00\u4e2aUDP\u7684\u7aef\u53e3\u63d0\u4f9b\u76f8\u5173\u670d\u52a1\u7684\u8bdd\uff0c\u90a3\u4e48\u5c31\u53ef\u9488\u5bf9\u76f8\u5173\u7684\u670d\u52a1\u8fdb\u884c\u653b\u51fb\u3002-- \u767e\u5ea6\u767e\u79d1 \u9632\u5fa1\u6280\u5de7\uff1a \u6458\u81ea \u767e\u5ea6\u767e\u79d1 \u653b\u51fb\u4e1a\u52a1\u7aef\u53e3\uff1a\u6839\u636e\u8be5\u4e1a\u52a1UDP\u6700\u5927\u5305\u957f\u8bbe\u7f6eUDP\u6700\u5927\u5305\u5927\u5c0f\u4ee5\u8fc7\u6ee4\u5f02\u5e38\u6d41\u91cf\u3002 \u653b\u51fb\u975e\u4e1a\u52a1\u7aef\u53e3\uff1a \u4e00\u4e2a\u662f\u4e22\u5f03\u6240\u6709UDP\u5305\uff0c\u53ef\u80fd\u4f1a\u8bef\u4f24\u6b63\u5e38\u4e1a\u52a1\u3002 \u4e00\u4e2a\u662f\u5efa\u7acbUDP\u8fde\u63a5\u89c4\u5219\uff0c\u8981\u6c42\u6240\u6709\u53bb\u5f80\u8be5\u7aef\u53e3\u7684UDP\u5305\uff0c\u5fc5\u987b\u9996\u5148\u4e0eTCP\u7aef\u53e3\u5efa\u7acbTCP\u8fde\u63a5\uff0c\u9700\u8981\u9632\u706b\u5899\u652f\u6491\u3002 TCP-Flood TCP\u653b\u51fb\u4fd7\u79f0SYN\u6cdb\u6d2a\uff0c\u5229\u7528TCP\u4e09\u6b21\u63e1\u624b\u534f\u8bae\u6765\u653b\u51fb\u8ba1\u7b97\u673a\uff0c\u4e3b\u8981\u662f\u901a\u8fc7\u4f2a\u9020\u5927\u91cfIP\u7684\u534a\u8fde\u63a5\u53bb\u653b\u51fb\u5bf9\u65b9\u7cfb\u7edf\u3002 ICMP-Flood \u6b7b\u4ea1\u4e4bping\uff0c\u6b63\u5e38ICMP\u534f\u8bae\u6570\u636e\u5305\u4e3a96\u5b57\u8282\uff0c\u653b\u51fb\u8005\u4f7f\u7528\u7684ICMPFlood\u901a\u5e38\u8bbe\u5b9a\u8f83\u5927\u7684\u957f\u5ea6\u3002 \u534f\u8bae\u5c42\u653b\u51fb TCP/UDP/ICMP\u5206\u7247 \u5f53\u534f\u8bae\u6808\u6536\u5230\u5206\u7247\u901a\u77e5\u65f6\uff0c\u9700\u8981\u9884\u7559\u4e00\u5b9a\u7684\u5185\u5b58\u6765\u7ec4\u88c5\u6570\u636e\u5305\uff0c\u653b\u51fb\u8005\u6076\u610f\u4f7f\u7528\u5206\u7247\u529f\u80fd\u65f6\uff0c\u5c31\u4f1a\u5bfc\u81f4\u670d\u52a1\u7aef\u7684\u534f\u8bae\u6808\u8d44\u6e90\u6d88\u8017\u8fc7\u5927\u3002 SYN-Flood \u6b63\u5e38\u6d41\u7a0b\uff1a\u5ba2\u6237\u7aef\u53d1\u9001SYC\uff0c\u670d\u52a1\u7aef\u54cd\u5e94SYN+ACK\uff0c\u5ba2\u6237\u7aef\u56de\u4f20ACK+1\u3002 \u653b\u51fb\u6d41\u7a0b\uff1a\u4f2a\u9020\u4e0d\u5b58\u5728\u7684IP\u53d1\u9001\u8bf7\u6c42\uff0c\u670d\u52a1\u7aef\u63a5\u53d7\u4e0d\u5230ACK+1\uff0c\u4f1a\u6301\u7eed\u53d1\u9001SYN+ACK\uff0c\u540c\u65f6\u4fdd\u6301\u7740\u672a\u5b8c\u6210\u7684\u8fde\u63a5\uff0c\u8fd9\u6837\u5bb9\u6613\u5360\u6ee1\u670d\u52a1\u5668\u7684\u8fde\u63a5\u961f\u5217\u8fbe\u5230\u6548\u679c\u3002 ACK-Flood \u4e0eSYN-Flood\u653b\u51fb\u7c7b\u4f3c\uff0c\u653b\u51fb\u8005\u53d1\u9001ACK\u5305\uff0c\u5982\u679c\u76ee\u6807\u7cfb\u7edf\u5141\u8bb8ACK\u6765\u5efa\u7acb\u8fde\u63a5\u5c31\u5f88\u5bb9\u6613\u5bfc\u81f4\u8fde\u63a5\u8868\u9879\u8d44\u6e90\u8017\u5c3d\uff0c\u540c\u65f6\u534f\u8bae\u6808\u8fd8\u4f1a\u53d1\u73b0\u8fd9\u7c7b\u6570\u636e\u5305\u4e0d\u5408\u6cd5\u548c\u54cd\u5e94reset\u5305\uff0c\u5bfc\u81f4\u7cfb\u7edf\u8d44\u6e90\u6d88\u8017\u8fc7\u5927\u3002 zeroWindow \u5efa\u7acb\u8fde\u63a5\u540e\uff0c\u53d1\u9001\u6570\u636e\u8bf7\u6c42\uff0c\u670d\u52a1\u7aef\u51c6\u5907\u597d\u6570\u636e\u65f6\uff0c\u653b\u51fb\u8005\u53d1\u9001ack\u5305\u6307\u5b9awindow\u5927\u5c0f\u4e3a0\uff0c\u8fd9\u662f\u670d\u52a1\u7aef\u65e0\u6cd5\u53d1\u9001\u6570\u636e\u5904\u4e8e\u7b49\u5f85\u72b6\u6001\uff0c\u901a\u8fc7\u5efa\u7acb\u5927\u91cf\u8fd9\u6837\u7684\u8fde\u63a5\u6765\u6d88\u8017\u670d\u52a1\u7aef\u8d44\u6e90\u3002 Connection-Flood \u4ec5\u5efa\u7acb\u8fde\u63a5\u4e0d\u53d1\u9001\u6570\u636e\uff0c\u7531\u4e8e\u670d\u52a1\u5668\u7b49\u5f85\u8d85\u65f6\uff0c\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u5efa\u7acb\u5927\u91cf\u8fd9\u6837\u7684\u8fde\u63a5\uff0c\u5b9e\u73b0\u62d2\u7edd\u670d\u52a1\u653b\u51fb\u3002 SSL-Flood \u4e0d\u65ad\u7684\u53d1\u8d77SSL\u63e1\u624b\uff0cSSL\u63e1\u624b\u8fc7\u7a0b\uff0c\u670d\u52a1\u7aef\u6d88\u8017\u7684\u8d44\u6e90\u662f\u5ba2\u6237\u7aef\u768415\u500d\u3002 SSLKeyRenego \u5728\u534f\u5546\u52a0\u5bc6\u7b97\u6cd5\u7684\u65f6\u5019\u670d\u52a1\u7aefCPU\u7684\u6d88\u8017\u662f\u5ba2\u6237\u7aef\u768415\u500d\u5de6\u53f3\uff0c\u800cRenegotiating\u673a\u5236\u53ef\u4ee5\u8ba9\u653b\u51fb\u8005\u5728\u4e00\u4e2aTCP\u8fde\u63a5\u4e2d\u4e0d\u65ad\u8fdb\u884c\u91cd\u65b0\u534f\u5546\uff0c\u5bfc\u81f4\u670d\u52a1\u7aefCPU\u8d44\u6e90\u8017\u5c3d\u3002 \u9632\u5fa1\u6280\u5de7\uff1a \u7981\u7528Renegotiating\u673a\u5236\u6765\u5b9e\u73b0\u9632\u5fa1 \u53cd\u5c04\u653e\u5927\u653b\u51fb \u53cd\u5c04\uff1a\u65e0\u8bbaDNS\u8fd8\u662fNTP\uff0c\u90fd\u662f\u57fa\u4e8eUDP\u534f\u8bae\u7684\uff0c\u5728UDP\u534f\u8bae\u4e2d\u6b63\u5e38\u5ba2\u6237\u7aef\u53d1\u9001\u8bf7\u6c42\u5305\u5230\u670d\u52a1\u7aef\uff0c\u670d\u52a1\u7aef\u8fd4\u56de\u54cd\u5e94\u5305\u5230\u5ba2\u6237\u7aef\uff0c\u4f46\u662fUDP\u534f\u8bae\u662f\u9762\u5411\u65e0\u8fde\u63a5\u7684\uff0c\u6240\u4ee5\u5ba2\u6237\u7aef\u53d1\u9001\u8bf7\u6c42\u5305\u7684\u6e90IP\u5f88\u5bb9\u6613\u8fdb\u884c\u4f2a\u9020\uff0c\u5f53\u628a\u6e90IP\u4fee\u6539\u4e3a\u53d7\u5bb3\u8005\u7684IP\uff0c\u6700\u7ec8\u670d\u52a1\u7aef\u8fd4\u56de\u7684\u54cd\u5e94\u5305\u5c31\u4f1a\u8fd4\u56de\u5230\u53d7\u5bb3\u8005\u7684IP\uff0c\u8fd9\u6837\u5c31\u5f62\u6210\u4e86\u53cd\u5c04\u653b\u51fb\u3002 \u653e\u5927\uff1a\u4e00\u4e2a\u5c0f\u7684\u8bf7\u6c42\u5305\u6700\u7ec8\u4f1a\u53d7\u5230\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u591a\u4e8e\u8bf7\u6c42\u5305\u8bb8\u591a\u500d\u7684\u54cd\u5e94\u5305\uff0c\u8fd9\u6837\u5c31\u8fbe\u5230\u4e86\u56db\u4e24\u62e8\u5343\u65a4\u7684\u6548\u679c\u3002 DNS\u53cd\u5c04 \u5229\u7528\u4e92\u8054\u7f51\u4e0a\u5f00\u653e\u7684DNS\u5730\u67dc\u670d\u52a1\u5668\u4f5c\u4e3a\u653b\u51fb\u6e90\uff0c\u5229\u7528\"\u53cd\u5f39\"\u624b\u6cd5\u653b\u51fb\u76ee\u6807\u673a\u5668\u3002 \u6b63\u5e38\u6d41\u7a0b\uff1a\u6e90IP\u5730\u5740--DNS\u67e5\u8be2--DNS\u670d\u52a1\u5668--DNS\u56de\u590d\u5305--\u6e90IP\u5730\u5740 \u653b\u51fb\u6d41\u7a0b\uff1a\u4f2a\u9020IP\u5730\u5740(\u53d7\u5bb3\u8005IP)--DNS\u67e5\u8be2--DNS\u670d\u52a1\u5668--DNS\u56de\u590d\u5305--\u4f2a\u9020\u7684IP\u5730\u5740(\u653b\u51fb\u76ee\u6807) NTP\u53cd\u5c04 NTP\u5305\u542b\u4e00\u4e2amonlist\u529f\u80fd\uff0c\u4e5f\u88ab\u79f0\u4e3aMON_GETLIST\uff0c\u4e3b\u8981\u7528\u4e8e\u76d1\u63a7NTP\u670d\u52a1\u5668\uff0cNTP\u670d\u52a1\u5668\u54cd\u5e94monlist\u540e\u6094\u8fd4\u56de\u4e0eNTP\u670d\u52a1\u5668\u8fdb\u884c\u8fc7\u65f6\u95f4\u540c\u6b65\u7684\u6700\u540e600\u4e2a\u5ba2\u6237\u7aefIP\uff0c\u54cd\u5e94\u5305\u6309\u7167\u6bcf6\u4e2aIP\u8fdb\u884c\u5206\u5272\uff0c\u6700\u591a\u6709100\u4e2a\u54cd\u5e94\u5305\u3002 SNMP\u53cd\u5c04 SSDP\u53cd\u5c04 Chargen\u53cd\u5c04 \u5176\u5b83\u7c7b\u578b DRDoS DRDoS\uff08Distributed Reflection Denial of Service\uff09\uff1a\u5206\u5e03\u5f0f\u53cd\u5c04\u653b\u51fb ReDoS ReDoS\uff08Regular Expression Denial of Service\uff09\uff1a\u6b63\u5219\u8868\u8fbe\u5f0f\u62d2\u7edd\u670d\u52a1\u653b\u51fb\uff0c\u5f00\u53d1\u4eba\u5458\u4f7f\u7528\u4e86\u6b63\u5219\u8868\u8fbe\u5f0f\u6765\u5bf9\u7528\u6237\u8f93\u5165\u7684\u6570\u636e\u8fdb\u884c\u6709\u6548\u6027\u6821\u9a8c\uff0c\u5f53\u7f16\u5199\u6821\u9a8c\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u5b58\u5728\u7f3a\u9677\u6216\u8005\u4e0d\u4e25\u8c28\u65f6\uff0c\u653b\u51fb\u8005\u53ef\u4ee5\u6784\u9020\u7279\u6b8a\u7684\u5b57\u7b26\u4e32\u6765\u5927\u91cf\u6d88\u8017\u670d\u52a1\u5668\u7684\u7cfb\u7edf\u8d44\u6e90\uff0c\u9020\u6210\u670d\u52a1\u5668\u7684\u670d\u52a1\u7ec8\u7aef\u6216\u505c\u6b62\u3002 \u65e0\u7ebfDDoS \u6d4b\u8bd5\u5de5\u5177 hping3 \u5b98\u7f51\u5730\u5740 Centos7\u7f16\u8bd1\u5b89\u88c5\uff0ckali\u81ea\u5e26 # \u89e3\u51b3\u73af\u5883\u4f9d\u8d56 yum install gcc.x86_64 libpcap-devel.x86_64 tcl-devel -y # \u4e0b\u8f7d wget http://www.hping.org/hping3-20051105.tar.gz # \u89e3\u538b\u5e76\u5f00\u59cb\u7f16\u8bd1 tar -xf hping3-20051105.tar.gz cd hping3-20051105 ./configure # \u62a5\u9519\u5982\u56fe # \u4fee\u6539\u6587\u4ef6\uff0c\u4fee\u6539\u5185\u5bb9\u5982\u56fe vim bytesex.h # \u7f16\u8bd1\u5b8c\u6210\uff0c\u8fdb\u884c\u5b89\u88c5 make # \u62a5\u9519\u5982\u56fe # \u94fe\u63a5\u6587\u4ef6 ln -s /usr/include/pcap-bpf.h /usr/include/net/bpf.h # \u518d\u6b21\u5b89\u88c5 make make install hping3\u4f7f\u7528\u6848\u4f8b # \u6d4b\u8bd5SYN Flood hping3 -S --flood -V -p PORT IP hping3 -c 20000 -d 120 -S -w 64 -p PORT --flood --rand-source IP # \u968f\u673a\u6e90IP # \u6d4b\u8bd5UDP Flood hping3 --flood --rand-source --udp -p PORT IP # \u6d4b\u8bd5TCP FIN Flood hping3 --flood --rand-source -F -p PORT IP # \u6d4b\u8bd5TCP RST Flood hping3 --flood --rand-source -R -p PORT IP # \u6d4b\u8bd5PUSH\u548cACK Flood hping3 --flood --rand-source -PA -p PORT IP # \u6d4b\u8bd5ICMP\u548cIGMP Flood hping3 --flood --rand-source -1 -p PORT IP Thc-SSL-DoS Centos7\u7f16\u8bd1\u5b89\u88c5\uff0ckali\u81ea\u5e26 # \u89e3\u51b3\u73af\u5883\u4f9d\u8d56 yum install gcc.x86_64 openssl-devel.x86_64 -y # \u4e0b\u8f7d git clone git://git.kali.org/packages/thc-ssl-dos.git cd thc-ssl-dos # \u7f16\u8bd1\u5b89\u88c5 ./configure make make install Thc-SSL-DoS\u4f7f\u7528\u6848\u4f8b thc-ssl-dos -l 500 IP PORT --accept \u62d2\u7edd\u670d\u52a1\u653b\u51fb\u9632\u5fa1 \u672c\u8d28\uff1a\u7f51\u7edc\u5c42\u9762\u7684DDoS\u653b\u51fb\u662f\u65e0\u6cd5\u9632\u5fa1\u7684\uff0c\u80fd\u505a\u7684\u5c31\u662f\u4e0d\u65ad\u4f18\u5316\u81ea\u8eab\u7684\u7f51\u7edc\u67b6\u6784\uff0c\u4ee5\u53ca\u63d0\u5347\u7f51\u7edc\u5e26\u5bbd\u3002 \u589e\u52a0\u94fe\u8def\u5e26\u5bbd ISP/WAN\u5c42 \u7535\u4fe1\u4e91\u5824\u4ea7\u54c1\u63d0\u4f9b\"\u6d41\u91cf\u538b\u5236\"\u548c\"\u8fd1\u6e90\u6e05\u6d17\"\uff1a \u6d41\u91cf\u538b\u5236 \u5206\u65b9\u5411\u7684\u9ed1\u6d1e\u8def\u7531 \u8fd1\u6e90\u6e05\u6d17 CDN/Internet\u5c42 CDN\u672c\u8eab\u4e0d\u662f\u6297DDoS\u4ea7\u54c1\uff0c\u4f46\u662f\u9488\u5bf9Web\u670d\u52a1\u800c\u8a00\uff0cCDN\u53ef\u4ee5\u63d0\u4f9b\u4e00\u5b9a\u7684\u6297D\u6548\u679c\u3002 DC\u5c42 DataCenter\u8fd9\u4e00\u5c42\u7684\u9632\u5fa1\u5c5e\u4e8e\u8fd1\u76ee\u7684\u6e05\u6d17\uff0c\u5728DC\u51fa\u53e3\u7684\u5730\u65b9\u90e8\u7f72ADS\u8bbe\u5907\u3002 OS/APP\u5c42 \u5e94\u7528\u5c42\u9632\u5fa1\u3002 \u53c2\u8003\u8d44\u6599 \u4e94\u6b65\u4e03\u62db\uff0c\u5f00\u542f\u6700\u5f3aDDoS\u653b\u9632\u6218\uff01 DDoS\u653b\u51fb\u65b9\u5f0f\u603b\u7ed3 \u57fa\u4e8eMemcached\u5206\u5e03\u5f0f\u7cfb\u7edfDRDoS\u62d2\u7edd\u670d\u52a1\u653b\u51fb\u6280\u672f\u7814\u7a76 \u6d45\u6790ReDoS\u7684\u539f\u7406\u4e0e\u5b9e\u8df5 \u6d45\u8c08DDoS\u653b\u51fb\u4e0e\u9632\u5fa1","title":"\u62d2\u7edd\u670d\u52a1\u653b\u51fb"},{"location":"infrastructure-security/network-security/cc-dos-ddos/dos-ddos/#_1","text":"DoS\uff08Denial of Service\uff09\uff1a\u62d2\u7edd\u670d\u52a1 \u901a\u8fc7\u5bf9\u4e3b\u673a\u7279\u5b9a\u6f0f\u6d1e\u7684\u5229\u7528\u653b\u51fb\u5bfc\u81f4\u7f51\u7edc\u6808\u5931\u6548\u3001\u7cfb\u7edf\u5954\u6e83\u3001\u4e3b\u673a\u6b7b\u673a\u7b49\u800c\u65e0\u6cd5\u63d0\u4f9b\u6b63\u5e38\u7684\u7f51\u7edc\u670d\u52a1\u529f\u80fd\uff0c\u4ece\u800c\u9020\u6210\u62d2\u7edd\u670d\u52a1\u3002 DDoS\uff08Distributed Denial of Service\uff09\uff1a\u5206\u5e03\u5f0f\u62d2\u7edd\u670d\u52a1 \u901a\u8fc7\u5f88\u591a\"\u50f5\u5c38\u4e3b\u673a\"\u5411\u53d7\u5bb3\u4e3b\u673a\u53d1\u9001\u5927\u91cf\u770b\u4f3c\u6b63\u5e38\u7684\u7f51\u7edc\u5305\uff0c\u4ece\u800c\u9020\u6210\u7f51\u7edc\u963b\u585e\u6216\u670d\u52a1\u5668\u8d44\u6e90\u8017\u5c3d\u800c\u5bfc\u81f4\u62d2\u7edd\u670d\u52a1\u3002","title":"\u62d2\u7edd\u670d\u52a1\u653b\u51fb"},{"location":"infrastructure-security/network-security/cc-dos-ddos/dos-ddos/#_2","text":"","title":"\u62d2\u7edd\u670d\u52a1\u653b\u51fb\u5206\u7c7b"},{"location":"infrastructure-security/network-security/cc-dos-ddos/dos-ddos/#_3","text":"UDP-Flood \u7531\u4e8eUDP\u534f\u8bae\u662f\u4e00\u79cd\u65e0\u8fde\u63a5\u7684\u670d\u52a1\uff0c\u5728UDPFLOOD\u653b\u51fb\u4e2d\uff0c\u653b\u51fb\u8005\u53ef\u53d1\u9001\u5927\u91cf\u4f2a\u9020\u6e90IP\u5730\u5740\u7684\u5c0fUDP\u5305\u3002\u4f46\u662f\uff0c\u7531\u4e8eUDP\u534f\u8bae\u662f\u65e0\u8fde\u63a5\u6027\u7684\uff0c\u6240\u4ee5\u53ea\u8981\u5f00\u4e86\u4e00\u4e2aUDP\u7684\u7aef\u53e3\u63d0\u4f9b\u76f8\u5173\u670d\u52a1\u7684\u8bdd\uff0c\u90a3\u4e48\u5c31\u53ef\u9488\u5bf9\u76f8\u5173\u7684\u670d\u52a1\u8fdb\u884c\u653b\u51fb\u3002-- \u767e\u5ea6\u767e\u79d1 \u9632\u5fa1\u6280\u5de7\uff1a \u6458\u81ea \u767e\u5ea6\u767e\u79d1 \u653b\u51fb\u4e1a\u52a1\u7aef\u53e3\uff1a\u6839\u636e\u8be5\u4e1a\u52a1UDP\u6700\u5927\u5305\u957f\u8bbe\u7f6eUDP\u6700\u5927\u5305\u5927\u5c0f\u4ee5\u8fc7\u6ee4\u5f02\u5e38\u6d41\u91cf\u3002 \u653b\u51fb\u975e\u4e1a\u52a1\u7aef\u53e3\uff1a \u4e00\u4e2a\u662f\u4e22\u5f03\u6240\u6709UDP\u5305\uff0c\u53ef\u80fd\u4f1a\u8bef\u4f24\u6b63\u5e38\u4e1a\u52a1\u3002 \u4e00\u4e2a\u662f\u5efa\u7acbUDP\u8fde\u63a5\u89c4\u5219\uff0c\u8981\u6c42\u6240\u6709\u53bb\u5f80\u8be5\u7aef\u53e3\u7684UDP\u5305\uff0c\u5fc5\u987b\u9996\u5148\u4e0eTCP\u7aef\u53e3\u5efa\u7acbTCP\u8fde\u63a5\uff0c\u9700\u8981\u9632\u706b\u5899\u652f\u6491\u3002 TCP-Flood TCP\u653b\u51fb\u4fd7\u79f0SYN\u6cdb\u6d2a\uff0c\u5229\u7528TCP\u4e09\u6b21\u63e1\u624b\u534f\u8bae\u6765\u653b\u51fb\u8ba1\u7b97\u673a\uff0c\u4e3b\u8981\u662f\u901a\u8fc7\u4f2a\u9020\u5927\u91cfIP\u7684\u534a\u8fde\u63a5\u53bb\u653b\u51fb\u5bf9\u65b9\u7cfb\u7edf\u3002 ICMP-Flood \u6b7b\u4ea1\u4e4bping\uff0c\u6b63\u5e38ICMP\u534f\u8bae\u6570\u636e\u5305\u4e3a96\u5b57\u8282\uff0c\u653b\u51fb\u8005\u4f7f\u7528\u7684ICMPFlood\u901a\u5e38\u8bbe\u5b9a\u8f83\u5927\u7684\u957f\u5ea6\u3002","title":"\u7f51\u7edc\u5c42\u653b\u51fb"},{"location":"infrastructure-security/network-security/cc-dos-ddos/dos-ddos/#_4","text":"TCP/UDP/ICMP\u5206\u7247 \u5f53\u534f\u8bae\u6808\u6536\u5230\u5206\u7247\u901a\u77e5\u65f6\uff0c\u9700\u8981\u9884\u7559\u4e00\u5b9a\u7684\u5185\u5b58\u6765\u7ec4\u88c5\u6570\u636e\u5305\uff0c\u653b\u51fb\u8005\u6076\u610f\u4f7f\u7528\u5206\u7247\u529f\u80fd\u65f6\uff0c\u5c31\u4f1a\u5bfc\u81f4\u670d\u52a1\u7aef\u7684\u534f\u8bae\u6808\u8d44\u6e90\u6d88\u8017\u8fc7\u5927\u3002 SYN-Flood \u6b63\u5e38\u6d41\u7a0b\uff1a\u5ba2\u6237\u7aef\u53d1\u9001SYC\uff0c\u670d\u52a1\u7aef\u54cd\u5e94SYN+ACK\uff0c\u5ba2\u6237\u7aef\u56de\u4f20ACK+1\u3002 \u653b\u51fb\u6d41\u7a0b\uff1a\u4f2a\u9020\u4e0d\u5b58\u5728\u7684IP\u53d1\u9001\u8bf7\u6c42\uff0c\u670d\u52a1\u7aef\u63a5\u53d7\u4e0d\u5230ACK+1\uff0c\u4f1a\u6301\u7eed\u53d1\u9001SYN+ACK\uff0c\u540c\u65f6\u4fdd\u6301\u7740\u672a\u5b8c\u6210\u7684\u8fde\u63a5\uff0c\u8fd9\u6837\u5bb9\u6613\u5360\u6ee1\u670d\u52a1\u5668\u7684\u8fde\u63a5\u961f\u5217\u8fbe\u5230\u6548\u679c\u3002 ACK-Flood \u4e0eSYN-Flood\u653b\u51fb\u7c7b\u4f3c\uff0c\u653b\u51fb\u8005\u53d1\u9001ACK\u5305\uff0c\u5982\u679c\u76ee\u6807\u7cfb\u7edf\u5141\u8bb8ACK\u6765\u5efa\u7acb\u8fde\u63a5\u5c31\u5f88\u5bb9\u6613\u5bfc\u81f4\u8fde\u63a5\u8868\u9879\u8d44\u6e90\u8017\u5c3d\uff0c\u540c\u65f6\u534f\u8bae\u6808\u8fd8\u4f1a\u53d1\u73b0\u8fd9\u7c7b\u6570\u636e\u5305\u4e0d\u5408\u6cd5\u548c\u54cd\u5e94reset\u5305\uff0c\u5bfc\u81f4\u7cfb\u7edf\u8d44\u6e90\u6d88\u8017\u8fc7\u5927\u3002 zeroWindow \u5efa\u7acb\u8fde\u63a5\u540e\uff0c\u53d1\u9001\u6570\u636e\u8bf7\u6c42\uff0c\u670d\u52a1\u7aef\u51c6\u5907\u597d\u6570\u636e\u65f6\uff0c\u653b\u51fb\u8005\u53d1\u9001ack\u5305\u6307\u5b9awindow\u5927\u5c0f\u4e3a0\uff0c\u8fd9\u662f\u670d\u52a1\u7aef\u65e0\u6cd5\u53d1\u9001\u6570\u636e\u5904\u4e8e\u7b49\u5f85\u72b6\u6001\uff0c\u901a\u8fc7\u5efa\u7acb\u5927\u91cf\u8fd9\u6837\u7684\u8fde\u63a5\u6765\u6d88\u8017\u670d\u52a1\u7aef\u8d44\u6e90\u3002 Connection-Flood \u4ec5\u5efa\u7acb\u8fde\u63a5\u4e0d\u53d1\u9001\u6570\u636e\uff0c\u7531\u4e8e\u670d\u52a1\u5668\u7b49\u5f85\u8d85\u65f6\uff0c\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u5efa\u7acb\u5927\u91cf\u8fd9\u6837\u7684\u8fde\u63a5\uff0c\u5b9e\u73b0\u62d2\u7edd\u670d\u52a1\u653b\u51fb\u3002 SSL-Flood \u4e0d\u65ad\u7684\u53d1\u8d77SSL\u63e1\u624b\uff0cSSL\u63e1\u624b\u8fc7\u7a0b\uff0c\u670d\u52a1\u7aef\u6d88\u8017\u7684\u8d44\u6e90\u662f\u5ba2\u6237\u7aef\u768415\u500d\u3002 SSLKeyRenego \u5728\u534f\u5546\u52a0\u5bc6\u7b97\u6cd5\u7684\u65f6\u5019\u670d\u52a1\u7aefCPU\u7684\u6d88\u8017\u662f\u5ba2\u6237\u7aef\u768415\u500d\u5de6\u53f3\uff0c\u800cRenegotiating\u673a\u5236\u53ef\u4ee5\u8ba9\u653b\u51fb\u8005\u5728\u4e00\u4e2aTCP\u8fde\u63a5\u4e2d\u4e0d\u65ad\u8fdb\u884c\u91cd\u65b0\u534f\u5546\uff0c\u5bfc\u81f4\u670d\u52a1\u7aefCPU\u8d44\u6e90\u8017\u5c3d\u3002 \u9632\u5fa1\u6280\u5de7\uff1a \u7981\u7528Renegotiating\u673a\u5236\u6765\u5b9e\u73b0\u9632\u5fa1","title":"\u534f\u8bae\u5c42\u653b\u51fb"},{"location":"infrastructure-security/network-security/cc-dos-ddos/dos-ddos/#_5","text":"\u53cd\u5c04\uff1a\u65e0\u8bbaDNS\u8fd8\u662fNTP\uff0c\u90fd\u662f\u57fa\u4e8eUDP\u534f\u8bae\u7684\uff0c\u5728UDP\u534f\u8bae\u4e2d\u6b63\u5e38\u5ba2\u6237\u7aef\u53d1\u9001\u8bf7\u6c42\u5305\u5230\u670d\u52a1\u7aef\uff0c\u670d\u52a1\u7aef\u8fd4\u56de\u54cd\u5e94\u5305\u5230\u5ba2\u6237\u7aef\uff0c\u4f46\u662fUDP\u534f\u8bae\u662f\u9762\u5411\u65e0\u8fde\u63a5\u7684\uff0c\u6240\u4ee5\u5ba2\u6237\u7aef\u53d1\u9001\u8bf7\u6c42\u5305\u7684\u6e90IP\u5f88\u5bb9\u6613\u8fdb\u884c\u4f2a\u9020\uff0c\u5f53\u628a\u6e90IP\u4fee\u6539\u4e3a\u53d7\u5bb3\u8005\u7684IP\uff0c\u6700\u7ec8\u670d\u52a1\u7aef\u8fd4\u56de\u7684\u54cd\u5e94\u5305\u5c31\u4f1a\u8fd4\u56de\u5230\u53d7\u5bb3\u8005\u7684IP\uff0c\u8fd9\u6837\u5c31\u5f62\u6210\u4e86\u53cd\u5c04\u653b\u51fb\u3002 \u653e\u5927\uff1a\u4e00\u4e2a\u5c0f\u7684\u8bf7\u6c42\u5305\u6700\u7ec8\u4f1a\u53d7\u5230\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u591a\u4e8e\u8bf7\u6c42\u5305\u8bb8\u591a\u500d\u7684\u54cd\u5e94\u5305\uff0c\u8fd9\u6837\u5c31\u8fbe\u5230\u4e86\u56db\u4e24\u62e8\u5343\u65a4\u7684\u6548\u679c\u3002 DNS\u53cd\u5c04 \u5229\u7528\u4e92\u8054\u7f51\u4e0a\u5f00\u653e\u7684DNS\u5730\u67dc\u670d\u52a1\u5668\u4f5c\u4e3a\u653b\u51fb\u6e90\uff0c\u5229\u7528\"\u53cd\u5f39\"\u624b\u6cd5\u653b\u51fb\u76ee\u6807\u673a\u5668\u3002 \u6b63\u5e38\u6d41\u7a0b\uff1a\u6e90IP\u5730\u5740--DNS\u67e5\u8be2--DNS\u670d\u52a1\u5668--DNS\u56de\u590d\u5305--\u6e90IP\u5730\u5740 \u653b\u51fb\u6d41\u7a0b\uff1a\u4f2a\u9020IP\u5730\u5740(\u53d7\u5bb3\u8005IP)--DNS\u67e5\u8be2--DNS\u670d\u52a1\u5668--DNS\u56de\u590d\u5305--\u4f2a\u9020\u7684IP\u5730\u5740(\u653b\u51fb\u76ee\u6807) NTP\u53cd\u5c04 NTP\u5305\u542b\u4e00\u4e2amonlist\u529f\u80fd\uff0c\u4e5f\u88ab\u79f0\u4e3aMON_GETLIST\uff0c\u4e3b\u8981\u7528\u4e8e\u76d1\u63a7NTP\u670d\u52a1\u5668\uff0cNTP\u670d\u52a1\u5668\u54cd\u5e94monlist\u540e\u6094\u8fd4\u56de\u4e0eNTP\u670d\u52a1\u5668\u8fdb\u884c\u8fc7\u65f6\u95f4\u540c\u6b65\u7684\u6700\u540e600\u4e2a\u5ba2\u6237\u7aefIP\uff0c\u54cd\u5e94\u5305\u6309\u7167\u6bcf6\u4e2aIP\u8fdb\u884c\u5206\u5272\uff0c\u6700\u591a\u6709100\u4e2a\u54cd\u5e94\u5305\u3002 SNMP\u53cd\u5c04 SSDP\u53cd\u5c04 Chargen\u53cd\u5c04","title":"\u53cd\u5c04\u653e\u5927\u653b\u51fb"},{"location":"infrastructure-security/network-security/cc-dos-ddos/dos-ddos/#_6","text":"DRDoS DRDoS\uff08Distributed Reflection Denial of Service\uff09\uff1a\u5206\u5e03\u5f0f\u53cd\u5c04\u653b\u51fb ReDoS ReDoS\uff08Regular Expression Denial of Service\uff09\uff1a\u6b63\u5219\u8868\u8fbe\u5f0f\u62d2\u7edd\u670d\u52a1\u653b\u51fb\uff0c\u5f00\u53d1\u4eba\u5458\u4f7f\u7528\u4e86\u6b63\u5219\u8868\u8fbe\u5f0f\u6765\u5bf9\u7528\u6237\u8f93\u5165\u7684\u6570\u636e\u8fdb\u884c\u6709\u6548\u6027\u6821\u9a8c\uff0c\u5f53\u7f16\u5199\u6821\u9a8c\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u5b58\u5728\u7f3a\u9677\u6216\u8005\u4e0d\u4e25\u8c28\u65f6\uff0c\u653b\u51fb\u8005\u53ef\u4ee5\u6784\u9020\u7279\u6b8a\u7684\u5b57\u7b26\u4e32\u6765\u5927\u91cf\u6d88\u8017\u670d\u52a1\u5668\u7684\u7cfb\u7edf\u8d44\u6e90\uff0c\u9020\u6210\u670d\u52a1\u5668\u7684\u670d\u52a1\u7ec8\u7aef\u6216\u505c\u6b62\u3002 \u65e0\u7ebfDDoS","title":"\u5176\u5b83\u7c7b\u578b"},{"location":"infrastructure-security/network-security/cc-dos-ddos/dos-ddos/#_7","text":"","title":"\u6d4b\u8bd5\u5de5\u5177"},{"location":"infrastructure-security/network-security/cc-dos-ddos/dos-ddos/#hping3","text":"\u5b98\u7f51\u5730\u5740 Centos7\u7f16\u8bd1\u5b89\u88c5\uff0ckali\u81ea\u5e26 # \u89e3\u51b3\u73af\u5883\u4f9d\u8d56 yum install gcc.x86_64 libpcap-devel.x86_64 tcl-devel -y # \u4e0b\u8f7d wget http://www.hping.org/hping3-20051105.tar.gz # \u89e3\u538b\u5e76\u5f00\u59cb\u7f16\u8bd1 tar -xf hping3-20051105.tar.gz cd hping3-20051105 ./configure # \u62a5\u9519\u5982\u56fe # \u4fee\u6539\u6587\u4ef6\uff0c\u4fee\u6539\u5185\u5bb9\u5982\u56fe vim bytesex.h # \u7f16\u8bd1\u5b8c\u6210\uff0c\u8fdb\u884c\u5b89\u88c5 make # \u62a5\u9519\u5982\u56fe # \u94fe\u63a5\u6587\u4ef6 ln -s /usr/include/pcap-bpf.h /usr/include/net/bpf.h # \u518d\u6b21\u5b89\u88c5 make make install hping3\u4f7f\u7528\u6848\u4f8b # \u6d4b\u8bd5SYN Flood hping3 -S --flood -V -p PORT IP hping3 -c 20000 -d 120 -S -w 64 -p PORT --flood --rand-source IP # \u968f\u673a\u6e90IP # \u6d4b\u8bd5UDP Flood hping3 --flood --rand-source --udp -p PORT IP # \u6d4b\u8bd5TCP FIN Flood hping3 --flood --rand-source -F -p PORT IP # \u6d4b\u8bd5TCP RST Flood hping3 --flood --rand-source -R -p PORT IP # \u6d4b\u8bd5PUSH\u548cACK Flood hping3 --flood --rand-source -PA -p PORT IP # \u6d4b\u8bd5ICMP\u548cIGMP Flood hping3 --flood --rand-source -1 -p PORT IP","title":"hping3"},{"location":"infrastructure-security/network-security/cc-dos-ddos/dos-ddos/#thc-ssl-dos","text":"Centos7\u7f16\u8bd1\u5b89\u88c5\uff0ckali\u81ea\u5e26 # \u89e3\u51b3\u73af\u5883\u4f9d\u8d56 yum install gcc.x86_64 openssl-devel.x86_64 -y # \u4e0b\u8f7d git clone git://git.kali.org/packages/thc-ssl-dos.git cd thc-ssl-dos # \u7f16\u8bd1\u5b89\u88c5 ./configure make make install Thc-SSL-DoS\u4f7f\u7528\u6848\u4f8b thc-ssl-dos -l 500 IP PORT --accept","title":"Thc-SSL-DoS"},{"location":"infrastructure-security/network-security/cc-dos-ddos/dos-ddos/#_8","text":"\u672c\u8d28\uff1a\u7f51\u7edc\u5c42\u9762\u7684DDoS\u653b\u51fb\u662f\u65e0\u6cd5\u9632\u5fa1\u7684\uff0c\u80fd\u505a\u7684\u5c31\u662f\u4e0d\u65ad\u4f18\u5316\u81ea\u8eab\u7684\u7f51\u7edc\u67b6\u6784\uff0c\u4ee5\u53ca\u63d0\u5347\u7f51\u7edc\u5e26\u5bbd\u3002","title":"\u62d2\u7edd\u670d\u52a1\u653b\u51fb\u9632\u5fa1"},{"location":"infrastructure-security/network-security/cc-dos-ddos/dos-ddos/#_9","text":"","title":"\u589e\u52a0\u94fe\u8def\u5e26\u5bbd"},{"location":"infrastructure-security/network-security/cc-dos-ddos/dos-ddos/#ispwan","text":"\u7535\u4fe1\u4e91\u5824\u4ea7\u54c1\u63d0\u4f9b\"\u6d41\u91cf\u538b\u5236\"\u548c\"\u8fd1\u6e90\u6e05\u6d17\"\uff1a \u6d41\u91cf\u538b\u5236 \u5206\u65b9\u5411\u7684\u9ed1\u6d1e\u8def\u7531 \u8fd1\u6e90\u6e05\u6d17","title":"ISP/WAN\u5c42"},{"location":"infrastructure-security/network-security/cc-dos-ddos/dos-ddos/#cdninternet","text":"CDN\u672c\u8eab\u4e0d\u662f\u6297DDoS\u4ea7\u54c1\uff0c\u4f46\u662f\u9488\u5bf9Web\u670d\u52a1\u800c\u8a00\uff0cCDN\u53ef\u4ee5\u63d0\u4f9b\u4e00\u5b9a\u7684\u6297D\u6548\u679c\u3002","title":"CDN/Internet\u5c42"},{"location":"infrastructure-security/network-security/cc-dos-ddos/dos-ddos/#dc","text":"DataCenter\u8fd9\u4e00\u5c42\u7684\u9632\u5fa1\u5c5e\u4e8e\u8fd1\u76ee\u7684\u6e05\u6d17\uff0c\u5728DC\u51fa\u53e3\u7684\u5730\u65b9\u90e8\u7f72ADS\u8bbe\u5907\u3002","title":"DC\u5c42"},{"location":"infrastructure-security/network-security/cc-dos-ddos/dos-ddos/#osapp","text":"\u5e94\u7528\u5c42\u9632\u5fa1\u3002","title":"OS/APP\u5c42"},{"location":"infrastructure-security/network-security/cc-dos-ddos/dos-ddos/#_10","text":"\u4e94\u6b65\u4e03\u62db\uff0c\u5f00\u542f\u6700\u5f3aDDoS\u653b\u9632\u6218\uff01 DDoS\u653b\u51fb\u65b9\u5f0f\u603b\u7ed3 \u57fa\u4e8eMemcached\u5206\u5e03\u5f0f\u7cfb\u7edfDRDoS\u62d2\u7edd\u670d\u52a1\u653b\u51fb\u6280\u672f\u7814\u7a76 \u6d45\u6790ReDoS\u7684\u539f\u7406\u4e0e\u5b9e\u8df5 \u6d45\u8c08DDoS\u653b\u51fb\u4e0e\u9632\u5fa1","title":"\u53c2\u8003\u8d44\u6599"},{"location":"infrastructure-security/network-security/ids-ips/bro/","text":"bro \u7f51\u7edc\u5b89\u5168\u76d1\u63a7 \u5b98\u7f51\u5730\u5740 \u5b66\u4e60\u5e73\u53f0 \u5b89\u88c5\u4e0e\u4f7f\u7528 Centos7\u5b89\u88c5Bro \u89e3\u51b3\u4f9d\u8d56 yum install cmake.x86_64 gcc.x86_64 gcc-c++.x86_64 flex.x86_64 bison.x86_64 libpcap.x86_64 libpcap-devel.x86_64 openssl-devel.x86_64 python-devel.x86_64 swig.x86_64 zlib-devel.x86_64 -y yum\u5b89\u88c5 # \u914d\u7f6eyum\u6e90 cd /etc/yum.repos.d/ wget http://download.opensuse.org/repositories/network:bro/CentOS_7/network:bro.repo # \u5b89\u88c5 yum install bro.x86_64 -y # \u914d\u7f6e\u8fd0\u884c\u73af\u5883 vim /etc/profile export PATH=/opt/bro/bin:$PATH source /etc/profile \u7f16\u8bd1\u5b89\u88c5 # \u4e0b\u8f7d(\u63a8\u8350) wget https://www.bro.org/downloads/bro-2.5.5.tar.gz # \u6216\u8005\u901a\u8fc7git\u4e0b\u8f7d git clone --recursive git://git.bro.org/bro # \u5b89\u88c5 tar -xf bro-2.5.5.tar.gz cd bro-2.5.5 ./configure make make install # \u6b64\u65f6\u7684\u5b89\u88c5\u8def\u5f84\u4e3a\uff1a/usr/local/bro Bro\u914d\u7f6e\u6587\u4ef6 # $PREFIX\uff1a\u5b89\u88c5bro\u6240\u5728\u7684\u76ee\u5f55\uff0c\u89c6\u5177\u4f53\u73af\u5883\u6240\u5b9a\u3002 $PREFIX/etc/node.cfg \u76d1\u542c\u7f51\u5361\u6587\u4ef6 $PREFIX/etc/network.cfg \u9ed8\u8ba4\u8bbe\u7f6e $PREFIX/etc/broctl.cfg \u8bbe\u7f6e\u90ae\u7bb1MailTo\uff0c\u5e76\u4e14\u8bbe\u7f6eLogRotationInterval\u6539\u53d8\u65e5\u5fd7\u538b\u7f29\u9891\u7387 Bro\u57fa\u7840\u4f7f\u7528 BroControl # \u914d\u7f6e\u76d1\u542c\u7f51\u5361\uff0c\u6211\u7684\u672c\u5730\u7f51\u5361\u662fens33\uff0c\u4fee\u6539\u5982\u56fe vim /usr/local/bro/etc/node.cfg # \u6267\u884cbroctl # \u67e5\u770b\u65e5\u5fd7 ls -l /usr/local/bro/logs/current/ # \u4f1a\u8bdd\u65e5\u5fd7\uff1aconn.log # \u544a\u8b66\u65e5\u5fd7\uff1a weird.log # \u534f\u8bae\u9519\u8bef notice.log # bro\u811a\u672c\u4ea7\u751f\u7684\u544a\u8b66 # \u534f\u8bae\u89e3\u6790\u65e5\u5fd7\uff1adns.log\u3001files.log\u3001http.log\u3001sip.log\u3001snmp.log Bro Command-Line bro -i ens33 # \u9009\u62e9\u76d1\u542c\u63a5\u53e3\uff0c\u6b64\u65f6\u65e5\u5fd7\u5728\u6267\u884c\u76ee\u5f55\u4e2d bro -r *.pcap # \u8bfb\u53d6\u4e00\u4e2apacp\u8fdb\u884c\u5206\u6790 bro -C # \u7981\u7528\u6821\u9a8c\u548c bro -f # \u6355\u83b7\u6d41\u91cf\u65f6\u8fdb\u884c\u8fc7\u6ee4 bro_cut \u7c7b\u4f3cawk\uff0c\u63d0\u53d6\u6307\u5b9a\u7684\u5217 Bro Scripts Bro+ELK\u5b9e\u73b0\u5165\u4fb5\u68c0\u6d4b\u65e5\u5fd7\u5206\u6790 ELK\u5b89\u88c5\u6587\u6863 \u5206\u6790SSH\u767b\u5f55\u65e5\u5fd7 \u67e5\u770bBro\u4e2dSSH\u7684\u65e5\u5fd7\uff1a cat /usr/local/bro/logs/current/ssh.log \u7f16\u8f91logstash\u914d\u7f6e\u6587\u4ef6\uff1a wget https://raw.githubusercontent.com/fakrul/bro-elk/master/bro-ssh_log.conf # \u4fee\u6539\u65e5\u5fd7\u6587\u4ef6\u8def\u5f84 # \u4fee\u6539es\u5730\u5740\u4e0e\u7d22\u5f15\u540d\u79f0 # \u67e5\u770b\u6548\u679c \u53c2\u8003\u8d44\u6599 \u4f7f\u7528Bro IDS\u548cIntel Critical Stack\u5206\u6790\u7f51\u7edc\u6d3b\u52a8","title":"bro \u7f51\u7edc\u5b89\u5168\u76d1\u63a7"},{"location":"infrastructure-security/network-security/ids-ips/bro/#bro","text":"\u5b98\u7f51\u5730\u5740 \u5b66\u4e60\u5e73\u53f0","title":"bro \u7f51\u7edc\u5b89\u5168\u76d1\u63a7"},{"location":"infrastructure-security/network-security/ids-ips/bro/#_1","text":"","title":"\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"infrastructure-security/network-security/ids-ips/bro/#centos7bro","text":"\u89e3\u51b3\u4f9d\u8d56 yum install cmake.x86_64 gcc.x86_64 gcc-c++.x86_64 flex.x86_64 bison.x86_64 libpcap.x86_64 libpcap-devel.x86_64 openssl-devel.x86_64 python-devel.x86_64 swig.x86_64 zlib-devel.x86_64 -y yum\u5b89\u88c5 # \u914d\u7f6eyum\u6e90 cd /etc/yum.repos.d/ wget http://download.opensuse.org/repositories/network:bro/CentOS_7/network:bro.repo # \u5b89\u88c5 yum install bro.x86_64 -y # \u914d\u7f6e\u8fd0\u884c\u73af\u5883 vim /etc/profile export PATH=/opt/bro/bin:$PATH source /etc/profile \u7f16\u8bd1\u5b89\u88c5 # \u4e0b\u8f7d(\u63a8\u8350) wget https://www.bro.org/downloads/bro-2.5.5.tar.gz # \u6216\u8005\u901a\u8fc7git\u4e0b\u8f7d git clone --recursive git://git.bro.org/bro # \u5b89\u88c5 tar -xf bro-2.5.5.tar.gz cd bro-2.5.5 ./configure make make install # \u6b64\u65f6\u7684\u5b89\u88c5\u8def\u5f84\u4e3a\uff1a/usr/local/bro","title":"Centos7\u5b89\u88c5Bro"},{"location":"infrastructure-security/network-security/ids-ips/bro/#bro_1","text":"# $PREFIX\uff1a\u5b89\u88c5bro\u6240\u5728\u7684\u76ee\u5f55\uff0c\u89c6\u5177\u4f53\u73af\u5883\u6240\u5b9a\u3002 $PREFIX/etc/node.cfg \u76d1\u542c\u7f51\u5361\u6587\u4ef6 $PREFIX/etc/network.cfg \u9ed8\u8ba4\u8bbe\u7f6e $PREFIX/etc/broctl.cfg \u8bbe\u7f6e\u90ae\u7bb1MailTo\uff0c\u5e76\u4e14\u8bbe\u7f6eLogRotationInterval\u6539\u53d8\u65e5\u5fd7\u538b\u7f29\u9891\u7387","title":"Bro\u914d\u7f6e\u6587\u4ef6"},{"location":"infrastructure-security/network-security/ids-ips/bro/#bro_2","text":"BroControl # \u914d\u7f6e\u76d1\u542c\u7f51\u5361\uff0c\u6211\u7684\u672c\u5730\u7f51\u5361\u662fens33\uff0c\u4fee\u6539\u5982\u56fe vim /usr/local/bro/etc/node.cfg # \u6267\u884cbroctl # \u67e5\u770b\u65e5\u5fd7 ls -l /usr/local/bro/logs/current/ # \u4f1a\u8bdd\u65e5\u5fd7\uff1aconn.log # \u544a\u8b66\u65e5\u5fd7\uff1a weird.log # \u534f\u8bae\u9519\u8bef notice.log # bro\u811a\u672c\u4ea7\u751f\u7684\u544a\u8b66 # \u534f\u8bae\u89e3\u6790\u65e5\u5fd7\uff1adns.log\u3001files.log\u3001http.log\u3001sip.log\u3001snmp.log Bro Command-Line bro -i ens33 # \u9009\u62e9\u76d1\u542c\u63a5\u53e3\uff0c\u6b64\u65f6\u65e5\u5fd7\u5728\u6267\u884c\u76ee\u5f55\u4e2d bro -r *.pcap # \u8bfb\u53d6\u4e00\u4e2apacp\u8fdb\u884c\u5206\u6790 bro -C # \u7981\u7528\u6821\u9a8c\u548c bro -f # \u6355\u83b7\u6d41\u91cf\u65f6\u8fdb\u884c\u8fc7\u6ee4 bro_cut \u7c7b\u4f3cawk\uff0c\u63d0\u53d6\u6307\u5b9a\u7684\u5217","title":"Bro\u57fa\u7840\u4f7f\u7528"},{"location":"infrastructure-security/network-security/ids-ips/bro/#bro-scripts","text":"","title":"Bro Scripts"},{"location":"infrastructure-security/network-security/ids-ips/bro/#broelk","text":"ELK\u5b89\u88c5\u6587\u6863","title":"Bro+ELK\u5b9e\u73b0\u5165\u4fb5\u68c0\u6d4b\u65e5\u5fd7\u5206\u6790"},{"location":"infrastructure-security/network-security/ids-ips/bro/#ssh","text":"\u67e5\u770bBro\u4e2dSSH\u7684\u65e5\u5fd7\uff1a cat /usr/local/bro/logs/current/ssh.log \u7f16\u8f91logstash\u914d\u7f6e\u6587\u4ef6\uff1a wget https://raw.githubusercontent.com/fakrul/bro-elk/master/bro-ssh_log.conf # \u4fee\u6539\u65e5\u5fd7\u6587\u4ef6\u8def\u5f84 # \u4fee\u6539es\u5730\u5740\u4e0e\u7d22\u5f15\u540d\u79f0 # \u67e5\u770b\u6548\u679c","title":"\u5206\u6790SSH\u767b\u5f55\u65e5\u5fd7"},{"location":"infrastructure-security/network-security/ids-ips/bro/#_2","text":"\u4f7f\u7528Bro IDS\u548cIntel Critical Stack\u5206\u6790\u7f51\u7edc\u6d3b\u52a8","title":"\u53c2\u8003\u8d44\u6599"},{"location":"infrastructure-security/network-security/network-security-monitor/github-monitor/","text":"GitHub\u4fe1\u606f\u6cc4\u6f0f\u76d1\u63a7 \u4e3a\u4ec0\u4e48\u8981\u76d1\u63a7GitHub\uff0c\u56e0\u4e3a\u968f\u7740\u4f01\u4e1a\u53d1\u5c55\uff0c\u5404\u4e2a\u56e2\u961f\u4fe1\u606f\u5b89\u5168\u610f\u8bc6\u4e0d\u5230\u4f4d\uff0c\u53ef\u80fd\u5bfc\u81f4\u6d89\u53ca\u516c\u53f8\u7684\u654f\u611f\u4fe1\u606f\u88ab\u4e0a\u4f20\u5230GitHub\uff0c\u4e3b\u8981\u5305\u62ec\uff1a\u516c\u53f8\u4e1a\u52a1\u4ee3\u7801\u4fe1\u606f\u3001\u670d\u52a1\u5668\u8d26\u53f7\u5bc6\u7801\u6216\u79c1\u94a5\u4fe1\u606f\u3001\u5185\u90e8\u6838\u5fc3\u8d44\u6599\uff08\u5458\u5de5\u4fe1\u606f\u3001\u9879\u76ee\u6587\u6863\uff09\u7b49\u7b49\u3002 GitHub\u76d1\u63a7\u53ea\u662f\u4e00\u4e2a\u8f85\u52a9\u624b\u6bb5\uff0c\u4e0d\u8981\u8fc7\u5206\u4f9d\u8d56\u76d1\u63a7\u5e73\u53f0\uff0c\u56e0\u4e3aGitHub\u76d1\u63a7\u9700\u8981\u4eba\u5458\u53c2\u4e0e\u5904\u7406\uff0c\u6240\u4ee5\u4f1a\u5b58\u5728\u6f0f\u62a5\u7684\u60c5\u51b5\u3002 \u6211\u4eec\u9700\u8981\u505a\u5230\u4ece\u5236\u5ea6\u7ba1\u63a7\u5230\u5458\u5de5\u5b89\u5168\u610f\u8bc6\u57f9\u8bad\u7b49\u591a\u65b9\u9762\u6765\u63d0\u9ad8\u6574\u4f53\u5b89\u5168\u6c34\u5e73\u3002 \u76d1\u63a7\u6a21\u5f0f \u901a\u8fc7API\u8fdb\u884c\u76d1\u63a7 token\u6709\u67e5\u8be2\u9891\u6b21\u9650\u5236\u3002 API\u6587\u6863 \u901a\u8fc7\u722c\u866b\u8fdb\u884c\u76d1\u63a7 GitHub\u5b58\u5728\u53cd\u722c\u673a\u5236\uff0c\u9488\u5bf9\u9891\u6b21\u592a\u5feb\u7684IP\u4e0eUA\u7ef4\u5ea6\uff08\u8fd9\u4e2a\u662f\u5f88\u65e9\u4e4b\u524d\u6d4b\u8bd5\u53d1\u73b0\u7684\uff0c\u73b0\u5728\u7684\u7b56\u7565\u53ef\u80fd\u53d1\u751f\u4e86\u53d8\u5316\uff09\u3002 \u5e94\u5bf9\u53cd\u722c\u673a\u5236\uff1a \u964d\u4f4e\u8bf7\u6c42\u7684\u65f6\u95f4\u95f4\u9694\uff1a5s/\u8bf7\u6c42\u57fa\u672c\u5c31\u4e0d\u4f1a\u88ab\u62c9\u9ed1\uff1b \u4f7f\u7528IP\u4ee3\u7406\u6c60\uff0c\u9700\u8981\u8003\u8651\u4ee3\u7406\u6c60\u7684\u7a33\u5b9a\u6027\u4e0e\u4ee3\u7406\u6c60IP\u80fd\u5728\u88ab\u62c9\u9ed1\u540e\u5feb\u901f\u5207\u6362\uff1b GitHub\u76d1\u63a7\u89c4\u5219 \u5173\u952e\u5b57\u5339\u914d\u6a21\u5f0f \u7cbe\u51c6\u5339\u914d\uff1a\"keyword\"\uff0c\u4f7f\u7528\u53cc\u5f15\u53f7\u628a\u5173\u952e\u5b57\u5f15\u8d77\u6765\uff1b \u6a21\u7cca\u5339\u914d\uff1akeyword\uff0c\u5e38\u7528\u4e8e\u591a\u4e2a\u5173\u952e\u5b57\u8054\u5408\u641c\u7d22\uff0c\u5982\uff1adomain password; \u5907\u6ce8\uff1a\u6a21\u7cca\u5339\u914d\u7ecf\u5e38\u4f1a\u51fa\u73b0\u5339\u914d\u51fa\u6d77\u91cf\u7ed3\u679c\u7684\u60c5\u51b5\uff1b \u4f18\u5316\u5339\u914d\u89c4\u5219 \u662f\u5426\u5e94\u8be5\u9009\u62e9\u6392\u9664\u4e0d\u5c5e\u4e8e\u516c\u53f8\u7684\u5f00\u53d1\u8bed\u8a00\uff1a\u5426\uff0c\u7814\u53d1\u53ef\u80fd\u81ea\u5df1\u4f7f\u7528\u5176\u5b83\u8bed\u8a00\u7f16\u5199\u4ee3\u7801\uff1b \u6587\u4ef6\u540e\u7f00\u540d\u6392\u9664\uff1a\u6392\u9664gif\u3001png\u3001jpg\u7b49\u7c7b\u4f3c\u7684\u540e\u7f00\u540d\u6587\u4ef6\uff1b commit\u5185\u5bb9\u722c\u53d6\uff1a\u8c03\u7528API\u8fdb\u884c\u76d1\u63a7\u5c31\u53ef\u4ee5\u83b7\u53d6\u4fe1\u606f\uff1b \u52a0\u767d\u64cd\u4f5c \u52a0\u767d\u67d0\u4e2a\u7528\u6237\uff1a\u6bd4\u5982\u4e00\u4e9b\u767d\u5e3d\u5b50\u7684\u9879\u76ee\u4e2d\u4f1a\u6709\u5f88\u591a\u5173\u4e8e\u516c\u53f8\u7684\u5173\u952e\u5b57\uff0c\u53ef\u4ee5\u8003\u8651\u52a0\u767d\u8fd9\u4e2a\u4eba\uff1b \u52a0\u767d\u9879\u76ee\uff1a\u52a0\u767d\u9879\u76ee\u7684\u65f6\u5019\u9700\u8981\u8003\u8651\u5982\u679c\u9879\u76ee\u88abfork\u4ee5\u540e\uff0c\u6211\u4eec\u5982\u679c\u6807\u8bb0\u90a3\u4e9b\u88abfork\u7684\u9879\u76ee\uff1b \u524d\u7aef\u5c55\u793a \u6211\u601d\u8003\u7684\u6700\u4f18\u65b9\u6848\uff1a\u901a\u8fc7\u9879\u76ee\u6765\u5c55\u793a\uff0c\u4e00\u4e2a\u9879\u76ee\u4e2d\u6709\u591a\u5c11\u53ef\u7591\u7684URL\uff0c\u6bcf\u4e2aURL\u5c55\u793a\u547d\u4e2d\u5173\u952e\u5b57\u7684\u90e8\u5206\uff0c\u8fd9\u6837\u65b9\u4fbf\u8fd0\u8425\u4eba\u5458\u5728\u5904\u7406\u662f\u8fdb\u884c\u52a0\u767d\u3002 \u51e0\u4e2a\u601d\u8003 \u786e\u8ba4\u7684GitHub\u5e94\u8be5\u5982\u4f55\u5904\u7406 GitHub\u53ef\u4ee5\u8ffd\u6eaf\u5230\u4eba\uff0c\u76f4\u63a5\u8054\u7cfb\u5230\u4eba\u8fdb\u884c\u5220\u9664\uff1b \u4e0d\u80fd\u8ffd\u6eaf\u5230\u4eba\uff0cGitHub\u652f\u6301\u7ed9\u5b98\u7f51\u53d1\u9001\u90ae\u4ef6\uff0c\u8054\u7cfbGitHub\u8fdb\u884c\u5220\u9664\uff1b\u4f46\u662fGitHub\u4f1a\u516c\u5f00\u4ed6\u4eec\u5904\u7406\u7684\u7ed3\u679c\uff0c\u6240\u4ee5\u5982\u679c\u771f\u7684\u7531\u4e8e\u4e0d\u80fd\u8ffd\u6eaf\u5230\u4eba\u6cc4\u6f0f\uff0c\u8d76\u7d27\u60f3\u529e\u6cd5\u505a\u5176\u5b83\u5904\u7406\u5427\uff1b\u5982\uff1a\u6cc4\u6f0f\u4ee3\u7801\uff0c\u901a\u8fc7\u80fd\u63a5\u89e6\u5230\u8fd9\u4e9b\u4ee3\u7801\u7684\u4eba\u8fdb\u884c\u67e5\u8be2\uff1b\u6cc4\u6f0f\u7684\u662f\u8d26\u53f7\u5bc6\u7801\uff0c\u53ef\u4ee5\u53cd\u67e5\u80fd\u63a5\u89e6\u8d26\u53f7\u5bc6\u7801\u7684\u4eba\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u4fee\u6539\u5bc6\u7801\uff1b\uff08\u4e3b\u8981\u8fd8\u662f\u9700\u8981\u4ece\u5236\u5ea6\u4e0e\u5b89\u5168\u610f\u8bc6\u51fa\u53d1\uff09 GitHub\u94fe\u63a5 GitHub\u516c\u5e03\u5904\u7406\u7ed3\u679c \u5982\u4f55\u6784\u5efa\u5206\u5e03\u5f0f\u76d1\u63a7 \u79d1\u6280\u578b\u4f01\u4e1a\u652f\u6491\u96c6\u56e2\u5982\u4f55\u8003\u8651\u4e0d\u540c\u516c\u53f8\u7684\u7528\u6237\u6743\u9650\u63a7\u5236 \u5f00\u6e90GitHub\u76d1\u63a7 gsil \u7f8e\u8054\u5f00\u6e90 x-patrol \u5c0f\u7c73\u5f00\u6e90 Hawkeye Github-Monitor VIPKID SRC\u5f00\u6e90 \u5f00\u6e90\u4f18\u7f3a\u70b9\u5bf9\u6bd4 \u5f00\u6e90\u7684\u4ea7\u54c1\u90fd\u662f\u57fa\u4e8e\u4e24\u79cd\u76d1\u63a7\u6a21\u5f0f\u91cd\u590d\u9020\u7684\u8f6e\u5b50\uff0c\u6bcf\u4e2a\u4eba\u90fd\u6709\u81ea\u5df1\u7684\u4e60\u60ef\uff0c\u6240\u6709\u5bf9\u4e8e\u6bcf\u4e2a\u4eba\u4f18\u7f3a\u70b9\u90fd\u4e0d\u4e00\u6837\uff1b \u5bf9\u6bd4\u9879 gsil x-patrol GitHub-Monitr \u76d1\u63a7\u6a21\u5f0f API\u6a21\u5f0f API\u6a21\u5f0f API\u6a21\u5f0f \u5f00\u53d1\u8bed\u8a00 python go python docker\u652f\u6301 \u4e0d\u652f\u6301 \u4e0d\u652f\u6301 \u652f\u6301 Github-Monitor\u5b89\u88c5\u4e0e\u4f7f\u7528 # \u5b98\u65b9\u7684\u5b89\u88c5\u6587\u6863\u5df2\u7ecf\u5f88\u597d\u4e86\uff0c\u8865\u5145\u51e0\u4e2a\u70b9 # \u5b89\u88c5npm\u9700\u8981\u5b89\u88c5\u9ad8\u7248\u672c\u7684 wget -qO- https://rpm.nodesource.com/setup_10.x | bash yum install nodejs.x86_64 nodejs-npmlog.noarch -y # \u8fdb\u884cnpm\u5b89\u88c5\u7684\u65f6\u5019\u9700\u8981\u4f7f\u7528\u56fd\u5185\u7684\u6e90\uff0c\u5426\u5219\u5bb9\u6613\u62a5\u9519 npm config set registry https://registry.npm.taobao.org # \u8bbf\u95ee\u8bbf\u95ee\u524d\u7aef\u7aef\u53e3 \u62a5\u9519\u4fe1\u606f\u5982\u4e0b\uff1a npm ERR! code Z_BUF_ERROR npm ERR! errno -5 npm ERR! zlib: unexpected end of file npm ERR! A complete log of this run can be found in: npm ERR! /root/.npm/_logs/2019-01-15T04_46_18_284Z-debug.log","title":"GitHub\u4fe1\u606f\u6cc4\u6f0f\u76d1\u63a7"},{"location":"infrastructure-security/network-security/network-security-monitor/github-monitor/#github","text":"\u4e3a\u4ec0\u4e48\u8981\u76d1\u63a7GitHub\uff0c\u56e0\u4e3a\u968f\u7740\u4f01\u4e1a\u53d1\u5c55\uff0c\u5404\u4e2a\u56e2\u961f\u4fe1\u606f\u5b89\u5168\u610f\u8bc6\u4e0d\u5230\u4f4d\uff0c\u53ef\u80fd\u5bfc\u81f4\u6d89\u53ca\u516c\u53f8\u7684\u654f\u611f\u4fe1\u606f\u88ab\u4e0a\u4f20\u5230GitHub\uff0c\u4e3b\u8981\u5305\u62ec\uff1a\u516c\u53f8\u4e1a\u52a1\u4ee3\u7801\u4fe1\u606f\u3001\u670d\u52a1\u5668\u8d26\u53f7\u5bc6\u7801\u6216\u79c1\u94a5\u4fe1\u606f\u3001\u5185\u90e8\u6838\u5fc3\u8d44\u6599\uff08\u5458\u5de5\u4fe1\u606f\u3001\u9879\u76ee\u6587\u6863\uff09\u7b49\u7b49\u3002 GitHub\u76d1\u63a7\u53ea\u662f\u4e00\u4e2a\u8f85\u52a9\u624b\u6bb5\uff0c\u4e0d\u8981\u8fc7\u5206\u4f9d\u8d56\u76d1\u63a7\u5e73\u53f0\uff0c\u56e0\u4e3aGitHub\u76d1\u63a7\u9700\u8981\u4eba\u5458\u53c2\u4e0e\u5904\u7406\uff0c\u6240\u4ee5\u4f1a\u5b58\u5728\u6f0f\u62a5\u7684\u60c5\u51b5\u3002 \u6211\u4eec\u9700\u8981\u505a\u5230\u4ece\u5236\u5ea6\u7ba1\u63a7\u5230\u5458\u5de5\u5b89\u5168\u610f\u8bc6\u57f9\u8bad\u7b49\u591a\u65b9\u9762\u6765\u63d0\u9ad8\u6574\u4f53\u5b89\u5168\u6c34\u5e73\u3002","title":"GitHub\u4fe1\u606f\u6cc4\u6f0f\u76d1\u63a7"},{"location":"infrastructure-security/network-security/network-security-monitor/github-monitor/#_1","text":"","title":"\u76d1\u63a7\u6a21\u5f0f"},{"location":"infrastructure-security/network-security/network-security-monitor/github-monitor/#api","text":"token\u6709\u67e5\u8be2\u9891\u6b21\u9650\u5236\u3002 API\u6587\u6863","title":"\u901a\u8fc7API\u8fdb\u884c\u76d1\u63a7"},{"location":"infrastructure-security/network-security/network-security-monitor/github-monitor/#_2","text":"GitHub\u5b58\u5728\u53cd\u722c\u673a\u5236\uff0c\u9488\u5bf9\u9891\u6b21\u592a\u5feb\u7684IP\u4e0eUA\u7ef4\u5ea6\uff08\u8fd9\u4e2a\u662f\u5f88\u65e9\u4e4b\u524d\u6d4b\u8bd5\u53d1\u73b0\u7684\uff0c\u73b0\u5728\u7684\u7b56\u7565\u53ef\u80fd\u53d1\u751f\u4e86\u53d8\u5316\uff09\u3002 \u5e94\u5bf9\u53cd\u722c\u673a\u5236\uff1a \u964d\u4f4e\u8bf7\u6c42\u7684\u65f6\u95f4\u95f4\u9694\uff1a5s/\u8bf7\u6c42\u57fa\u672c\u5c31\u4e0d\u4f1a\u88ab\u62c9\u9ed1\uff1b \u4f7f\u7528IP\u4ee3\u7406\u6c60\uff0c\u9700\u8981\u8003\u8651\u4ee3\u7406\u6c60\u7684\u7a33\u5b9a\u6027\u4e0e\u4ee3\u7406\u6c60IP\u80fd\u5728\u88ab\u62c9\u9ed1\u540e\u5feb\u901f\u5207\u6362\uff1b","title":"\u901a\u8fc7\u722c\u866b\u8fdb\u884c\u76d1\u63a7"},{"location":"infrastructure-security/network-security/network-security-monitor/github-monitor/#github_1","text":"","title":"GitHub\u76d1\u63a7\u89c4\u5219"},{"location":"infrastructure-security/network-security/network-security-monitor/github-monitor/#_3","text":"\u7cbe\u51c6\u5339\u914d\uff1a\"keyword\"\uff0c\u4f7f\u7528\u53cc\u5f15\u53f7\u628a\u5173\u952e\u5b57\u5f15\u8d77\u6765\uff1b \u6a21\u7cca\u5339\u914d\uff1akeyword\uff0c\u5e38\u7528\u4e8e\u591a\u4e2a\u5173\u952e\u5b57\u8054\u5408\u641c\u7d22\uff0c\u5982\uff1adomain password; \u5907\u6ce8\uff1a\u6a21\u7cca\u5339\u914d\u7ecf\u5e38\u4f1a\u51fa\u73b0\u5339\u914d\u51fa\u6d77\u91cf\u7ed3\u679c\u7684\u60c5\u51b5\uff1b","title":"\u5173\u952e\u5b57\u5339\u914d\u6a21\u5f0f"},{"location":"infrastructure-security/network-security/network-security-monitor/github-monitor/#_4","text":"\u662f\u5426\u5e94\u8be5\u9009\u62e9\u6392\u9664\u4e0d\u5c5e\u4e8e\u516c\u53f8\u7684\u5f00\u53d1\u8bed\u8a00\uff1a\u5426\uff0c\u7814\u53d1\u53ef\u80fd\u81ea\u5df1\u4f7f\u7528\u5176\u5b83\u8bed\u8a00\u7f16\u5199\u4ee3\u7801\uff1b \u6587\u4ef6\u540e\u7f00\u540d\u6392\u9664\uff1a\u6392\u9664gif\u3001png\u3001jpg\u7b49\u7c7b\u4f3c\u7684\u540e\u7f00\u540d\u6587\u4ef6\uff1b commit\u5185\u5bb9\u722c\u53d6\uff1a\u8c03\u7528API\u8fdb\u884c\u76d1\u63a7\u5c31\u53ef\u4ee5\u83b7\u53d6\u4fe1\u606f\uff1b","title":"\u4f18\u5316\u5339\u914d\u89c4\u5219"},{"location":"infrastructure-security/network-security/network-security-monitor/github-monitor/#_5","text":"\u52a0\u767d\u67d0\u4e2a\u7528\u6237\uff1a\u6bd4\u5982\u4e00\u4e9b\u767d\u5e3d\u5b50\u7684\u9879\u76ee\u4e2d\u4f1a\u6709\u5f88\u591a\u5173\u4e8e\u516c\u53f8\u7684\u5173\u952e\u5b57\uff0c\u53ef\u4ee5\u8003\u8651\u52a0\u767d\u8fd9\u4e2a\u4eba\uff1b \u52a0\u767d\u9879\u76ee\uff1a\u52a0\u767d\u9879\u76ee\u7684\u65f6\u5019\u9700\u8981\u8003\u8651\u5982\u679c\u9879\u76ee\u88abfork\u4ee5\u540e\uff0c\u6211\u4eec\u5982\u679c\u6807\u8bb0\u90a3\u4e9b\u88abfork\u7684\u9879\u76ee\uff1b","title":"\u52a0\u767d\u64cd\u4f5c"},{"location":"infrastructure-security/network-security/network-security-monitor/github-monitor/#_6","text":"\u6211\u601d\u8003\u7684\u6700\u4f18\u65b9\u6848\uff1a\u901a\u8fc7\u9879\u76ee\u6765\u5c55\u793a\uff0c\u4e00\u4e2a\u9879\u76ee\u4e2d\u6709\u591a\u5c11\u53ef\u7591\u7684URL\uff0c\u6bcf\u4e2aURL\u5c55\u793a\u547d\u4e2d\u5173\u952e\u5b57\u7684\u90e8\u5206\uff0c\u8fd9\u6837\u65b9\u4fbf\u8fd0\u8425\u4eba\u5458\u5728\u5904\u7406\u662f\u8fdb\u884c\u52a0\u767d\u3002","title":"\u524d\u7aef\u5c55\u793a"},{"location":"infrastructure-security/network-security/network-security-monitor/github-monitor/#_7","text":"","title":"\u51e0\u4e2a\u601d\u8003"},{"location":"infrastructure-security/network-security/network-security-monitor/github-monitor/#github_2","text":"GitHub\u53ef\u4ee5\u8ffd\u6eaf\u5230\u4eba\uff0c\u76f4\u63a5\u8054\u7cfb\u5230\u4eba\u8fdb\u884c\u5220\u9664\uff1b \u4e0d\u80fd\u8ffd\u6eaf\u5230\u4eba\uff0cGitHub\u652f\u6301\u7ed9\u5b98\u7f51\u53d1\u9001\u90ae\u4ef6\uff0c\u8054\u7cfbGitHub\u8fdb\u884c\u5220\u9664\uff1b\u4f46\u662fGitHub\u4f1a\u516c\u5f00\u4ed6\u4eec\u5904\u7406\u7684\u7ed3\u679c\uff0c\u6240\u4ee5\u5982\u679c\u771f\u7684\u7531\u4e8e\u4e0d\u80fd\u8ffd\u6eaf\u5230\u4eba\u6cc4\u6f0f\uff0c\u8d76\u7d27\u60f3\u529e\u6cd5\u505a\u5176\u5b83\u5904\u7406\u5427\uff1b\u5982\uff1a\u6cc4\u6f0f\u4ee3\u7801\uff0c\u901a\u8fc7\u80fd\u63a5\u89e6\u5230\u8fd9\u4e9b\u4ee3\u7801\u7684\u4eba\u8fdb\u884c\u67e5\u8be2\uff1b\u6cc4\u6f0f\u7684\u662f\u8d26\u53f7\u5bc6\u7801\uff0c\u53ef\u4ee5\u53cd\u67e5\u80fd\u63a5\u89e6\u8d26\u53f7\u5bc6\u7801\u7684\u4eba\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u4fee\u6539\u5bc6\u7801\uff1b\uff08\u4e3b\u8981\u8fd8\u662f\u9700\u8981\u4ece\u5236\u5ea6\u4e0e\u5b89\u5168\u610f\u8bc6\u51fa\u53d1\uff09 GitHub\u94fe\u63a5 GitHub\u516c\u5e03\u5904\u7406\u7ed3\u679c","title":"\u786e\u8ba4\u7684GitHub\u5e94\u8be5\u5982\u4f55\u5904\u7406"},{"location":"infrastructure-security/network-security/network-security-monitor/github-monitor/#_8","text":"","title":"\u5982\u4f55\u6784\u5efa\u5206\u5e03\u5f0f\u76d1\u63a7"},{"location":"infrastructure-security/network-security/network-security-monitor/github-monitor/#_9","text":"","title":"\u79d1\u6280\u578b\u4f01\u4e1a\u652f\u6491\u96c6\u56e2\u5982\u4f55\u8003\u8651\u4e0d\u540c\u516c\u53f8\u7684\u7528\u6237\u6743\u9650\u63a7\u5236"},{"location":"infrastructure-security/network-security/network-security-monitor/github-monitor/#github_3","text":"gsil \u7f8e\u8054\u5f00\u6e90 x-patrol \u5c0f\u7c73\u5f00\u6e90 Hawkeye Github-Monitor VIPKID SRC\u5f00\u6e90","title":"\u5f00\u6e90GitHub\u76d1\u63a7"},{"location":"infrastructure-security/network-security/network-security-monitor/github-monitor/#_10","text":"\u5f00\u6e90\u7684\u4ea7\u54c1\u90fd\u662f\u57fa\u4e8e\u4e24\u79cd\u76d1\u63a7\u6a21\u5f0f\u91cd\u590d\u9020\u7684\u8f6e\u5b50\uff0c\u6bcf\u4e2a\u4eba\u90fd\u6709\u81ea\u5df1\u7684\u4e60\u60ef\uff0c\u6240\u6709\u5bf9\u4e8e\u6bcf\u4e2a\u4eba\u4f18\u7f3a\u70b9\u90fd\u4e0d\u4e00\u6837\uff1b \u5bf9\u6bd4\u9879 gsil x-patrol GitHub-Monitr \u76d1\u63a7\u6a21\u5f0f API\u6a21\u5f0f API\u6a21\u5f0f API\u6a21\u5f0f \u5f00\u53d1\u8bed\u8a00 python go python docker\u652f\u6301 \u4e0d\u652f\u6301 \u4e0d\u652f\u6301 \u652f\u6301","title":"\u5f00\u6e90\u4f18\u7f3a\u70b9\u5bf9\u6bd4"},{"location":"infrastructure-security/network-security/network-security-monitor/github-monitor/#github-monitor","text":"# \u5b98\u65b9\u7684\u5b89\u88c5\u6587\u6863\u5df2\u7ecf\u5f88\u597d\u4e86\uff0c\u8865\u5145\u51e0\u4e2a\u70b9 # \u5b89\u88c5npm\u9700\u8981\u5b89\u88c5\u9ad8\u7248\u672c\u7684 wget -qO- https://rpm.nodesource.com/setup_10.x | bash yum install nodejs.x86_64 nodejs-npmlog.noarch -y # \u8fdb\u884cnpm\u5b89\u88c5\u7684\u65f6\u5019\u9700\u8981\u4f7f\u7528\u56fd\u5185\u7684\u6e90\uff0c\u5426\u5219\u5bb9\u6613\u62a5\u9519 npm config set registry https://registry.npm.taobao.org # \u8bbf\u95ee\u8bbf\u95ee\u524d\u7aef\u7aef\u53e3 \u62a5\u9519\u4fe1\u606f\u5982\u4e0b\uff1a npm ERR! code Z_BUF_ERROR npm ERR! errno -5 npm ERR! zlib: unexpected end of file npm ERR! A complete log of this run can be found in: npm ERR! /root/.npm/_logs/2019-01-15T04_46_18_284Z-debug.log","title":"Github-Monitor\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"infrastructure-security/network-security/office-network-security/","text":"\u529e\u516c\u7f51\u7f51\u7edc\u5b89\u5168 \u53c2\u8003\u8d44\u6599 \u4f01\u4e1a\u5b89\u5168\u5efa\u8bbe\u4e4b\u6d45\u8c08\u529e\u516c\u7f51\u5b89\u5168","title":"\u529e\u516c\u7f51\u7f51\u7edc\u5b89\u5168"},{"location":"infrastructure-security/network-security/office-network-security/#_1","text":"","title":"\u529e\u516c\u7f51\u7f51\u7edc\u5b89\u5168"},{"location":"infrastructure-security/network-security/office-network-security/#_2","text":"\u4f01\u4e1a\u5b89\u5168\u5efa\u8bbe\u4e4b\u6d45\u8c08\u529e\u516c\u7f51\u5b89\u5168","title":"\u53c2\u8003\u8d44\u6599"},{"location":"infrastructure-security/network-security/office-network-security/email-security/","text":"\u90ae\u4ef6\u5b89\u5168 \u9493\u9c7c\u90ae\u4ef6 Phishing Email \u4f5c\u8005\uff1a \u5343\u57df\u5343\u5bfb \u7f51\u7edc\u9493\u9c7c\u4e8b\u4ef6\u5728\u7f51\u7edc\u4e16\u754c\u4e2d\u6bcf\u65f6\u6bcf\u523b\u90fd\u5728\u53d1\u751f\uff0c\u5404\u79cd\u6b3a\u8bc8\u624b\u6bb5\u82b1\u6837\u7ffb\u65b0\uff0c\u9632\u4e0d\u80dc\u9632\u3002\u800c\u8fd9\u5176\u4e2d\u6709\u4e00\u7c7b\u9493\u9c7c\u624b\u6bb5\u662f\u9ed1\u5ba2\u6700\u5e38\u7528\u7684\u90a3\u5c31\u662f\u90ae\u4ef6\u9493\u9c7c\u3002\u9493\u9c7c\u90ae\u4ef6\u901a\u5e38\u53ef\u4ee5\u5206\u4e09\u4e2a\u7c7b\u522b\uff1a \u94fe\u63a5\u9493\u9c7c\u90ae\u4ef6 \u3001 \u9644\u4ef6\u9493\u9c7c\u90ae\u4ef6 \u4ee5\u53ca \u90ae\u4ef6\u5934\u4f2a\u9020\u9493\u9c7c\u90ae\u4ef6 \uff08\u6216\u8005\u53eb\u4eff\u5192\u90ae\u4ef6\uff09\u3002 \u9493\u9c7c\u90ae\u4ef6\u7c7b\u578b \u90ae\u4ef6\u9493\u9c7c\u539f\u7406 \u94fe\u63a5\u9493\u9c7c \u9644\u4ef6\u9493\u9c7c \u90ae\u4ef6\u5934\u4f2a\u9020\u9493\u9c7c \u9493\u9c7c\u90ae\u4ef6\u9632\u5fa1\u5efa\u8bae \u9488\u5bf9\u7528\u6237 \u63d0\u9ad8\u4e2a\u4eba\u5b89\u5168\u610f\u8bc6\uff0c\u6536\u53d1\u90ae\u4ef6\u65f6\u786e\u8ba4\u6536\u53d1\u6765\u6e90\u662f\u5426\u53ef\u9760\uff0c\u4e0d\u8981\u968f\u610f\u70b9\u51fb\u6216\u8005\u590d\u5236\u90ae\u4ef6\u4e2d\u7684\u7f51\u5740\uff0c\u4e0d\u8981\u8f7b\u6613\u4e0b\u8f7d\u6765\u6e90\u4e0d\u660e\u7684\u9644\u4ef6\uff0c\u5efa\u8bae\u5bf9\u964c\u751f\u4eba\u90ae\u4ef6\u4e00\u5f8b\u4e0d\u6253\u5f00\u3002 \u5c3d\u91cf\u4e0d\u5728\u975e\u53ef\u63a7\u73af\u5883\u4e0b\u767b\u5f55\u7535\u5b50\u90ae\u4ef6\uff0c\u5982\u7f51\u5427\u7684\u7535\u8111\u3001\u5176\u4ed6\u4eba\u7684\u7535\u8111\u7b49\u3002 \u786e\u4fdd\u90ae\u4ef6\u6536\u53d1\u548c\u767b\u9646\u7ec8\u7aef\u7cfb\u7edf\u7684\u73af\u5883\u5b89\u5168\uff08PC\u3001\u624b\u673a\u3001PAD\u7b49\uff09\uff0c\u53ca\u65f6\u5347\u7ea7\u66f4\u65b0\u548c\u8fdb\u884c\u6f0f\u6d1e\u8865\u4e01\u4fee\u590d\uff0c\u5b89\u88c5\u7ec8\u7aef\u5b89\u5168\u9632\u62a4\u8f6f\u4ef6\u5e76\u53ca\u65f6\u5347\u7ea7\u6253\u5f00\u76d1\u63a7\uff0c\u786e\u4fdd\u90ae\u4ef6\u6536\u53d1\u7684\u73af\u5883\u5b89\u5168\u3002 \u90ae\u7bb1\u5bc6\u7801\u5fc5\u987b\u4f7f\u7528\u5f3a\u5bc6\u7801\uff08\u4f8b\u5982\uff1a\u5bc6\u7801\u957f\u5ea6\u5927\u4e8e12\u4f4d\u5b57\u7b26\uff0c\u4e14\u5fc5\u987b\u4e3a\u6570\u5b57\u3001\u82f1\u6587\u5927\u5c0f\u5199\u5b57\u6bcd\u3001\u7279\u6b8a\u5b57\u7b26\u7ec4\u5408\uff09\uff0c\u5e76\u5b9a\u671f\u66f4\u6362\u5bc6\u7801\uff1b\u5bc6\u7801\u4e0d\u5f97\u4e0e\u5176\u4ed6\u670d\u52a1\u6df7\u7528\u3002 \u5982\u4f7f\u7528\u90ae\u4ef6\u5ba2\u6237\u7aef\uff0c\u786e\u4fdd\u5ba2\u6237\u7aef\u5b89\u88c5\u7a0b\u5e8f\u7684\u5b89\u5168\u6027\uff0c\u6309\u7167\u90ae\u4ef6\u670d\u52a1\u5668\u652f\u6301\u7684\u52a0\u5bc6\u94fe\u63a5\u65b9\u5f0f\uff08\u5982SSL\uff09\u914d\u7f6e\u90ae\u4ef6\u6536\u53d1\uff0c\u800c\u4e0d\u8981\u4f7f\u7528\u660e\u6587\u534f\u8bae\u6536\u53d1\u90ae\u4ef6\uff1b\u5bf9\u90ae\u4ef6\u5ba2\u6237\u7aef\u6570\u636e\u6587\u4ef6\u6240\u5728\u5377\uff0c\u5efa\u8bae\u91c7\u7528\u5377\u52a0\u5bc6\uff08\u5982Bitlocker\uff09\u3002 \u6d4f\u89c8\u5668\u6536\u53d1\u90ae\u4ef6\u65f6\uff0c\u9700\u8981\u4f7f\u7528HTTPS\u534f\u8bae\u767b\u9646\u4fe1\u7bb1\uff0c\u800c\u4e0d\u8981\u4f7f\u7528HTTP\u767b\u9646\u3002\u4ee5\u9632\u88ab\u55c5\u63a2\u7a83\u53d6\u8d26\u6237\u5bc6\u7801\u3002 \u6309\u7167\u7ec4\u7ec7\u89c4\u5b9a\u89c4\u8303\u8fdb\u884c\u90ae\u4ef6\u7b7e\u540d\u3002 \u90ae\u7bb1\u5730\u5740\u4e0d\u8981\u968f\u610f\u4f20\u64ad\uff0c\u51cf\u5c11\u653b\u51fb\u8005\u627e\u5230\u653b\u51fb\u5165\u53e3\u7684\u53ef\u80fd\uff1b\u5fc5\u987b\u516c\u5f00\u90ae\u4ef6\u5730\u5740\u7684\uff0c\u53ef\u4ee5\u628a@\u7b26\u53f7\u7528\u5176\u4ed6\u7b26\u53f7\u66ff\u6362\uff0c\u907f\u514d\u88ab\u722c\u866b\u722c\u53d6\u8bc6\u522b\u540e\uff0c\u6210\u4e3a\u5783\u573e\u90ae\u4ef6\u548c\u653b\u51fb\u90ae\u4ef6\u7fa4\u53d1\u7684\u76ee\u6807\u3002 \u9488\u5bf9\u4f01\u4e1a \u914d\u7f6e\u5b89\u5168\u7ba1\u7406\u548c\u4f7f\u7528\u7535\u5b50\u90ae\u4ef6\u7b56\u7565\uff1a\u5305\u62ec\u7535\u5b50\u90ae\u4ef6\u6743\u9650\u3001\u6536\u53d1\u7528\u6237\u8eab\u4efd\u8bbe\u7f6e\u3001\u7535\u5b50\u90ae\u4ef6\u5185\u5bb9\u9650\u5236\u3001\u7535\u5b50\u90ae\u4ef6\u9644\u4ef6\u8981\u6c42\u3001\u90ae\u4ef6\u4f20\u8f93\u534f\u8bae\u5b89\u5168\u3001\u5f02\u5e38\u90ae\u4ef6\u76d1\u63a7\u3001\u7528\u6237\u5907\u4efd\u548c\u5f52\u6863\u4fdd\u5b58\u7b49\uff0c\u5177\u4f53\u53ef\u53c2\u8003\u300a\u4fe1\u606f\u5b89\u5168\u7b56\u7565\u7f16\u5236\u6307\u5357-L9\u7535\u5b50\u90ae\u4ef6\u5b89\u5168\u7b56\u7565\u300b \u3002 \u4fdd\u969c\u90ae\u4ef6\u7cfb\u7edf\u6240\u5728\u7684\u7f51\u7edc\u5b89\u5168\uff1a\u5305\u62ec\u7f51\u7edc\u7ed3\u6784\u5b89\u5168\u3001\u5165\u4fb5\u9632\u8303\u548c\u5b89\u5168\u5ba1\u8ba1\u7b49\uff0c\u53ef\u53c2\u8003\u300a\u53ef\u7ba1\u7406\u7684\u7f51\u7edc\u8ba1\u5212V4.0\uff08NSA/IAD\uff09\u300b\u3002 \u4fdd\u969c\u90ae\u4ef6\u7cfb\u7edf\u8f6f\u786c\u4ef6\u5b89\u5168\uff1a\u5305\u62ec\u670d\u52a1\u5668\u3001\u64cd\u4f5c\u7cfb\u7edf\u3001\u6570\u636e\u5e93\u7684\u5b89\u5168\u9632\u8303\u7b56\u7565\uff0c\u53ef\u53c2\u8003 \u300aDISA\u5b89\u5168\u6280\u672f\u5b9e\u65bd\u6307\u5357STIG\u300b\u3002 \u786e\u4fdd\u90ae\u4ef6\u7cfb\u7edf\u7684\u7269\u7406\u548c\u7ba1\u7406\u5b89\u5168\uff1a\u5305\u62ec\u8bbf\u95ee\u63a7\u5236\u3001\u7ba1\u7406\u5236\u5ea6\u7b49\uff0c\u5177\u4f53\u53ef\u53c2\u8003 \u300aYD/T 3161-2016\u90ae\u4ef6\u7cfb\u7edf\u5b89\u5168\u9632\u62a4\u8981\u6c42\u300b\u3002 \u53c2\u8003\u8d44\u6599 \u4f01\u4e1a\u90ae\u4ef6\u5b89\u5168\u9632\u62a4\u7ecf\u9a8c\u603b\u7ed3 \u4f01\u4e1a\u5b89\u5168\u5efa\u8bbe\u5b9e\u8df5\u4e4b\u90ae\u4ef6\u5b89\u5168 \u90ae\u4ef6\u5b89\u5168\u9632\u62a4\u5b9e\u8df5 \u6536\u5230\u201c\u6765\u81ea\u81ea\u5df1\u201d\u7684\u6572\u8bc8\u90ae\u4ef6\uff0c\u8bf7\u4e0d\u8981\u60ca\u614c \u9493\u9c7c\u90ae\u4ef6\u521d\u63a2\uff1a\u9ed1\u5ba2\u662f\u5982\u4f55\u8fdb\u884c\u90ae\u4ef6\u4f2a\u9020\u7684 \u5e38\u89c1\u7684\u9493\u9c7c\u90ae\u4ef6\u7c7b\u578b\u6709\u54ea\u4e9b","title":"\u90ae\u4ef6\u5b89\u5168"},{"location":"infrastructure-security/network-security/office-network-security/email-security/#_1","text":"","title":"\u90ae\u4ef6\u5b89\u5168"},{"location":"infrastructure-security/network-security/office-network-security/email-security/#phishing-email","text":"\u4f5c\u8005\uff1a \u5343\u57df\u5343\u5bfb \u7f51\u7edc\u9493\u9c7c\u4e8b\u4ef6\u5728\u7f51\u7edc\u4e16\u754c\u4e2d\u6bcf\u65f6\u6bcf\u523b\u90fd\u5728\u53d1\u751f\uff0c\u5404\u79cd\u6b3a\u8bc8\u624b\u6bb5\u82b1\u6837\u7ffb\u65b0\uff0c\u9632\u4e0d\u80dc\u9632\u3002\u800c\u8fd9\u5176\u4e2d\u6709\u4e00\u7c7b\u9493\u9c7c\u624b\u6bb5\u662f\u9ed1\u5ba2\u6700\u5e38\u7528\u7684\u90a3\u5c31\u662f\u90ae\u4ef6\u9493\u9c7c\u3002\u9493\u9c7c\u90ae\u4ef6\u901a\u5e38\u53ef\u4ee5\u5206\u4e09\u4e2a\u7c7b\u522b\uff1a \u94fe\u63a5\u9493\u9c7c\u90ae\u4ef6 \u3001 \u9644\u4ef6\u9493\u9c7c\u90ae\u4ef6 \u4ee5\u53ca \u90ae\u4ef6\u5934\u4f2a\u9020\u9493\u9c7c\u90ae\u4ef6 \uff08\u6216\u8005\u53eb\u4eff\u5192\u90ae\u4ef6\uff09\u3002","title":"\u9493\u9c7c\u90ae\u4ef6 Phishing Email"},{"location":"infrastructure-security/network-security/office-network-security/email-security/#_2","text":"","title":"\u9493\u9c7c\u90ae\u4ef6\u7c7b\u578b"},{"location":"infrastructure-security/network-security/office-network-security/email-security/#_3","text":"\u94fe\u63a5\u9493\u9c7c \u9644\u4ef6\u9493\u9c7c \u90ae\u4ef6\u5934\u4f2a\u9020\u9493\u9c7c","title":"\u90ae\u4ef6\u9493\u9c7c\u539f\u7406"},{"location":"infrastructure-security/network-security/office-network-security/email-security/#_4","text":"\u9488\u5bf9\u7528\u6237 \u63d0\u9ad8\u4e2a\u4eba\u5b89\u5168\u610f\u8bc6\uff0c\u6536\u53d1\u90ae\u4ef6\u65f6\u786e\u8ba4\u6536\u53d1\u6765\u6e90\u662f\u5426\u53ef\u9760\uff0c\u4e0d\u8981\u968f\u610f\u70b9\u51fb\u6216\u8005\u590d\u5236\u90ae\u4ef6\u4e2d\u7684\u7f51\u5740\uff0c\u4e0d\u8981\u8f7b\u6613\u4e0b\u8f7d\u6765\u6e90\u4e0d\u660e\u7684\u9644\u4ef6\uff0c\u5efa\u8bae\u5bf9\u964c\u751f\u4eba\u90ae\u4ef6\u4e00\u5f8b\u4e0d\u6253\u5f00\u3002 \u5c3d\u91cf\u4e0d\u5728\u975e\u53ef\u63a7\u73af\u5883\u4e0b\u767b\u5f55\u7535\u5b50\u90ae\u4ef6\uff0c\u5982\u7f51\u5427\u7684\u7535\u8111\u3001\u5176\u4ed6\u4eba\u7684\u7535\u8111\u7b49\u3002 \u786e\u4fdd\u90ae\u4ef6\u6536\u53d1\u548c\u767b\u9646\u7ec8\u7aef\u7cfb\u7edf\u7684\u73af\u5883\u5b89\u5168\uff08PC\u3001\u624b\u673a\u3001PAD\u7b49\uff09\uff0c\u53ca\u65f6\u5347\u7ea7\u66f4\u65b0\u548c\u8fdb\u884c\u6f0f\u6d1e\u8865\u4e01\u4fee\u590d\uff0c\u5b89\u88c5\u7ec8\u7aef\u5b89\u5168\u9632\u62a4\u8f6f\u4ef6\u5e76\u53ca\u65f6\u5347\u7ea7\u6253\u5f00\u76d1\u63a7\uff0c\u786e\u4fdd\u90ae\u4ef6\u6536\u53d1\u7684\u73af\u5883\u5b89\u5168\u3002 \u90ae\u7bb1\u5bc6\u7801\u5fc5\u987b\u4f7f\u7528\u5f3a\u5bc6\u7801\uff08\u4f8b\u5982\uff1a\u5bc6\u7801\u957f\u5ea6\u5927\u4e8e12\u4f4d\u5b57\u7b26\uff0c\u4e14\u5fc5\u987b\u4e3a\u6570\u5b57\u3001\u82f1\u6587\u5927\u5c0f\u5199\u5b57\u6bcd\u3001\u7279\u6b8a\u5b57\u7b26\u7ec4\u5408\uff09\uff0c\u5e76\u5b9a\u671f\u66f4\u6362\u5bc6\u7801\uff1b\u5bc6\u7801\u4e0d\u5f97\u4e0e\u5176\u4ed6\u670d\u52a1\u6df7\u7528\u3002 \u5982\u4f7f\u7528\u90ae\u4ef6\u5ba2\u6237\u7aef\uff0c\u786e\u4fdd\u5ba2\u6237\u7aef\u5b89\u88c5\u7a0b\u5e8f\u7684\u5b89\u5168\u6027\uff0c\u6309\u7167\u90ae\u4ef6\u670d\u52a1\u5668\u652f\u6301\u7684\u52a0\u5bc6\u94fe\u63a5\u65b9\u5f0f\uff08\u5982SSL\uff09\u914d\u7f6e\u90ae\u4ef6\u6536\u53d1\uff0c\u800c\u4e0d\u8981\u4f7f\u7528\u660e\u6587\u534f\u8bae\u6536\u53d1\u90ae\u4ef6\uff1b\u5bf9\u90ae\u4ef6\u5ba2\u6237\u7aef\u6570\u636e\u6587\u4ef6\u6240\u5728\u5377\uff0c\u5efa\u8bae\u91c7\u7528\u5377\u52a0\u5bc6\uff08\u5982Bitlocker\uff09\u3002 \u6d4f\u89c8\u5668\u6536\u53d1\u90ae\u4ef6\u65f6\uff0c\u9700\u8981\u4f7f\u7528HTTPS\u534f\u8bae\u767b\u9646\u4fe1\u7bb1\uff0c\u800c\u4e0d\u8981\u4f7f\u7528HTTP\u767b\u9646\u3002\u4ee5\u9632\u88ab\u55c5\u63a2\u7a83\u53d6\u8d26\u6237\u5bc6\u7801\u3002 \u6309\u7167\u7ec4\u7ec7\u89c4\u5b9a\u89c4\u8303\u8fdb\u884c\u90ae\u4ef6\u7b7e\u540d\u3002 \u90ae\u7bb1\u5730\u5740\u4e0d\u8981\u968f\u610f\u4f20\u64ad\uff0c\u51cf\u5c11\u653b\u51fb\u8005\u627e\u5230\u653b\u51fb\u5165\u53e3\u7684\u53ef\u80fd\uff1b\u5fc5\u987b\u516c\u5f00\u90ae\u4ef6\u5730\u5740\u7684\uff0c\u53ef\u4ee5\u628a@\u7b26\u53f7\u7528\u5176\u4ed6\u7b26\u53f7\u66ff\u6362\uff0c\u907f\u514d\u88ab\u722c\u866b\u722c\u53d6\u8bc6\u522b\u540e\uff0c\u6210\u4e3a\u5783\u573e\u90ae\u4ef6\u548c\u653b\u51fb\u90ae\u4ef6\u7fa4\u53d1\u7684\u76ee\u6807\u3002 \u9488\u5bf9\u4f01\u4e1a \u914d\u7f6e\u5b89\u5168\u7ba1\u7406\u548c\u4f7f\u7528\u7535\u5b50\u90ae\u4ef6\u7b56\u7565\uff1a\u5305\u62ec\u7535\u5b50\u90ae\u4ef6\u6743\u9650\u3001\u6536\u53d1\u7528\u6237\u8eab\u4efd\u8bbe\u7f6e\u3001\u7535\u5b50\u90ae\u4ef6\u5185\u5bb9\u9650\u5236\u3001\u7535\u5b50\u90ae\u4ef6\u9644\u4ef6\u8981\u6c42\u3001\u90ae\u4ef6\u4f20\u8f93\u534f\u8bae\u5b89\u5168\u3001\u5f02\u5e38\u90ae\u4ef6\u76d1\u63a7\u3001\u7528\u6237\u5907\u4efd\u548c\u5f52\u6863\u4fdd\u5b58\u7b49\uff0c\u5177\u4f53\u53ef\u53c2\u8003\u300a\u4fe1\u606f\u5b89\u5168\u7b56\u7565\u7f16\u5236\u6307\u5357-L9\u7535\u5b50\u90ae\u4ef6\u5b89\u5168\u7b56\u7565\u300b \u3002 \u4fdd\u969c\u90ae\u4ef6\u7cfb\u7edf\u6240\u5728\u7684\u7f51\u7edc\u5b89\u5168\uff1a\u5305\u62ec\u7f51\u7edc\u7ed3\u6784\u5b89\u5168\u3001\u5165\u4fb5\u9632\u8303\u548c\u5b89\u5168\u5ba1\u8ba1\u7b49\uff0c\u53ef\u53c2\u8003\u300a\u53ef\u7ba1\u7406\u7684\u7f51\u7edc\u8ba1\u5212V4.0\uff08NSA/IAD\uff09\u300b\u3002 \u4fdd\u969c\u90ae\u4ef6\u7cfb\u7edf\u8f6f\u786c\u4ef6\u5b89\u5168\uff1a\u5305\u62ec\u670d\u52a1\u5668\u3001\u64cd\u4f5c\u7cfb\u7edf\u3001\u6570\u636e\u5e93\u7684\u5b89\u5168\u9632\u8303\u7b56\u7565\uff0c\u53ef\u53c2\u8003 \u300aDISA\u5b89\u5168\u6280\u672f\u5b9e\u65bd\u6307\u5357STIG\u300b\u3002 \u786e\u4fdd\u90ae\u4ef6\u7cfb\u7edf\u7684\u7269\u7406\u548c\u7ba1\u7406\u5b89\u5168\uff1a\u5305\u62ec\u8bbf\u95ee\u63a7\u5236\u3001\u7ba1\u7406\u5236\u5ea6\u7b49\uff0c\u5177\u4f53\u53ef\u53c2\u8003 \u300aYD/T 3161-2016\u90ae\u4ef6\u7cfb\u7edf\u5b89\u5168\u9632\u62a4\u8981\u6c42\u300b\u3002","title":"\u9493\u9c7c\u90ae\u4ef6\u9632\u5fa1\u5efa\u8bae"},{"location":"infrastructure-security/network-security/office-network-security/email-security/#_5","text":"\u4f01\u4e1a\u90ae\u4ef6\u5b89\u5168\u9632\u62a4\u7ecf\u9a8c\u603b\u7ed3 \u4f01\u4e1a\u5b89\u5168\u5efa\u8bbe\u5b9e\u8df5\u4e4b\u90ae\u4ef6\u5b89\u5168 \u90ae\u4ef6\u5b89\u5168\u9632\u62a4\u5b9e\u8df5 \u6536\u5230\u201c\u6765\u81ea\u81ea\u5df1\u201d\u7684\u6572\u8bc8\u90ae\u4ef6\uff0c\u8bf7\u4e0d\u8981\u60ca\u614c \u9493\u9c7c\u90ae\u4ef6\u521d\u63a2\uff1a\u9ed1\u5ba2\u662f\u5982\u4f55\u8fdb\u884c\u90ae\u4ef6\u4f2a\u9020\u7684 \u5e38\u89c1\u7684\u9493\u9c7c\u90ae\u4ef6\u7c7b\u578b\u6709\u54ea\u4e9b","title":"\u53c2\u8003\u8d44\u6599"},{"location":"infrastructure-security/network-security/office-network-security/gophish/","text":"gophish \u5f00\u6e90\u9493\u9c7c\u5de5\u5177 \u5f00\u6e90\u9493\u9c7c\u5de5\u5177\uff1a\u652f\u6301\u914d\u7f6e\u9493\u9c7c\u90ae\u4ef6\u6a21\u677f\u3001\u516c\u53f8\u5458\u5de5\u90ae\u7bb1\u4fe1\u606f\u7b49\u7b49\uff1b github\u5730\u5740 \u5b89\u88c5\u4e0e\u4f7f\u7528 Centos7\u5b89\u88c5gophish # \u4e0b\u8f7d wget https://github.com/gophish/gophish/releases/download/0.7.1/gophish-v0.7.1-linux-64bit.zip # \u89e3\u538b\u5e76\u542f\u52a8 mkdir -p /app/gophish unzip gophish-v0.7.1-linux-64bit.zip -d /app/gophish/ cd /app/gophish/ # \u4fee\u6539\u914d\u7f6e\u6587\u4ef6\uff0c\u4fee\u6539\u76d1\u542c\u5730\u5740 # \u542f\u52a8gophish ./gophish # \u8bbf\u95ee\uff1ahttps://10.10.10.5:3333 # \u7528\u6237\u540d\uff1aadmin \u5bc6\u7801\uff1agophish # \u81f3\u6b64\u5b89\u88c5\u5b8c\u6210 \u57fa\u7840\u4f7f\u7528 \u914d\u7f6eUsers Groups \u914d\u7f6eEmail Templates \u914d\u7f6eLanding Pages \u914d\u7f6eSending Profiles \u4f7f\u7528gophish\u83b7\u53d6\u7528\u6237\u8f93\u5165\u7684\u8d26\u53f7\u5bc6\u7801 \u914d\u7f6e\u4e00\u4e2a\u7528\u4e8e\u9493\u9c7c\u7684\u9875\u9762 # \u6211\u8fd9\u91cc\u968f\u673a\u627e\u4e86\u4e00\u4e2a\u767b\u5f55\u7ad9\u70b9\u7528\u4e8e\u6d4b\u8bd5 # http://xnore.com/admin/login.php # \u70b9\u51fbimport site\uff0c\u586b\u5199\u5982\u4e0a\u7684\u7f51\u5740 # \u52fe\u9009Capture Submitted Data # \u52fe\u9009Capture Passwords # Redirect to\u586b\u5199\uff1ahttp://xnore.com/admin/login.php \u914d\u7f6e\u90ae\u4ef6\u7684\u6a21\u7248 # \u6784\u9020\u4e00\u5c01\u7528\u4e8e\u9493\u9c7c\u7684\u90ae\u4ef6 # \u67e5\u770b\u90ae\u4ef6\u6e90\u6587\u4ef6\uff0c\u590d\u5236\u6e90\u6587\u4ef6\u4fe1\u606f # \u5728\u90ae\u4ef6\u6a21\u7248\u9009\u62e9import email \u914d\u7f6eCampaigns # \u5458\u5de5\u8bbf\u95ee\u90ae\u4ef6 # \u5458\u5de5\u901a\u8fc7\u90ae\u4ef6\u4e2d\u7684\u5730\u5740\u8f93\u5165\u8d26\u53f7\u5bc6\u7801 \u4f7f\u7528\u5fc3\u5f97 \u4f18\u70b9 \u80fd\u591f\u8fdb\u884c\u4f01\u4e1a\u5185\u90e8\u5458\u5de5\u5b89\u5168\u610f\u8bc6\u57f9\u8bad\u8d77\u5230\u5f88\u597d\u7684\u8f85\u52a9\u4f5c\u7528\uff1b \u5982\u679c\u6761\u4ef6\u5141\u8bb8\u7684\u60c5\u51b5\uff0c\u53ef\u4ee5\u7ed3\u5408MSF\u8fdb\u884cPC\u5185\u7f51\u6e17\u900f\uff1b \u7f3a\u70b9 \u4e0d\u652f\u6301\u5458\u5de5\u90ae\u7bb1\u5bfc\u5165\uff0c\u5982\u679c\u9700\u8981\u8fdb\u884c\"\u6d77\u9493\"\u9700\u8981\u4e00\u4e2a\u4e00\u4e2a\u6dfb\u52a0\uff0c\u624b\u5de5\u6d3b\uff0c\u4e0d\u8fc7\u53ef\u4ee5\u901a\u8fc7\u811a\u672c\u6765\u5b9e\u73b0\uff1b \u83b7\u53d6\u7684\u7528\u6237\u4fe1\u606f\u53ea\u5305\u62ec\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c\u3001\u6d4f\u89c8\u5668\u7248\u672c\u3001\u4ee5\u53ca\u7528\u6237\u63d0\u4ea4\u7684\u6570\u636e\uff0c\u4e0d\u80fd\u7cbe\u51c6\u5b9a\u4f4d\u5230\u662f\u54ea\u4e2a\u7528\u6237\u70b9\u51fb\u4e86\u9493\u9c7c\u94fe\u63a5\uff1b \u53c2\u8003\u8d44\u6599 Automate Phishing Emails with GoPhish","title":"gophish \u5f00\u6e90\u9493\u9c7c\u5de5\u5177"},{"location":"infrastructure-security/network-security/office-network-security/gophish/#gophish","text":"\u5f00\u6e90\u9493\u9c7c\u5de5\u5177\uff1a\u652f\u6301\u914d\u7f6e\u9493\u9c7c\u90ae\u4ef6\u6a21\u677f\u3001\u516c\u53f8\u5458\u5de5\u90ae\u7bb1\u4fe1\u606f\u7b49\u7b49\uff1b github\u5730\u5740","title":"gophish \u5f00\u6e90\u9493\u9c7c\u5de5\u5177"},{"location":"infrastructure-security/network-security/office-network-security/gophish/#_1","text":"","title":"\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"infrastructure-security/network-security/office-network-security/gophish/#centos7gophish","text":"# \u4e0b\u8f7d wget https://github.com/gophish/gophish/releases/download/0.7.1/gophish-v0.7.1-linux-64bit.zip # \u89e3\u538b\u5e76\u542f\u52a8 mkdir -p /app/gophish unzip gophish-v0.7.1-linux-64bit.zip -d /app/gophish/ cd /app/gophish/ # \u4fee\u6539\u914d\u7f6e\u6587\u4ef6\uff0c\u4fee\u6539\u76d1\u542c\u5730\u5740 # \u542f\u52a8gophish ./gophish # \u8bbf\u95ee\uff1ahttps://10.10.10.5:3333 # \u7528\u6237\u540d\uff1aadmin \u5bc6\u7801\uff1agophish # \u81f3\u6b64\u5b89\u88c5\u5b8c\u6210","title":"Centos7\u5b89\u88c5gophish"},{"location":"infrastructure-security/network-security/office-network-security/gophish/#_2","text":"\u914d\u7f6eUsers Groups \u914d\u7f6eEmail Templates \u914d\u7f6eLanding Pages \u914d\u7f6eSending Profiles","title":"\u57fa\u7840\u4f7f\u7528"},{"location":"infrastructure-security/network-security/office-network-security/gophish/#gophish_1","text":"\u914d\u7f6e\u4e00\u4e2a\u7528\u4e8e\u9493\u9c7c\u7684\u9875\u9762 # \u6211\u8fd9\u91cc\u968f\u673a\u627e\u4e86\u4e00\u4e2a\u767b\u5f55\u7ad9\u70b9\u7528\u4e8e\u6d4b\u8bd5 # http://xnore.com/admin/login.php # \u70b9\u51fbimport site\uff0c\u586b\u5199\u5982\u4e0a\u7684\u7f51\u5740 # \u52fe\u9009Capture Submitted Data # \u52fe\u9009Capture Passwords # Redirect to\u586b\u5199\uff1ahttp://xnore.com/admin/login.php \u914d\u7f6e\u90ae\u4ef6\u7684\u6a21\u7248 # \u6784\u9020\u4e00\u5c01\u7528\u4e8e\u9493\u9c7c\u7684\u90ae\u4ef6 # \u67e5\u770b\u90ae\u4ef6\u6e90\u6587\u4ef6\uff0c\u590d\u5236\u6e90\u6587\u4ef6\u4fe1\u606f # \u5728\u90ae\u4ef6\u6a21\u7248\u9009\u62e9import email \u914d\u7f6eCampaigns # \u5458\u5de5\u8bbf\u95ee\u90ae\u4ef6 # \u5458\u5de5\u901a\u8fc7\u90ae\u4ef6\u4e2d\u7684\u5730\u5740\u8f93\u5165\u8d26\u53f7\u5bc6\u7801","title":"\u4f7f\u7528gophish\u83b7\u53d6\u7528\u6237\u8f93\u5165\u7684\u8d26\u53f7\u5bc6\u7801"},{"location":"infrastructure-security/network-security/office-network-security/gophish/#_3","text":"","title":"\u4f7f\u7528\u5fc3\u5f97"},{"location":"infrastructure-security/network-security/office-network-security/gophish/#_4","text":"\u80fd\u591f\u8fdb\u884c\u4f01\u4e1a\u5185\u90e8\u5458\u5de5\u5b89\u5168\u610f\u8bc6\u57f9\u8bad\u8d77\u5230\u5f88\u597d\u7684\u8f85\u52a9\u4f5c\u7528\uff1b \u5982\u679c\u6761\u4ef6\u5141\u8bb8\u7684\u60c5\u51b5\uff0c\u53ef\u4ee5\u7ed3\u5408MSF\u8fdb\u884cPC\u5185\u7f51\u6e17\u900f\uff1b","title":"\u4f18\u70b9"},{"location":"infrastructure-security/network-security/office-network-security/gophish/#_5","text":"\u4e0d\u652f\u6301\u5458\u5de5\u90ae\u7bb1\u5bfc\u5165\uff0c\u5982\u679c\u9700\u8981\u8fdb\u884c\"\u6d77\u9493\"\u9700\u8981\u4e00\u4e2a\u4e00\u4e2a\u6dfb\u52a0\uff0c\u624b\u5de5\u6d3b\uff0c\u4e0d\u8fc7\u53ef\u4ee5\u901a\u8fc7\u811a\u672c\u6765\u5b9e\u73b0\uff1b \u83b7\u53d6\u7684\u7528\u6237\u4fe1\u606f\u53ea\u5305\u62ec\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c\u3001\u6d4f\u89c8\u5668\u7248\u672c\u3001\u4ee5\u53ca\u7528\u6237\u63d0\u4ea4\u7684\u6570\u636e\uff0c\u4e0d\u80fd\u7cbe\u51c6\u5b9a\u4f4d\u5230\u662f\u54ea\u4e2a\u7528\u6237\u70b9\u51fb\u4e86\u9493\u9c7c\u94fe\u63a5\uff1b","title":"\u7f3a\u70b9"},{"location":"infrastructure-security/network-security/office-network-security/gophish/#_6","text":"Automate Phishing Emails with GoPhish","title":"\u53c2\u8003\u8d44\u6599"},{"location":"miscellaneous/jsrc-1/","text":"\u767d\u5e3d\u5b50\u8f6c\u578b\u7532\u65b9\u6742\u7eea 1.\u4f01\u4e1a\u5b89\u5168\u5efa\u8bbe\u6db5\u76d6\u7684\u5185\u5bb9 \u5b89\u5168\u662f\u4e00\u95e8\u542b\u4e49\u5f88\u5e7f\u7684\u5b66\u79d1\uff0c\u4fe1\u606f\u5b89\u5168\u3001\u7f51\u7edc\u5b89\u5168\u3001\u7f51\u7edc\u7a7a\u95f4\u5b89\u5168\u7b49\u90fd\u662f\u5b89\u5168\u4e2d\u7684\u4e00\u4e2a\u5206\u652f\uff0c\u6709\u4ea4\u96c6\u5374\u4e5f\u6709\u4e0d\u540c\u3002 \u5bf9\u4e8e\u7532\u65b9\u4f01\u4e1a\u5b89\u5168\u6765\u8bf4\uff0c\u901a\u5e38\u53c8\u5206\u4e3a\uff1a\u5b89\u5168\u4f53\u7cfb\uff08\u7b49\u4fdd\u3001\u5408\u89c4\u3001\u5ba1\u8ba1\uff09\u3001\u57fa\u7840\u8bbe\u65bd\u5b89\u5168\uff08\u4e3b\u673a\u3001\u7f51\u7edc\u3001\u7ec8\u7aef\uff09\u3001\u5e94\u7528\u5b89\u5168\uff08Web\u3001\u79fb\u52a8\uff09\u3001\u4e1a\u52a1\u5b89\u5168\uff08\u8d26\u6237\u3001\u4ea4\u6613\u3001\u5185\u5bb9\u3001\u6d3b\u52a8\uff09\u3001\u5b89\u5168\u8fd0\u8425\uff08\u5e94\u6025\u54cd\u5e94\u3001\u5b89\u5168\u57f9\u8bad\uff09\u3001\u6570\u636e\u5b89\u5168\uff08\u52a0\u5bc6\u3001\u8131\u654f\u3001\u5b58\u50a8\uff09\u7b49\u7b49\uff0c\u4e0d\u540c\u4f01\u4e1a\u5728\u4e0d\u540c\u7684\u53d1\u5c55\u9636\u6bb5\u6240\u4fa7\u91cd\u7684\u5b89\u5168\u70b9\u4e5f\u4e0d\u4e00\u81f4\u3002 \u5728\u4e0a\u8ff0\u7684\u6bcf\u4e00\u4e2a\u7c7b\u578b\u4e2d\u6709\u5f88\u591a\u5b50\u7c7b\uff0c\u6bcf\u4e2a\u5b50\u7c7b\u90fd\u6709\u4e00\u4e2a\u5faa\u5e8f\u6e10\u8fdb\u7684\u8def\u7ebf\uff0c\u6bd4\u5982\uff1a\u5b89\u5168\u6d4b\u8bd5\u5de5\u4f5c \u5b89\u5168\u6d4b\u8bd5\u4e00\u822c\u5206\u4e3a\u5b9a\u671f\u7684\u5b89\u5168\u5de1\u68c0\u3001\u65b0\u4e1a\u52a1/\u65b0\u529f\u80fd\u4e0a\u7ebf\u524d\u7684\u5b89\u5168\u6d4b\u8bd5\uff0c\u5b89\u5168\u6d4b\u8bd5\u5728\u5e94\u7528\u5b89\u5168\u4e2d\u7b97\u662f\u4e00\u4e2a\u6bd4\u8f83\u5c0f\u7684\u70b9\u3002\u4f46\u662f\u6211\u4eec\u901a\u8fc7\u4e00\u5b9a\u65f6\u95f4\u7684\u5b89\u5168\u6d4b\u8bd5\uff0c\u6574\u7406\u6211\u4eec\u901a\u8fc7\u5b89\u5168\u6d4b\u8bd5\u6240\u53d1\u73b0\u7684\u6f0f\u6d1e\u5f97\u51fa\u51fa\u73b0\u6f0f\u6d1e\u7684\u539f\u56e0\uff0c\u5f62\u6210\u8bbe\u8ba1\u89c4\u8303\uff0c\u7f16\u7801\u89c4\u8303\u8fdb\u884c\u63a8\u5e7f\u5230\u7814\u53d1\u56e2\u961f\u3001\u4ea7\u54c1\u56e2\u961f\uff0c\u5e76\u9010\u6b65\u53c2\u4e0e\u5230\u4ea7\u54c1\u7684\u6574\u4e2a\u6d41\u7a0b\u4e2d\uff0c\u8fd9\u6837\u5c31\u65e0\u5f62\u4e2d\u63a8\u52a8\u4e86\"S-SDL\"\u3002 \u5b89\u5168\u662f\u4e00\u6761\u6f2b\u957f\u7684\u8def\uff0c\u4e00\u6b65\u4e00\u4e2a\u811a\u5370\u5f88\u91cd\u8981\uff01 2.\u4ece\u767d\u5e3d\u5b50\u8f6c\u578b\u7684\u601d\u8def \u76ee\u524d\u5f88\u591a\u4f01\u4e1a\u4e2d\u7684\u5b89\u5168\u5de5\u7a0b\u5e08\u5927\u90e8\u5206\u90fd\u662f\u7531\u767d\u5e3d\u5b50\u8f6c\u578b\u8fc7\u6765\u7684\uff0c\u4f46\u662f\u7531\u4e8e\u6f0f\u6d1e\u6316\u6398\u4e0e\u7532\u65b9\u5b89\u5168\u5efa\u8bbe\u8fd8\u662f\u5b58\u5728\u5f88\u5927\u7684\u5dee\u5f02\uff0c\u6240\u4ee5\u6211\u4eec\u5728\u8f6c\u578b\u7684\u65f6\u5019\u9700\u8981\u505a\u597d\u51e0\u4ef6\u4e8b\uff1a \u505a\u81ea\u5df1\u64c5\u957f\u7684\u4e8b\u60c5 \uff1a\u5b89\u5168\u6d4b\u8bd5\uff08\u6f0f\u6d1e\u6316\u6398\uff09\uff0c\u8fd9\u91cc\u7684\u5b89\u5168\u6d4b\u8bd5\u9700\u8981\u66f4\u5168\u9762\u7684\u8fdb\u884c\uff0c\u56e0\u4e3a\u7532\u65b9\u5b89\u5168\u4e2d\u9700\u8981\u9632\u5fa1\u6240\u6709\u7684\u9762\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u70b9\u3002 \u901a\u8fc7\u95ee\u9898\u770b\u672c\u8d28 \uff1a\u5982\u679c\u4e1a\u52a1\u7cfb\u7edf\u4e2d\u957f\u671f\u5b58\u5728SQL\u6ce8\u5165\u3001XSS\uff0c\u90a3\u4e48\u8bf4\u660e\u7814\u53d1\u5bf9\u4e8e\u5b89\u5168\u7684\u8ba4\u77e5\u8fd8\u4e0d\u591f\uff0c\u6211\u4eec\u8fd9\u4e2a\u65f6\u5019\u9700\u8981\u534f\u52a9\u6765\u63a8\u52a8\u5b89\u5168\u7f16\u7801\u89c4\u8303\u3002\u5f88\u5927\u7a0b\u5ea6\u4e0a\uff0c\u63a8\u52a8\u5b89\u5168\u7f16\u7801\u89c4\u8303\u662f\u5f88\u96be\u7684\u4e8b\u60c5\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u8f6c\u6362\u601d\u8def\u6765\u63a8\u52a8\u5b89\u5168\u5f00\u53d1\u7ea2\u7ebf\uff1b\u5982\u679c\u670d\u52a1\u5668\u957f\u671f\u88ab\u5165\u4fb5\u3001\u88ab\u6316\u77ff\uff0c\u90a3\u4e48\u8bf4\u660e\u8fd0\u7ef4\u5bf9\u4e8e\u670d\u52a1\u5668\u7684\u5b89\u5168\u505a\u7684\u4e0d\u591f\u597d\uff0c\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u53ef\u4ee5\u5e2e\u52a9\u8fd0\u7ef4\u4e00\u8d77\u63a8\u52a8\u670d\u52a1\u5668\u5b89\u5168\u57fa\u7ebf\u7b49\u3002 \u521d\u671f\u8981\u505a\u7684 \uff1a\u5b9a\u597d\u5b97\u65e8\uff0c\u4e0e\"\u8001\u677f\"(\u8fd9\u91cc\u7684\u8001\u677f\u8981\u80fd\u591f\u76f4\u63a5\u6216\u95f4\u63a5\u51b3\u5b9a\u516c\u53f8\u6574\u4f53\u5b89\u5168\u5efa\u8bbe\u7684\u8def\u7ebf\u8def)\u786e\u5b9a\u597d\u77ed\u4e2d\u957f\u671f\u76ee\u6807\uff0c\u8fd9\u91cc\u7684\u6bcf\u4e00\u4e2a\u76ee\u6807\u6211\u4eec\u90fd\u9700\u8981\u9884\u7559\u51fa\u8db3\u591f\u7684\u65f6\u95f4\uff0c\u8981\u8003\u8651\u5230\u5404\u79cd\u53ef\u80fd\u5f71\u54cd\u76ee\u6807\u8fbe\u6210\u7684\u56e0\u7d20\u3002 3+1 \uff1a\u8fd9\u91cc\u76843\u6307\u7684\u662f\"\u4e92\u8054\u7f51\u4f01\u4e1a\u5b89\u5168\u9ad8\u7ea7\u6307\u5357\"\u4e2d\u7b2c\u4e09\u7ae0\u63d0\u5230\u76843\u5f20\u8868\u3002\u8fd9\u91cc\u76841\u6307\u7684\u662f\"\u6743\u9650\u68b3\u7406\"\uff0c\u5982\u679c\u524d\u671f\u4f60\u901a\u8fc7\u6f0f\u6d1e\u6316\u6398\u3001\u6e17\u900f\u6d4b\u8bd5\u6ca1\u6709\u53d1\u73b0\u516c\u53f8\u7684\u4e1a\u52a1\u7cfb\u7edf\u5b58\u5728\u5f88\u5927\u7684\u5b89\u5168\u9690\u60a3\uff0c\u90a3\u4e48\u6211\u4eec\u8fd9\u4e2a\u65f6\u5019\u53ef\u4ee5\u6765\u505a\u8fd9\u4ef6\u4e8b\uff0c\u63a8\u52a8\u6743\u9650\u68b3\u7406\u9700\u8981\u8ddf\u9886\u5bfc\u62a5\u5907\u518d\u8fdb\u884c\uff0c\u8fd9\u662f\u4e00\u4e2a\u4e0d\u80fd\u7acb\u7aff\u89c1\u5f71\u7684\u5b89\u5168\u9879\u76ee\uff0c\u4f46\u662f\u505a\u597d\u5b83\u6211\u4eec\u80fd\u591f\u53d1\u73b0\u5f88\u591a\u4f01\u4e1a\u4e2d\u53ef\u80fd\u5b58\u5728\u7684\u98ce\u9669\u70b9\uff0c\u91cd\u70b9\u5173\u6ce8\u5982\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a \u4ece\u5458\u5de5\u7684\u89d2\u5ea6\u51fa\u53d1 \uff1a\u6bcf\u4e2a\u5458\u5de5\u62e5\u6709\u54ea\u4e9b\u6743\u9650\uff1f\u6bcf\u4e2a\u62e5\u6709\u7684\u6743\u9650\u662f\u5426\u5408\u7406\uff1f \u4ece\u4e1a\u52a1\u7cfb\u7edf\u7684\u89d2\u5ea6\u51fa\u53d1 \uff1a\u4e1a\u52a1\u7cfb\u7edf\u7684\u7528\u6237\u7fa4\u4f53\u662f\u4ec0\u4e48\uff1fACL\u662f\u5426\u6b63\u786e\uff1f\u62e5\u6709\u7cfb\u7edf\u6743\u9650\u7684\u662f\u54ea\u4e9b\u4eba\uff1f\uff08\u8fd9\u4e2a\u5730\u65b9\u53ef\u4ee5\u4e0e\u7b2c\u4e00\u4e2a\u89d2\u5ea6\u8fdb\u884c\u4ea4\u53c9\u5bf9\u6bd4\uff0c\u67e5\u770b\u4e24\u8005\u662f\u5426\u6709\"\u6f0f\u70b9\"\uff09 \u4ece\u6743\u9650\u8bbe\u8ba1\u7684\u89d2\u5ea6\u51fa\u53d1 \uff1a\u5982\u679c\u7cfb\u7edf\u62e5\u6709\u8d85\u7ea7\u7ba1\u7406\u5458\u3001\u7ba1\u7406\u5458\u3001\u5ba1\u6838\u5458\u3001\u5ba2\u670d4\u4e2a\u89d2\u8272\uff0c\u90a3\u4e48\u662f\u5426\u5b58\u5728\u8d8a\u6743\u64cd\u4f5c\u7684\u89d2\u8272\u7528\u6237\uff1f 3.\u4f01\u4e1a\u5b89\u5168\u5efa\u8bbe\u7684\u6280\u80fd\u6210\u957f \u4efb\u4f55\u4eba\u90fd\u4e0d\u662f\u4e00\u5f00\u59cb\u5c31\u7cbe\u901a\u5404\u79cd\u6280\u80fd\uff0c\u6211\u4eec\u5e94\u8be5\u505a\u7684\u5c31\u662f\u627e\u5bf9\u5408\u7406\u7684\u8def\u7ebf\u5e76\u575a\u6301\u5b66\u4e60\u4e0b\u53bb\uff0c\u7ec8\u6709\u4e00\u5929\u80fd\u591f\u5b66\u6709\u6240\u6210\uff0c\u5f53\u7136\u6709\u4e00\u4e2a\u5408\u9002\u7684\u5b66\u4e60\u8ba1\u5212\u5f88\u91cd\u8981\uff1b \u9009\u62e9\u9002\u5408\u81ea\u5df1\u7684\u8def \uff1a\u7532\u65b9\u4f01\u4e1a\u5b89\u5168\u5728\u7b2c\u4e00\u4e2a\u95ee\u9898\u56de\u7b54\u4e86\u6709\u5f88\u591a\u5206\u7c7b\uff0c\u6bcf\u4e2a\u4eba\u4e5f\u6709\u81ea\u5df1\u64c5\u957f\u7684\u5730\u65b9\uff0c\u5982\u679c\u4f60\u5bf9\u653b\u9632\u6280\u672f\u5f88\u611f\u5174\u8da3\uff0c\u90a3\u4e48\u4f60\u53ef\u4ee5\u671d\u7740\u7ea2\u84dd\u5bf9\u6297\u7684\u65b9\u5411\u8d70\uff1b\u5982\u679c\u4f60\u5bf9\u64cd\u4f5c\u7cfb\u7edf\u6bd4\u8f83\u654f\u611f\u4e5f\u53ef\u4ee5\u52aa\u529b\u94bb\u7814\u4e3b\u673a\u5b89\u5168\u3001\u5e94\u6025\u54cd\u5e94\u7b49\u3002 \u5b66\u4e60\u7684\u65b9\u5f0f \uff1a\u9605\u8bfb\u6587\u6863\uff0c\u5173\u4e8e\u7532\u65b9\u5b89\u5168\u6709\u592a\u591a\u592a\u591a\u7684\u8d44\u6599\u53ef\u4ee5\u4f9b\u6211\u4eec\u53bb\u5b66\u4e60\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u4f4e\u4e00\u70b9\u7684\u57fa\u7840\u4e0a\u627e\u5230\u8fd9\u4e9b\u6587\u6863\u8fdb\u5165\u6df1\u5165\u89e3\u8bfb\u79ef\u7d2f\u6210\u4e3a\u81ea\u5df1\u7684\u77e5\u8bc6\uff1b\u53c2\u52a0\u6c99\u9f99\u6216\u8bb2\u5ea7\uff0c\u5bf9\u4e8e\u5cf0\u4f1a\u3001\u6c99\u9f99\u6216\u8bb2\u5ea7\u53ef\u4ee5\u4f18\u5148\u786e\u5b9a\u662f\u5426\u6709\u81ea\u5df1\u559c\u6b22\u7684\u8bae\u9898\uff0c\u4e13\u5fc3\u53bb\u8046\u542c\u5206\u4eab\u8005\u7684\u8bb2\u8bc9\uff0c\u4e00\u6b21\u4f1a\u8bae\u80fd\u591f\u771f\u6b63\u5b66\u52301-3\u4e2a\u8bae\u9898\u7684\u7cbe\u9ad3\u5c31\u8db3\u591f\u4e86\uff1b\u4e92\u76f8\u4ea4\u6d41\uff0c\u4e0d\u540c\u516c\u53f8\u5728\u4e0d\u540c\u5b89\u5168\u4e0a\u53ef\u80fd\u6709\u4e0d\u540c\uff0c\u4f46\u4e07\u53d8\u4e0d\u79bb\u5176\u5b97\u89e3\u51b3\u95ee\u9898\u7684\u672c\u8d28\u601d\u8def\u4e5f\u884c\u8fd8\u662f\u4e00\u81f4\u7684\uff0c\u6240\u4ee5\u9002\u5f53\u4e0e\u540c\u884c\u4e1a\u751a\u81f3\u8de8\u884c\u4e1a\u7684\u5b89\u5168\u670b\u53cb\u8fdb\u884c\u63a2\u8ba8\u4e5f\u662f\u5feb\u901f\u5b66\u4e60\u7684\u65b9\u5f0f\u3002 \u7eb8\u4e0a\u5f97\u6765\u7ec8\u89c9\u6d45 \u7edd\u77e5\u6b64\u4e8b\u8981\u8eac\u884c \uff1a\u5b9e\u6218\u7ecf\u9a8c\uff0c\u8d44\u6599\u770b\u7684\u518d\u591a\uff0c\u4e0e\u4eba\u4e89\u8bba\u7684\u53e3\u82e5\u60ac\u6cb3\u90fd\u4e0d\u5982\u81ea\u5df1\u5b9e\u6218\u4e00\u6b21\uff0c\u5b89\u5168\u9879\u76ee\u53ea\u6709\u5728\u63a8\u52a8\u8fc7\u7a0b\u4e2d\u4e0d\u65ad\u4ece\u4e00\u4e2a\u5751\u722c\u5230\u53e6\u5916\u4e00\u4e2a\u5751\uff0c\u6211\u4eec\u7684\u6280\u80fd\u624d\u80fd\u5feb\u901f\u6210\u957f\u3002\u4e0d\u8981\u6015\u8e29\u5751\uff0c\u5982\u679c\u4f60\u7684\u9879\u76ee\u63a8\u52a8\u7684\u4e00\u5e06\u98ce\u987a\uff0c\u4e5f\u8bb8\u662f\u4f60\u6ca1\u6709\u8fdb\u884c\u5145\u5206\u7684\u95ee\u9898\u9884\u4f30\u3002 \u5e73\u53f0\u9009\u62e9 \uff1a\u5927\u5e73\u53f0\u4e0e\u5c0f\u5e73\u53f0\u5404\u6709\u4f18\u52bf\uff0c\u4e5f\u5404\u6709\u52a3\u52bf\u3002\u5927\u5e73\u53f0\u7684\u4f18\u52bf\u662f\u89c6\u91ce\u4ee5\u53ca\u4f60\u6240\u80fd\u9047\u5230\u7684\u6d41\u91cf\u3001\u573a\u666f\u90fd\u4e0d\u662f\u5c0f\u516c\u53f8\u80fd\u7ed9\u4f60\u7684\uff1b\u5c0f\u516c\u53f8\u7684\u4f18\u52bf\u662f\u4f60\u80fd\u63a5\u89e6\u5230\u9762\u8981\u5e7f\u4e00\u4e9b\uff0c\u4f46\u662f\u5bb9\u6613\u6742\u800c\u4e0d\u7cbe\uff0c\u4f46\u662f\u5982\u679c\u4f60\u80fd\u5408\u7406\u5206\u914d\u4f60\u7684\u7cbe\u529b\u4e5f\u662f\u6ca1\u6709\u95ee\u9898\u7684\u3002 4.\u5982\u4f55\u505a\u597d\u5b89\u5168\u9879\u76ee \u56fd\u5185\u5927\u90e8\u5206\u4f01\u4e1a\u63a8\u52a8\u5b89\u5168\u9879\u76ee\u662f\u5408\u89c4\u9a71\u52a8\u548c\u4e8b\u4ef6\u9a71\u52a8\uff0c\u90a3\u4e48\u6211\u4eec\u5728\u63a8\u52a8\u5b89\u5168\u9879\u76ee\u7684\u8fc7\u7a0b\u4e2d\u5e94\u8be5\u5982\u4f55\u6765\u505a\uff1a \u505a\u9879\u76ee\u76845\u8981\u7d20 \u4e3a\u4ec0\u4e48\u8fd9\u4e48\u505a\uff1f\u80cc\u666f\uff08\u6211\u4eec\u9047\u5230\u4e86\u4ec0\u4e48\u6837\u7684\u56f0\u96be\u5bfc\u81f4\u6211\u4eec\u8981\u8fd9\u4e48\u505a\uff09 \u505a\u4e86\u4ee5\u540e\u7684\u597d\u5904\u662f\u4ec0\u4e48\uff1f\u76ee\u6807 \u8c01\u6765\u505a\uff0c\u600e\u4e48\u505a\uff0c\u4ec0\u4e48\u65f6\u95f4\u505a\uff1f\u8fc7\u7a0b \u505a\u8fd9\u4ef6\u4e8b\u53ef\u80fd\u9047\u5230\u7684\u95ee\u9898\u6709\u54ea\u4e9b\uff1f\u9884\u4f30\u98ce\u9669 \u662f\u5426\u662f\u6700\u4f18\u7684\u89e3\u51b3\u65b9\u6848\uff1f\u5982\u679c\u4e0d\u662f\u884c\u4e1a\u6700\u4f18\u89e3\u51b3\u65b9\u6848\uff0c\u6211\u4eec\u4e3a\u4ec0\u4e48\u8981\u9009\u62e9\u8fd9\u4e2a\u65b9\u6848 \u9879\u76ee\u63a8\u52a8 \u505a\u597d\u9879\u76ee\u9884\u6848\u540e\uff0c\u8981\u5c06\u6574\u4e2a\u9879\u76ee\u7684\u63a8\u52a8\u8fc7\u7a0b\u62c6\u5206\u6210\u591a\u4e2a\u9636\u6bb5\uff0c\u5b9a\u597d\u6bcf\u4e2a\u9636\u6bb5\u7684\u65f6\u95f4\u8282\u70b9\uff0c\u6bcf\u4e2a\u9636\u6bb5\u7684\u65f6\u95f4\u8282\u70b9\u9700\u8981\u9884\u7559\u8db3\u591f\u7684\u65f6\u95f4\u3002 \u5728\u6bcf\u4e00\u4e2a\u65f6\u95f4\u8282\u70b9\u8fdb\u884c\u603b\u7ed3\u4f1a\u8bae\uff0c\u4e0a\u4e00\u9636\u6bb5\u7684\u5b8c\u6210\u60c5\u51b5\uff0c\u5982\u679c\u672a\u5b8c\u6210\u539f\u56e0\u662f\u4ec0\u4e48\uff1f\u672c\u9636\u6bb5\u7684\u9884\u671f\u7b49\u3002 \u4e3e\u4e2a\u6817\u5b50 \u63a8\u52a8\u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b\u9879\u76ee\uff1a \u80cc\u666f\uff1a\u591a\u6b21\u9047\u5230\u4e86\u4e3b\u673a\u88ab\u5165\u4fb5\u6316\u77ff\u7684\u5b89\u5168\u4e8b\u4ef6\uff1b \u76ee\u6807\uff1a\u53ca\u65f6\u53d1\u73b0\u4e3b\u673a\u88ab\u653b\u51fb\u6216\u88ab\u5165\u4fb5\uff1b \u8fc7\u7a0b\uff1a \u8c03\u7814\uff1a \u8c03\u7814\u5185\u5bb9\uff1a\u529f\u80fd\u3001\u5bf9\u7cfb\u7edf\u7684\u6027\u80fd\u5f71\u54cd\u3001\u5b89\u5168\u6027\u3001\u90e8\u7f72\u96be\u6613\u7a0b\u5ea6\u3001\u7ba1\u7406\u96be\u6613\u7a0b\u5ea6\u3001\u53ef\u6269\u5c55\u6027 \u8c03\u7814\u4ea7\u54c1\uff1a\u5f00\u6e90\uff08ossec\u3001wazuh\u3001osquery\u3001\u9a6d\u9f99\uff09\u3001\u5546\u4e1a\uff08\u5b89\u9a91\u58eb\uff09 \u90e8\u7f72\u65b9\u5f0f\uff1a \u81ea\u52a8\u5316\u90e8\u7f72\u5b9e\u73b0\u65b9\u6848\u3002 \u8c01\u6765\u90e8\u7f72\uff1a \u5b89\u5168\u8d1f\u8d23\u5165\u4fb5\u68c0\u6d4b\u670d\u52a1\u7aef\uff0c\u670d\u52a1\u5668\u7cfb\u7edf\u521d\u59cb\u5316\u65f6\u90e8\u7f72\u5165\u4fb5\u68c0\u6d4b\u5ba2\u6237\u7aef\u3002 \u65f6\u95f4\u8282\u70b9\uff1a \u6d4b\u8bd5-- \u6d4b\u8bd5\u73af\u5883-- \u975e\u6838\u5fc3\u4e1a\u52a1\u73af\u5883-- \u6838\u5fc3\u4e1a\u52a1\u73af\u5883\uff08\u6839\u636e\u670d\u52a1\u5668\u6570\u91cf\u6765\u786e\u5b9a\u65f6\u95f4\u8282\u70b9\uff09\u3002 \u98ce\u9669\u9884\u4f30\uff1a\u5ba2\u6237\u7aef\u5bf9\u670d\u52a1\u5668\u7cfb\u7edf\u6027\u80fd\u4ea7\u751f\u5f71\u54cd\u5982\u4f55\u5feb\u901f\u5378\u8f7d\uff1b\u8bef\u62a5\u592a\u591a\u5982\u4f55\u5904\u7406\uff1b\u2026\u2026 \u5728\u63a8\u52a8\u5b89\u5168\u9879\u76ee\u4e0e\u5176\u5b83\u7684\u4e1a\u52a1\u9879\u76ee\u4e0d\u4e00\u6837\u7684\u662f\uff0c\u90e8\u5206\u5b89\u5168\u9879\u76ee\u4f1a\u5bf9\u516c\u53f8\u7684\u4e1a\u52a1\u7cfb\u7edf\u4ea7\u751f\u5f71\u54cd\uff0c\u6bd4\u5982\uff1a\u4e0aWAF\u9700\u8981\u8003\u8651\u5bf9\u4e1a\u52a1\u9020\u6210\u7684\u5ef6\u65f6\uff0cWAF\u80fd\u627f\u53d7\u7684\u6700\u5927\u8bbf\u95ee\u91cf\uff1b\u626b\u63cf\u5668\u9700\u8981\u8003\u8651\u4ea7\u751f\u7684\u810f\u6570\u636e\uff0c\u90e8\u5206\u626b\u63cf\u884c\u4e3a\u4f1a\u9020\u6210DoS\u7684\u6548\u679c\u7b49\u3002 5.\u5f00\u6e90\u8fd8\u662f\u5546\u4e1a \u4e00\u53e5\u8bdd\u603b\u7ed3\uff1a\u6709\u94b1\u4e70\u4ea7\u54c1\u3001\u6ca1\u94b1\u5c31\u5f00\u6e90\u3001\u4eba\u5c11\u76f4\u63a5\u7528\uff0c\u4eba\u591a\u81ea\u5df1\u6539\u3002 \u5f88\u591a\u4eba\u5b58\u5728\u8bef\u533a\uff1a\u5f00\u6e90\u633a\u597d\u7684\uff0c\u8282\u7ea6\u94b1\u4e0d\u7528\u627e\u8001\u677f\u8981\u9884\u7b97\uff0c\u5176\u5b9e\u5f00\u6e90\u6709\u5f88\u591a\u95ee\u9898\uff1a \u5b89\u5168\u6027 \uff1a\u5b89\u5168\u5f00\u6e90\u4ea7\u54c1\u672c\u8eab\u7684\u5b89\u5168\u6027\uff0c\u6211\u4eec\u5728\u4f7f\u7528\u5f00\u6e90\u4ea7\u54c1\u7684\u65f6\u5019\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u90fd\u662f\u6ca1\u6709\u5bf9\u4ea7\u54c1\u672c\u8eab\u8fdb\u884c\u5b89\u5168\u6027\u5ba1\u6838\uff1b \u6301\u7eed\u7ef4\u62a4 \uff1a\u76ee\u524d\u56fd\u5185\u5f00\u6e90\u4ea7\u54c1\u5448\u73b0\u51fa\u4e00\u4e2a\u6bd4\u8f83\u4e25\u91cd\u95ee\u9898\u5c31\u662f\u6ca1\u6709\u957f\u65f6\u95f4\u7ef4\u62a4\uff0c\u5982\u679c\u6211\u4eec\u4f7f\u7528\u56fd\u5185\u7684\u5f00\u6e90\u4ea7\u54c1\uff0c\u540e\u7eed\u8fd8\u662f\u9700\u8981\u4e8c\u6b21\u5f00\u53d1\u3002 \u6210\u672c\u9ad8 \uff1a\u6210\u672c=\u91c7\u8d2d\u6210\u672c+\u8fd0\u7ef4\u6210\u672c+\u66f4\u65b0\u6210\u672c\uff0c\u5f00\u6e90\u4ea7\u54c1\u6ca1\u6709\u91c7\u8d2d\u6210\u672c\uff0c\u4f46\u662f\u8fd0\u7ef4\u6210\u672c\u4e0e\u66f4\u65b0\u6210\u672c\u8fdc\u8fdc\u9ad8\u4e8e\u5546\u4e1a\u4ea7\u54c1\uff1b \u517c\u5bb9\u6027 \uff1a\u6211\u4eec\u53ef\u80fd\u9009\u62e9\u4e86\u4e0d\u6b62\u4e00\u6b3e\u5f00\u6e90\u4ea7\u54c1\uff0c\u5982\u4f55\u628a\u8fd9\u4e9b\u5b89\u5168\u4ea7\u54c1\u96c6\u6210\u8d77\u6765\u662f\u6211\u4eec\u5934\u75bc\u7684\u4e8b\u60c5\uff1b \u90a3\u4e48\u5546\u4e1a\u4ea7\u54c1\u5982\u4f55\u4e70\uff1f\u4e2a\u4eba\u610f\u89c1\uff1a\u76ee\u524d\u516c\u53f8\u6240\u5b58\u5728\u7684\u98ce\u9669\u6025\u9700\u4e00\u6b3e\u4ea7\u54c1\u6765\u89e3\u51b3\uff1b\u80fd\u5e26\u6765\u76f4\u63a5\u6216\u95f4\u63a5\u7684\u5b89\u5168\u80fd\u529b\u63d0\u5347\u3002\u8fd9\u90fd\u662f\u9488\u5bf9\u5b89\u5168\u7ecf\u8d39\u5e76\u4e0d\u5145\u8db3\uff0c\u4e1a\u5185\u8fd8\u6709\u4e00\u79cd\u9a71\u52a8\u5b89\u5168\u9879\u76ee\u7684\u4e3a\u6d88\u8d39\u578b\u9a71\u52a8\uff0c\u4ed6\u4eec\u4e0d\u5b58\u5728\u8fd9\u4e9b\uff0c\u4e70\u5c31\u597d\uff01 \u5b89\u5168\u5c31\u50cf\u662f\u764c\u75c7\u4e00\u6837\uff0c\u5bf9\u513f\u4e8c\u8005\u800c\u8a00\u53ca\u65e9\u53d1\u73b0\u95ee\u9898\u5747\u80fd\u51cf\u5c11\u5176\u9020\u6210\u7684\u7834\u574f\uff0c\u4f46\u80fd\u5426\u627e\u5230\u5b8c\u7f8e\u89e3\u51b3\u65b9\u6848\u662f\u4e2a\u7591\u95ee\u3002--\u9c81\u8fea-\u9f50\u5170\u5c3c","title":"\u767d\u5e3d\u5b50\u8f6c\u578b\u7532\u65b9\u6742\u7eea"},{"location":"miscellaneous/jsrc-1/#_1","text":"","title":"\u767d\u5e3d\u5b50\u8f6c\u578b\u7532\u65b9\u6742\u7eea"},{"location":"miscellaneous/jsrc-1/#1","text":"\u5b89\u5168\u662f\u4e00\u95e8\u542b\u4e49\u5f88\u5e7f\u7684\u5b66\u79d1\uff0c\u4fe1\u606f\u5b89\u5168\u3001\u7f51\u7edc\u5b89\u5168\u3001\u7f51\u7edc\u7a7a\u95f4\u5b89\u5168\u7b49\u90fd\u662f\u5b89\u5168\u4e2d\u7684\u4e00\u4e2a\u5206\u652f\uff0c\u6709\u4ea4\u96c6\u5374\u4e5f\u6709\u4e0d\u540c\u3002 \u5bf9\u4e8e\u7532\u65b9\u4f01\u4e1a\u5b89\u5168\u6765\u8bf4\uff0c\u901a\u5e38\u53c8\u5206\u4e3a\uff1a\u5b89\u5168\u4f53\u7cfb\uff08\u7b49\u4fdd\u3001\u5408\u89c4\u3001\u5ba1\u8ba1\uff09\u3001\u57fa\u7840\u8bbe\u65bd\u5b89\u5168\uff08\u4e3b\u673a\u3001\u7f51\u7edc\u3001\u7ec8\u7aef\uff09\u3001\u5e94\u7528\u5b89\u5168\uff08Web\u3001\u79fb\u52a8\uff09\u3001\u4e1a\u52a1\u5b89\u5168\uff08\u8d26\u6237\u3001\u4ea4\u6613\u3001\u5185\u5bb9\u3001\u6d3b\u52a8\uff09\u3001\u5b89\u5168\u8fd0\u8425\uff08\u5e94\u6025\u54cd\u5e94\u3001\u5b89\u5168\u57f9\u8bad\uff09\u3001\u6570\u636e\u5b89\u5168\uff08\u52a0\u5bc6\u3001\u8131\u654f\u3001\u5b58\u50a8\uff09\u7b49\u7b49\uff0c\u4e0d\u540c\u4f01\u4e1a\u5728\u4e0d\u540c\u7684\u53d1\u5c55\u9636\u6bb5\u6240\u4fa7\u91cd\u7684\u5b89\u5168\u70b9\u4e5f\u4e0d\u4e00\u81f4\u3002 \u5728\u4e0a\u8ff0\u7684\u6bcf\u4e00\u4e2a\u7c7b\u578b\u4e2d\u6709\u5f88\u591a\u5b50\u7c7b\uff0c\u6bcf\u4e2a\u5b50\u7c7b\u90fd\u6709\u4e00\u4e2a\u5faa\u5e8f\u6e10\u8fdb\u7684\u8def\u7ebf\uff0c\u6bd4\u5982\uff1a\u5b89\u5168\u6d4b\u8bd5\u5de5\u4f5c \u5b89\u5168\u6d4b\u8bd5\u4e00\u822c\u5206\u4e3a\u5b9a\u671f\u7684\u5b89\u5168\u5de1\u68c0\u3001\u65b0\u4e1a\u52a1/\u65b0\u529f\u80fd\u4e0a\u7ebf\u524d\u7684\u5b89\u5168\u6d4b\u8bd5\uff0c\u5b89\u5168\u6d4b\u8bd5\u5728\u5e94\u7528\u5b89\u5168\u4e2d\u7b97\u662f\u4e00\u4e2a\u6bd4\u8f83\u5c0f\u7684\u70b9\u3002\u4f46\u662f\u6211\u4eec\u901a\u8fc7\u4e00\u5b9a\u65f6\u95f4\u7684\u5b89\u5168\u6d4b\u8bd5\uff0c\u6574\u7406\u6211\u4eec\u901a\u8fc7\u5b89\u5168\u6d4b\u8bd5\u6240\u53d1\u73b0\u7684\u6f0f\u6d1e\u5f97\u51fa\u51fa\u73b0\u6f0f\u6d1e\u7684\u539f\u56e0\uff0c\u5f62\u6210\u8bbe\u8ba1\u89c4\u8303\uff0c\u7f16\u7801\u89c4\u8303\u8fdb\u884c\u63a8\u5e7f\u5230\u7814\u53d1\u56e2\u961f\u3001\u4ea7\u54c1\u56e2\u961f\uff0c\u5e76\u9010\u6b65\u53c2\u4e0e\u5230\u4ea7\u54c1\u7684\u6574\u4e2a\u6d41\u7a0b\u4e2d\uff0c\u8fd9\u6837\u5c31\u65e0\u5f62\u4e2d\u63a8\u52a8\u4e86\"S-SDL\"\u3002 \u5b89\u5168\u662f\u4e00\u6761\u6f2b\u957f\u7684\u8def\uff0c\u4e00\u6b65\u4e00\u4e2a\u811a\u5370\u5f88\u91cd\u8981\uff01","title":"1.\u4f01\u4e1a\u5b89\u5168\u5efa\u8bbe\u6db5\u76d6\u7684\u5185\u5bb9"},{"location":"miscellaneous/jsrc-1/#2","text":"\u76ee\u524d\u5f88\u591a\u4f01\u4e1a\u4e2d\u7684\u5b89\u5168\u5de5\u7a0b\u5e08\u5927\u90e8\u5206\u90fd\u662f\u7531\u767d\u5e3d\u5b50\u8f6c\u578b\u8fc7\u6765\u7684\uff0c\u4f46\u662f\u7531\u4e8e\u6f0f\u6d1e\u6316\u6398\u4e0e\u7532\u65b9\u5b89\u5168\u5efa\u8bbe\u8fd8\u662f\u5b58\u5728\u5f88\u5927\u7684\u5dee\u5f02\uff0c\u6240\u4ee5\u6211\u4eec\u5728\u8f6c\u578b\u7684\u65f6\u5019\u9700\u8981\u505a\u597d\u51e0\u4ef6\u4e8b\uff1a \u505a\u81ea\u5df1\u64c5\u957f\u7684\u4e8b\u60c5 \uff1a\u5b89\u5168\u6d4b\u8bd5\uff08\u6f0f\u6d1e\u6316\u6398\uff09\uff0c\u8fd9\u91cc\u7684\u5b89\u5168\u6d4b\u8bd5\u9700\u8981\u66f4\u5168\u9762\u7684\u8fdb\u884c\uff0c\u56e0\u4e3a\u7532\u65b9\u5b89\u5168\u4e2d\u9700\u8981\u9632\u5fa1\u6240\u6709\u7684\u9762\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u70b9\u3002 \u901a\u8fc7\u95ee\u9898\u770b\u672c\u8d28 \uff1a\u5982\u679c\u4e1a\u52a1\u7cfb\u7edf\u4e2d\u957f\u671f\u5b58\u5728SQL\u6ce8\u5165\u3001XSS\uff0c\u90a3\u4e48\u8bf4\u660e\u7814\u53d1\u5bf9\u4e8e\u5b89\u5168\u7684\u8ba4\u77e5\u8fd8\u4e0d\u591f\uff0c\u6211\u4eec\u8fd9\u4e2a\u65f6\u5019\u9700\u8981\u534f\u52a9\u6765\u63a8\u52a8\u5b89\u5168\u7f16\u7801\u89c4\u8303\u3002\u5f88\u5927\u7a0b\u5ea6\u4e0a\uff0c\u63a8\u52a8\u5b89\u5168\u7f16\u7801\u89c4\u8303\u662f\u5f88\u96be\u7684\u4e8b\u60c5\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u8f6c\u6362\u601d\u8def\u6765\u63a8\u52a8\u5b89\u5168\u5f00\u53d1\u7ea2\u7ebf\uff1b\u5982\u679c\u670d\u52a1\u5668\u957f\u671f\u88ab\u5165\u4fb5\u3001\u88ab\u6316\u77ff\uff0c\u90a3\u4e48\u8bf4\u660e\u8fd0\u7ef4\u5bf9\u4e8e\u670d\u52a1\u5668\u7684\u5b89\u5168\u505a\u7684\u4e0d\u591f\u597d\uff0c\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u53ef\u4ee5\u5e2e\u52a9\u8fd0\u7ef4\u4e00\u8d77\u63a8\u52a8\u670d\u52a1\u5668\u5b89\u5168\u57fa\u7ebf\u7b49\u3002 \u521d\u671f\u8981\u505a\u7684 \uff1a\u5b9a\u597d\u5b97\u65e8\uff0c\u4e0e\"\u8001\u677f\"(\u8fd9\u91cc\u7684\u8001\u677f\u8981\u80fd\u591f\u76f4\u63a5\u6216\u95f4\u63a5\u51b3\u5b9a\u516c\u53f8\u6574\u4f53\u5b89\u5168\u5efa\u8bbe\u7684\u8def\u7ebf\u8def)\u786e\u5b9a\u597d\u77ed\u4e2d\u957f\u671f\u76ee\u6807\uff0c\u8fd9\u91cc\u7684\u6bcf\u4e00\u4e2a\u76ee\u6807\u6211\u4eec\u90fd\u9700\u8981\u9884\u7559\u51fa\u8db3\u591f\u7684\u65f6\u95f4\uff0c\u8981\u8003\u8651\u5230\u5404\u79cd\u53ef\u80fd\u5f71\u54cd\u76ee\u6807\u8fbe\u6210\u7684\u56e0\u7d20\u3002 3+1 \uff1a\u8fd9\u91cc\u76843\u6307\u7684\u662f\"\u4e92\u8054\u7f51\u4f01\u4e1a\u5b89\u5168\u9ad8\u7ea7\u6307\u5357\"\u4e2d\u7b2c\u4e09\u7ae0\u63d0\u5230\u76843\u5f20\u8868\u3002\u8fd9\u91cc\u76841\u6307\u7684\u662f\"\u6743\u9650\u68b3\u7406\"\uff0c\u5982\u679c\u524d\u671f\u4f60\u901a\u8fc7\u6f0f\u6d1e\u6316\u6398\u3001\u6e17\u900f\u6d4b\u8bd5\u6ca1\u6709\u53d1\u73b0\u516c\u53f8\u7684\u4e1a\u52a1\u7cfb\u7edf\u5b58\u5728\u5f88\u5927\u7684\u5b89\u5168\u9690\u60a3\uff0c\u90a3\u4e48\u6211\u4eec\u8fd9\u4e2a\u65f6\u5019\u53ef\u4ee5\u6765\u505a\u8fd9\u4ef6\u4e8b\uff0c\u63a8\u52a8\u6743\u9650\u68b3\u7406\u9700\u8981\u8ddf\u9886\u5bfc\u62a5\u5907\u518d\u8fdb\u884c\uff0c\u8fd9\u662f\u4e00\u4e2a\u4e0d\u80fd\u7acb\u7aff\u89c1\u5f71\u7684\u5b89\u5168\u9879\u76ee\uff0c\u4f46\u662f\u505a\u597d\u5b83\u6211\u4eec\u80fd\u591f\u53d1\u73b0\u5f88\u591a\u4f01\u4e1a\u4e2d\u53ef\u80fd\u5b58\u5728\u7684\u98ce\u9669\u70b9\uff0c\u91cd\u70b9\u5173\u6ce8\u5982\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a \u4ece\u5458\u5de5\u7684\u89d2\u5ea6\u51fa\u53d1 \uff1a\u6bcf\u4e2a\u5458\u5de5\u62e5\u6709\u54ea\u4e9b\u6743\u9650\uff1f\u6bcf\u4e2a\u62e5\u6709\u7684\u6743\u9650\u662f\u5426\u5408\u7406\uff1f \u4ece\u4e1a\u52a1\u7cfb\u7edf\u7684\u89d2\u5ea6\u51fa\u53d1 \uff1a\u4e1a\u52a1\u7cfb\u7edf\u7684\u7528\u6237\u7fa4\u4f53\u662f\u4ec0\u4e48\uff1fACL\u662f\u5426\u6b63\u786e\uff1f\u62e5\u6709\u7cfb\u7edf\u6743\u9650\u7684\u662f\u54ea\u4e9b\u4eba\uff1f\uff08\u8fd9\u4e2a\u5730\u65b9\u53ef\u4ee5\u4e0e\u7b2c\u4e00\u4e2a\u89d2\u5ea6\u8fdb\u884c\u4ea4\u53c9\u5bf9\u6bd4\uff0c\u67e5\u770b\u4e24\u8005\u662f\u5426\u6709\"\u6f0f\u70b9\"\uff09 \u4ece\u6743\u9650\u8bbe\u8ba1\u7684\u89d2\u5ea6\u51fa\u53d1 \uff1a\u5982\u679c\u7cfb\u7edf\u62e5\u6709\u8d85\u7ea7\u7ba1\u7406\u5458\u3001\u7ba1\u7406\u5458\u3001\u5ba1\u6838\u5458\u3001\u5ba2\u670d4\u4e2a\u89d2\u8272\uff0c\u90a3\u4e48\u662f\u5426\u5b58\u5728\u8d8a\u6743\u64cd\u4f5c\u7684\u89d2\u8272\u7528\u6237\uff1f","title":"2.\u4ece\u767d\u5e3d\u5b50\u8f6c\u578b\u7684\u601d\u8def"},{"location":"miscellaneous/jsrc-1/#3","text":"\u4efb\u4f55\u4eba\u90fd\u4e0d\u662f\u4e00\u5f00\u59cb\u5c31\u7cbe\u901a\u5404\u79cd\u6280\u80fd\uff0c\u6211\u4eec\u5e94\u8be5\u505a\u7684\u5c31\u662f\u627e\u5bf9\u5408\u7406\u7684\u8def\u7ebf\u5e76\u575a\u6301\u5b66\u4e60\u4e0b\u53bb\uff0c\u7ec8\u6709\u4e00\u5929\u80fd\u591f\u5b66\u6709\u6240\u6210\uff0c\u5f53\u7136\u6709\u4e00\u4e2a\u5408\u9002\u7684\u5b66\u4e60\u8ba1\u5212\u5f88\u91cd\u8981\uff1b \u9009\u62e9\u9002\u5408\u81ea\u5df1\u7684\u8def \uff1a\u7532\u65b9\u4f01\u4e1a\u5b89\u5168\u5728\u7b2c\u4e00\u4e2a\u95ee\u9898\u56de\u7b54\u4e86\u6709\u5f88\u591a\u5206\u7c7b\uff0c\u6bcf\u4e2a\u4eba\u4e5f\u6709\u81ea\u5df1\u64c5\u957f\u7684\u5730\u65b9\uff0c\u5982\u679c\u4f60\u5bf9\u653b\u9632\u6280\u672f\u5f88\u611f\u5174\u8da3\uff0c\u90a3\u4e48\u4f60\u53ef\u4ee5\u671d\u7740\u7ea2\u84dd\u5bf9\u6297\u7684\u65b9\u5411\u8d70\uff1b\u5982\u679c\u4f60\u5bf9\u64cd\u4f5c\u7cfb\u7edf\u6bd4\u8f83\u654f\u611f\u4e5f\u53ef\u4ee5\u52aa\u529b\u94bb\u7814\u4e3b\u673a\u5b89\u5168\u3001\u5e94\u6025\u54cd\u5e94\u7b49\u3002 \u5b66\u4e60\u7684\u65b9\u5f0f \uff1a\u9605\u8bfb\u6587\u6863\uff0c\u5173\u4e8e\u7532\u65b9\u5b89\u5168\u6709\u592a\u591a\u592a\u591a\u7684\u8d44\u6599\u53ef\u4ee5\u4f9b\u6211\u4eec\u53bb\u5b66\u4e60\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u4f4e\u4e00\u70b9\u7684\u57fa\u7840\u4e0a\u627e\u5230\u8fd9\u4e9b\u6587\u6863\u8fdb\u5165\u6df1\u5165\u89e3\u8bfb\u79ef\u7d2f\u6210\u4e3a\u81ea\u5df1\u7684\u77e5\u8bc6\uff1b\u53c2\u52a0\u6c99\u9f99\u6216\u8bb2\u5ea7\uff0c\u5bf9\u4e8e\u5cf0\u4f1a\u3001\u6c99\u9f99\u6216\u8bb2\u5ea7\u53ef\u4ee5\u4f18\u5148\u786e\u5b9a\u662f\u5426\u6709\u81ea\u5df1\u559c\u6b22\u7684\u8bae\u9898\uff0c\u4e13\u5fc3\u53bb\u8046\u542c\u5206\u4eab\u8005\u7684\u8bb2\u8bc9\uff0c\u4e00\u6b21\u4f1a\u8bae\u80fd\u591f\u771f\u6b63\u5b66\u52301-3\u4e2a\u8bae\u9898\u7684\u7cbe\u9ad3\u5c31\u8db3\u591f\u4e86\uff1b\u4e92\u76f8\u4ea4\u6d41\uff0c\u4e0d\u540c\u516c\u53f8\u5728\u4e0d\u540c\u5b89\u5168\u4e0a\u53ef\u80fd\u6709\u4e0d\u540c\uff0c\u4f46\u4e07\u53d8\u4e0d\u79bb\u5176\u5b97\u89e3\u51b3\u95ee\u9898\u7684\u672c\u8d28\u601d\u8def\u4e5f\u884c\u8fd8\u662f\u4e00\u81f4\u7684\uff0c\u6240\u4ee5\u9002\u5f53\u4e0e\u540c\u884c\u4e1a\u751a\u81f3\u8de8\u884c\u4e1a\u7684\u5b89\u5168\u670b\u53cb\u8fdb\u884c\u63a2\u8ba8\u4e5f\u662f\u5feb\u901f\u5b66\u4e60\u7684\u65b9\u5f0f\u3002 \u7eb8\u4e0a\u5f97\u6765\u7ec8\u89c9\u6d45 \u7edd\u77e5\u6b64\u4e8b\u8981\u8eac\u884c \uff1a\u5b9e\u6218\u7ecf\u9a8c\uff0c\u8d44\u6599\u770b\u7684\u518d\u591a\uff0c\u4e0e\u4eba\u4e89\u8bba\u7684\u53e3\u82e5\u60ac\u6cb3\u90fd\u4e0d\u5982\u81ea\u5df1\u5b9e\u6218\u4e00\u6b21\uff0c\u5b89\u5168\u9879\u76ee\u53ea\u6709\u5728\u63a8\u52a8\u8fc7\u7a0b\u4e2d\u4e0d\u65ad\u4ece\u4e00\u4e2a\u5751\u722c\u5230\u53e6\u5916\u4e00\u4e2a\u5751\uff0c\u6211\u4eec\u7684\u6280\u80fd\u624d\u80fd\u5feb\u901f\u6210\u957f\u3002\u4e0d\u8981\u6015\u8e29\u5751\uff0c\u5982\u679c\u4f60\u7684\u9879\u76ee\u63a8\u52a8\u7684\u4e00\u5e06\u98ce\u987a\uff0c\u4e5f\u8bb8\u662f\u4f60\u6ca1\u6709\u8fdb\u884c\u5145\u5206\u7684\u95ee\u9898\u9884\u4f30\u3002 \u5e73\u53f0\u9009\u62e9 \uff1a\u5927\u5e73\u53f0\u4e0e\u5c0f\u5e73\u53f0\u5404\u6709\u4f18\u52bf\uff0c\u4e5f\u5404\u6709\u52a3\u52bf\u3002\u5927\u5e73\u53f0\u7684\u4f18\u52bf\u662f\u89c6\u91ce\u4ee5\u53ca\u4f60\u6240\u80fd\u9047\u5230\u7684\u6d41\u91cf\u3001\u573a\u666f\u90fd\u4e0d\u662f\u5c0f\u516c\u53f8\u80fd\u7ed9\u4f60\u7684\uff1b\u5c0f\u516c\u53f8\u7684\u4f18\u52bf\u662f\u4f60\u80fd\u63a5\u89e6\u5230\u9762\u8981\u5e7f\u4e00\u4e9b\uff0c\u4f46\u662f\u5bb9\u6613\u6742\u800c\u4e0d\u7cbe\uff0c\u4f46\u662f\u5982\u679c\u4f60\u80fd\u5408\u7406\u5206\u914d\u4f60\u7684\u7cbe\u529b\u4e5f\u662f\u6ca1\u6709\u95ee\u9898\u7684\u3002","title":"3.\u4f01\u4e1a\u5b89\u5168\u5efa\u8bbe\u7684\u6280\u80fd\u6210\u957f"},{"location":"miscellaneous/jsrc-1/#4","text":"\u56fd\u5185\u5927\u90e8\u5206\u4f01\u4e1a\u63a8\u52a8\u5b89\u5168\u9879\u76ee\u662f\u5408\u89c4\u9a71\u52a8\u548c\u4e8b\u4ef6\u9a71\u52a8\uff0c\u90a3\u4e48\u6211\u4eec\u5728\u63a8\u52a8\u5b89\u5168\u9879\u76ee\u7684\u8fc7\u7a0b\u4e2d\u5e94\u8be5\u5982\u4f55\u6765\u505a\uff1a","title":"4.\u5982\u4f55\u505a\u597d\u5b89\u5168\u9879\u76ee"},{"location":"miscellaneous/jsrc-1/#5","text":"\u4e3a\u4ec0\u4e48\u8fd9\u4e48\u505a\uff1f\u80cc\u666f\uff08\u6211\u4eec\u9047\u5230\u4e86\u4ec0\u4e48\u6837\u7684\u56f0\u96be\u5bfc\u81f4\u6211\u4eec\u8981\u8fd9\u4e48\u505a\uff09 \u505a\u4e86\u4ee5\u540e\u7684\u597d\u5904\u662f\u4ec0\u4e48\uff1f\u76ee\u6807 \u8c01\u6765\u505a\uff0c\u600e\u4e48\u505a\uff0c\u4ec0\u4e48\u65f6\u95f4\u505a\uff1f\u8fc7\u7a0b \u505a\u8fd9\u4ef6\u4e8b\u53ef\u80fd\u9047\u5230\u7684\u95ee\u9898\u6709\u54ea\u4e9b\uff1f\u9884\u4f30\u98ce\u9669 \u662f\u5426\u662f\u6700\u4f18\u7684\u89e3\u51b3\u65b9\u6848\uff1f\u5982\u679c\u4e0d\u662f\u884c\u4e1a\u6700\u4f18\u89e3\u51b3\u65b9\u6848\uff0c\u6211\u4eec\u4e3a\u4ec0\u4e48\u8981\u9009\u62e9\u8fd9\u4e2a\u65b9\u6848","title":"\u505a\u9879\u76ee\u76845\u8981\u7d20"},{"location":"miscellaneous/jsrc-1/#_2","text":"\u505a\u597d\u9879\u76ee\u9884\u6848\u540e\uff0c\u8981\u5c06\u6574\u4e2a\u9879\u76ee\u7684\u63a8\u52a8\u8fc7\u7a0b\u62c6\u5206\u6210\u591a\u4e2a\u9636\u6bb5\uff0c\u5b9a\u597d\u6bcf\u4e2a\u9636\u6bb5\u7684\u65f6\u95f4\u8282\u70b9\uff0c\u6bcf\u4e2a\u9636\u6bb5\u7684\u65f6\u95f4\u8282\u70b9\u9700\u8981\u9884\u7559\u8db3\u591f\u7684\u65f6\u95f4\u3002 \u5728\u6bcf\u4e00\u4e2a\u65f6\u95f4\u8282\u70b9\u8fdb\u884c\u603b\u7ed3\u4f1a\u8bae\uff0c\u4e0a\u4e00\u9636\u6bb5\u7684\u5b8c\u6210\u60c5\u51b5\uff0c\u5982\u679c\u672a\u5b8c\u6210\u539f\u56e0\u662f\u4ec0\u4e48\uff1f\u672c\u9636\u6bb5\u7684\u9884\u671f\u7b49\u3002","title":"\u9879\u76ee\u63a8\u52a8"},{"location":"miscellaneous/jsrc-1/#_3","text":"\u63a8\u52a8\u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b\u9879\u76ee\uff1a \u80cc\u666f\uff1a\u591a\u6b21\u9047\u5230\u4e86\u4e3b\u673a\u88ab\u5165\u4fb5\u6316\u77ff\u7684\u5b89\u5168\u4e8b\u4ef6\uff1b \u76ee\u6807\uff1a\u53ca\u65f6\u53d1\u73b0\u4e3b\u673a\u88ab\u653b\u51fb\u6216\u88ab\u5165\u4fb5\uff1b \u8fc7\u7a0b\uff1a \u8c03\u7814\uff1a \u8c03\u7814\u5185\u5bb9\uff1a\u529f\u80fd\u3001\u5bf9\u7cfb\u7edf\u7684\u6027\u80fd\u5f71\u54cd\u3001\u5b89\u5168\u6027\u3001\u90e8\u7f72\u96be\u6613\u7a0b\u5ea6\u3001\u7ba1\u7406\u96be\u6613\u7a0b\u5ea6\u3001\u53ef\u6269\u5c55\u6027 \u8c03\u7814\u4ea7\u54c1\uff1a\u5f00\u6e90\uff08ossec\u3001wazuh\u3001osquery\u3001\u9a6d\u9f99\uff09\u3001\u5546\u4e1a\uff08\u5b89\u9a91\u58eb\uff09 \u90e8\u7f72\u65b9\u5f0f\uff1a \u81ea\u52a8\u5316\u90e8\u7f72\u5b9e\u73b0\u65b9\u6848\u3002 \u8c01\u6765\u90e8\u7f72\uff1a \u5b89\u5168\u8d1f\u8d23\u5165\u4fb5\u68c0\u6d4b\u670d\u52a1\u7aef\uff0c\u670d\u52a1\u5668\u7cfb\u7edf\u521d\u59cb\u5316\u65f6\u90e8\u7f72\u5165\u4fb5\u68c0\u6d4b\u5ba2\u6237\u7aef\u3002 \u65f6\u95f4\u8282\u70b9\uff1a \u6d4b\u8bd5-- \u6d4b\u8bd5\u73af\u5883-- \u975e\u6838\u5fc3\u4e1a\u52a1\u73af\u5883-- \u6838\u5fc3\u4e1a\u52a1\u73af\u5883\uff08\u6839\u636e\u670d\u52a1\u5668\u6570\u91cf\u6765\u786e\u5b9a\u65f6\u95f4\u8282\u70b9\uff09\u3002 \u98ce\u9669\u9884\u4f30\uff1a\u5ba2\u6237\u7aef\u5bf9\u670d\u52a1\u5668\u7cfb\u7edf\u6027\u80fd\u4ea7\u751f\u5f71\u54cd\u5982\u4f55\u5feb\u901f\u5378\u8f7d\uff1b\u8bef\u62a5\u592a\u591a\u5982\u4f55\u5904\u7406\uff1b\u2026\u2026 \u5728\u63a8\u52a8\u5b89\u5168\u9879\u76ee\u4e0e\u5176\u5b83\u7684\u4e1a\u52a1\u9879\u76ee\u4e0d\u4e00\u6837\u7684\u662f\uff0c\u90e8\u5206\u5b89\u5168\u9879\u76ee\u4f1a\u5bf9\u516c\u53f8\u7684\u4e1a\u52a1\u7cfb\u7edf\u4ea7\u751f\u5f71\u54cd\uff0c\u6bd4\u5982\uff1a\u4e0aWAF\u9700\u8981\u8003\u8651\u5bf9\u4e1a\u52a1\u9020\u6210\u7684\u5ef6\u65f6\uff0cWAF\u80fd\u627f\u53d7\u7684\u6700\u5927\u8bbf\u95ee\u91cf\uff1b\u626b\u63cf\u5668\u9700\u8981\u8003\u8651\u4ea7\u751f\u7684\u810f\u6570\u636e\uff0c\u90e8\u5206\u626b\u63cf\u884c\u4e3a\u4f1a\u9020\u6210DoS\u7684\u6548\u679c\u7b49\u3002","title":"\u4e3e\u4e2a\u6817\u5b50"},{"location":"miscellaneous/jsrc-1/#5_1","text":"\u4e00\u53e5\u8bdd\u603b\u7ed3\uff1a\u6709\u94b1\u4e70\u4ea7\u54c1\u3001\u6ca1\u94b1\u5c31\u5f00\u6e90\u3001\u4eba\u5c11\u76f4\u63a5\u7528\uff0c\u4eba\u591a\u81ea\u5df1\u6539\u3002 \u5f88\u591a\u4eba\u5b58\u5728\u8bef\u533a\uff1a\u5f00\u6e90\u633a\u597d\u7684\uff0c\u8282\u7ea6\u94b1\u4e0d\u7528\u627e\u8001\u677f\u8981\u9884\u7b97\uff0c\u5176\u5b9e\u5f00\u6e90\u6709\u5f88\u591a\u95ee\u9898\uff1a \u5b89\u5168\u6027 \uff1a\u5b89\u5168\u5f00\u6e90\u4ea7\u54c1\u672c\u8eab\u7684\u5b89\u5168\u6027\uff0c\u6211\u4eec\u5728\u4f7f\u7528\u5f00\u6e90\u4ea7\u54c1\u7684\u65f6\u5019\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u90fd\u662f\u6ca1\u6709\u5bf9\u4ea7\u54c1\u672c\u8eab\u8fdb\u884c\u5b89\u5168\u6027\u5ba1\u6838\uff1b \u6301\u7eed\u7ef4\u62a4 \uff1a\u76ee\u524d\u56fd\u5185\u5f00\u6e90\u4ea7\u54c1\u5448\u73b0\u51fa\u4e00\u4e2a\u6bd4\u8f83\u4e25\u91cd\u95ee\u9898\u5c31\u662f\u6ca1\u6709\u957f\u65f6\u95f4\u7ef4\u62a4\uff0c\u5982\u679c\u6211\u4eec\u4f7f\u7528\u56fd\u5185\u7684\u5f00\u6e90\u4ea7\u54c1\uff0c\u540e\u7eed\u8fd8\u662f\u9700\u8981\u4e8c\u6b21\u5f00\u53d1\u3002 \u6210\u672c\u9ad8 \uff1a\u6210\u672c=\u91c7\u8d2d\u6210\u672c+\u8fd0\u7ef4\u6210\u672c+\u66f4\u65b0\u6210\u672c\uff0c\u5f00\u6e90\u4ea7\u54c1\u6ca1\u6709\u91c7\u8d2d\u6210\u672c\uff0c\u4f46\u662f\u8fd0\u7ef4\u6210\u672c\u4e0e\u66f4\u65b0\u6210\u672c\u8fdc\u8fdc\u9ad8\u4e8e\u5546\u4e1a\u4ea7\u54c1\uff1b \u517c\u5bb9\u6027 \uff1a\u6211\u4eec\u53ef\u80fd\u9009\u62e9\u4e86\u4e0d\u6b62\u4e00\u6b3e\u5f00\u6e90\u4ea7\u54c1\uff0c\u5982\u4f55\u628a\u8fd9\u4e9b\u5b89\u5168\u4ea7\u54c1\u96c6\u6210\u8d77\u6765\u662f\u6211\u4eec\u5934\u75bc\u7684\u4e8b\u60c5\uff1b \u90a3\u4e48\u5546\u4e1a\u4ea7\u54c1\u5982\u4f55\u4e70\uff1f\u4e2a\u4eba\u610f\u89c1\uff1a\u76ee\u524d\u516c\u53f8\u6240\u5b58\u5728\u7684\u98ce\u9669\u6025\u9700\u4e00\u6b3e\u4ea7\u54c1\u6765\u89e3\u51b3\uff1b\u80fd\u5e26\u6765\u76f4\u63a5\u6216\u95f4\u63a5\u7684\u5b89\u5168\u80fd\u529b\u63d0\u5347\u3002\u8fd9\u90fd\u662f\u9488\u5bf9\u5b89\u5168\u7ecf\u8d39\u5e76\u4e0d\u5145\u8db3\uff0c\u4e1a\u5185\u8fd8\u6709\u4e00\u79cd\u9a71\u52a8\u5b89\u5168\u9879\u76ee\u7684\u4e3a\u6d88\u8d39\u578b\u9a71\u52a8\uff0c\u4ed6\u4eec\u4e0d\u5b58\u5728\u8fd9\u4e9b\uff0c\u4e70\u5c31\u597d\uff01 \u5b89\u5168\u5c31\u50cf\u662f\u764c\u75c7\u4e00\u6837\uff0c\u5bf9\u513f\u4e8c\u8005\u800c\u8a00\u53ca\u65e9\u53d1\u73b0\u95ee\u9898\u5747\u80fd\u51cf\u5c11\u5176\u9020\u6210\u7684\u7834\u574f\uff0c\u4f46\u80fd\u5426\u627e\u5230\u5b8c\u7f8e\u89e3\u51b3\u65b9\u6848\u662f\u4e2a\u7591\u95ee\u3002--\u9c81\u8fea-\u9f50\u5170\u5c3c","title":"5.\u5f00\u6e90\u8fd8\u662f\u5546\u4e1a"},{"location":"other-security-branch/asset-management/","text":"\u8d44\u4ea7\u7ba1\u7406 \u5bf9\u4e8e\u5b89\u5168\u56e2\u961f\uff0c\u6211\u4eec\u6240\u9700\u7684\u8d44\u4ea7\u4e0e\u8fd0\u7ef4\u3001IT\u6240\u9700\u7684\u8d44\u4ea7\u5b58\u5728\u4ea4\u96c6\uff0c\u4f46\u662f\u590d\u7528\u5bf9\u4e8e\u5b89\u5168\u6765\u8bf4\uff0c\u8d44\u4ea7\u4fe1\u606f\u7684\u7ef4\u5ea6\u662f\u4e0d\u591f\u7684\uff0c\u5b89\u5168\u4e00\u822c\u5173\u5fc3\u5982\u4e0b\u8d44\u4ea7\uff1a \u670d\u52a1\u5668\u8d44\u4ea7\uff1a\u64cd\u4f5c\u7cfb\u7edf\u4fe1\u606f\u3001\u670d\u52a1\u4fe1\u606f\u3001\u4e2d\u95f4\u4ef6\u4fe1\u606f\u3001\u7aef\u53e3\u5f00\u653e\u4fe1\u606f\u3001\u2026\u2026 \u7ec8\u7aef\u8d44\u4ea7\uff1a\u64cd\u4f5c\u7cfb\u7edf\u3001\u662f\u5426\u5177\u5907\u57df\u3001\u2026\u2026 \u57df\u540d\u8d44\u4ea7\uff1a\u57df\u540d\u6ce8\u518c\u65f6\u95f4\u3001\u57df\u540d\u8fc7\u671f\u65f6\u95f4\u3001\u57df\u540d\u6ce8\u518c\u624b\u673a\u3001\u57df\u540d\u6ce8\u518c\u90ae\u7bb1\u3001\u2026\u2026 IP\u8d44\u4ea7\uff1aIP\u7f51\u7edc\u6bb5\uff08\u5185\u7f51\u3001\u5916\u7f51\uff09 \u8d26\u53f7\u5bc6\u7801\uff1a\u8fd0\u8425\u7ba1\u7406\u7cfb\u7edf\u8d26\u53f7\u5bc6\u7801\u3001\u7b2c\u4e09\u65b9\u5e94\u7528\u7cfb\u7edf\u3001\u2026\u2026 \u516c\u53f8\u6e90\u4ee3\u7801\uff1a \u6d89\u53ca\u654f\u611f\u4fe1\u606f\u6587\u4ef6\uff1a\u9879\u76ee\u6587\u6863\u3001\u4eba\u529b\u8d44\u6e90\u6587\u6863\u3001\u6218\u7565\u53d1\u5c55\u6587\u6863\u3001\u2026\u2026 \u5176\u5b83\u4fe1\u606f\uff1a \u5f00\u6e90\u8d44\u4ea7\u7ba1\u7406\u8f6f\u4ef6 \u817e\u8baf\uff1a\u84dd\u9cb8 github\u5730\u5740 iTop \u5b98\u7f51\u5730\u5740 \u5b89\u88c5iTop # \u5b89\u88c5php5.6yum\u6e90 yum install epel-release -y rpm -ivh http://rpms.famillecollet.com/enterprise/remi-release-7.rpm yum install httpd.x86_64 httpd-devel.x86_64 mariadb.x86_64 mariadb-server.x86_64 mariadb-devel.x86_64 -y # \u914d\u7f6e\u6570\u636e\u5e93 # \u5b89\u88c5php\u4ee5\u53caphp\u7684\u6269\u5c55 yum install --enablerepo=remi --enablerepo=remi-php56 php.x86_64 php-soap.x86_64 php-xml.x86_64 php-mysqlnd.x86_64 php-gd.x86_64 php-mcrypt.x86_64 php-ldap.x86_64 -y # \u4e0b\u8f7diTop wget https://jaist.dl.sourceforge.net/project/itop/itop/2.5.1/iTop-2.5.1-4123.zip # \u89e3\u538b unzip iTop-2.5.1-4123.zip # \u79fb\u52a8\u5230web\u76ee\u5f55\uff0c\u5e76\u4fee\u6539\u6743\u9650 mv web /var/www/html/ chown -R apache:apache web \u53c2\u8003\u8d44\u6599 iTop\u7cfb\u7edf\u4f7f\u7528\u624b\u518c Snipe-IT \u5f00\u6e90\u8d44\u4ea7\u7ba1\u7406\u7cfb\u7edf \u5b98\u7f51\u5730\u5740 GLPI \u5b98\u7f51\u5730\u5740 \u53c2\u8003\u8d44\u6599 \u5b89\u5168\u8d44\u4ea7\u7ba1\u7406\u4e2d\u5bb9\u6613\u88ab\u5ffd\u89c6\u7684\u51e0\u70b9 \u91d1\u878d\u884c\u4e1a\u5e94\u7528\u578bCMDB\u5efa\u8bbe\u5b9e\u5f55 \u6700\u4f73\u5b9e\u8df5\uff1a\u5e94\u7528CMDB\u5728\u62db\u5546\u94f6\u884c\u7684\u843d\u5730\u6848\u4f8b","title":"\u8d44\u4ea7\u7ba1\u7406"},{"location":"other-security-branch/asset-management/#_1","text":"\u5bf9\u4e8e\u5b89\u5168\u56e2\u961f\uff0c\u6211\u4eec\u6240\u9700\u7684\u8d44\u4ea7\u4e0e\u8fd0\u7ef4\u3001IT\u6240\u9700\u7684\u8d44\u4ea7\u5b58\u5728\u4ea4\u96c6\uff0c\u4f46\u662f\u590d\u7528\u5bf9\u4e8e\u5b89\u5168\u6765\u8bf4\uff0c\u8d44\u4ea7\u4fe1\u606f\u7684\u7ef4\u5ea6\u662f\u4e0d\u591f\u7684\uff0c\u5b89\u5168\u4e00\u822c\u5173\u5fc3\u5982\u4e0b\u8d44\u4ea7\uff1a \u670d\u52a1\u5668\u8d44\u4ea7\uff1a\u64cd\u4f5c\u7cfb\u7edf\u4fe1\u606f\u3001\u670d\u52a1\u4fe1\u606f\u3001\u4e2d\u95f4\u4ef6\u4fe1\u606f\u3001\u7aef\u53e3\u5f00\u653e\u4fe1\u606f\u3001\u2026\u2026 \u7ec8\u7aef\u8d44\u4ea7\uff1a\u64cd\u4f5c\u7cfb\u7edf\u3001\u662f\u5426\u5177\u5907\u57df\u3001\u2026\u2026 \u57df\u540d\u8d44\u4ea7\uff1a\u57df\u540d\u6ce8\u518c\u65f6\u95f4\u3001\u57df\u540d\u8fc7\u671f\u65f6\u95f4\u3001\u57df\u540d\u6ce8\u518c\u624b\u673a\u3001\u57df\u540d\u6ce8\u518c\u90ae\u7bb1\u3001\u2026\u2026 IP\u8d44\u4ea7\uff1aIP\u7f51\u7edc\u6bb5\uff08\u5185\u7f51\u3001\u5916\u7f51\uff09 \u8d26\u53f7\u5bc6\u7801\uff1a\u8fd0\u8425\u7ba1\u7406\u7cfb\u7edf\u8d26\u53f7\u5bc6\u7801\u3001\u7b2c\u4e09\u65b9\u5e94\u7528\u7cfb\u7edf\u3001\u2026\u2026 \u516c\u53f8\u6e90\u4ee3\u7801\uff1a \u6d89\u53ca\u654f\u611f\u4fe1\u606f\u6587\u4ef6\uff1a\u9879\u76ee\u6587\u6863\u3001\u4eba\u529b\u8d44\u6e90\u6587\u6863\u3001\u6218\u7565\u53d1\u5c55\u6587\u6863\u3001\u2026\u2026 \u5176\u5b83\u4fe1\u606f\uff1a","title":"\u8d44\u4ea7\u7ba1\u7406"},{"location":"other-security-branch/asset-management/#_2","text":"","title":"\u5f00\u6e90\u8d44\u4ea7\u7ba1\u7406\u8f6f\u4ef6"},{"location":"other-security-branch/asset-management/#_3","text":"github\u5730\u5740","title":"\u817e\u8baf\uff1a\u84dd\u9cb8"},{"location":"other-security-branch/asset-management/#itop","text":"\u5b98\u7f51\u5730\u5740 \u5b89\u88c5iTop # \u5b89\u88c5php5.6yum\u6e90 yum install epel-release -y rpm -ivh http://rpms.famillecollet.com/enterprise/remi-release-7.rpm yum install httpd.x86_64 httpd-devel.x86_64 mariadb.x86_64 mariadb-server.x86_64 mariadb-devel.x86_64 -y # \u914d\u7f6e\u6570\u636e\u5e93 # \u5b89\u88c5php\u4ee5\u53caphp\u7684\u6269\u5c55 yum install --enablerepo=remi --enablerepo=remi-php56 php.x86_64 php-soap.x86_64 php-xml.x86_64 php-mysqlnd.x86_64 php-gd.x86_64 php-mcrypt.x86_64 php-ldap.x86_64 -y # \u4e0b\u8f7diTop wget https://jaist.dl.sourceforge.net/project/itop/itop/2.5.1/iTop-2.5.1-4123.zip # \u89e3\u538b unzip iTop-2.5.1-4123.zip # \u79fb\u52a8\u5230web\u76ee\u5f55\uff0c\u5e76\u4fee\u6539\u6743\u9650 mv web /var/www/html/ chown -R apache:apache web \u53c2\u8003\u8d44\u6599 iTop\u7cfb\u7edf\u4f7f\u7528\u624b\u518c","title":"iTop"},{"location":"other-security-branch/asset-management/#snipe-it","text":"\u5b98\u7f51\u5730\u5740","title":"Snipe-IT \u5f00\u6e90\u8d44\u4ea7\u7ba1\u7406\u7cfb\u7edf"},{"location":"other-security-branch/asset-management/#glpi","text":"\u5b98\u7f51\u5730\u5740","title":"GLPI"},{"location":"other-security-branch/asset-management/#_4","text":"\u5b89\u5168\u8d44\u4ea7\u7ba1\u7406\u4e2d\u5bb9\u6613\u88ab\u5ffd\u89c6\u7684\u51e0\u70b9 \u91d1\u878d\u884c\u4e1a\u5e94\u7528\u578bCMDB\u5efa\u8bbe\u5b9e\u5f55 \u6700\u4f73\u5b9e\u8df5\uff1a\u5e94\u7528CMDB\u5728\u62db\u5546\u94f6\u884c\u7684\u843d\u5730\u6848\u4f8b","title":"\u53c2\u8003\u8d44\u6599"},{"location":"other-security-branch/asset-management/asset-acquisition/","text":"\u8d44\u4ea7\u7ba1\u7406\u5e73\u53f0 \u8d44\u4ea7\u7ba1\u7406\u5173\u952e\u70b9\u5728\u4e8e\uff1a\u51c6\u786e\u6027\u3001\u5b9e\u65f6\u6027\u3001\u5b8c\u6574\u6027\u8fd93\u4e2a\u7279\u6027\uff08\u53ef\u80fd\u4e0d\u5168\uff0c\u6b22\u8fce\u8865\u5145\uff09\uff1b \u8d44\u4ea7\u5e76\u975e\u5355\u4e00\u7ef4\u5ea6\uff0c\u81ea\u8eab\u5177\u5907\u4e86\u4e1a\u52a1\u5c5e\u6027\u548c\u5b89\u5168\u5c5e\u6027\uff1b-- \u4f55\u827a \u8d44\u4ea7\u5206\u7c7b IP Host\u8d44\u4ea7 \u57df\u540d\u8d44\u4ea7 \u4e1a\u52a1\u7cfb\u7edf\u8d44\u4ea7 \u6743\u9650\u8d44\u4ea7\uff1a\u7528\u6237\uff08\u7b2c\u4e09\u65b9\u7528\u6237\u3001\u540e\u53f0\u7cfb\u7edf\u7528\u6237\uff09\u3001\u7528\u6237\u6743\u9650\u3001\u2026\u2026 \u2026\u2026 \u8d44\u4ea7\u7ba1\u7406\u5206\u7c7b \u9ed1\u76d2\u8d44\u4ea7\u7ba1\u7406 \u767d\u76d2\u8d44\u4ea7\u7ba1\u7406 \u9ed1\u76d2\u8d44\u4ea7\u7ba1\u7406 \u57df\u540d\u8d44\u4ea7 \u4e86\u89e3\u4e3b\u57df\u540d\u4fe1\u606f\uff1b \u4ece\u8bc1\u4e66\u4e2d\u83b7\u53d6\u57df\u540d\u4fe1\u606f\uff1b whois\u67e5\u8be2\uff1b \u5b57\u5178\u83b7\u53d6\u5b50\u57df\u540d\uff1b ''' \u5b50\u57df\u540d\u5b58\u6d3b\u6027\u5224\u65ad ''' def domain_survivability(domain, tmp_file): UA = { user-agent : Mozilla/5.0 AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 } try: response = requests.get(domain, verify=True, timeout=3, headers=UA) tmp_file.write(response.url + '\\n') except Exception as e: return DNS\u533a\u57df\u4f20\u8f93\u6f0f\u6d1e\uff1b \u641c\u7d22\u5f15\u64ce\uff0c\u641c\u7d22\u5de5\u5177\uff08shodan\u7b49\uff09\uff1b ASN\uff1a whois -h whois.radb.net -- '-i origin AS111111' | grep -Eo ([0-9.]+){4}/[0-9]+ | uniq nmap --script targets-asn --script-args targets-asn.asn=15169 IP Host\u8d44\u4ea7 \u76f4\u63a5\u83b7\u53d6 \u7ed5\u8fc7CDN\u83b7\u53d6\u771f\u5b9eIP IP\u5b58\u6d3b\u6027\u626b\u63cf\uff1ashodan \u901a\u8fc7\u57df\u540d\u83b7\u53d6IP ''' \u5229\u7528\u6700\u7b80\u5355\u7684ping\u65b9\u5f0f\u6765\u83b7\u53d6\uff0c\u4e0d\u80fd\u7ed5\u8fc7CDN ''' def exec_ping(domain,precision): try: result = os.popen( ping -c 1 %s -t 3 | grep -v PING % domain) # \u6392\u9664\u4e0d\u80fdping\u901a\u7684domain text = result.read() result.close() ip = re.findall(r'\\d+.\\d+.\\d+.\\d+',text)[0] print domain, if precision == yes : precision_ip_attributes(ip) else: get_ip_attributes(ip) except Exception as e: pass \u5176\u5b83\u8d44\u4ea7 \u57fa\u4e8e\u626b\u63cf\u6765\u8fdb\u884c\uff1b \u4eba\u5de5\u8fdb\u884c\u68b3\u7406\uff0c\u7136\u540e\u5b9e\u73b0\u81ea\u52a8\u5316\uff1b \u5b8c\u6574\u7684\u7528\u6237\u6743\u9650\u7ba1\u7406\u7cfb\u7edf\uff1b \u767d\u76d2\u8d44\u4ea7\u7ba1\u7406 \u4e91\u8d44\u4ea7\u7ba1\u7406 \u963f\u91cc\u4e91\u8d44\u4ea7\u7ba1\u7406 ''' \u4ece\u963f\u91cc\u4e91\u83b7\u53d6ECS\u4fe1\u606f ''' def get_ip(result_file,clt): result_file = open(result_file,'a') for i in range(1,20): request = DescribeInstancesRequest.DescribeInstancesRequest() request.set_PageNumber(i) request.set_PageSize(10) request.set_accept_format('json') result = json.loads(clt.do_action_with_exception(request)).get('Instances').get('Instance') # \u5982\u679cresult\u4e0d\u4e3a\u7a7a\u5c31\u5199\u5165result_file\uff0c\u4e3a\u7a7a\u8bc1\u660e\u5df2\u7ecf\u83b7\u53d6\u4e86\u6240\u6709\u7684\u5b9e\u4f8b if result: for key in result: InstanceId = key['InstanceId'] # \u83b7\u53d6\u5b9e\u4f8bID Status = key['Status'] # \u83b7\u53d6\u5f53\u524d\u72b6\u6001 PrivateIP = key['VpcAttributes']['PrivateIpAddress']['IpAddress'][0] # \u79c1\u6709IP PublicIP = key['EipAddress']['IpAddress'] # \u516c\u6709IP SecurityGroup = key['InstanceName'] # \u5b89\u5168\u7ec4 RegionId = key['RegionId'] # \u5730\u533a # Area = 'aliyun' try: result_file.writelines(InstanceId + '\\t' + Status + '\\t' + PrivateIP + '\\t' + PublicIP + '\\t' + SecurityGroup + '\\t' + RegionId + '\\n') except: result_file.writelines(InstanceId + '\\t' + Status + '\\t' + PrivateIP + '\\t' + PublicIP + '\\t' + '' + '\\t' + RegionId + '\\n') else: pass \u4e9a\u9a6c\u900a\u4e91\u8d44\u4ea7\u7ba1\u7406 ''' \u83b7\u53d6aws \u4e91\u4e3b\u673a ip ''' def get_ip(result_file): result_file = open(result_file,'a') ec2 = boto3.resource('ec2','ap-southeast-1',aws_access_key_id = 'AK', aws_secret_access_key = 'SK') instances = ec2.instances.all() for instance in instances: if instance.public_ip_address == None: result_file.writelines(instance.id + '\\t' + ' ' + '\\t' + instance.private_ip_address + '\\n') else: result_file.writelines(instance.id + '\\t' + instance.public_ip_address + '\\t' + instance.private_ip_address + '\\n') \u4e91\u8d44\u4ea7\u7ba1\u7406\u57fa\u672c\u90fd\u662f\u901a\u8fc7API\u8fdb\u884c\u7ba1\u7406\u3002 \u901a\u8fc7CMDB\u7cfb\u7edf\u8fdb\u884c\u83b7\u53d6 \u5229\u7528CMDB\u7cfb\u7edf\u7684API\u8fdb\u884c\u83b7\u53d6\uff1b \u8d44\u4ea7\u8fdb\u884c\u5173\u8054 IP\u4e0e\u57df\u540d\u8d44\u4ea7\u7684\u5173\u8054\uff1b IP\u4e0e\u7aef\u53e3\u8d44\u4ea7\u7684\u5173\u8054\uff1b \u57df\u540d\u7cfb\u7edf\u6743\u9650\u8d44\u4ea7\u7684\u7ba1\u7406\uff1b \u6211\u4eec\u9700\u8981\u5bf9\u5b89\u5168\u7684\u8d44\u4ea7\u7ba1\u7406\u7cfb\u7edf\u8fdb\u884c\u4e00\u4e2a\u597d\u7684\u6570\u636e\u5e93\u8bbe\u8ba1\u65b9\u4fbf\u6570\u636e\u5173\u8054\u67e5\u8be2\uff1b \u53c2\u8003\u8d44\u6599 \u57df\u540d\u4fe1\u606f\u6536\u96c6","title":"\u8d44\u4ea7\u7ba1\u7406\u5e73\u53f0"},{"location":"other-security-branch/asset-management/asset-acquisition/#_1","text":"\u8d44\u4ea7\u7ba1\u7406\u5173\u952e\u70b9\u5728\u4e8e\uff1a\u51c6\u786e\u6027\u3001\u5b9e\u65f6\u6027\u3001\u5b8c\u6574\u6027\u8fd93\u4e2a\u7279\u6027\uff08\u53ef\u80fd\u4e0d\u5168\uff0c\u6b22\u8fce\u8865\u5145\uff09\uff1b \u8d44\u4ea7\u5e76\u975e\u5355\u4e00\u7ef4\u5ea6\uff0c\u81ea\u8eab\u5177\u5907\u4e86\u4e1a\u52a1\u5c5e\u6027\u548c\u5b89\u5168\u5c5e\u6027\uff1b-- \u4f55\u827a","title":"\u8d44\u4ea7\u7ba1\u7406\u5e73\u53f0"},{"location":"other-security-branch/asset-management/asset-acquisition/#_2","text":"IP Host\u8d44\u4ea7 \u57df\u540d\u8d44\u4ea7 \u4e1a\u52a1\u7cfb\u7edf\u8d44\u4ea7 \u6743\u9650\u8d44\u4ea7\uff1a\u7528\u6237\uff08\u7b2c\u4e09\u65b9\u7528\u6237\u3001\u540e\u53f0\u7cfb\u7edf\u7528\u6237\uff09\u3001\u7528\u6237\u6743\u9650\u3001\u2026\u2026 \u2026\u2026","title":"\u8d44\u4ea7\u5206\u7c7b"},{"location":"other-security-branch/asset-management/asset-acquisition/#_3","text":"\u9ed1\u76d2\u8d44\u4ea7\u7ba1\u7406 \u767d\u76d2\u8d44\u4ea7\u7ba1\u7406","title":"\u8d44\u4ea7\u7ba1\u7406\u5206\u7c7b"},{"location":"other-security-branch/asset-management/asset-acquisition/#_4","text":"","title":"\u9ed1\u76d2\u8d44\u4ea7\u7ba1\u7406"},{"location":"other-security-branch/asset-management/asset-acquisition/#_5","text":"\u4e86\u89e3\u4e3b\u57df\u540d\u4fe1\u606f\uff1b \u4ece\u8bc1\u4e66\u4e2d\u83b7\u53d6\u57df\u540d\u4fe1\u606f\uff1b whois\u67e5\u8be2\uff1b \u5b57\u5178\u83b7\u53d6\u5b50\u57df\u540d\uff1b ''' \u5b50\u57df\u540d\u5b58\u6d3b\u6027\u5224\u65ad ''' def domain_survivability(domain, tmp_file): UA = { user-agent : Mozilla/5.0 AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 } try: response = requests.get(domain, verify=True, timeout=3, headers=UA) tmp_file.write(response.url + '\\n') except Exception as e: return DNS\u533a\u57df\u4f20\u8f93\u6f0f\u6d1e\uff1b \u641c\u7d22\u5f15\u64ce\uff0c\u641c\u7d22\u5de5\u5177\uff08shodan\u7b49\uff09\uff1b ASN\uff1a whois -h whois.radb.net -- '-i origin AS111111' | grep -Eo ([0-9.]+){4}/[0-9]+ | uniq nmap --script targets-asn --script-args targets-asn.asn=15169","title":"\u57df\u540d\u8d44\u4ea7"},{"location":"other-security-branch/asset-management/asset-acquisition/#iphost","text":"\u76f4\u63a5\u83b7\u53d6 \u7ed5\u8fc7CDN\u83b7\u53d6\u771f\u5b9eIP IP\u5b58\u6d3b\u6027\u626b\u63cf\uff1ashodan \u901a\u8fc7\u57df\u540d\u83b7\u53d6IP ''' \u5229\u7528\u6700\u7b80\u5355\u7684ping\u65b9\u5f0f\u6765\u83b7\u53d6\uff0c\u4e0d\u80fd\u7ed5\u8fc7CDN ''' def exec_ping(domain,precision): try: result = os.popen( ping -c 1 %s -t 3 | grep -v PING % domain) # \u6392\u9664\u4e0d\u80fdping\u901a\u7684domain text = result.read() result.close() ip = re.findall(r'\\d+.\\d+.\\d+.\\d+',text)[0] print domain, if precision == yes : precision_ip_attributes(ip) else: get_ip_attributes(ip) except Exception as e: pass","title":"IP&amp;Host\u8d44\u4ea7"},{"location":"other-security-branch/asset-management/asset-acquisition/#_6","text":"\u57fa\u4e8e\u626b\u63cf\u6765\u8fdb\u884c\uff1b \u4eba\u5de5\u8fdb\u884c\u68b3\u7406\uff0c\u7136\u540e\u5b9e\u73b0\u81ea\u52a8\u5316\uff1b \u5b8c\u6574\u7684\u7528\u6237\u6743\u9650\u7ba1\u7406\u7cfb\u7edf\uff1b","title":"\u5176\u5b83\u8d44\u4ea7"},{"location":"other-security-branch/asset-management/asset-acquisition/#_7","text":"","title":"\u767d\u76d2\u8d44\u4ea7\u7ba1\u7406"},{"location":"other-security-branch/asset-management/asset-acquisition/#_8","text":"\u963f\u91cc\u4e91\u8d44\u4ea7\u7ba1\u7406 ''' \u4ece\u963f\u91cc\u4e91\u83b7\u53d6ECS\u4fe1\u606f ''' def get_ip(result_file,clt): result_file = open(result_file,'a') for i in range(1,20): request = DescribeInstancesRequest.DescribeInstancesRequest() request.set_PageNumber(i) request.set_PageSize(10) request.set_accept_format('json') result = json.loads(clt.do_action_with_exception(request)).get('Instances').get('Instance') # \u5982\u679cresult\u4e0d\u4e3a\u7a7a\u5c31\u5199\u5165result_file\uff0c\u4e3a\u7a7a\u8bc1\u660e\u5df2\u7ecf\u83b7\u53d6\u4e86\u6240\u6709\u7684\u5b9e\u4f8b if result: for key in result: InstanceId = key['InstanceId'] # \u83b7\u53d6\u5b9e\u4f8bID Status = key['Status'] # \u83b7\u53d6\u5f53\u524d\u72b6\u6001 PrivateIP = key['VpcAttributes']['PrivateIpAddress']['IpAddress'][0] # \u79c1\u6709IP PublicIP = key['EipAddress']['IpAddress'] # \u516c\u6709IP SecurityGroup = key['InstanceName'] # \u5b89\u5168\u7ec4 RegionId = key['RegionId'] # \u5730\u533a # Area = 'aliyun' try: result_file.writelines(InstanceId + '\\t' + Status + '\\t' + PrivateIP + '\\t' + PublicIP + '\\t' + SecurityGroup + '\\t' + RegionId + '\\n') except: result_file.writelines(InstanceId + '\\t' + Status + '\\t' + PrivateIP + '\\t' + PublicIP + '\\t' + '' + '\\t' + RegionId + '\\n') else: pass \u4e9a\u9a6c\u900a\u4e91\u8d44\u4ea7\u7ba1\u7406 ''' \u83b7\u53d6aws \u4e91\u4e3b\u673a ip ''' def get_ip(result_file): result_file = open(result_file,'a') ec2 = boto3.resource('ec2','ap-southeast-1',aws_access_key_id = 'AK', aws_secret_access_key = 'SK') instances = ec2.instances.all() for instance in instances: if instance.public_ip_address == None: result_file.writelines(instance.id + '\\t' + ' ' + '\\t' + instance.private_ip_address + '\\n') else: result_file.writelines(instance.id + '\\t' + instance.public_ip_address + '\\t' + instance.private_ip_address + '\\n') \u4e91\u8d44\u4ea7\u7ba1\u7406\u57fa\u672c\u90fd\u662f\u901a\u8fc7API\u8fdb\u884c\u7ba1\u7406\u3002","title":"\u4e91\u8d44\u4ea7\u7ba1\u7406"},{"location":"other-security-branch/asset-management/asset-acquisition/#cmdb","text":"\u5229\u7528CMDB\u7cfb\u7edf\u7684API\u8fdb\u884c\u83b7\u53d6\uff1b","title":"\u901a\u8fc7CMDB\u7cfb\u7edf\u8fdb\u884c\u83b7\u53d6"},{"location":"other-security-branch/asset-management/asset-acquisition/#_9","text":"IP\u4e0e\u57df\u540d\u8d44\u4ea7\u7684\u5173\u8054\uff1b IP\u4e0e\u7aef\u53e3\u8d44\u4ea7\u7684\u5173\u8054\uff1b \u57df\u540d\u7cfb\u7edf\u6743\u9650\u8d44\u4ea7\u7684\u7ba1\u7406\uff1b \u6211\u4eec\u9700\u8981\u5bf9\u5b89\u5168\u7684\u8d44\u4ea7\u7ba1\u7406\u7cfb\u7edf\u8fdb\u884c\u4e00\u4e2a\u597d\u7684\u6570\u636e\u5e93\u8bbe\u8ba1\u65b9\u4fbf\u6570\u636e\u5173\u8054\u67e5\u8be2\uff1b","title":"\u8d44\u4ea7\u8fdb\u884c\u5173\u8054"},{"location":"other-security-branch/asset-management/asset-acquisition/#_10","text":"\u57df\u540d\u4fe1\u606f\u6536\u96c6","title":"\u53c2\u8003\u8d44\u6599"},{"location":"other-security-branch/data-security/","text":"\u6570\u636e\u5b89\u5168 \u53c2\u8003\u8d44\u6599 \u4e92\u8054\u7f51\u4f01\u4e1a\u6570\u636e\u5b89\u5168\u4f53\u7cfb\u5efa\u8bbe-\u8d75\u5f66 \u4e92\u8054\u7f51\u516c\u53f8\u6570\u636e\u5b89\u5168\u4fdd\u62a4\u65b0\u63a2\u7d22-\u6234\u9e4f\u98de \u7f8e\u56e2\u9152\u65c5\u8d77\u6e90\u6570\u636e\u6cbb\u7406\u5e73\u53f0\u7684\u5efa\u8bbe\u4e0e\u5b9e\u8df5 \u7f8e\u56e2\u5c06\u519b\u4ee4\uff1a\u6570\u636e\u5b89\u5168\u5e73\u53f0\u5efa\u8bbe\u5b9e\u8df5 \u91d1\u878d\u4f01\u4e1a\u6570\u636e\u5b89\u5168\u5efa\u8bbe\u5b9e\u8df5\u7cfb\u5217\uff08\u4e00\uff09\u4e00\u7fd4 \u91d1\u878d\u4f01\u4e1a\u6570\u636e\u5b89\u5168\u5efa\u8bbe\u5b9e\u8df5\u7cfb\u5217\uff08\u4e8c\uff09\u4e00\u7fd4 \u4ece\u751f\u4ea7\u5b89\u5168\u4f53\u7cfb\u89c6\u89d2\u770b\u6570\u636e\u5b89\u5168-\u65b9\u5174 \u4f01\u4e1a\u6570\u636e\u5b89\u5168\u5efa\u8bbe\u7684\u7ecf\u5386\u4e0e\u5b9e\u8df5 \u5b9c\u4eba\u8d37\u6570\u636e\u5b89\u5168\u63a2\u7d22 \u675c\u8dc3\u8fdb\uff1a\u6570\u636e\u5b89\u5168\u6cbb\u7406\u7684\u51e0\u4e2a\u57fa\u672c\u95ee\u9898 \u6570\u636e\u5b89\u5168\u7684\u5fc5\u7531\u4e4b\u8def\u2014\u6570\u636e\u5b89\u5168\u6cbb\u7406\uff08\u5b89\u534e\u91d1\u548c\uff09 \u6570\u636e\u5b89\u5168\u6cbb\u7406\u4e2d\u7684\u6570\u636e\u5206\u7ea7\u5206\u7c7b\u5efa\u8bae\uff08\u5b89\u534e\u91d1\u548c\uff09 \u6570\u636e\u5b89\u5168\uff1a\u6570\u636e\u9632\u6cc4\u5bc6\u5efa\u8bbe-\u7eff\u76df \u6d45\u6790\u5546\u4e1a\u94f6\u884c\u6570\u636e\u5b89\u5168\u4fdd\u62a4\u4f53\u7cfb\u5efa\u8bbe\u601d\u8def-\u7eff\u76df \u4e00\u4e2a\u4eba\u7684\u5b89\u5168\u90e8\u4e4b\u5927\u8bdd\u4f01\u4e1a\u6570\u636e\u5b89\u5168\u4fdd\u62a4","title":"\u6570\u636e\u5b89\u5168"},{"location":"other-security-branch/data-security/#_1","text":"","title":"\u6570\u636e\u5b89\u5168"},{"location":"other-security-branch/data-security/#_2","text":"\u4e92\u8054\u7f51\u4f01\u4e1a\u6570\u636e\u5b89\u5168\u4f53\u7cfb\u5efa\u8bbe-\u8d75\u5f66 \u4e92\u8054\u7f51\u516c\u53f8\u6570\u636e\u5b89\u5168\u4fdd\u62a4\u65b0\u63a2\u7d22-\u6234\u9e4f\u98de \u7f8e\u56e2\u9152\u65c5\u8d77\u6e90\u6570\u636e\u6cbb\u7406\u5e73\u53f0\u7684\u5efa\u8bbe\u4e0e\u5b9e\u8df5 \u7f8e\u56e2\u5c06\u519b\u4ee4\uff1a\u6570\u636e\u5b89\u5168\u5e73\u53f0\u5efa\u8bbe\u5b9e\u8df5 \u91d1\u878d\u4f01\u4e1a\u6570\u636e\u5b89\u5168\u5efa\u8bbe\u5b9e\u8df5\u7cfb\u5217\uff08\u4e00\uff09\u4e00\u7fd4 \u91d1\u878d\u4f01\u4e1a\u6570\u636e\u5b89\u5168\u5efa\u8bbe\u5b9e\u8df5\u7cfb\u5217\uff08\u4e8c\uff09\u4e00\u7fd4 \u4ece\u751f\u4ea7\u5b89\u5168\u4f53\u7cfb\u89c6\u89d2\u770b\u6570\u636e\u5b89\u5168-\u65b9\u5174 \u4f01\u4e1a\u6570\u636e\u5b89\u5168\u5efa\u8bbe\u7684\u7ecf\u5386\u4e0e\u5b9e\u8df5 \u5b9c\u4eba\u8d37\u6570\u636e\u5b89\u5168\u63a2\u7d22 \u675c\u8dc3\u8fdb\uff1a\u6570\u636e\u5b89\u5168\u6cbb\u7406\u7684\u51e0\u4e2a\u57fa\u672c\u95ee\u9898 \u6570\u636e\u5b89\u5168\u7684\u5fc5\u7531\u4e4b\u8def\u2014\u6570\u636e\u5b89\u5168\u6cbb\u7406\uff08\u5b89\u534e\u91d1\u548c\uff09 \u6570\u636e\u5b89\u5168\u6cbb\u7406\u4e2d\u7684\u6570\u636e\u5206\u7ea7\u5206\u7c7b\u5efa\u8bae\uff08\u5b89\u534e\u91d1\u548c\uff09 \u6570\u636e\u5b89\u5168\uff1a\u6570\u636e\u9632\u6cc4\u5bc6\u5efa\u8bbe-\u7eff\u76df \u6d45\u6790\u5546\u4e1a\u94f6\u884c\u6570\u636e\u5b89\u5168\u4fdd\u62a4\u4f53\u7cfb\u5efa\u8bbe\u601d\u8def-\u7eff\u76df \u4e00\u4e2a\u4eba\u7684\u5b89\u5168\u90e8\u4e4b\u5927\u8bdd\u4f01\u4e1a\u6570\u636e\u5b89\u5168\u4fdd\u62a4","title":"\u53c2\u8003\u8d44\u6599"},{"location":"other-security-branch/data-security/big-data-security/","text":"\u5927\u6570\u636e\u5b89\u5168 \u53c2\u8003\u8d44\u6599 \u5927\u6570\u636e\u5b89\u5168","title":"\u5927\u6570\u636e\u5b89\u5168"},{"location":"other-security-branch/data-security/big-data-security/#_1","text":"","title":"\u5927\u6570\u636e\u5b89\u5168"},{"location":"other-security-branch/data-security/big-data-security/#_2","text":"\u5927\u6570\u636e\u5b89\u5168","title":"\u53c2\u8003\u8d44\u6599"},{"location":"other-security-branch/emergency-response/chkrootkit/","text":"chkrootkit Linux\u5165\u4fb5\u68c0\u6d4b \u68c0\u67e5\u7cfb\u7edf\u4e8c\u8fdb\u5236\u6587\u4ef6\u662f\u5426\u88abrootkit\u75c5\u6bd2\u4fee\u6539\u7684\u4e00\u4e2ashell\u811a\u672c \u5b98\u7f51\u5730\u5740 chkrootkit\u4f7f\u7528 # \u65e0\u9700\u5b89\u88c5\uff0c\u4e0b\u8f7d\u89e3\u538b\u5373\u53ef\u4f7f\u7528 wget ftp://ftp.pangeia.com.br/pub/seg/pac/chkrootkit.tar.gz tar -xf chkrootkit.tar.gz cd chkrootkit-0.52 ./chkrootkit -n \u53c2\u6570\u8bf4\u660e -h:\u67e5\u770b\u5e2e\u52a9 -V:\u663e\u793a\u7248\u672c\u4fe1\u606f -l:\u663e\u793a\u53ef\u6d4b\u8bd5\u5185\u5bb9 -d:debug -q:\u5b89\u9759\u6a21\u5f0f -x:\u4e13\u5bb6\u6a21\u5f0f -r dir:\u4f7f\u7528dir\u76ee\u5f55\u4f5c\u4e3a\u6839\u76ee\u5f55 -p dir1:dir2:dirN -n:\u8df3\u8fc7NFS\u6302\u8f7d\u76ee\u5f55","title":"chkrootkit Linux\u5165\u4fb5\u68c0\u6d4b"},{"location":"other-security-branch/emergency-response/chkrootkit/#chkrootkit-linux","text":"\u68c0\u67e5\u7cfb\u7edf\u4e8c\u8fdb\u5236\u6587\u4ef6\u662f\u5426\u88abrootkit\u75c5\u6bd2\u4fee\u6539\u7684\u4e00\u4e2ashell\u811a\u672c \u5b98\u7f51\u5730\u5740","title":"chkrootkit Linux\u5165\u4fb5\u68c0\u6d4b"},{"location":"other-security-branch/emergency-response/chkrootkit/#chkrootkit","text":"# \u65e0\u9700\u5b89\u88c5\uff0c\u4e0b\u8f7d\u89e3\u538b\u5373\u53ef\u4f7f\u7528 wget ftp://ftp.pangeia.com.br/pub/seg/pac/chkrootkit.tar.gz tar -xf chkrootkit.tar.gz cd chkrootkit-0.52 ./chkrootkit -n","title":"chkrootkit\u4f7f\u7528"},{"location":"other-security-branch/emergency-response/chkrootkit/#_1","text":"-h:\u67e5\u770b\u5e2e\u52a9 -V:\u663e\u793a\u7248\u672c\u4fe1\u606f -l:\u663e\u793a\u53ef\u6d4b\u8bd5\u5185\u5bb9 -d:debug -q:\u5b89\u9759\u6a21\u5f0f -x:\u4e13\u5bb6\u6a21\u5f0f -r dir:\u4f7f\u7528dir\u76ee\u5f55\u4f5c\u4e3a\u6839\u76ee\u5f55 -p dir1:dir2:dirN -n:\u8df3\u8fc7NFS\u6302\u8f7d\u76ee\u5f55","title":"\u53c2\u6570\u8bf4\u660e"},{"location":"other-security-branch/emergency-response/lynis/","text":"lynis Linux\u5b89\u5168\u5ba1\u8ba1\u5de5\u5177 github\u5730\u5740 \u4f7f\u7528\u65b9\u5f0f git clone https://github.com/CISOfy/Lynis cd Lynis # \u67e5\u770b\u5e2e\u52a9 ./lynis -h # \u6267\u884c\u5ba1\u8ba1 ./lynis audit system","title":"lynis Linux\u5b89\u5168\u5ba1\u8ba1\u5de5\u5177"},{"location":"other-security-branch/emergency-response/lynis/#lynis-linux","text":"github\u5730\u5740","title":"lynis Linux\u5b89\u5168\u5ba1\u8ba1\u5de5\u5177"},{"location":"other-security-branch/emergency-response/lynis/#_1","text":"git clone https://github.com/CISOfy/Lynis cd Lynis # \u67e5\u770b\u5e2e\u52a9 ./lynis -h # \u6267\u884c\u5ba1\u8ba1 ./lynis audit system","title":"\u4f7f\u7528\u65b9\u5f0f"},{"location":"other-security-branch/emergency-response/rkhunter/","text":"rkhunter Linux\u5165\u4fb5\u68c0\u6d4b \u5b98\u7f51\u5730\u5740 \u4e0b\u8f7d\u5730\u5740 \u5b89\u88c5\u4e0e\u4f7f\u7528 centos7\u5b89\u88c5rkhunter wget https://nchc.dl.sourceforge.net/project/rkhunter/rkhunter/1.4.6/rkhunter-1.4.6.tar.gz tar -xf rkhunter-1.4.6.tar.gz cd rkhunter-1.4.6 ./installer.sh --install \u4f7f\u7528 # \u68c0\u67e5 rkhunter --check # \u68c0\u67e5\u4e0d\u9700\u8981\u7528\u6237\u6267\u884center\u8fdb\u884c\u786e\u8ba4 rkhunter --check --skip-keypress","title":"rkhunter Linux\u5165\u4fb5\u68c0\u6d4b"},{"location":"other-security-branch/emergency-response/rkhunter/#rkhunter-linux","text":"\u5b98\u7f51\u5730\u5740 \u4e0b\u8f7d\u5730\u5740","title":"rkhunter Linux\u5165\u4fb5\u68c0\u6d4b"},{"location":"other-security-branch/emergency-response/rkhunter/#_1","text":"","title":"\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"other-security-branch/emergency-response/rkhunter/#centos7rkhunter","text":"wget https://nchc.dl.sourceforge.net/project/rkhunter/rkhunter/1.4.6/rkhunter-1.4.6.tar.gz tar -xf rkhunter-1.4.6.tar.gz cd rkhunter-1.4.6 ./installer.sh --install","title":"centos7\u5b89\u88c5rkhunter"},{"location":"other-security-branch/emergency-response/rkhunter/#_2","text":"# \u68c0\u67e5 rkhunter --check # \u68c0\u67e5\u4e0d\u9700\u8981\u7528\u6237\u6267\u884center\u8fdb\u884c\u786e\u8ba4 rkhunter --check --skip-keypress","title":"\u4f7f\u7528"},{"location":"other-security-branch/identity-and-access-security/freeipa/","text":"\u57fa\u4e8eLinux\u5f00\u6e90\u8eab\u4efd\u8ba4\u8bc1\u4f53\u7cfbFreeIPA \u5b98\u7f51\u5730\u5740 \u5b89\u88c5\u4e0e\u4f7f\u7528 Centos7\u5b89\u88c5FreeIPA \u5b98\u65b9\u5b89\u88c5\u6587\u6863 # \u914d\u7f6e\u4e00\u4e2aDNS\u89e3\u6790\u8bb0\u5f55 echo 10.10.10.5 ipa.bloodzer0.com ipa /etc/hosts echo ipa.bloodzer0.com /etc/hostname # \u5b89\u88c5ipa-server yum install ipa-server.x86_64 ipa-server-dns.noarch -y # \u5f00\u59cb\u914d\u7f6e\uff0c\u914d\u7f6e\u5728\u4e0b\u6587 ipa-server-install # \u5173\u95ed\u9632\u706b\u5899 setenforce 0 systemctl stop firewalld.service # \u8bbf\u95eehttps://ipa.bloodzer0.com # \u5982\u679c\u4f60\u662f\u5916\u90e8\u8bbf\u95ee\uff0c\u8bb0\u5f97\u5728hosts\u6587\u4ef6\u4e2d\u6dfb\u52a0\u89e3\u6790 # \u7528\u6237\u540d\uff1aadmin \u5bc6\u7801\uff1a\u4f60\u4e4b\u524d\u8bbe\u7f6e\u7684\u5bc6\u7801 \u5b89\u88c5\u8fc7\u7a0b\u4e2d\u7684\u914d\u7f6e Do you want to configure integrated DNS (BIND)? [no]: yes Server host name [ipa.bloodzer0.com]: ipa.bloodzer0.com Please confirm the domain name [bloodzer0.com]: bloodzer0.com Please provide a realm name [BLOODZER0.COM]: BLOODZER0.COM Directory Manager password: # \u8f93\u5165\u4f60\u7684\u5bc6\u7801\uff08\u6d3b\u52a8\u76ee\u5f55\uff09 Password (confirm): # \u786e\u8ba4\u4f60\u7684\u5bc6\u7801 IPA admin password: # ipa admin\u5bc6\u7801 Password (confirm): # \u786e\u8ba4\u5bc6\u7801 Do you want to configure DNS forwarders? [yes]: yes Do you want to configure these servers as DNS forwarders? [yes]: yes Enter an IP address for a DNS forwarder, or press Enter to skip: # \u76f4\u63a5\u56de\u8f66 Do you want to search for missing reverse zones? [yes]: yes Do you want to create reverse zone for IP 10.10.10.5 [yes]: yes Please specify the reverse zone name [10.10.10.in-addr.arpa.]: 10.10.10.in-addr.arpa. Continue to configure the system with these values? [no]: yes # \u914d\u7f6e\u5b8c\u6210\uff0c\u7b49\u5f85\u5b89\u88c5 \u8bbf\u95eeWeb\u754c\u9762 freeipa\u4f7f\u7528 # \u67e5\u770b\u4fe1\u606f ldapsearch -H ldap://ipa.bloodzer0.com -x -D 'cn=Directory Manager' -W -LLL -Z '(uid=admin)' \u8e29\u5751\u8bb0 \u5b89\u88c5\u62a5\u9519 [error] CalledProcessError: Command '/bin/systemctl start certmonger.service' returned non-zero exit status 1 \u89e3\u51b3\u65b9\u6848 # \u5728yum install ipa-server.x86_64 ipa-server-dns.noarch -y\u8fd9\u4e00\u6b65\u540e\u6267\u884c\u5982\u4e0b\u64cd\u4f5c systemctl restart dbus.service","title":"\u57fa\u4e8eLinux\u5f00\u6e90\u8eab\u4efd\u8ba4\u8bc1\u4f53\u7cfbFreeIPA"},{"location":"other-security-branch/identity-and-access-security/freeipa/#linuxfreeipa","text":"\u5b98\u7f51\u5730\u5740","title":"\u57fa\u4e8eLinux\u5f00\u6e90\u8eab\u4efd\u8ba4\u8bc1\u4f53\u7cfbFreeIPA"},{"location":"other-security-branch/identity-and-access-security/freeipa/#_1","text":"","title":"\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"other-security-branch/identity-and-access-security/freeipa/#centos7freeipa","text":"\u5b98\u65b9\u5b89\u88c5\u6587\u6863 # \u914d\u7f6e\u4e00\u4e2aDNS\u89e3\u6790\u8bb0\u5f55 echo 10.10.10.5 ipa.bloodzer0.com ipa /etc/hosts echo ipa.bloodzer0.com /etc/hostname # \u5b89\u88c5ipa-server yum install ipa-server.x86_64 ipa-server-dns.noarch -y # \u5f00\u59cb\u914d\u7f6e\uff0c\u914d\u7f6e\u5728\u4e0b\u6587 ipa-server-install # \u5173\u95ed\u9632\u706b\u5899 setenforce 0 systemctl stop firewalld.service # \u8bbf\u95eehttps://ipa.bloodzer0.com # \u5982\u679c\u4f60\u662f\u5916\u90e8\u8bbf\u95ee\uff0c\u8bb0\u5f97\u5728hosts\u6587\u4ef6\u4e2d\u6dfb\u52a0\u89e3\u6790 # \u7528\u6237\u540d\uff1aadmin \u5bc6\u7801\uff1a\u4f60\u4e4b\u524d\u8bbe\u7f6e\u7684\u5bc6\u7801 \u5b89\u88c5\u8fc7\u7a0b\u4e2d\u7684\u914d\u7f6e Do you want to configure integrated DNS (BIND)? [no]: yes Server host name [ipa.bloodzer0.com]: ipa.bloodzer0.com Please confirm the domain name [bloodzer0.com]: bloodzer0.com Please provide a realm name [BLOODZER0.COM]: BLOODZER0.COM Directory Manager password: # \u8f93\u5165\u4f60\u7684\u5bc6\u7801\uff08\u6d3b\u52a8\u76ee\u5f55\uff09 Password (confirm): # \u786e\u8ba4\u4f60\u7684\u5bc6\u7801 IPA admin password: # ipa admin\u5bc6\u7801 Password (confirm): # \u786e\u8ba4\u5bc6\u7801 Do you want to configure DNS forwarders? [yes]: yes Do you want to configure these servers as DNS forwarders? [yes]: yes Enter an IP address for a DNS forwarder, or press Enter to skip: # \u76f4\u63a5\u56de\u8f66 Do you want to search for missing reverse zones? [yes]: yes Do you want to create reverse zone for IP 10.10.10.5 [yes]: yes Please specify the reverse zone name [10.10.10.in-addr.arpa.]: 10.10.10.in-addr.arpa. Continue to configure the system with these values? [no]: yes # \u914d\u7f6e\u5b8c\u6210\uff0c\u7b49\u5f85\u5b89\u88c5 \u8bbf\u95eeWeb\u754c\u9762","title":"Centos7\u5b89\u88c5FreeIPA"},{"location":"other-security-branch/identity-and-access-security/freeipa/#freeipa","text":"# \u67e5\u770b\u4fe1\u606f ldapsearch -H ldap://ipa.bloodzer0.com -x -D 'cn=Directory Manager' -W -LLL -Z '(uid=admin)'","title":"freeipa\u4f7f\u7528"},{"location":"other-security-branch/identity-and-access-security/freeipa/#_2","text":"","title":"\u8e29\u5751\u8bb0"},{"location":"other-security-branch/identity-and-access-security/freeipa/#_3","text":"[error] CalledProcessError: Command '/bin/systemctl start certmonger.service' returned non-zero exit status 1 \u89e3\u51b3\u65b9\u6848 # \u5728yum install ipa-server.x86_64 ipa-server-dns.noarch -y\u8fd9\u4e00\u6b65\u540e\u6267\u884c\u5982\u4e0b\u64cd\u4f5c systemctl restart dbus.service","title":"\u5b89\u88c5\u62a5\u9519"},{"location":"other-security-branch/security-operation/security-platform/","text":"\u4e2d\u5c0f\u578b\u4f01\u4e1a\u81ea\u5efa\u5b89\u5168\u5e73\u53f0 \u5907\u6ce81\uff1a\u672c\u6587\u662f\u4e00\u4e2a\u5b89\u5168\u5e73\u53f0\u5efa\u8bbe\u601d\u8def\u7684\u6587\u7ae0\uff0c\u8be6\u7ec6\u7684\u5b9e\u73b0\u90e8\u5206\u5c06\u4f1a\u5728\u540e\u7eed\u51e0\u7bc7\u4e2d\u66f4\u65b0\u51fa\u6765 \u5907\u6ce82\uff1a\u672c\u6587\u662f\u4f5c\u8005\u81ea\u5df1\u6240\u5728\u516c\u53f8\u7684\u5b89\u5168\u5e73\u53f0\u5efa\u8bbe\u4e4b\u8def\uff0c\u53ef\u80fd\u4e0d\u662f\u901a\u7528\u573a\u666f\uff0c\u4e5f\u53ef\u80fd\u89c1\u8bc6\u4e0d\u591f\uff0c\u6b22\u8fce\u5927\u5bb6diss \u4e3a\u4ec0\u4e48\u8981\u81ea\u5efa\u5b89\u5168\u5e73\u53f0 \u4e3a\u4e86\u89e3\u51b3\u5e38\u89c4\u5b89\u5168\u5de5\u4f5c\u81ea\u52a8\u5316\u3001\u5b89\u5168\u5de5\u4f5c\u7684\u7edf\u4e00\u7ba1\u7406\u4ee5\u53ca\u5b89\u5168\u5de5\u4f5c\u91cf\u5316\u7b49\uff0c\u5f88\u591a\u516c\u53f8\u5728\u5b89\u5168\u8fbe\u5230\u4e86\u4e00\u5b9a\u89c4\u6a21\u7684\u60c5\u51b5\u4e0b\u4f1a\u81ea\u5efa\u5b89\u5168\u5e73\u53f0\u3002\u8fd9\u91cc\u7684\u5b89\u5168\u5e73\u53f0\u4e0e\u5b89\u5168\u8fd0\u8425\u4e2d\u5fc3\uff08SOC\uff09\u662f\u6709\u4e00\u5b9a\u7684\u5dee\u5f02\u7684\uff0c\u5b89\u5168\u5e73\u53f0\u7684\u542b\u4e49\u66f4\u52a0\u5e7f\u6cdb\u3002 \u9996\u5148\u56de\u7b54\u51e0\u4e2a\u95ee\u9898 Q\uff1a\u5b89\u5168\u5e73\u53f0\u7684\u610f\u4e49\u662f\u4ec0\u4e48\uff1f A\uff1a\u5b89\u5168\u5e73\u53f0\u66f4\u591a\u7684\u662f\u5c06\u5f88\u591a\u5e38\u89c4\u7684\u5b89\u5168\u5de5\u4f5c\u96c6\u4e2d\u5230\u4e00\u4e2a\u5e73\u53f0\u4e2d\u5e76\u4e14\u9010\u6b65\u5b9e\u73b0\u81ea\u52a8\u5316\u7684\u8fc7\u7a0b\u3002 Q\uff1a\u4f60\u7406\u89e3\u7684\u5b89\u5168\u5e73\u53f0\u5305\u62ec\u54ea\u4e9b\uff1f A\uff1a\u5b89\u5168\u8d44\u4ea7\u7ba1\u7406\uff1a\u5b89\u5168\u7684\u8d44\u4ea7\u7ba1\u7406\u4e0e\u8fd0\u7ef4CMDB\u6709\u4ea4\u96c6\uff0c\u4f46\u662f\u901a\u8fc7\u672c\u4eba\u4e0e\u8fd0\u7ef4\u540c\u4e8b\u7684\u6c9f\u901a\u53d1\u73b0\u4e8c\u8005\u7684\u9700\u6c42\u5728\u5b9e\u73b0\u4e0a\u8981\u8fbe\u5230\u5171\u5b58\u96be\u5ea6\u5f88\u9ad8\uff1b\u8fd8\u5305\u62ec\u5b89\u5168\u626b\u63cf\u3001\u6f0f\u6d1e\u7ba1\u7406\u7b49\uff0c\u8be6\u7ec6\u7684\u5185\u5bb9\uff0c\u6211\u5c06\u4f1a\u5728\u4e0b\u4e00\u8282\u5c55\u793a\u51fa\u6765\u3002 Q\uff1a\u4f60\u63d0\u5230\u7684\u5b89\u5168\u626b\u63cf\u3001\u6f0f\u6d1e\u7ba1\u7406\u8fd9\u4e9b\u90fd\u6709\u5f00\u6e90\u7684\u5de5\u5177\uff0c\u4e3a\u4ec0\u4e48\u8981\u9009\u62e9\u91cd\u590d\u9020\u8f6e\u5b50\uff1f A\uff1a\u4e2d\u5c0f\u578b\u4f01\u4e1a\u5f53\u9010\u6b65\u4ece\u6551\u706b\u9636\u6bb5\u8fc7\u6e21\u5230\u4f01\u4e1a\u5b89\u5168\u5efa\u8bbe\u7684\u65f6\u5019\uff0c\u6211\u4eec\u9700\u8981\u901a\u8fc7\u9020\u8f6e\u5b50\u9009\u62e9\u51fa\u6700\u9002\u5408\u81ea\u5df1\u516c\u53f8\u7684\u6a21\u5f0f\u3002 Q\uff1a\u5176\u4ed6\u95ee\u9898\u7b49\u6211\u60f3\u5230\uff0c\u518d\u7ee7\u7eed\u66f4\u65b0\u5427\uff01 \u4e00\u4e2a\u5b89\u5168\u5e73\u53f0\u5e94\u8be5\u5305\u62ec\u54ea\u4e9b\u4e1c\u897f xmind\u7248\u672c \u5bc6\u7801:0jkd \u4ee3\u7801\u5b9e\u73b0 \u6b32\u77e5\u540e\u4e8b\u5982\u4f55\uff0c\u4e14\u542c\u4e0b\u56de\u5206\u89e3\u3002","title":"\u4e2d\u5c0f\u578b\u4f01\u4e1a\u81ea\u5efa\u5b89\u5168\u5e73\u53f0"},{"location":"other-security-branch/security-operation/security-platform/#_1","text":"\u5907\u6ce81\uff1a\u672c\u6587\u662f\u4e00\u4e2a\u5b89\u5168\u5e73\u53f0\u5efa\u8bbe\u601d\u8def\u7684\u6587\u7ae0\uff0c\u8be6\u7ec6\u7684\u5b9e\u73b0\u90e8\u5206\u5c06\u4f1a\u5728\u540e\u7eed\u51e0\u7bc7\u4e2d\u66f4\u65b0\u51fa\u6765 \u5907\u6ce82\uff1a\u672c\u6587\u662f\u4f5c\u8005\u81ea\u5df1\u6240\u5728\u516c\u53f8\u7684\u5b89\u5168\u5e73\u53f0\u5efa\u8bbe\u4e4b\u8def\uff0c\u53ef\u80fd\u4e0d\u662f\u901a\u7528\u573a\u666f\uff0c\u4e5f\u53ef\u80fd\u89c1\u8bc6\u4e0d\u591f\uff0c\u6b22\u8fce\u5927\u5bb6diss","title":"\u4e2d\u5c0f\u578b\u4f01\u4e1a\u81ea\u5efa\u5b89\u5168\u5e73\u53f0"},{"location":"other-security-branch/security-operation/security-platform/#_2","text":"\u4e3a\u4e86\u89e3\u51b3\u5e38\u89c4\u5b89\u5168\u5de5\u4f5c\u81ea\u52a8\u5316\u3001\u5b89\u5168\u5de5\u4f5c\u7684\u7edf\u4e00\u7ba1\u7406\u4ee5\u53ca\u5b89\u5168\u5de5\u4f5c\u91cf\u5316\u7b49\uff0c\u5f88\u591a\u516c\u53f8\u5728\u5b89\u5168\u8fbe\u5230\u4e86\u4e00\u5b9a\u89c4\u6a21\u7684\u60c5\u51b5\u4e0b\u4f1a\u81ea\u5efa\u5b89\u5168\u5e73\u53f0\u3002\u8fd9\u91cc\u7684\u5b89\u5168\u5e73\u53f0\u4e0e\u5b89\u5168\u8fd0\u8425\u4e2d\u5fc3\uff08SOC\uff09\u662f\u6709\u4e00\u5b9a\u7684\u5dee\u5f02\u7684\uff0c\u5b89\u5168\u5e73\u53f0\u7684\u542b\u4e49\u66f4\u52a0\u5e7f\u6cdb\u3002 \u9996\u5148\u56de\u7b54\u51e0\u4e2a\u95ee\u9898 Q\uff1a\u5b89\u5168\u5e73\u53f0\u7684\u610f\u4e49\u662f\u4ec0\u4e48\uff1f A\uff1a\u5b89\u5168\u5e73\u53f0\u66f4\u591a\u7684\u662f\u5c06\u5f88\u591a\u5e38\u89c4\u7684\u5b89\u5168\u5de5\u4f5c\u96c6\u4e2d\u5230\u4e00\u4e2a\u5e73\u53f0\u4e2d\u5e76\u4e14\u9010\u6b65\u5b9e\u73b0\u81ea\u52a8\u5316\u7684\u8fc7\u7a0b\u3002 Q\uff1a\u4f60\u7406\u89e3\u7684\u5b89\u5168\u5e73\u53f0\u5305\u62ec\u54ea\u4e9b\uff1f A\uff1a\u5b89\u5168\u8d44\u4ea7\u7ba1\u7406\uff1a\u5b89\u5168\u7684\u8d44\u4ea7\u7ba1\u7406\u4e0e\u8fd0\u7ef4CMDB\u6709\u4ea4\u96c6\uff0c\u4f46\u662f\u901a\u8fc7\u672c\u4eba\u4e0e\u8fd0\u7ef4\u540c\u4e8b\u7684\u6c9f\u901a\u53d1\u73b0\u4e8c\u8005\u7684\u9700\u6c42\u5728\u5b9e\u73b0\u4e0a\u8981\u8fbe\u5230\u5171\u5b58\u96be\u5ea6\u5f88\u9ad8\uff1b\u8fd8\u5305\u62ec\u5b89\u5168\u626b\u63cf\u3001\u6f0f\u6d1e\u7ba1\u7406\u7b49\uff0c\u8be6\u7ec6\u7684\u5185\u5bb9\uff0c\u6211\u5c06\u4f1a\u5728\u4e0b\u4e00\u8282\u5c55\u793a\u51fa\u6765\u3002 Q\uff1a\u4f60\u63d0\u5230\u7684\u5b89\u5168\u626b\u63cf\u3001\u6f0f\u6d1e\u7ba1\u7406\u8fd9\u4e9b\u90fd\u6709\u5f00\u6e90\u7684\u5de5\u5177\uff0c\u4e3a\u4ec0\u4e48\u8981\u9009\u62e9\u91cd\u590d\u9020\u8f6e\u5b50\uff1f A\uff1a\u4e2d\u5c0f\u578b\u4f01\u4e1a\u5f53\u9010\u6b65\u4ece\u6551\u706b\u9636\u6bb5\u8fc7\u6e21\u5230\u4f01\u4e1a\u5b89\u5168\u5efa\u8bbe\u7684\u65f6\u5019\uff0c\u6211\u4eec\u9700\u8981\u901a\u8fc7\u9020\u8f6e\u5b50\u9009\u62e9\u51fa\u6700\u9002\u5408\u81ea\u5df1\u516c\u53f8\u7684\u6a21\u5f0f\u3002 Q\uff1a\u5176\u4ed6\u95ee\u9898\u7b49\u6211\u60f3\u5230\uff0c\u518d\u7ee7\u7eed\u66f4\u65b0\u5427\uff01","title":"\u4e3a\u4ec0\u4e48\u8981\u81ea\u5efa\u5b89\u5168\u5e73\u53f0"},{"location":"other-security-branch/security-operation/security-platform/#_3","text":"xmind\u7248\u672c \u5bc6\u7801:0jkd","title":"\u4e00\u4e2a\u5b89\u5168\u5e73\u53f0\u5e94\u8be5\u5305\u62ec\u54ea\u4e9b\u4e1c\u897f"},{"location":"other-security-branch/security-operation/security-platform/#_4","text":"\u6b32\u77e5\u540e\u4e8b\u5982\u4f55\uff0c\u4e14\u542c\u4e0b\u56de\u5206\u89e3\u3002","title":"\u4ee3\u7801\u5b9e\u73b0"},{"location":"other-security-branch/virtualization-security/docker-security/","text":"Docker\u5b89\u5168\u603b\u7ed3 docker\u4e0e\u865a\u62df\u673a\u7684\u533a\u522b \u5bb9\u5668\uff1a\u865a\u62df\u64cd\u4f5c\u7cfb\u7edf \u865a\u62df\u673a\uff1a\u865a\u62df\u786c\u4ef6 \u53c2\u8003\u8d44\u6599 Docker\u5b89\u5168\u5165\u95e8\u4e0e\u5b9e\u6218\uff08\u4e00\uff09 Docker\u5b89\u5168\u5165\u95e8\u4e0e\u5b9e\u6218\uff08\u4e8c\uff09 Docker\u5b89\u5168\u5165\u95e8\u4e0e\u5b9e\u6218\uff08\u4e09\uff09 Docker\u5b89\u5168\u5165\u95e8\u4e0e\u5b9e\u6218\uff08\u56db\uff09 Docker\u5168\u9762\u7684\u5b89\u5168\u9632\u62a4","title":"Docker\u5b89\u5168\u603b\u7ed3"},{"location":"other-security-branch/virtualization-security/docker-security/#docker","text":"","title":"Docker\u5b89\u5168\u603b\u7ed3"},{"location":"other-security-branch/virtualization-security/docker-security/#docker_1","text":"\u5bb9\u5668\uff1a\u865a\u62df\u64cd\u4f5c\u7cfb\u7edf \u865a\u62df\u673a\uff1a\u865a\u62df\u786c\u4ef6","title":"docker\u4e0e\u865a\u62df\u673a\u7684\u533a\u522b"},{"location":"other-security-branch/virtualization-security/docker-security/#_1","text":"Docker\u5b89\u5168\u5165\u95e8\u4e0e\u5b9e\u6218\uff08\u4e00\uff09 Docker\u5b89\u5168\u5165\u95e8\u4e0e\u5b9e\u6218\uff08\u4e8c\uff09 Docker\u5b89\u5168\u5165\u95e8\u4e0e\u5b9e\u6218\uff08\u4e09\uff09 Docker\u5b89\u5168\u5165\u95e8\u4e0e\u5b9e\u6218\uff08\u56db\uff09 Docker\u5168\u9762\u7684\u5b89\u5168\u9632\u62a4","title":"\u53c2\u8003\u8d44\u6599"}]}